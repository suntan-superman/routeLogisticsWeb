function vee(r,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in r)){const s=Object.getOwnPropertyDescriptor(i,n);s&&Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();var iRe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uk(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var oC={exports:{}},Ux={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR;function yee(){if(MR)return Ux;MR=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,n,s){var a=null;if(s!==void 0&&(a=""+s),n.key!==void 0&&(a=""+n.key),"key"in n){s={};for(var o in n)o!=="key"&&(s[o]=n[o])}else s=n;return n=s.ref,{$$typeof:r,type:i,key:a,ref:n!==void 0?n:null,props:s}}return Ux.Fragment=t,Ux.jsx=e,Ux.jsxs=e,Ux}var wR;function xee(){return wR||(wR=1,oC.exports=yee()),oC.exports}var x=xee(),lC={exports:{}},gr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR;function Mee(){if(TR)return gr;TR=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),p=Symbol.iterator;function m(ae){return ae===null||typeof ae!="object"?null:(ae=p&&ae[p]||ae["@@iterator"],typeof ae=="function"?ae:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,w={};function b(ae,L,Y){this.props=ae,this.context=L,this.refs=w,this.updater=Y||y}b.prototype.isReactComponent={},b.prototype.setState=function(ae,L){if(typeof ae!="object"&&typeof ae!="function"&&ae!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ae,L,"setState")},b.prototype.forceUpdate=function(ae){this.updater.enqueueForceUpdate(this,ae,"forceUpdate")};function D(){}D.prototype=b.prototype;function E(ae,L,Y){this.props=ae,this.context=L,this.refs=w,this.updater=Y||y}var N=E.prototype=new D;N.constructor=E,M(N,b.prototype),N.isPureReactComponent=!0;var B=Array.isArray;function P(){}var C={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function _(ae,L,Y){var G=Y.ref;return{$$typeof:r,type:ae,key:L,ref:G!==void 0?G:null,props:Y}}function H(ae,L){return _(ae.type,L,ae.props)}function j(ae){return typeof ae=="object"&&ae!==null&&ae.$$typeof===r}function z(ae){var L={"=":"=0",":":"=2"};return"$"+ae.replace(/[=:]/g,function(Y){return L[Y]})}var F=/\/+/g;function X(ae,L){return typeof ae=="object"&&ae!==null&&ae.key!=null?z(""+ae.key):L.toString(36)}function J(ae){switch(ae.status){case"fulfilled":return ae.value;case"rejected":throw ae.reason;default:switch(typeof ae.status=="string"?ae.then(P,P):(ae.status="pending",ae.then(function(L){ae.status==="pending"&&(ae.status="fulfilled",ae.value=L)},function(L){ae.status==="pending"&&(ae.status="rejected",ae.reason=L)})),ae.status){case"fulfilled":return ae.value;case"rejected":throw ae.reason}}throw ae}function U(ae,L,Y,G,Q){var te=typeof ae;(te==="undefined"||te==="boolean")&&(ae=null);var le=!1;if(ae===null)le=!0;else switch(te){case"bigint":case"string":case"number":le=!0;break;case"object":switch(ae.$$typeof){case r:case t:le=!0;break;case u:return le=ae._init,U(le(ae._payload),L,Y,G,Q)}}if(le)return Q=Q(ae),le=G===""?"."+X(ae,0):G,B(Q)?(Y="",le!=null&&(Y=le.replace(F,"$&/")+"/"),U(Q,L,Y,"",function(Ie){return Ie})):Q!=null&&(j(Q)&&(Q=H(Q,Y+(Q.key==null||ae&&ae.key===Q.key?"":(""+Q.key).replace(F,"$&/")+"/")+le)),L.push(Q)),1;le=0;var Me=G===""?".":G+":";if(B(ae))for(var ve=0;ve<ae.length;ve++)G=ae[ve],te=Me+X(G,ve),le+=U(G,L,Y,te,Q);else if(ve=m(ae),typeof ve=="function")for(ae=ve.call(ae),ve=0;!(G=ae.next()).done;)G=G.value,te=Me+X(G,ve++),le+=U(G,L,Y,te,Q);else if(te==="object"){if(typeof ae.then=="function")return U(J(ae),L,Y,G,Q);throw L=String(ae),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(ae).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return le}function W(ae,L,Y){if(ae==null)return ae;var G=[],Q=0;return U(ae,G,"","",function(te){return L.call(Y,te,Q++)}),G}function re(ae){if(ae._status===-1){var L=ae._result;L=L(),L.then(function(Y){(ae._status===0||ae._status===-1)&&(ae._status=1,ae._result=Y)},function(Y){(ae._status===0||ae._status===-1)&&(ae._status=2,ae._result=Y)}),ae._status===-1&&(ae._status=0,ae._result=L)}if(ae._status===1)return ae._result.default;throw ae._result}var Z=typeof reportError=="function"?reportError:function(ae){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ae=="object"&&ae!==null&&typeof ae.message=="string"?String(ae.message):String(ae),error:ae});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ae);return}console.error(ae)},Ee={map:W,forEach:function(ae,L,Y){W(ae,function(){L.apply(this,arguments)},Y)},count:function(ae){var L=0;return W(ae,function(){L++}),L},toArray:function(ae){return W(ae,function(L){return L})||[]},only:function(ae){if(!j(ae))throw Error("React.Children.only expected to receive a single React element child.");return ae}};return gr.Activity=d,gr.Children=Ee,gr.Component=b,gr.Fragment=e,gr.Profiler=n,gr.PureComponent=E,gr.StrictMode=i,gr.Suspense=l,gr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,gr.__COMPILER_RUNTIME={__proto__:null,c:function(ae){return C.H.useMemoCache(ae)}},gr.cache=function(ae){return function(){return ae.apply(null,arguments)}},gr.cacheSignal=function(){return null},gr.cloneElement=function(ae,L,Y){if(ae==null)throw Error("The argument must be a React element, but you passed "+ae+".");var G=M({},ae.props),Q=ae.key;if(L!=null)for(te in L.key!==void 0&&(Q=""+L.key),L)!k.call(L,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&L.ref===void 0||(G[te]=L[te]);var te=arguments.length-2;if(te===1)G.children=Y;else if(1<te){for(var le=Array(te),Me=0;Me<te;Me++)le[Me]=arguments[Me+2];G.children=le}return _(ae.type,Q,G)},gr.createContext=function(ae){return ae={$$typeof:a,_currentValue:ae,_currentValue2:ae,_threadCount:0,Provider:null,Consumer:null},ae.Provider=ae,ae.Consumer={$$typeof:s,_context:ae},ae},gr.createElement=function(ae,L,Y){var G,Q={},te=null;if(L!=null)for(G in L.key!==void 0&&(te=""+L.key),L)k.call(L,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(Q[G]=L[G]);var le=arguments.length-2;if(le===1)Q.children=Y;else if(1<le){for(var Me=Array(le),ve=0;ve<le;ve++)Me[ve]=arguments[ve+2];Q.children=Me}if(ae&&ae.defaultProps)for(G in le=ae.defaultProps,le)Q[G]===void 0&&(Q[G]=le[G]);return _(ae,te,Q)},gr.createRef=function(){return{current:null}},gr.forwardRef=function(ae){return{$$typeof:o,render:ae}},gr.isValidElement=j,gr.lazy=function(ae){return{$$typeof:u,_payload:{_status:-1,_result:ae},_init:re}},gr.memo=function(ae,L){return{$$typeof:c,type:ae,compare:L===void 0?null:L}},gr.startTransition=function(ae){var L=C.T,Y={};C.T=Y;try{var G=ae(),Q=C.S;Q!==null&&Q(Y,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(P,Z)}catch(te){Z(te)}finally{L!==null&&Y.types!==null&&(L.types=Y.types),C.T=L}},gr.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},gr.use=function(ae){return C.H.use(ae)},gr.useActionState=function(ae,L,Y){return C.H.useActionState(ae,L,Y)},gr.useCallback=function(ae,L){return C.H.useCallback(ae,L)},gr.useContext=function(ae){return C.H.useContext(ae)},gr.useDebugValue=function(){},gr.useDeferredValue=function(ae,L){return C.H.useDeferredValue(ae,L)},gr.useEffect=function(ae,L){return C.H.useEffect(ae,L)},gr.useEffectEvent=function(ae){return C.H.useEffectEvent(ae)},gr.useId=function(){return C.H.useId()},gr.useImperativeHandle=function(ae,L,Y){return C.H.useImperativeHandle(ae,L,Y)},gr.useInsertionEffect=function(ae,L){return C.H.useInsertionEffect(ae,L)},gr.useLayoutEffect=function(ae,L){return C.H.useLayoutEffect(ae,L)},gr.useMemo=function(ae,L){return C.H.useMemo(ae,L)},gr.useOptimistic=function(ae,L){return C.H.useOptimistic(ae,L)},gr.useReducer=function(ae,L,Y){return C.H.useReducer(ae,L,Y)},gr.useRef=function(ae){return C.H.useRef(ae)},gr.useState=function(ae){return C.H.useState(ae)},gr.useSyncExternalStore=function(ae,L,Y){return C.H.useSyncExternalStore(ae,L,Y)},gr.useTransition=function(){return C.H.useTransition()},gr.version="19.2.0",gr}var bR;function Vk(){return bR||(bR=1,lC.exports=Mee()),lC.exports}var ce=Vk();const mf=Uk(ce),wee=vee({__proto__:null,default:mf},[ce]);var cC={exports:{}},Vx={},uC={exports:{}},hC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR;function Tee(){return DR||(DR=1,(function(r){function t(U,W){var re=U.length;U.push(W);e:for(;0<re;){var Z=re-1>>>1,Ee=U[Z];if(0<n(Ee,W))U[Z]=W,U[re]=Ee,re=Z;else break e}}function e(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var W=U[0],re=U.pop();if(re!==W){U[0]=re;e:for(var Z=0,Ee=U.length,ae=Ee>>>1;Z<ae;){var L=2*(Z+1)-1,Y=U[L],G=L+1,Q=U[G];if(0>n(Y,re))G<Ee&&0>n(Q,Y)?(U[Z]=Q,U[G]=re,Z=G):(U[Z]=Y,U[L]=re,Z=L);else if(G<Ee&&0>n(Q,re))U[Z]=Q,U[G]=re,Z=G;else break e}}return W}function n(U,W){var re=U.sortIndex-W.sortIndex;return re!==0?re:U.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,p=3,m=!1,y=!1,M=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function N(U){for(var W=e(c);W!==null;){if(W.callback===null)i(c);else if(W.startTime<=U)i(c),W.sortIndex=W.expirationTime,t(l,W);else break;W=e(c)}}function B(U){if(M=!1,N(U),!y)if(e(l)!==null)y=!0,P||(P=!0,z());else{var W=e(c);W!==null&&J(B,W.startTime-U)}}var P=!1,C=-1,k=5,_=-1;function H(){return w?!0:!(r.unstable_now()-_<k)}function j(){if(w=!1,P){var U=r.unstable_now();_=U;var W=!0;try{e:{y=!1,M&&(M=!1,D(C),C=-1),m=!0;var re=p;try{t:{for(N(U),d=e(l);d!==null&&!(d.expirationTime>U&&H());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var Ee=Z(d.expirationTime<=U);if(U=r.unstable_now(),typeof Ee=="function"){d.callback=Ee,N(U),W=!0;break t}d===e(l)&&i(l),N(U)}else i(l);d=e(l)}if(d!==null)W=!0;else{var ae=e(c);ae!==null&&J(B,ae.startTime-U),W=!1}}break e}finally{d=null,p=re,m=!1}W=void 0}}finally{W?z():P=!1}}}var z;if(typeof E=="function")z=function(){E(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,X=F.port2;F.port1.onmessage=j,z=function(){X.postMessage(null)}}else z=function(){b(j,0)};function J(U,W){C=b(function(){U(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_next=function(U){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var re=p;p=W;try{return U()}finally{p=re}},r.unstable_requestPaint=function(){w=!0},r.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=p;p=U;try{return W()}finally{p=re}},r.unstable_scheduleCallback=function(U,W,re){var Z=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Z+re:Z):re=Z,U){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=re+Ee,U={id:u++,callback:W,priorityLevel:U,startTime:re,expirationTime:Ee,sortIndex:-1},re>Z?(U.sortIndex=re,t(c,U),e(l)===null&&U===e(c)&&(M?(D(C),C=-1):M=!0,J(B,re-Z))):(U.sortIndex=Ee,t(l,U),y||m||(y=!0,P||(P=!0,z()))),U},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(U){var W=p;return function(){var re=p;p=W;try{return U.apply(this,arguments)}finally{p=re}}}})(hC)),hC}var ER;function bee(){return ER||(ER=1,uC.exports=Tee()),uC.exports}var dC={exports:{}},Il={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR;function Dee(){if(AR)return Il;AR=1;var r=Vk();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},n=Symbol.for("react.portal");function s(l,c,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:d==null?null:""+d,children:l,containerInfo:c,implementation:u}}var a=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Il.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Il.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return s(l,c,null,u)},Il.flushSync=function(l){var c=a.T,u=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=c,i.p=u,i.d.f()}},Il.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,i.d.C(l,c))},Il.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},Il.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,d=o(u,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?i.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:m}):u==="script"&&i.d.X(l,{crossOrigin:d,integrity:p,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Il.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=o(c.as,c.crossOrigin);i.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&i.d.M(l)},Il.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,d=o(u,c.crossOrigin);i.d.L(l,u,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Il.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=o(c.as,c.crossOrigin);i.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else i.d.m(l)},Il.requestFormReset=function(l){i.d.r(l)},Il.unstable_batchedUpdates=function(l,c){return l(c)},Il.useFormState=function(l,c,u){return a.H.useFormState(l,c,u)},Il.useFormStatus=function(){return a.H.useHostTransitionStatus()},Il.version="19.2.0",Il}var SR;function x9(){if(SR)return dC.exports;SR=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),dC.exports=Dee(),dC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NR;function Eee(){if(NR)return Vx;NR=1;var r=bee(),t=Vk(),e=x9();function i(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function s(h){var f=h,g=h;if(h.alternate)for(;f.return;)f=f.return;else{h=f;do f=h,(f.flags&4098)!==0&&(g=f.return),h=f.return;while(h)}return f.tag===3?g:null}function a(h){if(h.tag===13){var f=h.memoizedState;if(f===null&&(h=h.alternate,h!==null&&(f=h.memoizedState)),f!==null)return f.dehydrated}return null}function o(h){if(h.tag===31){var f=h.memoizedState;if(f===null&&(h=h.alternate,h!==null&&(f=h.memoizedState)),f!==null)return f.dehydrated}return null}function l(h){if(s(h)!==h)throw Error(i(188))}function c(h){var f=h.alternate;if(!f){if(f=s(h),f===null)throw Error(i(188));return f!==h?null:h}for(var g=h,T=f;;){var I=g.return;if(I===null)break;var R=I.alternate;if(R===null){if(T=I.return,T!==null){g=T;continue}break}if(I.child===R.child){for(R=I.child;R;){if(R===g)return l(I),h;if(R===T)return l(I),f;R=R.sibling}throw Error(i(188))}if(g.return!==T.return)g=I,T=R;else{for(var ne=!1,ye=I.child;ye;){if(ye===g){ne=!0,g=I,T=R;break}if(ye===T){ne=!0,T=I,g=R;break}ye=ye.sibling}if(!ne){for(ye=R.child;ye;){if(ye===g){ne=!0,g=R,T=I;break}if(ye===T){ne=!0,T=R,g=I;break}ye=ye.sibling}if(!ne)throw Error(i(189))}}if(g.alternate!==T)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?h:f}function u(h){var f=h.tag;if(f===5||f===26||f===27||f===6)return h;for(h=h.child;h!==null;){if(f=u(h),f!==null)return f;h=h.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),E=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function z(h){return h===null||typeof h!="object"?null:(h=j&&h[j]||h["@@iterator"],typeof h=="function"?h:null)}var F=Symbol.for("react.client.reference");function X(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===F?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case M:return"Fragment";case b:return"Profiler";case w:return"StrictMode";case B:return"Suspense";case P:return"SuspenseList";case _:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case y:return"Portal";case E:return h.displayName||"Context";case D:return(h._context.displayName||"Context")+".Consumer";case N:var f=h.render;return h=h.displayName,h||(h=f.displayName||f.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case C:return f=h.displayName||null,f!==null?f:X(h.type)||"Memo";case k:f=h._payload,h=h._init;try{return X(h(f))}catch{}}return null}var J=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Z=[],Ee=-1;function ae(h){return{current:h}}function L(h){0>Ee||(h.current=Z[Ee],Z[Ee]=null,Ee--)}function Y(h,f){Ee++,Z[Ee]=h.current,h.current=f}var G=ae(null),Q=ae(null),te=ae(null),le=ae(null);function Me(h,f){switch(Y(te,f),Y(Q,h),Y(G,null),f.nodeType){case 9:case 11:h=(h=f.documentElement)&&(h=h.namespaceURI)?Hz(h):0;break;default:if(h=f.tagName,f=f.namespaceURI)f=Hz(f),h=Wz(f,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}L(G),Y(G,h)}function ve(){L(G),L(Q),L(te)}function Ie(h){h.memoizedState!==null&&Y(le,h);var f=G.current,g=Wz(f,h.type);f!==g&&(Y(Q,h),Y(G,g))}function Je(h){Q.current===h&&(L(G),L(Q)),le.current===h&&(L(le),Rx._currentValue=re)}var xe,Ot;function Ge(h){if(xe===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);xe=f&&f[1]||"",Ot=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+h+Ot}var Se=!1;function ti(h,f){if(!h||Se)return"";Se=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(f){var Pt=function(){throw Error()};if(Object.defineProperty(Pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pt,[])}catch(wt){var gt=wt}Reflect.construct(h,[],Pt)}else{try{Pt.call()}catch(wt){gt=wt}h.call(Pt.prototype)}}else{try{throw Error()}catch(wt){gt=wt}(Pt=h())&&typeof Pt.catch=="function"&&Pt.catch(function(){})}}catch(wt){if(wt&&gt&&typeof wt.stack=="string")return[wt.stack,gt.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=T.DetermineComponentFrameRoot(),ne=R[0],ye=R[1];if(ne&&ye){var Ve=ne.split(`
`),dt=ye.split(`
`);for(I=T=0;T<Ve.length&&!Ve[T].includes("DetermineComponentFrameRoot");)T++;for(;I<dt.length&&!dt[I].includes("DetermineComponentFrameRoot");)I++;if(T===Ve.length||I===dt.length)for(T=Ve.length-1,I=dt.length-1;1<=T&&0<=I&&Ve[T]!==dt[I];)I--;for(;1<=T&&0<=I;T--,I--)if(Ve[T]!==dt[I]){if(T!==1||I!==1)do if(T--,I--,0>I||Ve[T]!==dt[I]){var Ct=`
`+Ve[T].replace(" at new "," at ");return h.displayName&&Ct.includes("<anonymous>")&&(Ct=Ct.replace("<anonymous>",h.displayName)),Ct}while(1<=T&&0<=I);break}}}finally{Se=!1,Error.prepareStackTrace=g}return(g=h?h.displayName||h.name:"")?Ge(g):""}function Tt(h,f){switch(h.tag){case 26:case 27:case 5:return Ge(h.type);case 16:return Ge("Lazy");case 13:return h.child!==f&&f!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return ti(h.type,!1);case 11:return ti(h.type.render,!1);case 1:return ti(h.type,!0);case 31:return Ge("Activity");default:return""}}function $t(h){try{var f="",g=null;do f+=Tt(h,g),g=h,h=h.return;while(h);return f}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}var Lt=Object.prototype.hasOwnProperty,ni=r.unstable_scheduleCallback,Yt=r.unstable_cancelCallback,Ri=r.unstable_shouldYield,pi=r.unstable_requestPaint,Mt=r.unstable_now,Bt=r.unstable_getCurrentPriorityLevel,Xt=r.unstable_ImmediatePriority,gi=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,Ne=r.unstable_LowPriority,Ue=r.unstable_IdlePriority,Ke=r.log,yt=r.unstable_setDisableYieldValue,xt=null,Nt=null;function hi(h){if(typeof Ke=="function"&&yt(h),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(xt,h)}catch{}}var bi=Math.clz32?Math.clz32:Qi,vi=Math.log,Bi=Math.LN2;function Qi(h){return h>>>=0,h===0?32:31-(vi(h)/Bi|0)|0}var nn=256,sn=262144,Dr=4194304;function _i(h){var f=h&42;if(f!==0)return f;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return h&261888;case 262144:case 524288:case 1048576:case 2097152:return h&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function dr(h,f,g){var T=h.pendingLanes;if(T===0)return 0;var I=0,R=h.suspendedLanes,ne=h.pingedLanes;h=h.warmLanes;var ye=T&134217727;return ye!==0?(T=ye&~R,T!==0?I=_i(T):(ne&=ye,ne!==0?I=_i(ne):g||(g=ye&~h,g!==0&&(I=_i(g))))):(ye=T&~R,ye!==0?I=_i(ye):ne!==0?I=_i(ne):g||(g=T&~h,g!==0&&(I=_i(g)))),I===0?0:f!==0&&f!==I&&(f&R)===0&&(R=I&-I,g=f&-f,R>=g||R===32&&(g&4194048)!==0)?f:I}function Lo(h,f){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&f)===0}function Cs(h,f){switch(h){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var h=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),h}function pa(h){for(var f=[],g=0;31>g;g++)f.push(h);return f}function Pi(h,f){h.pendingLanes|=f,f!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function Fn(h,f,g,T,I,R){var ne=h.pendingLanes;h.pendingLanes=g,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=g,h.entangledLanes&=g,h.errorRecoveryDisabledLanes&=g,h.shellSuspendCounter=0;var ye=h.entanglements,Ve=h.expirationTimes,dt=h.hiddenUpdates;for(g=ne&~g;0<g;){var Ct=31-bi(g),Pt=1<<Ct;ye[Ct]=0,Ve[Ct]=-1;var gt=dt[Ct];if(gt!==null)for(dt[Ct]=null,Ct=0;Ct<gt.length;Ct++){var wt=gt[Ct];wt!==null&&(wt.lane&=-536870913)}g&=~Pt}T!==0&&el(h,T,0),R!==0&&I===0&&h.tag!==0&&(h.suspendedLanes|=R&~(ne&~f))}function el(h,f,g){h.pendingLanes|=f,h.suspendedLanes&=~f;var T=31-bi(f);h.entangledLanes|=f,h.entanglements[T]=h.entanglements[T]|1073741824|g&261930}function Os(h,f){var g=h.entangledLanes|=f;for(h=h.entanglements;g;){var T=31-bi(g),I=1<<T;I&f|h[T]&f&&(h[T]|=f),g&=~I}}function ia(h,f){var g=f&-f;return g=(g&42)!==0?1:zn(g),(g&(h.suspendedLanes|f))!==0?0:g}function zn(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function bs(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function fe(){var h=W.p;return h!==0?h:(h=window.event,h===void 0?32:fR(h.type))}function Le(h,f){var g=W.p;try{return W.p=h,f()}finally{W.p=g}}var be=Math.random().toString(36).slice(2),De="__reactFiber$"+be,Ce="__reactProps$"+be,ze="__reactContainer$"+be,rt="__reactEvents$"+be,vt="__reactListeners$"+be,at="__reactHandles$"+be,ot="__reactResources$"+be,lt="__reactMarker$"+be;function Vt(h){delete h[De],delete h[Ce],delete h[rt],delete h[vt],delete h[at]}function Jt(h){var f=h[De];if(f)return f;for(var g=h.parentNode;g;){if(f=g[ze]||g[De]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(h=Xz(h);h!==null;){if(g=h[De])return g;h=Xz(h)}return f}h=g,g=h.parentNode}return null}function ai(h){if(h=h[De]||h[ze]){var f=h.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return h}return null}function Qt(h){var f=h.tag;if(f===5||f===26||f===27||f===6)return h.stateNode;throw Error(i(33))}function ii(h){var f=h[ot];return f||(f=h[ot]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function yi(h){h[lt]=!0}var Xr=new Set,fr={};function _r(h,f){Ia(h,f),Ia(h+"Capture",f)}function Ia(h,f){for(fr[h]=f,h=0;h<f.length;h++)Xr.add(f[h])}var Zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},jo={};function ru(h){return Lt.call(jo,h)?!0:Lt.call(El,h)?!1:Zl.test(h)?jo[h]=!0:(El[h]=!0,!1)}function ks(h,f,g){if(ru(f))if(g===null)h.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":h.removeAttribute(f);return;case"boolean":var T=f.toLowerCase().slice(0,5);if(T!=="data-"&&T!=="aria-"){h.removeAttribute(f);return}}h.setAttribute(f,""+g)}}function Iu(h,f,g){if(g===null)h.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(f);return}h.setAttribute(f,""+g)}}function dn(h,f,g,T){if(T===null)h.removeAttribute(g);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(g);return}h.setAttributeNS(f,g,""+T)}}function Ka(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function bf(h){var f=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function nu(h,f,g){var T=Object.getOwnPropertyDescriptor(h.constructor.prototype,f);if(!h.hasOwnProperty(f)&&typeof T<"u"&&typeof T.get=="function"&&typeof T.set=="function"){var I=T.get,R=T.set;return Object.defineProperty(h,f,{configurable:!0,get:function(){return I.call(this)},set:function(ne){g=""+ne,R.call(this,ne)}}),Object.defineProperty(h,f,{enumerable:T.enumerable}),{getValue:function(){return g},setValue:function(ne){g=""+ne},stopTracking:function(){h._valueTracker=null,delete h[f]}}}}function wc(h){if(!h._valueTracker){var f=bf(h)?"checked":"value";h._valueTracker=nu(h,f,""+h[f])}}function tl(h){if(!h)return!1;var f=h._valueTracker;if(!f)return!0;var g=f.getValue(),T="";return h&&(T=bf(h)?h.checked?"true":"false":h.value),h=T,h!==g?(f.setValue(h),!0):!1}function Tc(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var En=/[\n"\\]/g;function Xn(h){return h.replace(En,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Cu(h,f,g,T,I,R,ne,ye){h.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?h.type=ne:h.removeAttribute("type"),f!=null?ne==="number"?(f===0&&h.value===""||h.value!=f)&&(h.value=""+Ka(f)):h.value!==""+Ka(f)&&(h.value=""+Ka(f)):ne!=="submit"&&ne!=="reset"||h.removeAttribute("value"),f!=null?vd(h,ne,Ka(f)):g!=null?vd(h,ne,Ka(g)):T!=null&&h.removeAttribute("value"),I==null&&R!=null&&(h.defaultChecked=!!R),I!=null&&(h.checked=I&&typeof I!="function"&&typeof I!="symbol"),ye!=null&&typeof ye!="function"&&typeof ye!="symbol"&&typeof ye!="boolean"?h.name=""+Ka(ye):h.removeAttribute("name")}function Dh(h,f,g,T,I,R,ne,ye){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(h.type=R),f!=null||g!=null){if(!(R!=="submit"&&R!=="reset"||f!=null)){wc(h);return}g=g!=null?""+Ka(g):"",f=f!=null?""+Ka(f):g,ye||f===h.value||(h.value=f),h.defaultValue=f}T=T??I,T=typeof T!="function"&&typeof T!="symbol"&&!!T,h.checked=ye?h.checked:!!T,h.defaultChecked=!!T,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(h.name=ne),wc(h)}function vd(h,f,g){f==="number"&&Tc(h.ownerDocument)===h||h.defaultValue===""+g||(h.defaultValue=""+g)}function Mr(h,f,g,T){if(h=h.options,f){f={};for(var I=0;I<g.length;I++)f["$"+g[I]]=!0;for(g=0;g<h.length;g++)I=f.hasOwnProperty("$"+h[g].value),h[g].selected!==I&&(h[g].selected=I),I&&T&&(h[g].defaultSelected=!0)}else{for(g=""+Ka(g),f=null,I=0;I<h.length;I++){if(h[I].value===g){h[I].selected=!0,T&&(h[I].defaultSelected=!0);return}f!==null||h[I].disabled||(f=h[I])}f!==null&&(f.selected=!0)}}function Ou(h,f,g){if(f!=null&&(f=""+Ka(f),f!==h.value&&(h.value=f),g==null)){h.defaultValue!==f&&(h.defaultValue=f);return}h.defaultValue=g!=null?""+Ka(g):""}function su(h,f,g,T){if(f==null){if(T!=null){if(g!=null)throw Error(i(92));if(J(T)){if(1<T.length)throw Error(i(93));T=T[0]}g=T}g==null&&(g=""),f=g}g=Ka(f),h.defaultValue=g,T=h.textContent,T===g&&T!==""&&T!==null&&(h.value=T),wc(h)}function Ca(h,f){if(f){var g=h.firstChild;if(g&&g===h.lastChild&&g.nodeType===3){g.nodeValue=f;return}}h.textContent=f}var Df=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ef(h,f,g){var T=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?T?h.setProperty(f,""):f==="float"?h.cssFloat="":h[f]="":T?h.setProperty(f,g):typeof g!="number"||g===0||Df.has(f)?f==="float"?h.cssFloat=g:h[f]=(""+g).trim():h[f]=g+"px"}function em(h,f,g){if(f!=null&&typeof f!="object")throw Error(i(62));if(h=h.style,g!=null){for(var T in g)!g.hasOwnProperty(T)||f!=null&&f.hasOwnProperty(T)||(T.indexOf("--")===0?h.setProperty(T,""):T==="float"?h.cssFloat="":h[T]="");for(var I in f)T=f[I],f.hasOwnProperty(I)&&g[I]!==T&&Ef(h,I,T)}else for(var R in f)f.hasOwnProperty(R)&&Ef(h,R,f[R])}function Af(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function po(h){return Eh.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}function ma(){}var bc=null;function ku(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Gi=null,il=null;function tm(h){var f=ai(h);if(f&&(h=f.stateNode)){var g=h[Ce]||null;e:switch(h=f.stateNode,f.type){case"input":if(Cu(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=h;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Xn(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var T=g[f];if(T!==h&&T.form===h.form){var I=T[Ce]||null;if(!I)throw Error(i(90));Cu(T,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(f=0;f<g.length;f++)T=g[f],T.form===h.form&&tl(T)}break e;case"textarea":Ou(h,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&Mr(h,!!g.multiple,f,!1)}}}var Nf=!1;function im(h,f,g){if(Nf)return h(f,g);Nf=!0;try{var T=h(f);return T}finally{if(Nf=!1,(Gi!==null||il!==null)&&(Ub(),Gi&&(f=Gi,h=il,il=Gi=null,tm(f),h)))for(f=0;f<h.length;f++)tm(h[f])}}function Gs(h,f){var g=h.stateNode;if(g===null)return null;var T=g[Ce]||null;if(T===null)return null;g=T[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(h=h.type,T=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!T;break e;default:h=!1}if(h)return null;if(g&&typeof g!="function")throw Error(i(231,f,typeof g));return g}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),If=!1;if(Oa)try{var Dc={};Object.defineProperty(Dc,"passive",{get:function(){If=!0}}),window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{If=!1}var $a=null,Lu=null,_o=null;function ec(){if(_o)return _o;var h,f=Lu,g=f.length,T,I="value"in $a?$a.value:$a.textContent,R=I.length;for(h=0;h<g&&f[h]===I[h];h++);var ne=g-h;for(T=1;T<=ne&&f[g-T]===I[R-T];T++);return _o=I.slice(h,1<T?1-T:void 0)}function Ec(h){var f=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&f===13&&(h=13)):h=f,h===10&&(h=13),32<=h||h===13?h:0}function ju(){return!0}function An(){return!1}function ga(h){function f(g,T,I,R,ne){this._reactName=g,this._targetInst=I,this.type=T,this.nativeEvent=R,this.target=ne,this.currentTarget=null;for(var ye in h)h.hasOwnProperty(ye)&&(g=h[ye],this[ye]=g?g(R):R[ye]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?ju:An,this.isPropagationStopped=An,this}return d(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),f}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=ga(rl),Ac=d({},rl,{view:0,detail:0}),Ah=ga(Ac),Sc,Nc,Xa,_u=d({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ki,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Xa&&(Xa&&h.type==="mousemove"?(Sc=h.screenX-Xa.screenX,Nc=h.screenY-Xa.screenY):Nc=Sc=0,Xa=h),Sc)},movementY:function(h){return"movementY"in h?h.movementY:Nc}}),Ic=ga(_u),nl=d({},_u,{dataTransfer:0}),Cf=ga(nl),yd=d({},Ac,{relatedTarget:0}),Al=ga(yd),Of=d({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),V=ga(Of),ue=d({},rl,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),je=ga(ue),He=d({},rl,{data:0}),et=ga(He),It={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Di={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oi(h){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(h):(h=Di[h])?!!f[h]:!1}function Ki(){return Oi}var rr=d({},Ac,{key:function(h){if(h.key){var f=It[h.key]||h.key;if(f!=="Unidentified")return f}return h.type==="keypress"?(h=Ec(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Ut[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ki,charCode:function(h){return h.type==="keypress"?Ec(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Ec(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),qr=ga(rr),fn=d({},_u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ds=ga(fn),Sn=d({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ki}),Ks=ga(Sn),Ls=d({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$s=ga(Ls),Jn=d({},_u,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),mo=ga(Jn),kf=d({},rl,{newState:0,oldState:0}),ic=ga(kf),S=[9,13,27,32],K=Oa&&"CompositionEvent"in window,oe=null;Oa&&"documentMode"in document&&(oe=document.documentMode);var Te=Oa&&"TextEvent"in window&&!oe,it=Oa&&(!K||oe&&8<oe&&11>=oe),ft=" ",ei=!1;function zr(h,f){switch(h){case"keyup":return S.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Es(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var pr=!1;function Sr(h,f){switch(h){case"compositionend":return Es(f);case"keypress":return f.which!==32?null:(ei=!0,ft);case"textInput":return h=f.data,h===ft&&ei?null:h;default:return null}}function Zn(h,f){if(pr)return h==="compositionend"||!K&&zr(h,f)?(h=ec(),_o=Lu=$a=null,pr=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return it&&f.locale!=="ko"?null:f.data;default:return null}}var rc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function go(h){var f=h&&h.nodeName&&h.nodeName.toLowerCase();return f==="input"?!!rc[h.type]:f==="textarea"}function Ja(h,f,g,T){Gi?il?il.push(T):il=[T]:Gi=T,f=Gb(f,"onChange"),0<f.length&&(g=new tc("onChange","change",null,g,T),h.push({event:g,listeners:f}))}var sl=null,Sh=null;function Gg(h){Rz(h,0)}function au(h){var f=Qt(h);if(tl(f))return h}function xd(h,f){if(h==="change")return f}var Sl=!1;if(Oa){var al;if(Oa){var zu="oninput"in document;if(!zu){var Ru=document.createElement("div");Ru.setAttribute("oninput","return;"),zu=typeof Ru.oninput=="function"}al=zu}else al=!1;Sl=al&&(!document.documentMode||9<document.documentMode)}function Nh(){sl&&(sl.detachEvent("onpropertychange",rm),Sh=sl=null)}function rm(h){if(h.propertyName==="value"&&au(Sh)){var f=[];Ja(f,Sh,h,ku(h)),im(Gg,f)}}function nm(h,f,g){h==="focusin"?(Nh(),sl=f,Sh=g,sl.attachEvent("onpropertychange",rm)):h==="focusout"&&Nh()}function ra(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return au(Sh)}function Bv(h,f){if(h==="click")return au(f)}function Pu(h,f){if(h==="input"||h==="change")return au(f)}function Fu(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var vo=typeof Object.is=="function"?Object.is:Fu;function Ih(h,f){if(vo(h,f))return!0;if(typeof h!="object"||h===null||typeof f!="object"||f===null)return!1;var g=Object.keys(h),T=Object.keys(f);if(g.length!==T.length)return!1;for(T=0;T<g.length;T++){var I=g[T];if(!Lt.call(f,I)||!vo(h[I],f[I]))return!1}return!0}function sm(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function am(h,f){var g=sm(h);h=0;for(var T;g;){if(g.nodeType===3){if(T=h+g.textContent.length,h<=f&&T>=f)return{node:g,offset:f-h};h=T}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=sm(g)}}function Ch(h,f){return h&&f?h===f?!0:h&&h.nodeType===3?!1:f&&f.nodeType===3?Ch(h,f.parentNode):"contains"in h?h.contains(f):h.compareDocumentPosition?!!(h.compareDocumentPosition(f)&16):!1:!1}function Oh(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var f=Tc(h.document);f instanceof h.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)h=f.contentWindow;else break;f=Tc(h.document)}return f}function Bu(h){var f=h&&h.nodeName&&h.nodeName.toLowerCase();return f&&(f==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||f==="textarea"||h.contentEditable==="true")}var Lf=Oa&&"documentMode"in document&&11>=document.documentMode,nc=null,kh=null,zo=null,Cc=!1;function pn(h,f,g){var T=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Cc||nc==null||nc!==Tc(T)||(T=nc,"selectionStart"in T&&Bu(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),zo&&Ih(zo,T)||(zo=T,T=Gb(kh,"onSelect"),0<T.length&&(f=new tc("onSelect","select",null,f,g),h.push({event:f,listeners:T}),f.target=nc)))}function Jr(h,f){var g={};return g[h.toLowerCase()]=f.toLowerCase(),g["Webkit"+h]="webkit"+f,g["Moz"+h]="moz"+f,g}var es={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionrun:Jr("Transition","TransitionRun"),transitionstart:Jr("Transition","TransitionStart"),transitioncancel:Jr("Transition","TransitionCancel"),transitionend:Jr("Transition","TransitionEnd")},na={},Uu={};Oa&&(Uu=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function ou(h){if(na[h])return na[h];if(!es[h])return h;var f=es[h],g;for(g in f)if(f.hasOwnProperty(g)&&g in Uu)return na[h]=f[g];return h}var jf=ou("animationend"),Kg=ou("animationiteration"),ax=ou("animationstart"),vb=ou("transitionrun"),yb=ou("transitionstart"),xb=ou("transitioncancel"),ox=ou("transitionend"),lx=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function Oc(h,f){lx.set(h,f),_r(f,[h])}var $g=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},sc=[],zf=0,Uv=0;function Xg(){for(var h=zf,f=Uv=zf=0;f<h;){var g=sc[f];sc[f++]=null;var T=sc[f];sc[f++]=null;var I=sc[f];sc[f++]=null;var R=sc[f];if(sc[f++]=null,T!==null&&I!==null){var ne=T.pending;ne===null?I.next=I:(I.next=ne.next,ne.next=I),T.pending=I}R!==0&&Zg(g,I,R)}}function Jg(h,f,g,T){sc[zf++]=h,sc[zf++]=f,sc[zf++]=g,sc[zf++]=T,Uv|=T,h.lanes|=T,h=h.alternate,h!==null&&(h.lanes|=T)}function Vv(h,f,g,T){return Jg(h,f,g,T),Ro(h)}function Lh(h,f){return Jg(h,null,null,f),Ro(h)}function Zg(h,f,g){h.lanes|=g;var T=h.alternate;T!==null&&(T.lanes|=g);for(var I=!1,R=h.return;R!==null;)R.childLanes|=g,T=R.alternate,T!==null&&(T.childLanes|=g),R.tag===22&&(h=R.stateNode,h===null||h._visibility&1||(I=!0)),h=R,R=R.return;return h.tag===3?(R=h.stateNode,I&&f!==null&&(I=31-bi(g),h=R.hiddenUpdates,T=h[I],T===null?h[I]=[f]:T.push(f),f.lane=g|536870912),R):null}function Ro(h){if(50<Cx)throw Cx=0,OI=null,Error(i(185));for(var f=h.return;f!==null;)h=f,f=h.return;return h.tag===3?h.stateNode:null}var yo={};function Hv(h,f,g,T){this.tag=h,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Po(h,f,g,T){return new Hv(h,f,g,T)}function Wv(h){return h=h.prototype,!(!h||!h.isReactComponent)}function kc(h,f){var g=h.alternate;return g===null?(g=Po(h.tag,f,h.key,h.mode),g.elementType=h.elementType,g.type=h.type,g.stateNode=h.stateNode,g.alternate=h,h.alternate=g):(g.pendingProps=f,g.type=h.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=h.flags&65011712,g.childLanes=h.childLanes,g.lanes=h.lanes,g.child=h.child,g.memoizedProps=h.memoizedProps,g.memoizedState=h.memoizedState,g.updateQueue=h.updateQueue,f=h.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=h.sibling,g.index=h.index,g.ref=h.ref,g.refCleanup=h.refCleanup,g}function e0(h,f){h.flags&=65011714;var g=h.alternate;return g===null?(h.childLanes=0,h.lanes=f,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,f=g.dependencies,h.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),h}function om(h,f,g,T,I,R){var ne=0;if(T=h,typeof h=="function")Wv(h)&&(ne=1);else if(typeof h=="string")ne=see(h,g,G.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case _:return h=Po(31,g,f,I),h.elementType=_,h.lanes=R,h;case M:return Md(g.children,I,R,f);case w:ne=8,I|=24;break;case b:return h=Po(12,g,f,I|2),h.elementType=b,h.lanes=R,h;case B:return h=Po(13,g,f,I),h.elementType=B,h.lanes=R,h;case P:return h=Po(19,g,f,I),h.elementType=P,h.lanes=R,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case E:ne=10;break e;case D:ne=9;break e;case N:ne=11;break e;case C:ne=14;break e;case k:ne=16,T=null;break e}ne=29,g=Error(i(130,h===null?"null":typeof h,"")),T=null}return f=Po(ne,g,f,I),f.elementType=h,f.type=T,f.lanes=R,f}function Md(h,f,g,T){return h=Po(7,h,T,f),h.lanes=g,h}function t0(h,f,g){return h=Po(6,h,null,f),h.lanes=g,h}function Yv(h){var f=Po(18,null,null,0);return f.stateNode=h,f}function lm(h,f,g){return f=Po(4,h.children!==null?h.children:[],h.key,f),f.lanes=g,f.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},f}var qv=new WeakMap;function Lc(h,f){if(typeof h=="object"&&h!==null){var g=qv.get(h);return g!==void 0?g:(f={value:h,source:f,stack:$t(f)},qv.set(h,f),f)}return{value:h,source:f,stack:$t(f)}}var cm=[],Rf=0,Qv=null,i0=0,jc=[],_c=0,wd=null,zc=1,Rc="";function ac(h,f){cm[Rf++]=i0,cm[Rf++]=Qv,Qv=h,i0=f}function Mb(h,f,g){jc[_c++]=zc,jc[_c++]=Rc,jc[_c++]=wd,wd=h;var T=zc;h=Rc;var I=32-bi(T)-1;T&=~(1<<I),g+=1;var R=32-bi(f)+I;if(30<R){var ne=I-I%5;R=(T&(1<<ne)-1).toString(32),T>>=ne,I-=ne,zc=1<<32-bi(f)+I|g<<I|T,Rc=R+h}else zc=1<<R|g<<I|T,Rc=h}function cx(h){h.return!==null&&(ac(h,1),Mb(h,1,0))}function Gv(h){for(;h===Qv;)Qv=cm[--Rf],cm[Rf]=null,i0=cm[--Rf],cm[Rf]=null;for(;h===wd;)wd=jc[--_c],jc[_c]=null,Rc=jc[--_c],jc[_c]=null,zc=jc[--_c],jc[_c]=null}function wb(h,f){jc[_c++]=zc,jc[_c++]=Rc,jc[_c++]=wd,zc=f.id,Rc=f.overflow,wd=h}var xo=null,hs=null,Ur=!1,ol=null,Xs=!1,lu=Error(i(519));function Td(h){var f=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw um(Lc(f,h)),lu}function ux(h){var f=h.stateNode,g=h.type,T=h.memoizedProps;switch(f[De]=h,f[Ce]=T,g){case"dialog":Hr("cancel",f),Hr("close",f);break;case"iframe":case"object":case"embed":Hr("load",f);break;case"video":case"audio":for(g=0;g<kx.length;g++)Hr(kx[g],f);break;case"source":Hr("error",f);break;case"img":case"image":case"link":Hr("error",f),Hr("load",f);break;case"details":Hr("toggle",f);break;case"input":Hr("invalid",f),Dh(f,T.value,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name,!0);break;case"select":Hr("invalid",f);break;case"textarea":Hr("invalid",f),su(f,T.value,T.defaultValue,T.children)}g=T.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||T.suppressHydrationWarning===!0||Uz(f.textContent,g)?(T.popover!=null&&(Hr("beforetoggle",f),Hr("toggle",f)),T.onScroll!=null&&Hr("scroll",f),T.onScrollEnd!=null&&Hr("scrollend",f),T.onClick!=null&&(f.onclick=ma),f=!0):f=!1,f||Td(h,!0)}function jh(h){for(xo=h.return;xo;)switch(xo.tag){case 5:case 31:case 13:Xs=!1;return;case 27:case 3:Xs=!0;return;default:xo=xo.return}}function Mo(h){if(h!==xo)return!1;if(!Ur)return jh(h),Ur=!0,!1;var f=h.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=h.type,g=!(g!=="form"&&g!=="button")||qI(h.type,h.memoizedProps)),g=!g),g&&hs&&Td(h),jh(h),f===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));hs=$z(h)}else if(f===31){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));hs=$z(h)}else f===27?(f=hs,Dm(h.type)?(h=XI,XI=null,hs=h):hs=f):hs=xo?Yu(h.stateNode.nextSibling):null;return!0}function Pf(){hs=xo=null,Ur=!1}function hx(){var h=ol;return h!==null&&(Hc===null?Hc=h:Hc.push.apply(Hc,h),ol=null),h}function um(h){ol===null?ol=[h]:ol.push(h)}var Kv=ae(null),bd=null,Vu=null;function Dd(h,f,g){Y(Kv,f._currentValue),f._currentValue=g}function Pc(h){h._currentValue=Kv.current,L(Kv)}function hm(h,f,g){for(;h!==null;){var T=h.alternate;if((h.childLanes&f)!==f?(h.childLanes|=f,T!==null&&(T.childLanes|=f)):T!==null&&(T.childLanes&f)!==f&&(T.childLanes|=f),h===g)break;h=h.return}}function Ff(h,f,g,T){var I=h.child;for(I!==null&&(I.return=h);I!==null;){var R=I.dependencies;if(R!==null){var ne=I.child;R=R.firstContext;e:for(;R!==null;){var ye=R;R=I;for(var Ve=0;Ve<f.length;Ve++)if(ye.context===f[Ve]){R.lanes|=g,ye=R.alternate,ye!==null&&(ye.lanes|=g),hm(R.return,g,h),T||(ne=null);break e}R=ye.next}}else if(I.tag===18){if(ne=I.return,ne===null)throw Error(i(341));ne.lanes|=g,R=ne.alternate,R!==null&&(R.lanes|=g),hm(ne,g,h),ne=null}else ne=I.child;if(ne!==null)ne.return=I;else for(ne=I;ne!==null;){if(ne===h){ne=null;break}if(I=ne.sibling,I!==null){I.return=ne.return,ne=I;break}ne=ne.return}I=ne}}function Ed(h,f,g,T){h=null;for(var I=f,R=!1;I!==null;){if(!R){if((I.flags&524288)!==0)R=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var ne=I.alternate;if(ne===null)throw Error(i(387));if(ne=ne.memoizedProps,ne!==null){var ye=I.type;vo(I.pendingProps.value,ne.value)||(h!==null?h.push(ye):h=[ye])}}else if(I===le.current){if(ne=I.alternate,ne===null)throw Error(i(387));ne.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(h!==null?h.push(Rx):h=[Rx])}I=I.return}h!==null&&Ff(f,h,g,T),f.flags|=262144}function $v(h){for(h=h.firstContext;h!==null;){if(!vo(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function Ad(h){bd=h,Vu=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function wo(h){return Tb(bd,h)}function Xv(h,f){return bd===null&&Ad(h),Tb(h,f)}function Tb(h,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},Vu===null){if(h===null)throw Error(i(308));Vu=f,h.dependencies={lanes:0,firstContext:f},h.flags|=524288}else Vu=Vu.next=f;return g}var $N=typeof AbortController<"u"?AbortController:function(){var h=[],f=this.signal={aborted:!1,addEventListener:function(g,T){h.push(T)}};this.abort=function(){f.aborted=!0,h.forEach(function(g){return g()})}},XN=r.unstable_scheduleCallback,JN=r.unstable_NormalPriority,sa={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dm(){return{controller:new $N,data:new Map,refCount:0}}function r0(h){h.refCount--,h.refCount===0&&XN(JN,function(){h.controller.abort()})}var n0=null,Jv=0,A=0,O=null;function q(h,f){if(n0===null){var g=n0=[];Jv=0,A=RI(),O={status:"pending",value:void 0,then:function(T){g.push(T)}}}return Jv++,f.then(ie,ie),f}function ie(){if(--Jv===0&&n0!==null){O!==null&&(O.status="fulfilled");var h=n0;n0=null,A=0,O=null;for(var f=0;f<h.length;f++)(0,h[f])()}}function de(h,f){var g=[],T={status:"pending",value:null,reason:null,then:function(I){g.push(I)}};return h.then(function(){T.status="fulfilled",T.value=f;for(var I=0;I<g.length;I++)(0,g[I])(f)},function(I){for(T.status="rejected",T.reason=I,I=0;I<g.length;I++)(0,g[I])(void 0)}),T}var me=U.S;U.S=function(h,f){hz=Mt(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&q(h,f),me!==null&&me(h,f)};var ge=ae(null);function we(){var h=ge.current;return h!==null?h:fs.pooledCache}function Ae(h,f){f===null?Y(ge,ge.current):Y(ge,f.pool)}function _e(){var h=we();return h===null?null:{parent:sa._currentValue,pool:h}}var We=Error(i(460)),ct=Error(i(474)),ke=Error(i(542)),Qe={then:function(){}};function nt(h){return h=h.status,h==="fulfilled"||h==="rejected"}function At(h,f,g){switch(g=h[g],g===void 0?h.push(f):g!==f&&(f.then(ma,ma),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw h=f.reason,qt(h),h;default:if(typeof f.status=="string")f.then(ma,ma);else{if(h=fs,h!==null&&100<h.shellSuspendCounter)throw Error(i(482));h=f,h.status="pending",h.then(function(T){if(f.status==="pending"){var I=f;I.status="fulfilled",I.value=T}},function(T){if(f.status==="pending"){var I=f;I.status="rejected",I.reason=T}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw h=f.reason,qt(h),h}throw Dt=f,We}}function st(h){try{var f=h._init;return f(h._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(Dt=g,We):g}}var Dt=null;function kt(){if(Dt===null)throw Error(i(459));var h=Dt;return Dt=null,h}function qt(h){if(h===We||h===ke)throw Error(i(483))}var Ft=null,ki=0;function xi(h){var f=ki;return ki+=1,Ft===null&&(Ft=[]),At(Ft,h,f)}function cr(h,f){f=f.props.ref,h.ref=f!==void 0?f:null}function Si(h,f){throw f.$$typeof===p?Error(i(525)):(h=Object.prototype.toString.call(f),Error(i(31,h==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":h)))}function Rr(h){function f(tt,Ye){if(h){var ht=tt.deletions;ht===null?(tt.deletions=[Ye],tt.flags|=16):ht.push(Ye)}}function g(tt,Ye){if(!h)return null;for(;Ye!==null;)f(tt,Ye),Ye=Ye.sibling;return null}function T(tt){for(var Ye=new Map;tt!==null;)tt.key!==null?Ye.set(tt.key,tt):Ye.set(tt.index,tt),tt=tt.sibling;return Ye}function I(tt,Ye){return tt=kc(tt,Ye),tt.index=0,tt.sibling=null,tt}function R(tt,Ye,ht){return tt.index=ht,h?(ht=tt.alternate,ht!==null?(ht=ht.index,ht<Ye?(tt.flags|=67108866,Ye):ht):(tt.flags|=67108866,Ye)):(tt.flags|=1048576,Ye)}function ne(tt){return h&&tt.alternate===null&&(tt.flags|=67108866),tt}function ye(tt,Ye,ht,jt){return Ye===null||Ye.tag!==6?(Ye=t0(ht,tt.mode,jt),Ye.return=tt,Ye):(Ye=I(Ye,ht),Ye.return=tt,Ye)}function Ve(tt,Ye,ht,jt){var Xi=ht.type;return Xi===M?Ct(tt,Ye,ht.props.children,jt,ht.key):Ye!==null&&(Ye.elementType===Xi||typeof Xi=="object"&&Xi!==null&&Xi.$$typeof===k&&st(Xi)===Ye.type)?(Ye=I(Ye,ht.props),cr(Ye,ht),Ye.return=tt,Ye):(Ye=om(ht.type,ht.key,ht.props,null,tt.mode,jt),cr(Ye,ht),Ye.return=tt,Ye)}function dt(tt,Ye,ht,jt){return Ye===null||Ye.tag!==4||Ye.stateNode.containerInfo!==ht.containerInfo||Ye.stateNode.implementation!==ht.implementation?(Ye=lm(ht,tt.mode,jt),Ye.return=tt,Ye):(Ye=I(Ye,ht.children||[]),Ye.return=tt,Ye)}function Ct(tt,Ye,ht,jt,Xi){return Ye===null||Ye.tag!==7?(Ye=Md(ht,tt.mode,jt,Xi),Ye.return=tt,Ye):(Ye=I(Ye,ht),Ye.return=tt,Ye)}function Pt(tt,Ye,ht){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return Ye=t0(""+Ye,tt.mode,ht),Ye.return=tt,Ye;if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case m:return ht=om(Ye.type,Ye.key,Ye.props,null,tt.mode,ht),cr(ht,Ye),ht.return=tt,ht;case y:return Ye=lm(Ye,tt.mode,ht),Ye.return=tt,Ye;case k:return Ye=st(Ye),Pt(tt,Ye,ht)}if(J(Ye)||z(Ye))return Ye=Md(Ye,tt.mode,ht,null),Ye.return=tt,Ye;if(typeof Ye.then=="function")return Pt(tt,xi(Ye),ht);if(Ye.$$typeof===E)return Pt(tt,Xv(tt,Ye),ht);Si(tt,Ye)}return null}function gt(tt,Ye,ht,jt){var Xi=Ye!==null?Ye.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Xi!==null?null:ye(tt,Ye,""+ht,jt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case m:return ht.key===Xi?Ve(tt,Ye,ht,jt):null;case y:return ht.key===Xi?dt(tt,Ye,ht,jt):null;case k:return ht=st(ht),gt(tt,Ye,ht,jt)}if(J(ht)||z(ht))return Xi!==null?null:Ct(tt,Ye,ht,jt,null);if(typeof ht.then=="function")return gt(tt,Ye,xi(ht),jt);if(ht.$$typeof===E)return gt(tt,Ye,Xv(tt,ht),jt);Si(tt,ht)}return null}function wt(tt,Ye,ht,jt,Xi){if(typeof jt=="string"&&jt!==""||typeof jt=="number"||typeof jt=="bigint")return tt=tt.get(ht)||null,ye(Ye,tt,""+jt,Xi);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case m:return tt=tt.get(jt.key===null?ht:jt.key)||null,Ve(Ye,tt,jt,Xi);case y:return tt=tt.get(jt.key===null?ht:jt.key)||null,dt(Ye,tt,jt,Xi);case k:return jt=st(jt),wt(tt,Ye,ht,jt,Xi)}if(J(jt)||z(jt))return tt=tt.get(ht)||null,Ct(Ye,tt,jt,Xi,null);if(typeof jt.then=="function")return wt(tt,Ye,ht,xi(jt),Xi);if(jt.$$typeof===E)return wt(tt,Ye,ht,Xv(Ye,jt),Xi);Si(Ye,jt)}return null}function Ci(tt,Ye,ht,jt){for(var Xi=null,Mn=null,Fi=Ye,Nr=Ye=0,Gr=null;Fi!==null&&Nr<ht.length;Nr++){Fi.index>Nr?(Gr=Fi,Fi=null):Gr=Fi.sibling;var wn=gt(tt,Fi,ht[Nr],jt);if(wn===null){Fi===null&&(Fi=Gr);break}h&&Fi&&wn.alternate===null&&f(tt,Fi),Ye=R(wn,Ye,Nr),Mn===null?Xi=wn:Mn.sibling=wn,Mn=wn,Fi=Gr}if(Nr===ht.length)return g(tt,Fi),Ur&&ac(tt,Nr),Xi;if(Fi===null){for(;Nr<ht.length;Nr++)Fi=Pt(tt,ht[Nr],jt),Fi!==null&&(Ye=R(Fi,Ye,Nr),Mn===null?Xi=Fi:Mn.sibling=Fi,Mn=Fi);return Ur&&ac(tt,Nr),Xi}for(Fi=T(Fi);Nr<ht.length;Nr++)Gr=wt(Fi,tt,Nr,ht[Nr],jt),Gr!==null&&(h&&Gr.alternate!==null&&Fi.delete(Gr.key===null?Nr:Gr.key),Ye=R(Gr,Ye,Nr),Mn===null?Xi=Gr:Mn.sibling=Gr,Mn=Gr);return h&&Fi.forEach(function(Im){return f(tt,Im)}),Ur&&ac(tt,Nr),Xi}function er(tt,Ye,ht,jt){if(ht==null)throw Error(i(151));for(var Xi=null,Mn=null,Fi=Ye,Nr=Ye=0,Gr=null,wn=ht.next();Fi!==null&&!wn.done;Nr++,wn=ht.next()){Fi.index>Nr?(Gr=Fi,Fi=null):Gr=Fi.sibling;var Im=gt(tt,Fi,wn.value,jt);if(Im===null){Fi===null&&(Fi=Gr);break}h&&Fi&&Im.alternate===null&&f(tt,Fi),Ye=R(Im,Ye,Nr),Mn===null?Xi=Im:Mn.sibling=Im,Mn=Im,Fi=Gr}if(wn.done)return g(tt,Fi),Ur&&ac(tt,Nr),Xi;if(Fi===null){for(;!wn.done;Nr++,wn=ht.next())wn=Pt(tt,wn.value,jt),wn!==null&&(Ye=R(wn,Ye,Nr),Mn===null?Xi=wn:Mn.sibling=wn,Mn=wn);return Ur&&ac(tt,Nr),Xi}for(Fi=T(Fi);!wn.done;Nr++,wn=ht.next())wn=wt(Fi,tt,Nr,wn.value,jt),wn!==null&&(h&&wn.alternate!==null&&Fi.delete(wn.key===null?Nr:wn.key),Ye=R(wn,Ye,Nr),Mn===null?Xi=wn:Mn.sibling=wn,Mn=wn);return h&&Fi.forEach(function(gee){return f(tt,gee)}),Ur&&ac(tt,Nr),Xi}function ns(tt,Ye,ht,jt){if(typeof ht=="object"&&ht!==null&&ht.type===M&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case m:e:{for(var Xi=ht.key;Ye!==null;){if(Ye.key===Xi){if(Xi=ht.type,Xi===M){if(Ye.tag===7){g(tt,Ye.sibling),jt=I(Ye,ht.props.children),jt.return=tt,tt=jt;break e}}else if(Ye.elementType===Xi||typeof Xi=="object"&&Xi!==null&&Xi.$$typeof===k&&st(Xi)===Ye.type){g(tt,Ye.sibling),jt=I(Ye,ht.props),cr(jt,ht),jt.return=tt,tt=jt;break e}g(tt,Ye);break}else f(tt,Ye);Ye=Ye.sibling}ht.type===M?(jt=Md(ht.props.children,tt.mode,jt,ht.key),jt.return=tt,tt=jt):(jt=om(ht.type,ht.key,ht.props,null,tt.mode,jt),cr(jt,ht),jt.return=tt,tt=jt)}return ne(tt);case y:e:{for(Xi=ht.key;Ye!==null;){if(Ye.key===Xi)if(Ye.tag===4&&Ye.stateNode.containerInfo===ht.containerInfo&&Ye.stateNode.implementation===ht.implementation){g(tt,Ye.sibling),jt=I(Ye,ht.children||[]),jt.return=tt,tt=jt;break e}else{g(tt,Ye);break}else f(tt,Ye);Ye=Ye.sibling}jt=lm(ht,tt.mode,jt),jt.return=tt,tt=jt}return ne(tt);case k:return ht=st(ht),ns(tt,Ye,ht,jt)}if(J(ht))return Ci(tt,Ye,ht,jt);if(z(ht)){if(Xi=z(ht),typeof Xi!="function")throw Error(i(150));return ht=Xi.call(ht),er(tt,Ye,ht,jt)}if(typeof ht.then=="function")return ns(tt,Ye,xi(ht),jt);if(ht.$$typeof===E)return ns(tt,Ye,Xv(tt,ht),jt);Si(tt,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,Ye!==null&&Ye.tag===6?(g(tt,Ye.sibling),jt=I(Ye,ht),jt.return=tt,tt=jt):(g(tt,Ye),jt=t0(ht,tt.mode,jt),jt.return=tt,tt=jt),ne(tt)):g(tt,Ye)}return function(tt,Ye,ht,jt){try{ki=0;var Xi=ns(tt,Ye,ht,jt);return Ft=null,Xi}catch(Fi){if(Fi===We||Fi===ke)throw Fi;var Mn=Po(29,Fi,null,tt.mode);return Mn.lanes=jt,Mn.return=tt,Mn}finally{}}}var ds=Rr(!0),mr=Rr(!1),Mi=!1;function li(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function js(h,f){h=h.updateQueue,f.updateQueue===h&&(f.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Zi(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function wr(h,f,g){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,(Cn&2)!==0){var I=T.pending;return I===null?f.next=f:(f.next=I.next,I.next=f),T.pending=f,f=Ro(h),Zg(h,null,g),f}return Jg(h,T,f,g),Ro(h)}function Nn(h,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var T=f.lanes;T&=h.pendingLanes,g|=T,f.lanes=g,Os(h,g)}}function ka(h,f){var g=h.updateQueue,T=h.alternate;if(T!==null&&(T=T.updateQueue,g===T)){var I=null,R=null;if(g=g.firstBaseUpdate,g!==null){do{var ne={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};R===null?I=R=ne:R=R.next=ne,g=g.next}while(g!==null);R===null?I=R=f:R=R.next=f}else I=R=f;g={baseState:T.baseState,firstBaseUpdate:I,lastBaseUpdate:R,shared:T.shared,callbacks:T.callbacks},h.updateQueue=g;return}h=g.lastBaseUpdate,h===null?g.firstBaseUpdate=f:h.next=f,g.lastBaseUpdate=f}var To=!1;function ts(){if(To){var h=O;if(h!==null)throw h}}function va(h,f,g,T){To=!1;var I=h.updateQueue;Mi=!1;var R=I.firstBaseUpdate,ne=I.lastBaseUpdate,ye=I.shared.pending;if(ye!==null){I.shared.pending=null;var Ve=ye,dt=Ve.next;Ve.next=null,ne===null?R=dt:ne.next=dt,ne=Ve;var Ct=h.alternate;Ct!==null&&(Ct=Ct.updateQueue,ye=Ct.lastBaseUpdate,ye!==ne&&(ye===null?Ct.firstBaseUpdate=dt:ye.next=dt,Ct.lastBaseUpdate=Ve))}if(R!==null){var Pt=I.baseState;ne=0,Ct=dt=Ve=null,ye=R;do{var gt=ye.lane&-536870913,wt=gt!==ye.lane;if(wt?(Qr&gt)===gt:(T&gt)===gt){gt!==0&&gt===A&&(To=!0),Ct!==null&&(Ct=Ct.next={lane:0,tag:ye.tag,payload:ye.payload,callback:null,next:null});e:{var Ci=h,er=ye;gt=f;var ns=g;switch(er.tag){case 1:if(Ci=er.payload,typeof Ci=="function"){Pt=Ci.call(ns,Pt,gt);break e}Pt=Ci;break e;case 3:Ci.flags=Ci.flags&-65537|128;case 0:if(Ci=er.payload,gt=typeof Ci=="function"?Ci.call(ns,Pt,gt):Ci,gt==null)break e;Pt=d({},Pt,gt);break e;case 2:Mi=!0}}gt=ye.callback,gt!==null&&(h.flags|=64,wt&&(h.flags|=8192),wt=I.callbacks,wt===null?I.callbacks=[gt]:wt.push(gt))}else wt={lane:gt,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},Ct===null?(dt=Ct=wt,Ve=Pt):Ct=Ct.next=wt,ne|=gt;if(ye=ye.next,ye===null){if(ye=I.shared.pending,ye===null)break;wt=ye,ye=wt.next,wt.next=null,I.lastBaseUpdate=wt,I.shared.pending=null}}while(!0);Ct===null&&(Ve=Pt),I.baseState=Ve,I.firstBaseUpdate=dt,I.lastBaseUpdate=Ct,R===null&&(I.shared.lanes=0),xm|=ne,h.lanes=ne,h.memoizedState=Pt}}function Fo(h,f){if(typeof h!="function")throw Error(i(191,h));h.call(f)}function ya(h,f){var g=h.callbacks;if(g!==null)for(h.callbacks=null,h=0;h<g.length;h++)Fo(g[h],f)}var Or=ae(null),an=ae(0);function _s(h,f){h=Kf,Y(an,h),Y(Or,f),Kf=h|f.baseLanes}function mn(){Y(an,Kf),Y(Or,Or.current)}function La(){Kf=an.current,L(Or),L(an)}var zs=ae(null),on=null;function aa(h){var f=h.alternate;Y(Zr,Zr.current&1),Y(zs,h),on===null&&(f===null||Or.current!==null||f.memoizedState!==null)&&(on=h)}function In(h){Y(Zr,Zr.current),Y(zs,h),on===null&&(on=h)}function xa(h){h.tag===22?(Y(Zr,Zr.current),Y(zs,h),on===null&&(on=h)):Ma()}function Ma(){Y(Zr,Zr.current),Y(zs,zs.current)}function Bn(h){L(zs),on===h&&(on=null),L(Zr)}var Zr=ae(0);function Bo(h){for(var f=h;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||KI(g)||$I(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Js=0,Yi=null,$i=null,ln=null,Nl=!1,Fc=!1,ll=!1,wa=0,Sd=0,Nd=null,Zv=0;function is(){throw Error(i(321))}function dx(h,f){if(f===null)return!1;for(var g=0;g<f.length&&g<h.length;g++)if(!vo(h[g],f[g]))return!1;return!0}function fx(h,f,g,T,I,R){return Js=R,Yi=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,U.H=h===null||h.memoizedState===null?T_:aI,ll=!1,R=g(T,I),ll=!1,Fc&&(R=_h(f,g,T,I)),ey(h),R}function ey(h){U.H=wx;var f=$i!==null&&$i.next!==null;if(Js=0,ln=$i=Yi=null,Nl=!1,Sd=0,Nd=null,f)throw Error(i(300));h===null||eo||(h=h.dependencies,h!==null&&$v(h)&&(eo=!0))}function _h(h,f,g,T){Yi=h;var I=0;do{if(Fc&&(Nd=null),Sd=0,Fc=!1,25<=I)throw Error(i(301));if(I+=1,ln=$i=null,h.updateQueue!=null){var R=h.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}U.H=b_,R=f(g,T)}while(Fc);return R}function ZN(){var h=U.H,f=h.useState()[0];return f=typeof f.then=="function"?Id(f):f,h=h.useState()[0],($i!==null?$i.memoizedState:null)!==h&&(Yi.flags|=1024),f}function px(){var h=wa!==0;return wa=0,h}function mx(h,f,g){f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~g}function ty(h){if(Nl){for(h=h.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Nl=!1}Js=0,ln=$i=Yi=null,Fc=!1,Sd=wa=0,Nd=null}function Za(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Yi.memoizedState=ln=h:ln=ln.next=h,ln}function Zs(){if($i===null){var h=Yi.alternate;h=h!==null?h.memoizedState:null}else h=$i.next;var f=ln===null?Yi.memoizedState:ln.next;if(f!==null)ln=f,$i=h;else{if(h===null)throw Yi.alternate===null?Error(i(467)):Error(i(310));$i=h,h={memoizedState:$i.memoizedState,baseState:$i.baseState,baseQueue:$i.baseQueue,queue:$i.queue,next:null},ln===null?Yi.memoizedState=ln=h:ln=ln.next=h}return ln}function s0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Id(h){var f=Sd;return Sd+=1,Nd===null&&(Nd=[]),h=At(Nd,h,f),f=Yi,(ln===null?f.memoizedState:ln.next)===null&&(f=f.alternate,U.H=f===null||f.memoizedState===null?T_:aI),h}function fm(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Id(h);if(h.$$typeof===E)return wo(h)}throw Error(i(438,String(h)))}function Bf(h){var f=null,g=Yi.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var T=Yi.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(f={data:T.data.map(function(I){return I.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=s0(),Yi.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(h),T=0;T<h;T++)g[T]=H;return f.index++,g}function Hu(h,f){return typeof f=="function"?f(h):f}function iy(h){var f=Zs();return pm(f,$i,h)}function pm(h,f,g){var T=h.queue;if(T===null)throw Error(i(311));T.lastRenderedReducer=g;var I=h.baseQueue,R=T.pending;if(R!==null){if(I!==null){var ne=I.next;I.next=R.next,R.next=ne}f.baseQueue=I=R,T.pending=null}if(R=h.baseState,I===null)h.memoizedState=R;else{f=I.next;var ye=ne=null,Ve=null,dt=f,Ct=!1;do{var Pt=dt.lane&-536870913;if(Pt!==dt.lane?(Qr&Pt)===Pt:(Js&Pt)===Pt){var gt=dt.revertLane;if(gt===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,gesture:null,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),Pt===A&&(Ct=!0);else if((Js&gt)===gt){dt=dt.next,gt===A&&(Ct=!0);continue}else Pt={lane:0,revertLane:dt.revertLane,gesture:null,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},Ve===null?(ye=Ve=Pt,ne=R):Ve=Ve.next=Pt,Yi.lanes|=gt,xm|=gt;Pt=dt.action,ll&&g(R,Pt),R=dt.hasEagerState?dt.eagerState:g(R,Pt)}else gt={lane:Pt,revertLane:dt.revertLane,gesture:dt.gesture,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},Ve===null?(ye=Ve=gt,ne=R):Ve=Ve.next=gt,Yi.lanes|=Pt,xm|=Pt;dt=dt.next}while(dt!==null&&dt!==f);if(Ve===null?ne=R:Ve.next=ye,!vo(R,h.memoizedState)&&(eo=!0,Ct&&(g=O,g!==null)))throw g;h.memoizedState=R,h.baseState=ne,h.baseQueue=Ve,T.lastRenderedState=R}return I===null&&(T.lanes=0),[h.memoizedState,T.dispatch]}function ry(h){var f=Zs(),g=f.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=h;var T=g.dispatch,I=g.pending,R=f.memoizedState;if(I!==null){g.pending=null;var ne=I=I.next;do R=h(R,ne.action),ne=ne.next;while(ne!==I);vo(R,f.memoizedState)||(eo=!0),f.memoizedState=R,f.baseQueue===null&&(f.baseState=R),g.lastRenderedState=R}return[R,T]}function ny(h,f,g){var T=Yi,I=Zs(),R=Ur;if(R){if(g===void 0)throw Error(i(407));g=g()}else g=f();var ne=!vo(($i||I).memoizedState,g);if(ne&&(I.memoizedState=g,eo=!0),I=I.queue,eI(vx.bind(null,T,I,h),[h]),I.getSnapshot!==f||ne||ln!==null&&ln.memoizedState.tag&1){if(T.flags|=2048,Vf(9,{destroy:void 0},gx.bind(null,T,I,g,f),null),fs===null)throw Error(i(349));R||(Js&127)!==0||zh(T,f,g)}return g}function zh(h,f,g){h.flags|=16384,h={getSnapshot:f,value:g},f=Yi.updateQueue,f===null?(f=s0(),Yi.updateQueue=f,f.stores=[h]):(g=f.stores,g===null?f.stores=[h]:g.push(h))}function gx(h,f,g,T){f.value=g,f.getSnapshot=T,bb(f)&&yx(h)}function vx(h,f,g){return g(function(){bb(f)&&yx(h)})}function bb(h){var f=h.getSnapshot;h=h.value;try{var g=f();return!vo(h,g)}catch{return!0}}function yx(h){var f=Lh(h,2);f!==null&&Wc(f,h,2)}function Cd(h){var f=Za();if(typeof h=="function"){var g=h;if(h=g(),ll){hi(!0);try{g()}finally{hi(!1)}}}return f.memoizedState=f.baseState=h,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:h},f}function Db(h,f,g,T){return h.baseState=g,pm(h,$i,typeof T=="function"?T:Hu)}function Eb(h,f,g,T,I){if(Ib(h))throw Error(i(485));if(h=f.action,h!==null){var R={payload:I,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){R.listeners.push(ne)}};U.T!==null?g(!0):R.isTransition=!1,T(R),g=f.pending,g===null?(R.next=f.pending=R,Ab(f,R)):(R.next=g.next,f.pending=g.next=R)}}function Ab(h,f){var g=f.action,T=f.payload,I=h.state;if(f.isTransition){var R=U.T,ne={};U.T=ne;try{var ye=g(I,T),Ve=U.S;Ve!==null&&Ve(ne,ye),xx(h,f,ye)}catch(dt){Uf(h,f,dt)}finally{R!==null&&ne.types!==null&&(R.types=ne.types),U.T=R}}else try{R=g(I,T),xx(h,f,R)}catch(dt){Uf(h,f,dt)}}function xx(h,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(T){Sb(h,f,T)},function(T){return Uf(h,f,T)}):Sb(h,f,g)}function Sb(h,f,g){f.status="fulfilled",f.value=g,sy(f),h.state=g,f=h.pending,f!==null&&(g=f.next,g===f?h.pending=null:(g=g.next,f.next=g,Ab(h,g)))}function Uf(h,f,g){var T=h.pending;if(h.pending=null,T!==null){T=T.next;do f.status="rejected",f.reason=g,sy(f),f=f.next;while(f!==T)}h.action=null}function sy(h){h=h.listeners;for(var f=0;f<h.length;f++)(0,h[f])()}function a0(h,f){return f}function Wu(h,f){if(Ur){var g=fs.formState;if(g!==null){e:{var T=Yi;if(Ur){if(hs){t:{for(var I=hs,R=Xs;I.nodeType!==8;){if(!R){I=null;break t}if(I=Yu(I.nextSibling),I===null){I=null;break t}}R=I.data,I=R==="F!"||R==="F"?I:null}if(I){hs=Yu(I.nextSibling),T=I.data==="F!";break e}}Td(T)}T=!1}T&&(f=g[0])}}return g=Za(),g.memoizedState=g.baseState=f,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a0,lastRenderedState:f},g.queue=T,g=x_.bind(null,Yi,T),T.dispatch=g,T=Cd(!1),R=sI.bind(null,Yi,!1,T.queue),T=Za(),I={state:f,dispatch:null,action:h,pending:null},T.queue=I,g=Eb.bind(null,Yi,I,R,g),I.dispatch=g,T.memoizedState=h,[f,g,!1]}function Rh(h){var f=Zs();return Ph(f,$i,h)}function Ph(h,f,g){if(f=pm(h,f,a0)[0],h=iy(Hu)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var T=Id(f)}catch(ne){throw ne===We?ke:ne}else T=f;f=Zs();var I=f.queue,R=I.dispatch;return g!==f.memoizedState&&(Yi.flags|=2048,Vf(9,{destroy:void 0},ay.bind(null,I,g),null)),[T,R,h]}function ay(h,f){h.action=f}function oy(h){var f=Zs(),g=$i;if(g!==null)return Ph(f,g,h);Zs(),f=f.memoizedState,g=Zs();var T=g.queue.dispatch;return g.memoizedState=h,[f,T,!1]}function Vf(h,f,g,T){return h={tag:h,create:g,deps:T,inst:f,next:null},f=Yi.updateQueue,f===null&&(f=s0(),Yi.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=h.next=h:(T=g.next,g.next=h,h.next=T,f.lastEffect=h),h}function Nb(){return Zs().memoizedState}function mm(h,f,g,T){var I=Za();Yi.flags|=h,I.memoizedState=Vf(1|f,{destroy:void 0},g,T===void 0?null:T)}function gm(h,f,g,T){var I=Zs();T=T===void 0?null:T;var R=I.memoizedState.inst;$i!==null&&T!==null&&dx(T,$i.memoizedState.deps)?I.memoizedState=Vf(f,R,g,T):(Yi.flags|=h,I.memoizedState=Vf(1|f,R,g,T))}function s_(h,f){mm(8390656,8,h,f)}function eI(h,f){gm(2048,8,h,f)}function uZ(h){Yi.flags|=4;var f=Yi.updateQueue;if(f===null)f=s0(),Yi.updateQueue=f,f.events=[h];else{var g=f.events;g===null?f.events=[h]:g.push(h)}}function a_(h){var f=Zs().memoizedState;return uZ({ref:f,nextImpl:h}),function(){if((Cn&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}function o_(h,f){return gm(4,2,h,f)}function l_(h,f){return gm(4,4,h,f)}function c_(h,f){if(typeof f=="function"){h=h();var g=f(h);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return h=h(),f.current=h,function(){f.current=null}}function u_(h,f,g){g=g!=null?g.concat([h]):null,gm(4,4,c_.bind(null,f,h),g)}function tI(){}function h_(h,f){var g=Zs();f=f===void 0?null:f;var T=g.memoizedState;return f!==null&&dx(f,T[1])?T[0]:(g.memoizedState=[h,f],h)}function d_(h,f){var g=Zs();f=f===void 0?null:f;var T=g.memoizedState;if(f!==null&&dx(f,T[1]))return T[0];if(T=h(),ll){hi(!0);try{h()}finally{hi(!1)}}return g.memoizedState=[T,f],T}function iI(h,f,g){return g===void 0||(Js&1073741824)!==0&&(Qr&261930)===0?h.memoizedState=f:(h.memoizedState=g,h=fz(),Yi.lanes|=h,xm|=h,g)}function f_(h,f,g,T){return vo(g,f)?g:Or.current!==null?(h=iI(h,g,T),vo(h,f)||(eo=!0),h):(Js&42)===0||(Js&1073741824)!==0&&(Qr&261930)===0?(eo=!0,h.memoizedState=g):(h=fz(),Yi.lanes|=h,xm|=h,f)}function p_(h,f,g,T,I){var R=W.p;W.p=R!==0&&8>R?R:8;var ne=U.T,ye={};U.T=ye,sI(h,!1,f,g);try{var Ve=I(),dt=U.S;if(dt!==null&&dt(ye,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var Ct=de(Ve,T);Mx(h,f,Ct,hu(h))}else Mx(h,f,T,hu(h))}catch(Pt){Mx(h,f,{then:function(){},status:"rejected",reason:Pt},hu())}finally{W.p=R,ne!==null&&ye.types!==null&&(ne.types=ye.types),U.T=ne}}function hZ(){}function rI(h,f,g,T){if(h.tag!==5)throw Error(i(476));var I=m_(h).queue;p_(h,I,f,re,g===null?hZ:function(){return g_(h),g(T)})}function m_(h){var f=h.memoizedState;if(f!==null)return f;f={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:re},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:g},next:null},h.memoizedState=f,h=h.alternate,h!==null&&(h.memoizedState=f),f}function g_(h){var f=m_(h);f.next===null&&(f=h.alternate.memoizedState),Mx(h,f.next.queue,{},hu())}function nI(){return wo(Rx)}function v_(){return Zs().memoizedState}function y_(){return Zs().memoizedState}function dZ(h){for(var f=h.return;f!==null;){switch(f.tag){case 24:case 3:var g=hu();h=Zi(g);var T=wr(f,h,g);T!==null&&(Wc(T,f,g),Nn(T,f,g)),f={cache:dm()},h.payload=f;return}f=f.return}}function fZ(h,f,g){var T=hu();g={lane:T,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Ib(h)?M_(f,g):(g=Vv(h,f,g,T),g!==null&&(Wc(g,h,T),w_(g,f,T)))}function x_(h,f,g){var T=hu();Mx(h,f,g,T)}function Mx(h,f,g,T){var I={lane:T,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Ib(h))M_(f,I);else{var R=h.alternate;if(h.lanes===0&&(R===null||R.lanes===0)&&(R=f.lastRenderedReducer,R!==null))try{var ne=f.lastRenderedState,ye=R(ne,g);if(I.hasEagerState=!0,I.eagerState=ye,vo(ye,ne))return Jg(h,f,I,0),fs===null&&Xg(),!1}catch{}finally{}if(g=Vv(h,f,I,T),g!==null)return Wc(g,h,T),w_(g,f,T),!0}return!1}function sI(h,f,g,T){if(T={lane:2,revertLane:RI(),gesture:null,action:T,hasEagerState:!1,eagerState:null,next:null},Ib(h)){if(f)throw Error(i(479))}else f=Vv(h,g,T,2),f!==null&&Wc(f,h,2)}function Ib(h){var f=h.alternate;return h===Yi||f!==null&&f===Yi}function M_(h,f){Fc=Nl=!0;var g=h.pending;g===null?f.next=f:(f.next=g.next,g.next=f),h.pending=f}function w_(h,f,g){if((g&4194048)!==0){var T=f.lanes;T&=h.pendingLanes,g|=T,f.lanes=g,Os(h,g)}}var wx={readContext:wo,use:fm,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useLayoutEffect:is,useInsertionEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useSyncExternalStore:is,useId:is,useHostTransitionStatus:is,useFormState:is,useActionState:is,useOptimistic:is,useMemoCache:is,useCacheRefresh:is};wx.useEffectEvent=is;var T_={readContext:wo,use:fm,useCallback:function(h,f){return Za().memoizedState=[h,f===void 0?null:f],h},useContext:wo,useEffect:s_,useImperativeHandle:function(h,f,g){g=g!=null?g.concat([h]):null,mm(4194308,4,c_.bind(null,f,h),g)},useLayoutEffect:function(h,f){return mm(4194308,4,h,f)},useInsertionEffect:function(h,f){mm(4,2,h,f)},useMemo:function(h,f){var g=Za();f=f===void 0?null:f;var T=h();if(ll){hi(!0);try{h()}finally{hi(!1)}}return g.memoizedState=[T,f],T},useReducer:function(h,f,g){var T=Za();if(g!==void 0){var I=g(f);if(ll){hi(!0);try{g(f)}finally{hi(!1)}}}else I=f;return T.memoizedState=T.baseState=I,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:I},T.queue=h,h=h.dispatch=fZ.bind(null,Yi,h),[T.memoizedState,h]},useRef:function(h){var f=Za();return h={current:h},f.memoizedState=h},useState:function(h){h=Cd(h);var f=h.queue,g=x_.bind(null,Yi,f);return f.dispatch=g,[h.memoizedState,g]},useDebugValue:tI,useDeferredValue:function(h,f){var g=Za();return iI(g,h,f)},useTransition:function(){var h=Cd(!1);return h=p_.bind(null,Yi,h.queue,!0,!1),Za().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,f,g){var T=Yi,I=Za();if(Ur){if(g===void 0)throw Error(i(407));g=g()}else{if(g=f(),fs===null)throw Error(i(349));(Qr&127)!==0||zh(T,f,g)}I.memoizedState=g;var R={value:g,getSnapshot:f};return I.queue=R,s_(vx.bind(null,T,R,h),[h]),T.flags|=2048,Vf(9,{destroy:void 0},gx.bind(null,T,R,g,f),null),g},useId:function(){var h=Za(),f=fs.identifierPrefix;if(Ur){var g=Rc,T=zc;g=(T&~(1<<32-bi(T)-1)).toString(32)+g,f="_"+f+"R_"+g,g=wa++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=Zv++,f="_"+f+"r_"+g.toString(32)+"_";return h.memoizedState=f},useHostTransitionStatus:nI,useFormState:Wu,useActionState:Wu,useOptimistic:function(h){var f=Za();f.memoizedState=f.baseState=h;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=sI.bind(null,Yi,!0,g),g.dispatch=f,[h,f]},useMemoCache:Bf,useCacheRefresh:function(){return Za().memoizedState=dZ.bind(null,Yi)},useEffectEvent:function(h){var f=Za(),g={impl:h};return f.memoizedState=g,function(){if((Cn&2)!==0)throw Error(i(440));return g.impl.apply(void 0,arguments)}}},aI={readContext:wo,use:fm,useCallback:h_,useContext:wo,useEffect:eI,useImperativeHandle:u_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:d_,useReducer:iy,useRef:Nb,useState:function(){return iy(Hu)},useDebugValue:tI,useDeferredValue:function(h,f){var g=Zs();return f_(g,$i.memoizedState,h,f)},useTransition:function(){var h=iy(Hu)[0],f=Zs().memoizedState;return[typeof h=="boolean"?h:Id(h),f]},useSyncExternalStore:ny,useId:v_,useHostTransitionStatus:nI,useFormState:Rh,useActionState:Rh,useOptimistic:function(h,f){var g=Zs();return Db(g,$i,h,f)},useMemoCache:Bf,useCacheRefresh:y_};aI.useEffectEvent=a_;var b_={readContext:wo,use:fm,useCallback:h_,useContext:wo,useEffect:eI,useImperativeHandle:u_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:d_,useReducer:ry,useRef:Nb,useState:function(){return ry(Hu)},useDebugValue:tI,useDeferredValue:function(h,f){var g=Zs();return $i===null?iI(g,h,f):f_(g,$i.memoizedState,h,f)},useTransition:function(){var h=ry(Hu)[0],f=Zs().memoizedState;return[typeof h=="boolean"?h:Id(h),f]},useSyncExternalStore:ny,useId:v_,useHostTransitionStatus:nI,useFormState:oy,useActionState:oy,useOptimistic:function(h,f){var g=Zs();return $i!==null?Db(g,$i,h,f):(g.baseState=h,[h,g.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:y_};b_.useEffectEvent=a_;function oI(h,f,g,T){f=h.memoizedState,g=g(T,f),g=g==null?f:d({},f,g),h.memoizedState=g,h.lanes===0&&(h.updateQueue.baseState=g)}var lI={enqueueSetState:function(h,f,g){h=h._reactInternals;var T=hu(),I=Zi(T);I.payload=f,g!=null&&(I.callback=g),f=wr(h,I,T),f!==null&&(Wc(f,h,T),Nn(f,h,T))},enqueueReplaceState:function(h,f,g){h=h._reactInternals;var T=hu(),I=Zi(T);I.tag=1,I.payload=f,g!=null&&(I.callback=g),f=wr(h,I,T),f!==null&&(Wc(f,h,T),Nn(f,h,T))},enqueueForceUpdate:function(h,f){h=h._reactInternals;var g=hu(),T=Zi(g);T.tag=2,f!=null&&(T.callback=f),f=wr(h,T,g),f!==null&&(Wc(f,h,g),Nn(f,h,g))}};function D_(h,f,g,T,I,R,ne){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,R,ne):f.prototype&&f.prototype.isPureReactComponent?!Ih(g,T)||!Ih(I,R):!0}function E_(h,f,g,T){h=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,T),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,T),f.state!==h&&lI.enqueueReplaceState(f,f.state,null)}function o0(h,f){var g=f;if("ref"in f){g={};for(var T in f)T!=="ref"&&(g[T]=f[T])}if(h=h.defaultProps){g===f&&(g=d({},g));for(var I in h)g[I]===void 0&&(g[I]=h[I])}return g}function A_(h){$g(h)}function S_(h){console.error(h)}function N_(h){$g(h)}function Cb(h,f){try{var g=h.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(T){setTimeout(function(){throw T})}}function I_(h,f,g){try{var T=h.onCaughtError;T(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function cI(h,f,g){return g=Zi(g),g.tag=3,g.payload={element:null},g.callback=function(){Cb(h,f)},g}function C_(h){return h=Zi(h),h.tag=3,h}function O_(h,f,g,T){var I=g.type.getDerivedStateFromError;if(typeof I=="function"){var R=T.value;h.payload=function(){return I(R)},h.callback=function(){I_(f,g,T)}}var ne=g.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(h.callback=function(){I_(f,g,T),typeof I!="function"&&(Mm===null?Mm=new Set([this]):Mm.add(this));var ye=T.stack;this.componentDidCatch(T.value,{componentStack:ye!==null?ye:""})})}function pZ(h,f,g,T,I){if(g.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(f=g.alternate,f!==null&&Ed(f,g,I,!0),g=zs.current,g!==null){switch(g.tag){case 31:case 13:return on===null?Vb():g.alternate===null&&Ta===0&&(Ta=3),g.flags&=-257,g.flags|=65536,g.lanes=I,T===Qe?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([T]):f.add(T),jI(h,T,I)),!1;case 22:return g.flags|=65536,T===Qe?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([T])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([T]):g.add(T)),jI(h,T,I)),!1}throw Error(i(435,g.tag))}return jI(h,T,I),Vb(),!1}if(Ur)return f=zs.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=I,T!==lu&&(h=Error(i(422),{cause:T}),um(Lc(h,g)))):(T!==lu&&(f=Error(i(423),{cause:T}),um(Lc(f,g))),h=h.current.alternate,h.flags|=65536,I&=-I,h.lanes|=I,T=Lc(T,g),I=cI(h.stateNode,T,I),ka(h,I),Ta!==4&&(Ta=2)),!1;var R=Error(i(520),{cause:T});if(R=Lc(R,g),Ix===null?Ix=[R]:Ix.push(R),Ta!==4&&(Ta=2),f===null)return!0;T=Lc(T,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,h=I&-I,g.lanes|=h,h=cI(g.stateNode,T,h),ka(g,h),!1;case 1:if(f=g.type,R=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Mm===null||!Mm.has(R))))return g.flags|=65536,I&=-I,g.lanes|=I,I=C_(I),O_(I,h,g,T),ka(g,I),!1}g=g.return}while(g!==null);return!1}var uI=Error(i(461)),eo=!1;function cl(h,f,g,T){f.child=h===null?mr(f,null,g,T):ds(f,h.child,g,T)}function k_(h,f,g,T,I){g=g.render;var R=f.ref;if("ref"in T){var ne={};for(var ye in T)ye!=="ref"&&(ne[ye]=T[ye])}else ne=T;return Ad(f),T=fx(h,f,g,ne,R,I),ye=px(),h!==null&&!eo?(mx(h,f,I),Hf(h,f,I)):(Ur&&ye&&cx(f),f.flags|=1,cl(h,f,T,I),f.child)}function L_(h,f,g,T,I){if(h===null){var R=g.type;return typeof R=="function"&&!Wv(R)&&R.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=R,j_(h,f,R,T,I)):(h=om(g.type,null,T,f,f.mode,I),h.ref=f.ref,h.return=f,f.child=h)}if(R=h.child,!yI(h,I)){var ne=R.memoizedProps;if(g=g.compare,g=g!==null?g:Ih,g(ne,T)&&h.ref===f.ref)return Hf(h,f,I)}return f.flags|=1,h=kc(R,T),h.ref=f.ref,h.return=f,f.child=h}function j_(h,f,g,T,I){if(h!==null){var R=h.memoizedProps;if(Ih(R,T)&&h.ref===f.ref)if(eo=!1,f.pendingProps=T=R,yI(h,I))(h.flags&131072)!==0&&(eo=!0);else return f.lanes=h.lanes,Hf(h,f,I)}return hI(h,f,g,T,I)}function __(h,f,g,T){var I=T.children,R=h!==null?h.memoizedState:null;if(h===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),T.mode==="hidden"){if((f.flags&128)!==0){if(R=R!==null?R.baseLanes|g:g,h!==null){for(T=f.child=h.child,I=0;T!==null;)I=I|T.lanes|T.childLanes,T=T.sibling;T=I&~R}else T=0,f.child=null;return z_(h,f,R,g,T)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},h!==null&&Ae(f,R!==null?R.cachePool:null),R!==null?_s(f,R):mn(),xa(f);else return T=f.lanes=536870912,z_(h,f,R!==null?R.baseLanes|g:g,g,T)}else R!==null?(Ae(f,R.cachePool),_s(f,R),Ma(),f.memoizedState=null):(h!==null&&Ae(f,null),mn(),Ma());return cl(h,f,I,g),f.child}function Tx(h,f){return h!==null&&h.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function z_(h,f,g,T,I){var R=we();return R=R===null?null:{parent:sa._currentValue,pool:R},f.memoizedState={baseLanes:g,cachePool:R},h!==null&&Ae(f,null),mn(),xa(f),h!==null&&Ed(h,f,T,!0),f.childLanes=I,null}function Ob(h,f){return f=Lb({mode:f.mode,children:f.children},h.mode),f.ref=h.ref,h.child=f,f.return=h,f}function R_(h,f,g){return ds(f,h.child,null,g),h=Ob(f,f.pendingProps),h.flags|=2,Bn(f),f.memoizedState=null,h}function mZ(h,f,g){var T=f.pendingProps,I=(f.flags&128)!==0;if(f.flags&=-129,h===null){if(Ur){if(T.mode==="hidden")return h=Ob(f,T),f.lanes=536870912,Tx(null,h);if(In(f),(h=hs)?(h=Kz(h,Xs),h=h!==null&&h.data==="&"?h:null,h!==null&&(f.memoizedState={dehydrated:h,treeContext:wd!==null?{id:zc,overflow:Rc}:null,retryLane:536870912,hydrationErrors:null},g=Yv(h),g.return=f,f.child=g,xo=f,hs=null)):h=null,h===null)throw Td(f);return f.lanes=536870912,null}return Ob(f,T)}var R=h.memoizedState;if(R!==null){var ne=R.dehydrated;if(In(f),I)if(f.flags&256)f.flags&=-257,f=R_(h,f,g);else if(f.memoizedState!==null)f.child=h.child,f.flags|=128,f=null;else throw Error(i(558));else if(eo||Ed(h,f,g,!1),I=(g&h.childLanes)!==0,eo||I){if(T=fs,T!==null&&(ne=ia(T,g),ne!==0&&ne!==R.retryLane))throw R.retryLane=ne,Lh(h,ne),Wc(T,h,ne),uI;Vb(),f=R_(h,f,g)}else h=R.treeContext,hs=Yu(ne.nextSibling),xo=f,Ur=!0,ol=null,Xs=!1,h!==null&&wb(f,h),f=Ob(f,T),f.flags|=4096;return f}return h=kc(h.child,{mode:T.mode,children:T.children}),h.ref=f.ref,f.child=h,h.return=f,h}function kb(h,f){var g=f.ref;if(g===null)h!==null&&h.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(h===null||h.ref!==g)&&(f.flags|=4194816)}}function hI(h,f,g,T,I){return Ad(f),g=fx(h,f,g,T,void 0,I),T=px(),h!==null&&!eo?(mx(h,f,I),Hf(h,f,I)):(Ur&&T&&cx(f),f.flags|=1,cl(h,f,g,I),f.child)}function P_(h,f,g,T,I,R){return Ad(f),f.updateQueue=null,g=_h(f,T,g,I),ey(h),T=px(),h!==null&&!eo?(mx(h,f,R),Hf(h,f,R)):(Ur&&T&&cx(f),f.flags|=1,cl(h,f,g,R),f.child)}function F_(h,f,g,T,I){if(Ad(f),f.stateNode===null){var R=yo,ne=g.contextType;typeof ne=="object"&&ne!==null&&(R=wo(ne)),R=new g(T,R),f.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=lI,f.stateNode=R,R._reactInternals=f,R=f.stateNode,R.props=T,R.state=f.memoizedState,R.refs={},li(f),ne=g.contextType,R.context=typeof ne=="object"&&ne!==null?wo(ne):yo,R.state=f.memoizedState,ne=g.getDerivedStateFromProps,typeof ne=="function"&&(oI(f,g,ne,T),R.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(ne=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),ne!==R.state&&lI.enqueueReplaceState(R,R.state,null),va(f,T,R,I),ts(),R.state=f.memoizedState),typeof R.componentDidMount=="function"&&(f.flags|=4194308),T=!0}else if(h===null){R=f.stateNode;var ye=f.memoizedProps,Ve=o0(g,ye);R.props=Ve;var dt=R.context,Ct=g.contextType;ne=yo,typeof Ct=="object"&&Ct!==null&&(ne=wo(Ct));var Pt=g.getDerivedStateFromProps;Ct=typeof Pt=="function"||typeof R.getSnapshotBeforeUpdate=="function",ye=f.pendingProps!==ye,Ct||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(ye||dt!==ne)&&E_(f,R,T,ne),Mi=!1;var gt=f.memoizedState;R.state=gt,va(f,T,R,I),ts(),dt=f.memoizedState,ye||gt!==dt||Mi?(typeof Pt=="function"&&(oI(f,g,Pt,T),dt=f.memoizedState),(Ve=Mi||D_(f,g,Ve,T,gt,dt,ne))?(Ct||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(f.flags|=4194308)):(typeof R.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=T,f.memoizedState=dt),R.props=T,R.state=dt,R.context=ne,T=Ve):(typeof R.componentDidMount=="function"&&(f.flags|=4194308),T=!1)}else{R=f.stateNode,js(h,f),ne=f.memoizedProps,Ct=o0(g,ne),R.props=Ct,Pt=f.pendingProps,gt=R.context,dt=g.contextType,Ve=yo,typeof dt=="object"&&dt!==null&&(Ve=wo(dt)),ye=g.getDerivedStateFromProps,(dt=typeof ye=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(ne!==Pt||gt!==Ve)&&E_(f,R,T,Ve),Mi=!1,gt=f.memoizedState,R.state=gt,va(f,T,R,I),ts();var wt=f.memoizedState;ne!==Pt||gt!==wt||Mi||h!==null&&h.dependencies!==null&&$v(h.dependencies)?(typeof ye=="function"&&(oI(f,g,ye,T),wt=f.memoizedState),(Ct=Mi||D_(f,g,Ct,T,gt,wt,Ve)||h!==null&&h.dependencies!==null&&$v(h.dependencies))?(dt||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(T,wt,Ve),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(T,wt,Ve)),typeof R.componentDidUpdate=="function"&&(f.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof R.componentDidUpdate!="function"||ne===h.memoizedProps&&gt===h.memoizedState||(f.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||ne===h.memoizedProps&&gt===h.memoizedState||(f.flags|=1024),f.memoizedProps=T,f.memoizedState=wt),R.props=T,R.state=wt,R.context=Ve,T=Ct):(typeof R.componentDidUpdate!="function"||ne===h.memoizedProps&&gt===h.memoizedState||(f.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||ne===h.memoizedProps&&gt===h.memoizedState||(f.flags|=1024),T=!1)}return R=T,kb(h,f),T=(f.flags&128)!==0,R||T?(R=f.stateNode,g=T&&typeof g.getDerivedStateFromError!="function"?null:R.render(),f.flags|=1,h!==null&&T?(f.child=ds(f,h.child,null,I),f.child=ds(f,null,g,I)):cl(h,f,g,I),f.memoizedState=R.state,h=f.child):h=Hf(h,f,I),h}function B_(h,f,g,T){return Pf(),f.flags|=256,cl(h,f,g,T),f.child}var dI={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fI(h){return{baseLanes:h,cachePool:_e()}}function pI(h,f,g){return h=h!==null?h.childLanes&~g:0,f&&(h|=uu),h}function U_(h,f,g){var T=f.pendingProps,I=!1,R=(f.flags&128)!==0,ne;if((ne=R)||(ne=h!==null&&h.memoizedState===null?!1:(Zr.current&2)!==0),ne&&(I=!0,f.flags&=-129),ne=(f.flags&32)!==0,f.flags&=-33,h===null){if(Ur){if(I?aa(f):Ma(),(h=hs)?(h=Kz(h,Xs),h=h!==null&&h.data!=="&"?h:null,h!==null&&(f.memoizedState={dehydrated:h,treeContext:wd!==null?{id:zc,overflow:Rc}:null,retryLane:536870912,hydrationErrors:null},g=Yv(h),g.return=f,f.child=g,xo=f,hs=null)):h=null,h===null)throw Td(f);return $I(h)?f.lanes=32:f.lanes=536870912,null}var ye=T.children;return T=T.fallback,I?(Ma(),I=f.mode,ye=Lb({mode:"hidden",children:ye},I),T=Md(T,I,g,null),ye.return=f,T.return=f,ye.sibling=T,f.child=ye,T=f.child,T.memoizedState=fI(g),T.childLanes=pI(h,ne,g),f.memoizedState=dI,Tx(null,T)):(aa(f),mI(f,ye))}var Ve=h.memoizedState;if(Ve!==null&&(ye=Ve.dehydrated,ye!==null)){if(R)f.flags&256?(aa(f),f.flags&=-257,f=gI(h,f,g)):f.memoizedState!==null?(Ma(),f.child=h.child,f.flags|=128,f=null):(Ma(),ye=T.fallback,I=f.mode,T=Lb({mode:"visible",children:T.children},I),ye=Md(ye,I,g,null),ye.flags|=2,T.return=f,ye.return=f,T.sibling=ye,f.child=T,ds(f,h.child,null,g),T=f.child,T.memoizedState=fI(g),T.childLanes=pI(h,ne,g),f.memoizedState=dI,f=Tx(null,T));else if(aa(f),$I(ye)){if(ne=ye.nextSibling&&ye.nextSibling.dataset,ne)var dt=ne.dgst;ne=dt,T=Error(i(419)),T.stack="",T.digest=ne,um({value:T,source:null,stack:null}),f=gI(h,f,g)}else if(eo||Ed(h,f,g,!1),ne=(g&h.childLanes)!==0,eo||ne){if(ne=fs,ne!==null&&(T=ia(ne,g),T!==0&&T!==Ve.retryLane))throw Ve.retryLane=T,Lh(h,T),Wc(ne,h,T),uI;KI(ye)||Vb(),f=gI(h,f,g)}else KI(ye)?(f.flags|=192,f.child=h.child,f=null):(h=Ve.treeContext,hs=Yu(ye.nextSibling),xo=f,Ur=!0,ol=null,Xs=!1,h!==null&&wb(f,h),f=mI(f,T.children),f.flags|=4096);return f}return I?(Ma(),ye=T.fallback,I=f.mode,Ve=h.child,dt=Ve.sibling,T=kc(Ve,{mode:"hidden",children:T.children}),T.subtreeFlags=Ve.subtreeFlags&65011712,dt!==null?ye=kc(dt,ye):(ye=Md(ye,I,g,null),ye.flags|=2),ye.return=f,T.return=f,T.sibling=ye,f.child=T,Tx(null,T),T=f.child,ye=h.child.memoizedState,ye===null?ye=fI(g):(I=ye.cachePool,I!==null?(Ve=sa._currentValue,I=I.parent!==Ve?{parent:Ve,pool:Ve}:I):I=_e(),ye={baseLanes:ye.baseLanes|g,cachePool:I}),T.memoizedState=ye,T.childLanes=pI(h,ne,g),f.memoizedState=dI,Tx(h.child,T)):(aa(f),g=h.child,h=g.sibling,g=kc(g,{mode:"visible",children:T.children}),g.return=f,g.sibling=null,h!==null&&(ne=f.deletions,ne===null?(f.deletions=[h],f.flags|=16):ne.push(h)),f.child=g,f.memoizedState=null,g)}function mI(h,f){return f=Lb({mode:"visible",children:f},h.mode),f.return=h,h.child=f}function Lb(h,f){return h=Po(22,h,null,f),h.lanes=0,h}function gI(h,f,g){return ds(f,h.child,null,g),h=mI(f,f.pendingProps.children),h.flags|=2,f.memoizedState=null,h}function V_(h,f,g){h.lanes|=f;var T=h.alternate;T!==null&&(T.lanes|=f),hm(h.return,f,g)}function vI(h,f,g,T,I,R){var ne=h.memoizedState;ne===null?h.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:T,tail:g,tailMode:I,treeForkCount:R}:(ne.isBackwards=f,ne.rendering=null,ne.renderingStartTime=0,ne.last=T,ne.tail=g,ne.tailMode=I,ne.treeForkCount=R)}function H_(h,f,g){var T=f.pendingProps,I=T.revealOrder,R=T.tail;T=T.children;var ne=Zr.current,ye=(ne&2)!==0;if(ye?(ne=ne&1|2,f.flags|=128):ne&=1,Y(Zr,ne),cl(h,f,T,g),T=Ur?i0:0,!ye&&h!==null&&(h.flags&128)!==0)e:for(h=f.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&V_(h,g,f);else if(h.tag===19)V_(h,g,f);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}switch(I){case"forwards":for(g=f.child,I=null;g!==null;)h=g.alternate,h!==null&&Bo(h)===null&&(I=g),g=g.sibling;g=I,g===null?(I=f.child,f.child=null):(I=g.sibling,g.sibling=null),vI(f,!1,I,g,R,T);break;case"backwards":case"unstable_legacy-backwards":for(g=null,I=f.child,f.child=null;I!==null;){if(h=I.alternate,h!==null&&Bo(h)===null){f.child=I;break}h=I.sibling,I.sibling=g,g=I,I=h}vI(f,!0,g,null,R,T);break;case"together":vI(f,!1,null,null,void 0,T);break;default:f.memoizedState=null}return f.child}function Hf(h,f,g){if(h!==null&&(f.dependencies=h.dependencies),xm|=f.lanes,(g&f.childLanes)===0)if(h!==null){if(Ed(h,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(h!==null&&f.child!==h.child)throw Error(i(153));if(f.child!==null){for(h=f.child,g=kc(h,h.pendingProps),f.child=g,g.return=f;h.sibling!==null;)h=h.sibling,g=g.sibling=kc(h,h.pendingProps),g.return=f;g.sibling=null}return f.child}function yI(h,f){return(h.lanes&f)!==0?!0:(h=h.dependencies,!!(h!==null&&$v(h)))}function gZ(h,f,g){switch(f.tag){case 3:Me(f,f.stateNode.containerInfo),Dd(f,sa,h.memoizedState.cache),Pf();break;case 27:case 5:Ie(f);break;case 4:Me(f,f.stateNode.containerInfo);break;case 10:Dd(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,In(f),null;break;case 13:var T=f.memoizedState;if(T!==null)return T.dehydrated!==null?(aa(f),f.flags|=128,null):(g&f.child.childLanes)!==0?U_(h,f,g):(aa(f),h=Hf(h,f,g),h!==null?h.sibling:null);aa(f);break;case 19:var I=(h.flags&128)!==0;if(T=(g&f.childLanes)!==0,T||(Ed(h,f,g,!1),T=(g&f.childLanes)!==0),I){if(T)return H_(h,f,g);f.flags|=128}if(I=f.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Y(Zr,Zr.current),T)break;return null;case 22:return f.lanes=0,__(h,f,g,f.pendingProps);case 24:Dd(f,sa,h.memoizedState.cache)}return Hf(h,f,g)}function W_(h,f,g){if(h!==null)if(h.memoizedProps!==f.pendingProps)eo=!0;else{if(!yI(h,g)&&(f.flags&128)===0)return eo=!1,gZ(h,f,g);eo=(h.flags&131072)!==0}else eo=!1,Ur&&(f.flags&1048576)!==0&&Mb(f,i0,f.index);switch(f.lanes=0,f.tag){case 16:e:{var T=f.pendingProps;if(h=st(f.elementType),f.type=h,typeof h=="function")Wv(h)?(T=o0(h,T),f.tag=1,f=F_(null,f,h,T,g)):(f.tag=0,f=hI(null,f,h,T,g));else{if(h!=null){var I=h.$$typeof;if(I===N){f.tag=11,f=k_(null,f,h,T,g);break e}else if(I===C){f.tag=14,f=L_(null,f,h,T,g);break e}}throw f=X(h)||h,Error(i(306,f,""))}}return f;case 0:return hI(h,f,f.type,f.pendingProps,g);case 1:return T=f.type,I=o0(T,f.pendingProps),F_(h,f,T,I,g);case 3:e:{if(Me(f,f.stateNode.containerInfo),h===null)throw Error(i(387));T=f.pendingProps;var R=f.memoizedState;I=R.element,js(h,f),va(f,T,null,g);var ne=f.memoizedState;if(T=ne.cache,Dd(f,sa,T),T!==R.cache&&Ff(f,[sa],g,!0),ts(),T=ne.element,R.isDehydrated)if(R={element:T,isDehydrated:!1,cache:ne.cache},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){f=B_(h,f,T,g);break e}else if(T!==I){I=Lc(Error(i(424)),f),um(I),f=B_(h,f,T,g);break e}else{switch(h=f.stateNode.containerInfo,h.nodeType){case 9:h=h.body;break;default:h=h.nodeName==="HTML"?h.ownerDocument.body:h}for(hs=Yu(h.firstChild),xo=f,Ur=!0,ol=null,Xs=!0,g=mr(f,null,T,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Pf(),T===I){f=Hf(h,f,g);break e}cl(h,f,T,g)}f=f.child}return f;case 26:return kb(h,f),h===null?(g=tR(f.type,null,f.pendingProps,null))?f.memoizedState=g:Ur||(g=f.type,h=f.pendingProps,T=Kb(te.current).createElement(g),T[De]=f,T[Ce]=h,ul(T,g,h),yi(T),f.stateNode=T):f.memoizedState=tR(f.type,h.memoizedProps,f.pendingProps,h.memoizedState),null;case 27:return Ie(f),h===null&&Ur&&(T=f.stateNode=Jz(f.type,f.pendingProps,te.current),xo=f,Xs=!0,I=hs,Dm(f.type)?(XI=I,hs=Yu(T.firstChild)):hs=I),cl(h,f,f.pendingProps.children,g),kb(h,f),h===null&&(f.flags|=4194304),f.child;case 5:return h===null&&Ur&&((I=T=hs)&&(T=qZ(T,f.type,f.pendingProps,Xs),T!==null?(f.stateNode=T,xo=f,hs=Yu(T.firstChild),Xs=!1,I=!0):I=!1),I||Td(f)),Ie(f),I=f.type,R=f.pendingProps,ne=h!==null?h.memoizedProps:null,T=R.children,qI(I,R)?T=null:ne!==null&&qI(I,ne)&&(f.flags|=32),f.memoizedState!==null&&(I=fx(h,f,ZN,null,null,g),Rx._currentValue=I),kb(h,f),cl(h,f,T,g),f.child;case 6:return h===null&&Ur&&((h=g=hs)&&(g=QZ(g,f.pendingProps,Xs),g!==null?(f.stateNode=g,xo=f,hs=null,h=!0):h=!1),h||Td(f)),null;case 13:return U_(h,f,g);case 4:return Me(f,f.stateNode.containerInfo),T=f.pendingProps,h===null?f.child=ds(f,null,T,g):cl(h,f,T,g),f.child;case 11:return k_(h,f,f.type,f.pendingProps,g);case 7:return cl(h,f,f.pendingProps,g),f.child;case 8:return cl(h,f,f.pendingProps.children,g),f.child;case 12:return cl(h,f,f.pendingProps.children,g),f.child;case 10:return T=f.pendingProps,Dd(f,f.type,T.value),cl(h,f,T.children,g),f.child;case 9:return I=f.type._context,T=f.pendingProps.children,Ad(f),I=wo(I),T=T(I),f.flags|=1,cl(h,f,T,g),f.child;case 14:return L_(h,f,f.type,f.pendingProps,g);case 15:return j_(h,f,f.type,f.pendingProps,g);case 19:return H_(h,f,g);case 31:return mZ(h,f,g);case 22:return __(h,f,g,f.pendingProps);case 24:return Ad(f),T=wo(sa),h===null?(I=we(),I===null&&(I=fs,R=dm(),I.pooledCache=R,R.refCount++,R!==null&&(I.pooledCacheLanes|=g),I=R),f.memoizedState={parent:T,cache:I},li(f),Dd(f,sa,I)):((h.lanes&g)!==0&&(js(h,f),va(f,null,null,g),ts()),I=h.memoizedState,R=f.memoizedState,I.parent!==T?(I={parent:T,cache:T},f.memoizedState=I,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=I),Dd(f,sa,T)):(T=R.cache,Dd(f,sa,T),T!==I.cache&&Ff(f,[sa],g,!0))),cl(h,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function Wf(h){h.flags|=4}function xI(h,f,g,T,I){if((f=(h.mode&32)!==0)&&(f=!1),f){if(h.flags|=16777216,(I&335544128)===I)if(h.stateNode.complete)h.flags|=8192;else if(vz())h.flags|=8192;else throw Dt=Qe,ct}else h.flags&=-16777217}function Y_(h,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!aR(f))if(vz())h.flags|=8192;else throw Dt=Qe,ct}function jb(h,f){f!==null&&(h.flags|=4),h.flags&16384&&(f=h.tag!==22?Zo():536870912,h.lanes|=f,hy|=f)}function bx(h,f){if(!Ur)switch(h.tailMode){case"hidden":f=h.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?h.tail=null:g.sibling=null;break;case"collapsed":g=h.tail;for(var T=null;g!==null;)g.alternate!==null&&(T=g),g=g.sibling;T===null?f||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function Rs(h){var f=h.alternate!==null&&h.alternate.child===h.child,g=0,T=0;if(f)for(var I=h.child;I!==null;)g|=I.lanes|I.childLanes,T|=I.subtreeFlags&65011712,T|=I.flags&65011712,I.return=h,I=I.sibling;else for(I=h.child;I!==null;)g|=I.lanes|I.childLanes,T|=I.subtreeFlags,T|=I.flags,I.return=h,I=I.sibling;return h.subtreeFlags|=T,h.childLanes=g,f}function vZ(h,f,g){var T=f.pendingProps;switch(Gv(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rs(f),null;case 1:return Rs(f),null;case 3:return g=f.stateNode,T=null,h!==null&&(T=h.memoizedState.cache),f.memoizedState.cache!==T&&(f.flags|=2048),Pc(sa),ve(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(h===null||h.child===null)&&(Mo(f)?Wf(f):h===null||h.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,hx())),Rs(f),null;case 26:var I=f.type,R=f.memoizedState;return h===null?(Wf(f),R!==null?(Rs(f),Y_(f,R)):(Rs(f),xI(f,I,null,T,g))):R?R!==h.memoizedState?(Wf(f),Rs(f),Y_(f,R)):(Rs(f),f.flags&=-16777217):(h=h.memoizedProps,h!==T&&Wf(f),Rs(f),xI(f,I,h,T,g)),null;case 27:if(Je(f),g=te.current,I=f.type,h!==null&&f.stateNode!=null)h.memoizedProps!==T&&Wf(f);else{if(!T){if(f.stateNode===null)throw Error(i(166));return Rs(f),null}h=G.current,Mo(f)?ux(f):(h=Jz(I,T,g),f.stateNode=h,Wf(f))}return Rs(f),null;case 5:if(Je(f),I=f.type,h!==null&&f.stateNode!=null)h.memoizedProps!==T&&Wf(f);else{if(!T){if(f.stateNode===null)throw Error(i(166));return Rs(f),null}if(R=G.current,Mo(f))ux(f);else{var ne=Kb(te.current);switch(R){case 1:R=ne.createElementNS("http://www.w3.org/2000/svg",I);break;case 2:R=ne.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;default:switch(I){case"svg":R=ne.createElementNS("http://www.w3.org/2000/svg",I);break;case"math":R=ne.createElementNS("http://www.w3.org/1998/Math/MathML",I);break;case"script":R=ne.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild);break;case"select":R=typeof T.is=="string"?ne.createElement("select",{is:T.is}):ne.createElement("select"),T.multiple?R.multiple=!0:T.size&&(R.size=T.size);break;default:R=typeof T.is=="string"?ne.createElement(I,{is:T.is}):ne.createElement(I)}}R[De]=f,R[Ce]=T;e:for(ne=f.child;ne!==null;){if(ne.tag===5||ne.tag===6)R.appendChild(ne.stateNode);else if(ne.tag!==4&&ne.tag!==27&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===f)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===f)break e;ne=ne.return}ne.sibling.return=ne.return,ne=ne.sibling}f.stateNode=R;e:switch(ul(R,I,T),I){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}T&&Wf(f)}}return Rs(f),xI(f,f.type,h===null?null:h.memoizedProps,f.pendingProps,g),null;case 6:if(h&&f.stateNode!=null)h.memoizedProps!==T&&Wf(f);else{if(typeof T!="string"&&f.stateNode===null)throw Error(i(166));if(h=te.current,Mo(f)){if(h=f.stateNode,g=f.memoizedProps,T=null,I=xo,I!==null)switch(I.tag){case 27:case 5:T=I.memoizedProps}h[De]=f,h=!!(h.nodeValue===g||T!==null&&T.suppressHydrationWarning===!0||Uz(h.nodeValue,g)),h||Td(f,!0)}else h=Kb(h).createTextNode(T),h[De]=f,f.stateNode=h}return Rs(f),null;case 31:if(g=f.memoizedState,h===null||h.memoizedState!==null){if(T=Mo(f),g!==null){if(h===null){if(!T)throw Error(i(318));if(h=f.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(557));h[De]=f}else Pf(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Rs(f),h=!1}else g=hx(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=g),h=!0;if(!h)return f.flags&256?(Bn(f),f):(Bn(f),null);if((f.flags&128)!==0)throw Error(i(558))}return Rs(f),null;case 13:if(T=f.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(I=Mo(f),T!==null&&T.dehydrated!==null){if(h===null){if(!I)throw Error(i(318));if(I=f.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(i(317));I[De]=f}else Pf(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Rs(f),I=!1}else I=hx(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=I),I=!0;if(!I)return f.flags&256?(Bn(f),f):(Bn(f),null)}return Bn(f),(f.flags&128)!==0?(f.lanes=g,f):(g=T!==null,h=h!==null&&h.memoizedState!==null,g&&(T=f.child,I=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(I=T.alternate.memoizedState.cachePool.pool),R=null,T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(R=T.memoizedState.cachePool.pool),R!==I&&(T.flags|=2048)),g!==h&&g&&(f.child.flags|=8192),jb(f,f.updateQueue),Rs(f),null);case 4:return ve(),h===null&&UI(f.stateNode.containerInfo),Rs(f),null;case 10:return Pc(f.type),Rs(f),null;case 19:if(L(Zr),T=f.memoizedState,T===null)return Rs(f),null;if(I=(f.flags&128)!==0,R=T.rendering,R===null)if(I)bx(T,!1);else{if(Ta!==0||h!==null&&(h.flags&128)!==0)for(h=f.child;h!==null;){if(R=Bo(h),R!==null){for(f.flags|=128,bx(T,!1),h=R.updateQueue,f.updateQueue=h,jb(f,h),f.subtreeFlags=0,h=g,g=f.child;g!==null;)e0(g,h),g=g.sibling;return Y(Zr,Zr.current&1|2),Ur&&ac(f,T.treeForkCount),f.child}h=h.sibling}T.tail!==null&&Mt()>Fb&&(f.flags|=128,I=!0,bx(T,!1),f.lanes=4194304)}else{if(!I)if(h=Bo(R),h!==null){if(f.flags|=128,I=!0,h=h.updateQueue,f.updateQueue=h,jb(f,h),bx(T,!0),T.tail===null&&T.tailMode==="hidden"&&!R.alternate&&!Ur)return Rs(f),null}else 2*Mt()-T.renderingStartTime>Fb&&g!==536870912&&(f.flags|=128,I=!0,bx(T,!1),f.lanes=4194304);T.isBackwards?(R.sibling=f.child,f.child=R):(h=T.last,h!==null?h.sibling=R:f.child=R,T.last=R)}return T.tail!==null?(h=T.tail,T.rendering=h,T.tail=h.sibling,T.renderingStartTime=Mt(),h.sibling=null,g=Zr.current,Y(Zr,I?g&1|2:g&1),Ur&&ac(f,T.treeForkCount),h):(Rs(f),null);case 22:case 23:return Bn(f),La(),T=f.memoizedState!==null,h!==null?h.memoizedState!==null!==T&&(f.flags|=8192):T&&(f.flags|=8192),T?(g&536870912)!==0&&(f.flags&128)===0&&(Rs(f),f.subtreeFlags&6&&(f.flags|=8192)):Rs(f),g=f.updateQueue,g!==null&&jb(f,g.retryQueue),g=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(g=h.memoizedState.cachePool.pool),T=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(T=f.memoizedState.cachePool.pool),T!==g&&(f.flags|=2048),h!==null&&L(ge),null;case 24:return g=null,h!==null&&(g=h.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),Pc(sa),Rs(f),null;case 25:return null;case 30:return null}throw Error(i(156,f.tag))}function yZ(h,f){switch(Gv(f),f.tag){case 1:return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 3:return Pc(sa),ve(),h=f.flags,(h&65536)!==0&&(h&128)===0?(f.flags=h&-65537|128,f):null;case 26:case 27:case 5:return Je(f),null;case 31:if(f.memoizedState!==null){if(Bn(f),f.alternate===null)throw Error(i(340));Pf()}return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 13:if(Bn(f),h=f.memoizedState,h!==null&&h.dehydrated!==null){if(f.alternate===null)throw Error(i(340));Pf()}return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 19:return L(Zr),null;case 4:return ve(),null;case 10:return Pc(f.type),null;case 22:case 23:return Bn(f),La(),h!==null&&L(ge),h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 24:return Pc(sa),null;case 25:return null;default:return null}}function q_(h,f){switch(Gv(f),f.tag){case 3:Pc(sa),ve();break;case 26:case 27:case 5:Je(f);break;case 4:ve();break;case 31:f.memoizedState!==null&&Bn(f);break;case 13:Bn(f);break;case 19:L(Zr);break;case 10:Pc(f.type);break;case 22:case 23:Bn(f),La(),h!==null&&L(ge);break;case 24:Pc(sa)}}function Dx(h,f){try{var g=f.updateQueue,T=g!==null?g.lastEffect:null;if(T!==null){var I=T.next;g=I;do{if((g.tag&h)===h){T=void 0;var R=g.create,ne=g.inst;T=R(),ne.destroy=T}g=g.next}while(g!==I)}}catch(ye){Vn(f,f.return,ye)}}function vm(h,f,g){try{var T=f.updateQueue,I=T!==null?T.lastEffect:null;if(I!==null){var R=I.next;T=R;do{if((T.tag&h)===h){var ne=T.inst,ye=ne.destroy;if(ye!==void 0){ne.destroy=void 0,I=f;var Ve=g,dt=ye;try{dt()}catch(Ct){Vn(I,Ve,Ct)}}}T=T.next}while(T!==R)}}catch(Ct){Vn(f,f.return,Ct)}}function Q_(h){var f=h.updateQueue;if(f!==null){var g=h.stateNode;try{ya(f,g)}catch(T){Vn(h,h.return,T)}}}function G_(h,f,g){g.props=o0(h.type,h.memoizedProps),g.state=h.memoizedState;try{g.componentWillUnmount()}catch(T){Vn(h,f,T)}}function Ex(h,f){try{var g=h.ref;if(g!==null){switch(h.tag){case 26:case 27:case 5:var T=h.stateNode;break;case 30:T=h.stateNode;break;default:T=h.stateNode}typeof g=="function"?h.refCleanup=g(T):g.current=T}}catch(I){Vn(h,f,I)}}function Od(h,f){var g=h.ref,T=h.refCleanup;if(g!==null)if(typeof T=="function")try{T()}catch(I){Vn(h,f,I)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(I){Vn(h,f,I)}else g.current=null}function K_(h){var f=h.type,g=h.memoizedProps,T=h.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&T.focus();break e;case"img":g.src?T.src=g.src:g.srcSet&&(T.srcset=g.srcSet)}}catch(I){Vn(h,h.return,I)}}function MI(h,f,g){try{var T=h.stateNode;BZ(T,h.type,g,f),T[Ce]=f}catch(I){Vn(h,h.return,I)}}function $_(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&Dm(h.type)||h.tag===4}function wI(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||$_(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&Dm(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function TI(h,f,g){var T=h.tag;if(T===5||T===6)h=h.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(h,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(h),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=ma));else if(T!==4&&(T===27&&Dm(h.type)&&(g=h.stateNode,f=null),h=h.child,h!==null))for(TI(h,f,g),h=h.sibling;h!==null;)TI(h,f,g),h=h.sibling}function _b(h,f,g){var T=h.tag;if(T===5||T===6)h=h.stateNode,f?g.insertBefore(h,f):g.appendChild(h);else if(T!==4&&(T===27&&Dm(h.type)&&(g=h.stateNode),h=h.child,h!==null))for(_b(h,f,g),h=h.sibling;h!==null;)_b(h,f,g),h=h.sibling}function X_(h){var f=h.stateNode,g=h.memoizedProps;try{for(var T=h.type,I=f.attributes;I.length;)f.removeAttributeNode(I[0]);ul(f,T,g),f[De]=h,f[Ce]=g}catch(R){Vn(h,h.return,R)}}var Yf=!1,to=!1,bI=!1,J_=typeof WeakSet=="function"?WeakSet:Set,Uo=null;function xZ(h,f){if(h=h.containerInfo,WI=iD,h=Oh(h),Bu(h)){if("selectionStart"in h)var g={start:h.selectionStart,end:h.selectionEnd};else e:{g=(g=h.ownerDocument)&&g.defaultView||window;var T=g.getSelection&&g.getSelection();if(T&&T.rangeCount!==0){g=T.anchorNode;var I=T.anchorOffset,R=T.focusNode;T=T.focusOffset;try{g.nodeType,R.nodeType}catch{g=null;break e}var ne=0,ye=-1,Ve=-1,dt=0,Ct=0,Pt=h,gt=null;t:for(;;){for(var wt;Pt!==g||I!==0&&Pt.nodeType!==3||(ye=ne+I),Pt!==R||T!==0&&Pt.nodeType!==3||(Ve=ne+T),Pt.nodeType===3&&(ne+=Pt.nodeValue.length),(wt=Pt.firstChild)!==null;)gt=Pt,Pt=wt;for(;;){if(Pt===h)break t;if(gt===g&&++dt===I&&(ye=ne),gt===R&&++Ct===T&&(Ve=ne),(wt=Pt.nextSibling)!==null)break;Pt=gt,gt=Pt.parentNode}Pt=wt}g=ye===-1||Ve===-1?null:{start:ye,end:Ve}}else g=null}g=g||{start:0,end:0}}else g=null;for(YI={focusedElem:h,selectionRange:g},iD=!1,Uo=f;Uo!==null;)if(f=Uo,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,Uo=h;else for(;Uo!==null;){switch(f=Uo,R=f.alternate,h=f.flags,f.tag){case 0:if((h&4)!==0&&(h=f.updateQueue,h=h!==null?h.events:null,h!==null))for(g=0;g<h.length;g++)I=h[g],I.ref.impl=I.nextImpl;break;case 11:case 15:break;case 1:if((h&1024)!==0&&R!==null){h=void 0,g=f,I=R.memoizedProps,R=R.memoizedState,T=g.stateNode;try{var Ci=o0(g.type,I);h=T.getSnapshotBeforeUpdate(Ci,R),T.__reactInternalSnapshotBeforeUpdate=h}catch(er){Vn(g,g.return,er)}}break;case 3:if((h&1024)!==0){if(h=f.stateNode.containerInfo,g=h.nodeType,g===9)GI(h);else if(g===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":GI(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(i(163))}if(h=f.sibling,h!==null){h.return=f.return,Uo=h;break}Uo=f.return}}function Z_(h,f,g){var T=g.flags;switch(g.tag){case 0:case 11:case 15:Qf(h,g),T&4&&Dx(5,g);break;case 1:if(Qf(h,g),T&4)if(h=g.stateNode,f===null)try{h.componentDidMount()}catch(ne){Vn(g,g.return,ne)}else{var I=o0(g.type,f.memoizedProps);f=f.memoizedState;try{h.componentDidUpdate(I,f,h.__reactInternalSnapshotBeforeUpdate)}catch(ne){Vn(g,g.return,ne)}}T&64&&Q_(g),T&512&&Ex(g,g.return);break;case 3:if(Qf(h,g),T&64&&(h=g.updateQueue,h!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{ya(h,f)}catch(ne){Vn(g,g.return,ne)}}break;case 27:f===null&&T&4&&X_(g);case 26:case 5:Qf(h,g),f===null&&T&4&&K_(g),T&512&&Ex(g,g.return);break;case 12:Qf(h,g);break;case 31:Qf(h,g),T&4&&iz(h,g);break;case 13:Qf(h,g),T&4&&rz(h,g),T&64&&(h=g.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(g=NZ.bind(null,g),GZ(h,g))));break;case 22:if(T=g.memoizedState!==null||Yf,!T){f=f!==null&&f.memoizedState!==null||to,I=Yf;var R=to;Yf=T,(to=f)&&!R?Gf(h,g,(g.subtreeFlags&8772)!==0):Qf(h,g),Yf=I,to=R}break;case 30:break;default:Qf(h,g)}}function ez(h){var f=h.alternate;f!==null&&(h.alternate=null,ez(f)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(f=h.stateNode,f!==null&&Vt(f)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var ea=null,Bc=!1;function qf(h,f,g){for(g=g.child;g!==null;)tz(h,f,g),g=g.sibling}function tz(h,f,g){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(xt,g)}catch{}switch(g.tag){case 26:to||Od(g,f),qf(h,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:to||Od(g,f);var T=ea,I=Bc;Dm(g.type)&&(ea=g.stateNode,Bc=!1),qf(h,f,g),jx(g.stateNode),ea=T,Bc=I;break;case 5:to||Od(g,f);case 6:if(T=ea,I=Bc,ea=null,qf(h,f,g),ea=T,Bc=I,ea!==null)if(Bc)try{(ea.nodeType===9?ea.body:ea.nodeName==="HTML"?ea.ownerDocument.body:ea).removeChild(g.stateNode)}catch(R){Vn(g,f,R)}else try{ea.removeChild(g.stateNode)}catch(R){Vn(g,f,R)}break;case 18:ea!==null&&(Bc?(h=ea,Qz(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,g.stateNode),xy(h)):Qz(ea,g.stateNode));break;case 4:T=ea,I=Bc,ea=g.stateNode.containerInfo,Bc=!0,qf(h,f,g),ea=T,Bc=I;break;case 0:case 11:case 14:case 15:vm(2,g,f),to||vm(4,g,f),qf(h,f,g);break;case 1:to||(Od(g,f),T=g.stateNode,typeof T.componentWillUnmount=="function"&&G_(g,f,T)),qf(h,f,g);break;case 21:qf(h,f,g);break;case 22:to=(T=to)||g.memoizedState!==null,qf(h,f,g),to=T;break;default:qf(h,f,g)}}function iz(h,f){if(f.memoizedState===null&&(h=f.alternate,h!==null&&(h=h.memoizedState,h!==null))){h=h.dehydrated;try{xy(h)}catch(g){Vn(f,f.return,g)}}}function rz(h,f){if(f.memoizedState===null&&(h=f.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{xy(h)}catch(g){Vn(f,f.return,g)}}function MZ(h){switch(h.tag){case 31:case 13:case 19:var f=h.stateNode;return f===null&&(f=h.stateNode=new J_),f;case 22:return h=h.stateNode,f=h._retryCache,f===null&&(f=h._retryCache=new J_),f;default:throw Error(i(435,h.tag))}}function zb(h,f){var g=MZ(h);f.forEach(function(T){if(!g.has(T)){g.add(T);var I=IZ.bind(null,h,T);T.then(I,I)}})}function Uc(h,f){var g=f.deletions;if(g!==null)for(var T=0;T<g.length;T++){var I=g[T],R=h,ne=f,ye=ne;e:for(;ye!==null;){switch(ye.tag){case 27:if(Dm(ye.type)){ea=ye.stateNode,Bc=!1;break e}break;case 5:ea=ye.stateNode,Bc=!1;break e;case 3:case 4:ea=ye.stateNode.containerInfo,Bc=!0;break e}ye=ye.return}if(ea===null)throw Error(i(160));tz(R,ne,I),ea=null,Bc=!1,R=I.alternate,R!==null&&(R.return=null),I.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)nz(f,h),f=f.sibling}var Fh=null;function nz(h,f){var g=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Uc(f,h),Vc(h),T&4&&(vm(3,h,h.return),Dx(3,h),vm(5,h,h.return));break;case 1:Uc(f,h),Vc(h),T&512&&(to||g===null||Od(g,g.return)),T&64&&Yf&&(h=h.updateQueue,h!==null&&(T=h.callbacks,T!==null&&(g=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=g===null?T:g.concat(T))));break;case 26:var I=Fh;if(Uc(f,h),Vc(h),T&512&&(to||g===null||Od(g,g.return)),T&4){var R=g!==null?g.memoizedState:null;if(T=h.memoizedState,g===null)if(T===null)if(h.stateNode===null){e:{T=h.type,g=h.memoizedProps,I=I.ownerDocument||I;t:switch(T){case"title":R=I.getElementsByTagName("title")[0],(!R||R[lt]||R[De]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=I.createElement(T),I.head.insertBefore(R,I.querySelector("head > title"))),ul(R,T,g),R[De]=h,yi(R),T=R;break e;case"link":var ne=nR("link","href",I).get(T+(g.href||""));if(ne){for(var ye=0;ye<ne.length;ye++)if(R=ne[ye],R.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&R.getAttribute("rel")===(g.rel==null?null:g.rel)&&R.getAttribute("title")===(g.title==null?null:g.title)&&R.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){ne.splice(ye,1);break t}}R=I.createElement(T),ul(R,T,g),I.head.appendChild(R);break;case"meta":if(ne=nR("meta","content",I).get(T+(g.content||""))){for(ye=0;ye<ne.length;ye++)if(R=ne[ye],R.getAttribute("content")===(g.content==null?null:""+g.content)&&R.getAttribute("name")===(g.name==null?null:g.name)&&R.getAttribute("property")===(g.property==null?null:g.property)&&R.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&R.getAttribute("charset")===(g.charSet==null?null:g.charSet)){ne.splice(ye,1);break t}}R=I.createElement(T),ul(R,T,g),I.head.appendChild(R);break;default:throw Error(i(468,T))}R[De]=h,yi(R),T=R}h.stateNode=T}else sR(I,h.type,h.stateNode);else h.stateNode=rR(I,T,h.memoizedProps);else R!==T?(R===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):R.count--,T===null?sR(I,h.type,h.stateNode):rR(I,T,h.memoizedProps)):T===null&&h.stateNode!==null&&MI(h,h.memoizedProps,g.memoizedProps)}break;case 27:Uc(f,h),Vc(h),T&512&&(to||g===null||Od(g,g.return)),g!==null&&T&4&&MI(h,h.memoizedProps,g.memoizedProps);break;case 5:if(Uc(f,h),Vc(h),T&512&&(to||g===null||Od(g,g.return)),h.flags&32){I=h.stateNode;try{Ca(I,"")}catch(Ci){Vn(h,h.return,Ci)}}T&4&&h.stateNode!=null&&(I=h.memoizedProps,MI(h,I,g!==null?g.memoizedProps:I)),T&1024&&(bI=!0);break;case 6:if(Uc(f,h),Vc(h),T&4){if(h.stateNode===null)throw Error(i(162));T=h.memoizedProps,g=h.stateNode;try{g.nodeValue=T}catch(Ci){Vn(h,h.return,Ci)}}break;case 3:if(Jb=null,I=Fh,Fh=$b(f.containerInfo),Uc(f,h),Fh=I,Vc(h),T&4&&g!==null&&g.memoizedState.isDehydrated)try{xy(f.containerInfo)}catch(Ci){Vn(h,h.return,Ci)}bI&&(bI=!1,sz(h));break;case 4:T=Fh,Fh=$b(h.stateNode.containerInfo),Uc(f,h),Vc(h),Fh=T;break;case 12:Uc(f,h),Vc(h);break;case 31:Uc(f,h),Vc(h),T&4&&(T=h.updateQueue,T!==null&&(h.updateQueue=null,zb(h,T)));break;case 13:Uc(f,h),Vc(h),h.child.flags&8192&&h.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Pb=Mt()),T&4&&(T=h.updateQueue,T!==null&&(h.updateQueue=null,zb(h,T)));break;case 22:I=h.memoizedState!==null;var Ve=g!==null&&g.memoizedState!==null,dt=Yf,Ct=to;if(Yf=dt||I,to=Ct||Ve,Uc(f,h),to=Ct,Yf=dt,Vc(h),T&8192)e:for(f=h.stateNode,f._visibility=I?f._visibility&-2:f._visibility|1,I&&(g===null||Ve||Yf||to||l0(h)),g=null,f=h;;){if(f.tag===5||f.tag===26){if(g===null){Ve=g=f;try{if(R=Ve.stateNode,I)ne=R.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none";else{ye=Ve.stateNode;var Pt=Ve.memoizedProps.style,gt=Pt!=null&&Pt.hasOwnProperty("display")?Pt.display:null;ye.style.display=gt==null||typeof gt=="boolean"?"":(""+gt).trim()}}catch(Ci){Vn(Ve,Ve.return,Ci)}}}else if(f.tag===6){if(g===null){Ve=f;try{Ve.stateNode.nodeValue=I?"":Ve.memoizedProps}catch(Ci){Vn(Ve,Ve.return,Ci)}}}else if(f.tag===18){if(g===null){Ve=f;try{var wt=Ve.stateNode;I?Gz(wt,!0):Gz(Ve.stateNode,!1)}catch(Ci){Vn(Ve,Ve.return,Ci)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===h)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}T&4&&(T=h.updateQueue,T!==null&&(g=T.retryQueue,g!==null&&(T.retryQueue=null,zb(h,g))));break;case 19:Uc(f,h),Vc(h),T&4&&(T=h.updateQueue,T!==null&&(h.updateQueue=null,zb(h,T)));break;case 30:break;case 21:break;default:Uc(f,h),Vc(h)}}function Vc(h){var f=h.flags;if(f&2){try{for(var g,T=h.return;T!==null;){if($_(T)){g=T;break}T=T.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:var I=g.stateNode,R=wI(h);_b(h,R,I);break;case 5:var ne=g.stateNode;g.flags&32&&(Ca(ne,""),g.flags&=-33);var ye=wI(h);_b(h,ye,ne);break;case 3:case 4:var Ve=g.stateNode.containerInfo,dt=wI(h);TI(h,dt,Ve);break;default:throw Error(i(161))}}catch(Ct){Vn(h,h.return,Ct)}h.flags&=-3}f&4096&&(h.flags&=-4097)}function sz(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var f=h;sz(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),h=h.sibling}}function Qf(h,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Z_(h,f.alternate,f),f=f.sibling}function l0(h){for(h=h.child;h!==null;){var f=h;switch(f.tag){case 0:case 11:case 14:case 15:vm(4,f,f.return),l0(f);break;case 1:Od(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&G_(f,f.return,g),l0(f);break;case 27:jx(f.stateNode);case 26:case 5:Od(f,f.return),l0(f);break;case 22:f.memoizedState===null&&l0(f);break;case 30:l0(f);break;default:l0(f)}h=h.sibling}}function Gf(h,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var T=f.alternate,I=h,R=f,ne=R.flags;switch(R.tag){case 0:case 11:case 15:Gf(I,R,g),Dx(4,R);break;case 1:if(Gf(I,R,g),T=R,I=T.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(dt){Vn(T,T.return,dt)}if(T=R,I=T.updateQueue,I!==null){var ye=T.stateNode;try{var Ve=I.shared.hiddenCallbacks;if(Ve!==null)for(I.shared.hiddenCallbacks=null,I=0;I<Ve.length;I++)Fo(Ve[I],ye)}catch(dt){Vn(T,T.return,dt)}}g&&ne&64&&Q_(R),Ex(R,R.return);break;case 27:X_(R);case 26:case 5:Gf(I,R,g),g&&T===null&&ne&4&&K_(R),Ex(R,R.return);break;case 12:Gf(I,R,g);break;case 31:Gf(I,R,g),g&&ne&4&&iz(I,R);break;case 13:Gf(I,R,g),g&&ne&4&&rz(I,R);break;case 22:R.memoizedState===null&&Gf(I,R,g),Ex(R,R.return);break;case 30:break;default:Gf(I,R,g)}f=f.sibling}}function DI(h,f){var g=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(g=h.memoizedState.cachePool.pool),h=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(h=f.memoizedState.cachePool.pool),h!==g&&(h!=null&&h.refCount++,g!=null&&r0(g))}function EI(h,f){h=null,f.alternate!==null&&(h=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==h&&(f.refCount++,h!=null&&r0(h))}function Bh(h,f,g,T){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)az(h,f,g,T),f=f.sibling}function az(h,f,g,T){var I=f.flags;switch(f.tag){case 0:case 11:case 15:Bh(h,f,g,T),I&2048&&Dx(9,f);break;case 1:Bh(h,f,g,T);break;case 3:Bh(h,f,g,T),I&2048&&(h=null,f.alternate!==null&&(h=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==h&&(f.refCount++,h!=null&&r0(h)));break;case 12:if(I&2048){Bh(h,f,g,T),h=f.stateNode;try{var R=f.memoizedProps,ne=R.id,ye=R.onPostCommit;typeof ye=="function"&&ye(ne,f.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Ve){Vn(f,f.return,Ve)}}else Bh(h,f,g,T);break;case 31:Bh(h,f,g,T);break;case 13:Bh(h,f,g,T);break;case 23:break;case 22:R=f.stateNode,ne=f.alternate,f.memoizedState!==null?R._visibility&2?Bh(h,f,g,T):Ax(h,f):R._visibility&2?Bh(h,f,g,T):(R._visibility|=2,ly(h,f,g,T,(f.subtreeFlags&10256)!==0||!1)),I&2048&&DI(ne,f);break;case 24:Bh(h,f,g,T),I&2048&&EI(f.alternate,f);break;default:Bh(h,f,g,T)}}function ly(h,f,g,T,I){for(I=I&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var R=h,ne=f,ye=g,Ve=T,dt=ne.flags;switch(ne.tag){case 0:case 11:case 15:ly(R,ne,ye,Ve,I),Dx(8,ne);break;case 23:break;case 22:var Ct=ne.stateNode;ne.memoizedState!==null?Ct._visibility&2?ly(R,ne,ye,Ve,I):Ax(R,ne):(Ct._visibility|=2,ly(R,ne,ye,Ve,I)),I&&dt&2048&&DI(ne.alternate,ne);break;case 24:ly(R,ne,ye,Ve,I),I&&dt&2048&&EI(ne.alternate,ne);break;default:ly(R,ne,ye,Ve,I)}f=f.sibling}}function Ax(h,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=h,T=f,I=T.flags;switch(T.tag){case 22:Ax(g,T),I&2048&&DI(T.alternate,T);break;case 24:Ax(g,T),I&2048&&EI(T.alternate,T);break;default:Ax(g,T)}f=f.sibling}}var Sx=8192;function cy(h,f,g){if(h.subtreeFlags&Sx)for(h=h.child;h!==null;)oz(h,f,g),h=h.sibling}function oz(h,f,g){switch(h.tag){case 26:cy(h,f,g),h.flags&Sx&&h.memoizedState!==null&&aee(g,Fh,h.memoizedState,h.memoizedProps);break;case 5:cy(h,f,g);break;case 3:case 4:var T=Fh;Fh=$b(h.stateNode.containerInfo),cy(h,f,g),Fh=T;break;case 22:h.memoizedState===null&&(T=h.alternate,T!==null&&T.memoizedState!==null?(T=Sx,Sx=16777216,cy(h,f,g),Sx=T):cy(h,f,g));break;default:cy(h,f,g)}}function lz(h){var f=h.alternate;if(f!==null&&(h=f.child,h!==null)){f.child=null;do f=h.sibling,h.sibling=null,h=f;while(h!==null)}}function Nx(h){var f=h.deletions;if((h.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var T=f[g];Uo=T,uz(T,h)}lz(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)cz(h),h=h.sibling}function cz(h){switch(h.tag){case 0:case 11:case 15:Nx(h),h.flags&2048&&vm(9,h,h.return);break;case 3:Nx(h);break;case 12:Nx(h);break;case 22:var f=h.stateNode;h.memoizedState!==null&&f._visibility&2&&(h.return===null||h.return.tag!==13)?(f._visibility&=-3,Rb(h)):Nx(h);break;default:Nx(h)}}function Rb(h){var f=h.deletions;if((h.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var T=f[g];Uo=T,uz(T,h)}lz(h)}for(h=h.child;h!==null;){switch(f=h,f.tag){case 0:case 11:case 15:vm(8,f,f.return),Rb(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,Rb(f));break;default:Rb(f)}h=h.sibling}}function uz(h,f){for(;Uo!==null;){var g=Uo;switch(g.tag){case 0:case 11:case 15:vm(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var T=g.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:r0(g.memoizedState.cache)}if(T=g.child,T!==null)T.return=g,Uo=T;else e:for(g=h;Uo!==null;){T=Uo;var I=T.sibling,R=T.return;if(ez(T),T===g){Uo=null;break e}if(I!==null){I.return=R,Uo=I;break e}Uo=R}}}var wZ={getCacheForType:function(h){var f=wo(sa),g=f.data.get(h);return g===void 0&&(g=h(),f.data.set(h,g)),g},cacheSignal:function(){return wo(sa).controller.signal}},TZ=typeof WeakMap=="function"?WeakMap:Map,Cn=0,fs=null,Vr=null,Qr=0,Un=0,cu=null,ym=!1,uy=!1,AI=!1,Kf=0,Ta=0,xm=0,c0=0,SI=0,uu=0,hy=0,Ix=null,Hc=null,NI=!1,Pb=0,hz=0,Fb=1/0,Bb=null,Mm=null,bo=0,wm=null,dy=null,$f=0,II=0,CI=null,dz=null,Cx=0,OI=null;function hu(){return(Cn&2)!==0&&Qr!==0?Qr&-Qr:U.T!==null?RI():fe()}function fz(){if(uu===0)if((Qr&536870912)===0||Ur){var h=sn;sn<<=1,(sn&3932160)===0&&(sn=262144),uu=h}else uu=536870912;return h=zs.current,h!==null&&(h.flags|=32),uu}function Wc(h,f,g){(h===fs&&(Un===2||Un===9)||h.cancelPendingCommit!==null)&&(fy(h,0),Tm(h,Qr,uu,!1)),Pi(h,g),((Cn&2)===0||h!==fs)&&(h===fs&&((Cn&2)===0&&(c0|=g),Ta===4&&Tm(h,Qr,uu,!1)),kd(h))}function pz(h,f,g){if((Cn&6)!==0)throw Error(i(327));var T=!g&&(f&127)===0&&(f&h.expiredLanes)===0||Lo(h,f),I=T?EZ(h,f):LI(h,f,!0),R=T;do{if(I===0){uy&&!T&&Tm(h,f,0,!1);break}else{if(g=h.current.alternate,R&&!bZ(g)){I=LI(h,f,!1),R=!1;continue}if(I===2){if(R=f,h.errorRecoveryDisabledLanes&R)var ne=0;else ne=h.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){f=ne;e:{var ye=h;I=Ix;var Ve=ye.current.memoizedState.isDehydrated;if(Ve&&(fy(ye,ne).flags|=256),ne=LI(ye,ne,!1),ne!==2){if(AI&&!Ve){ye.errorRecoveryDisabledLanes|=R,c0|=R,I=4;break e}R=Hc,Hc=I,R!==null&&(Hc===null?Hc=R:Hc.push.apply(Hc,R))}I=ne}if(R=!1,I!==2)continue}}if(I===1){fy(h,0),Tm(h,f,0,!0);break}e:{switch(T=h,R=I,R){case 0:case 1:throw Error(i(345));case 4:if((f&4194048)!==f)break;case 6:Tm(T,f,uu,!ym);break e;case 2:Hc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((f&62914560)===f&&(I=Pb+300-Mt(),10<I)){if(Tm(T,f,uu,!ym),dr(T,0,!0)!==0)break e;$f=f,T.timeoutHandle=Yz(mz.bind(null,T,g,Hc,Bb,NI,f,uu,c0,hy,ym,R,"Throttled",-0,0),I);break e}mz(T,g,Hc,Bb,NI,f,uu,c0,hy,ym,R,null,-0,0)}}break}while(!0);kd(h)}function mz(h,f,g,T,I,R,ne,ye,Ve,dt,Ct,Pt,gt,wt){if(h.timeoutHandle=-1,Pt=f.subtreeFlags,Pt&8192||(Pt&16785408)===16785408){Pt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ma},oz(f,R,Pt);var Ci=(R&62914560)===R?Pb-Mt():(R&4194048)===R?hz-Mt():0;if(Ci=oee(Pt,Ci),Ci!==null){$f=R,h.cancelPendingCommit=Ci(bz.bind(null,h,f,R,g,T,I,ne,ye,Ve,Ct,Pt,null,gt,wt)),Tm(h,R,ne,!dt);return}}bz(h,f,R,g,T,I,ne,ye,Ve)}function bZ(h){for(var f=h;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var T=0;T<g.length;T++){var I=g[T],R=I.getSnapshot;I=I.value;try{if(!vo(R(),I))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Tm(h,f,g,T){f&=~SI,f&=~c0,h.suspendedLanes|=f,h.pingedLanes&=~f,T&&(h.warmLanes|=f),T=h.expirationTimes;for(var I=f;0<I;){var R=31-bi(I),ne=1<<R;T[R]=-1,I&=~ne}g!==0&&el(h,g,f)}function Ub(){return(Cn&6)===0?(Ox(0),!1):!0}function kI(){if(Vr!==null){if(Un===0)var h=Vr.return;else h=Vr,Vu=bd=null,ty(h),Ft=null,ki=0,h=Vr;for(;h!==null;)q_(h.alternate,h),h=h.return;Vr=null}}function fy(h,f){var g=h.timeoutHandle;g!==-1&&(h.timeoutHandle=-1,HZ(g)),g=h.cancelPendingCommit,g!==null&&(h.cancelPendingCommit=null,g()),$f=0,kI(),fs=h,Vr=g=kc(h.current,null),Qr=f,Un=0,cu=null,ym=!1,uy=Lo(h,f),AI=!1,hy=uu=SI=c0=xm=Ta=0,Hc=Ix=null,NI=!1,(f&8)!==0&&(f|=f&32);var T=h.entangledLanes;if(T!==0)for(h=h.entanglements,T&=f;0<T;){var I=31-bi(T),R=1<<I;f|=h[I],T&=~R}return Kf=f,Xg(),g}function gz(h,f){Yi=null,U.H=wx,f===We||f===ke?(f=kt(),Un=3):f===ct?(f=kt(),Un=4):Un=f===uI?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,cu=f,Vr===null&&(Ta=1,Cb(h,Lc(f,h.current)))}function vz(){var h=zs.current;return h===null?!0:(Qr&4194048)===Qr?on===null:(Qr&62914560)===Qr||(Qr&536870912)!==0?h===on:!1}function yz(){var h=U.H;return U.H=wx,h===null?wx:h}function xz(){var h=U.A;return U.A=wZ,h}function Vb(){Ta=4,ym||(Qr&4194048)!==Qr&&zs.current!==null||(uy=!0),(xm&134217727)===0&&(c0&134217727)===0||fs===null||Tm(fs,Qr,uu,!1)}function LI(h,f,g){var T=Cn;Cn|=2;var I=yz(),R=xz();(fs!==h||Qr!==f)&&(Bb=null,fy(h,f)),f=!1;var ne=Ta;e:do try{if(Un!==0&&Vr!==null){var ye=Vr,Ve=cu;switch(Un){case 8:kI(),ne=6;break e;case 3:case 2:case 9:case 6:zs.current===null&&(f=!0);var dt=Un;if(Un=0,cu=null,py(h,ye,Ve,dt),g&&uy){ne=0;break e}break;default:dt=Un,Un=0,cu=null,py(h,ye,Ve,dt)}}DZ(),ne=Ta;break}catch(Ct){gz(h,Ct)}while(!0);return f&&h.shellSuspendCounter++,Vu=bd=null,Cn=T,U.H=I,U.A=R,Vr===null&&(fs=null,Qr=0,Xg()),ne}function DZ(){for(;Vr!==null;)Mz(Vr)}function EZ(h,f){var g=Cn;Cn|=2;var T=yz(),I=xz();fs!==h||Qr!==f?(Bb=null,Fb=Mt()+500,fy(h,f)):uy=Lo(h,f);e:do try{if(Un!==0&&Vr!==null){f=Vr;var R=cu;t:switch(Un){case 1:Un=0,cu=null,py(h,f,R,1);break;case 2:case 9:if(nt(R)){Un=0,cu=null,wz(f);break}f=function(){Un!==2&&Un!==9||fs!==h||(Un=7),kd(h)},R.then(f,f);break e;case 3:Un=7;break e;case 4:Un=5;break e;case 7:nt(R)?(Un=0,cu=null,wz(f)):(Un=0,cu=null,py(h,f,R,7));break;case 5:var ne=null;switch(Vr.tag){case 26:ne=Vr.memoizedState;case 5:case 27:var ye=Vr;if(ne?aR(ne):ye.stateNode.complete){Un=0,cu=null;var Ve=ye.sibling;if(Ve!==null)Vr=Ve;else{var dt=ye.return;dt!==null?(Vr=dt,Hb(dt)):Vr=null}break t}}Un=0,cu=null,py(h,f,R,5);break;case 6:Un=0,cu=null,py(h,f,R,6);break;case 8:kI(),Ta=6;break e;default:throw Error(i(462))}}AZ();break}catch(Ct){gz(h,Ct)}while(!0);return Vu=bd=null,U.H=T,U.A=I,Cn=g,Vr!==null?0:(fs=null,Qr=0,Xg(),Ta)}function AZ(){for(;Vr!==null&&!Ri();)Mz(Vr)}function Mz(h){var f=W_(h.alternate,h,Kf);h.memoizedProps=h.pendingProps,f===null?Hb(h):Vr=f}function wz(h){var f=h,g=f.alternate;switch(f.tag){case 15:case 0:f=P_(g,f,f.pendingProps,f.type,void 0,Qr);break;case 11:f=P_(g,f,f.pendingProps,f.type.render,f.ref,Qr);break;case 5:ty(f);default:q_(g,f),f=Vr=e0(f,Kf),f=W_(g,f,Kf)}h.memoizedProps=h.pendingProps,f===null?Hb(h):Vr=f}function py(h,f,g,T){Vu=bd=null,ty(f),Ft=null,ki=0;var I=f.return;try{if(pZ(h,I,f,g,Qr)){Ta=1,Cb(h,Lc(g,h.current)),Vr=null;return}}catch(R){if(I!==null)throw Vr=I,R;Ta=1,Cb(h,Lc(g,h.current)),Vr=null;return}f.flags&32768?(Ur||T===1?h=!0:uy||(Qr&536870912)!==0?h=!1:(ym=h=!0,(T===2||T===9||T===3||T===6)&&(T=zs.current,T!==null&&T.tag===13&&(T.flags|=16384))),Tz(f,h)):Hb(f)}function Hb(h){var f=h;do{if((f.flags&32768)!==0){Tz(f,ym);return}h=f.return;var g=vZ(f.alternate,f,Kf);if(g!==null){Vr=g;return}if(f=f.sibling,f!==null){Vr=f;return}Vr=f=h}while(f!==null);Ta===0&&(Ta=5)}function Tz(h,f){do{var g=yZ(h.alternate,h);if(g!==null){g.flags&=32767,Vr=g;return}if(g=h.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(h=h.sibling,h!==null)){Vr=h;return}Vr=h=g}while(h!==null);Ta=6,Vr=null}function bz(h,f,g,T,I,R,ne,ye,Ve){h.cancelPendingCommit=null;do Wb();while(bo!==0);if((Cn&6)!==0)throw Error(i(327));if(f!==null){if(f===h.current)throw Error(i(177));if(R=f.lanes|f.childLanes,R|=Uv,Fn(h,g,R,ne,ye,Ve),h===fs&&(Vr=fs=null,Qr=0),dy=f,wm=h,$f=g,II=R,CI=I,dz=T,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,CZ(he,function(){return Nz(),null})):(h.callbackNode=null,h.callbackPriority=0),T=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||T){T=U.T,U.T=null,I=W.p,W.p=2,ne=Cn,Cn|=4;try{xZ(h,f,g)}finally{Cn=ne,W.p=I,U.T=T}}bo=1,Dz(),Ez(),Az()}}function Dz(){if(bo===1){bo=0;var h=wm,f=dy,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=U.T,U.T=null;var T=W.p;W.p=2;var I=Cn;Cn|=4;try{nz(f,h);var R=YI,ne=Oh(h.containerInfo),ye=R.focusedElem,Ve=R.selectionRange;if(ne!==ye&&ye&&ye.ownerDocument&&Ch(ye.ownerDocument.documentElement,ye)){if(Ve!==null&&Bu(ye)){var dt=Ve.start,Ct=Ve.end;if(Ct===void 0&&(Ct=dt),"selectionStart"in ye)ye.selectionStart=dt,ye.selectionEnd=Math.min(Ct,ye.value.length);else{var Pt=ye.ownerDocument||document,gt=Pt&&Pt.defaultView||window;if(gt.getSelection){var wt=gt.getSelection(),Ci=ye.textContent.length,er=Math.min(Ve.start,Ci),ns=Ve.end===void 0?er:Math.min(Ve.end,Ci);!wt.extend&&er>ns&&(ne=ns,ns=er,er=ne);var tt=am(ye,er),Ye=am(ye,ns);if(tt&&Ye&&(wt.rangeCount!==1||wt.anchorNode!==tt.node||wt.anchorOffset!==tt.offset||wt.focusNode!==Ye.node||wt.focusOffset!==Ye.offset)){var ht=Pt.createRange();ht.setStart(tt.node,tt.offset),wt.removeAllRanges(),er>ns?(wt.addRange(ht),wt.extend(Ye.node,Ye.offset)):(ht.setEnd(Ye.node,Ye.offset),wt.addRange(ht))}}}}for(Pt=[],wt=ye;wt=wt.parentNode;)wt.nodeType===1&&Pt.push({element:wt,left:wt.scrollLeft,top:wt.scrollTop});for(typeof ye.focus=="function"&&ye.focus(),ye=0;ye<Pt.length;ye++){var jt=Pt[ye];jt.element.scrollLeft=jt.left,jt.element.scrollTop=jt.top}}iD=!!WI,YI=WI=null}finally{Cn=I,W.p=T,U.T=g}}h.current=f,bo=2}}function Ez(){if(bo===2){bo=0;var h=wm,f=dy,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=U.T,U.T=null;var T=W.p;W.p=2;var I=Cn;Cn|=4;try{Z_(h,f.alternate,f)}finally{Cn=I,W.p=T,U.T=g}}bo=3}}function Az(){if(bo===4||bo===3){bo=0,pi();var h=wm,f=dy,g=$f,T=dz;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?bo=5:(bo=0,dy=wm=null,Sz(h,h.pendingLanes));var I=h.pendingLanes;if(I===0&&(Mm=null),bs(g),f=f.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(xt,f,void 0,(f.current.flags&128)===128)}catch{}if(T!==null){f=U.T,I=W.p,W.p=2,U.T=null;try{for(var R=h.onRecoverableError,ne=0;ne<T.length;ne++){var ye=T[ne];R(ye.value,{componentStack:ye.stack})}}finally{U.T=f,W.p=I}}($f&3)!==0&&Wb(),kd(h),I=h.pendingLanes,(g&261930)!==0&&(I&42)!==0?h===OI?Cx++:(Cx=0,OI=h):Cx=0,Ox(0)}}function Sz(h,f){(h.pooledCacheLanes&=f)===0&&(f=h.pooledCache,f!=null&&(h.pooledCache=null,r0(f)))}function Wb(){return Dz(),Ez(),Az(),Nz()}function Nz(){if(bo!==5)return!1;var h=wm,f=II;II=0;var g=bs($f),T=U.T,I=W.p;try{W.p=32>g?32:g,U.T=null,g=CI,CI=null;var R=wm,ne=$f;if(bo=0,dy=wm=null,$f=0,(Cn&6)!==0)throw Error(i(331));var ye=Cn;if(Cn|=4,cz(R.current),az(R,R.current,ne,g),Cn=ye,Ox(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(xt,R)}catch{}return!0}finally{W.p=I,U.T=T,Sz(h,f)}}function Iz(h,f,g){f=Lc(g,f),f=cI(h.stateNode,f,2),h=wr(h,f,2),h!==null&&(Pi(h,2),kd(h))}function Vn(h,f,g){if(h.tag===3)Iz(h,h,g);else for(;f!==null;){if(f.tag===3){Iz(f,h,g);break}else if(f.tag===1){var T=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Mm===null||!Mm.has(T))){h=Lc(g,h),g=C_(2),T=wr(f,g,2),T!==null&&(O_(g,T,f,h),Pi(T,2),kd(T));break}}f=f.return}}function jI(h,f,g){var T=h.pingCache;if(T===null){T=h.pingCache=new TZ;var I=new Set;T.set(f,I)}else I=T.get(f),I===void 0&&(I=new Set,T.set(f,I));I.has(g)||(AI=!0,I.add(g),h=SZ.bind(null,h,f,g),f.then(h,h))}function SZ(h,f,g){var T=h.pingCache;T!==null&&T.delete(f),h.pingedLanes|=h.suspendedLanes&g,h.warmLanes&=~g,fs===h&&(Qr&g)===g&&(Ta===4||Ta===3&&(Qr&62914560)===Qr&&300>Mt()-Pb?(Cn&2)===0&&fy(h,0):SI|=g,hy===Qr&&(hy=0)),kd(h)}function Cz(h,f){f===0&&(f=Zo()),h=Lh(h,f),h!==null&&(Pi(h,f),kd(h))}function NZ(h){var f=h.memoizedState,g=0;f!==null&&(g=f.retryLane),Cz(h,g)}function IZ(h,f){var g=0;switch(h.tag){case 31:case 13:var T=h.stateNode,I=h.memoizedState;I!==null&&(g=I.retryLane);break;case 19:T=h.stateNode;break;case 22:T=h.stateNode._retryCache;break;default:throw Error(i(314))}T!==null&&T.delete(f),Cz(h,g)}function CZ(h,f){return ni(h,f)}var Yb=null,my=null,_I=!1,qb=!1,zI=!1,bm=0;function kd(h){h!==my&&h.next===null&&(my===null?Yb=my=h:my=my.next=h),qb=!0,_I||(_I=!0,kZ())}function Ox(h,f){if(!zI&&qb){zI=!0;do for(var g=!1,T=Yb;T!==null;){if(h!==0){var I=T.pendingLanes;if(I===0)var R=0;else{var ne=T.suspendedLanes,ye=T.pingedLanes;R=(1<<31-bi(42|h)+1)-1,R&=I&~(ne&~ye),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(g=!0,jz(T,R))}else R=Qr,R=dr(T,T===fs?R:0,T.cancelPendingCommit!==null||T.timeoutHandle!==-1),(R&3)===0||Lo(T,R)||(g=!0,jz(T,R));T=T.next}while(g);zI=!1}}function OZ(){Oz()}function Oz(){qb=_I=!1;var h=0;bm!==0&&VZ()&&(h=bm);for(var f=Mt(),g=null,T=Yb;T!==null;){var I=T.next,R=kz(T,f);R===0?(T.next=null,g===null?Yb=I:g.next=I,I===null&&(my=g)):(g=T,(h!==0||(R&3)!==0)&&(qb=!0)),T=I}bo!==0&&bo!==5||Ox(h),bm!==0&&(bm=0)}function kz(h,f){for(var g=h.suspendedLanes,T=h.pingedLanes,I=h.expirationTimes,R=h.pendingLanes&-62914561;0<R;){var ne=31-bi(R),ye=1<<ne,Ve=I[ne];Ve===-1?((ye&g)===0||(ye&T)!==0)&&(I[ne]=Cs(ye,f)):Ve<=f&&(h.expiredLanes|=ye),R&=~ye}if(f=fs,g=Qr,g=dr(h,h===f?g:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),T=h.callbackNode,g===0||h===f&&(Un===2||Un===9)||h.cancelPendingCommit!==null)return T!==null&&T!==null&&Yt(T),h.callbackNode=null,h.callbackPriority=0;if((g&3)===0||Lo(h,g)){if(f=g&-g,f===h.callbackPriority)return f;switch(T!==null&&Yt(T),bs(g)){case 2:case 8:g=gi;break;case 32:g=he;break;case 268435456:g=Ue;break;default:g=he}return T=Lz.bind(null,h),g=ni(g,T),h.callbackPriority=f,h.callbackNode=g,f}return T!==null&&T!==null&&Yt(T),h.callbackPriority=2,h.callbackNode=null,2}function Lz(h,f){if(bo!==0&&bo!==5)return h.callbackNode=null,h.callbackPriority=0,null;var g=h.callbackNode;if(Wb()&&h.callbackNode!==g)return null;var T=Qr;return T=dr(h,h===fs?T:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),T===0?null:(pz(h,T,f),kz(h,Mt()),h.callbackNode!=null&&h.callbackNode===g?Lz.bind(null,h):null)}function jz(h,f){if(Wb())return null;pz(h,f,!0)}function kZ(){WZ(function(){(Cn&6)!==0?ni(Xt,OZ):Oz()})}function RI(){if(bm===0){var h=A;h===0&&(h=nn,nn<<=1,(nn&261888)===0&&(nn=256)),bm=h}return bm}function _z(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:po(""+h)}function zz(h,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,h.id&&g.setAttribute("form",h.id),f.parentNode.insertBefore(g,f),h=new FormData(h),g.parentNode.removeChild(g),h}function LZ(h,f,g,T,I){if(f==="submit"&&g&&g.stateNode===I){var R=_z((I[Ce]||null).action),ne=T.submitter;ne&&(f=(f=ne[Ce]||null)?_z(f.formAction):ne.getAttribute("formAction"),f!==null&&(R=f,ne=null));var ye=new tc("action","action",null,T,I);h.push({event:ye,listeners:[{instance:null,listener:function(){if(T.defaultPrevented){if(bm!==0){var Ve=ne?zz(I,ne):new FormData(I);rI(g,{pending:!0,data:Ve,method:I.method,action:R},null,Ve)}}else typeof R=="function"&&(ye.preventDefault(),Ve=ne?zz(I,ne):new FormData(I),rI(g,{pending:!0,data:Ve,method:I.method,action:R},R,Ve))},currentTarget:I}]})}}for(var PI=0;PI<_f.length;PI++){var FI=_f[PI],jZ=FI.toLowerCase(),_Z=FI[0].toUpperCase()+FI.slice(1);Oc(jZ,"on"+_Z)}Oc(jf,"onAnimationEnd"),Oc(Kg,"onAnimationIteration"),Oc(ax,"onAnimationStart"),Oc("dblclick","onDoubleClick"),Oc("focusin","onFocus"),Oc("focusout","onBlur"),Oc(vb,"onTransitionRun"),Oc(yb,"onTransitionStart"),Oc(xb,"onTransitionCancel"),Oc(ox,"onTransitionEnd"),Ia("onMouseEnter",["mouseout","mouseover"]),Ia("onMouseLeave",["mouseout","mouseover"]),Ia("onPointerEnter",["pointerout","pointerover"]),Ia("onPointerLeave",["pointerout","pointerover"]),_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_r("onBeforeInput",["compositionend","keypress","textInput","paste"]),_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kx));function Rz(h,f){f=(f&4)!==0;for(var g=0;g<h.length;g++){var T=h[g],I=T.event;T=T.listeners;e:{var R=void 0;if(f)for(var ne=T.length-1;0<=ne;ne--){var ye=T[ne],Ve=ye.instance,dt=ye.currentTarget;if(ye=ye.listener,Ve!==R&&I.isPropagationStopped())break e;R=ye,I.currentTarget=dt;try{R(I)}catch(Ct){$g(Ct)}I.currentTarget=null,R=Ve}else for(ne=0;ne<T.length;ne++){if(ye=T[ne],Ve=ye.instance,dt=ye.currentTarget,ye=ye.listener,Ve!==R&&I.isPropagationStopped())break e;R=ye,I.currentTarget=dt;try{R(I)}catch(Ct){$g(Ct)}I.currentTarget=null,R=Ve}}}}function Hr(h,f){var g=f[rt];g===void 0&&(g=f[rt]=new Set);var T=h+"__bubble";g.has(T)||(Pz(f,h,2,!1),g.add(T))}function BI(h,f,g){var T=0;f&&(T|=4),Pz(g,h,T,f)}var Qb="_reactListening"+Math.random().toString(36).slice(2);function UI(h){if(!h[Qb]){h[Qb]=!0,Xr.forEach(function(g){g!=="selectionchange"&&(zZ.has(g)||BI(g,!1,h),BI(g,!0,h))});var f=h.nodeType===9?h:h.ownerDocument;f===null||f[Qb]||(f[Qb]=!0,BI("selectionchange",!1,f))}}function Pz(h,f,g,T){switch(fR(f)){case 2:var I=uee;break;case 8:I=hee;break;default:I=iC}g=I.bind(null,f,g,h),I=void 0,!If||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(I=!0),T?I!==void 0?h.addEventListener(f,g,{capture:!0,passive:I}):h.addEventListener(f,g,!0):I!==void 0?h.addEventListener(f,g,{passive:I}):h.addEventListener(f,g,!1)}function VI(h,f,g,T,I){var R=T;if((f&1)===0&&(f&2)===0&&T!==null)e:for(;;){if(T===null)return;var ne=T.tag;if(ne===3||ne===4){var ye=T.stateNode.containerInfo;if(ye===I)break;if(ne===4)for(ne=T.return;ne!==null;){var Ve=ne.tag;if((Ve===3||Ve===4)&&ne.stateNode.containerInfo===I)return;ne=ne.return}for(;ye!==null;){if(ne=Jt(ye),ne===null)return;if(Ve=ne.tag,Ve===5||Ve===6||Ve===26||Ve===27){T=R=ne;continue e}ye=ye.parentNode}}T=T.return}im(function(){var dt=R,Ct=ku(g),Pt=[];e:{var gt=lx.get(h);if(gt!==void 0){var wt=tc,Ci=h;switch(h){case"keypress":if(Ec(g)===0)break e;case"keydown":case"keyup":wt=qr;break;case"focusin":Ci="focus",wt=Al;break;case"focusout":Ci="blur",wt=Al;break;case"beforeblur":case"afterblur":wt=Al;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":wt=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":wt=Cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":wt=Ks;break;case jf:case Kg:case ax:wt=V;break;case ox:wt=$s;break;case"scroll":case"scrollend":wt=Ah;break;case"wheel":wt=mo;break;case"copy":case"cut":case"paste":wt=je;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":wt=Ds;break;case"toggle":case"beforetoggle":wt=ic}var er=(f&4)!==0,ns=!er&&(h==="scroll"||h==="scrollend"),tt=er?gt!==null?gt+"Capture":null:gt;er=[];for(var Ye=dt,ht;Ye!==null;){var jt=Ye;if(ht=jt.stateNode,jt=jt.tag,jt!==5&&jt!==26&&jt!==27||ht===null||tt===null||(jt=Gs(Ye,tt),jt!=null&&er.push(Lx(Ye,jt,ht))),ns)break;Ye=Ye.return}0<er.length&&(gt=new wt(gt,Ci,null,g,Ct),Pt.push({event:gt,listeners:er}))}}if((f&7)===0){e:{if(gt=h==="mouseover"||h==="pointerover",wt=h==="mouseout"||h==="pointerout",gt&&g!==bc&&(Ci=g.relatedTarget||g.fromElement)&&(Jt(Ci)||Ci[ze]))break e;if((wt||gt)&&(gt=Ct.window===Ct?Ct:(gt=Ct.ownerDocument)?gt.defaultView||gt.parentWindow:window,wt?(Ci=g.relatedTarget||g.toElement,wt=dt,Ci=Ci?Jt(Ci):null,Ci!==null&&(ns=s(Ci),er=Ci.tag,Ci!==ns||er!==5&&er!==27&&er!==6)&&(Ci=null)):(wt=null,Ci=dt),wt!==Ci)){if(er=Ic,jt="onMouseLeave",tt="onMouseEnter",Ye="mouse",(h==="pointerout"||h==="pointerover")&&(er=Ds,jt="onPointerLeave",tt="onPointerEnter",Ye="pointer"),ns=wt==null?gt:Qt(wt),ht=Ci==null?gt:Qt(Ci),gt=new er(jt,Ye+"leave",wt,g,Ct),gt.target=ns,gt.relatedTarget=ht,jt=null,Jt(Ct)===dt&&(er=new er(tt,Ye+"enter",Ci,g,Ct),er.target=ht,er.relatedTarget=ns,jt=er),ns=jt,wt&&Ci)t:{for(er=RZ,tt=wt,Ye=Ci,ht=0,jt=tt;jt;jt=er(jt))ht++;jt=0;for(var Xi=Ye;Xi;Xi=er(Xi))jt++;for(;0<ht-jt;)tt=er(tt),ht--;for(;0<jt-ht;)Ye=er(Ye),jt--;for(;ht--;){if(tt===Ye||Ye!==null&&tt===Ye.alternate){er=tt;break t}tt=er(tt),Ye=er(Ye)}er=null}else er=null;wt!==null&&Fz(Pt,gt,wt,er,!1),Ci!==null&&ns!==null&&Fz(Pt,ns,Ci,er,!0)}}e:{if(gt=dt?Qt(dt):window,wt=gt.nodeName&&gt.nodeName.toLowerCase(),wt==="select"||wt==="input"&&gt.type==="file")var Mn=xd;else if(go(gt))if(Sl)Mn=Pu;else{Mn=ra;var Fi=nm}else wt=gt.nodeName,!wt||wt.toLowerCase()!=="input"||gt.type!=="checkbox"&&gt.type!=="radio"?dt&&Af(dt.elementType)&&(Mn=xd):Mn=Bv;if(Mn&&(Mn=Mn(h,dt))){Ja(Pt,Mn,g,Ct);break e}Fi&&Fi(h,gt,dt),h==="focusout"&&dt&&gt.type==="number"&&dt.memoizedProps.value!=null&&vd(gt,"number",gt.value)}switch(Fi=dt?Qt(dt):window,h){case"focusin":(go(Fi)||Fi.contentEditable==="true")&&(nc=Fi,kh=dt,zo=null);break;case"focusout":zo=kh=nc=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,pn(Pt,g,Ct);break;case"selectionchange":if(Lf)break;case"keydown":case"keyup":pn(Pt,g,Ct)}var Nr;if(K)e:{switch(h){case"compositionstart":var Gr="onCompositionStart";break e;case"compositionend":Gr="onCompositionEnd";break e;case"compositionupdate":Gr="onCompositionUpdate";break e}Gr=void 0}else pr?zr(h,g)&&(Gr="onCompositionEnd"):h==="keydown"&&g.keyCode===229&&(Gr="onCompositionStart");Gr&&(it&&g.locale!=="ko"&&(pr||Gr!=="onCompositionStart"?Gr==="onCompositionEnd"&&pr&&(Nr=ec()):($a=Ct,Lu="value"in $a?$a.value:$a.textContent,pr=!0)),Fi=Gb(dt,Gr),0<Fi.length&&(Gr=new et(Gr,h,null,g,Ct),Pt.push({event:Gr,listeners:Fi}),Nr?Gr.data=Nr:(Nr=Es(g),Nr!==null&&(Gr.data=Nr)))),(Nr=Te?Sr(h,g):Zn(h,g))&&(Gr=Gb(dt,"onBeforeInput"),0<Gr.length&&(Fi=new et("onBeforeInput","beforeinput",null,g,Ct),Pt.push({event:Fi,listeners:Gr}),Fi.data=Nr)),LZ(Pt,h,dt,g,Ct)}Rz(Pt,f)})}function Lx(h,f,g){return{instance:h,listener:f,currentTarget:g}}function Gb(h,f){for(var g=f+"Capture",T=[];h!==null;){var I=h,R=I.stateNode;if(I=I.tag,I!==5&&I!==26&&I!==27||R===null||(I=Gs(h,g),I!=null&&T.unshift(Lx(h,I,R)),I=Gs(h,f),I!=null&&T.push(Lx(h,I,R))),h.tag===3)return T;h=h.return}return[]}function RZ(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function Fz(h,f,g,T,I){for(var R=f._reactName,ne=[];g!==null&&g!==T;){var ye=g,Ve=ye.alternate,dt=ye.stateNode;if(ye=ye.tag,Ve!==null&&Ve===T)break;ye!==5&&ye!==26&&ye!==27||dt===null||(Ve=dt,I?(dt=Gs(g,R),dt!=null&&ne.unshift(Lx(g,dt,Ve))):I||(dt=Gs(g,R),dt!=null&&ne.push(Lx(g,dt,Ve)))),g=g.return}ne.length!==0&&h.push({event:f,listeners:ne})}var PZ=/\r\n?/g,FZ=/\u0000|\uFFFD/g;function Bz(h){return(typeof h=="string"?h:""+h).replace(PZ,`
`).replace(FZ,"")}function Uz(h,f){return f=Bz(f),Bz(h)===f}function rs(h,f,g,T,I,R){switch(g){case"children":typeof T=="string"?f==="body"||f==="textarea"&&T===""||Ca(h,T):(typeof T=="number"||typeof T=="bigint")&&f!=="body"&&Ca(h,""+T);break;case"className":Iu(h,"class",T);break;case"tabIndex":Iu(h,"tabindex",T);break;case"dir":case"role":case"viewBox":case"width":case"height":Iu(h,g,T);break;case"style":em(h,T,R);break;case"data":if(f!=="object"){Iu(h,"data",T);break}case"src":case"href":if(T===""&&(f!=="a"||g!=="href")){h.removeAttribute(g);break}if(T==null||typeof T=="function"||typeof T=="symbol"||typeof T=="boolean"){h.removeAttribute(g);break}T=po(""+T),h.setAttribute(g,T);break;case"action":case"formAction":if(typeof T=="function"){h.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(g==="formAction"?(f!=="input"&&rs(h,f,"name",I.name,I,null),rs(h,f,"formEncType",I.formEncType,I,null),rs(h,f,"formMethod",I.formMethod,I,null),rs(h,f,"formTarget",I.formTarget,I,null)):(rs(h,f,"encType",I.encType,I,null),rs(h,f,"method",I.method,I,null),rs(h,f,"target",I.target,I,null)));if(T==null||typeof T=="symbol"||typeof T=="boolean"){h.removeAttribute(g);break}T=po(""+T),h.setAttribute(g,T);break;case"onClick":T!=null&&(h.onclick=ma);break;case"onScroll":T!=null&&Hr("scroll",h);break;case"onScrollEnd":T!=null&&Hr("scrollend",h);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(i(61));if(g=T.__html,g!=null){if(I.children!=null)throw Error(i(60));h.innerHTML=g}}break;case"multiple":h.multiple=T&&typeof T!="function"&&typeof T!="symbol";break;case"muted":h.muted=T&&typeof T!="function"&&typeof T!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(T==null||typeof T=="function"||typeof T=="boolean"||typeof T=="symbol"){h.removeAttribute("xlink:href");break}g=po(""+T),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":T!=null&&typeof T!="function"&&typeof T!="symbol"?h.setAttribute(g,""+T):h.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":T&&typeof T!="function"&&typeof T!="symbol"?h.setAttribute(g,""):h.removeAttribute(g);break;case"capture":case"download":T===!0?h.setAttribute(g,""):T!==!1&&T!=null&&typeof T!="function"&&typeof T!="symbol"?h.setAttribute(g,T):h.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":T!=null&&typeof T!="function"&&typeof T!="symbol"&&!isNaN(T)&&1<=T?h.setAttribute(g,T):h.removeAttribute(g);break;case"rowSpan":case"start":T==null||typeof T=="function"||typeof T=="symbol"||isNaN(T)?h.removeAttribute(g):h.setAttribute(g,T);break;case"popover":Hr("beforetoggle",h),Hr("toggle",h),ks(h,"popover",T);break;case"xlinkActuate":dn(h,"http://www.w3.org/1999/xlink","xlink:actuate",T);break;case"xlinkArcrole":dn(h,"http://www.w3.org/1999/xlink","xlink:arcrole",T);break;case"xlinkRole":dn(h,"http://www.w3.org/1999/xlink","xlink:role",T);break;case"xlinkShow":dn(h,"http://www.w3.org/1999/xlink","xlink:show",T);break;case"xlinkTitle":dn(h,"http://www.w3.org/1999/xlink","xlink:title",T);break;case"xlinkType":dn(h,"http://www.w3.org/1999/xlink","xlink:type",T);break;case"xmlBase":dn(h,"http://www.w3.org/XML/1998/namespace","xml:base",T);break;case"xmlLang":dn(h,"http://www.w3.org/XML/1998/namespace","xml:lang",T);break;case"xmlSpace":dn(h,"http://www.w3.org/XML/1998/namespace","xml:space",T);break;case"is":ks(h,"is",T);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Sf.get(g)||g,ks(h,g,T))}}function HI(h,f,g,T,I,R){switch(g){case"style":em(h,T,R);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(i(61));if(g=T.__html,g!=null){if(I.children!=null)throw Error(i(60));h.innerHTML=g}}break;case"children":typeof T=="string"?Ca(h,T):(typeof T=="number"||typeof T=="bigint")&&Ca(h,""+T);break;case"onScroll":T!=null&&Hr("scroll",h);break;case"onScrollEnd":T!=null&&Hr("scrollend",h);break;case"onClick":T!=null&&(h.onclick=ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fr.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(I=g.endsWith("Capture"),f=g.slice(2,I?g.length-7:void 0),R=h[Ce]||null,R=R!=null?R[g]:null,typeof R=="function"&&h.removeEventListener(f,R,I),typeof T=="function")){typeof R!="function"&&R!==null&&(g in h?h[g]=null:h.hasAttribute(g)&&h.removeAttribute(g)),h.addEventListener(f,T,I);break e}g in h?h[g]=T:T===!0?h.setAttribute(g,""):ks(h,g,T)}}}function ul(h,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Hr("error",h),Hr("load",h);var T=!1,I=!1,R;for(R in g)if(g.hasOwnProperty(R)){var ne=g[R];if(ne!=null)switch(R){case"src":T=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:rs(h,f,R,ne,g,null)}}I&&rs(h,f,"srcSet",g.srcSet,g,null),T&&rs(h,f,"src",g.src,g,null);return;case"input":Hr("invalid",h);var ye=R=ne=I=null,Ve=null,dt=null;for(T in g)if(g.hasOwnProperty(T)){var Ct=g[T];if(Ct!=null)switch(T){case"name":I=Ct;break;case"type":ne=Ct;break;case"checked":Ve=Ct;break;case"defaultChecked":dt=Ct;break;case"value":R=Ct;break;case"defaultValue":ye=Ct;break;case"children":case"dangerouslySetInnerHTML":if(Ct!=null)throw Error(i(137,f));break;default:rs(h,f,T,Ct,g,null)}}Dh(h,R,ye,Ve,dt,ne,I,!1);return;case"select":Hr("invalid",h),T=ne=R=null;for(I in g)if(g.hasOwnProperty(I)&&(ye=g[I],ye!=null))switch(I){case"value":R=ye;break;case"defaultValue":ne=ye;break;case"multiple":T=ye;default:rs(h,f,I,ye,g,null)}f=R,g=ne,h.multiple=!!T,f!=null?Mr(h,!!T,f,!1):g!=null&&Mr(h,!!T,g,!0);return;case"textarea":Hr("invalid",h),R=I=T=null;for(ne in g)if(g.hasOwnProperty(ne)&&(ye=g[ne],ye!=null))switch(ne){case"value":T=ye;break;case"defaultValue":I=ye;break;case"children":R=ye;break;case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(91));break;default:rs(h,f,ne,ye,g,null)}su(h,T,I,R);return;case"option":for(Ve in g)if(g.hasOwnProperty(Ve)&&(T=g[Ve],T!=null))switch(Ve){case"selected":h.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:rs(h,f,Ve,T,g,null)}return;case"dialog":Hr("beforetoggle",h),Hr("toggle",h),Hr("cancel",h),Hr("close",h);break;case"iframe":case"object":Hr("load",h);break;case"video":case"audio":for(T=0;T<kx.length;T++)Hr(kx[T],h);break;case"image":Hr("error",h),Hr("load",h);break;case"details":Hr("toggle",h);break;case"embed":case"source":case"link":Hr("error",h),Hr("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(dt in g)if(g.hasOwnProperty(dt)&&(T=g[dt],T!=null))switch(dt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:rs(h,f,dt,T,g,null)}return;default:if(Af(f)){for(Ct in g)g.hasOwnProperty(Ct)&&(T=g[Ct],T!==void 0&&HI(h,f,Ct,T,g,void 0));return}}for(ye in g)g.hasOwnProperty(ye)&&(T=g[ye],T!=null&&rs(h,f,ye,T,g,null))}function BZ(h,f,g,T){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,R=null,ne=null,ye=null,Ve=null,dt=null,Ct=null;for(wt in g){var Pt=g[wt];if(g.hasOwnProperty(wt)&&Pt!=null)switch(wt){case"checked":break;case"value":break;case"defaultValue":Ve=Pt;default:T.hasOwnProperty(wt)||rs(h,f,wt,null,T,Pt)}}for(var gt in T){var wt=T[gt];if(Pt=g[gt],T.hasOwnProperty(gt)&&(wt!=null||Pt!=null))switch(gt){case"type":R=wt;break;case"name":I=wt;break;case"checked":dt=wt;break;case"defaultChecked":Ct=wt;break;case"value":ne=wt;break;case"defaultValue":ye=wt;break;case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(i(137,f));break;default:wt!==Pt&&rs(h,f,gt,wt,T,Pt)}}Cu(h,ne,ye,Ve,dt,Ct,R,I);return;case"select":wt=ne=ye=gt=null;for(R in g)if(Ve=g[R],g.hasOwnProperty(R)&&Ve!=null)switch(R){case"value":break;case"multiple":wt=Ve;default:T.hasOwnProperty(R)||rs(h,f,R,null,T,Ve)}for(I in T)if(R=T[I],Ve=g[I],T.hasOwnProperty(I)&&(R!=null||Ve!=null))switch(I){case"value":gt=R;break;case"defaultValue":ye=R;break;case"multiple":ne=R;default:R!==Ve&&rs(h,f,I,R,T,Ve)}f=ye,g=ne,T=wt,gt!=null?Mr(h,!!g,gt,!1):!!T!=!!g&&(f!=null?Mr(h,!!g,f,!0):Mr(h,!!g,g?[]:"",!1));return;case"textarea":wt=gt=null;for(ye in g)if(I=g[ye],g.hasOwnProperty(ye)&&I!=null&&!T.hasOwnProperty(ye))switch(ye){case"value":break;case"children":break;default:rs(h,f,ye,null,T,I)}for(ne in T)if(I=T[ne],R=g[ne],T.hasOwnProperty(ne)&&(I!=null||R!=null))switch(ne){case"value":gt=I;break;case"defaultValue":wt=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:I!==R&&rs(h,f,ne,I,T,R)}Ou(h,gt,wt);return;case"option":for(var Ci in g)if(gt=g[Ci],g.hasOwnProperty(Ci)&&gt!=null&&!T.hasOwnProperty(Ci))switch(Ci){case"selected":h.selected=!1;break;default:rs(h,f,Ci,null,T,gt)}for(Ve in T)if(gt=T[Ve],wt=g[Ve],T.hasOwnProperty(Ve)&&gt!==wt&&(gt!=null||wt!=null))switch(Ve){case"selected":h.selected=gt&&typeof gt!="function"&&typeof gt!="symbol";break;default:rs(h,f,Ve,gt,T,wt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var er in g)gt=g[er],g.hasOwnProperty(er)&&gt!=null&&!T.hasOwnProperty(er)&&rs(h,f,er,null,T,gt);for(dt in T)if(gt=T[dt],wt=g[dt],T.hasOwnProperty(dt)&&gt!==wt&&(gt!=null||wt!=null))switch(dt){case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(i(137,f));break;default:rs(h,f,dt,gt,T,wt)}return;default:if(Af(f)){for(var ns in g)gt=g[ns],g.hasOwnProperty(ns)&&gt!==void 0&&!T.hasOwnProperty(ns)&&HI(h,f,ns,void 0,T,gt);for(Ct in T)gt=T[Ct],wt=g[Ct],!T.hasOwnProperty(Ct)||gt===wt||gt===void 0&&wt===void 0||HI(h,f,Ct,gt,T,wt);return}}for(var tt in g)gt=g[tt],g.hasOwnProperty(tt)&&gt!=null&&!T.hasOwnProperty(tt)&&rs(h,f,tt,null,T,gt);for(Pt in T)gt=T[Pt],wt=g[Pt],!T.hasOwnProperty(Pt)||gt===wt||gt==null&&wt==null||rs(h,f,Pt,gt,T,wt)}function Vz(h){switch(h){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UZ(){if(typeof performance.getEntriesByType=="function"){for(var h=0,f=0,g=performance.getEntriesByType("resource"),T=0;T<g.length;T++){var I=g[T],R=I.transferSize,ne=I.initiatorType,ye=I.duration;if(R&&ye&&Vz(ne)){for(ne=0,ye=I.responseEnd,T+=1;T<g.length;T++){var Ve=g[T],dt=Ve.startTime;if(dt>ye)break;var Ct=Ve.transferSize,Pt=Ve.initiatorType;Ct&&Vz(Pt)&&(Ve=Ve.responseEnd,ne+=Ct*(Ve<ye?1:(ye-dt)/(Ve-dt)))}if(--T,f+=8*(R+ne)/(I.duration/1e3),h++,10<h)break}}if(0<h)return f/h/1e6}return navigator.connection&&(h=navigator.connection.downlink,typeof h=="number")?h:5}var WI=null,YI=null;function Kb(h){return h.nodeType===9?h:h.ownerDocument}function Hz(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wz(h,f){if(h===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&f==="foreignObject"?0:h}function qI(h,f){return h==="textarea"||h==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var QI=null;function VZ(){var h=window.event;return h&&h.type==="popstate"?h===QI?!1:(QI=h,!0):(QI=null,!1)}var Yz=typeof setTimeout=="function"?setTimeout:void 0,HZ=typeof clearTimeout=="function"?clearTimeout:void 0,qz=typeof Promise=="function"?Promise:void 0,WZ=typeof queueMicrotask=="function"?queueMicrotask:typeof qz<"u"?function(h){return qz.resolve(null).then(h).catch(YZ)}:Yz;function YZ(h){setTimeout(function(){throw h})}function Dm(h){return h==="head"}function Qz(h,f){var g=f,T=0;do{var I=g.nextSibling;if(h.removeChild(g),I&&I.nodeType===8)if(g=I.data,g==="/$"||g==="/&"){if(T===0){h.removeChild(I),xy(f);return}T--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")T++;else if(g==="html")jx(h.ownerDocument.documentElement);else if(g==="head"){g=h.ownerDocument.head,jx(g);for(var R=g.firstChild;R;){var ne=R.nextSibling,ye=R.nodeName;R[lt]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&R.rel.toLowerCase()==="stylesheet"||g.removeChild(R),R=ne}}else g==="body"&&jx(h.ownerDocument.body);g=I}while(g);xy(f)}function Gz(h,f){var g=h;h=0;do{var T=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(h===0)break;h--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||h++;g=T}while(g)}function GI(h){var f=h.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":GI(g),Vt(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}h.removeChild(g)}}function qZ(h,f,g,T){for(;h.nodeType===1;){var I=g;if(h.nodeName.toLowerCase()!==f.toLowerCase()){if(!T&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(T){if(!h[lt])switch(f){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(R=h.getAttribute("rel"),R==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(R!==I.rel||h.getAttribute("href")!==(I.href==null||I.href===""?null:I.href)||h.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||h.getAttribute("title")!==(I.title==null?null:I.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(R=h.getAttribute("src"),(R!==(I.src==null?null:I.src)||h.getAttribute("type")!==(I.type==null?null:I.type)||h.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&R&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(f==="input"&&h.type==="hidden"){var R=I.name==null?null:""+I.name;if(I.type==="hidden"&&h.getAttribute("name")===R)return h}else return h;if(h=Yu(h.nextSibling),h===null)break}return null}function QZ(h,f,g){if(f==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!g||(h=Yu(h.nextSibling),h===null))return null;return h}function Kz(h,f){for(;h.nodeType!==8;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!f||(h=Yu(h.nextSibling),h===null))return null;return h}function KI(h){return h.data==="$?"||h.data==="$~"}function $I(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState!=="loading"}function GZ(h,f){var g=h.ownerDocument;if(h.data==="$~")h._reactRetry=f;else if(h.data!=="$?"||g.readyState!=="loading")f();else{var T=function(){f(),g.removeEventListener("DOMContentLoaded",T)};g.addEventListener("DOMContentLoaded",T),h._reactRetry=T}}function Yu(h){for(;h!=null;h=h.nextSibling){var f=h.nodeType;if(f===1||f===3)break;if(f===8){if(f=h.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return h}var XI=null;function $z(h){h=h.nextSibling;for(var f=0;h;){if(h.nodeType===8){var g=h.data;if(g==="/$"||g==="/&"){if(f===0)return Yu(h.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}h=h.nextSibling}return null}function Xz(h){h=h.previousSibling;for(var f=0;h;){if(h.nodeType===8){var g=h.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return h;f--}else g!=="/$"&&g!=="/&"||f++}h=h.previousSibling}return null}function Jz(h,f,g){switch(f=Kb(g),h){case"html":if(h=f.documentElement,!h)throw Error(i(452));return h;case"head":if(h=f.head,!h)throw Error(i(453));return h;case"body":if(h=f.body,!h)throw Error(i(454));return h;default:throw Error(i(451))}}function jx(h){for(var f=h.attributes;f.length;)h.removeAttributeNode(f[0]);Vt(h)}var qu=new Map,Zz=new Set;function $b(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Xf=W.d;W.d={f:KZ,r:$Z,D:XZ,C:JZ,L:ZZ,m:eee,X:iee,S:tee,M:ree};function KZ(){var h=Xf.f(),f=Ub();return h||f}function $Z(h){var f=ai(h);f!==null&&f.tag===5&&f.type==="form"?g_(f):Xf.r(h)}var gy=typeof document>"u"?null:document;function eR(h,f,g){var T=gy;if(T&&typeof f=="string"&&f){var I=Xn(f);I='link[rel="'+h+'"][href="'+I+'"]',typeof g=="string"&&(I+='[crossorigin="'+g+'"]'),Zz.has(I)||(Zz.add(I),h={rel:h,crossOrigin:g,href:f},T.querySelector(I)===null&&(f=T.createElement("link"),ul(f,"link",h),yi(f),T.head.appendChild(f)))}}function XZ(h){Xf.D(h),eR("dns-prefetch",h,null)}function JZ(h,f){Xf.C(h,f),eR("preconnect",h,f)}function ZZ(h,f,g){Xf.L(h,f,g);var T=gy;if(T&&h&&f){var I='link[rel="preload"][as="'+Xn(f)+'"]';f==="image"&&g&&g.imageSrcSet?(I+='[imagesrcset="'+Xn(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(I+='[imagesizes="'+Xn(g.imageSizes)+'"]')):I+='[href="'+Xn(h)+'"]';var R=I;switch(f){case"style":R=vy(h);break;case"script":R=yy(h)}qu.has(R)||(h=d({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:h,as:f},g),qu.set(R,h),T.querySelector(I)!==null||f==="style"&&T.querySelector(_x(R))||f==="script"&&T.querySelector(zx(R))||(f=T.createElement("link"),ul(f,"link",h),yi(f),T.head.appendChild(f)))}}function eee(h,f){Xf.m(h,f);var g=gy;if(g&&h){var T=f&&typeof f.as=="string"?f.as:"script",I='link[rel="modulepreload"][as="'+Xn(T)+'"][href="'+Xn(h)+'"]',R=I;switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=yy(h)}if(!qu.has(R)&&(h=d({rel:"modulepreload",href:h},f),qu.set(R,h),g.querySelector(I)===null)){switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(zx(R)))return}T=g.createElement("link"),ul(T,"link",h),yi(T),g.head.appendChild(T)}}}function tee(h,f,g){Xf.S(h,f,g);var T=gy;if(T&&h){var I=ii(T).hoistableStyles,R=vy(h);f=f||"default";var ne=I.get(R);if(!ne){var ye={loading:0,preload:null};if(ne=T.querySelector(_x(R)))ye.loading=5;else{h=d({rel:"stylesheet",href:h,"data-precedence":f},g),(g=qu.get(R))&&JI(h,g);var Ve=ne=T.createElement("link");yi(Ve),ul(Ve,"link",h),Ve._p=new Promise(function(dt,Ct){Ve.onload=dt,Ve.onerror=Ct}),Ve.addEventListener("load",function(){ye.loading|=1}),Ve.addEventListener("error",function(){ye.loading|=2}),ye.loading|=4,Xb(ne,f,T)}ne={type:"stylesheet",instance:ne,count:1,state:ye},I.set(R,ne)}}}function iee(h,f){Xf.X(h,f);var g=gy;if(g&&h){var T=ii(g).hoistableScripts,I=yy(h),R=T.get(I);R||(R=g.querySelector(zx(I)),R||(h=d({src:h,async:!0},f),(f=qu.get(I))&&ZI(h,f),R=g.createElement("script"),yi(R),ul(R,"link",h),g.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},T.set(I,R))}}function ree(h,f){Xf.M(h,f);var g=gy;if(g&&h){var T=ii(g).hoistableScripts,I=yy(h),R=T.get(I);R||(R=g.querySelector(zx(I)),R||(h=d({src:h,async:!0,type:"module"},f),(f=qu.get(I))&&ZI(h,f),R=g.createElement("script"),yi(R),ul(R,"link",h),g.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},T.set(I,R))}}function tR(h,f,g,T){var I=(I=te.current)?$b(I):null;if(!I)throw Error(i(446));switch(h){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=vy(g.href),g=ii(I).hoistableStyles,T=g.get(f),T||(T={type:"style",instance:null,count:0,state:null},g.set(f,T)),T):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){h=vy(g.href);var R=ii(I).hoistableStyles,ne=R.get(h);if(ne||(I=I.ownerDocument||I,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(h,ne),(R=I.querySelector(_x(h)))&&!R._p&&(ne.instance=R,ne.state.loading=5),qu.has(h)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},qu.set(h,g),R||nee(I,h,g,ne.state))),f&&T===null)throw Error(i(528,""));return ne}if(f&&T!==null)throw Error(i(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=yy(g),g=ii(I).hoistableScripts,T=g.get(f),T||(T={type:"script",instance:null,count:0,state:null},g.set(f,T)),T):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,h))}}function vy(h){return'href="'+Xn(h)+'"'}function _x(h){return'link[rel="stylesheet"]['+h+"]"}function iR(h){return d({},h,{"data-precedence":h.precedence,precedence:null})}function nee(h,f,g,T){h.querySelector('link[rel="preload"][as="style"]['+f+"]")?T.loading=1:(f=h.createElement("link"),T.preload=f,f.addEventListener("load",function(){return T.loading|=1}),f.addEventListener("error",function(){return T.loading|=2}),ul(f,"link",g),yi(f),h.head.appendChild(f))}function yy(h){return'[src="'+Xn(h)+'"]'}function zx(h){return"script[async]"+h}function rR(h,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var T=h.querySelector('style[data-href~="'+Xn(g.href)+'"]');if(T)return f.instance=T,yi(T),T;var I=d({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return T=(h.ownerDocument||h).createElement("style"),yi(T),ul(T,"style",I),Xb(T,g.precedence,h),f.instance=T;case"stylesheet":I=vy(g.href);var R=h.querySelector(_x(I));if(R)return f.state.loading|=4,f.instance=R,yi(R),R;T=iR(g),(I=qu.get(I))&&JI(T,I),R=(h.ownerDocument||h).createElement("link"),yi(R);var ne=R;return ne._p=new Promise(function(ye,Ve){ne.onload=ye,ne.onerror=Ve}),ul(R,"link",T),f.state.loading|=4,Xb(R,g.precedence,h),f.instance=R;case"script":return R=yy(g.src),(I=h.querySelector(zx(R)))?(f.instance=I,yi(I),I):(T=g,(I=qu.get(R))&&(T=d({},g),ZI(T,I)),h=h.ownerDocument||h,I=h.createElement("script"),yi(I),ul(I,"link",T),h.head.appendChild(I),f.instance=I);case"void":return null;default:throw Error(i(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(T=f.instance,f.state.loading|=4,Xb(T,g.precedence,h));return f.instance}function Xb(h,f,g){for(var T=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=T.length?T[T.length-1]:null,R=I,ne=0;ne<T.length;ne++){var ye=T[ne];if(ye.dataset.precedence===f)R=ye;else if(R!==I)break}R?R.parentNode.insertBefore(h,R.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(h,f.firstChild))}function JI(h,f){h.crossOrigin==null&&(h.crossOrigin=f.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=f.referrerPolicy),h.title==null&&(h.title=f.title)}function ZI(h,f){h.crossOrigin==null&&(h.crossOrigin=f.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=f.referrerPolicy),h.integrity==null&&(h.integrity=f.integrity)}var Jb=null;function nR(h,f,g){if(Jb===null){var T=new Map,I=Jb=new Map;I.set(g,T)}else I=Jb,T=I.get(g),T||(T=new Map,I.set(g,T));if(T.has(h))return T;for(T.set(h,null),g=g.getElementsByTagName(h),I=0;I<g.length;I++){var R=g[I];if(!(R[lt]||R[De]||h==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=R.getAttribute(f)||"";ne=h+ne;var ye=T.get(ne);ye?ye.push(R):T.set(ne,[R])}}return T}function sR(h,f,g){h=h.ownerDocument||h,h.head.insertBefore(g,f==="title"?h.querySelector("head > title"):null)}function see(h,f,g){if(g===1||f.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return h=f.disabled,typeof f.precedence=="string"&&h==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function aR(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}function aee(h,f,g,T){if(g.type==="stylesheet"&&(typeof T.media!="string"||matchMedia(T.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var I=vy(T.href),R=f.querySelector(_x(I));if(R){f=R._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(h.count++,h=Zb.bind(h),f.then(h,h)),g.state.loading|=4,g.instance=R,yi(R);return}R=f.ownerDocument||f,T=iR(T),(I=qu.get(I))&&JI(T,I),R=R.createElement("link"),yi(R);var ne=R;ne._p=new Promise(function(ye,Ve){ne.onload=ye,ne.onerror=Ve}),ul(R,"link",T),g.instance=R}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(h.count++,g=Zb.bind(h),f.addEventListener("load",g),f.addEventListener("error",g))}}var eC=0;function oee(h,f){return h.stylesheets&&h.count===0&&tD(h,h.stylesheets),0<h.count||0<h.imgCount?function(g){var T=setTimeout(function(){if(h.stylesheets&&tD(h,h.stylesheets),h.unsuspend){var R=h.unsuspend;h.unsuspend=null,R()}},6e4+f);0<h.imgBytes&&eC===0&&(eC=62500*UZ());var I=setTimeout(function(){if(h.waitingForImages=!1,h.count===0&&(h.stylesheets&&tD(h,h.stylesheets),h.unsuspend)){var R=h.unsuspend;h.unsuspend=null,R()}},(h.imgBytes>eC?50:800)+f);return h.unsuspend=g,function(){h.unsuspend=null,clearTimeout(T),clearTimeout(I)}}:null}function Zb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tD(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var eD=null;function tD(h,f){h.stylesheets=null,h.unsuspend!==null&&(h.count++,eD=new Map,f.forEach(lee,h),eD=null,Zb.call(h))}function lee(h,f){if(!(f.state.loading&4)){var g=eD.get(h);if(g)var T=g.get(null);else{g=new Map,eD.set(h,g);for(var I=h.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<I.length;R++){var ne=I[R];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(g.set(ne.dataset.precedence,ne),T=ne)}T&&g.set(null,T)}I=f.instance,ne=I.getAttribute("data-precedence"),R=g.get(ne)||T,R===T&&g.set(null,I),g.set(ne,I),this.count++,T=Zb.bind(this),I.addEventListener("load",T),I.addEventListener("error",T),R?R.parentNode.insertBefore(I,R.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(I,h.firstChild)),f.state.loading|=4}}var Rx={$$typeof:E,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function cee(h,f,g,T,I,R,ne,ye,Ve){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.hiddenUpdates=pa(null),this.identifierPrefix=T,this.onUncaughtError=I,this.onCaughtError=R,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ve,this.incompleteTransitions=new Map}function oR(h,f,g,T,I,R,ne,ye,Ve,dt,Ct,Pt){return h=new cee(h,f,g,ne,Ve,dt,Ct,Pt,ye),f=1,R===!0&&(f|=24),R=Po(3,null,null,f),h.current=R,R.stateNode=h,f=dm(),f.refCount++,h.pooledCache=f,f.refCount++,R.memoizedState={element:T,isDehydrated:g,cache:f},li(R),h}function lR(h){return h?(h=yo,h):yo}function cR(h,f,g,T,I,R){I=lR(I),T.context===null?T.context=I:T.pendingContext=I,T=Zi(f),T.payload={element:g},R=R===void 0?null:R,R!==null&&(T.callback=R),g=wr(h,T,f),g!==null&&(Wc(g,h,f),Nn(g,h,f))}function uR(h,f){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var g=h.retryLane;h.retryLane=g!==0&&g<f?g:f}}function tC(h,f){uR(h,f),(h=h.alternate)&&uR(h,f)}function hR(h){if(h.tag===13||h.tag===31){var f=Lh(h,67108864);f!==null&&Wc(f,h,67108864),tC(h,67108864)}}function dR(h){if(h.tag===13||h.tag===31){var f=hu();f=zn(f);var g=Lh(h,f);g!==null&&Wc(g,h,f),tC(h,f)}}var iD=!0;function uee(h,f,g,T){var I=U.T;U.T=null;var R=W.p;try{W.p=2,iC(h,f,g,T)}finally{W.p=R,U.T=I}}function hee(h,f,g,T){var I=U.T;U.T=null;var R=W.p;try{W.p=8,iC(h,f,g,T)}finally{W.p=R,U.T=I}}function iC(h,f,g,T){if(iD){var I=rC(T);if(I===null)VI(h,f,T,rD,g),pR(h,T);else if(fee(I,h,f,g,T))T.stopPropagation();else if(pR(h,T),f&4&&-1<dee.indexOf(h)){for(;I!==null;){var R=ai(I);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var ne=_i(R.pendingLanes);if(ne!==0){var ye=R;for(ye.pendingLanes|=2,ye.entangledLanes|=2;ne;){var Ve=1<<31-bi(ne);ye.entanglements[1]|=Ve,ne&=~Ve}kd(R),(Cn&6)===0&&(Fb=Mt()+500,Ox(0))}}break;case 31:case 13:ye=Lh(R,2),ye!==null&&Wc(ye,R,2),Ub(),tC(R,2)}if(R=rC(T),R===null&&VI(h,f,T,rD,g),R===I)break;I=R}I!==null&&T.stopPropagation()}else VI(h,f,T,null,g)}}function rC(h){return h=ku(h),nC(h)}var rD=null;function nC(h){if(rD=null,h=Jt(h),h!==null){var f=s(h);if(f===null)h=null;else{var g=f.tag;if(g===13){if(h=a(f),h!==null)return h;h=null}else if(g===31){if(h=o(f),h!==null)return h;h=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;h=null}else f!==h&&(h=null)}}return rD=h,null}function fR(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bt()){case Xt:return 2;case gi:return 8;case he:case Ne:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var sC=!1,Em=null,Am=null,Sm=null,Px=new Map,Fx=new Map,Nm=[],dee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pR(h,f){switch(h){case"focusin":case"focusout":Em=null;break;case"dragenter":case"dragleave":Am=null;break;case"mouseover":case"mouseout":Sm=null;break;case"pointerover":case"pointerout":Px.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fx.delete(f.pointerId)}}function Bx(h,f,g,T,I,R){return h===null||h.nativeEvent!==R?(h={blockedOn:f,domEventName:g,eventSystemFlags:T,nativeEvent:R,targetContainers:[I]},f!==null&&(f=ai(f),f!==null&&hR(f)),h):(h.eventSystemFlags|=T,f=h.targetContainers,I!==null&&f.indexOf(I)===-1&&f.push(I),h)}function fee(h,f,g,T,I){switch(f){case"focusin":return Em=Bx(Em,h,f,g,T,I),!0;case"dragenter":return Am=Bx(Am,h,f,g,T,I),!0;case"mouseover":return Sm=Bx(Sm,h,f,g,T,I),!0;case"pointerover":var R=I.pointerId;return Px.set(R,Bx(Px.get(R)||null,h,f,g,T,I)),!0;case"gotpointercapture":return R=I.pointerId,Fx.set(R,Bx(Fx.get(R)||null,h,f,g,T,I)),!0}return!1}function mR(h){var f=Jt(h.target);if(f!==null){var g=s(f);if(g!==null){if(f=g.tag,f===13){if(f=a(g),f!==null){h.blockedOn=f,Le(h.priority,function(){dR(g)});return}}else if(f===31){if(f=o(g),f!==null){h.blockedOn=f,Le(h.priority,function(){dR(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){h.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}h.blockedOn=null}function nD(h){if(h.blockedOn!==null)return!1;for(var f=h.targetContainers;0<f.length;){var g=rC(h.nativeEvent);if(g===null){g=h.nativeEvent;var T=new g.constructor(g.type,g);bc=T,g.target.dispatchEvent(T),bc=null}else return f=ai(g),f!==null&&hR(f),h.blockedOn=g,!1;f.shift()}return!0}function gR(h,f,g){nD(h)&&g.delete(f)}function pee(){sC=!1,Em!==null&&nD(Em)&&(Em=null),Am!==null&&nD(Am)&&(Am=null),Sm!==null&&nD(Sm)&&(Sm=null),Px.forEach(gR),Fx.forEach(gR)}function sD(h,f){h.blockedOn===f&&(h.blockedOn=null,sC||(sC=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pee)))}var aD=null;function vR(h){aD!==h&&(aD=h,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){aD===h&&(aD=null);for(var f=0;f<h.length;f+=3){var g=h[f],T=h[f+1],I=h[f+2];if(typeof T!="function"){if(nC(T||g)===null)continue;break}var R=ai(g);R!==null&&(h.splice(f,3),f-=3,rI(R,{pending:!0,data:I,method:g.method,action:T},T,I))}}))}function xy(h){function f(Ve){return sD(Ve,h)}Em!==null&&sD(Em,h),Am!==null&&sD(Am,h),Sm!==null&&sD(Sm,h),Px.forEach(f),Fx.forEach(f);for(var g=0;g<Nm.length;g++){var T=Nm[g];T.blockedOn===h&&(T.blockedOn=null)}for(;0<Nm.length&&(g=Nm[0],g.blockedOn===null);)mR(g),g.blockedOn===null&&Nm.shift();if(g=(h.ownerDocument||h).$$reactFormReplay,g!=null)for(T=0;T<g.length;T+=3){var I=g[T],R=g[T+1],ne=I[Ce]||null;if(typeof R=="function")ne||vR(g);else if(ne){var ye=null;if(R&&R.hasAttribute("formAction")){if(I=R,ne=R[Ce]||null)ye=ne.formAction;else if(nC(I)!==null)continue}else ye=ne.action;typeof ye=="function"?g[T+1]=ye:(g.splice(T,3),T-=3),vR(g)}}}function yR(){function h(R){R.canIntercept&&R.info==="react-transition"&&R.intercept({handler:function(){return new Promise(function(ne){return I=ne})},focusReset:"manual",scroll:"manual"})}function f(){I!==null&&(I(),I=null),T||setTimeout(g,20)}function g(){if(!T&&!navigation.transition){var R=navigation.currentEntry;R&&R.url!=null&&navigation.navigate(R.url,{state:R.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var T=!1,I=null;return navigation.addEventListener("navigate",h),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){T=!0,navigation.removeEventListener("navigate",h),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),I!==null&&(I(),I=null)}}}function aC(h){this._internalRoot=h}oD.prototype.render=aC.prototype.render=function(h){var f=this._internalRoot;if(f===null)throw Error(i(409));var g=f.current,T=hu();cR(g,T,h,f,null,null)},oD.prototype.unmount=aC.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var f=h.containerInfo;cR(h.current,2,null,h,null,null),Ub(),f[ze]=null}};function oD(h){this._internalRoot=h}oD.prototype.unstable_scheduleHydration=function(h){if(h){var f=fe();h={blockedOn:null,target:h,priority:f};for(var g=0;g<Nm.length&&f!==0&&f<Nm[g].priority;g++);Nm.splice(g,0,h),g===0&&mR(h)}};var xR=t.version;if(xR!=="19.2.0")throw Error(i(527,xR,"19.2.0"));W.findDOMNode=function(h){var f=h._reactInternals;if(f===void 0)throw typeof h.render=="function"?Error(i(188)):(h=Object.keys(h).join(","),Error(i(268,h)));return h=c(f),h=h!==null?u(h):null,h=h===null?null:h.stateNode,h};var mee={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lD=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lD.isDisabled&&lD.supportsFiber)try{xt=lD.inject(mee),Nt=lD}catch{}}return Vx.createRoot=function(h,f){if(!n(h))throw Error(i(299));var g=!1,T="",I=A_,R=S_,ne=N_;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(T=f.identifierPrefix),f.onUncaughtError!==void 0&&(I=f.onUncaughtError),f.onCaughtError!==void 0&&(R=f.onCaughtError),f.onRecoverableError!==void 0&&(ne=f.onRecoverableError)),f=oR(h,1,!1,null,null,g,T,null,I,R,ne,yR),h[ze]=f.current,UI(h),new aC(f)},Vx.hydrateRoot=function(h,f,g){if(!n(h))throw Error(i(299));var T=!1,I="",R=A_,ne=S_,ye=N_,Ve=null;return g!=null&&(g.unstable_strictMode===!0&&(T=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onUncaughtError!==void 0&&(R=g.onUncaughtError),g.onCaughtError!==void 0&&(ne=g.onCaughtError),g.onRecoverableError!==void 0&&(ye=g.onRecoverableError),g.formState!==void 0&&(Ve=g.formState)),f=oR(h,1,!0,f,g??null,T,I,Ve,R,ne,ye,yR),f.context=lR(null),g=f.current,T=hu(),T=zn(T),I=Zi(T),I.callback=null,wr(g,I,T),g=T,f.current.lanes=g,Pi(f,g),kd(f),h[ze]=f.current,UI(h),new oD(f)},Vx.version="19.2.0",Vx}var IR;function Aee(){if(IR)return cC.exports;IR=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),cC.exports=Eee(),cC.exports}var See=Aee(),M9=x9();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pw(){return Pw=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Pw.apply(this,arguments)}var ag;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(ag||(ag={}));const CR="popstate";function Nee(r){r===void 0&&(r={});function t(i,n){let{pathname:s,search:a,hash:o}=i.location;return E5("",{pathname:s,search:a,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function e(i,n){return typeof n=="string"?n:dA(n)}return Cee(t,e,null,r)}function qa(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function w9(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Iee(){return Math.random().toString(36).substr(2,8)}function OR(r,t){return{usr:r.state,key:r.key,idx:t}}function E5(r,t,e,i){return e===void 0&&(e=null),Pw({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof t=="string"?Q1(t):t,{state:e,key:t&&t.key||i||Iee()})}function dA(r){let{pathname:t="/",search:e="",hash:i=""}=r;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Q1(r){let t={};if(r){let e=r.indexOf("#");e>=0&&(t.hash=r.substr(e),r=r.substr(0,e));let i=r.indexOf("?");i>=0&&(t.search=r.substr(i),r=r.substr(0,i)),r&&(t.pathname=r)}return t}function Cee(r,t,e,i){i===void 0&&(i={});let{window:n=document.defaultView,v5Compat:s=!1}=i,a=n.history,o=ag.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Pw({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=ag.Pop;let w=u(),b=w==null?null:w-c;c=w,l&&l({action:o,location:M.location,delta:b})}function p(w,b){o=ag.Push;let D=E5(M.location,w,b);c=u()+1;let E=OR(D,c),N=M.createHref(D);try{a.pushState(E,"",N)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;n.location.assign(N)}s&&l&&l({action:o,location:M.location,delta:1})}function m(w,b){o=ag.Replace;let D=E5(M.location,w,b);c=u();let E=OR(D,c),N=M.createHref(D);a.replaceState(E,"",N),s&&l&&l({action:o,location:M.location,delta:0})}function y(w){let b=n.location.origin!=="null"?n.location.origin:n.location.href,D=typeof w=="string"?w:dA(w);return D=D.replace(/ $/,"%20"),qa(b,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,b)}let M={get action(){return o},get location(){return r(n,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(CR,d),l=w,()=>{n.removeEventListener(CR,d),l=null}},createHref(w){return t(n,w)},createURL:y,encodeLocation(w){let b=y(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:m,go(w){return a.go(w)}};return M}var kR;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(kR||(kR={}));function Oee(r,t,e){return e===void 0&&(e="/"),kee(r,t,e)}function kee(r,t,e,i){let n=typeof t=="string"?Q1(t):t,s=Hk(n.pathname||"/",e);if(s==null)return null;let a=T9(r);Lee(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=Yee(s);o=Vee(a[l],c)}return o}function T9(r,t,e,i){t===void 0&&(t=[]),e===void 0&&(e=[]),i===void 0&&(i="");let n=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(qa(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=pg([i,l.relativePath]),u=e.concat(l);s.children&&s.children.length>0&&(qa(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),T9(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:Bee(c,s.index),routesMeta:u})};return r.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))n(s,a);else for(let l of b9(s.path))n(s,a,l)}),t}function b9(r){let t=r.split("/");if(t.length===0)return[];let[e,...i]=t,n=e.endsWith("?"),s=e.replace(/\?$/,"");if(i.length===0)return n?[s,""]:[s];let a=b9(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),n&&o.push(...a),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function Lee(r){r.sort((t,e)=>t.score!==e.score?e.score-t.score:Uee(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}const jee=/^:[\w-]+$/,_ee=3,zee=2,Ree=1,Pee=10,Fee=-2,LR=r=>r==="*";function Bee(r,t){let e=r.split("/"),i=e.length;return e.some(LR)&&(i+=Fee),t&&(i+=zee),e.filter(n=>!LR(n)).reduce((n,s)=>n+(jee.test(s)?_ee:s===""?Ree:Pee),i)}function Uee(r,t){return r.length===t.length&&r.slice(0,-1).every((i,n)=>i===t[n])?r[r.length-1]-t[t.length-1]:0}function Vee(r,t,e){let{routesMeta:i}=r,n={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,u=s==="/"?t:t.slice(s.length)||"/",d=Hee({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!d)return null;Object.assign(n,d.params),a.push({params:n,pathname:pg([s,d.pathname]),pathnameBase:Kee(pg([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=pg([s,d.pathnameBase]))}return a}function Hee(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[e,i]=Wee(r.path,r.caseSensitive,r.end),n=t.match(e);if(!n)return null;let s=n[0],a=s.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:i.reduce((c,u,d)=>{let{paramName:p,isOptional:m}=u;if(p==="*"){let M=o[d]||"";a=s.slice(0,s.length-M.length).replace(/(.)\/+$/,"$1")}const y=o[d];return m&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:r}}function Wee(r,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),w9(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],n="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),n+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?n+="\\/*$":r!==""&&r!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),i]}function Yee(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return w9(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),r}}function Hk(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=r.charAt(e);return i&&i!=="/"?null:r.slice(e)||"/"}function qee(r,t){t===void 0&&(t="/");let{pathname:e,search:i="",hash:n=""}=typeof r=="string"?Q1(r):r;return{pathname:e?e.startsWith("/")?e:Qee(e,t):t,search:$ee(i),hash:Xee(n)}}function Qee(r,t){let e=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(n=>{n===".."?e.length>1&&e.pop():n!=="."&&e.push(n)}),e.length>1?e.join("/"):"/"}function fC(r,t,e,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gee(r){return r.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Wk(r,t){let e=Gee(r);return t?e.map((i,n)=>n===e.length-1?i.pathname:i.pathnameBase):e.map(i=>i.pathnameBase)}function Yk(r,t,e,i){i===void 0&&(i=!1);let n;typeof r=="string"?n=Q1(r):(n=Pw({},r),qa(!n.pathname||!n.pathname.includes("?"),fC("?","pathname","search",n)),qa(!n.pathname||!n.pathname.includes("#"),fC("#","pathname","hash",n)),qa(!n.search||!n.search.includes("#"),fC("#","search","hash",n)));let s=r===""||n.pathname==="",a=s?"/":n.pathname,o;if(a==null)o=e;else{let d=t.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;n.pathname=p.join("/")}o=d>=0?t[d]:"/"}let l=qee(n,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const pg=r=>r.join("/").replace(/\/\/+/g,"/"),Kee=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$ee=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Xee=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Jee(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const D9=["post","put","patch","delete"];new Set(D9);const Zee=["get",...D9];new Set(Zee);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fw(){return Fw=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Fw.apply(this,arguments)}const qk=ce.createContext(null),ete=ce.createContext(null),Pg=ce.createContext(null),US=ce.createContext(null),Fg=ce.createContext({outlet:null,matches:[],isDataRoute:!1}),E9=ce.createContext(null);function tte(r,t){let{relative:e}=t===void 0?{}:t;G1()||qa(!1);let{basename:i,navigator:n}=ce.useContext(Pg),{hash:s,pathname:a,search:o}=S9(r,{relative:e}),l=a;return i!=="/"&&(l=a==="/"?i:pg([i,a])),n.createHref({pathname:l,search:o,hash:s})}function G1(){return ce.useContext(US)!=null}function wv(){return G1()||qa(!1),ce.useContext(US).location}function A9(r){ce.useContext(Pg).static||ce.useLayoutEffect(r)}function VS(){let{isDataRoute:r}=ce.useContext(Fg);return r?pte():ite()}function ite(){G1()||qa(!1);let r=ce.useContext(qk),{basename:t,future:e,navigator:i}=ce.useContext(Pg),{matches:n}=ce.useContext(Fg),{pathname:s}=wv(),a=JSON.stringify(Wk(n,e.v7_relativeSplatPath)),o=ce.useRef(!1);return A9(()=>{o.current=!0}),ce.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){i.go(c);return}let d=Yk(c,JSON.parse(a),s,u.relative==="path");r==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:pg([t,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[t,i,a,s,r])}function S9(r,t){let{relative:e}=t===void 0?{}:t,{future:i}=ce.useContext(Pg),{matches:n}=ce.useContext(Fg),{pathname:s}=wv(),a=JSON.stringify(Wk(n,i.v7_relativeSplatPath));return ce.useMemo(()=>Yk(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function rte(r,t){return nte(r,t)}function nte(r,t,e,i){G1()||qa(!1);let{navigator:n}=ce.useContext(Pg),{matches:s}=ce.useContext(Fg),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=wv(),u;if(t){var d;let w=typeof t=="string"?Q1(t):t;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||qa(!1),u=w}else u=c;let p=u.pathname||"/",m=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=Oee(r,{pathname:m}),M=cte(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:pg([l,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:pg([l,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,e,i);return t&&M?ce.createElement(US.Provider,{value:{location:Fw({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ag.Pop}},M):M}function ste(){let r=fte(),t=Jee(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),e=r instanceof Error?r.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},t),e?ce.createElement("pre",{style:n},e):null,null)}const ate=ce.createElement(ste,null);class ote extends ce.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?ce.createElement(Fg.Provider,{value:this.props.routeContext},ce.createElement(E9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lte(r){let{routeContext:t,match:e,children:i}=r,n=ce.useContext(qk);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ce.createElement(Fg.Provider,{value:t},i)}function cte(r,t,e,i){var n;if(t===void 0&&(t=[]),e===void 0&&(e=null),i===void 0&&(i=null),r==null){var s;if(!e)return null;if(e.errors)r=e.matches;else if((s=i)!=null&&s.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)r=e.matches;else return null}let a=r,o=(n=e)==null?void 0:n.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);u>=0||qa(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(e&&i&&i.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:p,errors:m}=e,y=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,p)=>{let m,y=!1,M=null,w=null;e&&(m=o&&d.route.id?o[d.route.id]:void 0,M=d.route.errorElement||ate,l&&(c<0&&p===0?(mte("route-fallback"),y=!0,w=null):c===p&&(y=!0,w=d.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,p+1)),D=()=>{let E;return m?E=M:y?E=w:d.route.Component?E=ce.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,ce.createElement(lte,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:e!=null},children:E})};return e&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?ce.createElement(ote,{location:e.location,revalidation:e.revalidation,component:M,error:m,children:D(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):D()},null)}var N9=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(N9||{}),I9=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(I9||{});function ute(r){let t=ce.useContext(qk);return t||qa(!1),t}function hte(r){let t=ce.useContext(ete);return t||qa(!1),t}function dte(r){let t=ce.useContext(Fg);return t||qa(!1),t}function C9(r){let t=dte(),e=t.matches[t.matches.length-1];return e.route.id||qa(!1),e.route.id}function fte(){var r;let t=ce.useContext(E9),e=hte(),i=C9();return t!==void 0?t:(r=e.errors)==null?void 0:r[i]}function pte(){let{router:r}=ute(N9.UseNavigateStable),t=C9(I9.UseNavigateStable),e=ce.useRef(!1);return A9(()=>{e.current=!0}),ce.useCallback(function(n,s){s===void 0&&(s={}),e.current&&(typeof n=="number"?r.navigate(n):r.navigate(n,Fw({fromRouteId:t},s)))},[r,t])}const jR={};function mte(r,t,e){jR[r]||(jR[r]=!0)}function gte(r,t){r?.v7_startTransition,r?.v7_relativeSplatPath}function A5(r){let{to:t,replace:e,state:i,relative:n}=r;G1()||qa(!1);let{future:s,static:a}=ce.useContext(Pg),{matches:o}=ce.useContext(Fg),{pathname:l}=wv(),c=VS(),u=Yk(t,Wk(o,s.v7_relativeSplatPath),l,n==="path"),d=JSON.stringify(u);return ce.useEffect(()=>c(JSON.parse(d),{replace:e,state:i,relative:n}),[c,d,n,e,i]),null}function Rl(r){qa(!1)}function vte(r){let{basename:t="/",children:e=null,location:i,navigationType:n=ag.Pop,navigator:s,static:a=!1,future:o}=r;G1()&&qa(!1);let l=t.replace(/^\/*/,"/"),c=ce.useMemo(()=>({basename:l,navigator:s,static:a,future:Fw({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof i=="string"&&(i=Q1(i));let{pathname:u="/",search:d="",hash:p="",state:m=null,key:y="default"}=i,M=ce.useMemo(()=>{let w=Hk(u,l);return w==null?null:{location:{pathname:w,search:d,hash:p,state:m,key:y},navigationType:n}},[l,u,d,p,m,y,n]);return M==null?null:ce.createElement(Pg.Provider,{value:c},ce.createElement(US.Provider,{children:e,value:M}))}function yte(r){let{children:t,location:e}=r;return rte(S5(t),e)}new Promise(()=>{});function S5(r,t){t===void 0&&(t=[]);let e=[];return ce.Children.forEach(r,(i,n)=>{if(!ce.isValidElement(i))return;let s=[...t,n];if(i.type===ce.Fragment){e.push.apply(e,S5(i.props.children,s));return}i.type!==Rl&&qa(!1),!i.props.index||!i.props.children||qa(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=S5(i.props.children,s)),e.push(a)}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N5(){return N5=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},N5.apply(this,arguments)}function xte(r,t){if(r==null)return{};var e={},i=Object.keys(r),n,s;for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&(e[n]=r[n]);return e}function Mte(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function wte(r,t){return r.button===0&&(!t||t==="_self")&&!Mte(r)}const Tte=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bte="6";try{window.__reactRouterVersion=bte}catch{}const Dte="startTransition",_R=wee[Dte];function Ete(r){let{basename:t,children:e,future:i,window:n}=r,s=ce.useRef();s.current==null&&(s.current=Nee({window:n,v5Compat:!0}));let a=s.current,[o,l]=ce.useState({action:a.action,location:a.location}),{v7_startTransition:c}=i||{},u=ce.useCallback(d=>{c&&_R?_R(()=>l(d)):l(d)},[l,c]);return ce.useLayoutEffect(()=>a.listen(u),[a,u]),ce.useEffect(()=>gte(i),[i]),ce.createElement(vte,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a,future:i})}const Ate=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ste=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ev=ce.forwardRef(function(t,e){let{onClick:i,relative:n,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=t,p=xte(t,Tte),{basename:m}=ce.useContext(Pg),y,M=!1;if(typeof c=="string"&&Ste.test(c)&&(y=c,Ate))try{let E=new URL(window.location.href),N=c.startsWith("//")?new URL(E.protocol+c):new URL(c),B=Hk(N.pathname,m);N.origin===E.origin&&B!=null?c=B+N.search+N.hash:M=!0}catch{}let w=tte(c,{relative:n}),b=Nte(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:n,viewTransition:d});function D(E){i&&i(E),E.defaultPrevented||b(E)}return ce.createElement("a",N5({},p,{href:y||w,onClick:M||s?i:D,ref:e,target:l}))});var zR;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(zR||(zR={}));var RR;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(RR||(RR={}));function Nte(r,t){let{target:e,replace:i,state:n,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,l=VS(),c=wv(),u=S9(r,{relative:a});return ce.useCallback(d=>{if(wte(d,e)){d.preventDefault();let p=i!==void 0?i:dA(c)===dA(u);l(r,{replace:p,state:n,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,i,n,e,r,s,a,o])}var HS=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ite={setTimeout:(r,t)=>setTimeout(r,t),clearTimeout:r=>clearTimeout(r),setInterval:(r,t)=>setInterval(r,t),clearInterval:r=>clearInterval(r)},Cte=class{#e=Ite;#t=!1;setTimeoutProvider(r){this.#e=r}setTimeout(r,t){return this.#e.setTimeout(r,t)}clearTimeout(r){this.#e.clearTimeout(r)}setInterval(r,t){return this.#e.setInterval(r,t)}clearInterval(r){this.#e.clearInterval(r)}},I5=new Cte;function Ote(r){setTimeout(r,0)}var WS=typeof window>"u"||"Deno"in globalThis;function $h(){}function kte(r,t){return typeof r=="function"?r(t):r}function Lte(r){return typeof r=="number"&&r>=0&&r!==1/0}function jte(r,t){return Math.max(r+(t||0)-Date.now(),0)}function C5(r,t){return typeof r=="function"?r(t):r}function _te(r,t){return typeof r=="function"?r(t):r}function PR(r,t){const{type:e="all",exact:i,fetchStatus:n,predicate:s,queryKey:a,stale:o}=r;if(a){if(i){if(t.queryHash!==Qk(a,t.options))return!1}else if(!Uw(t.queryKey,a))return!1}if(e!=="all"){const l=t.isActive();if(e==="active"&&!l||e==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||n&&n!==t.state.fetchStatus||s&&!s(t))}function FR(r,t){const{exact:e,status:i,predicate:n,mutationKey:s}=r;if(s){if(!t.options.mutationKey)return!1;if(e){if(Bw(t.options.mutationKey)!==Bw(s))return!1}else if(!Uw(t.options.mutationKey,s))return!1}return!(i&&t.state.status!==i||n&&!n(t))}function Qk(r,t){return(t?.queryKeyHashFn||Bw)(r)}function Bw(r){return JSON.stringify(r,(t,e)=>O5(e)?Object.keys(e).sort().reduce((i,n)=>(i[n]=e[n],i),{}):e)}function Uw(r,t){return r===t?!0:typeof r!=typeof t?!1:r&&t&&typeof r=="object"&&typeof t=="object"?Object.keys(t).every(e=>Uw(r[e],t[e])):!1}var zte=Object.prototype.hasOwnProperty;function O9(r,t){if(r===t)return r;const e=BR(r)&&BR(t);if(!e&&!(O5(r)&&O5(t)))return t;const n=(e?r:Object.keys(r)).length,s=e?t:Object.keys(t),a=s.length,o=e?new Array(a):{};let l=0;for(let c=0;c<a;c++){const u=e?c:s[c],d=r[u],p=t[u];if(d===p){o[u]=d,(e?c<n:zte.call(r,u))&&l++;continue}if(d===null||p===null||typeof d!="object"||typeof p!="object"){o[u]=p;continue}const m=O9(d,p);o[u]=m,m===d&&l++}return n===a&&l===n?r:o}function BR(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function O5(r){if(!UR(r))return!1;const t=r.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!UR(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function UR(r){return Object.prototype.toString.call(r)==="[object Object]"}function Rte(r){return new Promise(t=>{I5.setTimeout(t,r)})}function Pte(r,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(r,t):e.structuralSharing!==!1?O9(r,t):t}function Fte(r,t,e=0){const i=[...r,t];return e&&i.length>e?i.slice(1):i}function Bte(r,t,e=0){const i=[t,...r];return e&&i.length>e?i.slice(0,-1):i}var Gk=Symbol();function k9(r,t){return!r.queryFn&&t?.initialPromise?()=>t.initialPromise:!r.queryFn||r.queryFn===Gk?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var Ute=class extends HS{#e;#t;#i;constructor(){super(),this.#i=r=>{if(!WS&&window.addEventListener){const t=()=>r();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(r){this.#i=r,this.#t?.(),this.#t=r(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(r){this.#e!==r&&(this.#e=r,this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(t=>{t(r)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},L9=new Ute;function Vte(){let r,t;const e=new Promise((n,s)=>{r=n,t=s});e.status="pending",e.catch(()=>{});function i(n){Object.assign(e,n),delete e.resolve,delete e.reject}return e.resolve=n=>{i({status:"fulfilled",value:n}),r(n)},e.reject=n=>{i({status:"rejected",reason:n}),t(n)},e}var Hte=Ote;function Wte(){let r=[],t=0,e=o=>{o()},i=o=>{o()},n=Hte;const s=o=>{t?r.push(o):n(()=>{e(o)})},a=()=>{const o=r;r=[],o.length&&n(()=>{i(()=>{o.forEach(l=>{e(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{e=o},setBatchNotifyFunction:o=>{i=o},setScheduler:o=>{n=o}}}var gc=Wte(),Yte=class extends HS{#e=!0;#t;#i;constructor(){super(),this.#i=r=>{if(!WS&&window.addEventListener){const t=()=>r(!0),e=()=>r(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",e,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(r){this.#i=r,this.#t?.(),this.#t=r(this.setOnline.bind(this))}setOnline(r){this.#e!==r&&(this.#e=r,this.listeners.forEach(e=>{e(r)}))}isOnline(){return this.#e}},fA=new Yte;function qte(r){return Math.min(1e3*2**r,3e4)}function j9(r){return(r??"online")==="online"?fA.isOnline():!0}var k5=class extends Error{constructor(r){super("CancelledError"),this.revert=r?.revert,this.silent=r?.silent}};function _9(r){let t=!1,e=0,i;const n=Vte(),s=()=>n.status!=="pending",a=M=>{if(!s()){const w=new k5(M);p(w),r.onCancel?.(w)}},o=()=>{t=!0},l=()=>{t=!1},c=()=>L9.isFocused()&&(r.networkMode==="always"||fA.isOnline())&&r.canRun(),u=()=>j9(r.networkMode)&&r.canRun(),d=M=>{s()||(i?.(),n.resolve(M))},p=M=>{s()||(i?.(),n.reject(M))},m=()=>new Promise(M=>{i=w=>{(s()||c())&&M(w)},r.onPause?.()}).then(()=>{i=void 0,s()||r.onContinue?.()}),y=()=>{if(s())return;let M;const w=e===0?r.initialPromise:void 0;try{M=w??r.fn()}catch(b){M=Promise.reject(b)}Promise.resolve(M).then(d).catch(b=>{if(s())return;const D=r.retry??(WS?0:3),E=r.retryDelay??qte,N=typeof E=="function"?E(e,b):E,B=D===!0||typeof D=="number"&&e<D||typeof D=="function"&&D(e,b);if(t||!B){p(b);return}e++,r.onFail?.(e,b),Rte(N).then(()=>c()?void 0:m()).then(()=>{t?p(b):y()})})};return{promise:n,status:()=>n.status,cancel:a,continue:()=>(i?.(),n),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?y():m().then(y),n)}}var z9=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lte(this.gcTime)&&(this.#e=I5.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(WS?1/0:300*1e3))}clearGcTimeout(){this.#e&&(I5.clearTimeout(this.#e),this.#e=void 0)}},Qte=class extends z9{#e;#t;#i;#n;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#i=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=VR(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=VR(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#i.remove(this)}setData(t,e){const i=Pte(this.state.data,t,this.options);return this.#s({data:i,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),i}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then($h).catch($h):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>_te(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>C5(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!jte(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#i.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const i=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,i.signal)})},s=()=>{const l=k9(this.options,e),u=(()=>{const d={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:s};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=_9({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:l=>{l instanceof k5&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),i.abort()},onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#i.config.onSuccess?.(l,this),this.#i.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof k5){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#i.config.onError?.(l,this),this.#i.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Gte(i.data,this.options),fetchMeta:t.meta??null};case"success":const n={...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?n:void 0,n;case"error":const s=t.error;return{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=e(this.state),gc.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#i.notify({query:this,type:"updated",action:t})})}};function Gte(r,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:j9(t.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function VR(r){const t=typeof r.initialData=="function"?r.initialData():r.initialData,e=t!==void 0,i=e?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}function HR(r){return{onFetch:(t,e)=>{const i=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const d=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},p=k9(t.options,t.fetchOptions),m=async(y,M,w)=>{if(u)return Promise.reject();if(M==null&&y.pages.length)return Promise.resolve(y);const D=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:M,direction:w?"backward":"forward",meta:t.options.meta};return d(P),P})(),E=await p(D),{maxPages:N}=t.options,B=w?Bte:Fte;return{pages:B(y.pages,E,N),pageParams:B(y.pageParams,M,N)}};if(n&&s.length){const y=n==="backward",M=y?Kte:WR,w={pages:s,pageParams:a},b=M(i,w);o=await m(w,b,y)}else{const y=r??s.length;do{const M=l===0?a[0]??i.initialPageParam:WR(i,o);if(l>0&&M==null)break;o=await m(o,M),l++}while(l<y)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e):t.fetchFn=c}}}function WR(r,{pages:t,pageParams:e}){const i=t.length-1;return t.length>0?r.getNextPageParam(t[i],t,e[i],e):void 0}function Kte(r,{pages:t,pageParams:e}){return t.length>0?r.getPreviousPageParam?.(t[0],t,e[0],e):void 0}var $te=class extends z9{#e;#t;#i;#n;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#i=t.mutationCache,this.#t=[],this.state=t.state||Xte(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#i.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#i.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=_9({fn:()=>this.options.mutationFn?this.options.mutationFn(t,i):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#r({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#i.canRun(this)});const n=this.state.status==="pending",s=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:s}),await this.#i.config.onMutate?.(t,this,i);const o=await this.options.onMutate?.(t,i);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:s})}const a=await this.#n.start();return await this.#i.config.onSuccess?.(a,t,this.state.context,this,i),await this.options.onSuccess?.(a,t,this.state.context,i),await this.#i.config.onSettled?.(a,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(a,null,t,this.state.context,i),this.#r({type:"success",data:a}),a}catch(a){try{throw await this.#i.config.onError?.(a,t,this.state.context,this,i),await this.options.onError?.(a,t,this.state.context,i),await this.#i.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(void 0,a,t,this.state.context,i),a}finally{this.#r({type:"error",error:a})}}finally{this.#i.runNext(this)}}#r(t){const e=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),gc.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(t)}),this.#i.notify({mutation:this,type:"updated",action:t})})}};function Xte(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jte=class extends HS{constructor(r={}){super(),this.config=r,this.#e=new Set,this.#t=new Map,this.#i=0}#e;#t;#i;build(r,t,e){const i=new $te({client:r,mutationCache:this,mutationId:++this.#i,options:r.defaultMutationOptions(t),state:e});return this.add(i),i}add(r){this.#e.add(r);const t=cD(r);if(typeof t=="string"){const e=this.#t.get(t);e?e.push(r):this.#t.set(t,[r])}this.notify({type:"added",mutation:r})}remove(r){if(this.#e.delete(r)){const t=cD(r);if(typeof t=="string"){const e=this.#t.get(t);if(e)if(e.length>1){const i=e.indexOf(r);i!==-1&&e.splice(i,1)}else e[0]===r&&this.#t.delete(t)}}this.notify({type:"removed",mutation:r})}canRun(r){const t=cD(r);if(typeof t=="string"){const i=this.#t.get(t)?.find(n=>n.state.status==="pending");return!i||i===r}else return!0}runNext(r){const t=cD(r);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==r&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){gc.batch(()=>{this.#e.forEach(r=>{this.notify({type:"removed",mutation:r})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(r){const t={exact:!0,...r};return this.getAll().find(e=>FR(t,e))}findAll(r={}){return this.getAll().filter(t=>FR(r,t))}notify(r){gc.batch(()=>{this.listeners.forEach(t=>{t(r)})})}resumePausedMutations(){const r=this.getAll().filter(t=>t.state.isPaused);return gc.batch(()=>Promise.all(r.map(t=>t.continue().catch($h))))}};function cD(r){return r.options.scope?.id}var Zte=class extends HS{constructor(r={}){super(),this.config=r,this.#e=new Map}#e;build(r,t,e){const i=t.queryKey,n=t.queryHash??Qk(i,t);let s=this.get(n);return s||(s=new Qte({client:r,queryKey:i,queryHash:n,options:r.defaultQueryOptions(t),state:e,defaultOptions:r.getQueryDefaults(i)}),this.add(s)),s}add(r){this.#e.has(r.queryHash)||(this.#e.set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const t=this.#e.get(r.queryHash);t&&(r.destroy(),t===r&&this.#e.delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){gc.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return this.#e.get(r)}getAll(){return[...this.#e.values()]}find(r){const t={exact:!0,...r};return this.getAll().find(e=>PR(t,e))}findAll(r={}){const t=this.getAll();return Object.keys(r).length>0?t.filter(e=>PR(r,e)):t}notify(r){gc.batch(()=>{this.listeners.forEach(t=>{t(r)})})}onFocus(){gc.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){gc.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},eie=class{#e;#t;#i;#n;#r;#a;#o;#s;constructor(r={}){this.#e=r.queryCache||new Zte,this.#t=r.mutationCache||new Jte,this.#i=r.defaultOptions||{},this.#n=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=L9.subscribe(async r=>{r&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=fA.subscribe(async r=>{r&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(r){return this.#e.findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return this.#t.findAll({...r,status:"pending"}).length}getQueryData(r){const t=this.defaultQueryOptions({queryKey:r});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(r){const t=this.defaultQueryOptions(r),e=this.#e.build(this,t),i=e.state.data;return i===void 0?this.fetchQuery(r):(r.revalidateIfStale&&e.isStaleByTime(C5(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(r){return this.#e.findAll(r).map(({queryKey:t,state:e})=>{const i=e.data;return[t,i]})}setQueryData(r,t,e){const i=this.defaultQueryOptions({queryKey:r}),s=this.#e.get(i.queryHash)?.state.data,a=kte(t,s);if(a!==void 0)return this.#e.build(this,i).setData(a,{...e,manual:!0})}setQueriesData(r,t,e){return gc.batch(()=>this.#e.findAll(r).map(({queryKey:i})=>[i,this.setQueryData(i,t,e)]))}getQueryState(r){const t=this.defaultQueryOptions({queryKey:r});return this.#e.get(t.queryHash)?.state}removeQueries(r){const t=this.#e;gc.batch(()=>{t.findAll(r).forEach(e=>{t.remove(e)})})}resetQueries(r,t){const e=this.#e;return gc.batch(()=>(e.findAll(r).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...r},t)))}cancelQueries(r,t={}){const e={revert:!0,...t},i=gc.batch(()=>this.#e.findAll(r).map(n=>n.cancel(e)));return Promise.all(i).then($h).catch($h)}invalidateQueries(r,t={}){return gc.batch(()=>(this.#e.findAll(r).forEach(e=>{e.invalidate()}),r?.refetchType==="none"?Promise.resolve():this.refetchQueries({...r,type:r?.refetchType??r?.type??"active"},t)))}refetchQueries(r,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},i=gc.batch(()=>this.#e.findAll(r).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let s=n.fetch(void 0,e);return e.throwOnError||(s=s.catch($h)),n.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then($h)}fetchQuery(r){const t=this.defaultQueryOptions(r);t.retry===void 0&&(t.retry=!1);const e=this.#e.build(this,t);return e.isStaleByTime(C5(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(r){return this.fetchQuery(r).then($h).catch($h)}fetchInfiniteQuery(r){return r.behavior=HR(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then($h).catch($h)}ensureInfiniteQueryData(r){return r.behavior=HR(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return fA.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#i}setDefaultOptions(r){this.#i=r}setQueryDefaults(r,t){this.#n.set(Bw(r),{queryKey:r,defaultOptions:t})}getQueryDefaults(r){const t=[...this.#n.values()],e={};return t.forEach(i=>{Uw(r,i.queryKey)&&Object.assign(e,i.defaultOptions)}),e}setMutationDefaults(r,t){this.#r.set(Bw(r),{mutationKey:r,defaultOptions:t})}getMutationDefaults(r){const t=[...this.#r.values()],e={};return t.forEach(i=>{Uw(r,i.mutationKey)&&Object.assign(e,i.defaultOptions)}),e}defaultQueryOptions(r){if(r._defaulted)return r;const t={...this.#i.queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return t.queryHash||(t.queryHash=Qk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Gk&&(t.enabled=!1),t}defaultMutationOptions(r){return r?._defaulted?r:{...this.#i.mutations,...r?.mutationKey&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},tie=ce.createContext(void 0),iie=({client:r,children:t})=>(ce.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),x.jsx(tie.Provider,{value:r,children:t}));let rie={data:""},nie=r=>{if(typeof window=="object"){let t=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(r||document.head).appendChild(t),t.firstChild}return r||rie},sie=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,aie=/\/\*[^]*?\*\/|  +/g,YR=/\n+/g,Xm=(r,t)=>{let e="",i="",n="";for(let s in r){let a=r[s];s[0]=="@"?s[1]=="i"?e=s+" "+a+";":i+=s[1]=="f"?Xm(a,s):s+"{"+Xm(a,s[1]=="k"?"":t)+"}":typeof a=="object"?i+=Xm(a,t?t.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Xm.p?Xm.p(s,a):s+":"+a+";")}return e+(t&&n?t+"{"+n+"}":n)+i},Jf={},R9=r=>{if(typeof r=="object"){let t="";for(let e in r)t+=e+R9(r[e]);return t}return r},oie=(r,t,e,i,n)=>{let s=R9(r),a=Jf[s]||(Jf[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!Jf[a]){let l=s!==r?r:(c=>{let u,d,p=[{}];for(;u=sie.exec(c.replace(aie,""));)u[4]?p.shift():u[3]?(d=u[3].replace(YR," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][u[1]]=u[2].replace(YR," ").trim();return p[0]})(r);Jf[a]=Xm(n?{["@keyframes "+a]:l}:l,e?"":"."+a)}let o=e&&Jf.g?Jf.g:null;return e&&(Jf.g=Jf[a]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Jf[a],t,i,o),a},lie=(r,t,e)=>r.reduce((i,n,s)=>{let a=t[s];if(a&&a.call){let o=a(e),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Xm(o,""):o===!1?"":o}return i+n+(a??"")},"");function YS(r){let t=this||{},e=r.call?r(t.p):r;return oie(e.unshift?e.raw?lie(e,[].slice.call(arguments,1),t.p):e.reduce((i,n)=>Object.assign(i,n&&n.call?n(t.p):n),{}):e,nie(t.target),t.g,t.o,t.k)}let P9,L5,j5;YS.bind({g:1});let Rp=YS.bind({k:1});function cie(r,t,e,i){Xm.p=t,P9=r,L5=e,j5=i}function Bg(r,t){let e=this||{};return function(){let i=arguments;function n(s,a){let o=Object.assign({},s),l=o.className||n.className;e.p=Object.assign({theme:L5&&L5()},o),e.o=/ *go\d+/.test(l),o.className=YS.apply(e,i)+(l?" "+l:"");let c=r;return r[0]&&(c=o.as||r,delete o.as),j5&&c[0]&&j5(o),P9(c,o)}return n}}var uie=r=>typeof r=="function",pA=(r,t)=>uie(r)?r(t):r,hie=(()=>{let r=0;return()=>(++r).toString()})(),F9=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");r=!t||t.matches}return r}})(),die=20,Kk="default",B9=(r,t)=>{let{toastLimit:e}=r.settings;switch(t.type){case 0:return{...r,toasts:[t.toast,...r.toasts].slice(0,e)};case 1:return{...r,toasts:r.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:i}=t;return B9(r,{type:r.toasts.find(a=>a.id===i.id)?1:0,toast:i});case 3:let{toastId:n}=t;return{...r,toasts:r.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...r,pausedAt:t.time};case 6:let s=t.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},PE=[],U9={toasts:[],pausedAt:void 0,settings:{toastLimit:die}},$d={},V9=(r,t=Kk)=>{$d[t]=B9($d[t]||U9,r),PE.forEach(([e,i])=>{e===t&&i($d[t])})},H9=r=>Object.keys($d).forEach(t=>V9(r,t)),fie=r=>Object.keys($d).find(t=>$d[t].toasts.some(e=>e.id===r)),qS=(r=Kk)=>t=>{V9(t,r)},pie={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},mie=(r={},t=Kk)=>{let[e,i]=ce.useState($d[t]||U9),n=ce.useRef($d[t]);ce.useEffect(()=>(n.current!==$d[t]&&i($d[t]),PE.push([t,i]),()=>{let a=PE.findIndex(([o])=>o===t);a>-1&&PE.splice(a,1)}),[t]);let s=e.toasts.map(a=>{var o,l,c;return{...r,...r[a.type],...a,removeDelay:a.removeDelay||((o=r[a.type])==null?void 0:o.removeDelay)||r?.removeDelay,duration:a.duration||((l=r[a.type])==null?void 0:l.duration)||r?.duration||pie[a.type],style:{...r.style,...(c=r[a.type])==null?void 0:c.style,...a.style}}});return{...e,toasts:s}},gie=(r,t="blank",e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...e,id:e?.id||hie()}),jT=r=>(t,e)=>{let i=gie(t,r,e);return qS(i.toasterId||fie(i.id))({type:2,toast:i}),i.id},Ao=(r,t)=>jT("blank")(r,t);Ao.error=jT("error");Ao.success=jT("success");Ao.loading=jT("loading");Ao.custom=jT("custom");Ao.dismiss=(r,t)=>{let e={type:3,toastId:r};t?qS(t)(e):H9(e)};Ao.dismissAll=r=>Ao.dismiss(void 0,r);Ao.remove=(r,t)=>{let e={type:4,toastId:r};t?qS(t)(e):H9(e)};Ao.removeAll=r=>Ao.remove(void 0,r);Ao.promise=(r,t,e)=>{let i=Ao.loading(t.loading,{...e,...e?.loading});return typeof r=="function"&&(r=r()),r.then(n=>{let s=t.success?pA(t.success,n):void 0;return s?Ao.success(s,{id:i,...e,...e?.success}):Ao.dismiss(i),n}).catch(n=>{let s=t.error?pA(t.error,n):void 0;s?Ao.error(s,{id:i,...e,...e?.error}):Ao.dismiss(i)}),r};var vie=1e3,yie=(r,t="default")=>{let{toasts:e,pausedAt:i}=mie(r,t),n=ce.useRef(new Map).current,s=ce.useCallback((d,p=vie)=>{if(n.has(d))return;let m=setTimeout(()=>{n.delete(d),a({type:4,toastId:d})},p);n.set(d,m)},[]);ce.useEffect(()=>{if(i)return;let d=Date.now(),p=e.map(m=>{if(m.duration===1/0)return;let y=(m.duration||0)+m.pauseDuration-(d-m.createdAt);if(y<0){m.visible&&Ao.dismiss(m.id);return}return setTimeout(()=>Ao.dismiss(m.id,t),y)});return()=>{p.forEach(m=>m&&clearTimeout(m))}},[e,i,t]);let a=ce.useCallback(qS(t),[t]),o=ce.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=ce.useCallback((d,p)=>{a({type:1,toast:{id:d,height:p}})},[a]),c=ce.useCallback(()=>{i&&a({type:6,time:Date.now()})},[i,a]),u=ce.useCallback((d,p)=>{let{reverseOrder:m=!1,gutter:y=8,defaultPosition:M}=p||{},w=e.filter(E=>(E.position||M)===(d.position||M)&&E.height),b=w.findIndex(E=>E.id===d.id),D=w.filter((E,N)=>N<b&&E.visible).length;return w.filter(E=>E.visible).slice(...m?[D+1]:[0,D]).reduce((E,N)=>E+(N.height||0)+y,0)},[e]);return ce.useEffect(()=>{e.forEach(d=>{if(d.dismissed)s(d.id,d.removeDelay);else{let p=n.get(d.id);p&&(clearTimeout(p),n.delete(d.id))}})},[e,s]),{toasts:e,handlers:{updateHeight:l,startPause:o,endPause:c,calculateOffset:u}}},xie=Rp`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Mie=Rp`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wie=Rp`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Tie=Bg("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xie} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Mie} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wie} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bie=Rp`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Die=Bg("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${bie} 1s linear infinite;
`,Eie=Rp`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Aie=Rp`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Sie=Bg("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Eie} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Aie} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Nie=Bg("div")`
  position: absolute;
`,Iie=Bg("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Cie=Rp`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Oie=Bg("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Cie} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,kie=({toast:r})=>{let{icon:t,type:e,iconTheme:i}=r;return t!==void 0?typeof t=="string"?ce.createElement(Oie,null,t):t:e==="blank"?null:ce.createElement(Iie,null,ce.createElement(Die,{...i}),e!=="loading"&&ce.createElement(Nie,null,e==="error"?ce.createElement(Tie,{...i}):ce.createElement(Sie,{...i})))},Lie=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jie=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,_ie="0%{opacity:0;} 100%{opacity:1;}",zie="0%{opacity:1;} 100%{opacity:0;}",Rie=Bg("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Pie=Bg("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Fie=(r,t)=>{let e=r.includes("top")?1:-1,[i,n]=F9()?[_ie,zie]:[Lie(e),jie(e)];return{animation:t?`${Rp(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Rp(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Bie=ce.memo(({toast:r,position:t,style:e,children:i})=>{let n=r.height?Fie(r.position||t||"top-center",r.visible):{opacity:0},s=ce.createElement(kie,{toast:r}),a=ce.createElement(Pie,{...r.ariaProps},pA(r.message,r));return ce.createElement(Rie,{className:r.className,style:{...n,...e,...r.style}},typeof i=="function"?i({icon:s,message:a}):ce.createElement(ce.Fragment,null,s,a))});cie(ce.createElement);var Uie=({id:r,className:t,style:e,onHeightUpdate:i,children:n})=>{let s=ce.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;i(r,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[r,i]);return ce.createElement("div",{ref:s,className:t,style:e},n)},Vie=(r,t)=>{let e=r.includes("top"),i=e?{top:0}:{bottom:0},n=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:F9()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...i,...n}},Hie=YS`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,uD=16,Wie=({reverseOrder:r,position:t="top-center",toastOptions:e,gutter:i,children:n,toasterId:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=yie(e,s);return ce.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:uD,left:uD,right:uD,bottom:uD,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,p=c.calculateOffset(u,{reverseOrder:r,gutter:i,defaultPosition:t}),m=Vie(d,p);return ce.createElement(Uie,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?Hie:"",style:m},u.type==="custom"?pA(u.message,u):n?n(u):ce.createElement(Bie,{toast:u,position:d}))}))},mt=Ao,W9=(r=>(r.BASE="base",r.BODY="body",r.HEAD="head",r.HTML="html",r.LINK="link",r.META="meta",r.NOSCRIPT="noscript",r.SCRIPT="script",r.STYLE="style",r.TITLE="title",r.FRAGMENT="Symbol(react.fragment)",r))(W9||{}),pC={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(W9);var $k={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries($k).reduce((r,[t,e])=>(r[e]=t,r),{});var Vw="data-rh",Yie=r=>Array.isArray(r)?r.join(""):r,qie=(r,t)=>{const e=Object.keys(r);for(let i=0;i<e.length;i+=1)if(t[e[i]]&&t[e[i]].includes(r[e[i]]))return!0;return!1},mC=(r,t)=>Array.isArray(r)?r.reduce((e,i)=>(qie(i,t)?e.priority.push(i):e.default.push(i),e),{priority:[],default:[]}):{default:r,priority:[]},Qie=["noscript","script","style"],_5=(r,t=!0)=>t===!1?String(r):String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Y9=r=>Object.keys(r).reduce((t,e)=>{const i=typeof r[e]<"u"?`${e}="${r[e]}"`:`${e}`;return t?`${t} ${i}`:i},""),Gie=(r,t,e,i)=>{const n=Y9(e),s=Yie(t);return n?`<${r} ${Vw}="true" ${n}>${_5(s,i)}</${r}>`:`<${r} ${Vw}="true">${_5(s,i)}</${r}>`},Kie=(r,t,e=!0)=>t.reduce((i,n)=>{const s=n,a=Object.keys(s).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,u)=>{const d=typeof s[u]>"u"?u:`${u}="${_5(s[u],e)}"`;return c?`${c} ${d}`:d},""),o=s.innerHTML||s.cssText||"",l=Qie.indexOf(r)===-1;return`${i}<${r} ${Vw}="true" ${a}${l?"/>":`>${o}</${r}>`}`},""),q9=(r,t={})=>Object.keys(r).reduce((e,i)=>{const n=$k[i];return e[n||i]=r[i],e},t),$ie=(r,t,e)=>{const i={key:t,[Vw]:!0},n=q9(e,i);return[mf.createElement("title",n,t)]},FE=(r,t)=>t.map((e,i)=>{const n={key:i,[Vw]:!0};return Object.keys(e).forEach(s=>{const o=$k[s]||s;if(o==="innerHTML"||o==="cssText"){const l=e.innerHTML||e.cssText;n.dangerouslySetInnerHTML={__html:l}}else n[o]=e[s]}),mf.createElement(r,n)}),lh=(r,t,e=!0)=>{switch(r){case"title":return{toComponent:()=>$ie(r,t.title,t.titleAttributes),toString:()=>Gie(r,t.title,t.titleAttributes,e)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>q9(t),toString:()=>Y9(t)};default:return{toComponent:()=>FE(r,t),toString:()=>Kie(r,t,e)}}},Xie=({metaTags:r,linkTags:t,scriptTags:e,encode:i})=>{const n=mC(r,pC.meta),s=mC(t,pC.link),a=mC(e,pC.script);return{priorityMethods:{toComponent:()=>[...FE("meta",n.priority),...FE("link",s.priority),...FE("script",a.priority)],toString:()=>`${lh("meta",n.priority,i)} ${lh("link",s.priority,i)} ${lh("script",a.priority,i)}`},metaTags:n.default,linkTags:s.default,scriptTags:a.default}},Jie=r=>{const{baseTag:t,bodyAttributes:e,encode:i=!0,htmlAttributes:n,noscriptTags:s,styleTags:a,title:o="",titleAttributes:l,prioritizeSeoTags:c}=r;let{linkTags:u,metaTags:d,scriptTags:p}=r,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:u,metaTags:d,scriptTags:p}=Xie(r)),{priority:m,base:lh("base",t,i),bodyAttributes:lh("bodyAttributes",e,i),htmlAttributes:lh("htmlAttributes",n,i),link:lh("link",u,i),meta:lh("meta",d,i),noscript:lh("noscript",s,i),script:lh("script",p,i),style:lh("style",a,i),title:lh("title",{title:o,titleAttributes:l},i)}},Zie=Jie,hD=[],Q9=!!(typeof window<"u"&&window.document&&window.document.createElement),ere=class{instances=[];canUseDOM=Q9;context;value={setHelmet:r=>{this.context.helmet=r},helmetInstances:{get:()=>this.canUseDOM?hD:this.instances,add:r=>{(this.canUseDOM?hD:this.instances).push(r)},remove:r=>{const t=(this.canUseDOM?hD:this.instances).indexOf(r);(this.canUseDOM?hD:this.instances).splice(t,1)}}};constructor(r,t){this.context=r,this.canUseDOM=t||!1,t||(r.helmet=Zie({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},tre={},ire=mf.createContext(tre),rre=class G9 extends ce.Component{static canUseDOM=Q9;helmetData;constructor(t){super(t),this.helmetData=new ere(this.props.context||{},G9.canUseDOM)}render(){return mf.createElement(ire.Provider,{value:this.helmetData.value},this.props.children)}},qR="ej2_instances",nre=0,sre=!1;function mA(r,t){var e=t;return e.unshift(void 0),new(Function.prototype.bind.apply(r,e))}function are(r){var t,e=new Uint16Array(5),i=window.msCrypto||window.crypto;i.getRandomValues(e);var n="ej2"+ure(e),s=function(a){a.source===window&&typeof a.data=="string"&&a.data.length<=32&&a.data===n&&(r(),t())};return window.addEventListener("message",s,!1),window.postMessage(n,window.location.origin),t=function(){window.removeEventListener("message",s),r=s=n=void 0}}function Pe(r,t){for(var e=t,i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=0;n<i.length&&!Wi(e);n++)e=e[i[parseInt(n.toString(),10)]];return e}function Yr(r,t,e){var i=r.replace(/\[/g,".").replace(/\]/g,"").split("."),n=e||{},s=n,a,o=i.length,l;for(a=0;a<o;a++)l=i[parseInt(a.toString(),10)],!(l==="__proto__"||l==="constructor"||l==="prototype")&&(a+1===o?s[""+l]=t===void 0?{}:t:v(s[""+l])&&(s[""+l]={}),s=s[""+l]);return n}function K9(r,t){delete r[""+t]}var Hx=typeof window<"u"?window:{};function Pp(r){var t={};return!v(r)&&r.constructor===t.constructor}function sd(r,t){if(!v(t))for(var e=r,i=t,n=Object.keys(t),s="deepMerge",a=0,o=n;a<o.length;a++){var l=o[a];!v(e[""+s])&&e[""+s].indexOf(l)!==-1&&(Pp(i[""+l])||Array.isArray(i[""+l]))?qe(e[""+l],e[""+l],i[""+l],!0):e[""+l]=i[""+l]}}function qe(r,t,e,i){var n=r&&typeof r=="object"?r:{},s=arguments.length,a=[r,t,e,i];i&&(s=s-1);for(var o=function(c){if(!a[parseInt(c.toString(),10)])return"continue";var u=a[parseInt(c.toString(),10)];Object.keys(u).forEach(function(d){var p=n[""+d],m=u[""+d],y;Array.isArray(m)&&Array.isArray(p)&&(m.length,p.length);var M=!0;i&&M&&(Pp(m)||Array.isArray(m))?Pp(m)?(y=p||{},Array.isArray(y)&&Object.prototype.hasOwnProperty.call(y,"isComplexArray")?qe(y,{},m,i):n[""+d]=qe(y,{},m,i)):(y=p||[],n[""+d]=qe([],y,m,y&&y.length||m&&m.length)):n[""+d]=m})},l=1;l<s;l++)o(l);return n}function v(r){return r==null}function Wi(r){return typeof r>"u"}function Ha(r){return r+"_"+nre++}function ore(r,t){var e;return function(){for(var i=this,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var a=function(){return e=null,r.apply(i,n)};clearTimeout(e),e=setTimeout(a,t)}}function Xk(r,t){var e=r;return e===t?!0:e===document||!e?!1:Xk(e.parentNode,t)}function i1(r){try{throw new Error(r)}catch(t){throw new Error(t.message+`
`+t.stack)}}function bt(r){var t=r+"";return t.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)?t:t+"px"}function tv(){return sre}function lre(r,t){var e=typeof r=="string"?document.querySelector(r):r;if(e[""+qR])for(var i=0,n=e[""+qR];i<n.length;i++){var s=n[i];if(s instanceof t)return s}return null}function cre(){if(!(typeof window>"u")){var r=new Uint16Array(5),t=window.msCrypto||window.crypto;return t.getRandomValues(r)}}function ure(r){for(var t="",e=0;e<5;e++)t+=(e?",":"")+r[parseInt(e.toString(),10)];return t}var hre={latn:{_digits:"0123456789",_type:"numeric"}},QR={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"",nan:"NaN",exponential:"E"},GR=[0,1,2,3,4,5,6,7,8,9],Us=(function(){function r(){}return r.getMainObject=function(t,e){var i="main."+e;return Pe(i,t)},r.getNumberingSystem=function(t){return Pe("supplemental.numberingSystems",t)||this.numberingSystems},r.reverseObject=function(t,e){for(var i=e||Object.keys(t),n={},s=0,a=i;s<a.length;s++){var o=a[s];Object.prototype.hasOwnProperty.call(n,t[""+o])||(n[t[""+o]]=o)}return n},r.getSymbolRegex=function(t){var e=t.map(function(n){return n.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}).join("|"),i=RegExp;return new i(e,"g")},r.getSymbolMatch=function(t){for(var e=Object.keys(QR),i={},n=0,s=e;n<s.length;n++){var a=s[n];i[t[""+a]]=QR[""+a]}return i},r.constructRegex=function(t){for(var e=t.length,i="",n=0;n<e;n++)n!==e-1?i+=t[parseInt(n.toString(),10)]+"|":i+=t[parseInt(n.toString(),10)];return i},r.convertValueParts=function(t,e,i){return t.replace(e,function(n){return i[""+n]})},r.getDefaultNumberingSystem=function(t){var e={};return e.obj=Pe("numbers",t),e.nSystem=Pe("defaultNumberingSystem",e.obj),e},r.getCurrentNumericOptions=function(t,e,i,n){var s={},a=this.getDefaultNumberingSystem(t);if(!Wi(a.nSystem)||n){var o=n?Pe("obj.mapperDigits",a):Pe(a.nSystem+"._digits",e);if(!Wi(o)){s.numericPair=this.reverseObject(o,GR);var l=RegExp;s.numberParseRegex=new l(this.constructRegex(o),"g"),s.numericRegex="["+o[0]+"-"+o[9]+"]",i&&(s.numericRegex=o[0]+"-"+o[9],s.symbolNumberSystem=Pe(n?"numberSymbols":"symbols-numberSystem-"+a.nSystem,a.obj),s.symbolMatch=this.getSymbolMatch(s.symbolNumberSystem),s.numberSystem=a.nSystem)}}return s},r.getNumberMapper=function(t,e,i){var n={mapper:{}},s=this.getDefaultNumberingSystem(t);if(!Wi(s.nSystem)){n.numberSystem=s.nSystem,n.numberSymbols=Pe("symbols-numberSystem-"+s.nSystem,s.obj),n.timeSeparator=Pe("timeSeparator",n.numberSymbols);var a=Pe(s.nSystem+"._digits",e);if(!Wi(a))for(var o=0,l=GR;o<l.length;o++){var c=l[o];n.mapper[parseInt(c.toString(),10)]=a[parseInt(c.toString(),10)]}}return n},r.nPair="numericPair",r.nRegex="numericRegex",r.numberingSystems=hre,r})(),dre={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH",XDR:"XDR",AED:"..",BHD:"..",DZD:"..",EGP:"..",ILS:"",IQD:"..",JOD:"..",KMF:"CF",KWD:"..",LBP:"..",LYD:"..",MAD:"..",MRU:"..",OMR:"..",QAR:"..",SAR:"..",SDG:"..",SOS:"S",SSP:"",SYP:"..",TND:"..",YER:"..",CLP:"$",INR:"",TZS:"TSh",EUR:"",AZN:"",RUB:"",BYN:"Br",ZMW:"K",BGN:".",NGN:"",XOF:"CFA",BDT:"",CNY:"",BAM:"",UGX:"USh",USD:"$",CZK:"K",GBP:"",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:".",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"",GIP:"",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"",UYU:"$",VES:"Bs.S",IRR:"",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"",ISK:"kr",JPY:"",GEL:"",CVE:"",KZT:"",KHR:"",KPW:"",KRW:"",KGS:"",AOA:"Kz",LAK:"",MZN:"MTn",MKD:"",MNT:"",BND:"$",MMK:"K",NOK:"kr",NPR:"",AWG:"Afl.",SRD:"$",PLN:"z",AFN:"",STN:"Db",MDL:"L",RON:"lei",UAH:"",LKR:".",ALL:"Lek",RSD:".",TJS:"",THB:"",TMT:"m.",TRY:"",UZS:"",VND:"",TWD:"NT$"};function fre(r){return Pe(r||"",dre)}var Jk="USD",$9=null,X9=null;function pre(r){$9=r}function mre(r){X9=r}var KR=RegExp,$R={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}},tr;(function(r){r.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*[0# ]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,r.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var t=/[0-9]/g;r.defaultCurrency="$";var e=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,n={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};r.dateConverterMapper=/dddd|ddd/ig;var s="sun";r.islamicRegex=/^islamic/;var a={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};r.formatRegex=new KR("(^[ncpae]{1})([0-1]?[0-9]|20)?$","i"),r.currencyFormatRegex=new KR("(^[ca]{1})([0-1]?[0-9]|20)?$","i"),r.curWithoutNumberRegex=/(c|a)$/ig;var o={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};r.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,r.basicPatterns=["short","medium","long","full"],r.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhul-Q.",12:"Dhul-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi I",4:"Rabi II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Shaban",9:"Ramadan",10:"Shawwal",11:"Dhul-Qidah",12:"Dhul-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"","symbol-alt-narrow":""},GBP:{displayName:"British Pound","symbol-alt-narrow":""}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"",perMille:"",infinity:"",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"#,##0.00",accounting:"#,##0.00;(#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},r.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:""},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},r.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},r.month="months",r.days="days",r.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"};function l(X,J,U,W,re){var Z,Ee=U||"date";if(re)Z=p({skeleton:X},re).format||p({skeleton:"d"},"en-US").format;else{if(r.basicPatterns.indexOf(X)!==-1){if(Z=Pe(Ee+"Formats."+X,J),Ee==="dateTime"){var ae=Pe("dateFormats."+X,J),L=Pe("timeFormats."+X,J);Z=Z.replace("{1}",ae).replace("{0}",L)}}else Z=Pe("dateTimeFormats.availableFormats."+X,J);Wi(Z)&&X==="yMd"&&(Z="M/d/y")}return Z}r.getResultantPattern=l;function c(X,J,U,W){var re={},Z=U||"gregorian";if(re.parserObject=Us.getMainObject(X,J)||r.defaultObject,W)re.numericObject=Pe("numbers",re.parserObject);else{var Ee="dates.calendars."+Z;re.dateObject=Pe(Ee,re.parserObject)}return re}r.getDependables=c;function u(X,J,U,W){return Pe(X+"Formats-numberSystem-"+J+(W?".accounting":".standard"),U)||(W?Pe(X+"Formats-numberSystem-"+J+".standard",U):"")}r.getSymbolPattern=u;function d(X){return X.match(r.dateConverterMapper),X}r.ConvertDateToWeekFormat=d;function p(X,J){var U=X.format||X.skeleton,W=Pe((J||"en-US")+"."+U,$R);return W||(W=Pe("en-US."+U,$R)),W&&(W=d(W),X.format=W.replace(/tt/,"a")),X}r.compareBlazorDateFormats=p;function m(X){var J=X.match(r.formatRegex),U={},W=J[1].toUpperCase();return U.isAccount=W==="A",U.type=r.patternMatcher[""+W],X.length>1&&(U.fractionDigits=parseInt(J[2],10)),U}r.getProperNumericSkeleton=m;function y(X,J,U,W){var re=W?{}:{nlead:"",nend:""},Z=X.match(r.customRegex);if(Z){W||(re.nlead=M(Z[1],U),re.nend=M(Z[10],U),re.groupPattern=Z[4]);var Ee=Z[7];if(Ee&&J){var ae=Ee.match(t);v(ae)?re.minimumFraction=0:re.minimumFraction=ae.length,re.maximumFraction=Ee.length-1}}return re}r.getFormatData=y;function M(X,J){return X?(X=X.replace(r.defaultCurrency,J),J===""?X.trim():X):""}r.changeCurrencySymbol=M;function w(X,J,U,W){var re=U?"."+U:".symbol",Z=W?"$":Pe("currencies."+J+re,X)||Pe("currencies."+J+".symbol-alt-narrow",X)||"$";return Z}r.getCurrencySymbol=w;function b(X,J,U){for(var W={},re=X.split(";"),Z=["pData","nData","zeroData"],Ee=0;Ee<re.length;Ee++)W[""+Z[parseInt(Ee.toString(),10)]]=D(re[parseInt(Ee.toString(),10)],J,U);return v(W.nData)&&(W.nData=qe({},W.pData),W.nData.nlead=v(J)?"-"+W.nData.nlead:J.minusSymbol+W.nData.nlead),W}r.customFormat=b;function D(X,J,U){var W={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},re=X.match(r.customRegex);if(v(re)||re[5]===""&&X!=="N/A")return W.type=void 0,W;W.nlead=re[1],W.nend=re[10];var Z=re[6],Ee=!!Z.match(/ $/g),ae=Z.replace(/ $/g,"").indexOf(" ")!==-1;W.useGrouping=Z.indexOf(",")!==-1||ae,Z=Z.replace(/,/g,""),Z=/\s$/.test(Z)?Z.replace(/ /g,""):Z;var L=re[7];if(Z.indexOf("0")!==-1&&(W.minimumIntegerDigits=Z.length-Z.indexOf("0")),v(L)||(W.minimumFractionDigits=L.lastIndexOf("0"),W.maximumFractionDigits=L.lastIndexOf("#"),W.minimumFractionDigits===-1&&(W.minimumFractionDigits=0),(W.maximumFractionDigits===-1||W.maximumFractionDigits<W.minimumFractionDigits)&&(W.maximumFractionDigits=W.minimumFractionDigits)),v(J)?qe(W,E([W.nlead,W.nend],"%","%")):(J.isCustomFormat=!0,qe(W,E([W.nlead,W.nend],"$",J.currencySymbol)),W.isCurrency||qe(W,E([W.nlead,W.nend],"%",J.percentSymbol))),!v(U)){var Y=u(W.type,J.numberMapper.numberSystem,U,!1);W.useGrouping&&(W.groupSeparator=ae?" ":J.numberMapper.numberSymbols[e[2]],W.groupData=$9.getGroupingDetails(Y.split(";")[0])),W.nlead=W.nlead.replace(/'/g,""),W.nend=Ee?" "+W.nend.replace(/'/g,""):W.nend.replace(/'/g,"")}return W}r.customNumberFormat=D;function E(X,J,U){for(var W={nlead:X[0],nend:X[1]},re=0;re<2;re++){var Z=X[parseInt(re.toString(),10)],Ee=Z.indexOf(J);if(Ee!==-1&&(Ee<Z.indexOf("'")||Ee>Z.lastIndexOf("'"))){W[""+o[parseInt(re.toString(),10)]]=Z.substr(0,Ee)+U+Z.substr(Ee+1),W[""+o[""+J]]=!0,W.type=W.isCurrency?"currency":"percent";break}}return W}r.isCurrencyPercent=E;function N(X){var J=(Pe("dateFormats.short",X)||"").match(/[dM]([^dM])[dM]/i);return J?J[1]:"/"}r.getDateSeparator=N;function B(X,J,U,W){var re=c(U,X,J.calendar),Z=J.format||l(J.skeleton,re.dateObject,J.type);if(W){if(Z=Z.replace(i,function(te){return n[""+te]}),Z.indexOf("z")!==-1){var Ee=Z.match(/z/g).length,ae=void 0,L={timeZone:{}};L.numMapper=Us.getNumberMapper(re.parserObject,Us.getNumberingSystem(U)),L.timeZone=Pe("dates.timeZoneNames",re.parserObject);var Y=new Date,G=Y.getTimezoneOffset(),Q=Ee<4?"+H;-H":L.timeZone.hourFormat;Q=Q.replace(/:/g,L.numMapper.timeSeparator),G===0?ae=L.timeZone.gmtZeroFormat:(ae=X9.getTimeZoneValue(G,Q),ae=L.timeZone.gmtFormat.replace(/\{0\}/,ae)),Z=Z.replace(/[z]+/,'"'+ae+'"')}Z=Z.replace(/ $/,"")}return Z}r.getActualDateTimeFormat=B;function P(X,J){if(X.indexOf(",")!==-1){var U=X.split(",");X=U[0]+Pe("numberMapper.numberSymbols.group",J)+U[1].replace(".",Pe("numberMapper.numberSymbols.decimal",J))}else X=X.replace(".",Pe("numberMapper.numberSymbols.decimal",J));return X}r.processSymbol=P;function C(X,J,U,W){var re=c(U,X,"",!0),Z={custom:!0};re.numericObject;var Ee,ae={},L=(J.format||"").match(r.currencyFormatRegex);r.formatRegex.test(J.format)&&m(J.format||"N");var Y={};if(L){Y.numberMapper=Us.getNumberMapper(re.parserObject,Us.getNumberingSystem(U),!0);var G=w(re.numericObject,J.currency||Jk,J.altSymbol),Q=u("currency",Y.numberMapper.numberSystem,re.numericObject,/a/i.test(J.format));Q=Q.replace(/\u00A4/g,G);var te=Q.split(";");ae.hasNegativePattern=te.length>1,ae.nData=y(te[1]||"-"+te[0],!0,G),ae.pData=y(te[0],!1,G),!L[2]&&!J.minimumFractionDigits&&!J.maximumFractionDigits&&(Ee=y(Q.split(";")[0],!0,"",!0).minimumFraction)}var le;if(r.formatRegex.test(J.format)||!J.format){if(qe(Z,m(J.format||"N")),Z.custom=!1,le="###0",Z.fractionDigits||J.minimumFractionDigits||J.maximumFractionDigits||Ee){var Me=0;Z.fractionDigits&&(J.minimumFractionDigits=J.maximumFractionDigits=Z.fractionDigits),le=k(le,Ee||Z.fractionDigits||J.minimumFractionDigits||Me,J.maximumFractionDigits||Me)}if(J.minimumIntegerDigits&&(le=_(le,J.minimumIntegerDigits)),J.useGrouping&&(le=H(le)),Z.type==="currency"||Z.type&&tv()){var ve=le;le=ae.pData.nlead+ve+ae.pData.nend,(ae.hasNegativePattern||tv())&&(le+=";"+ae.nData.nlead+ve+ae.nData.nend)}Z.type==="percent"&&(le+=" %")}else le=J.format.replace(/'/g,'"');return Object.keys(Y).length>0&&(le=W?le:P(le,Y)),le}r.getActualNumberFormat=C;function k(X,J,U){X+=".";for(var W=0;W<J;W++)X+="0";if(J<U)for(var re=U-J,Z=0;Z<re;Z++)X+="#";return X}r.fractionDigitsPattern=k;function _(X,J){for(var U=X.split("."),W="",re=0;re<J;re++)W+="0";return U[1]?W+"."+U[1]:W}r.minimumIntegerPattern=_;function H(X){var J=X.split("."),U=J[0],W=3-U.length%3,re=W&&W===1?"#":W===2?"##":"";U=re+U,X="";for(var Z=U.length-1;Z>0;Z=Z-3)X=","+U[Z-2]+U[Z-1]+U[parseInt(Z.toString(),10)]+X;return X=X.slice(1),J[1]?X+"."+J[1]:X}r.groupingPattern=H;function j(X,J){var U=s,W=Pe("supplemental.weekData.firstDay",J),re=X;return/en-/.test(re)&&(re=re.slice(3)),re=re.slice(0,2).toUpperCase()+re.substr(2),W&&(U=W[""+re]||W[re.slice(0,2)]||s),a[""+U]}r.getWeekData=j;function z(X,J,U){var W=fre(U);if(J!==W)for(var re=0,Z=X;re<Z.length;re++){var Ee=Z[re];Ee.nend=Ee.nend.replace(J,W),Ee.nlead=Ee.nlead.replace(J,W)}}r.replaceBlazorCurrency=z;function F(X,J){var U=new Date(X.getFullYear(),0,1),W=U.getDay(),re;W=W>=0?W:W+7;var Z=Math.floor((X.getTime()-U.getTime()-(X.getTimezoneOffset()-U.getTimezoneOffset())*6e4)/864e5)+1;if(W<4){if(re=Math.floor((Z+W-J-1)/7)+1,re>52){var Ee=new Date(X.getFullYear()+1,0,1),ae=Ee.getDay();ae=ae>=0?ae:ae+7,re=ae<4?1:53}}else re=Math.floor((Z+W-J-1)/7);return re}r.getWeekOfYear=F})(tr||(tr={}));var gC=(function(){function r(t,e,i){this.type="GET",this.emitError=!0,typeof t=="string"?(this.url=t,this.type=v(e)?this.type:e.toUpperCase(),this.contentType=i):Pp(t)&&Object.keys(t).length>0&&sd(this,t),this.contentType=v(this.contentType)?"application/json; charset=utf-8":this.contentType}return r.prototype.send=function(t){var e=this,i={"application/json":"json","multipart/form-data":"formData","application/octet-stream":"blob","application/x-www-form-urlencoded":"formData"};try{v(this.fetchRequest)&&this.type==="GET"?this.fetchRequest=new Request(this.url,{method:this.type}):v(this.fetchRequest)&&(this.data=v(t)?this.data:t,this.fetchRequest=new Request(this.url,{method:this.type,headers:{"Content-Type":this.contentType},body:this.data}));var n={cancel:!1,fetchRequest:this.fetchRequest};return this.triggerEvent(this.beforeSend,n),n.cancel?null:(this.fetchResponse=fetch(this.fetchRequest),this.fetchResponse.then(function(s){if(e.triggerEvent(e.onLoad,s),!s.ok)throw s;for(var a="text",o=0,l=Object.keys(i);o<l.length;o++){var c=l[o];s.headers.get("Content-Type")&&s.headers.get("Content-Type").indexOf(c)!==-1&&(a=i[c])}return s[a]()}).then(function(s){return e.triggerEvent(e.onSuccess,s,e),s}).catch(function(s){var a={};return e.emitError&&(e.triggerEvent(e.onFailure,s),a=Promise.reject(s)),a}))}catch(s){return s}},r.prototype.triggerEvent=function(t,e,i){!v(t)&&typeof t=="function"&&t(e,i)},r})(),gre=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,vre=/msie|trident/i,yre=/Trident\/7\./,xre=/(ipad|iphone|ipod touch)/i,Mre=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,wre=/android/i,Tre=/trident|windows phone|edge/i,bre=/(version)[ /]([\w.]+)/i,vC={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};typeof window<"u"&&(window.browserDetails=window.browserDetails||{});var Re=(function(){function r(){}return r.extractBrowserDetail=function(){for(var t={culture:{}},e=Object.keys(vC),i=[],n=0,s=e;n<s.length;n++){var a=s[n];if(i=r.userAgent.match(vC[""+a]),i){if(t.name=i[1].toLowerCase()==="opr"?"opera":i[1].toLowerCase(),t.name=i[1].toLowerCase()==="crios"?"chrome":t.name,t.version=i[2],t.culture.name=t.culture.language=navigator.language,r.userAgent.match(yre)){t.name="msie";break}var o=r.userAgent.match(bre);t.name==="safari"&&o&&(t.version=o[2]);break}}return t},r.getEvent=function(t){var e={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return r.isPointer?e[""+t].isPointer:r.isTouch?e[""+t].isTouch+(r.isDevice?"":" "+e[""+t].isDevice):e[""+t].isDevice},r.getTouchStartEvent=function(){return r.getEvent("start")},r.getTouchEndEvent=function(){return r.getEvent("end")},r.getTouchMoveEvent=function(){return r.getEvent("move")},r.getTouchCancelEvent=function(){return r.getEvent("cancel")},r.isSafari=function(){return r.isDevice&&r.isIos&&r.isTouch&&typeof window<"u"&&window.navigator.userAgent.toLowerCase().indexOf("iphone")===-1&&window.navigator.userAgent.toLowerCase().indexOf("safari")>-1},r.getValue=function(t,e){var i=typeof window<"u"?window.browserDetails:{};return typeof navigator<"u"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1&&r.isTouch===!0&&!vC.CHROME.test(navigator.userAgent)&&(i.isIos=!0,i.isDevice=!0,i.isTouch=!0,i.isPointer=!0,i.isPointer="pointerEnabled"in window.navigator),typeof window<"u"&&window.Capacitor&&window.Capacitor.getPlatform()==="ios"&&(i.isPointer=!1),typeof i[""+t]>"u"?i[""+t]=e.test(r.userAgent):i[""+t]},Object.defineProperty(r,"userAgent",{get:function(){return r.uA},set:function(t){r.uA=t,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(r,"info",{get:function(){return Wi(window.browserDetails.info)?window.browserDetails.info=r.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIE",{get:function(){return r.getValue("isIE",vre)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isTouch",{get:function(){return Wi(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isPointer",{get:function(){return Wi(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isMSPointer",{get:function(){return Wi(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isDevice",{get:function(){return r.getValue("isDevice",gre)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIos",{get:function(){return r.getValue("isIos",xre)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isIos7",{get:function(){return r.getValue("isIos7",Mre)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isAndroid",{get:function(){return r.getValue("isAndroid",wre)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isWebView",{get:function(){return Wi(window.browserDetails.isWebView)&&(window.browserDetails.isWebView=!(Wi(window.cordova)&&Wi(window.PhoneGap)&&Wi(window.phonegap)&&window.forge!=="object")),window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(r,"isWindows",{get:function(){return r.getValue("isWindows",Tre)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchStartEvent",{get:function(){return Wi(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=r.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchMoveEvent",{get:function(){return Wi(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=r.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchEndEvent",{get:function(){return Wi(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=r.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(r,"touchCancelEvent",{get:function(){return Wi(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=r.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),r.uA=typeof navigator<"u"?navigator.userAgent:"",r})(),se=(function(){function r(){}return r.addOrGetEventData=function(t){return"__eventList"in t?t.__eventList.events:(t.__eventList={},t.__eventList.events=[])},r.add=function(t,e,i,n,s){var a=r.addOrGetEventData(t),o;s?o=ore(i,s):o=i,n&&(o=o.bind(n));for(var l=e.split(" "),c=0;c<l.length;c++)a.push({name:l[parseInt(c.toString(),10)],listener:i,debounce:o}),Re.isIE?t.addEventListener(l[parseInt(c.toString(),10)],o):t.addEventListener(l[parseInt(c.toString(),10)],o,{passive:!1});return o},r.remove=function(t,e,i){for(var n=r.addOrGetEventData(t),s=e.split(" "),a=function(l){var c=-1,u;n&&n.length!==0&&n.some(function(d,p){return d.name===s[parseInt(l.toString(),10)]&&d.listener===i?(c=p,u=d.debounce,!0):!1}),c!==-1&&n.splice(c,1),u&&t.removeEventListener(s[parseInt(l.toString(),10)],u)},o=0;o<s.length;o++)a(o)},r.clearEvents=function(t){for(var e=r.addOrGetEventData(t),i=qe([],void 0,e),n=0;n<i.length;n++){var s=i[parseInt(n.toString(),10)];t.removeEventListener(s.name,s.debounce),e.shift()}},r.trigger=function(t,e,i){for(var n=r.addOrGetEventData(t),s=0,a=n;s<a.length;s++){var o=a[s];o.name===e&&o.debounce.call(this,i)}},r})();var Dre=/^svg|^path|^g/;function Be(r,t){var e=Dre.test(r)?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r);return typeof t>"u"||(e.innerHTML=t.innerHTML?t.innerHTML:"",t.className!==void 0&&(e.className=t.className),t.id!==void 0&&(e.id=t.id),t.styles!==void 0&&(e.style.cssText=t.styles),t.attrs!==void 0&&Ht(e,t.attrs)),e}function pe(r,t){for(var e=J9(t),i=RegExp,n=0,s=r;n<s.length;n++)for(var a=s[n],o=0,l=e;o<l.length;o++){var c=l[o];if(Pp(a)){var u=Pe("attributes.className",a);v(u)?Yr("attributes.className",c,a):new i("\\b"+c+"\\b","i").test(u)||Yr("attributes.className",u+" "+c,a)}else a.classList.contains(c)||a.classList.add(c)}return r}function Oe(r,t){for(var e=J9(t),i=0,n=r;i<n.length;i++){var s=n[i],a=Pp(s),o=a?Pe("attributes.className",s):s.className!=="";if(o)for(var l=0,c=e;l<c.length;l++){var u=c[l];if(a){var d=Pe("attributes.className",s),p=d.split(" "),m=p.indexOf(u);m!==-1&&p.splice(m,1),Yr("attributes.className",p.join(" "),s)}else s.classList.remove(u)}}return r}function J9(r){var t=[];return typeof r=="string"?t.push(r):t=r,t}function Ra(r){var t=r;return t.style.visibility===""&&t.offsetWidth>0}function Ln(r,t,e){for(var i=document.createDocumentFragment(),n=0,s=r;n<s.length;n++){var a=s[n];i.appendChild(a)}return t.insertBefore(i,t.firstElementChild),e&&Z9(t),r}function ri(r,t,e){var i=document.createDocumentFragment();if(r instanceof NodeList)for(;r.length>0;)i.appendChild(r[0]);else for(var n=0,s=r;n<s.length;n++){var a=s[n];i.appendChild(a)}return t.appendChild(i),e&&Z9(t),r}function Z9(r){var t=r.querySelectorAll("script");t.forEach(function(e){var i=document.createElement("script");i.text=e.innerHTML,document.head.appendChild(i),zt(i)})}function zt(r){var t=r.parentNode;if(t)return t.removeChild(r)}function ji(r){var t=r.parentNode;se.clearEvents(r),t.removeChild(r)}function Ht(r,t){for(var e=Object.keys(t),i=r,n=0,s=e;n<s.length;n++){var a=s[n];if(Pp(i)){var o=a;a==="tabindex"&&(o="tabIndex"),i.attributes[""+o]=t[""+a]}else i.setAttribute(a,t[""+a])}return i}function Et(r,t,e){return t===void 0&&(t=document),r=eW(r),t.querySelector(r)}function Ei(r,t,e){t===void 0&&(t=document),r=eW(r);var i=t.querySelectorAll(r);return i}function eW(r){var t=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(r.match(/#[0-9]/g)||r.match(t)){for(var e=r.split(","),i=0;i<e.length;i++){for(var n=e[parseInt(i.toString(),10)].split(" "),s=0;s<n.length;s++)if(n[parseInt(s.toString(),10)].indexOf("#")>-1&&!n[parseInt(s.toString(),10)].match(/\[.*\]/)){var a=n[parseInt(s.toString(),10)].split("#");if(a[1].match(/^\d/)||a[1].match(t)){var o=n[parseInt(s.toString(),10)].split(".");o[0]=o[0].replace(/#/,"[id='")+"']",n[parseInt(s.toString(),10)]=o.join(".")}}e[parseInt(i.toString(),10)]=n.join(" ")}return e.join(",")}return r}function Fe(r,t){var e=r;if(typeof e.closest=="function")return e.closest(t);for(;e&&e.nodeType===1;){if(Zk(e,t))return e;e=e.parentNode}return null}function ui(r,t){t!==void 0&&Object.keys(t).forEach(function(e){r.style[""+e]=t[""+e]})}function No(r,t,e){pe([r],t),Oe([r],e)}function Zk(r,t){var e=r.matches||r.msMatchesSelector||r.webkitMatchesSelector;return e?e.call(r,t):[].indexOf.call(document.querySelectorAll(t),r)!==-1}var gA=(function(){function r(t){this.ranArray=[],this.boundedEvents={},!v(t)&&(this.context=t)}return r.prototype.on=function(t,e,i,n){if(!v(e)){var s=i||this.context;if(this.notExist(t)){this.boundedEvents[""+t]=[{handler:e,context:s,id:n}];return}v(n)?this.isHandlerPresent(this.boundedEvents[""+t],e)||this.boundedEvents[""+t].push({handler:e,context:s}):this.ranArray.indexOf(n)===-1&&(this.ranArray.push(n),this.boundedEvents[""+t].push({handler:e,context:s,id:n}))}},r.prototype.off=function(t,e,i){if(!this.notExist(t)){var n=Pe(t,this.boundedEvents);if(e){for(var s=0;s<n.length;s++)if(i){if(n[parseInt(s.toString(),10)].id===i){n.splice(s,1);var a=this.ranArray.indexOf(i);a!==-1&&this.ranArray.splice(a,1);break}}else if(e===n[parseInt(s.toString(),10)].handler){n.splice(s,1);break}}else delete this.boundedEvents[""+t]}},r.prototype.notify=function(t,e,i,n){if(this.notExist(t)){i&&i.call(this,e);return}e&&(e.name=t);var s="Blazor",a=Pe(t,this.boundedEvents).slice(0);if(window[""+s])return this.blazorCallback(a,e,i,n,0);for(var o=0,l=a;o<l.length;o++){var c=l[o];c.handler.call(c.context,e)}i&&i.call(this,e)},r.prototype.blazorCallback=function(t,e,i,n,s){var a=this,o=s===t.length-1;if(s<t.length){var l=t[parseInt(s.toString(),10)],c=l.handler.call(l.context,e);if(c&&typeof c.then=="function"){if(!i)return c;c.then(function(u){if(u=typeof u=="string"&&a.isJson(u)?JSON.parse(u,a.dateReviver):u,qe(e,e,u,!0),i&&o)i.call(l.context,e);else return a.blazorCallback(t,e,i,n,s+1)}).catch(function(u){n&&n.call(l.context,typeof u=="string"&&a.isJson(u)?JSON.parse(u,a.dateReviver):u)})}else if(i&&o)i.call(l.context,e);else return this.blazorCallback(t,e,i,n,s+1)}},r.prototype.dateReviver=function(t,e){var i=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/;return tv&&typeof e=="string"&&e.match(i)!==null?new Date(e):e},r.prototype.isJson=function(t){try{JSON.parse(t)}catch{return!1}return!0},r.prototype.destroy=function(){this.boundedEvents=this.context=void 0},r.prototype.offIntlEvents=function(){var t=this.boundedEvents.notifyExternalChange;if(t){for(var e=0;e<t.length;e++){var i=t[parseInt(e.toString(),10)].context;i&&i.detectFunction&&i.randomId&&i.isReactMock&&(this.off("notifyExternalChange",i.detectFunction,i.randomId),e--)}this.boundedEvents.notifyExternalChange.length||delete this.boundedEvents.notifyExternalChange}},r.prototype.notExist=function(t){return Object.prototype.hasOwnProperty.call(this.boundedEvents,t)===!1||this.boundedEvents[""+t].length<=0},r.prototype.isHandlerPresent=function(t,e){for(var i=0,n=t;i<n.length;i++){var s=n[i];if(s.handler===e)return!0}return!1},r})(),Ere=new RegExp("]"),Ug=(function(){function r(t,e){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new gA(this),Wi(e)||(typeof e=="string"?this.element=document.querySelector(e):this.element=e,v(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),Wi(t)||this.setProperties(t,!0),this.isDestroyed=!1}return r.prototype.setProperties=function(t,e){var i=this.isProtectedOnChange;this.isProtectedOnChange=!!e,sd(this,t),e!==!0&&(sd(this.changedProperties,t),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i},r.callChildDataBind=function(t,e){for(var i=Object.keys(t),n=0,s=i;n<s.length;n++){var a=s[n];if(e[""+a]instanceof Array)for(var o=0,l=e[""+a];o<l.length;o++){var c=l[o];c.dataBind!==void 0&&c.dataBind()}else e[""+a].dataBind()}},r.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},r.prototype.dataBind=function(){if(r.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,e=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(e,i),this.isProtectedOnChange=t}},r.prototype.serverDataBind=function(t){},r.prototype.saveChanges=function(t,e,i){this.isProtectedOnChange||(this.oldProperties[""+t]=i,this.changedProperties[""+t]=e,this.finalUpdate(),this.finalUpdate=are(this.dataBind.bind(this)))},r.prototype.addEventListener=function(t,e){this.modelObserver.on(t,e)},r.prototype.removeEventListener=function(t,e){this.modelObserver.off(t,e)},r.prototype.trigger=function(t,e,i,n){var s=this;if(this.isDestroyed!==!0){var a=this.isProtectedOnChange;this.isProtectedOnChange=!1;var o=this.modelObserver.notify(t,e,i,n);if(Ere.test(t)){var l=Pe(t,this);if(l){var c="Blazor";if(window[""+c]){var u=l.call(this,e);u&&typeof u.then=="function"?i?u.then(function(d){i&&(d=typeof d=="string"&&s.modelObserver.isJson(d)?JSON.parse(d):d,i.call(s,d))}).catch(function(d){n&&(d=typeof d=="string"&&s.modelObserver.isJson(d)?JSON.parse(d):d,n.call(s,d))}):o=u:i&&i.call(this,e)}else l.call(this,e),i&&i.call(this,e)}else i&&i.call(this,e)}return this.isProtectedOnChange=a,o}},r.prototype.addInstance=function(){var t="e-"+this.getModuleName().toLowerCase();pe([this.element],["e-lib",t]),v(this.element.ej2_instances)?Yr("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},r.prototype.destroy=function(){var t=this;this.element.ej2_instances=this.element.ej2_instances?this.element.ej2_instances.filter(function(e){return e!==t}):[],Oe([this.element],["e-"+this.getModuleName()]),this.element.ej2_instances.length===0&&Oe([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},r})();function tW(r,t,e,i){return(!Object.prototype.hasOwnProperty.call(r.properties,t)||!(r.properties[""+t]instanceof i))&&(r.properties[""+t]=mA(i,[r,t,e])),r.properties[""+t]}function z5(r,t,e,i,n,s){for(var a=[],o=e?e.length:0,l=0;l<o;l++){var c=i;if(n){var u=mA(c,[r,t,{},!0]);u.setProperties(e[parseInt(l.toString(),10)],!0),a.push(u)}else a.push(mA(c,[r,t,e[parseInt(l.toString(),10)],!1]))}return a}function iW(r,t){return function(){return Object.prototype.hasOwnProperty.call(this.properties,t)||(this.properties[""+t]=r),this.properties[""+t]}}function Are(r,t){return function(e){if(this.properties[""+t]!==e){var i=Object.prototype.hasOwnProperty.call(this.properties,t)?this.properties[""+t]:r;this.saveChanges(t,e,i),this.properties[""+t]=e}}}function Sre(r,t,e){return function(){return tW(this,t,r,e)}}function Nre(r,t,e){return function(i){tW(this,t,r,e).setProperties(i)}}function Ire(r,t,e){return function(){var i=this;if(!Object.prototype.hasOwnProperty.call(this.properties,t)){var n=z5(this,t,r,e,!1);this.properties[""+t]=n}var s=this.controlParent!==void 0&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return!Object.prototype.hasOwnProperty.call(this.properties[""+t],"push")&&!s&&["push","pop"].forEach(function(a){var o={value:Ore(a,t,e,i.properties[""+t]).bind(i),configurable:!0};Object.defineProperty(i.properties[""+t],a,o)}),Object.prototype.hasOwnProperty.call(this.properties[""+t],"isComplexArray")||Object.defineProperty(this.properties[""+t],"isComplexArray",{value:!0}),this.properties[""+t]}}function Cre(r,t,e){return function(i){this.isComplexArraySetter=!0;var n=z5(this,t,r,e,!1),s=z5(this,t,i,e,!0);this.isComplexArraySetter=!1,this.saveChanges(t,s,n),this.properties[""+t]=s}}function Ore(r,t,e,i){return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var a=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(r){case"push":for(var o=0;o<n.length;o++){var l=n[parseInt(o.toString(),10)];Array.prototype[""+r].apply(i,[l]);var c=XR(a+(i.length-1),l,!this.controlParent,r);this.serverDataBind(c,n[parseInt(o.toString(),10)],!1,r)}break;case"pop":{Array.prototype[""+r].apply(i);var c=XR(a+i.length,null,!this.controlParent,r);this.serverDataBind(c,{ejsAction:"pop"},!1,r);break}}return i}}function XR(r,t,e,i){var n=r;if(e&&(n={},n[""+r]=t,t&&typeof t=="object")){var s="ejsAction";n[""+r][""+s]=i}return n}function ee(r){return function(t,e){var i={set:Are(r,e),get:iW(r,e),enumerable:!0,configurable:!0};Object.defineProperty(t,e,i),QS(t,e,"prop",r)}}function Yn(r,t){return function(e,i){var n={set:Nre(r,i,t),get:Sre(r,i,t),enumerable:!0,configurable:!0};Object.defineProperty(e,i,n),QS(e,i,"complexProp",r,t)}}function ow(r,t){return function(e,i){var n={set:Cre(r,i,t),get:Ire(r,i,t),enumerable:!0,configurable:!0};Object.defineProperty(e,i,n),QS(e,i,"colProp",r,t)}}function Xe(){return function(r,t){var e={set:function(i){var n=this.properties[""+t];if(n!==i){var s=rW(this,t);Wi(n)===!1&&s.context.removeEventListener(s.prefix,n),s.context.addEventListener(s.prefix,i),this.properties[""+t]=i}},get:iW(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(r,t,e),QS(r,t,"event")}}function $n(r){}function QS(r,t,e,i,n){Wi(r.propList)&&(r.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),r.propList[e+"s"].push({propertyName:t,defaultValue:i,type:n}),r.propList[e+"Names"].push(t)}function rW(r,t){if(Object.prototype.hasOwnProperty.call(r,"parentObj")===!1)return{context:r,prefix:t};var e=Pe("propName",r);return e&&(t=e+"-"+t),rW(Pe("parentObj",r),t)}var kre=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Zf=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},fo=(function(r){kre(t,r);function t(i){var n=r.call(this,i,void 0)||this;return n.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},n}e=t,t.prototype.animate=function(i,n){n=n||{};var s=this.getModel(n);if(typeof i=="string")for(var a=Array.prototype.slice.call(Ei(i,document)),o=0,l=a;o<l.length;o++){var c=l[o];s.element=c,e.delayAnimation(s)}else s.element=i,e.delayAnimation(s)},t.stop=function(i,n){i.style.animation="",i.removeAttribute("e-animate");var s=i.getAttribute("e-animation-id");if(s){var a=parseInt(s,10);cancelAnimationFrame(a),i.removeAttribute("e-animation-id")}n&&n.end&&n.end.call(this,n)},t.delayAnimation=function(i){Xd==="Disable"||Xd===R5.Disable?(i.begin&&i.begin.call(this,i),i.end&&i.end.call(this,i)):i.delay?setTimeout(function(){e.applyAnimation(i)},i.delay):e.applyAnimation(i)},t.applyAnimation=function(i){var n=this;i.timeStamp=0;var s=0,a=0,o=0,l=i.duration;i.element.setAttribute("e-animate","true");var c=function(u){try{if(u){o=o===0?u:o,i.timeStamp=u+i.timeStamp-o,o=u,!s&&i.begin&&i.begin.call(n,i),s=s+1;var d=i.timeStamp/s;i.timeStamp<l&&i.timeStamp+d<l&&i.element.getAttribute("e-animate")?(i.element.style.animation=i.name+" "+i.duration+"ms "+i.timingFunction,i.progress&&i.progress.call(n,i),requestAnimationFrame(c)):(cancelAnimationFrame(a),i.element.removeAttribute("e-animation-id"),i.element.removeAttribute("e-animate"),i.element.style.animation="",i.end&&i.end.call(n,i))}else a=requestAnimationFrame(c),i.element.setAttribute("e-animation-id",a.toString())}catch(p){cancelAnimationFrame(a),i.element.removeAttribute("e-animation-id"),i.fail&&i.fail.call(n,p)}};c()},t.prototype.getModel=function(i){return{name:i.name||this.name,delay:i.delay||this.delay,duration:i.duration!==void 0?i.duration:this.duration,begin:i.begin||this.begin,end:i.end||this.end,fail:i.fail||this.fail,progress:i.progress||this.progress,timingFunction:this.easing[i.timingFunction]?this.easing[i.timingFunction]:i.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(i,n){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){};var e;return Zf([ee("FadeIn")],t.prototype,"name",void 0),Zf([ee(400)],t.prototype,"duration",void 0),Zf([ee("ease")],t.prototype,"timingFunction",void 0),Zf([ee(0)],t.prototype,"delay",void 0),Zf([Xe()],t.prototype,"progress",void 0),Zf([Xe()],t.prototype,"begin",void 0),Zf([Xe()],t.prototype,"end",void 0),Zf([Xe()],t.prototype,"fail",void 0),t=e=Zf([$n],t),t})(Ug);function ed(r,t,e){var i=Lre(t);return i.rippleFlag===!1||i.rippleFlag===void 0?(function(){}):(r.setAttribute("data-ripple","true"),se.add(r,"mousedown",JR,{parent:r,rippleOptions:i}),se.add(r,"mouseup",ZR,{parent:r,rippleOptions:i,done:e}),se.add(r,"mouseleave",Yy,{parent:r,rippleOptions:i}),Re.isPointer&&se.add(r,"transitionend",Yy,{parent:r,rippleOptions:i}),(function(){r.removeAttribute("data-ripple"),se.remove(r,"mousedown",JR),se.remove(r,"mouseup",ZR),se.remove(r,"mouseleave",Yy),se.remove(r,"transitionend",Yy)}))}function Lre(r){var t={selector:r&&r.selector?r.selector:null,ignore:r&&r.ignore?r.ignore:null,rippleFlag:r&&r.rippleFlag,isCenterRipple:r&&r.isCenterRipple,duration:r&&r.duration?r.duration:350};return t}function JR(r){var t=r.target,e=this.rippleOptions.selector,i=e?Fe(t,e):t;if(!(!i||this.rippleOptions&&Fe(t,this.rippleOptions.ignore))){var n=i.getBoundingClientRect(),s=r.pageX-document.body.scrollLeft,a=r.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),o=Math.max(Math.abs(s-n.left),Math.abs(s-n.right)),l=Math.max(Math.abs(a-n.top),Math.abs(a-n.bottom)),c=Math.sqrt(o*o+l*l),u=c*2+"px",d=s-n.left-c,p=a-n.top-c;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(d=0,p=0,u="100%"),i.classList.add("e-ripple");var m=this.rippleOptions.duration.toString(),y="width: "+u+";height: "+u+";left: "+d+"px;top: "+p+"px;transition-duration: "+m+"ms;",M=Be("div",{className:"e-ripple-element",styles:y});i.appendChild(M),window.getComputedStyle(M).getPropertyValue("opacity"),M.style.transform="scale(1)",i!==this.parent&&se.add(i,"mouseleave",Yy,{parent:this.parent,rippleOptions:this.rippleOptions})}}function ZR(r){nW(r,this)}function Yy(r){nW(r,this)}function nW(r,t){var e=t.rippleOptions.duration,i=r.target,n=t.rippleOptions.selector,s=n?Fe(i,n):i;if(!(!s||s&&s.className.indexOf("e-ripple")===-1)){var a=Ei(".e-ripple-element",s),o=a[a.length-1];o&&(o.style.opacity="0.5"),t.parent!==s&&se.remove(s,"mouseleave",Yy),setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o),s.getElementsByClassName("e-ripple-element").length||s.classList.remove("e-ripple"),t.done&&t.done(r)},e)}}var Xd,R5;(function(r){r.Default="Default",r.Enable="Enable",r.Disable="Disable"})(R5||(R5={}));var jre="Module",_re=(function(){function r(t){this.loadedModules=[],this.parent=t}return r.prototype.inject=function(t,e){var i=t.length;if(i===0){this.clean();return}this.loadedModules.length&&this.clearUnusedModule(t);for(var n=0;n<i;n++)for(var s=t[parseInt(n.toString(),10)],a=0,o=e;a<o.length;a++){var l=o[a],c=s.member;if(l&&l.prototype.getModuleName()===s.member&&!this.isModuleLoaded(c)){var u=mA(l,s.args),d=this.getMemberName(c);s.isProperty?Yr(d,l,this.parent):Yr(d,u,this.parent);var p=s;p.member=d,this.loadedModules.push(p)}}},r.prototype.clean=function(){for(var t=0,e=this.loadedModules;t<e.length;t++){var i=e[t];i.isProperty||Pe(i.member,this.parent).destroy()}this.loadedModules=[]},r.prototype.getNonInjectedModules=function(t){var e=this;return t.filter(function(i){return!e.isModuleLoaded(i.member)})},r.prototype.clearUnusedModule=function(t){for(var e=this,i=t.map(function(l){return e.getMemberName(l.member)}),n=this.loadedModules.filter(function(l){return i.indexOf(l.member)===-1}),s=0,a=n;s<a.length;s++){var o=a[s];o.isProperty||Pe(o.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(o),1),K9(this.parent,o.member)}},r.prototype.getMemberName=function(t){return t[0].toLowerCase()+t.substring(1)+jre},r.prototype.isModuleLoaded=function(t){for(var e=0,i=this.loadedModules;e<i.length;e++){var n=i[e];if(n.member===this.getMemberName(t))return!0}return!1},r})(),fa=(function(){function r(t,e,i,n){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=Pe("callChildDataBind",Ug),this.parentObj=t,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=e,this.isParentArray=n,this.setProperties(i,!0)}return r.prototype.updateChange=function(t,e){t===!0?this.parentObj.childChangedProperties[""+e]=t:delete this.parentObj.childChangedProperties[""+e],this.parentObj.updateChange&&this.parentObj.updateChange(t,this.parentObj.propName)},r.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var t=setTimeout(this.parentObj.dataBind.bind(this.parentObj)),e=function(){clearTimeout(t)};this.finalUpdate=e}},r.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},r.prototype.setProperties=function(t,e){e===!0?(sd(this,t),this.updateChange(!1,this.propName),this.clearChanges()):sd(this,t)},r.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var t=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(Yr(this.propName+"."+t,this.changedProperties,this.parentObj.changedProperties),Yr(this.propName+"."+t,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},r.prototype.saveChanges=function(t,e,i,n){this.controlParent.isProtectedOnChange||(n||this.serverDataBind(t,e,!0),this.oldProperties[""+t]=i,this.changedProperties[""+t]=e,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},r.prototype.serverDataBind=function(t,e,i,n){},r.prototype.getParentKey=function(t){var e="",i=this.propName;if(this.isParentArray){e=this.parentObj[this.propName].indexOf(this);var n=this.parentObj[this.propName].length;n=t?n:n>0?n-1:0,e=e!==-1?"-"+e:"-"+n,i=i+e}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+e),i},r})(),Qc;(function(r){var t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];function e(n){var s=n.getDate(),a=n.getMonth(),o=n.getFullYear(),l=a+1,c=o;l<3&&(c-=1,l+=12);var u=Math.floor(c/100),d=u-Math.floor(u/4)-2,p=Math.floor(365.25*(c+4716))+Math.floor(30.6001*(l+1))+s-d-1524;u=Math.floor((p-186721625e-2)/36524.25),d=u-Math.floor(u/4)+1;var m=p+d+1524,y=Math.floor((m-122.1)/365.25),M=Math.floor(365.25*y),w=Math.floor((m-M)/30.6001);s=m-M-Math.floor(30.6001*w),a=Math.floor((m-M)/20.6001),a>13&&(y+=1,a-=12),a-=1,o=y-4716;var b=p-24e5,D=10631/30,E=p-1948084,N=Math.floor(E/10631);E=E-10631*N;var B=Math.floor((E-.1335)/D),P=30*N+B;E=E-Math.floor(B*D+.1335);var C=Math.floor((E+28.5001)/29.5);C===13&&(C=12);for(var k=E-Math.floor(29.5001*C-29),_=0;_<t.length&&!(t[parseInt(_.toString(),10)]>b);_++);var H=_+16260,j=Math.floor((H-1)/12),z=j+1,F=H-12*j,X=b-t[_-1]+1;return(X+"").length>2&&(X=k,F=C,z=P),{year:z,month:F,date:X}}r.getHijriDate=e;function i(n,s,a){var o=n,l=s,c=a,u=o-1,d=u*12+1+(l-1),p=d-16260,m=c+t[p-1]-1,y=m+24e5,M=Math.floor(y+.5),w=Math.floor((M-186721625e-2)/36524.25);w=M+1+w-Math.floor(w/4);var b=w+1524,D=Math.floor((b-122.1)/365.25),E=Math.floor(365.25*D),N=Math.floor((b-E)/30.6001),B=b-E-Math.floor(N*30.6001),P=N-(N>13.5?13:1),C=D-(P>2.5?4716:4715);return C<=0&&P--,new Date(C+"/"+P+"/"+B)}r.toGregorian=i})(Qc||(Qc={}));var zre=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,eP="stand-alone",Rre=["sun","mon","tue","wed","thu","fri","sat"],tP={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},Pre={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},Fre="timeSeparator",sW=(function(){function r(){}return r.dateFormat=function(t,e,i){var n=this,s=tr.getDependables(i,t,e.calendar);Pe("parserObject.numbers",s);var a=s.dateObject,o={isIslamic:tr.islamicRegex.test(e.calendar)};o.firstDayOfWeek=tr.getWeekData(t,i);var l=e.format||tr.getResultantPattern(e.skeleton,s.dateObject,e.type,!1,"");if(o.dateSeperator=tr.getDateSeparator(s.dateObject),Wi(l))i1("Format options or type given must be invalid");else{l=tr.ConvertDateToWeekFormat(l),o.pattern=l,o.numMapper=Us.getNumberMapper(s.parserObject,Us.getNumberingSystem(i));for(var c=l.match(zre)||[],u=0,d=c;u<d.length;u++){var p=d[u],m=p.length,y=p[0];switch(y==="K"&&(y="h"),y){case"E":case"c":o.weekday=s.dateObject[""+tr.days][""+eP][tr.monthIndex[""+m]];break;case"M":case"L":o.month=s.dateObject[""+tr.month][""+eP][tr.monthIndex[""+m]];break;case"a":o.designator=Pe("dayPeriods.format.wide",a);break;case"G":{var M=m<=3?"eraAbbr":m===4?"eraNames":"eraNarrow";o.era=Pe("eras."+M,s.dateObject);break}case"z":o.timeZone=Pe("dates.timeZoneNames",s.parserObject);break}}}return function(w){return isNaN(w.getDate())?null:n.intDateFormatter(w,o)}},r.intDateFormatter=function(t,e){for(var i=e.pattern,n="",s=i.match(tr.dateParseRegex),a=this.getCurrentDateValue(t,e.isIslamic),o=0,l=s;o<l.length;o++){var c=l[o],u=c.length,d=c[0];d==="K"&&(d="h");var p=void 0,m="",y=void 0,M=void 0,w="";switch(d){case"M":case"L":p=a.month,u>2?n+=e.month[""+p]:y=!0;break;case"E":case"c":n+=e.weekday[""+Rre[t.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(y=!0,d==="d")p=a.date;else if(d==="f"){y=!1,M=!0,m=t[""+tP[""+d]]().toString(),m=m.substring(0,u);var b=m.length;if(u!==b){if(u>3)continue;for(var D=0;D<u-b;D++)m="0"+m.toString()}w+=m}else p=t[""+tP[""+d]]();d==="h"&&(p=p%12||12);break;case"y":M=!0,w+=a.year,u===2&&(w=w.substr(w.length-2));break;case"a":{var E=t.getHours()<12?"am":"pm";n+=e.designator[""+E];break}case"G":{var N=t.getFullYear()<0?0:1,B=e.era[""+N];v(B)&&(B=e.era[N?0:1]),n+=B||"";break}case"'":n+=c==="''"?"'":c.replace(/'/g,"");break;case"z":{var P=t.getTimezoneOffset(),C=u<4?"+H;-H":e.timeZone.hourFormat;C=C.replace(/:/g,e.numMapper.timeSeparator),P===0?n+=e.timeZone.gmtZeroFormat:(M=!0,w=this.getTimeZoneValue(P,C)),w=e.timeZone.gmtFormat.replace(/\{0\}/,w);break}case":":n+=e.numMapper.numberSymbols[""+Fre];break;case"/":n+=e.dateSeperator;break;case"W":y=!0,p=tr.getWeekOfYear(t,e.firstDayOfWeek);break;default:n+=c}y&&(M=!0,w=this.checkTwodigitNumber(p,u)),M&&(n+=Us.convertValueParts(w,tr.latnParseRegex,e.numMapper.mapper))}return n},r.getCurrentDateValue=function(t,e){return e?Qc.getHijriDate(t):{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate()}},r.checkTwodigitNumber=function(t,e){var i=t+"";return e===2&&i.length!==2?"0"+i:i},r.getTimeZoneValue=function(t,e){var i=this,n=e.split(";"),s=n[t>0?1:0],a=Math.abs(t);return s=s.replace(/HH?|mm/g,function(o){var l=o.length,c=o.indexOf("H")!==-1;return i.checkTwodigitNumber(Math.floor(c?a/60:a%60),l)})},r})();mre(sW);var iP={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},Bre="percentSign",Ure="minusSign",u0=["infinity","nan","group","decimal","exponential"],aW=(function(){function r(){}return r.numberFormatter=function(t,e,i){var n=this,s=qe({},e),a={},o={},l,c=tr.getDependables(i,t,"",!0);c.numericObject,o.numberMapper=Us.getNumberMapper(c.parserObject,Us.getNumberingSystem(i),!0),o.currencySymbol=tr.getCurrencySymbol(c.numericObject,s.currency||Jk,e.altSymbol,e.ignoreCurrency),o.percentSymbol=o.numberMapper.numberSymbols[""+Bre],o.minusSymbol=o.numberMapper.numberSymbols[""+Ure];var u=o.numberMapper.numberSymbols;if(e.format&&!tr.formatRegex.test(e.format))a=tr.customFormat(e.format,o,c.numericObject),!Wi(s.useGrouping)&&s.useGrouping&&(s.useGrouping=a.pData.useGrouping);else{qe(s,tr.getProperNumericSkeleton(e.format||"N")),s.isCurrency=s.type==="currency",s.isPercent=s.type==="percent",l=tr.getSymbolPattern(s.type,o.numberMapper.numberSystem,c.numericObject,s.isAccount),s.groupOne=this.checkValueRange(s.maximumSignificantDigits,s.minimumSignificantDigits,!0),this.checkValueRange(s.maximumFractionDigits,s.minimumFractionDigits,!1,!0),Wi(s.fractionDigits)||(s.minimumFractionDigits=s.maximumFractionDigits=s.fractionDigits),Wi(s.useGrouping)&&(s.useGrouping=!0),s.isCurrency&&(l=l.replace(/\u00A4/g,tr.defaultCurrency));{var d=l.split(";");a.nData=tr.getFormatData(d[1]||"-"+d[0],!0,o.currencySymbol),a.pData=tr.getFormatData(d[0],!1,o.currencySymbol),s.useGrouping&&(s.groupSeparator=u[u0[2]],s.groupData=this.getGroupingDetails(d[0]))}var p=Wi(s.minimumFractionDigits);if(p&&(s.minimumFractionDigits=a.nData.minimumFraction),Wi(s.maximumFractionDigits)){var m=a.nData.maximumFraction;s.maximumFractionDigits=Wi(m)&&s.isPercent?0:m}var y=s.minimumFractionDigits,M=s.maximumFractionDigits;!Wi(y)&&!Wi(M)&&y>M&&(s.maximumFractionDigits=y)}return qe(a.nData,s),qe(a.pData,s),function(w){return isNaN(w)?u[u0[1]]:isFinite(w)?n.intNumberFormatter(w,a,o,e):u[u0[0]]}},r.getGroupingDetails=function(t){var e={},i=t.match(tr.negativeDataRegex);if(i&&i[4]){var n=i[4],s=n.lastIndexOf(",");if(s!==-1){var a=n.split(".")[0];e.primary=a.length-s-1;var o=n.lastIndexOf(",",s-1);o!==-1&&(e.secondary=s-1-o)}}return e},r.checkValueRange=function(t,e,i,n){var s=n?"f":"s",a=0,o=iP["l"+s],l=iP["m"+s];if(Wi(t)||(this.checkRange(t,o,n),a++),Wi(e)||(this.checkRange(e,l,n),a++),a===2)if(t<e)i1(l+"specified must be less than the"+o);else return!0;else i&&a===1&&i1("Both"+l+"and"+l+"must be present");return!1},r.checkRange=function(t,e,i){var n=i?[0,20]:[1,21];(t<n[0]||t>n[1])&&i1(e+"value must be within the range"+n[0]+"to"+n[1])},r.intNumberFormatter=function(t,e,i,n){var s;if(!Wi(e.nData.type)){t<0?(t=t*-1,s=e.nData):t===0?s=e.zeroData||e.pData:s=e.pData;var a="";if(s.isPercent&&(t=t*100),s.groupOne)a=this.processSignificantDigits(t,s.minimumSignificantDigits,s.maximumSignificantDigits);else if(a=this.processFraction(t,s.minimumFractionDigits,s.maximumFractionDigits,n),s.minimumIntegerDigits&&(a=this.processMinimumIntegers(a,s.minimumIntegerDigits)),i.isCustomFormat&&s.minimumFractionDigits<s.maximumFractionDigits&&/\d+\.\d+/.test(a)){for(var o=a.split("."),l=o[1],c=l.length,u=c-1;u>=0&&(l[parseInt(u.toString(),10)]==="0"&&u>=s.minimumFractionDigits);u--)l=l.slice(0,u);var d=i.numberMapper.numberSymbols[u0[3]]||".";l===""?a=o[0]:a=o[0]+d+l}return s.type==="scientific"&&(a=t.toExponential(s.maximumFractionDigits),a=a.replace("e",i.numberMapper.numberSymbols[u0[4]])),a=a.replace(".",i.numberMapper.numberSymbols[u0[3]]),a=s.format==="#,###,,;(#,###,,)"?this.customPivotFormat(parseInt(a,10)):a,s.useGrouping&&(a=this.groupNumbers(a,s.groupData.primary,s.groupSeparator||",",i.numberMapper.numberSymbols[u0[3]]||".",s.groupData.secondary)),a=Us.convertValueParts(a,tr.latnParseRegex,i.numberMapper.mapper),s.nlead==="N/A"?s.nlead:a==="0"&&n&&n.format==="0"?a+s.nend:s.nlead+a+s.nend}},r.processSignificantDigits=function(t,e,i){var n=t+"",s,a=n.length;return a<e?t.toPrecision(e):(n=t.toPrecision(i),s=+n,s+"")},r.groupNumbers=function(t,e,i,n,s){for(var a=!v(s)&&s!==0,o=t.split(n),l=o[0],c=l.length,u="";c>e;)u=l.slice(c-e,c)+(u.length?i+u:""),c-=e,a&&(e=s,a=!1);return o[0]=l.slice(0,c)+(u.length?i:"")+u,o.join(n)},r.roundTo=function(t,e){var i=Math.pow(10,e);return(Math.round(t*i)/i).toFixed(e)},r.processFraction=function(t,e,i,n){var s=(t+"").split(".")[1],a=s?s.length:0;if(e&&a<e){var o="";if(a===0)o=t.toFixed(e);else{o+=t;for(var l=0;l<e-a;l++)o+="0";return o}return t.toFixed(e)}else if(!v(i)&&(a>i||i===0))return this.roundTo(t,i);var c=t+"";return c[0]==="0"&&n&&n.format==="###.00"&&(c=c.slice(1)),c},r.processMinimumIntegers=function(t,e){var i=t.split("."),n=i[0],s=n.length;if(s<e){for(var a=0;a<e-s;a++)n="0"+n;i[0]=n}return i.join(".")},r.customPivotFormat=function(t){if(t>=5e5){t/=1e6;var e=t.toString().split(".");e[0];var i=e[1];return i&&+i.substring(0,1)>=5?Math.ceil(t).toString():Math.floor(t).toString()}return""},r})();pre(aW);var rP="stand-alone",Vre=/^[0-9]*$/,nP={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},Hre="months",Wre=(function(){function r(){}return r.dateParser=function(t,e,i){var n=this,s=tr.getDependables(i,t,e.calendar),a=Us.getCurrentNumericOptions(s.parserObject,Us.getNumberingSystem(i),!1,tv()),o={},l=e.format||tr.getResultantPattern(e.skeleton,s.dateObject,e.type,!1,""),c="",u;if(Wi(l))i1("Format options or type given must be invalid");else{l=tr.ConvertDateToWeekFormat(l),o={isIslamic:tr.islamicRegex.test(e.calendar),pattern:l,evalposition:{},culture:t};for(var d=l.match(tr.dateParseRegex)||[],p=d.length,m=0,y=0,M=!1,w=a.numericRegex,b=Us.getNumberMapper(s.parserObject,Us.getNumberingSystem(i)),D=0;D<p;D++){var E=d[parseInt(D.toString(),10)],N=E.length,B=E[0]==="K"?"h":E[0],P=void 0,C=void 0,k=Pre[""+B],_=N===2?"":"?";switch(M&&(m=y,M=!1),B){case"E":case"c":{var H=void 0;H=s.dateObject[""+tr.days][""+rP][tr.monthIndex[""+N]];var j=Us.reverseObject(H);c+="("+Object.keys(j).join("|")+")";break}case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(C=!0,(B==="M"||B==="L")&&N>2){var z=void 0;z=s.dateObject[""+Hre][""+rP][tr.monthIndex[""+N]],o[""+k]=Us.reverseObject(z),c+="("+Object.keys(o[""+k]).join("|")+")"}else if(B==="f"){if(N>3)continue;P=!0,c+="("+w+w+"?"+w+"?)"}else P=!0,c+="("+w+w+_+")";B==="h"&&(o.hour12=!0);break;case"W":{var F=N===1?"?":"";c+="("+w+F+w+")";break}case"y":C=P=!0,N===2?c+="("+w+w+")":c+="("+w+"{"+N+",})";break;case"a":{C=!0;var X=Pe("dayPeriods.format.wide",s.dateObject);o[""+k]=Us.reverseObject(X),c+="("+Object.keys(o[""+k]).join("|")+")";break}case"G":{C=!0;var J=N<=3?"eraAbbr":N===4?"eraNames":"eraNarrow";o[""+k]=Us.reverseObject(Pe("eras."+J,s.dateObject)),c+="("+Object.keys(o[""+k]).join("|")+"?)";break}case"z":{var U=new Date().getTimezoneOffset();C=U!==0,o[""+k]=Pe("dates.timeZoneNames",s.parserObject);var W=o[""+k];u=N<4;var re=u?"+H;-H":W.hourFormat;re=re.replace(/:/g,b.timeSeparator),c+="("+this.parseTimeZoneRegx(re,W,w)+")?",M=!0,y=u?6:12;break}case"'":{var Z=E.replace(/'/g,"");c+="("+Z+")?";break}default:c+="([\\D])";break}if(C&&(o.evalposition[""+k]={isNumber:P,pos:D+1+m,hourOnly:u}),D===p-1&&!v(c)){var Ee=RegExp;o.parserRegex=new Ee("^"+c+"$","i")}}}return function(ae){var L=n.internalDateParse(ae,o,a);if(v(L)||!Object.keys(L).length)return null;if(o.isIslamic){var Y={},G=L.year,Q=L.day,te=L.month,le=G?G+"":"",Me=le.length===2;(!G||!te||!Q||Me)&&(Y=Qc.getHijriDate(new Date)),Me&&(G=parseInt((Y.year+"").slice(0,2)+le,10));var ve=Qc.toGregorian(G||Y.year,te||Y.month,Q||Y.date);L.year=ve.getFullYear(),L.month=ve.getMonth()+1,L.day=ve.getDate()}return n.getDateObject(L)}},r.getDateObject=function(t,e){var i=e||new Date;i.setMilliseconds(0);var n=["hour","minute","second","milliseconds","month","day"],s=t.year,a=t.designator,o=t.timeZone;if(!Wi(s)){var l=(s+"").length;if(l<=2){var c=Math.floor(i.getFullYear()/100)*100;s+=c}i.setFullYear(s)}for(var u=0,d=n;u<d.length;u++){var p=d[u],m=t[""+p];if(Wi(m)&&p==="day"&&i.setDate(1),!Wi(m))if(p==="month"){if(m-=1,m<0||m>11)return new Date("invalid");var y=i.getDate();i.setDate(1),i[nP[""+p]](m);var M=new Date(i.getFullYear(),m+1,0).getDate();i.setDate(y<M?y:M)}else{if(p==="day"){var w=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(m<1||m>w)return null}i[""+nP[""+p]](m)}}if(!Wi(a)){var b=i.getHours();a==="pm"?i.setHours(b+(b===12?0:12)):b===12&&i.setHours(0)}if(!Wi(o)){var D=o-i.getTimezoneOffset();D!==0&&i.setMinutes(i.getMinutes()+D)}return i},r.internalDateParse=function(t,e,i){var n=t.match(e.parserRegex),s={hour:0,minute:0,second:0};if(v(n))return null;for(var a=Object.keys(e.evalposition),o=0,l=a;o<l.length;o++){var c=l[o],u=e.evalposition[""+c],d=n[u.pos];if(u.isNumber)s[""+c]=this.internalNumberParser(d,i);else if(c==="timeZone"&&!Wi(d)){var p=u.pos,m=void 0,y=n[p+1],M=!Wi(y);u.hourOnly?m=this.getZoneValue(M,y,n[p+4],i)*60:(m=this.getZoneValue(M,y,n[p+7],i)*60,m+=this.getZoneValue(M,n[p+4],n[p+10],i)),v(m)||(s[""+c]=m)}else{var w=["en-US","en-MH","en-MP"];d=c==="month"&&!e.isIslamic&&(e.culture==="en"||e.culture==="en-GB"||e.culture==="en-US")?d[0].toUpperCase()+d.substring(1).toLowerCase():d,d=c!=="month"&&c==="designator"&&e.culture&&e.culture.indexOf("en-")!==-1&&w.indexOf(e.culture)===-1?d.toLowerCase():d,s[""+c]=e[""+c][""+d]}}return e.hour12&&(s.hour12=!0),s},r.internalNumberParser=function(t,e){return t=Us.convertValueParts(t,e.numberParseRegex,e.numericPair),Vre.test(t)?+t:null},r.escapeRegex=function(t){var e="__TEMP__",i=t.replace("{0}",e),n=/[.*+?^${}()|[\]\\]/g,s=i.replace(n,"\\$&");return s.replace(e,"{0}")},r.parseTimeZoneRegx=function(t,e,i){var n=e.gmtFormat,s,a="("+i+")("+i+")";s=t.replace("+","\\+"),t.indexOf("HH")!==-1?s=s.replace(/HH|mm/g,"("+a+")"):s=s.replace(/H|m/g,"("+a+"?)"),n=this.escapeRegex(n);var o=s.split(";").map(function(c){return n.replace("{0}",c)}),l=this.escapeRegex(e.gmtZeroFormat);return s=o.join("|")+"|"+l,s},r.getZoneValue=function(t,e,i,n){var s=t?e:i;if(!s)return 0;var a=this.internalNumberParser(s,n);return t?-a:a},r})(),Yre=RegExp,qre=new Yre("^([^0-9]*)(([0-9,]*[0-9]+)(.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$"),Qre=/,/g,Gre=["minusSign","infinity"],Kre=(function(){function r(){}return r.numberParser=function(t,e,i){var n=this,s=tr.getDependables(i,t,"",!0),a={custom:!0};tr.formatRegex.test(e.format)||!e.format?(qe(a,tr.getProperNumericSkeleton(e.format||"N")),a.custom=!1,a.fractionDigits||e.maximumFractionDigits&&(a.maximumFractionDigits=e.maximumFractionDigits)):qe(a,tr.customFormat(e.format,null,null)),Pe("numbers",s.parserObject);var o=Us.getCurrentNumericOptions(s.parserObject,Us.getNumberingSystem(i),!0,tv());a.symbolRegex=Us.getSymbolRegex(Object.keys(o.symbolMatch)),a.infinity=o.symbolNumberSystem[Gre[1]];var l;if(l=tr.getSymbolPattern(a.type,o.numberSystem,s.numericObject,a.isAccount),l){l=l.replace(/\u00A4/g,tr.defaultCurrency);var c=l.split(";");a.nData=tr.getFormatData(c[1]||"-"+c[0],!0,""),a.pData=tr.getFormatData(c[0],!0,"")}return function(u){return n.getParsedNumber(u,a,o)}},r.getParsedNumber=function(t,e,i){var n,s,a,o,l,c;if(t.indexOf(e.infinity)!==-1)return 1/0;t=Us.convertValueParts(t,e.symbolRegex,i.symbolMatch),t=Us.convertValueParts(t,i.numberParseRegex,i.numericPair),t=t.indexOf("-")!==-1?t.replace("-.","-0."):t,t.indexOf(".")===0&&(t="0"+t);var u=t.match(qre);if(v(u))return NaN;o=u[1],a=u[2];var d=u[5];return l=u[6],n=e.custom?o===e.nData.nlead&&l===e.nData.nend:o.indexOf(e.nData.nlead)!==-1&&l.indexOf(e.nData.nend)!==-1,s=n?e.nData.isPercent:e.pData.isPercent,a=a.replace(Qre,""),d&&(a+=d),c=+a,(e.type==="percent"||s)&&(c=c/100),(e.custom||e.fractionDigits)&&(c=parseFloat(c.toFixed(e.custom?n?e.nData.maximumFractionDigits:e.pData.maximumFractionDigits:e.fractionDigits))),e.maximumFractionDigits&&(c=this.convertMaxFracDigits(a,e,c,n)),n&&(c*=-1),c},r.convertMaxFracDigits=function(t,e,i,n){var s=t.split(".");return s[1]&&s[1].length>e.maximumFractionDigits&&(i=+i.toFixed(e.custom?n?e.nData.maximumFractionDigits:e.pData.maximumFractionDigits:e.maximumFractionDigits)),i},r})(),Hw=new gA,$re=!1,ws={},eL="en-US",P5=["numericObject","dateObject"],Ns=(function(){function r(t){t&&(this.culture=t)}return r.prototype.getDateFormat=function(t){return sW.dateFormat(this.getCulture(),t||{type:"date",skeleton:"short"},ws)},r.prototype.getNumberFormat=function(t){return t&&!t.currency&&(t.currency=Jk),aW.numberFormatter(this.getCulture(),t||{},ws)},r.prototype.getDateParser=function(t){return Wre.dateParser(this.getCulture(),t||{skeleton:"short",type:"date"},ws)},r.prototype.getNumberParser=function(t){return Kre.numberParser(this.getCulture(),t||{format:"N"},ws)},r.prototype.formatNumber=function(t,e){return this.getNumberFormat(e)(t)},r.prototype.formatDate=function(t,e){return this.getDateFormat(e)(t)},r.prototype.parseDate=function(t,e){return this.getDateParser(e)(t)},r.prototype.parseNumber=function(t,e){return this.getNumberParser(e)(t)},r.prototype.getDatePattern=function(t,e){return tr.getActualDateTimeFormat(this.getCulture(),t,ws,e)},r.prototype.getNumberPattern=function(t,e){return tr.getActualNumberFormat(this.getCulture(),t,ws,e)},r.prototype.getFirstDayOfWeek=function(){return tr.getWeekData(this.getCulture(),ws)},r.prototype.getCulture=function(){return this.culture||eL},r})();function Wx(r,t){var e=tr.getDependables(ws,r,"",!0)[P5[0]],i=tr.getDependables(ws,r,"")[P5[1]],n=Pe("defaultNumberingSystem",e),s=Pe("symbols-numberSystem-"+n,e),a=tr.getSymbolPattern("decimal",n,e,!1);return qe(s,tr.getFormatData(a,!0,"",!0),{dateSeparator:tr.getDateSeparator(i)})}function yl(r){return tr.getDependables(ws,"",r,!1)[P5[1]]}var Xre=["grid","pivotview","treegrid","spreadsheet","rangeNavigator","DocumentEditor","listbox","inplaceeditor","PdfViewer","richtexteditor","DashboardLayout","chart","stockChart","circulargauge","diagram","heatmap","lineargauge","maps","slider","smithchart","barcode","sparkline","treemap","bulletChart","kanban","daterangepicker","schedule","gantt","signature","query-builder","drop-down-tree","carousel","filemanager","uploader","accordion","tab","treeview"],Jre=["grid","chart","maps","schedule","gantt","richtexteditor","kanban","treegrid","filemanager","pivotview","diagram","blockeditor","spreadsheet","DocumentEditor"],Zre=["maps","schedule","gantt","richtexteditor","kanban","treegrid","filemanager","pivotview","diagram","blockeditor","PdfViewer","DocumentEditor"],ene=["grid","chart","maps","schedule","gantt","richtexteditor","kanban","treegrid","filemanager","pivotview","diagram","blockeditor","PdfViewer","spreadsheet"],tne=[115,121,110,99,102,117,115,105,111,110,46,105,115,76,105,99,86,97,108,105,100,97,116,101,100],F5,oW=(function(){function r(t){this.isLicensed=!0,this.version="31",this.platform=/JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats|essentialstudio/i,this.prefixRegex=/essentialui|pdfviewersdk|spreadsheeteditorsdk|docxeditorsdk/i,this.incorrectPlatform=/JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats/i,this.errors={noLicense:"<span>This application was built using a trial version of Syncfusion<sup></sup> Essential Studio<sup></sup>. To remove the license validation message permanently, a valid license key must be included.</span>",trailExpired:"<span>This application was built using a trial version of Syncfusion<sup></sup> Essential Studio<sup></sup>. To remove the license validation message permanently, a valid license key must be included.</span>",versionMismatched:"<span>The included Syncfusion<sup></sup> license key is invalid.</span>",platformMismatched:"<span>The included Syncfusion<sup></sup> license key is invalid.</span>",invalidKey:"<span>The included Syncfusion<sup></sup> license key is invalid.</span>",componentRestricted:"<span>The included Syncfusion<sup></sup> license key is invalid.</span>"},this.validatedPlatforms=[],this.minVersion=null,this.allowedComponentsMap={pdfviewersdk:Jre,spreadsheeteditorsdk:Zre,docxeditorsdk:ene},this.manager=(function(){var e=null;function i(s){e=s}function n(){return e}return{setKey:i,getKey:n}})(),this.npxManager=(function(){var e="npxKeyReplace";function i(){return e}return{getKey:i}})(),this.manager.setKey(t)}return r.prototype.validate=function(t){var e=[115,121,110,99,102,117,115,105,111,110,46,108,105,99,101,110,115,101,67,111,110,116,101,110,116],i=[115,121,110,99,102,117,115,105,111,110,46,99,108,97,105,109,65,99,99,111,117,110,116,85,82,76];if(Hx&&!Pe(yC(tne),Hx)&&!Pe("Blazor",Hx)){var n=void 0,s=void 0;if(this.manager&&this.manager.getKey()||this.npxManager&&this.npxManager.getKey()!=="npxKeyReplace"){var a=this.getInfoFromKey();if(a&&a.length){for(var o=void 0,l=0,c=a;l<c.length;l++){var u=c[l],d=!1;if(!this.platform.test(u.platform)&&!this.prefixRegex.test(u.platform)||u.invalidPlatform)n=this.errors.platformMismatched;else if(this.incorrectPlatform.test(u.platform)&&parseInt(u.version.split(".")[0],10)>30)n=this.errors.platformMismatched;else if(this.prefixRegex.test(u.platform)&&parseInt(u.version.split(".")[0],10)>30){var p=this.restrictComponent(t,u.platform);if(p?(o=p,d=!0):o=null,u.minVersion>=u.lastValue&&u.minVersion!==u.lastValue||u.lastValue<parseInt(this.version,10)?(n=this.errors.versionMismatched,n=n.replace("##LicenseVersion",u.version),n=n.replace("##Requireversion",this.version+".x")):(u.lastValue==null||isNaN(u.lastValue))&&(n=this.errors.versionMismatched,n=n.replace("##LicenseVersion",u.version),n=n.replace("##Requireversion",this.version+".x")),u.expiryDate){var m=new Date(u.expiryDate),y=new Date;m<y&&m!==y&&(n=this.errors.trailExpired,d=!0)}if(!n&&!o)break}else if(u.minVersion>=u.lastValue&&u.minVersion!==u.lastValue||u.lastValue<parseInt(this.version,10)?(n=this.errors.versionMismatched,n=n.replace("##LicenseVersion",u.version),n=n.replace("##Requireversion",this.version+".x")):(u.lastValue==null||isNaN(u.lastValue))&&(n=this.errors.versionMismatched,n=n.replace("##LicenseVersion",u.version),n=n.replace("##Requireversion",this.version+".x")),u.expiryDate){var m=new Date(u.expiryDate),y=new Date;if(m!==y&&m<y)n=this.errors.trailExpired;else break}!d&&this.prefixRegex.test(u.platform)&&this.validatedPlatforms.push(u.platform)}(!this.validatedPlatforms.length||o)&&(n=n||o)}else n=this.errors.invalidKey}else{var M=Pe(yC(e),Hx);s=Pe(yC(i),Hx),M&&M!==""?n=M:n=this.errors.noLicense}if(n&&typeof document<"u"&&!v(document)){var w=document.querySelector("div.syncfusion-license-error");if(!w){F5=s&&s!==""?s:"https://www.syncfusion.com/account/claim-license-key?pl=SmF2YVNjcmlwdA==&vs=MzE=&utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information";var b=Be("div",{className:"syncfusion-license-error",innerHTML:`<img src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE5OV80KSI+CjxwYXRoIGQ9Ik0xMiAyMUMxNi45NzA2IDIxIDIxIDE2Ljk3MDYgMjEgMTJDMjEgNy4wMjk0NCAxNi45NzA2IDMgMTIgM0M3LjAyOTQ0IDMgMyA3LjAyOTQ0IDMgMTJDMyAxNi45NzA2IDcuMDI5NDQgMjEgMTIgMjFaIiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBmaWxsPSIjNjE2MDYzIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS44MTI1IDlDMTIuNDMzOCA5IDEyLjkzNzUgOC40OTYzMiAxMi45Mzc1IDcuODc1QzEyLjkzNzUgNy4yNTM2OCAxMi40MzM4IDYuNzUgMTEuODEyNSA2Ljc1QzExLjE5MTIgNi43NSAxMC42ODc1IDcuMjUzNjggMTAuNjg3NSA3Ljg3NUMxMC42ODc1IDguNDk2MzIgMTEuMTkxMiA5IDExLjgxMjUgOVoiIGZpbGw9IiM3MzczNzMiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xOTlfNCI+CjxyZWN0IHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K' style="top: 6px;
                    position: absolute;
                    left: 16px;
                    width: 24px;
                    height: 24px;"/>`+n+' <a style="text-decoration: none;color: #0D6EFD;font-weight: 500;" href='+F5+">Claim your free account</a>"});b.setAttribute("style",`position: fixed;
                top: 10px;
                left: 10px;
                right: 10px;
                font-size: 14px;
                background: #EEF2FF;
                color: #222222;
                z-index: 999999999;
                text-align: left;
                border: 1px solid #EEEEEE;
                padding: 10px 11px 10px 50px;
                border-radius: 8px;
                font-family: Helvetica Neue, Helvetica, Arial;`),document.body.appendChild(b)}this.isLicensed=!1}}return this.isLicensed},r.prototype.restrictComponent=function(t,e){var i=["DocumentEditor","spreadsheet","PdfViewer"];if(e==="essentialui")return i.indexOf(t)===-1?null:this.errors.componentRestricted;var n=this.allowedComponentsMap[e]||[];return n.indexOf(t)===-1?null:this.errors.componentRestricted},r.prototype.getDecryptedData=function(t){try{return atob(t)}catch{return""}},r.prototype.getInfoFromKey=function(){try{var t="",e=[5439488,7929856,5111808,6488064,4587520,7667712,5439488,6881280,5177344,7208960,4194304,4456448,6619136,7733248,5242880,7077888,6356992,7602176,4587520,7274496,7471104,7143424],i=[],n=[],s=!1,a=!1;this.manager.getKey()?t=this.manager.getKey():(a=!0,t=this.npxManager.getKey().split("npxKeyReplace")[1]);for(var o=t.split(";"),l=0,c=o;l<c.length;l++){var u=c[l],d=this.getDecryptedData(u);if(d){var p=0,m="";if(a){for(var w=d[d.length-1],b=[],y=0;y<d.length;y++)b[parseInt(y.toString(),10)]=d[parseInt(y.toString(),10)].charCodeAt(0)-w.charCodeAt(0);for(var y=0;y<b.length;y++)m+=String.fromCharCode(b[parseInt(y.toString(),10)])}else for(var y=0;y<d.length;y++,p++){p===e.length&&(p=0);var M=d.charCodeAt(y);m+=String.fromCharCode(M^e[parseInt(p.toString(),10)]>>16)}if(this.platform.test(m)||this.prefixRegex.test(m)){if(i=m.split(";"),s=!1,i.length>3){var D=parseInt(i[1].split(".")[0],10),E=parseInt(i[4],10);n.push({platform:i[0],version:i[1],expiryDate:i[2],lastValue:E,minVersion:D})}}else m&&m.split(";").length>3&&(s=!0)}}return s&&!n.length?[{invalidPlatform:s}]:n.length?n:null}catch{return null}},r})(),lW=new oW;function yC(r){for(var t="",e=0,i=r;e<i.length;e++){var n=i[e];t+=String.fromCharCode(n)}return t}function ine(r){lW=new oW(r)}var rne=function(r,t){return lW.validate(r)},nne=function(){var r=`
    <div style="
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 99999;
    ">
        <div style="
    background: #FFFFFF;
    height: 455px;
    width: 840px;
    font-family: Helvetica Neue, Helvetica, Arial;
    color: #000000;
    box-shadow: 0px 4.8px 14.4px rgb(0 0 0 / 18%), 0px 25.6px 57.6px rgb(0 0 0 / 22%);
    display: block;
    margin: 8% auto;
    border-radius: 20px;
    ">
            <div style="
    position: absolute;
width: 838px;
height: 62px;
background-color: #F9F9F9;
border: 1px solid #EEEEEE;
border-top-left-radius: 20px;
border-top-right-radius: 20px;
">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ2IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTQ2IDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNDAuNTk2NSAxNS4wMDc4SDMyLjQyNUMzMS41NTU3IDE1LjAwNzggMzAuOTAzNyAxNS4xODEyIDMwLjUxMjUgMTUuNDg0NkMzMC4xMjEzIDE1LjgzMTQgMjkuOTA0IDE2LjMwODIgMjkuOTA0IDE3LjA0NTFDMjkuOTA0IDE3LjYwODYgMzAuMDc3OCAxOC4wNDIxIDMwLjQyNTYgMTguMzAyMkMzMC43NzMzIDE4LjYwNTYgMzEuMjk0OSAxOC43MzU2IDMxLjk5MDMgMTguNzM1NkgzNi4zMzY5QzM4LjExODkgMTguNzM1NiAzOS40MjI5IDE5LjA4MjQgNDAuMTYxOCAxOS43MzI2QzQwLjk0NDIgMjAuNDI2MiA0MS4yOTE5IDIxLjU1MzIgNDEuMjkxOSAyMy4xMTM3QzQxLjI5MTkgMjQuNzE3NiA0MC44NTcyIDI1Ljg4OCAzOS45ODc5IDI2LjY2ODJDMzkuMTE4NiAyNy40MDUxIDM3LjcyNzcgMjcuNzk1MyAzNS44NTg3IDI3Ljc5NTNIMjcuMDc4N1YyNS4wMjFIMzUuMzM3MkMzNi4yOTM0IDI1LjAyMSAzNi45NDU0IDI0Ljg5MSAzNy4zMzY2IDI0LjYzMDlDMzcuNzI3NyAyNC4zNzA4IDM3LjkwMTYgMjMuODk0IDM3LjkwMTYgMjMuMjg3MUMzNy45MDE2IDIyLjYzNjkgMzcuNzI3NyAyMi4xNjAxIDM3LjM4IDIxLjlDMzcuMDMyMyAyMS42Mzk5IDM2LjQyMzggMjEuNDY2NSAzNS41NTQ1IDIxLjQ2NjVIMzEuNjQyNkMyOS44NjA1IDIxLjQ2NjUgMjguNTEzMSAyMS4xMTk4IDI3LjY4NzMgMjAuMzgyOEMyNi44NjE0IDE5LjY0NTkgMjYuNDI2OCAxOC41MTg5IDI2LjQyNjggMTcuMDAxN0MyNi40MjY4IDE1LjM1NDUgMjYuODYxNCAxNC4xNDA4IDI3LjczMDcgMTMuMzYwNkMyOC42IDEyLjU4MDMgMjkuOTkwOSAxMi4yMzM1IDMxLjkwMzQgMTIuMjMzNUg0MC41OTY1VjE1LjAwNzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik00OC4wNzI3IDI1LjI4MTFINTAuNTA2OFYxNi4zOTQ5SDUzLjU0OTNWMjcuNTM1MkM1My41NDkzIDI5LjA1MjQgNTMuMjAxNiAzMC4xNzk0IDUyLjUwNjIgMzAuOTE2M0M1MS44MTA3IDMxLjY1MzIgNTAuNzI0MSAzMiA0OS4yNDYzIDMySDQzLjMzNVYyOS42NTkySDQ4LjcyNDdDNDkuMjg5NyAyOS42NTkyIDQ5Ljc2NzkgMjkuNTI5MiA1MC4wNzIxIDI5LjIyNThDNTAuMzc2NCAyOC45NjU3IDUwLjU1MDIgMjguNTMyMiA1MC41NTAyIDI4LjAxMlYyNy44Mzg2SDQ3Ljg5ODlDNDYuMjAzNyAyNy44Mzg2IDQ0Ljk0MzIgMjcuNDkxOSA0NC4yNDc4IDI2Ljg0MTZDNDMuNTA4OSAyNi4xNDgxIDQzLjE2MTEgMjUuMDY0NCA0My4xNjExIDIzLjQ2MDVWMTYuMzk0OUg0Ni4xNjAyVjIzLjIwMDVDNDYuMTYwMiAyNC4wNjc0IDQ2LjI5MDYgMjQuNjMwOSA0Ni41NTE0IDI0Ljg5MUM0Ni43MjUzIDI1LjE1MTEgNDcuMjQ2OSAyNS4yODExIDQ4LjA3MjcgMjUuMjgxMVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTU1Ljg5NjUgMTYuMzk0OUg2MS41OTA0QzYzLjMyOTEgMTYuMzk0OSA2NC41NDYxIDE2LjY5ODMgNjUuMjg1IDE3LjM0ODVDNjYuMDIzOSAxNy45OTg4IDY2LjM3MTYgMTkuMDgyNCA2Ni4zNzE2IDIwLjU1NjNWMjcuNzk1M0g2My4zMjkxVjIwLjk0NjRDNjMuMzI5MSAyMC4wNzk0IDYzLjE5ODcgMTkuNTE1OSA2Mi45Mzc5IDE5LjI5OTJDNjIuNjc3MSAxOS4wMzkxIDYyLjE1NTUgMTguOTA5MSA2MS4zMjk3IDE4LjkwOTFINTguODk1NlYyNy44Mzg2SDU1Ljg1M1YxNi4zOTQ5SDU1Ljg5NjVaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03NC45MzQyIDI1LjM2NzhINzguMTUwNlYyNy43OTUySDc0LjAyMTRDNzIuOTc4MiAyNy43OTUyIDcyLjEwODkgMjcuNjY1MiA3MS40NTcgMjcuNDkxOEM3MC44MDUgMjcuMjc1IDcwLjE5NjUgMjYuOTI4MyA2OS43MTgzIDI2LjQ1MTRDNjkuMTk2OCAyNS45MzEzIDY4Ljc2MjEgMjUuMjgxMSA2OC40NTc4IDI0LjU0NDJDNjguMTUzNiAyMy44MDcyIDY4LjAyMzIgMjIuOTgzNiA2OC4wMjMyIDIyLjE2QzY4LjAyMzIgMjEuMjkzMSA2OC4xNTM2IDIwLjQ2OTUgNjguNDU3OCAxOS42ODkyQzY4Ljc2MjEgMTguOTA5IDY5LjE1MzMgMTguMzAyMSA2OS43MTgzIDE3Ljc4MTlDNzAuMjM5OSAxNy4zMDUxIDcwLjgwNSAxNi45NTgzIDcxLjUwMDQgMTYuNzQxNkM3Mi4xOTU5IDE2LjUyNDkgNzMuMDIxNyAxNi40MzgyIDc0LjA2NDkgMTYuNDM4Mkg3OC4xOTQxVjE4LjkwOUg3NC45MzQyQzczLjQ5OTggMTguOTA5IDcyLjU0MzYgMTkuMTY5MSA3MS45Nzg1IDE5LjY0NTlDNzEuNDU2OSAyMC4xMjI3IDcxLjE1MjcgMjAuOTg5NyA3MS4xNTI3IDIyLjIwMzRDNzEuMTUyNyAyMi44OTY5IDcxLjI4MzEgMjMuNDYwNSA3MS41MDA0IDIzLjkzNzNDNzEuNzE3NyAyNC40MTQxIDcyLjA2NTUgMjQuNzYwOSA3Mi41MDAxIDI1LjA2NDNDNzIuNzE3NCAyNS4xOTQ0IDcyLjk3ODIgMjUuMjgxMSA3My4yODI1IDI1LjM2NzhDNzMuNjMwMiAyNS4zMjQ0IDc0LjE1MTggMjUuMzY3OCA3NC45MzQyIDI1LjM2NzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik04MC44NDU2IDE4LjY0ODlINzguNjcyNFYxNi4zNTE1SDgwLjg0NTZWMTUuMTgxMUM4MC44NDU2IDE0LjAxMDggODEuMDYzIDEzLjIzMDUgODEuNDk3NiAxMi44NDA0QzgxLjkzMjMgMTIuNDUwMyA4Mi43NTgxIDEyLjIzMzUgODMuOTc1MSAxMi4yMzM1SDg2Ljg0MzhWMTQuNDAwOUg4NS40MDk1Qzg0Ljg4NzkgMTQuNDAwOSA4NC41NDAyIDE0LjQ4NzYgODQuMzIyOSAxNC42NjFDODQuMTA1NSAxNC44MzQ0IDgzLjk3NTEgMTUuMDk0NSA4My45NzUxIDE1LjQ0MTJWMTYuMzUxNUg4Ni44NDM4VjE4LjY0ODlIODMuOTc1MVYyNy43OTUzSDgwLjg0NTZWMTguNjQ4OVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTk4LjQwNTYgMjcuNzk1M0g5Mi43MTE2QzkxLjAxNjUgMjcuNzk1MyA4OS44NDI5IDI3LjQ0ODUgODkuMDYwNSAyNi43OTgzQzg4LjMyMTYgMjYuMTQ4MSA4Ny45MzA0IDI1LjA2NDQgODcuOTMwNCAyMy41OTA2VjE2LjM5NDlIOTAuOTI5NVYyMy40MTcyQzkwLjkyOTUgMjQuMTk3NCA5MS4wNTk5IDI0LjY3NDMgOTEuMzIwNyAyNC45MzQ0QzkxLjU4MTUgMjUuMTk0NCA5Mi4xMDMxIDI1LjMyNDUgOTIuOTI4OSAyNS4zMjQ1SDk1LjM2M1YxNi4zOTQ5SDk4LjQwNTZWMjcuNzk1M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTEwMC42MjIgMjUuNDExMkgxMDcuMDExQzEwNy41NzcgMjUuNDExMiAxMDguMDExIDI1LjMyNDUgMTA4LjI3MiAyNS4xNTExQzEwOC41MzMgMjQuOTc3NyAxMDguNjYzIDI0LjY3NDMgMTA4LjY2MyAyNC4zMjc1QzEwOC42NjMgMjMuOTM3NCAxMDguNTMzIDIzLjY3NzMgMTA4LjI3MiAyMy40NjA1QzEwOC4wMTEgMjMuMjg3MSAxMDcuNTc3IDIzLjIwMDUgMTA3LjA1NSAyMy4yMDA1SDEwNC40NDdDMTAyLjg4MiAyMy4yMDA1IDEwMS44MzkgMjIuOTgzNyAxMDEuMzE4IDIyLjUwNjlDMTAwLjc1MiAyMi4wMzAxIDEwMC40OTIgMjEuMjA2NSAxMDAuNDkyIDE5Ljk5MjdDMTAwLjQ5MiAxOC43NzkgMTAwLjgzOSAxNy44Njg3IDEwMS40OTEgMTcuMjYxOEMxMDIuMTQzIDE2LjY5ODMgMTAzLjE4NyAxNi4zOTQ5IDEwNC41MzQgMTYuMzk0OUgxMTEuMDU0VjE4Ljc3OUgxMDUuNzA4QzEwNC44MzggMTguNzc5IDEwNC4yNzMgMTguODY1NyAxMDQuMDEyIDE4Ljk5NTdDMTAzLjc1MiAxOS4xNjkxIDEwMy42MjEgMTkuNDI5MiAxMDMuNjIxIDE5LjgxOTRDMTAzLjYyMSAyMC4xNjYxIDEwMy43NTIgMjAuNDI2MiAxMDMuOTY5IDIwLjU5OTZDMTA0LjE4NiAyMC43NzMgMTA0LjU3NyAyMC44NTk3IDEwNS4wNTYgMjAuODU5N0gxMDcuNzk0QzEwOS4wNTQgMjAuODU5NyAxMTAuMDExIDIxLjE2MzEgMTEwLjY2MyAyMS43MjY2QzExMS4zMTUgMjIuMjkwMiAxMTEuNjYyIDIzLjE1NzEgMTExLjY2MiAyNC4yNDA4QzExMS42NjIgMjUuMjgxMSAxMTEuMzU4IDI2LjE0ODEgMTEwLjc5MyAyNi43OTgzQzExMC4yMjggMjcuNDQ4NSAxMDkuNDQ2IDI3Ljc5NTMgMTA4LjUzMyAyNy43OTUzSDEwMC43MDlWMjUuNDExMkgxMDAuNjIyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTE2LjU3NCAxNS4wOTQ0SDExMy40MDFWMTIuMjc2OUgxMTYuNTc0VjE1LjA5NDRaTTExNi41NzQgMjcuNzk1M0gxMTMuNDAxVjE2LjM5NDlIMTE2LjU3NFYyNy43OTUzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMwLjMwOSAyMi4xMTY3QzEzMC4zMDkgMjMuODkzOSAxMjkuNzQ0IDI1LjMyNDQgMTI4LjY1NyAyNi40MDgxQzEyNy41NzEgMjcuNDkxOCAxMjYuMDkzIDI4LjAxMiAxMjQuMjI0IDI4LjAxMkMxMjIuMzU1IDI4LjAxMiAxMjAuODc3IDI3LjQ5MTggMTE5Ljc5IDI2LjQwODFDMTE4LjcwNCAyNS4zMjQ0IDExOC4xMzkgMjMuODkzOSAxMTguMTM5IDIyLjExNjdDMTE4LjEzOSAyMC4zMzk0IDExOC43MDQgMTguOTA5IDExOS43OSAxNy44MjUzQzEyMC44NzcgMTYuNzQxNiAxMjIuMzk4IDE2LjIyMTQgMTI0LjIyNCAxNi4yMjE0QzEyNi4wNDkgMTYuMjIxNCAxMjcuNTI3IDE2Ljc0MTYgMTI4LjY1NyAxNy44MjUzQzEyOS43NDQgMTguODY1NiAxMzAuMzA5IDIwLjI5NjEgMTMwLjMwOSAyMi4xMTY3Wk0xMjEuMjY4IDIyLjExNjdDMTIxLjI2OCAyMy4yMDA0IDEyMS41MjkgMjQuMDY3MyAxMjIuMDUxIDI0LjY3NDJDMTIyLjU3MiAyNS4yODExIDEyMy4yNjggMjUuNTg0NSAxMjQuMTggMjUuNTg0NUMxMjUuMDkzIDI1LjU4NDUgMTI1Ljc4OSAyNS4yODExIDEyNi4zMSAyNC42NzQyQzEyNi44MzIgMjQuMDY3MyAxMjcuMDkzIDIzLjIwMDQgMTI3LjA5MyAyMi4xMTY3QzEyNy4wOTMgMjEuMDMzIDEyNi44MzIgMjAuMTY2MSAxMjYuMzEgMTkuNjAyNUMxMjUuNzg5IDE4Ljk5NTcgMTI1LjA5MyAxOC42OTIyIDEyNC4xMzcgMTguNjkyMkMxMjMuMjI0IDE4LjY5MjIgMTIyLjUyOSAxOC45OTU3IDEyMi4wMDcgMTkuNjAyNUMxMjEuNTI5IDIwLjE2NjEgMTIxLjI2OCAyMS4wMzMgMTIxLjI2OCAyMi4xMTY3WiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMxLjc4NyAxNi4zOTQ5SDEzNy40ODFDMTM5LjIxOSAxNi4zOTQ5IDE0MC40MzYgMTYuNjk4MyAxNDEuMTc1IDE3LjM0ODVDMTQxLjkxNCAxNy45OTg4IDE0Mi4yNjIgMTkuMDgyNCAxNDIuMjYyIDIwLjU1NjNWMjcuNzk1M0gxMzkuMjE5VjIwLjk0NjRDMTM5LjIxOSAyMC4wNzk0IDEzOS4wODkgMTkuNTE1OSAxMzguODI4IDE5LjI5OTJDMTM4LjU2NyAxOS4wMzkxIDEzOC4wNDYgMTguOTA5MSAxMzcuMjIgMTguOTA5MUgxMzQuNzg2VjI3LjgzODZIMTMxLjc0M1YxNi4zOTQ5SDEzMS43ODdaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDMuNzM3NDNIMFYxMC44NDY0SDcuMTI4MzFWMy43Mzc0M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTIzLjI1MTMgLTIuMTU3MjVlLTA1TDE4LjU1MTMgNS41MTY4NUwyNC4wODMxIDEwLjIwNDFMMjguNzgzMSA0LjY4NzI1TDIzLjI1MTMgLTIuMTU3MjVlLTA1WiIgZmlsbD0iI0ZGODYwMCIvPgo8cGF0aCBkPSJNMTUuNjA0MSAzLjczNzQzSDguNDc1ODNWMTAuODQ2NEgxNS42MDQxVjMuNzM3NDNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDEyLjE5MDJIMFYxOS4yOTkySDcuMTI4MzFWMTIuMTkwMloiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMTIuMTkwMkg4LjQ3NTgzVjE5LjI5OTJIMTUuNjA0MVYxMi4xOTAyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMDc5NyAxMi4xOTAySDE2Ljk1MTRWMTkuMjk5MkgyNC4wNzk3VjEyLjE5MDJaIiBmaWxsPSIjRkY4NjAwIi8+CjxwYXRoIGQ9Ik03LjEyODMxIDIwLjY4NjNIMFYyNy43OTUzSDcuMTI4MzFWMjAuNjg2M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMjAuNjg2M0g4LjQ3NTgzVjI3Ljc5NTNIMTUuNjA0MVYyMC42ODYzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMTIzMiAyMC42ODYzSDE2Ljk5NDlWMjcuNzk1M0gyNC4xMjMyVjIwLjY4NjNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik0xNDYgMTUuODMxM0MxNDYgMTYuODcxNyAxNDUuMTc0IDE3LjY5NTMgMTQ0LjEzMSAxNy42OTUzQzE0My4wODggMTcuNjk1MyAxNDIuMjYyIDE2Ljg3MTcgMTQyLjI2MiAxNS44MzEzQzE0Mi4yNjIgMTQuNzkxIDE0My4wODggMTQuMDEwNyAxNDQuMTMxIDE0LjAxMDdDMTQ1LjEzMSAxMy45Njc0IDE0NiAxNC43OTEgMTQ2IDE1LjgzMTNaTTE0Mi45NTcgMTQuNzkxQzE0Mi42OTcgMTUuMDUxMSAxNDIuNTY2IDE1LjQ0MTIgMTQyLjU2NiAxNS44MzEzQzE0Mi41NjYgMTYuNjk4MyAxNDMuMjYyIDE3LjM5MTggMTQ0LjEzMSAxNy4zOTE4QzE0NSAxNy4zOTE4IDE0NS42OTYgMTYuNjk4MyAxNDUuNjk2IDE1LjgzMTNDMTQ1LjY5NiAxNS4wMDc3IDE0NSAxNC4yNzA4IDE0NC4xNzQgMTQuMjcwOEMxNDMuNjUzIDE0LjI3MDggMTQzLjI2MiAxNC40NDQyIDE0Mi45NTcgMTQuNzkxWk0xNDQuODcgMTYuOTE1SDE0NC40NzlMMTQzLjkxNCAxNi4wOTE0VjE2LjkxNUgxNDMuNjA5VjE0Ljc0NzZIMTQzLjk1N0MxNDQuNDM1IDE0Ljc0NzYgMTQ0LjY1MyAxNC45NjQ0IDE0NC42NTMgMTUuMzU0NUMxNDQuNjUzIDE1LjY1NzkgMTQ0LjQ3OSAxNS44NzQ3IDE0NC4xNzQgMTUuOTYxNEwxNDQuODcgMTYuOTE1Wk0xNDQuMDQ0IDE1LjY1NzlDMTQ0LjI2MSAxNS42NTc5IDE0NC4zOTIgMTUuNTI3OSAxNDQuMzkyIDE1LjM1NDVDMTQ0LjM5MiAxNS4xMzc4IDE0NC4yNjEgMTUuMDUxMSAxNDQuMDAxIDE1LjA1MTFIMTQzLjkxNFYxNS42NTc5SDE0NC4wNDRaIiBmaWxsPSIjMzU0M0E4Ii8+Cjwvc3ZnPgo=" style="
    text-align: left;
    width: 146px;
    position: absolute;
    top: 14px;
    left: 31px;
">
            </div>
            <div style="
    position: relative;
    top: 80px;
    left: 32px;
    font-size: 20px;
    text-align: left;
    font-weight: 700;
    letter-spacing: 0.02em;
    font-style: normal;
    line-height: 125%;
    ">Claim your FREE account and get a key in less than a minute</div>
            <ul style="
        font-size: 15px;
        font-weight: 400;
        color: #333333;
        letter-spacing: 0.01em;
        position: relative;
        left: 32px;
        top: 88px;
        line-height: 180%;
        ">
                <li><span>Access to a 30-day free trial of any of our products.</span></li>
                <li><span>Access to 24x5 support by developers via the <a href="https://support.syncfusion.com/create?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">support tickets</a>, <a href="https://www.syncfusion.com/forums?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">forum</a>, <a href="https://www.syncfusion.com/feedback?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information
                " style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">feature &amp; feedback page</a> and chat.</span></li>
                <li><span>200+ <a href="https://www.syncfusion.com/succinctly-free-ebooks?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">ebooks </a>on the latest technologies, industry trends, and research topics.</span>
                </li>
                <li><span>Largest collection of over 7500 flat and wireframe icons for free with Syncfusion<sup></sup> <a href="https://www.syncfusion.com/downloads/metrostudio?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information
                " style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">Metro Studio.</a></span></li>
                <li><span>Free and unlimited access to Syncfusion<sup></sup> technical <a href="https://www.syncfusion.com/blogs/?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information
                " style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">blogs</a> and <a href="https://www.syncfusion.com/resources/techportal/whitepapers?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">whitepapers.</a></span></li>
            </ul>
            <div style="
            font-size: 18px;
            font-weight: 700;
            position: relative;
            line-height: 125%;
            letter-spacing: 0.02em;
            top: 90px;
            left: 32px;
    ">Syncfusion is trusted by 29,000+ businesses worldwide</div>
            <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjIyMzAiIGhlaWdodD0iMTU2Ij4KPHBhdGggZD0iTTAgMCBDMTAuMjAxNTE3OTEgOC44MjE1MTgwNSAxNi4yMjU4NjAxNyAxOS4zODQ1MTIyMiAxNy4yODEyNSAzMi45NzI2NTYyNSBDMTcuNDE3OTUwMTYgNDUuOTc2MjU4NTUgMTMuMTkyNTE4MDQgNTcuNjM2ODk1NzMgNC4yNDYwOTM3NSA2Ny4xMzI4MTI1IEMtNS44MzQzNzk4NyA3Ni42NDQzNzA1IC0xNi43MjM2MTUyMyA4MC40NzU4MTc3IC0zMC40MTAxNTYyNSA4MC4yMjI2NTYyNSBDLTQzLjEyNjA0NDAyIDc5LjI2MTgzMzU2IC01NC4yMDMwOTQ1MyA3My40MDM0NzMyNCAtNjIuNzE4NzUgNjMuOTcyNjU2MjUgQy03MS4xNDgwNjkyNSA1MS44OTg2NTk5MiAtNzMuMTk0NzM3MSA0MC4zOTM3NzYxNCAtNzEuNzE4NzUgMjUuOTcyNjU2MjUgQy02OS4wOTkxNjQzNyAxNC41NTg3NDc0NCAtNjIuMzc0NTczNzggNC42NDI1NDI1NiAtNTIuNzE4NzUgLTIuMDI3MzQzNzUgQy0zNS45MDE4NDE2MSAtMTEuOTUyMDc2NTcgLTE1Ljg5MjUyMDU5IC0xMi4xNTE1ODYzNiAwIDAgWiAiIGZpbGw9IiMwODY4NDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzODguNzE4NzUsNDIuMDI3MzQzNzUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzcuMzY3MjM5MTYgNC4wNDIzMjQxMSAxMS4xMDI1Mzc1MyAxMS4zOTA0MDEzMyAxNCAxOSBDMTQuMzg5NjU4MjYgMjAuOTg5NzkzMzQgMTQuNzQwMDUyODkgMjIuOTg5MTQ0ODEgMTUgMjUgQzE1LjY2IDI1IDE2LjMyIDI1IDE3IDI1IEMxNy4xMDA1NDY4NyAyNC4xNDQwNjI1IDE3LjIwMTA5Mzc1IDIzLjI4ODEyNSAxNy4zMDQ2ODc1IDIyLjQwNjI1IEMxOC45MTc0Mjc1NSAxNC41MDU2MzU4IDIzLjYwODM5NDI3IDUuNzcxNDMyNzMgMzAuMTc5Njg3NSAwLjg5NDUzMTI1IEMzMy43MzEzMzY1NCAtMC44NTA4MDcwMSAzNi4wNzI1NTM3NiAtMC42MjM0MDQxNyA0MCAwIEM0Ny43ODg2NDkxMyAzLjU4Mjc3ODYgNTEuMzQ3MDc2MTEgMTAuOTI1MDE3NDYgNTQuMzUyNzgzMiAxOC41ODg4NjcxOSBDNjAuNjYxMjYyNjMgMzUuNzMzMjUxOTkgNjMuMjM3ODY0ODggNTQuNDE0MDMxNTkgNjMuMDYyNSA3Mi42MjUgQzYzLjA1Nzk4ODI4IDczLjUzMzc4OTA2IDYzLjA1MzQ3NjU2IDc0LjQ0MjU3ODEyIDYzLjA0ODgyODEyIDc1LjM3ODkwNjI1IEM2My4wMzcyMTIwMiA3Ny41ODU5NjY5NSA2My4wMTkyODQ1MyA3OS43OTI5OTI5OSA2MyA4MiBDNTkuMDQgODIgNTUuMDggODIgNTEgODIgQzUwLjkzMDA2ODM2IDgwLjkwMzQ5MTIxIDUwLjg2MDEzNjcyIDc5LjgwNjk4MjQyIDUwLjc4ODA4NTk0IDc4LjY3NzI0NjA5IEM1MC4zMzA4MzIxNSA0MS45ODYzMDU3MyA1MC4zMzA4MzIxNSA0MS45ODYzMDU3MyAzOSA4IEMzOC4wMSA3LjY3IDM3LjAyIDcuMzQgMzYgNyBDMjUuMTQyMTkxNjggMTYuMjQ0MTIxMzEgMjQuODI2NDcwMzkgMzguNDA3NTg2NzUgMjMuNjgzNTkzNzUgNTEuNjcyMzYzMjggQzIzLjA0MTM0NzcxIDU5Ljc3NjY1NDY5IDIyLjUwMDE0OTM2IDY3Ljg4NTgxMjE3IDIyIDc2IEMxOC4wNCA3NiAxNC4wOCA3NiAxMCA3NiBDOS44OTUxMDI1NCA3NC40NzU4NDQ3MyA5Ljg5NTEwMjU0IDc0LjQ3NTg0NDczIDkuNzg4MDg1OTQgNzIuOTIwODk4NDQgQzkuMjg4Njk2MTIgMzkuNjQwNjkzMTMgOS4yODg2OTYxMiAzOS42NDA2OTMxMyAtMSA5IEMtMy4wMzU2NDA0IDcuNzQxNDM2NTkgLTMuMDM1NjQwNCA3Ljc0MTQzNjU5IC01IDcgQy0xNS44NDgzODY5NyAxNi40OTIzMzg2IC0xNi4wNTg3MjYyNSA0MC4yNTk3NTY0MSAtMTcgNTQgQy0xNy40NzQyMTEwMiA2My4zMjgyOTc4NCAtMTcuNzQ3NjYxNTkgNzIuNjYzNDc4NzQgLTE4IDgyIEMtMjIuMjkgODIgLTI2LjU4IDgyIC0zMSA4MiBDLTMxLjg5MjU5MjA1IDU1LjgxNzI5OTc3IC0yOS45NTA2NDQ2MiAyMi44Mzc1NTI0MSAtMTIgMiBDLTguNDczMzg5NDMgLTAuNjQ0OTU3OTMgLTQuMjE5NTgzOTggLTAuOTU4OTk2MzYgMCAwIFogIiBmaWxsPSIjRkZDQzAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MjgsMzcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzUuODg3MjkwNzMgMS40NDk4NTUxOCA5LjE2NjM4NTEzIDEuMjgxNTYyNTYgMTQuNzUgLTAuODM5ODQzNzUgQzIwLjM1Nzc0OTYyIC0yLjU0NjE0OTE0IDI1LjU0MDY3MjkyIC0xLjM4Mjk1NTEgMzAuNjI1IDEuMjUgQzMyLjkzNzM1MDYzIDMuMjczMzA2OCAzNC4xMDM0MzU0MiA0LjU3NzExOTE4IDM1LjEyNSA3LjQzNzUgQzM0LjM0MTI1IDguMTggMzMuNTU3NSA4LjkyMjUgMzIuNzUgOS42ODc1IEMyOS4xMTkwMTcwMyAxMy40OTEzODY5MiAyOC4yMzgzODk0NyAxNS4wMzE0NzA1OCAyNy44MTI1IDIwLjMxMjUgQzI3Ljk2MDg4MjA0IDI1LjAxNzA4MzQ0IDI5LjE5MzUzOTM2IDI4LjU3NDg0NDU4IDMyLjY2MDE1NjI1IDMxLjkxNzk2ODc1IEMzNC4xMDgzOTEwMSAzMy4xNDAyMzc4IDM1LjYxMjk3ODE1IDM0LjI5NTA4MzQ5IDM3LjEyNSAzNS40Mzc1IEMzNi4wNzAxOTM1MiA0Mi40Njk1NDMyIDMyLjAzNjA5MDQ5IDQ3Ljk3MzE5OTEgMjcuNzUgNTMuNSBDMjQuMjczODU5MzcgNTYuMDY1NzIyODUgMjEuNDA5Njc2NTkgNTYuNjI0MTU5MTggMTcuMTI1IDU2LjQzNzUgQzE1LjExMjc3OTUzIDU1LjgwODY4MTEgMTMuMTEyMjMyNjggNTUuMTQxMzExNTcgMTEuMTI1IDU0LjQzNzUgQzcuMTMyMjAwNjEgNTQuMDEwODUwMDcgMy44Njk5NzIwNCA1NC4xNzkwNDAzMSAwLjA2MjUgNTUuNSBDLTMuNzQ1OTgyNzYgNTYuNzE1NDczMjIgLTYuMDIwMDcxMDYgNTYuNDcwMDcwMjUgLTkuODc1IDU1LjQzNzUgQy0xNy44OTY4MjA0OCA1MC4zNjI0NzA3MiAtMjMuMjI0ODkxNjcgNDAuMjQ1NjM5MjYgLTI1LjQzMzU5Mzc1IDMxLjEzMjgxMjUgQy0yNi42OTE4Nzk2IDIzLjQ0OTQ3NDE1IC0yNy4zMTA4Njc4MiAxNC4yMDI1NjkzMiAtMjIuODc1IDcuNDM3NSBDLTE5LjE4NzExNTEzIDMuMTY0NjQwMjkgLTE0Ljk1ODc1MDk1IC0wLjQ2NDczMTYxIC05LjI2NTYyNSAtMS41NzQyMTg3NSBDLTYuMDIyMDAxNTYgLTEuNTU4MzE4NjQgLTMuMTQ1MDkxMDYgLTAuNzc5NDY1MjEgMCAwIFogIiBmaWxsPSIjMDAwMDAwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMjIuODc1LDU1LjU2MjUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzYuOTk4NjY1NzYgNi41NjU2MTQ1OCAxMy4yMzU0MjQ3IDEzLjIxNDc1OTU1IDE0LjE3OTY4NzUgMjMuMTg3NSBDMTMuOTYxMTk2MzQgMjguMjczOTc0MSAxMi4yNTY2NDk1NCAzMi4wNjY5ODMyNiA5LjAzNTE1NjI1IDM1Ljk3NjU2MjUgQzAuNTMzMzg4MDQgNDMuNTgzNDA3NzQgLTguOTc3NTY4MjUgNDUuMDAzODkwNjcgLTE5Ljg1NTQ2ODc1IDQ0Ljg5ODQzNzUgQy0yMS4xODA5NDcyNyA0NC44OTE2Njk5MiAtMjEuMTgwOTQ3MjcgNDQuODkxNjY5OTIgLTIyLjUzMzIwMzEyIDQ0Ljg4NDc2NTYyIEMtMjQuNzAzMTU0MzQgNDQuODczMDM2MTYgLTI2Ljg3MzA3MDQ3IDQ0Ljg1NTEwMjQ1IC0yOS4wNDI5Njg3NSA0NC44MzU5Mzc1IEMtMjkuMzcyOTY4NzUgNDUuNDk1OTM3NSAtMjkuNzAyOTY4NzUgNDYuMTU1OTM3NSAtMzAuMDQyOTY4NzUgNDYuODM1OTM3NSBDLTMyLjQxNzk2ODc1IDQ2Ljk2MDkzNzUgLTMyLjQxNzk2ODc1IDQ2Ljk2MDkzNzUgLTM1LjA0Mjk2ODc1IDQ2LjgzNTkzNzUgQy0zNy4wNDI5Njg3NSA0NC44MzU5Mzc1IC0zNy4wNDI5Njg3NSA0NC44MzU5Mzc1IC0zNy40MTQwNjI1IDQyLjM1NTQ2ODc1IEMtMzcuNzgyMzI5OTcgMzkuNzMzNjQ1MzEgLTM3Ljc4MjMyOTk3IDM5LjczMzY0NTMxIC0zOS44MjgxMjUgMzguNTM1MTU2MjUgQy00MC41Nzk2NDg0NCAzOC4yMDEyODkwNiAtNDEuMzMxMTcxODcgMzcuODY3NDIxODcgLTQyLjEwNTQ2ODc1IDM3LjUyMzQzNzUgQy00Ny4zNTI0NjU4MyAzNC44NTM3NjUzOCAtNTEuNDU1NzUyNzEgMzEuNTMwNDMxOTUgLTU1LjA0Mjk2ODc1IDI2LjgzNTkzNzUgQy01Ni4wNDI5Njg3NSAyMy4zMzU5Mzc1IC01Ni4wNDI5Njg3NSAyMy4zMzU5Mzc1IC01Ni4wNDI5Njg3NSAyMC44MzU5Mzc1IEMtNTEuMzM2NTk3OTUgMTYuMTI5NTY2NyAtNDUuMzAzOTE4MTcgMTQuNTc0NTc2MzMgLTM5LjA0Mjk2ODc1IDEyLjgzNTkzNzUgQy0zOC4zODI5Njg3NSAxMi44MzU5Mzc1IC0zNy43MjI5Njg3NSAxMi44MzU5Mzc1IC0zNy4wNDI5Njg3NSAxMi44MzU5Mzc1IEMtMzYuOTIxNzk2ODggMTEuOTA5MTAxNTYgLTM2LjgwMDYyNSAxMC45ODIyNjU2MiAtMzYuNjc1NzgxMjUgMTAuMDI3MzQzNzUgQy0zNi41MDgyMDMxMyA4LjgyOTgwNDY5IC0zNi4zNDA2MjUgNy42MzIyNjU2MyAtMzYuMTY3OTY4NzUgNi4zOTg0Mzc1IEMtMzYuMDA1NTQ2ODggNS4yMDM0NzY1NiAtMzUuODQzMTI1IDQuMDA4NTE1NjMgLTM1LjY3NTc4MTI1IDIuNzc3MzQzNzUgQy0zNS40NjY5NTMxMyAxLjgwNjY3OTY5IC0zNS4yNTgxMjUgMC44MzYwMTU2MyAtMzUuMDQyOTY4NzUgLTAuMTY0MDYyNSBDLTM0LjM4Mjk2ODc1IC0wLjQ5NDA2MjUgLTMzLjcyMjk2ODc1IC0wLjgyNDA2MjUgLTMzLjA0Mjk2ODc1IC0xLjE2NDA2MjUgQy0zMC4wNzc2OTExNyAxLjI4MTI3NiAtMjkuNDg3MTQ2NjEgMy4yODE5NjA5NyAtMjguODU1NDY4NzUgNy4wMjM0Mzc1IEMtMjguNjk2OTE0MDYgNy45MjQ0OTIxOSAtMjguNTM4MzU5MzggOC44MjU1NDY4OCAtMjguMzc1IDkuNzUzOTA2MjUgQy0yOC4yNjU0Mjk2OSAxMC40NDA5NzY1NiAtMjguMTU1ODU5MzcgMTEuMTI4MDQ2ODcgLTI4LjA0Mjk2ODc1IDExLjgzNTkzNzUgQy0yNy4xMjUxNTYyNSAxMS45MzM5MDYyNSAtMjYuMjA3MzQzNzUgMTIuMDMxODc1IC0yNS4yNjE3MTg3NSAxMi4xMzI4MTI1IEMtMTguMDQ1MDgyNTkgMTMuMDEyMTUwNTIgLTEyLjIzNzYzMDI1IDEzLjk0OTA5MTA3IC02LjA0Mjk2ODc1IDE3LjgzNTkzNzUgQy00LjY2MTcxODU3IDIwLjU5ODQzNzg2IC00Ljg1MjE3NTY5IDIyLjc4MzI0ODQ5IC01LjA0Mjk2ODc1IDI1LjgzNTkzNzUgQy03LjA0Mjk2ODc1IDI3LjgzNTkzNzUgLTcuMDQyOTY4NzUgMjcuODM1OTM3NSAtMTAuNjY3OTY4NzUgMjcuOTYwOTM3NSBDLTExLjc4MTcxODc1IDI3LjkxOTY4NzUgLTEyLjg5NTQ2ODc1IDI3Ljg3ODQzNzUgLTE0LjA0Mjk2ODc1IDI3LjgzNTkzNzUgQy0xMy4zODI5Njg3NSAyNi41MTU5Mzc1IC0xMi43MjI5Njg3NSAyNS4xOTU5Mzc1IC0xMi4wNDI5Njg3NSAyMy44MzU5Mzc1IEMtMTUuNzk1MjI3MTUgMjIuMTc5MDk2MTMgLTE5LjMwNjQ5OTM2IDIxLjMzMzg1NTg3IC0yMy4zNTU0Njg3NSAyMC43MTA5Mzc1IEMtMjUuMjMyMzQzNzUgMjAuNDIyMTg3NSAtMjcuMTA5MjE4NzUgMjAuMTMzNDM3NSAtMjkuMDQyOTY4NzUgMTkuODM1OTM3NSBDLTI4LjU0Nzk2ODc1IDI4LjI1MDkzNzUgLTI4LjU0Nzk2ODc1IDI4LjI1MDkzNzUgLTI4LjA0Mjk2ODc1IDM2LjgzNTkzNzUgQy0xMi4wNjE3Nzk5MSAzNy4zODI2NDE3MiAtMTIuMDYxNzc5OTEgMzcuMzgyNjQxNzIgMi4wODIwMzEyNSAzMC42NDg0Mzc1IEM0Ljc2MDcwNTQxIDI2LjYzMDQyNjI2IDQuNzc1MjY3NDcgMjMuNTI1MDYwNDMgMy45NTcwMzEyNSAxOC44MzU5Mzc1IEMxLjAxMTM1NTYzIDguNTI2MDcyODEgLTguODY3NTEyMiAyLjM4NDg3MDU4IC0xNy43MzQzNzUgLTIuNTYyNSBDLTMxLjY3NjMzMzk0IC05LjMxMTI2NDA3IC00NS42NDMxNzQyMiAtMTEuNTY4NzI4NjMgLTYxLjA0Mjk2ODc1IC0xMS4xNjQwNjI1IEMtNjEuMDQyOTY4NzUgLTEwLjE3NDA2MjUgLTYxLjA0Mjk2ODc1IC05LjE4NDA2MjUgLTYxLjA0Mjk2ODc1IC04LjE2NDA2MjUgQy02My4wMjI5Njg3NSAtOC4xNjQwNjI1IC02NS4wMDI5Njg3NSAtOC4xNjQwNjI1IC02Ny4wNDI5Njg3NSAtOC4xNjQwNjI1IEMtNjcuNzkyOTY4NzUgLTkuOTE0MDYyNSAtNjcuNzkyOTY4NzUgLTkuOTE0MDYyNSAtNjguMDQyOTY4NzUgLTEyLjE2NDA2MjUgQy02NS45Njg1NDMxOCAtMTUuNTIyNjU2MjggLTYzLjQ3ODY1NTM5IC0xNi41NTA0NzkzNSAtNTkuNzkyOTY4NzUgLTE3LjQ3NjU2MjUgQy0zOS4xODA0NTMyNSAtMjAuODM2MzExNzIgLTE1Ljg1MjQ2NDU2IC0xMy4zOTczMDI3NCAwIDAgWiBNLTQ3LjM1NTQ2ODc1IDIwLjgzNTkzNzUgQy00OC4yMzg0NzY1NiAyMS4wMjE1NjI1IC00OS4xMjE0ODQzOCAyMS4yMDcxODc1IC01MC4wMzEyNSAyMS4zOTg0Mzc1IEMtNTAuNjk1MTE3MTkgMjEuNTQyODEyNSAtNTEuMzU4OTg0MzcgMjEuNjg3MTg3NSAtNTIuMDQyOTY4NzUgMjEuODM1OTM3NSBDLTUyLjUwMDI0MDQ0IDI1LjcyNDc4Mzk5IC01Mi41MDAyNDA0NCAyNS43MjQ3ODM5OSAtNTAuNTAzOTA2MjUgMjcuNDY4NzUgQy00Ni40NjI2MDg1IDMwLjM1OTcxNTgxIC00Mi45NDE1MjEwNyAzMi42MTEyOTk0MiAtMzguMDQyOTY4NzUgMzMuODM1OTM3NSBDLTM2LjcwMzk1MDgzIDMyLjcyNDY3MDkxIC0zNi43MDM5NTA4MyAzMi43MjQ2NzA5MSAtMzYuOTQ1MzEyNSAyOS44OTQ1MzEyNSBDLTM2Ljk1NjkxNDA2IDI4LjY5OTU3MDMxIC0zNi45Njg1MTU2MyAyNy41MDQ2MDkzOCAtMzYuOTgwNDY4NzUgMjYuMjczNDM3NSBDLTM2Ljk4OTQ5MjE5IDI1LjA3NTg5ODQ0IC0zNi45OTg1MTU2MiAyMy44NzgzNTkzOCAtMzcuMDA3ODEyNSAyMi42NDQ1MzEyNSBDLTM3LjAxOTQxNDA2IDIxLjcxNzY5NTMxIC0zNy4wMzEwMTU2MyAyMC43OTA4NTkzNyAtMzcuMDQyOTY4NzUgMTkuODM1OTM3NSBDLTQwLjYzODE2MTY3IDE5LjczMjI5MjMgLTQzLjg0MDg2MTA3IDIwLjA4NjE1NDUzIC00Ny4zNTU0Njg3NSAyMC44MzU5Mzc1IFogIiBmaWxsPSIjMjIxRTIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NTEuMDQyOTY4NzUsNTguMTY0MDYyNSkiLz4KPHBhdGggZD0iTTAgMCBDMy4zIDAgNi42IDAgMTAgMCBDMTMuOTk1NTQ4MTcgOC40NTIxMjExMyAxNi45NDE0Njg4MSAxNy4xNzE5NjY3OSAyMCAyNiBDMjAuMzMgMTcuNDIgMjAuNjYgOC44NCAyMSAwIEMyNC42MyAwIDI4LjI2IDAgMzIgMCBDMzIgMTguNDggMzIgMzYuOTYgMzIgNTYgQzI4IDU3IDI4IDU3IDIwIDU3IEMxNy4zNiA0OS40MSAxNC43MiA0MS44MiAxMiAzNCBDMTEuNjcgNDIuMjUgMTEuMzQgNTAuNSAxMSA1OSBDNS41NTUgNTkuNDk1IDUuNTU1IDU5LjQ5NSAwIDYwIEMwIDQwLjIgMCAyMC40IDAgMCBaICIgZmlsbD0iI0Q4MUYyNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTk1LDUyKSIvPgo8cGF0aCBkPSJNMCAwIEMxLjE3MDQ2ODc1IDAuMDI3MDcwMzEgMi4zNDA5Mzc1IDAuMDU0MTQwNjMgMy41NDY4NzUgMC4wODIwMzEyNSBDNC40Mzg5MDYyNSAwLjExNjgzNTk0IDUuMzMwOTM3NSAwLjE1MTY0MDYyIDYuMjUgMC4xODc1IEM3LjUzODE4NzMxIDYuMjE4NDU0OTcgOC44MTk3NDQ4OSAxMi4yNTA3NjY0NyAxMC4wOTUyMTQ4NCAxOC4yODQ0MjM4MyBDMTAuNTI5OTIzMzUgMjAuMzM2MjQxNDggMTAuOTY2NDMxOTEgMjIuMzg3Njc4NjMgMTEuNDA0Nzg1MTYgMjQuNDM4NzIwNyBDMTIuMDM1MDI5NTggMjcuMzg5MTUwNjYgMTIuNjU4NzU5NzQgMzAuMzQwODk0MzcgMTMuMjgxMjUgMzMuMjkyOTY4NzUgQzEzLjQ3ODExNDAxIDM0LjIwNzczNDgzIDEzLjY3NDk3ODAzIDM1LjEyMjUwMDkyIDEzLjg3NzgwNzYyIDM2LjA2NDk4NzE4IEMxNC4wNTc5OTQzOCAzNi45MjU1MDE4NiAxNC4yMzgxODExNSAzNy43ODYwMTY1NCAxNC40MjM4MjgxMiAzOC42NzI2MDc0MiBDMTQuNTgzNzEyMTYgMzkuNDI1Mzk0NzQgMTQuNzQzNTk2MTkgNDAuMTc4MTgyMDcgMTQuOTA4MzI1MiA0MC45NTM3ODExMyBDMTUuMjUgNDMuMTg3NSAxNS4yNSA0My4xODc1IDE1LjI1IDQ4LjE4NzUgQzExLjI5IDQ4LjE4NzUgNy4zMyA0OC4xODc1IDMuMjUgNDguMTg3NSBDMi45MiA0NS44Nzc1IDIuNTkgNDMuNTY3NSAyLjI1IDQxLjE4NzUgQy0yLjcgNDEuNTE3NSAtNy42NSA0MS44NDc1IC0xMi43NSA0Mi4xODc1IEMtMTMuNDEgNDQuMTY3NSAtMTQuMDcgNDYuMTQ3NSAtMTQuNzUgNDguMTg3NSBDLTE5LjM3IDQ4LjE4NzUgLTIzLjk5IDQ4LjE4NzUgLTI4Ljc1IDQ4LjE4NzUgQy0yNi44MDgzMTEyNiA0Mi4yMDY0MzQ4NSAtMjQuNzAyMzE0NTggMzYuMzU1OTk3NzMgLTIyLjMxNjQwNjI1IDMwLjUzOTA2MjUgQy0yMS45OTcxOTcxMSAyOS43NTk4NTQ0MyAtMjEuNjc3OTg3OTggMjguOTgwNjQ2MzYgLTIxLjM0OTEwNTgzIDI4LjE3NzgyNTkzIEMtMjAuNjc5NDY4MTMgMjYuNTQ4NjI2IC0yMC4wMDc5ODYzNCAyNC45MjAxODI4OSAtMTkuMzM0NzE2OCAyMy4yOTI0ODA0NyBDLTE4LjY0OTcxMDY3IDIxLjYzMDYwMDMgLTE3Ljk3MDA3MDg4IDE5Ljk2NjQ5ODY1IC0xNy4yOTU2NTQzIDE4LjMwMDI5Mjk3IEMtMTYuMzEzOTk1MTggMTUuODc1MDE3NSAtMTUuMzE3MDg2OTUgMTMuNDU2NTQxMzggLTE0LjMxNjQwNjI1IDExLjAzOTA2MjUgQy0xNC4wMTgzNTU4NyAxMC4yOTUzMjM3OSAtMTMuNzIwMzA1NDggOS41NTE1ODUwOCAtMTMuNDEzMjIzMjcgOC43ODUzMDg4NCBDLTEwLjMyNjYxNzczIDEuNDMzOTIzMTMgLTcuOTE5NDc2MjUgLTAuMjM3NTg0MjkgMCAwIFogTS0zLjc1IDE1LjE4NzUgQy01LjQgMjAuMTM3NSAtNy4wNSAyNS4wODc1IC04Ljc1IDMwLjE4NzUgQy02LjExIDMwLjE4NzUgLTMuNDcgMzAuMTg3NSAtMC43NSAzMC4xODc1IEMtMS40MDM0OTYzMyAyMi42MzcxMTU3OCAtMS40MDM0OTYzMyAyMi42MzcxMTU3OCAtMi43NSAxNS4xODc1IEMtMy4wOCAxNS4xODc1IC0zLjQxIDE1LjE4NzUgLTMuNzUgMTUuMTg3NSBaICIgZmlsbD0iIzIzNDM5QSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTcwLjc1LDUzLjgxMjUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuNzg5Mjg3NzggMi4zMDgzNzYwOSAzLjc1MTc2ODg4IDQuMjY1OTI4MzQgNC4yNzM0Mzc1IDcuOTEwMTU2MjUgQzQuNjM2ODE4NzQgMTUuNjExMDQzMzQgMS45NDAyMDM5IDIxLjI4NjM5NDY0IC0yLjc5Njg3NSAyNy4yNjk1MzEyNSBDLTkuMDAxNDUwMzQgMzMuOTU4MDYzNDcgLTE1LjA5NjEwOTIxIDM3LjE0MTAyMzg5IC0yNC4yNSAzNy41IEMtMjguMDQyMTE1NTYgMzcuMzY0OTExOTEgLTI5Ljc2NDgxODA0IDM3LjEzMTcwMTkgLTMzLjEyNSAzNS4yNSBDLTM2LjYxNDUyNjY5IDMxLjA2MjU2Nzk3IC0zNy40NTgyNTE2IDI3Ljc5OTc2MzM3IC0zNy4zMDg1OTM3NSAyMi40Mjk2ODc1IEMtMzYuMzE4MDI0MjMgMTQuNjMwNTE5ODYgLTMxLjc1MTQwMDU4IDguMTU2MDQwNzUgLTI2IDMgQy0xNy42OTY1MDc2NiAtMi42NTI1NDYzMSAtOS4yMjAwNTQ5MyAtNS42NTc3NjA5OCAwIDAgWiAiIGZpbGw9IiMwNjg4MkYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwNDUsNzkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuNzQ5ODUzMjUgLTAuMDg3MTc0NyA3LjQ5OTQ0NTU1IC0wLjE0MDQ1MDAzIDExLjI1IC0wLjE4NzUgQzEyLjMxMzQ3NjU2IC0wLjIxMjYzNjcyIDEzLjM3Njk1MzEyIC0wLjIzNzc3MzQ0IDE0LjQ3MjY1NjI1IC0wLjI2MzY3MTg4IEMxNS40OTc0NjA5NCAtMC4yNzMzMzk4NCAxNi41MjIyNjU2MyAtMC4yODMwMDc4MSAxNy41NzgxMjUgLTAuMjkyOTY4NzUgQzE4LjUyMDc1MTk1IC0wLjMwODY3OTIgMTkuNDYzMzc4OTEgLTAuMzI0Mzg5NjUgMjAuNDM0NTcwMzEgLTAuMzQwNTc2MTcgQzIzLjU2MjEwMzM5IDAuMDc0NjIyNTkgMjQuODI1NjM1MDMgMC43MTY2NzQ2NSAyNyAzIEMyNy45MTMwODU5NCA1LjYzNTQ5ODA1IDI3LjkxMzA4NTk0IDUuNjM1NDk4MDUgMjguNDg0Mzc1IDguNzYxNzE4NzUgQzI4LjgwMzQxNzk3IDEwLjQzOTExMTMzIDI4LjgwMzQxNzk3IDEwLjQzOTExMTMzIDI5LjEyODkwNjI1IDEyLjE1MDM5MDYyIEMyOS4zMzM4NjcxOSAxMy4zMTc2MzY3MiAyOS41Mzg4MjgxMiAxNC40ODQ4ODI4MSAyOS43NSAxNS42ODc1IEMyOS45NzA0Mjk2OSAxNi44NjYzNDc2NiAzMC4xOTA4NTkzOCAxOC4wNDUxOTUzMSAzMC40MTc5Njg3NSAxOS4yNTk3NjU2MiBDMzAuOTYwMTAyNjQgMjIuMTcwNzg4OTEgMzEuNDg2NzY4MjIgMjUuMDgzNzY2MzEgMzIgMjggQzM1LjA3NTc1MDg3IDIxLjMyMzQ4NDU3IDM4LjA0NTYyMTcyIDE0LjYyMjgwNzQ2IDQwLjgxMjUgNy44MTI1IEM0MS4xMjM4MDg1OSA3LjA1MTMwODU5IDQxLjQzNTExNzE5IDYuMjkwMTE3MTkgNDEuNzU1ODU5MzggNS41MDU4NTkzOCBDNDIuNTA1ODE1MTcgMy42NzEzNTIxMyA0My4yNTMxOTk4MiAxLjgzNTc5NDExIDQ0IDAgQzQ4LjI5IDAgNTIuNTggMCA1NyAwIEM1NS44NzQ5NzQ1OCA2Ljc1MDE1MjU0IDU1Ljg3NDk3NDU4IDYuNzUwMTUyNTQgNTQuMzQxNzk2ODggMTAuMzIxMjg5MDYgQzU0LjAwNDc0NzMxIDExLjExNTIxMDU3IDUzLjY2NzY5Nzc1IDExLjkwOTEzMjA4IDUzLjMyMDQzNDU3IDEyLjcyNzExMTgyIEM1Mi45NTY4Nzg2NiAxMy41NjQ4MjExNyA1Mi41OTMzMjI3NSAxNC40MDI1MzA1MiA1Mi4yMTg3NSAxNS4yNjU2MjUgQzUxLjg0NTIwMzg2IDE2LjE0MDIzMzc2IDUxLjQ3MTY1NzcxIDE3LjAxNDg0MjUzIDUxLjA4Njc5MTk5IDE3LjkxNTk1NDU5IEM0OS44OTczNDQ2IDIwLjY5NjY1Mjc4IDQ4LjY5ODc0NTQ1IDIzLjQ3MzI5OTM5IDQ3LjUgMjYuMjUgQzQ2LjY5MzQyMDAxIDI4LjEzMjU1OTY1IDQ1Ljg4NzQyNDAyIDMwLjAxNTM2OTYzIDQ1LjA4MjAzMTI1IDMxLjg5ODQzNzUgQzQzLjYxMDkxMDIyIDM1LjMzMjU2NDA1IDQyLjEzODAzMjE4IDM4Ljc2NTkwNDg3IDQwLjY1ODIwMzEyIDQyLjE5NjI4OTA2IEM0MC4zNjE0MzY3NyA0Mi44ODQzNDYzMSA0MC4wNjQ2NzA0MSA0My41NzI0MDM1NiAzOS43NTg5MTExMyA0NC4yODEzMTEwNCBDMzkuMjA1MDIxMiA0NS41MzU2OTMxMSAzOC42MTMyMzIxNyA0Ni43NzM1MzU2NyAzOCA0OCBDMzMuMzggNDggMjguNzYgNDggMjQgNDggQzIzLjcxODAxNzU4IDQ2Ljg2OTgxNDQ1IDIzLjQzNjAzNTE2IDQ1LjczOTYyODkxIDIzLjE0NTUwNzgxIDQ0LjU3NTE5NTMxIEMyMi4wOTM1MjM1MyA0MC4zNzQ2MTE1MyAyMS4wMjMxNzA3NiAzNi4xNzg4ODk2NSAxOS45NDcyNjU2MiAzMS45ODQzNzUgQzE5LjQ4NDU3MjAzIDMwLjE2OTg5MDMxIDE5LjAyNjgzOTQ1IDI4LjM1NDEzMjkyIDE4LjU3NDIxODc1IDI2LjUzNzEwOTM4IEMxNy45MjE5MzU4OSAyMy45MjIyNTYxNiAxNy4yNTE4MjE4MSAyMS4zMTI1MzE3MyAxNi41NzgxMjUgMTguNzAzMTI1IEMxNi4yODA5ODYwMiAxNy40ODcyODcyOSAxNi4yODA5ODYwMiAxNy40ODcyODcyOSAxNS45Nzc4NDQyNCAxNi4yNDY4ODcyMSBDMTQuODEwMjA5MzQgMTEuODA0OTMzNDYgMTMuNzk5Njc2MzYgOC44OTA1NzQxMSAxMCA2IEM3LjQ0MzcyNDc1IDQuODk3OTA2NjcgNy40NDM3MjQ3NSA0Ljg5NzkwNjY3IDQuNzUgNC4yNSBDMy44NTc5Njg3NSA0LjAwNzY1NjI1IDIuOTY1OTM3NSAzLjc2NTMxMjUgMi4wNDY4NzUgMy41MTU2MjUgQzEuMzcxNDA2MjUgMy4zNDU0Njg3NSAwLjY5NTkzNzUgMy4xNzUzMTI1IDAgMyBDMCAyLjAxIDAgMS4wMiAwIDAgWiAiIGZpbGw9IiMyMTI5NjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM2LDU0KSIvPgo8cGF0aCBkPSJNMCAwIEMzLjYzIDAgNy4yNiAwIDExIDAgQzE1IDkuNjI1IDE1IDkuNjI1IDE1IDEzIEMxNS42NiAxMyAxNi4zMiAxMyAxNyAxMyBDMTcuMTkzMzU5MzggMTIuMzk2NzE4NzUgMTcuMzg2NzE4NzUgMTEuNzkzNDM3NSAxNy41ODU5Mzc1IDExLjE3MTg3NSBDMTcuODQ2MzI4MTIgMTAuMzcyNjU2MjUgMTguMTA2NzE4NzUgOS41NzM0Mzc1IDE4LjM3NSA4Ljc1IEMxOC43NTc4NTE1NiA3LjU2NjY0MDYyIDE4Ljc1Nzg1MTU2IDcuNTY2NjQwNjIgMTkuMTQ4NDM3NSA2LjM1OTM3NSBDMjAgNCAyMCA0IDIyIDAgQzI1LjYzIDAgMjkuMjYgMCAzMyAwIEMzMS42MTIzNzc3OCA0LjQ4OTM2NjAxIDMwLjA5OTAyNzU4IDguODM1MTMyMDUgMjguMjA3MDMxMjUgMTMuMTM2NzE4NzUgQzI3LjcyNjY1NDA1IDE0LjI0Mjg1NTIyIDI3LjcyNjY1NDA1IDE0LjI0Mjg1NTIyIDI3LjIzNjU3MjI3IDE1LjM3MTMzNzg5IEMyNi41ODgzNzkzNiAxNi44NTIwMjc5OSAyNS45MjY0NjI4MyAxOC4zMjY4MDAwNiAyNS4yNDk3NTU4NiAxOS43OTQ2Nzc3MyBDMjEuMjM0Nzg2MTQgMjkuMDI3NTEyNzMgMjUuMDc1MDY3NzkgMzYuMzYzMTg5NTkgMjguNTYyNSA0NS4yNSBDMjkuNDAxNTk1MTQgNDcuMzk5MzA1OTEgMzAuMjM2NDQwNzggNDkuNTUwMjc3MTYgMzEuMDY2NDA2MjUgNTEuNzAzMTI1IEMzMS40MzcwOTIyOSA1Mi42NDgzMzAwOCAzMS44MDc3NzgzMiA1My41OTM1MzUxNiAzMi4xODk2OTcyNyA1NC41NjczODI4MSBDMzMgNTcgMzMgNTcgMzMgNjAgQzMxLjU2MTYzMjQ5IDU5Ljg4NTQxMzA3IDMwLjEyNDI5MDM0IDU5Ljc1NzkwODg0IDI4LjY4NzUgNTkuNjI1IEMyNy44ODY5OTIxOSA1OS41NTUzOTA2MyAyNy4wODY0ODQzOCA1OS40ODU3ODEyNSAyNi4yNjE3MTg3NSA1OS40MTQwNjI1IEMyNCA1OSAyNCA1OSAyMSA1NyBDMTkuNjEzMjgxMjUgNTMuOTYwOTM3NSAxOS42MTMyODEyNSA1My45NjA5Mzc1IDE4LjMxMjUgNTAuMzc1IEMxNy44NzU1MDc4MSA0OS4xODY0ODQzNyAxNy40Mzg1MTU2MyA0Ny45OTc5Njg3NSAxNi45ODgyODEyNSA0Ni43NzM0Mzc1IEMxNi42NjIxNDg0NCA0NS44NTgyMDMxMyAxNi4zMzYwMTU2MyA0NC45NDI5Njg3NSAxNiA0NCBDMTQuMjExNzgyMjYgNDYuNjgyMzI2NjEgMTIuNzk4NTczOTYgNDkuMzAyODg5NjEgMTEuMzc1IDUyLjE4NzUgQzEwLjkyODk4NDM4IDUzLjA4ODU1NDY5IDEwLjQ4Mjk2ODc1IDUzLjk4OTYwOTM4IDEwLjAyMzQzNzUgNTQuOTE3OTY4NzUgQzkuNjg1NzAzMTIgNTUuNjA1MDM5MDYgOS4zNDc5Njg3NSA1Ni4yOTIxMDkzNyA5IDU3IEM1LjcgNTYuNjcgMi40IDU2LjM0IC0xIDU2IEMtMC4zOTQ5ODQ5MyA0OS4xNzY3NzQ1NCAyLjkyNjY1MjAyIDQzLjQ2Njc3Nzg3IDUuOTM3NSAzNy40MzE2NDA2MiBDOC40NDU2MTQ0IDMyLjE0NzgyNjM3IDkuNzA2Nzk0NDIgMjguODM0MjUxNjYgOCAyMyBDNi43NTQ5MDE0NiAxOS41MzQxMTc5NSA1LjM3Mjc0NjExIDE2LjE0MTA0NzgxIDMuOTM3NSAxMi43NSBDMy4xOTE5Mjc4NyAxMC45NzU5MjA2OSAyLjQ1MDgyOTQ5IDkuMTk5OTUyNjcgMS43MTQ4NDM3NSA3LjQyMTg3NSBDMS4zODYwNTIyNSA2LjY0NDI0ODA1IDEuMDU3MjYwNzQgNS44NjY2MjEwOSAwLjcxODUwNTg2IDUuMDY1NDI5NjkgQzAgMyAwIDMgMCAwIFogIiBmaWxsPSIjRDgxRTI1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTgzLDUyKSIvPgo8cGF0aCBkPSJNMCAwIEMtMC42NiAzLjYzIC0xLjMyIDcuMjYgLTIgMTEgQy0yLjgyNSAxMC44MzUgLTMuNjUgMTAuNjcgLTQuNSAxMC41IEMtMTEuNDA5NDk0MjQgOS40MzI1NTU0MyAtMTEuNDA5NDk0MjQgOS40MzI1NTU0MyAtMTggMTEgQy0xNy45MDQ4MDU0NiAxMi44OTU3NjM2NiAtMTcuOTA0ODA1NDYgMTIuODk1NzYzNjYgLTE3IDE1IEMtMTQuNTcyODYxMyAxNi44NzM4MTgyMSAtMTQuNTcyODYxMyAxNi44NzM4MTgyMSAtMTEuNjI1IDE4LjUgQy03LjkzODczNzE5IDIwLjYzOTc4MzE2IC01LjIyOTM2OTIyIDIyLjMxNTc1MDIyIC0zIDI2IEMtMS41MDg4MTc1MSAzMS42NDUxOTA4NSAtMi4xNzg0MTgzNiAzNC45MjExNTMwNiAtNSA0MCBDLTkuMzQ2NDcyNTcgNDUuMTQ3MTM4NTcgLTEzLjQ5MjA4MjkgNDcuMDc2ODA4NDEgLTIwLjEyNSA0Ny43NSBDLTI1Ljk4NTQzMDQyIDQ4LjIyMDQyOTExIC0zMS4zMDM1NDk3NiA0Ny4zMzMyMTE3NiAtMzcgNDYgQy0zOC4wOTg5ODcwMiA0Mi43MDMwMzg5NSAtMzcuODcxMjQ0NDQgNDEuNTk1MDUwOTcgLTM3LjA2MjUgMzguMzEyNSBDLTM2Ljg2Nzg1MTU2IDM3LjUwNDI1NzgxIC0zNi42NzMyMDMxMyAzNi42OTYwMTU2MyAtMzYuNDcyNjU2MjUgMzUuODYzMjgxMjUgQy0zNi4zMTY2Nzk2OSAzNS4yNDgzOTg0NCAtMzYuMTYwNzAzMTIgMzQuNjMzNTE1NjMgLTM2IDM0IEMtMzQuODQ1IDM0LjMzIC0zMy42OSAzNC42NiAtMzIuNSAzNSBDLTI4LjE4MjA3NzU3IDM2LjA3MzcyODQ5IC0yNC40NDM3NDM0NCAzNi4zMDEyNzA3NCAtMjAgMzYgQy0xOS4wMSAzNS4zNCAtMTguMDIgMzQuNjggLTE3IDM0IEMtMTcuMTc4MjU1OTkgMzIuMDY3MDg1MjEgLTE3LjE3ODI1NTk5IDMyLjA2NzA4NTIxIC0xOCAzMCBDLTE5LjkwMzM3ODEzIDI4LjYwODcxNTU2IC0xOS45MDMzNzgxMyAyOC42MDg3MTU1NiAtMjIuMjUgMjcuNTYyNSBDLTMxLjA3MTA4MzE3IDIyLjkxMzE3MTEzIC0zMS4wNzEwODMxNyAyMi45MTMxNzExMyAtMzIuNjYwMTU2MjUgMTcuOTI5Njg3NSBDLTMzLjUwOTcyNjg3IDEzLjA2MzIxNTAxIC0zMy4wODExMzgwMSA5LjYxMDg4NDM3IC0zMC4yOTI5Njg3NSA1LjUgQy0yMi4zNjg4Mzc3IC0zLjY5Mjk0OTYyIC0xMC42NjIyMzUzMyAtMi42NjU1NTg4MyAwIDAgWiAiIGZpbGw9IiMyMjM5ODUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0Niw1NSkiLz4KPHBhdGggZD0iTTAgMCBDNC4yNTM4MDEzOCAxLjUxOTIxNDc4IDUuODUwNjA1NjkgNC4xMzEwOTAyNCA4IDggQzEwLjIxNjIxNjM0IDE0LjEzODE3MjIyIDExLjE3ODUwNDM3IDIwLjIzMzA3NjcgOC41NjI1IDI2LjM3NSBDNyAyOSA3IDI5IDYgMzAgQzMuNjM2NzE4NzUgMzAuMjk2ODc1IDMuNjM2NzE4NzUgMzAuMjk2ODc1IDEgMzAgQy0wLjczMDQ2ODc1IDI4LjM5MDYyNSAtMC43MzA0Njg3NSAyOC4zOTA2MjUgLTIuMTg3NSAyNi4yNSBDLTIuOTIwMzMyMDMgMjUuMjA1ODU5MzggLTIuOTIwMzMyMDMgMjUuMjA1ODU5MzggLTMuNjY3OTY4NzUgMjQuMTQwNjI1IEMtNC45MTMwODMwNCAyMi4xMzk2Nzg4OCAtNS45ODkwNDQ2MiAyMC4xMjczMTg0MyAtNyAxOCBDLTcuMTk5MTYwMTYgMTkuMjY0NTcwMzEgLTcuMTk5MTYwMTYgMTkuMjY0NTcwMzEgLTcuNDAyMzQzNzUgMjAuNTU0Njg3NSBDLTcuNTc4OTQ1MzEgMjEuNjUwMzkwNjIgLTcuNzU1NTQ2ODggMjIuNzQ2MDkzNzUgLTcuOTM3NSAyMy44NzUgQy04LjExMTUyMzQ0IDI0Ljk2NTU0Njg4IC04LjI4NTU0Njg4IDI2LjA1NjA5Mzc1IC04LjQ2NDg0Mzc1IDI3LjE3OTY4NzUgQy05IDMwIC05IDMwIC0xMCAzMiBDLTExLjg3NSAzMS43NSAtMTEuODc1IDMxLjc1IC0xNCAzMSBDLTE1LjI1IDI4LjkzNzUgLTE1LjI1IDI4LjkzNzUgLTE2IDI3IEMtMTYuNDMzMTI1IDI3LjQ3NDM3NSAtMTYuODY2MjUgMjcuOTQ4NzUgLTE3LjMxMjUgMjguNDM3NSBDLTIxLjI2ODUzMTg1IDMyLjEwMDQ5MjQ1IC0yNi43NTQ4NDI1IDMxLjMyNjM3NjY4IC0zMS44MjAzMTI1IDMxLjI4MTI1IEMtMzYuMjA3MDY0MDkgMzAuODkzMjMyNjYgLTM3LjkwMzMwOTI4IDMwLjA5NjY5MDcyIC00MSAyNyBDLTQyLjU2MjUgMjQuNSAtNDIuNTYyNSAyNC41IC00MyAyMiBDLTQxLjYyNSAxOS42ODc1IC00MS42MjUgMTkuNjg3NSAtNDAgMTggQy00MS4zMiAxNy4wMSAtNDIuNjQgMTYuMDIgLTQ0IDE1IEMtNDQgMTEuNzUgLTQ0IDExLjc1IC00MyA4IEMtMzcuODIzNzMwOTQgMy44MDUyMDc0OSAtMzIuMDE2MTEwNTQgMy40NTA1OTcyMiAtMjUuNjI1IDMuNjg3NSBDLTI0LjgxOTMzNTk0IDMuNjk3MTY3OTcgLTI0LjAxMzY3MTg4IDMuNzA2ODM1OTQgLTIzLjE4MzU5Mzc1IDMuNzE2Nzk2ODggQy0xNy4zNDEzMjczMSAzLjgyOTMzNjM1IC0xNy4zNDEzMjczMSAzLjgyOTMzNjM1IC0xNSA1IEMtMTUuMzEyNSA2LjkzNzUgLTE1LjMxMjUgNi45Mzc1IC0xNiA5IEMtMjAuMjg5NzAxMzQgMTAuNDI5OTAwNDUgLTI0LjU3MTM0MzI0IDEwLjQzODEyMTc2IC0yOS4wNjY0MDYyNSAxMC43MTg3NSBDLTMxLjkzMTY1NzQ2IDEwLjgxNTkwNjYxIC0zMS45MzE2NTc0NiAxMC44MTU5MDY2MSAtMzQgMTIgQy0zMy4wMzU3ODEyNSAxMi4xMDk1NzAzMSAtMzIuMDcxNTYyNSAxMi4yMTkxNDA2MiAtMzEuMDc4MTI1IDEyLjMzMjAzMTI1IEMtMjkuODE0ODQzNzUgMTIuNDkwNTg1OTQgLTI4LjU1MTU2MjUgMTIuNjQ5MTQwNjMgLTI3LjI1IDEyLjgxMjUgQy0yNS4zNzA1NDY4NyAxMy4wMzg3MzA0NyAtMjUuMzcwNTQ2ODcgMTMuMDM4NzMwNDcgLTIzLjQ1MzEyNSAxMy4yNjk1MzEyNSBDLTIwLjA1NDQ1OTUzIDEzLjk4ODQ3OTcxIC0xOC40MjUxMDM5MSAxNC41NjkwMDk5MSAtMTYgMTcgQy0xNS42NyAxNy45OSAtMTUuMzQgMTguOTggLTE1IDIwIEMtMTQuODc4ODI4MTMgMTkuMzI0NTMxMjUgLTE0Ljc1NzY1NjI1IDE4LjY0OTA2MjUgLTE0LjYzMjgxMjUgMTcuOTUzMTI1IEMtMTQuNDY1MjM0MzggMTcuMDYxMDkzNzUgLTE0LjI5NzY1NjI1IDE2LjE2OTA2MjUgLTE0LjEyNSAxNS4yNSBDLTEzLjk2MjU3ODEzIDE0LjM2ODI4MTI1IC0xMy44MDAxNTYyNSAxMy40ODY1NjI1IC0xMy42MzI4MTI1IDEyLjU3ODEyNSBDLTEzLjAzMjAzNzM2IDEwLjEzMDUyMjU2IC0xMi4yMjAwMjg4MyA4LjE5NDAwMTQzIC0xMSA2IEMtOC43Njk1MzEyNSA2LjEyMTA5Mzc1IC04Ljc2OTUzMTI1IDYuMTIxMDkzNzUgLTYgNyBDLTMuNzYxNzE4NzUgOS43MjI2NTYyNSAtMy43NjE3MTg3NSA5LjcyMjY1NjI1IC0xLjY4NzUgMTMuMDYyNSBDLTAuOTkwMTE3MTkgMTQuMTY3MjI2NTYgLTAuMjkyNzM0MzggMTUuMjcxOTUzMTIgMC40MjU3ODEyNSAxNi40MTAxNTYyNSBDMS4yMDUwMTk1MyAxNy42OTIxMjg5MSAxLjIwNTAxOTUzIDE3LjY5MjEyODkxIDIgMTkgQzEuODAwODM5ODQgMTcuODA1MDM5MDYgMS44MDA4Mzk4NCAxNy44MDUwMzkwNiAxLjU5NzY1NjI1IDE2LjU4NTkzNzUgQzEuMDY1MTA0MTcgMTMuMzkwNjI1IDAuNTMyNTUyMDggMTAuMTk1MzEyNSAwIDcgQy0wLjIwNzUzOTA2IDUuODk5MTQwNjMgLTAuNDE1MDc4MTMgNC43OTgyODEyNSAtMC42Mjg5MDYyNSAzLjY2NDA2MjUgQy0wLjc1MTM2NzE5IDIuNzg0OTIxODcgLTAuODczODI4MTMgMS45MDU3ODEyNSAtMSAxIEMtMC42NyAwLjY3IC0wLjM0IDAuMzQgMCAwIFogTS0yOCAxOCBDLTI2LjE4Nzc3NDY2IDIwLjA2MjQ5OTQgLTI2LjE4Nzc3NDY2IDIwLjA2MjQ5OTQgLTI0IDIyIEMtMjMuMDEgMjIgLTIyLjAyIDIyIC0yMSAyMiBDLTIxLjMzIDIxLjAxIC0yMS42NiAyMC4wMiAtMjIgMTkgQy0yNC45NyAxOC41MDUgLTI0Ljk3IDE4LjUwNSAtMjggMTggWiBNLTM5IDIyIEMtMzkgMjIuNjYgLTM5IDIzLjMyIC0zOSAyNCBDLTM2LjAzIDI0LjMzIC0zMy4wNiAyNC42NiAtMzAgMjUgQy0zMi4zNTk2ODc0NCAyMi45MDI1MDAwNSAtMzMuNTQ2MTY5OTQgMjIuMDMwOTQyOTYgLTM2Ljc1IDIxLjgxMjUgQy0zNy40OTI1IDIxLjg3NDM3NSAtMzguMjM1IDIxLjkzNjI1IC0zOSAyMiBaICIgZmlsbD0iIzIyMUUyMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjIwLDY3KSIvPgo8cGF0aCBkPSJNMCAwIEMyLjA1NDY4NzUgLTAuMTk5MjE4NzUgMi4wNTQ2ODc1IC0wLjE5OTIxODc1IDUuODY3MTg3NSAwLjM2MzI4MTI1IEM4LjI4Mjg5NDcyIDIuNDI4NzM2NjggMTAuMDk2NDE2NDkgNC43MzM5NTQ2IDExLjg2NzE4NzUgNy4zNjMyODEyNSBDMTIuMTQ5NDkyMTkgNi44NDYzNjcxOSAxMi40MzE3OTY4NyA2LjMyOTQ1MzEzIDEyLjcyMjY1NjI1IDUuNzk2ODc1IEMxNC4yNzE2ODgxMyAzLjQ3NTU5ODQ4IDE1LjU3MTg3NDIgMS45NzEyNTAyOCAxNy44NjcxODc1IDAuMzYzMjgxMjUgQzI2LjQ3NDM3MzUgLTAuNzg0MzQzNTUgMzQuOTQxNzAyNzcgMi4yOTMwNDg0MyA0Mi44NjcxODc1IDUuMzYzMjgxMjUgQzQxLjE2MTc1MzAxIDkuMTA0MjM0MzIgMzkuMjkzODYwOCAxMS4wMjMxMTQxMiAzNS44NjcxODc1IDEzLjM2MzI4MTI1IEMzNC44NzcxODc1IDEzLjM2MzI4MTI1IDMzLjg4NzE4NzUgMTMuMzYzMjgxMjUgMzIuODY3MTg3NSAxMy4zNjMyODEyNSBDMzIuMjA3MTg3NSAxMi4zNzMyODEyNSAzMS41NDcxODc1IDExLjM4MzI4MTI1IDMwLjg2NzE4NzUgMTAuMzYzMjgxMjUgQzI4LjY3MjY0MDY5IDkuNzgzMzQ0MjYgMjguNjcyNjQwNjkgOS43ODMzNDQyNiAyNi4yNDIxODc1IDkuNjc1NzgxMjUgQzI1LjQyNDkyMTg4IDkuNjEwMDM5MDYgMjQuNjA3NjU2MjUgOS41NDQyOTY4OCAyMy43NjU2MjUgOS40NzY1NjI1IEMyMi44MjU4OTg0NCA5LjQyMDQ4ODI4IDIyLjgyNTg5ODQ0IDkuNDIwNDg4MjggMjEuODY3MTg3NSA5LjM2MzI4MTI1IEMyMS43NTg4NzYwNCA5Ljk5OTk5MjUyIDIxLjY1MDU2NDU4IDEwLjYzNjcwMzggMjEuNTM4OTcwOTUgMTEuMjkyNzA5MzUgQzIwLjQxMzg1NTQzIDE3Ljg5NjI5MTI1IDE5LjI3NjQ4MDM1IDI0LjQ5NzY3NjE0IDE4LjEzMTgzNTk0IDMxLjA5NzkwMDM5IEMxNy43MDU4MDczNiAzMy41NjQxNTA1NiAxNy4yODI5NDkwNyAzNi4wMzA5NTA1MSAxNi44NjMyODEyNSAzOC40OTgyOTEwMiBDMTYuMjYwODYwODcgNDIuMDM2ODAwMzYgMTUuNjQ3MjEwNTMgNDUuNTczMjAwOSAxNS4wMzEyNSA0OS4xMDkzNzUgQzE0Ljg0NDcwODU2IDUwLjIxOTc3NjQ2IDE0LjY1ODE2NzExIDUxLjMzMDE3NzkyIDE0LjQ2NTk3MjkgNTIuNDc0MjI3OTEgQzE0LjI4NTkzNzE5IDUzLjQ5NTIxMDcyIDE0LjEwNTkwMTQ5IDU0LjUxNjE5MzU0IDEzLjkyMDQxMDE2IDU1LjU2ODExNTIzIEMxMy42ODcyNDU5NCA1Ni45MjM3OTg2IDEzLjY4NzI0NTk0IDU2LjkyMzc5ODYgMTMuNDQ5MzcxMzQgNTguMzA2ODY5NTEgQzEzLjI1NzI1MDY3IDU4Ljk4NTQ4NTM4IDEzLjA2NTEzIDU5LjY2NDEwMTI2IDEyLjg2NzE4NzUgNjAuMzYzMjgxMjUgQzExLjg3NzE4NzUgNjAuODU4MjgxMjUgMTEuODc3MTg3NSA2MC44NTgyODEyNSAxMC44NjcxODc1IDYxLjM2MzI4MTI1IEM5LjU4MDQ1Mjg0IDU0LjQ1OTA5MjQzIDguMjk5Mjc3MDIgNDcuNTUzODg4ODYgNy4wMjE5NzI2NiA0MC42NDc5NDkyMiBDNi41ODY3MzE3NyAzOC4yOTg0Mjc0MSA2LjE1MDIxNTc5IDM1Ljk0OTE0MTQ1IDUuNzEyNDAyMzQgMzMuNjAwMDk3NjYgQzUuMDgzNTYyMzcgMzAuMjI0ODk1MzcgNC40NTkzMDI5NCAyNi44NDg4NzMzNSAzLjgzNTkzNzUgMjMuNDcyNjU2MjUgQzMuNTQwNjQxNDggMjEuODk1OTAxMTggMy41NDA2NDE0OCAyMS44OTU5MDExOCAzLjIzOTM3OTg4IDIwLjI4NzI5MjQ4IEMzLjA1OTE5MzEyIDE5LjMwNjU3Nzc2IDIuODc5MDA2MzUgMTguMzI1ODYzMDQgMi42OTMzNTkzOCAxNy4zMTU0Mjk2OSBDMi41MzM0NzUzNCAxNi40NTM4MzI0IDIuMzczNTkxMzEgMTUuNTkyMjM1MTEgMi4yMDg4NjIzIDE0LjcwNDUyODgxIEMxLjg2NzE4NzUgMTIuMzYzMjgxMjUgMS44NjcxODc1IDEyLjM2MzI4MTI1IDEuODY3MTg3NSA4LjM2MzI4MTI1IEMtMS43NjI4MTI1IDkuMDIzMjgxMjUgLTUuMzkyODEyNSA5LjY4MzI4MTI1IC05LjEzMjgxMjUgMTAuMzYzMjgxMjUgQy05LjQ2MjgxMjUgMTEuMzUzMjgxMjUgLTkuNzkyODEyNSAxMi4zNDMyODEyNSAtMTAuMTMyODEyNSAxMy4zNjMyODEyNSBDLTE1LjA4OTc3ODMxIDEyLjEyNDAzOTggLTE3LjI0OTM5NzE2IDEwLjU3NzUwMzY3IC0yMC4xMzI4MTI1IDYuMzYzMjgxMjUgQy0xMy40NzU0Nzc3IDMuMTIxMTc0OTQgLTcuMjY2ODA3MzkgMS4yMzc3NTI5MSAwIDAgWiAiIGZpbGw9IiNFODIwMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3NzUuMTMyODEyNSwzNS42MzY3MTg3NSkiLz4KPHBhdGggZD0iTTAgMCBDOC41OCAwIDE3LjE2IDAgMjYgMCBDMjYgMy4zIDI2IDYuNiAyNiAxMCBDMjAuNzIgMTAgMTUuNDQgMTAgMTAgMTAgQzEwIDEzLjYzIDEwIDE3LjI2IDEwIDIxIEMxMy45NiAyMSAxNy45MiAyMSAyMiAyMSBDMjIgMjQuMyAyMiAyNy42IDIyIDMxIEMxOC4wNCAzMSAxNC4wOCAzMSAxMCAzMSBDMTAgMzUuMjkgMTAgMzkuNTggMTAgNDQgQzE3LjkyIDQzLjUwNSAxNy45MiA0My41MDUgMjYgNDMgQzI2IDQ2LjMgMjYgNDkuNiAyNiA1MyBDMjIuODY0NjI0MDIgNTQuMDQ1MTI1MzMgMjAuMjI4NTQ5MDIgNTQuMzE1Mzc3MTMgMTYuOTM3NSA1NC41NjI1IEMxNS44NzQwMjM0NCA1NC42NDYyODkwNiAxNC44MTA1NDY4OCA1NC43MzAwNzgxMyAxMy43MTQ4NDM3NSA1NC44MTY0MDYyNSBDOS4xNDgzOTI5NSA1NS4wNDIwODc4NCA0LjU3MjAyNDE4IDU1IDAgNTUgQzAgMzYuODUgMCAxOC43IDAgMCBaICIgZmlsbD0iI0Q4MUUyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAzNSw1MikiLz4KPHBhdGggZD0iTTAgMCBDMS45MTAxNTYyNSAwLjgyMDMxMjUgMS45MTAxNTYyNSAwLjgyMDMxMjUgNC41MzUxNTYyNSAyLjMyMDMxMjUgQzQuNTM1MTU2MjUgNC45NjAzMTI1IDQuNTM1MTU2MjUgNy42MDAzMTI1IDQuNTM1MTU2MjUgMTAuMzIwMzEyNSBDMS43NzIzOTQ0OCA5Ljc5NzYyNzg0IC0wLjc5MDkzMTM1IDkuMjExNjE2NjMgLTMuNDY0ODQzNzUgOC4zMjAzMTI1IEMtNS4wMjYwMjgwMyA4LjI1MjkwMzg1IC02LjU4OTg2ODk1IDguMjM1MTY3OTQgLTguMTUyMzQzNzUgOC4yNTc4MTI1IEMtOC45NjA1ODU5NCA4LjI2NjgzNTk0IC05Ljc2ODgyODEzIDguMjc1ODU5MzcgLTEwLjYwMTU2MjUgOC4yODUxNTYyNSBDLTExLjIxNjQ0NTMxIDguMjk2NzU3ODEgLTExLjgzMTMyODEzIDguMzA4MzU5MzggLTEyLjQ2NDg0Mzc1IDguMzIwMzEyNSBDLTEyLjc5NDg0Mzc1IDkuMzEwMzEyNSAtMTMuMTI0ODQzNzUgMTAuMzAwMzEyNSAtMTMuNDY0ODQzNzUgMTEuMzIwMzEyNSBDLTEyLjU4NDQxNDA2IDExLjcwNzAzMTI1IC0xMS43MDM5ODQzNyAxMi4wOTM3NSAtMTAuNzk2ODc1IDEyLjQ5MjE4NzUgQy05LjYzNTQyOTY5IDEzLjAxMjk2ODc1IC04LjQ3Mzk4NDM4IDEzLjUzMzc1IC03LjI3NzM0Mzc1IDE0LjA3MDMxMjUgQy01LjU1NDUxMTcyIDE0LjgzNjAxNTYzIC01LjU1NDUxMTcyIDE0LjgzNjAxNTYzIC0zLjc5Njg3NSAxNS42MTcxODc1IEMwLjI0MTM3MzEyIDE3LjY4MTI4NjE5IDMuNTY0NTg1NyAxOS42ODc5ODkzIDUuOTEwMTU2MjUgMjMuNjMyODEyNSBDNi45OTYzOTk0NiAyOC4zMDM2NTgzIDYuMzE4NTczOSAzMS44ODQwNDY4MSA0LjAzNTE1NjI1IDM2LjA3MDMxMjUgQy0wLjE5NDIwMDc5IDM5Ljg3NjczMzg0IC00LjYxMjE4MDA4IDQxLjI1NzA5NTU4IC0xMC4yODUxNTYyNSA0MS4zODI4MTI1IEMtMTUuNjc4ODQ0MzEgNDEuMDMwMDkxNzUgLTE5Ljg2NjQ0MTQ4IDQwLjE3ODc3ODc4IC0yNC40NjQ4NDM3NSAzNy4zMjAzMTI1IEMtMjQuNDY0ODQzNzUgMzQuMDIwMzEyNSAtMjQuNDY0ODQzNzUgMzAuNzIwMzEyNSAtMjQuNDY0ODQzNzUgMjcuMzIwMzEyNSBDLTIzLjE2NTQ2ODc1IDI3Ljk4MDMxMjUgLTIxLjg2NjA5Mzc1IDI4LjY0MDMxMjUgLTIwLjUyNzM0Mzc1IDI5LjMyMDMxMjUgQy0xNS41OTQwNTE2OSAzMS41NDQyMDkyNCAtMTEuODI1MTI2MDMgMzEuNjYwNjQ3ODggLTYuNDY0ODQzNzUgMzEuMzIwMzEyNSBDLTYuNDY0ODQzNzUgMzAuMDAwMzEyNSAtNi40NjQ4NDM3NSAyOC42ODAzMTI1IC02LjQ2NDg0Mzc1IDI3LjMyMDMxMjUgQy03LjQxNzQ2MDk0IDI2Ljk1Njc5Njg3IC04LjM3MDA3ODEyIDI2LjU5MzI4MTI1IC05LjM1MTU2MjUgMjYuMjE4NzUgQy0yMi40OTU3MTQwNSAyMS4wMzAxNzczIC0yMi40OTU3MTQwNSAyMS4wMzAxNzczIC0yNS40NjQ4NDM3NSAxNS4zMjAzMTI1IEMtMjYuMjE3MDIwNTkgMTEuNDI4OTQ4NjQgLTI1LjgyMjM5NTM5IDguMjE0MTkxNTkgLTI0LjMzOTg0Mzc1IDQuNTA3ODEyNSBDLTE4LjQ5MTUxODczIC0yLjMxNTIzMzM1IC04LjEzNzk4MzIgLTIuMjQ0MDcxNDQgMCAwIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxOTY5LjQ2NDg0Mzc1LDQwLjY3OTY4NzUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzguOTEgMCAxNy44MiAwIDI3IDAgQzI3IDMuMyAyNyA2LjYgMjcgMTAgQzIxLjM5IDEwIDE1Ljc4IDEwIDEwIDEwIEMxMCAxMy42MyAxMCAxNy4yNiAxMCAyMSBDMTQuMjkgMjEgMTguNTggMjEgMjMgMjEgQzIzIDI0LjMgMjMgMjcuNiAyMyAzMSBDMTguNzEgMzEgMTQuNDIgMzEgMTAgMzEgQzEwIDM3LjkzIDEwIDQ0Ljg2IDEwIDUyIEM2LjcgNTIgMy40IDUyIDAgNTIgQzAgMzQuODQgMCAxNy42OCAwIDAgWiAiIGZpbGw9IiNEODFFMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExMDEsNTIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuOTcgMCA1Ljk0IDAgOSAwIEM5IDEzLjUzIDkgMjcuMDYgOSA0MSBDNS4zNyA0MSAxLjc0IDQxIC0yIDQxIEMtMy4yMTY4NzUgNDEuMjQ3NSAtNC40MzM3NSA0MS40OTUgLTUuNjg3NSA0MS43NSBDLTEwLjMxMDAyNjQxIDQyLjA5ODg2OTkyIC0xMy4zMDg5OTE4NSA0MC43MzUwMDM3OSAtMTcgMzggQy0yMC42ODY4MTg5NSAzMy4xNjEwNTAxMyAtMjAuNjk0NzYzNjEgMjcuODUzMTQ1NTEgLTIwIDIyIEMtMTguNzI2MDcyMzggMTguMzEyMzE0NzcgLTE3Ljc0NDY5MDYyIDE2LjU4MzY3NjQzIC0xNC42ODc1IDE0LjE4NzUgQy05LjYzMTE5NDU5IDExLjk1MzMxODU0IC02LjQ1NjIyNjA3IDExLjkwODc1NDc5IC0xIDEzIEMtMC42NyA4LjcxIC0wLjM0IDQuNDIgMCAwIFogTS05LjQzNzUgMjEuMDYyNSBDLTExLjI1OTI1OTU5IDI0LjQ4NzQwODAyIC0xMS42MzY3NDE4MyAyNi4xNzk1NDkgLTExIDMwIEMtOS40NTY2NDk3MSAzMi45NTA0NzU1MyAtOS40NTY2NDk3MSAzMi45NTA0NzU1MyAtNyAzNSBDLTQuNDE0MTc4NzIgMzUuNTg0MDIxMzMgLTQuNDE0MTc4NzIgMzUuNTg0MDIxMzMgLTIgMzUgQzAuMzI4NjYyMjkgMzMuMTExNTM4MTcgMC4zMjg2NjIyOSAzMy4xMTE1MzgxNyAwLjE5NTMxMjUgMjkuOTYwOTM3NSBDMC4xNzIxMDkzOCAyOC43Nzc1NzgxMiAwLjE0ODkwNjI1IDI3LjU5NDIxODc1IDAuMTI1IDI2LjM3NSBDMC4xMDY5NTMxMyAyNS4xODY0ODQzNyAwLjA4ODkwNjI1IDIzLjk5Nzk2ODc1IDAuMDcwMzEyNSAyMi43NzM0Mzc1IEMwLjA0NzEwOTM4IDIxLjg1ODIwMzEzIDAuMDIzOTA2MjUgMjAuOTQyOTY4NzUgMCAyMCBDLTUuMTAxNDUzNyAxOC41Nzg2MzU2MiAtNS4xMDE0NTM3IDE4LjU3ODYzNTYyIC05LjQzNzUgMjEuMDYyNSBaICIgZmlsbD0iIzAwODQyOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEzMSw0MCkiLz4KPHBhdGggZD0iTTAgMCBDOS45IDAgMTkuOCAwIDMwIDAgQzMwIDMuMyAzMCA2LjYgMzAgMTAgQzI2LjcgMTAgMjMuNCAxMCAyMCAxMCBDMjAgMjMuODYgMjAgMzcuNzIgMjAgNTIgQzE1LjA1IDUyLjQ5NSAxNS4wNSA1Mi40OTUgMTAgNTMgQzEwIDM4LjgxIDEwIDI0LjYyIDEwIDEwIEM2LjcgMTAgMy40IDEwIDAgMTAgQzAgNi43IDAgMy40IDAgMCBaICIgZmlsbD0iI0Q4MUUyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA2Niw1MikiLz4KPHBhdGggZD0iTTAgMCBDLTAuNDgxMTQ5MSA1Ljc3Mzc4OTI1IC0yLjE4NDY3MTgxIDkuOTU4NTk4MzYgLTUgMTUgQy00LjMxOTM3NSAxNC4yOTg3NSAtMy42Mzg3NSAxMy41OTc1IC0yLjkzNzUgMTIuODc1IEMtMS45NjMyMDUxNCAxMS45MTE3MTQxMyAtMC45ODM1MTk0NiAxMC45NTM4NjU2MSAwIDEwIEMwLjU1NDI5Njg3IDkuNDYxMTcxODggMS4xMDg1OTM3NSA4LjkyMjM0Mzc1IDEuNjc5Njg3NSA4LjM2NzE4NzUgQzUuMjUwOTM2OCA1LjA4MTYzODE0IDcuODk2NjgzMzIgMi44ODQwMTU1MyAxMyAzIEMxNS4wMDY0OTYwNyA0LjUzNjM3NTAxIDE1Ljg3Mzg5MDQ5IDUuNTg4MTQ4NyAxNi42MTcxODc1IDguMDE1NjI1IEMxNy4yNTE1NjExIDEzLjUxMzUyOTUzIDE2Ljg0OTMwMTA3IDE3LjA2MTIxMTQ3IDE0IDIyIEMxMS4wNTUwNzk0MyAyNS40MDk5MDgwMyA4LjEyMTcwMjE1IDI4LjEzNTQyMDQ2IDQgMzAgQzEuNjY3MTQ1MiAzMC4wNDcyNTM5OSAtMC42NjcyNDM5MyAzMC4wNTE4OTk3MyAtMyAzMCBDLTMuMjY1NTQ2ODggMzEuMDczNzg5MDYgLTMuNTMxMDkzNzUgMzIuMTQ3NTc4MTIgLTMuODA0Njg3NSAzMy4yNTM5MDYyNSBDLTQuMTYxMzk0MjEgMzQuNjkwMTIwMSAtNC41MTgxNjg2NiAzNi4xMjYzMTcxMiAtNC44NzUgMzcuNTYyNSBDLTUuMDQ5MDIzNDQgMzguMjY2OTcyNjYgLTUuMjIzMDQ2ODggMzguOTcxNDQ1MzEgLTUuNDAyMzQzNzUgMzkuNjk3MjY1NjIgQy02LjUxMjk0ODE1IDQ0LjE2MDI0OTk4IC03LjcxMjAxMjE2IDQ4LjU4NDg3MDUyIC05IDUzIEMtMTMuODc1IDUxLjI1IC0xMy44NzUgNTEuMjUgLTE1IDQ5IEMtMTUuODA3NzM2NjkgNDEuNjExMTk1NTcgLTE0LjQ0MzM4Mzc0IDM1LjkyMzE3NjkzIC0xMS44NzEwOTM3NSAyOS4wNDI5Njg3NSBDLTEwLjkzNjk5MDk5IDI1Ljc3OTg5MjMxIC0xMC44OTM4OTA4MiAyMy4yNTE1MDY5MSAtMTEuMDYyNSAxOS44NzUgQy0xMS4zNDcwMDEzMyAxMi4zOTk0ODI0MiAtOC41MjkxMDMxNSA3LjAzNDkyMzc4IC0zLjgxMjUgMS4zNzUgQy0yIDAgLTIgMCAwIDAgWiBNMTAgMTAgQzcuOTU1NDM5NDEgMTIuMTcyNjQ2NTUgNy45NTU0Mzk0MSAxMi4xNzI2NDY1NSA1Ljg3NSAxNC44NzUgQzUuMTUwNTQ2ODggMTUuNzc5OTIxODcgNC40MjYwOTM3NSAxNi42ODQ4NDM3NSAzLjY3OTY4NzUgMTcuNjE3MTg3NSBDMS44MDc5NDc2NiAxOS43ODY1NTgxMSAxLjgwNzk0NzY2IDE5Ljc4NjU1ODExIDIgMjIgQzYuMDE1MzA1MDUgMjEuMDg3NDMwNjcgNy43MTEyODI3NSAyMC4zNDk0OTk4MyAxMC4zNzUgMTcuMTI1IEMxMi4zMDc1Njg0OSAxMy45OTU1NjM5MiAxMi4zMDc1Njg0OSAxMy45OTU1NjM5MiAxMiAxMCBDMTEuMzQgMTAgMTAuNjggMTAgMTAgMTAgWiAiIGZpbGw9IiMyMjFFMjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY2NSw3MCkiLz4KPHBhdGggZD0iTTAgMCBDMy4zIDAgNi42IDAgMTAgMCBDMTAgMTQuMTkgMTAgMjguMzggMTAgNDMgQzEzLjk2IDQzIDE3LjkyIDQzIDIyIDQzIEMyMy4zMiA0My4zMyAyNC42NCA0My42NiAyNiA0NCBDMjYgNDcuMyAyNiA1MC42IDI2IDU0IEMxMy4xMyA1My41MDUgMTMuMTMgNTMuNTA1IDAgNTMgQzAgMzUuNTEgMCAxOC4wMiAwIDAgWiAiIGZpbGw9IiNEODFFMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExMzMsNTIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuMyAwIDYuNiAwIDEwIDAgQzEwLjMzIDQuNjIgMTAuNjYgOS4yNCAxMSAxNCBDMTIuNTQ2ODc1IDEzLjQ0MzEyNSAxMi41NDY4NzUgMTMuNDQzMTI1IDE0LjEyNSAxMi44NzUgQzE4LjM5OTA1MzgzIDExLjkwOTg5MTA3IDIwLjEwMjI4MDU4IDEyLjEzOTcyNDgyIDI0IDE0IEMyNS45NTA0Njk0MiAxNS42MTQxODE1OSAyNi44NzAxODY5MyAxNi43NDAzNzM4NiAyOCAxOSBDMjguMDcxODE4MjEgMjEuNzE3NjAxMDggMjguMDkyOTk1MDYgMjQuNDA4NTkzODggMjguMDYyNSAyNy4xMjUgQzI4LjA1Nzk4ODI4IDI3Ljg3OTEwMTU2IDI4LjA1MzQ3NjU2IDI4LjYzMzIwMzEyIDI4LjA0ODgyODEyIDI5LjQxMDE1NjI1IEMyOC4wMzcwMzQ5OSAzMS4yNzM0NzEyNyAyOC4wMTkwOTk0MiAzMy4xMzY3NDU1NSAyOCAzNSBDMjMuNTQ1IDM1LjQ5NSAyMy41NDUgMzUuNDk1IDE5IDM2IEMxOC45Mzk0MTQwNiAzNS4wODQ3NjU2MyAxOC44Nzg4MjgxMiAzNC4xNjk1MzEyNSAxOC44MTY0MDYyNSAzMy4yMjY1NjI1IEMxOC43MzI2MTcxOSAzMi4wMzgwNDY4NyAxOC42NDg4MjgxMiAzMC44NDk1MzEyNSAxOC41NjI1IDI5LjYyNSBDMTguNDgxMjg5MDYgMjguNDQxNjQwNjMgMTguNDAwMDc4MTIgMjcuMjU4MjgxMjUgMTguMzE2NDA2MjUgMjYuMDM5MDYyNSBDMTguMTg5MTUwNjQgMjMuMDg0ODEwOTkgMTguMTg5MTUwNjQgMjMuMDg0ODEwOTkgMTcgMjEgQzE1LjMzMzg4MDk1IDIwLjk1NzI3OSAxMy42NjYxNzExNSAyMC45NTkzNjE2OCAxMiAyMSBDMTAuNDUwNDk3MzIgMjIuNTQ5NTAyNjggMTAuNzgzNDQ4MDcgMjQuMDk5OTA1OTQgMTAuNjgzNTkzNzUgMjYuMjUzOTA2MjUgQzEwLjY0MTY5OTIyIDI3LjEwNzkxMDE2IDEwLjU5OTgwNDY5IDI3Ljk2MTkxNDA2IDEwLjU1NjY0MDYyIDI4Ljg0MTc5Njg4IEMxMC41MTczMjQyMiAyOS43Mzk2Mjg5MSAxMC40NzgwMDc4MSAzMC42Mzc0NjA5NCAxMC40Mzc1IDMxLjU2MjUgQzEwLjM5NDMxNjQxIDMyLjQ2NDE5OTIyIDEwLjM1MTEzMjgxIDMzLjM2NTg5ODQ0IDEwLjMwNjY0MDYyIDM0LjI5NDkyMTg4IEMxMC4yMDAyMjAxNiAzNi41Mjk3NTE1NiAxMC4wOTk1NzUxOSAzOC43NjQ4NTQ4NiAxMCA0MSBDNi43IDQxIDMuNCA0MSAwIDQxIEMwIDI3LjQ3IDAgMTMuOTQgMCAwIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDA1LDQwKSIvPgo8cGF0aCBkPSJNMCAwIEM0LjI5IDAgOC41OCAwIDEzIDAgQzkuOTk1NDE0NiAxNi4wODQxMjA5OCA2Ljc1MDQyOTQ2IDMyLjA3MjY0NDI3IDMgNDggQy0xLjI5IDQ4IC01LjU4IDQ4IC0xMCA0OCBDLTkuMzUyMDc5OTYgNDIuMjQzMTY0OTggLTguMzkyNDE1OTEgMzYuNjQxMDIxMyAtNy4xODc1IDMwLjk3NjU2MjUgQy03LjAxMzcxODI2IDMwLjE0OTE3NTcyIC02LjgzOTkzNjUyIDI5LjMyMTc4ODk0IC02LjY2MDg4ODY3IDI4LjQ2OTMyOTgzIEMtNi4yOTYwMjY4NiAyNi43MzYyMTU3NCAtNS45Mjk1NTA3IDI1LjAwMzQ0MDc3IC01LjU2MTUyMzQ0IDIzLjI3MDk5NjA5IEMtNC45OTczNjgxOSAyMC42MTI1OTg0NyAtNC40Mzk3NTU1NCAxNy45NTI4ODU2NSAtMy44ODI4MTI1IDE1LjI5Mjk2ODc1IEMtMy41MjY0Mjg0MSAxMy42MDQwODUwMSAtMy4xNjk2NzA5OSAxMS45MTUyOCAtMi44MTI1IDEwLjIyNjU2MjUgQy0yLjY0NTgwODExIDkuNDMwNzc3ODkgLTIuNDc5MTE2MjEgOC42MzQ5OTMyOSAtMi4zMDczNzMwNSA3LjgxNTA5Mzk5IEMtMS4xMTUxOTMxMyAyLjIzMDM4NjI2IC0xLjExNTE5MzEzIDIuMjMwMzg2MjYgMCAwIFogIiBmaWxsPSIjMjIzMTc1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5OCw1NCkiLz4KPHBhdGggZD0iTTAgMCBDMCAzIDAgMyAtMSA1IEMtMS4yMTM3NzcyMSAxMC42MDcwMzIxMyAtMS4yMTM3NzcyMSAxMC42MDcwMzIxMyAwIDE2IEMwLjc1NDE0MjM1IDIyLjQ5MDU2OTM3IC0wLjI2NzY1MDE5IDI1LjU4MjA3Mjg1IC00IDMxIEMtMy45Mjc0OTIxNCAzNC41NTI4ODQ5NCAtMy4zMTc3NDE2NCAzNi40OTE2MTMzNyAtMS40Mzc1IDM5LjUgQzAuNDMyMjMyNTQgNDIuNzUxNzA4NzYgMC40OTI4MjA0OCA0NC4yNjg2NDQ5NCAwIDQ4IEMtMS4xNzkwNDA1IDUxLjQwNDQxNTYzIC0yLjU0MTk2MzU0IDU0LjcwNjM5OTc4IC00IDU4IEMtMTMuMDQyMzMyOTIgNTUuOTEzMzA3NzkgLTE5LjIzMTExMzk5IDQ5LjIyNDI2NTc5IC0yNC42ODc1IDQyLjExMzI4MTI1IEMtMjUuOTc2NzY1MDIgNDAuMDM3NDExMDkgLTI2LjU2ODUwMjU3IDM4LjM4OTQxNzA0IC0yNyAzNiBDLTIyLjM3NSAzMyAtMjIuMzc1IDMzIC0xOSAzMyBDLTE5IDMzLjk5IC0xOSAzNC45OCAtMTkgMzYgQy0xNi4wMjk4MjMwNiAzNS4zNzE4OTgyNyAtMTYuMDI5ODIzMDYgMzUuMzcxODk4MjcgLTEzIDM0IEMtMTEuODAxNjE3OTEgMzEuNjcxNDU1MzcgLTExLjgwMTYxNzkxIDMxLjY3MTQ1NTM3IC0xMSAyOSBDLTEwLjMyMzI0MjE5IDI4LjI5NDg4MjgxIC05LjY0NjQ4NDM4IDI3LjU4OTc2NTYyIC04Ljk0OTIxODc1IDI2Ljg2MzI4MTI1IEMtNi4yODY2NTkzNyAyMi45NTIxNDY5MyAtNi42NDc5NDA5OCAyMC4wOTMyNzg3OCAtNi45Mzc1IDE1LjUgQy03LjQ2Nzc4NzQgNi4zMzQ3MzQyNSAtNy40Njc3ODc0IDYuMzM0NzM0MjUgLTQgMiBDLTEuODEyNSAwLjY4NzUgLTEuODEyNSAwLjY4NzUgMCAwIFogIiBmaWxsPSIjMTg3MjRFIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzQ4LDYwKSIvPgo8cGF0aCBkPSJNMCAwIEM0LjIyNzM1OTE0IDUuMDI2MTMzNCA0LjM0Mzc1IDYuNjc1NjQ0OTEgNC4zNDM3NSAxMy41OTc2NTYyNSBDLTEuOTI2MjUgMTMuNTk3NjU2MjUgLTguMTk2MjUgMTMuNTk3NjU2MjUgLTE0LjY1NjI1IDEzLjU5NzY1NjI1IEMtMTIuMzAwNDg3NzkgMTguNzcwMzg3NjYgLTEyLjMwMDQ4Nzc5IDE4Ljc3MDM4NzY2IC04LjUzMTI1IDE5LjU5NzY1NjI1IEMtMy43NTI5OTc1NyAxOS41OTc2NTYyNSAtMC4wNTEzNDIxNSAxOC4zNjE2NzI4MyA0LjM0Mzc1IDE2LjU5NzY1NjI1IEM0LjY1NjI1IDE5LjQxMDE1NjI1IDQuNjU2MjUgMTkuNDEwMTU2MjUgNC4zNDM3NSAyMi41OTc2NTYyNSBDMC45MDEyMjIwNSAyNS45MjU0MzMyNyAtMy40MTQ1NjU0OCAyNi4zMjk5Njg0IC04LjAyMzQzNzUgMjYuNjYwMTU2MjUgQy0xMy42ODcyNjY0IDI2LjUyNTcwMzM0IC0xOC4xMzQxNTE4MiAyNS4xMTk3NTQ0MyAtMjIuMTU2MjUgMjEuMDk3NjU2MjUgQy0yNC43NzM1ODM1MyAxNi43MzU0MzM3IC0yNS4zMTY1NTAzOCAxMi41OTU3NjMyOCAtMjQuNjU2MjUgNy41OTc2NTYyNSBDLTIzLjI5NDg1NjcgMy44NjEyMjM1NSAtMjEuNDAxMzMxNDIgMS4xNzA3OTU4IC0xOC4yMTg3NSAtMS4yNzczNDM3NSBDLTEyLjMxODQ0Njg5IC0zLjg2NzcyMDcyIC01LjI1NTA1Mjk0IC00LjQ0OTQ0MzQxIDAgMCBaIE0tMTMuNjU2MjUgNC41OTc2NTYyNSBDLTEzLjk4NjI1IDUuOTE3NjU2MjUgLTE0LjMxNjI1IDcuMjM3NjU2MjUgLTE0LjY1NjI1IDguNTk3NjU2MjUgQy0xMS4wMjYyNSA4LjU5NzY1NjI1IC03LjM5NjI1IDguNTk3NjU2MjUgLTMuNjU2MjUgOC41OTc2NTYyNSBDLTQuOTgzMjM1NTkgMy42NzQ2NDYzMyAtNC45ODMyMzU1OSAzLjY3NDY0NjMzIC03LjUzMTI1IDIuNjYwMTU2MjUgQy0xMC4yMTA5NzMzNSAyLjU4MTM0MDg2IC0xMS40ODU2NTkxNSAzLjAyNTg0OTA4IC0xMy42NTYyNSA0LjU5NzY1NjI1IFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDkxLjY1NjI1LDU1LjQwMjM0Mzc1KSIvPgo8cGF0aCBkPSJNMCAwIEMzLjUyMDkwNTk1IDQuNTExMTYwNzUgMyA2LjQxMTcwNDg5IDMgMTIuNTYyNSBDLTMuMjcgMTIuNTYyNSAtOS41NCAxMi41NjI1IC0xNiAxMi41NjI1IEMtMTMuNjQ0MjM3NzkgMTcuNzM1MjMxNDEgLTEzLjY0NDIzNzc5IDE3LjczNTIzMTQxIC05Ljg3NSAxOC41NjI1IEMtNS4wOTY3NDc1NyAxOC41NjI1IC0xLjM5NTA5MjE1IDE3LjMyNjUxNjU4IDMgMTUuNTYyNSBDMy4zMTI1IDE4LjM3NSAzLjMxMjUgMTguMzc1IDMgMjEuNTYyNSBDLTAuNDQyNTI3OTUgMjQuODkwMjc3MDIgLTQuNzU4MzE1NDggMjUuMjk0ODEyMTUgLTkuMzY3MTg3NSAyNS42MjUgQy0xNS4wMzEwMTY0IDI1LjQ5MDU0NzA5IC0xOS40Nzc5MDE4MiAyNC4wODQ1OTgxOCAtMjMuNSAyMC4wNjI1IEMtMjYuMTE3MzMzNTMgMTUuNzAwMjc3NDUgLTI2LjY2MDMwMDM4IDExLjU2MDYwNzAzIC0yNiA2LjU2MjUgQy0yNC42Mzg2MDY3IDIuODI2MDY3MyAtMjIuNzQ1MDgxNDIgMC4xMzU2Mzk1NSAtMTkuNTYyNSAtMi4zMTI1IEMtMTIuNjA1NTU1NjYgLTUuMzY2NzY4MjUgLTUuOTgyNDU3MiAtNC44NjA3NDY0OCAwIDAgWiBNLTE1IDMuNTYyNSBDLTE1LjMzIDQuODgyNSAtMTUuNjYgNi4yMDI1IC0xNiA3LjU2MjUgQy0xMi4zNyA3LjU2MjUgLTguNzQgNy41NjI1IC01IDcuNTYyNSBDLTYuMzI2OTg1NTkgMi42Mzk0OTAwOCAtNi4zMjY5ODU1OSAyLjYzOTQ5MDA4IC04Ljg3NSAxLjYyNSBDLTExLjU1NDcyMzM1IDEuNTQ2MTg0NjEgLTEyLjgyOTQwOTE1IDEuOTkwNjkyODMgLTE1IDMuNTYyNSBaICIgZmlsbD0iIzAwODQyOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjE2OSw1Ni40Mzc1KSIvPgo8cGF0aCBkPSJNMCAwIEMzLjMgMCA2LjYgMCAxMCAwIEMxMCAxOC4xNSAxMCAzNi4zIDEwIDU1IEM3LjAzIDU1IDQuMDYgNTUgMSA1NSBDMCA1NCAwIDU0IC0wLjEyMDI1NDUyIDUxLjgyOTY5NjY2IEMtMC4xMTgwMzM5MSA1MC44NzI2MTMwNyAtMC4xMTU4MTMyOSA0OS45MTU1Mjk0OCAtMC4xMTM1MjUzOSA0OC45Mjk0NDMzNiBDLTAuMTEzNDQ5ODYgNDcuODQ4Mzk4MjggLTAuMTEzMzc0MzMgNDYuNzY3MzUzMjEgLTAuMTEzMjk2NTEgNDUuNjUzNTQ5MTkgQy0wLjEwODEzNTIyIDQ0LjQ3NzUyNjQgLTAuMTAyOTczOTQgNDMuMzAxNTAzNiAtMC4wOTc2NTYyNSA0Mi4wODk4NDM3NSBDLTAuMDk2MjQxMyA0MC44OTI2NzIyNyAtMC4wOTQ4MjYzNSAzOS42OTU1MDA3OSAtMC4wOTMzNjg1MyAzOC40NjIwNTEzOSBDLTAuMDg3NzQ5NzkgMzQuNjIwNTA5MzQgLTAuMDc1MTk0MTEgMzAuNzc5MDI0NTcgLTAuMDYyNSAyNi45Mzc1IEMtMC4wNTc0ODc0MSAyNC4zNDA0OTU2MyAtMC4wNTI5MjQwOSAyMS43NDM0OTAzNSAtMC4wNDg4MjgxMiAxOS4xNDY0ODQzOCBDLTAuMDM3Nzc0MjcgMTIuNzY0MzAwNjggLTAuMDIwNDk3MDggNi4zODIxNjAwNyAwIDAgWiAiIGZpbGw9IiNEODFGMjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExNjYsNTIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuMyAwIDYuNiAwIDEwIDAgQzEwIDAuNjYgMTAgMS4zMiAxMCAyIEMxMC45OSAxLjM0IDExLjk4IDAuNjggMTMgMCBDMTYuMzkyMTAyODcgLTAuNTQ2MTg2MDYgMTkuNjA2NTQzNSAtMC41MzU4MDg5MiAyMyAwIEMyNi42MTk5NTgyMSAyLjY1OTU2MTEzIDI4LjIwNjgzODE3IDQuNjQ4NDIzNTEgMjkgOSBDMjkuMDc4MTg2MzYgMTAuNTEzOTU2OTYgMjkuMTA3ODk5MDkgMTIuMDMwOTM1MDcgMjkuMDk3NjU2MjUgMTMuNTQ2ODc1IEMyOS4wOTQ0MzM1OSAxNC4zOTEyMTA5NCAyOS4wOTEyMTA5NCAxNS4yMzU1NDY4NyAyOS4wODc4OTA2MiAxNi4xMDU0Njg3NSBDMjkuMDc5NTExNzIgMTYuOTc4MTY0MDYgMjkuMDcxMTMyODEgMTcuODUwODU5MzcgMjkuMDYyNSAxOC43NSBDMjkuMDU3OTg4MjggMTkuNjM4MTY0MDYgMjkuMDUzNDc2NTYgMjAuNTI2MzI4MTIgMjkuMDQ4ODI4MTIgMjEuNDQxNDA2MjUgQzI5LjAzNzA3NDIyIDIzLjYyNzYzMzE2IDI5LjAxOTEzOTY2IDI1LjgxMzgyNTI4IDI5IDI4IEMyNS43IDI4IDIyLjQgMjggMTkgMjggQzE4LjUwNSAxOC4xIDE4LjUwNSAxOC4xIDE4IDggQzE2LjY4IDcuNjcgMTUuMzYgNy4zNCAxNCA3IEMxMy4wMSA3LjY2IDEyLjAyIDguMzIgMTEgOSBDMTAuNDE0MDczNjYgMTIuMTE2MTA1NTQgMTAuNDE0MDczNjYgMTIuMTE2MTA1NTQgMTAuMzEyNSAxNS42MjUgQzEwLjI0Njc1NzgxIDE2LjgxMzUxNTYzIDEwLjE4MTAxNTYzIDE4LjAwMjAzMTI1IDEwLjExMzI4MTI1IDE5LjIyNjU2MjUgQzEwLjA3NTg5ODQ0IDIwLjE0MTc5Njg3IDEwLjAzODUxNTYyIDIxLjA1NzAzMTI1IDEwIDIyIEM2LjcgMjEuNjcgMy40IDIxLjM0IDAgMjEgQzAgMTQuMDcgMCA3LjE0IDAgMCBaICIgZmlsbD0iIzAwODQyOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAzNiw1MykiLz4KPHBhdGggZD0iTTAgMCBDNy44MjQzNDA1OCAtMC4xMTcwMzA3NCA3LjgyNDM0MDU4IC0wLjExNzAzMDc0IDEwLjQ4ODI4MTI1IDIuNDE0MDYyNSBDMTIuNzg3NDM3MTMgNi4yMDk3NTk4NSAxMy43NDA2OTg2IDkuNTU1ODA4MzkgMTMgMTQgQzExLjk1MTAwNjYgMTUuNzE2NTM0NjYgMTAuOTAxMjc3MjcgMTcuNDMyNzI1OTggOS44MzIwMzEyNSAxOS4xMzY3MTg3NSBDOC4yODEzNDc3OCAyMi42MDkzNzYxMSA5LjE2NDUxNTkyIDI1LjM1OTY3NjUzIDEwIDI5IEMxMC4zNTA2MjUgMjkuNzAxMjUgMTAuNzAxMjUgMzAuNDAyNSAxMS4wNjI1IDMxLjEyNSBDMTIuMzk2NjM0OTIgMzMuNzkzMjY5ODUgMTIuMTk1NTczOTMgMzYuMDY2MzkwOTggMTIgMzkgQzExIDQwIDExIDQwIDguMTI4OTA2MjUgNDAuMTMyODEyNSBDNi45NTE5OTIxOSA0MC4xMzAyMzQzOCA1Ljc3NTA3ODEyIDQwLjEyNzY1NjI1IDQuNTYyNSA0MC4xMjUgQzMuMzg4MTY0MDYgNDAuMTI3NTc4MTIgMi4yMTM4MjgxMiA0MC4xMzAxNTYyNSAxLjAwMzkwNjI1IDQwLjEzMjgxMjUgQy0yIDQwIC0yIDQwIC00IDM5IEMtMy4yNDgxNzUxOCAzMS40ODE3NTE4MiAtMy4yNDgxNzUxOCAzMS40ODE3NTE4MiAtMS45Mzc1IDI4LjkzNzUgQy0wLjQzNzQ4NjY0IDI1LjgzNzQ3MjM5IC0wLjY0OTM5MDYgMjMuMzg5MjI0MiAtMSAyMCBDLTIuMzE0MzE2OTUgMTcuOTg3NDUyMTggLTMuNjQ3MjE4ODUgMTUuOTg2ODk3MzEgLTUgMTQgQy01Ljg1NTE0NzQgOS42MjkyNDY2MSAtNC43NjA4MzQzNiA3LjI4MzU1ODE3IC0yLjUgMy42MjUgQy0xLjY3OTQ5NTggMi40MDc5MTg3NiAtMC44NTAyODE2NCAxLjE5NjQ2NzczIDAgMCBaICIgZmlsbD0iI0ZBRkJGQiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM1Nyw4MikiLz4KPHBhdGggZD0iTTAgMCBDMy45MDkzODcwMyAzLjczOTQxMzY4IDMuOTA5Mzg3MDMgMy43Mzk0MTM2OCA0LjEzMjgxMjUgNi44NDc2NTYyNSBDNC4xMzAyMzQzOCA3LjU3ODU1NDY5IDQuMTI3NjU2MjUgOC4zMDk0NTMxMyA0LjEyNSA5LjA2MjUgQzQuMTIzNzEwOTQgOS44NjU1ODU5NCA0LjEyMjQyMTg4IDEwLjY2ODY3MTg4IDQuMTIxMDkzNzUgMTEuNDk2MDkzNzUgQzQuMDAyNzk5MjggMTMuOTQyMTE4MSAzLjYyMDk4NDQgMTYuMjE4MTI5NDkgMy4xODc1IDE4LjYyNSBDMi43MDMyNTg3MiAyMi4yNzU5MjQ0MiAzLjIxMzk4MTIzIDIzLjg4MzIwMTQgNS40Mzc1IDI2LjgxMjUgQzUuOTEwNTg1OTQgMjcuMzM0NTcwMzEgNi4zODM2NzE4NyAyNy44NTY2NDA2MiA2Ljg3MTA5Mzc1IDI4LjM5NDUzMTI1IEM4IDMwIDggMzAgOCAzNCBDOC42NiAzNCA5LjMyIDM0IDEwIDM0IEM3Ljk4MzAzMjM0IDI5LjA1NjczNDA2IDcuOTgzMDMyMzQgMjkuMDU2NzM0MDYgNS4yNSAyNC41IEMzLjUwMjExMTMyIDIxLjAwNDIyMjYzIDQuMzAxODA1ODYgMTguODA4MzMxNjUgNSAxNSBDNS4yMjA5MzE1MSAxMC40OTc1NjgxMyA1LjIzOTU1NzQ5IDYuMzU4MTI2NzUgNCAyIEM3LjQ0NTAwNjYgNC45MzU2NjQyMyA3LjU3NDgyNDY0IDcuMjU3NDQyOTQgNy45Njg3NSAxMS41OTc2NTYyNSBDNy45OTg4MzUyIDEzLjkxMDQ1NTggNy43MDc4ODYzOCAxNS44NjYzODczNSA3LjI1IDE4LjEyNSBDNi45ODQxMjA2MSAyMi4yNDYxMzA1MyA3LjEwOTg0MDQyIDIyLjY4NTU3NDIyIDkuNDM3NSAyNS43NSBDOS45MTA1ODU5NCAyNi4yODEwOTM3NSAxMC4zODM2NzE4NyAyNi44MTIxODc1IDEwLjg3MTA5Mzc1IDI3LjM1OTM3NSBDMTIgMjkgMTIgMjkgMTIgMzMgQzE0LjMxIDMzLjY2IDE2LjYyIDM0LjMyIDE5IDM1IEMxOSAzNS45OSAxOSAzNi45OCAxOSAzOCBDMTkuNjM5Mzc1IDM4LjI4ODc1IDIwLjI3ODc1IDM4LjU3NzUgMjAuOTM3NSAzOC44NzUgQzIzIDQwIDIzIDQwIDI0IDQyIEMxOS4yNDAwNTc5OSA0OC4wNjgxMzc5OSAxMy45MjU3ODgzNiA1My40MjgxMzM2MyA3IDU3IEM0IDU2IDQgNTYgMi43OTY4NzUgNTMuOTI1NzgxMjUgQy0wLjc2MDI4NTczIDQ1LjA0NjE1MjQyIC0wLjc2MDI4NTczIDQ1LjA0NjE1MjQyIDEgNDAgQzEuNTE1NjI1IDM5LjE3NSAyLjAzMTI1IDM4LjM1IDIuNTYyNSAzNy41IEM0LjM4NzAyNzU2IDM0LjMyNjkwODU4IDQuNTE2NDQxMTggMzIuNjE1MDg4MjUgNCAyOSBDMy4zNCAyOC4wMzA2MjUgMi42OCAyNy4wNjEyNSAyIDI2LjA2MjUgQy0wLjQxMDU3NzgyIDIyLjM3MTMwMjcyIC0wLjQwODMyNzU1IDIwLjMyODI3MTk5IDAgMTYgQzAuMzMgMTUuMDEgMC42NiAxNC4wMiAxIDEzIEMxLjA5MjQ3MzgxIDExLjUyMzEzODg5IDEuMTI5OTkwNzEgMTAuMDQyMjQ0OTkgMS4xMjUgOC41NjI1IEMxLjEyODg2NzE5IDcuNDE5NzQ2MDkgMS4xMjg4NjcxOSA3LjQxOTc0NjA5IDEuMTMyODEyNSA2LjI1MzkwNjI1IEMxLjAwMjc2MDE1IDQuMDQ2ODQxNDEgMC42MDg1NjE5OSAyLjEyMDMwNzI0IDAgMCBaICIgZmlsbD0iIzI5N0Q1QiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM3NCw2MSkiLz4KPHBhdGggZD0iTTAgMCBDMCAyLjY0IDAgNS4yOCAwIDggQy0wLjk5IDcuNjcgLTEuOTggNy4zNCAtMyA3IEMtNi41NTg4MDA1MSA2LjYyNjg5OTk1IC05LjgyNzU4NTIyIDYuMzQwNTE2NjkgLTEzIDguMTI1IEMtMTQuNDYyMjEyMTcgMTAuODY2NjQ3ODEgLTE0LjMxODMzNzMzIDEyLjk0Mzk2MTYyIC0xNCAxNiBDLTEyLjMyMDg1NTg1IDE5LjIyNTQwMTU2IC0xMi4zMjA4NTU4NSAxOS4yMjU0MDE1NiAtOS4zMTI1IDE5Ljc1IEMtNS43MDcwOTgyNCAyMC4wMjIxMDU3OSAtMi41NTAxMDA2NiAxOS42MzkwMTgxMiAxIDE5IEMxIDIxLjMxIDEgMjMuNjIgMSAyNiBDLTYuMzQ1MjM2NzIgMjguMjcwMzQ1ODkgLTEyLjM4MTY4ODY4IDI4Ljg3NjE2MTQyIC0xOS4zNzUgMjUuMjUgQy0yMi44MjkzNDgyMSAyMi4yODkxMzAxIC0yNC42OTA4NzcyNCAyMC4yNzgzNDkyMiAtMjUuMzE2NDA2MjUgMTUuNjY3OTY4NzUgQy0yNS41ODIxMzY1MiA5Ljk1MDQ4MTkxIC0yNC45Njg0NzE1MiA2LjM5NzQ5NTQ3IC0yMSAyIEMtMTQuMTcwMDE0MTEgLTMuMjEyMzU3NjUgLTcuODE4OTkzNjcgLTEuODY5NzU5MzYgMCAwIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDAyLDU0KSIvPgo8cGF0aCBkPSJNMCAwIEMzIDMuMTkwMzcxOTkgMyAzLjE5MDM3MTk5IDMgNiBDLTAuMDkyNjI3NjcgNy41NDYzMTM4NCAtMy4zNjcwODkxIDcuMzkwNjA3MTYgLTYuNzg1MTU2MjUgNy42MjEwOTM3NSBDLTcuODgxNTAzOTEgNy44MDg2NTIzNCAtNy44ODE1MDM5MSA3LjgwODY1MjM0IC05IDggQy05LjMzIDguNjYgLTkuNjYgOS4zMiAtMTAgMTAgQy03LjY5IDEwLjMzIC01LjM4IDEwLjY2IC0zIDExIEMtMi40Mzc1IDEyLjkzNzUgLTIuNDM3NSAxMi45Mzc1IC0yIDE1IEMtMyAxNiAtMyAxNiAtNS4yODUxNTYyNSAxNi4wOTc2NTYyNSBDLTYuNjU5OTQxNDEgMTYuMDgwMjUzOTEgLTYuNjU5OTQxNDEgMTYuMDgwMjUzOTEgLTguMDYyNSAxNi4wNjI1IEMtOC45ODE2MDE1NiAxNi4wNTM0NzY1NiAtOS45MDA3MDMxMiAxNi4wNDQ0NTMxMyAtMTAuODQ3NjU2MjUgMTYuMDM1MTU2MjUgQy0xMS41NTc5Mjk2OSAxNi4wMjM1NTQ2OSAtMTIuMjY4MjAzMTMgMTYuMDExOTUzMTMgLTEzIDE2IEMtMTMuMzMgMTcuNjUgLTEzLjY2IDE5LjMgLTE0IDIxIEMtMTIuNzYyNSAyMC42NDkzNzUgLTExLjUyNSAyMC4yOTg3NSAtMTAuMjUgMTkuOTM3NSBDLTcuMDk2NzA4IDE5LjA0NDA2NzI3IC01LjEzMjI1ODM2IDE4Ljk5MTE4NzA2IC0yIDIwIEMtMS42NyAyMS4zMiAtMS4zNCAyMi42NCAtMSAyNCBDLTcuMDgzMDUwMzggMjguMTkwNTQ1ODIgLTExLjYyMjE1Nzc3IDI5Ljk3NTQ2ODkgLTE5IDI5IEMtMjEuMDYyNSAyNy4zNzUgLTIxLjA2MjUgMjcuMzc1IC0yMiAyNSBDLTIyLjU2NDA4OTkgMjAuMDM2MDA4OTIgLTIxLjQ2ODAwNjg0IDE1LjcxMzA3NDU4IC0yMCAxMSBDLTE4LjM3NSA5IC0xOC4zNzUgOSAtMTcgOCBDLTE3LjQ5NSA3LjU2Njg3NSAtMTcuOTkgNy4xMzM3NSAtMTguNSA2LjY4NzUgQy0yMCA1IC0yMCA1IC0yMCAyIEMtNi4wODE1NDUwNiAtMS4zMTY3MzgyIC02LjA4MTU0NTA2IC0xLjMxNjczODIgMCAwIFogIiBmaWxsPSIjMjIxRTIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2NTIsNzEpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIgMiAyIDIgMi4zMTI1IDUuMTg3NSBDMS45Njk4MjgxOCA5LjM2ODA5NjIyIDAuNjY2NjA4NjQgMTIuMTgwNjg4NTMgLTEgMTYgQy0xLjU4NzYzMjQ0IDIwLjExMzQyNzEgLTEuMzMwNDM1NTggMjEuNTA0MzQ2NjQgMSAyNSBDMy4zMzQ1ODYzNSAyOC41MDE4Nzk1MyAzLjY3MjYwNzI3IDI5Ljg4MDI4MDQ3IDMgMzQgQzEuOTUxMDA2NiAzNS43MTY1MzQ2NiAwLjkwMTI3NzI3IDM3LjQzMjcyNTk4IC0wLjE2Nzk2ODc1IDM5LjEzNjcxODc1IEMtMS43MTg2NTIyMiA0Mi42MDkzNzYxMSAtMC44MzU0ODQwOCA0NS4zNTk2NzY1MyAwIDQ5IEMwLjM1MDYyNSA0OS43MDEyNSAwLjcwMTI1IDUwLjQwMjUgMS4wNjI1IDUxLjEyNSBDMi4zODM4NTAwOCA1My43Njc3MDAxNyAyLjEzMjA5ODM3IDU2LjA5MzgzNTkxIDIgNTkgQzEuMDEgNTkgMC4wMiA1OSAtMSA1OSBDLTEuMjg4NzUgNTcuNzgzMTI1IC0xLjU3NzUgNTYuNTY2MjUgLTEuODc1IDU1LjMxMjUgQy0yLjQ4MDE5MTExIDUyLjgzMDc4MTA3IC0zLjEwNzk3MDM0IDUwLjc2NzAxMTM3IC00LjE4NzUgNDguNDM3NSBDLTUuMzQyMzE4NDQgNDQuOTczMDQ0NjggLTQuODE4NjU2ODYgNDIuNTI2NTIxODcgLTQgMzkgQy0zLjIyNjU2MjUgMzcuNzMxNTYyNSAtMy4yMjY1NjI1IDM3LjczMTU2MjUgLTIuNDM3NSAzNi40Mzc1IEMtMC42MTEwNTMyMSAzMy4zNDA0ODE1MiAtMC41NTY2MDA4MSAzMS41NDcxOTM1MyAtMSAyOCBDLTIuNDI2MjE2ODQgMjUuMjg4NzM2MTYgLTIuNDI2MjE2ODQgMjUuMjg4NzM2MTYgLTQgMjMgQy00IDIyLjM0IC00IDIxLjY4IC00IDIxIEMtNi45NyAyMSAtOS45NCAyMSAtMTMgMjEgQy0xNi44OTY3Nzg1MSAyNy4wMDIyMTQ0NSAtMTYuODk2Nzc4NTEgMjcuMDAyMjE0NDUgLTE3IDM0IEMtMTYuMzQgMzQuOTY5Mzc1IC0xNS42OCAzNS45Mzg3NSAtMTUgMzYuOTM3NSBDLTEyLjUzNTY0NjkzIDQwLjcxMTA0MDY0IC0xMi40NTUwODUxNiA0Mi41NjI4MzYyOCAtMTMgNDcgQy0xMy45MzU3ODk5NSA0OS4zNTk4MTgxMyAtMTQuOTMzNDc4MDggNTEuNjk2MzEyNjQgLTE2IDU0IEMtMTYuNjkxNDA1MjIgNTYuNzc4ODg2MTMgLTE2LjY5MTQwNTIyIDU2Ljc3ODg4NjEzIC0xNyA1OSBDLTE3Ljk5IDU5IC0xOC45OCA1OSAtMjAgNTkgQy0yMC4yNTgxMzMwMiA1NS4zODYxMzc3NCAtMjAuMTY4MTU2NjcgNTMuMzI5MzA2OCAtMTguNSA1MC4wNjI1IEMtMTYuNjczNDE0OTMgNDYuMzMzMjIyMTUgLTE2LjQ4NjE3MTMzIDQ0LjExMDYyOTM5IC0xNyA0MCBDLTE4LjMxNDMxNjk1IDM3Ljk4NzQ1MjE4IC0xOS42NDcyMTg4NSAzNS45ODY4OTczMSAtMjEgMzQgQy0yMS41IDMxIC0yMS41IDMxIC0yMSAyOCBDLTIwLjMxOTM3NSAyNy4wNzE4NzUgLTE5LjYzODc1IDI2LjE0Mzc1IC0xOC45Mzc1IDI1LjE4NzUgQy0xNi4yOTQzMTIzNCAyMC44MzkwMjk5NyAtMTYuODYxMjA4MTUgMTcuODI0MTczMzMgLTE4IDEzIEMtMTguNjU5OTY3OSAxMS4zMzA2Njk0MiAtMTkuMzI1NTg4NjkgOS42NjM1NDc5IC0yMCA4IEMtMjAuMTI1IDQuNjg3NSAtMjAuMTI1IDQuNjg3NSAtMjAgMiBDLTE5LjM0IDIgLTE4LjY4IDIgLTE4IDIgQy0xOCAyLjY2IC0xOCAzLjMyIC0xOCA0IEMtMTYuNjggNCAtMTUuMzYgNCAtMTQgNCBDLTE0IDQuNjYgLTE0IDUuMzIgLTE0IDYgQy0xNC45OSA2IC0xNS45OCA2IC0xNyA2IEMtMTUuOTcwMjgxNCAxMS4yMzU1MDE3NyAtMTUuOTcwMjgxNCAxMS4yMzU1MDE3NyAtMTMuNzUgMTYgQy0xMC45NzQxNDAxOSAxNy41ODYyMDU2MSAtOS4xMjcxMzUyNSAxNy41MTA1NTI2OSAtNiAxNyBDLTIuMzk2ODM5NzggMTMuNjg4OTg3OTEgLTEuNDQ3Mjk0NzYgMTAuODA4NDE4NyAtMSA2IEMtMy4zMSA2LjMzIC01LjYyIDYuNjYgLTggNyBDLTguMDQyNzIxIDUuMzMzODgwOTUgLTguMDQwNjM4MzIgMy42NjYxNzExNSAtOCAyIEMtNS45NTQ0Nzk1OCAtMC4wNDU1MjA0MiAtMi43Mjk0MTkxNCAwLjIzOTQyMjczIDAgMCBaICIgZmlsbD0iIzIyNzg1NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM3MCw2MikiLz4KPHBhdGggZD0iTTAgMCBDMC45NDg3NSAwLjY2IDEuODk3NSAxLjMyIDIuODc1IDIgQzMuMzAxNTM3MjcgNi4zNTA2ODAxOCAzLjQ1MjcyODcyIDguMjkzODg3MTIgMC42MjUgMTEuNzUgQy0wLjI4MjUgMTIuNDkyNSAtMS4xOSAxMy4yMzUgLTIuMTI1IDE0IEMtMi43MDYzNjcxOSAxNC41MTY5MTQwNiAtMy4yODc3MzQzOCAxNS4wMzM4MjgxMiAtMy44ODY3MTg3NSAxNS41NjY0MDYyNSBDLTYuNzk2MjA2MzYgMTcuNDI5OTAwMDYgLTkuMjc0ODQ0NzUgMTcuNzMzMjU1NzkgLTEyLjY4NzUgMTguMTg3NSBDLTEzLjgyMzE2NDA2IDE4LjM0NjA1NDY5IC0xNC45NTg4MjgxMiAxOC41MDQ2MDkzOCAtMTYuMTI4OTA2MjUgMTguNjY3OTY4NzUgQy0xOS4xMjUgMTkgLTE5LjEyNSAxOSAtMjIuMTI1IDE5IEMtMjMuOTMxNDYxMTggMTUuMzg3MDc3NjQgLTI1LjEyNSAxMi45OTMwMDYgLTI1LjEyNSA4LjkzNzUgQy0yMy41NjkwNzIyNyA0LjM2Njk2MjI5IC0yMS4wMzM3Mjg5IDEuMTk5NzcyNDUgLTE2LjkzNzUgLTEuMzc1IEMtMTEuMDE1MDAyNTMgLTIuNjkxMTEwNTUgLTUuMzkzODE5MTMgLTMuMDkxNTc5MjYgMCAwIFogTS0xOC4xMjUgNSBDLTE4Ljc4NSA2LjMyIC0xOS40NDUgNy42NCAtMjAuMTI1IDkgQy0xOC44MDUgNy42OCAtMTcuNDg1IDYuMzYgLTE2LjEyNSA1IEMtMTYuNzg1IDUgLTE3LjQ0NSA1IC0xOC4xMjUgNSBaIE0tMTIuMTI1IDkgQy0xMy45NTgwMDkwOSAxMS4xMDU3NTY0MyAtMTMuOTU4MDA5MDkgMTEuMTA1NzU2NDMgLTE1LjEyNSAxMyBDLTkuMzI4NzM4OTMgMTIuNjAwMjU3ODYgLTUuNzEwMjc1MzcgMTEuODk3NDg0MDcgLTEuMTI1IDggQy0xLjEyNSA3LjAxIC0xLjEyNSA2LjAyIC0xLjEyNSA1IEMtNS45NTc3NzI2OCA0LjQzMTQzODUxIC04LjM2ODA4Njg2IDYuMDU5ODA3MTEgLTEyLjEyNSA5IFogIiBmaWxsPSIjMjIxRTIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1ODUuMTI1LDQ5KSIvPgo8cGF0aCBkPSJNMCAwIEMyLjk3IDAgNS45NCAwIDkgMCBDOS4zMyAxLjMyIDkuNjYgMi42NCAxMCA0IEMxMC41MTU2MjUgMy4zNCAxMS4wMzEyNSAyLjY4IDExLjU2MjUgMiBDMTQuODI2NDEzMTkgLTAuNjc4MDgyNjIgMTYuODgzOTk1MjUgLTAuMzgxMTExNTUgMjEgMCBDMjEuNjYgMC4zMyAyMi4zMiAwLjY2IDIzIDEgQzIyLjY3IDMuNjQgMjIuMzQgNi4yOCAyMiA5IEMxOSAxMCAxOSAxMCAxNy4wNjI1IDkuMzEyNSBDMTYuMzgxODc1IDkuMjA5Mzc1IDE1LjcwMTI1IDkuMTA2MjUgMTUgOSBDMTEuNjQ5OTE3OTUgMTEuNzc1NzgyMjcgMTAuMTM2Mzk1ODYgMTMuNjg5OTI2MiA5LjY4MzU5Mzc1IDE4LjAzOTA2MjUgQzkuNjAyMzgyODEgMTkuMjIyNDIxODcgOS41MjExNzE4OCAyMC40MDU3ODEyNSA5LjQzNzUgMjEuNjI1IEM5LjM1MzcxMDk0IDIyLjgxMzUxNTYzIDkuMjY5OTIxODcgMjQuMDAyMDMxMjUgOS4xODM1OTM3NSAyNS4yMjY1NjI1IEM5LjEyMzAwNzgxIDI2LjE0MTc5Njg3IDkuMDYyNDIxODcgMjcuMDU3MDMxMjUgOSAyOCBDNi4wMyAyOCAzLjA2IDI4IDAgMjggQzAgMTguNzYgMCA5LjUyIDAgMCBaICIgZmlsbD0iIzAwODQyOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjE3Niw1MykiLz4KPHBhdGggZD0iTTAgMCBDMC40OTUgMS40ODUgMC40OTUgMS40ODUgMSAzIEMwLjAxIDMuOTkgLTAuOTggNC45OCAtMiA2IEMtMi43MjcwMzEyNSA1LjczNDQ1MzEzIC0zLjQ1NDA2MjUgNS40Njg5MDYyNSAtNC4yMDMxMjUgNS4xOTUzMTI1IEMtMjUuMTQ4Njk1MTMgLTIuMTYyNDkwMzQgLTQ1LjE2MzM2MjQ5IC0xLjA2MjQxOCAtNjYgNiBDLTY2LjMzIDQuMzUgLTY2LjY2IDIuNyAtNjcgMSBDLTQ4Ljc3Mzk1ODUzIC05LjkzNTYyNDg4IC0xOC43MTE0Nzg5MyAtOC4zODU4NDYyMiAwIDAgWiAiIGZpbGw9IiNFODIwMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4MjAsMzUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuNjYgMCAxLjMyIDAgMiAwIEMyLjMzIDEuNjUgMi42NiAzLjMgMyA1IEM0LjY1IDUgNi4zIDUgOCA1IEM3LjAxIDYuNDg1IDcuMDEgNi40ODUgNiA4IEM1LjgzMjg2NDMxIDEwLjYyNTMxNTI0IDUuODMyODY0MzEgMTAuNjI1MzE1MjQgNiAxMyBDNi45MDc1IDEyLjQ4NDM3NSA3LjgxNSAxMS45Njg3NSA4Ljc1IDExLjQzNzUgQzEyIDEwIDEyIDEwIDE0LjM3NSAxMC4zMTI1IEMxNC45MTEyNSAxMC41MzkzNzUgMTUuNDQ3NSAxMC43NjYyNSAxNiAxMSBDMTUuNjcgMTIuMzIgMTUuMzQgMTMuNjQgMTUgMTUgQzE2Ljk4IDE0LjY3IDE4Ljk2IDE0LjM0IDIxIDE0IEMxOS42OCAxNi42NCAxOC4zNiAxOS4yOCAxNyAyMiBDMTYuMjM4MTY0MDYgMjEuNzgzNDM3NSAxNS40NzYzMjgxMyAyMS41NjY4NzUgMTQuNjkxNDA2MjUgMjEuMzQzNzUgQzMuNTQ5MjExNDUgMTguMzM5MTEzMiAtMy45OTQ5NjA1MyAxOC41NDQyMTE5MSAtMTUgMjIgQy0xNi4zMiAxOS4zNiAtMTcuNjQgMTYuNzIgLTE5IDE0IEMtMTYuNjkgMTQuMzMgLTE0LjM4IDE0LjY2IC0xMiAxNSBDLTEyLjY2IDEzLjM1IC0xMy4zMiAxMS43IC0xNCAxMCBDLTEwLjI4MTExNzYxIDEwLjUwNzEyMDMzIC03LjI2NTQ1NzYxIDExLjExNjA4MjE1IC00IDEzIEMtMy43OTkxMzU1NyA5LjI4NDAwODA5IC0zLjg0ODA1NjMgOC4yMjc5MTU1NSAtNiA1IEMtNC4zNSA1IC0yLjcgNSAtMSA1IEMtMC42NyAzLjM1IC0wLjM0IDEuNyAwIDAgWiAiIGZpbGw9IiNGM0Y4RjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNjAsMzcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuNzQyMTY3OTcgMC4wNTQxNDA2MyAxLjc0MjE2Nzk3IDAuMDU0MTQwNjMgMy41MTk1MzEyNSAwLjEwOTM3NSBDNC4zOTk5NjA5NCAwLjE1NTc4MTI1IDUuMjgwMzkwNjMgMC4yMDIxODc1IDYuMTg3NSAwLjI1IEM1Ljg1NzUgMS45IDUuNTI3NSAzLjU1IDUuMTg3NSA1LjI1IEMzLjIwNzUgNS41OCAxLjIyNzUgNS45MSAtMC44MTI1IDYuMjUgQy0xLjA1MDMzMjAzIDcuMzU0MDgyMDMgLTEuMDUwMzMyMDMgNy4zNTQwODIwMyAtMS4yOTI5Njg3NSA4LjQ4MDQ2ODc1IEMtMi43NDE2MTc3NyAxNC41MzkxODMxOCAtMy44MTM2MDk0MSAxOC40MDQ2OTk1NSAtOC44MTI1IDIyLjI1IEMtMTEuNTc3MDIwMzMgMjMuNjMyMjYwMTYgLTEzLjg1ODYzNjMgMjMuMzQ1MjUzODcgLTE2LjkzNzUgMjMuMzEyNSBDLTE4LjAzMzIwMzEyIDIzLjMwMzQ3NjU2IC0xOS4xMjg5MDYyNSAyMy4yOTQ0NTMxMyAtMjAuMjU3ODEyNSAyMy4yODUxNTYyNSBDLTIxLjUyMjM4MjgxIDIzLjI2Nzc1MzkxIC0yMS41MjIzODI4MSAyMy4yNjc3NTM5MSAtMjIuODEyNSAyMy4yNSBDLTIyLjQ4MjUgMjEuNiAtMjIuMTUyNSAxOS45NSAtMjEuODEyNSAxOC4yNSBDLTE5LjgzMjUgMTcuOTIgLTE3Ljg1MjUgMTcuNTkgLTE1LjgxMjUgMTcuMjUgQy0xNS41ODE3NTc4MSAxNi4zNTc5Njg3NSAtMTUuMzUxMDE1NjIgMTUuNDY1OTM3NSAtMTUuMTEzMjgxMjUgMTQuNTQ2ODc1IEMtMTQuNzg3MTQ4NDQgMTMuMzc2NDA2MjUgLTE0LjQ2MTAxNTYzIDEyLjIwNTkzNzUgLTE0LjEyNSAxMSBDLTEzLjgxMTc1NzgxIDkuODM5ODQzNzUgLTEzLjQ5ODUxNTYyIDguNjc5Njg3NSAtMTMuMTc1NzgxMjUgNy40ODQzNzUgQy0xMC40NDExMzY5OSAwLjk5NjQ1MTA5IC02Ljc2ODAwODc1IC0wLjI3MzQ1NDkgMCAwIFogIiBmaWxsPSIjRjVGOUY2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDM2LjgxMjUsODQuNzUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuOTcgMCA1Ljk0IDAgOSAwIEM5IDkuMjQgOSAxOC40OCA5IDI4IEM2LjAzIDI4IDMuMDYgMjggMCAyOCBDMCAxOC43NiAwIDkuNTIgMCAwIFogIiBmaWxsPSIjMDA4NDJBIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDk5LDUzKSIvPgo8cGF0aCBkPSJNMCAwIEM0LjgwODE5NTIyIDAuMDEzNzU3MzUgNC44MDgxOTUyMiAwLjAxMzc1NzM1IDcuODEyNSAyLjg3NSBDOC40OTMxMjUgNC4xMTI1IDguNDkzMTI1IDQuMTEyNSA5LjE4NzUgNS4zNzUgQzYuODc3NSA1LjcwNSA0LjU2NzUgNi4wMzUgMi4xODc1IDYuMzc1IEMxLjg1NzUgOC4wMjUgMS41Mjc1IDkuNjc1IDEuMTg3NSAxMS4zNzUgQzQuNjUyNSAxMC44OCA0LjY1MjUgMTAuODggOC4xODc1IDEwLjM3NSBDOC42ODA5ODE3NSAxNC41MjAyNDY3MSA4LjMyNjA0MzA3IDE2LjE1NDk2MSA2LjA2MjUgMTkuNzUgQzMuMTg3NSAyMi4zNzUgMy4xODc1IDIyLjM3NSAwLjE4NzUgMjMuMTI1IEMtNC4xMzU1MDE1OSAyMi4wNDQyNDk2IC01LjQ3Mjc4ODMxIDIwLjA5MTAxMjY4IC03LjgxMjUgMTYuMzc1IEMtOC4xMjUgMTMgLTguMTI1IDEzIC03LjgxMjUgMTAuMzc1IEMtNS41MDI1IDEwLjM3NSAtMy4xOTI1IDEwLjM3NSAtMC44MTI1IDEwLjM3NSBDLTEuMTQyNSA5LjA1NSAtMS40NzI1IDcuNzM1IC0xLjgxMjUgNi4zNzUgQy00Ljc4MjUgNS44OCAtNC43ODI1IDUuODggLTcuODEyNSA1LjM3NSBDLTUuNjI4MjEwMTUgMC44NjA4MDA5NyAtNS4wOTkzMDg2NyAwLjE5NDExNzE3IDAgMCBaICIgZmlsbD0iI0U1RUZFQiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM2MC44MTI1LDU3LjYyNSkiLz4KPHBhdGggZD0iTTAgMCBDMTUuNTEgMCAzMS4wMiAwIDQ3IDAgQzQ3IDEuNjUgNDcgMy4zIDQ3IDUgQzMxLjQ5IDUgMTUuOTggNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1OTUsNzIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzQuNjIgMCA5LjI0IDAgMTQgMCBDMTQgMS4zMiAxNCAyLjY0IDE0IDQgQzEwLjcgNCA3LjQgNCA0IDQgQzQgNS45OCA0IDcuOTYgNCAxMCBDNy4zIDEwIDEwLjYgMTAgMTQgMTAgQzE0IDExLjMyIDE0IDEyLjY0IDE0IDE0IEMxMC43IDE0IDcuNCAxNCA0IDE0IEM0IDE1Ljk4IDQgMTcuOTYgNCAyMCBDNy4zIDIwIDEwLjYgMjAgMTQgMjAgQzE0LjMzIDIxLjMyIDE0LjY2IDIyLjY0IDE1IDI0IEMxMC4wNSAyNCA1LjEgMjQgMCAyNCBDMCAxNi4wOCAwIDguMTYgMCAwIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDU2LDg1KSIvPgo8cGF0aCBkPSJNMCAwIEMxNC41MiAwIDI5LjA0IDAgNDQgMCBDNDMuMzQgMS42NSA0Mi42OCAzLjMgNDIgNSBDMjguMTQgNSAxNC4yOCA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzFFNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU0MSw5NCkiLz4KPHBhdGggZD0iTTAgMCBDMTMuODYgMCAyNy43MiAwIDQyIDAgQzQyLjY2IDEuNjUgNDMuMzIgMy4zIDQ0IDUgQzI5LjQ4IDUgMTQuOTYgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NDEsNTcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuOTUxOTMyMjEgNS44NTU3OTY2MyAzLjYyOTIyNzk1IDE1LjU1OTg2NzYxIDAuOTE0MDYyNSAyMS4yOTI5Njg3NSBDMC40NDc0MjE4NyAyMS44MzU2NjQwNiAtMC4wMTkyMTg3NSAyMi4zNzgzNTkzOCAtMC41IDIyLjkzNzUgQy0zLjIyMjkwNTM0IDI1LjY1Mjg1NDI2IC0zLjIyMjkwNTM0IDI1LjY1Mjg1NDI2IC0zLjExMzI4MTI1IDI4LjQwNjI1IEMtMi44NDc1MjI1NiAzMC42NDI3NjQ2OSAtMi41MDI2MTIyNCAzMi44MDU0MjU3OCAtMiAzNSBDLTYuNjI1IDM4IC02LjYyNSAzOCAtMTAgMzggQy0xMC4zMyAzOS4zMiAtMTAuNjYgNDAuNjQgLTExIDQyIEMtMTIuMzIgNDIgLTEzLjY0IDQyIC0xNSA0MiBDLTE2LjcwMzEyNSA0MC4xMDE1NjI1IC0xNi43MDMxMjUgNDAuMTAxNTYyNSAtMTguMjUgMzcuNjI1IEMtMTguNzcwNzgxMjUgMzYuODEyODkwNjIgLTE5LjI5MTU2MjUgMzYuMDAwNzgxMjUgLTE5LjgyODEyNSAzNS4xNjQwNjI1IEMtMjEgMzMgLTIxIDMzIC0yMSAzMSBDLTE4LjA5NDUxMTE4IDI4Ljk1ODMwNTE1IC0xNi41OTg1Nzk1NCAyOCAtMTMgMjggQy0xMyAyOC45OSAtMTMgMjkuOTggLTEzIDMxIEMtMTAuMDI5ODIzMDYgMzAuMzcxODk4MjcgLTEwLjAyOTgyMzA2IDMwLjM3MTg5ODI3IC03IDI5IEMtNS44MDE2MTc5MSAyNi42NzE0NTUzNyAtNS44MDE2MTc5MSAyNi42NzE0NTUzNyAtNSAyNCBDLTQuMzI1ODIwMzEgMjMuMjk4NzUgLTMuNjUxNjQwNjMgMjIuNTk3NSAtMi45NTcwMzEyNSAyMS44NzUgQy0wLjI3MTkxNzk2IDE3LjkzMDQwMjQ0IC0wLjU4MDIxNDc2IDE0Ljk1NDI2NzczIC0wLjgxMjUgMTAuMzEyNSBDLTEuMDkwOTg5MDUgMi4xODE5NzgxMSAtMS4wOTA5ODkwNSAyLjE4MTk3ODExIDAgMCBaICIgZmlsbD0iI0VCRjNFRiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM0Miw2NSkiLz4KPHBhdGggZD0iTTAgMCBDLTAuNDAyODE3NzEgNS44NDA4NTY3NCAtMS4xMTI3NzkgOS4zNzczNTg4MSAtNSAxNCBDLTguMjkwNzY2NiAxNi43MTg0NTkzNyAtMTAuMDk2NDA4NjQgMTcuOTMzMDY3MzEgLTE0LjM3NSAxOC4yNSBDLTE1LjI0MTI1IDE4LjE2NzUgLTE2LjEwNzUgMTguMDg1IC0xNyAxOCBDLTE2LjY2ODA5NTE4IDExLjY5MzgwODQyIC0xNS41MDUxNjQ5NyA3LjU2NTU1NTkzIC0xMSAzIEMtNy4yMTg5MzIxOCAwLjU1ODA2MDM3IC00LjQ5MzYzOTc2IC0wLjM5NjQ5NzYzIDAgMCBaICIgZmlsbD0iIzAwMDAwMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzQ1LDM3KSIvPgo8cGF0aCBkPSJNMCAwIEM0Ljc1MDUzNTExIC0wLjA3NDM1MjIyIDkuNTAwNzI4ODcgLTAuMTI4Njk2OTEgMTQuMjUxNzA4OTggLTAuMTY0Nzk0OTIgQzE1Ljg2NjY3Nzg5IC0wLjE3OTg0ODc2IDE3LjQ4MTYwNjEzIC0wLjIwMDI5NjQ4IDE5LjA5NjQzNTU1IC0wLjIyNjMxODM2IEMyMS40MjI0NjU1NSAtMC4yNjI4NTI4NiAyMy43NDc5NTM0MSAtMC4yNzk3NjAxNSAyNi4wNzQyMTg3NSAtMC4yOTI5Njg3NSBDMjcuMTUxMDcxODUgLTAuMzE2MTk0NTMgMjcuMTUxMDcxODUgLTAuMzE2MTk0NTMgMjguMjQ5Njc5NTcgLTAuMzM5ODg5NTMgQzMyLjY1ODMwNTk5IC0wLjM0MTM1Nzg4IDM1LjUyNjI3Nzc5IDAuMjE1ODYwOTQgMzkgMyBDMzkgMy42NiAzOSA0LjMyIDM5IDUgQzI2LjEzIDUgMTMuMjYgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NDEsNTApIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuNjYgMCAxLjMyIDAgMiAwIEM1LjE4NDE5OTU5IDMuNzk2NTQ1NjcgNS4zODczNDU0OCA3LjExNjc2MjIgNS4yMzgyODEyNSAxMS44NjMyODEyNSBDNC45NDYwNDkxMyAxNC40ODM3ODg5NyA0LjA0MjM4MTk1IDE2LjU4OTQ5MTczIDMgMTkgQzIuNDgyMDk2ODIgMjMuMDU2OTA4MjUgMi42OTk5NDI5NCAyNC41NDk5MTQ0MSA1IDI4IEM3LjMzNDU4NjM1IDMxLjUwMTg3OTUzIDcuNjcyNjA3MjcgMzIuODgwMjgwNDcgNyAzNyBDNi4zNDg5OTE3IDM4LjE2Njk1MjY0IDUuNjU4MzE0NjEgMzkuMzEyMzI1OTggNC45Mzc1IDQwLjQzNzUgQzMuMTY4MTQxMTcgNDMuMjg2MDQyMjIgMi45OTk2OTkxNiA0My45ODI4NTIyOSAzLjA2MjUgNDcuNTYyNSBDNC4wMDI5NTg2MSA1MS4wMTA4NDgyMyA1LjM3ODg4Njc3IDUzLjgyODI1NjcyIDcgNTcgQzcgNTguMzIgNyA1OS42NCA3IDYxIEM1LjAyIDYxLjQ5NSA1LjAyIDYxLjQ5NSAzIDYyIEMyLjcxMTI1IDYwLjc4MzEyNSAyLjQyMjUgNTkuNTY2MjUgMi4xMjUgNTguMzEyNSBDMS41MTk4MDg4OSA1NS44MzA3ODEwNyAwLjg5MjAyOTY2IDUzLjc2NzAxMTM3IC0wLjE4NzUgNTEuNDM3NSBDLTEuMzQyMzE4NDQgNDcuOTczMDQ0NjggLTAuODE4NjU2ODYgNDUuNTI2NTIxODcgMCA0MiBDMC43NzM0Mzc1IDQwLjczMTU2MjUgMC43NzM0Mzc1IDQwLjczMTU2MjUgMS41NjI1IDM5LjQzNzUgQzMuNDExMzY2MjEgMzYuMzAyNDY1OTkgMy41MTMyNzU5MiAzNC41OTI5MzE0MSAzIDMxIEMyLjM0IDMwLjAxIDEuNjggMjkuMDIgMSAyOCBDLTEuMzMwNDM1NTggMjQuNTA0MzQ2NjQgLTEuNTg3NjMyNDQgMjMuMTEzNDI3MSAtMSAxOSBDLTAuNTA1IDE3Ljg2NTYyNSAtMC4wMSAxNi43MzEyNSAwLjUgMTUuNTYyNSBDMi41NDM3NjAwOCAxMC43MDg1Njk4MSAyLjY5NzAxMDU0IDcuMDQ3NDY4NDUgMSAyLjA2MjUgQzAuNjcgMS4zODE4NzUgMC4zNCAwLjcwMTI1IDAgMCBaICIgZmlsbD0iI0U5RjFFRSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM2OSw1OSkiLz4KPHBhdGggZD0iTTAgMCBDMS4zMiAwLjMzIDIuNjQgMC42NiA0IDEgQzUuMTU2NjQ3MzcgNi40ODI2OTA2OSA1LjExNDE2MjU1IDExLjgwMzM5Mjc0IDUuMDYyNSAxNy4zNzUgQzUuMDU3OTg4MjggMTguMzAxODM1OTQgNS4wNTM0NzY1NiAxOS4yMjg2NzE4OCA1LjA0ODgyODEyIDIwLjE4MzU5Mzc1IEM1LjAzNzExNTc0IDIyLjQ1NTc5NzA5IDUuMDIwNzEzNzIgMjQuNzI3ODYzODggNSAyNyBDMy4zNSAyNy4zMyAxLjcgMjcuNjYgMCAyOCBDLTIuNjA1MTM5NTkgMjQuMDkyMjkwNjIgLTIuMjkzNjc1NjUgMjAuNzc3NzA5MjEgLTIuMjUgMTYuMjUgQy0yLjI1NzczNDM4IDE1LjQ2MzY3MTg4IC0yLjI2NTQ2ODc1IDE0LjY3NzM0Mzc1IC0yLjI3MzQzNzUgMTMuODY3MTg3NSBDLTIuMjU2ODM4MzYgOC44NzA4NDc1NSAtMS41OTU2NjE5NSA0LjczNjMyOTkxIDAgMCBaICIgZmlsbD0iIzIyMUUyMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTY5LDcxKSIvPgo8cGF0aCBkPSJNMCAwIEMxLjY3NTQyOTc2IDAuMjg2MDQ4OTggMy4zNDM4NTM0MyAwLjYxNzgxMjMzIDUgMSBDNi4wNjgwODM3NCA3LjI3NDk5MTk3IDcuMDQzNjc4MzkgMTMuODY4OTY0ODMgNSAyMCBDNC40NDQ5NTIwOSAyNS44ODM1MDc4OCA1Ljc0ODA2MTcyIDI4LjIyMzcxNTY1IDkgMzMgQzkuNjgyNDU2MDcgMzcuMDA5NDI5NCA5LjA2MjU0MzA2IDM5LjEyMDM1OTYxIDYuOTM3NSA0Mi40Mzc1IEM1LjE4NzQ3ODQxIDQ1LjI2MTExNjM5IDQuOTk5MzU1NTggNDUuOTYzOTEyNyA1LjA2MjUgNDkuNSBDNi4wNjQxNTYzNSA1My4yMzk1MTcwMiA3LjQxMDgyMDg0IDU2LjQ3NjE2Nzk1IDkgNjAgQzkgNjAuNjYgOSA2MS4zMiA5IDYyIEM4LjAxIDYyIDcuMDIgNjIgNiA2MiBDNS4xMjcyMDEzOCA2MC4xMzM2MDAxOSA0LjI3NzQ4OTczIDU4LjI1NjM5Mzg5IDMuNDM3NSA1Ni4zNzUgQzIuOTYxODM1OTQgNTUuMzMwODU5MzggMi40ODYxNzE4OCA1NC4yODY3MTg3NSAxLjk5NjA5Mzc1IDUzLjIxMDkzNzUgQzAuODc4NDcyMzMgNDkuNjA4MjUxOTcgMS4wMTg2Mjk2NiA0Ny42MDg1ODA1MSAyIDQ0IEMyLjUxNTYyNSA0My4xNzUgMy4wMzEyNSA0Mi4zNSAzLjU2MjUgNDEuNSBDNS4zODcwMjc1NiAzOC4zMjY5MDg1OCA1LjUxNjQ0MTE4IDM2LjYxNTA4ODI1IDUgMzMgQzQuMzE5Mzc1IDMyLjA3MTg3NSAzLjYzODc1IDMxLjE0Mzc1IDIuOTM3NSAzMC4xODc1IEMwLjMyMzM1MDI2IDI1Ljg4NjgwMjA0IDAuODgyMTgxNzcgMjIuNzc3MDAxIDIgMTggQzIuMzMgMTcuMzQgMi42NiAxNi42OCAzIDE2IEMzLjQxNzQwMjY4IDExLjA1OTExNzE1IDMuNDg3NDY4NzMgNi40MjIxNjY2NCAxIDIgQzAuMzQgMS42NyAtMC4zMiAxLjM0IC0xIDEgQy0wLjY3IDAuNjcgLTAuMzQgMC4zNCAwIDAgWiAiIGZpbGw9IiMxRDc1NTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzAsNTcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuMzMgMC42NiAwLjY2IDEuMzIgMSAyIEMwLjY3IDIuNjYgMC4zNCAzLjMyIDAgNCBDMC4wMjM3OTA0IDYuMzExMDc4NzggMC4wMjM3OTA0IDYuMzExMDc4NzggMC4zMTI1IDguODc1IEMwLjM5MTEzMjgxIDkuNzM4NjcxODcgMC40Njk3NjU2MyAxMC42MDIzNDM3NSAwLjU1MDc4MTI1IDExLjQ5MjE4NzUgQzEuMDAzMjA3MjQgMTQuMDE3OTA0NzUgMS44MTI2MDgzMyAxNS43NDgyMTM0IDMgMTggQzMuNzA0NDkyODkgMjMuNDAxMTEyMTcgMS45Mjk0NDIzOSAyNS42MDU4MzY0MiAtMSAzMCBDLTEuNjc4NzgwNTkgMzQuMDcyNjgzNTYgLTEuMzQxNzI0MDYgMzUuNDk4MDkyNzkgMSAzOC45Mzc1IEMzLjQ1MjU5MTI5IDQyLjY5MzAzMDQxIDMuNTUxNTQyOTEgNDQuNTg3NjU2NyAzIDQ5IEMyLjA2NTUzNDY1IDUxLjAzMTQ0NjQxIDEuMDY3NzUyMjQgNTMuMDM1MzM1ODcgMCA1NSBDLTAuNjk5MDc0MTQgNTcuNzM1NzI1ODUgLTAuNjk5MDc0MTQgNTcuNzM1NzI1ODUgLTEgNjAgQy0yLjMyIDU5LjY3IC0zLjY0IDU5LjM0IC01IDU5IEMtNC41MjI2OTE2MiA1Ny41NDEwNTc0IC00LjA0MzA4OTU4IDU2LjA4Mjg2NTA0IC0zLjU2MjUgNTQuNjI1IEMtMy4xNjIyNDYwOSA1My40MDY4MzU5NCAtMy4xNjIyNDYwOSA1My40MDY4MzU5NCAtMi43NTM5MDYyNSA1Mi4xNjQwNjI1IEMtMiA1MCAtMiA1MCAtMSA0OCBDLTAuNTQzMTA3NzYgNDQuMDcwNzI2NzUgLTAuOTU5NzA3MDkgNDEuNzM5NDU4MTMgLTMgMzguNDM3NSBDLTUuNzU4MjkzODQgMzMuNjk2NjgyNDYgLTUuNzU4MjkzODQgMzMuNjk2NjgyNDYgLTUgMzAgQy00LjM0IDI5LjA1MTI1IC0zLjY4IDI4LjEwMjUgLTMgMjcuMTI1IEMtMC41ODgzOTUzIDIzLjM1Njg2NzY2IC0wLjUyMDEwNzIzIDIxLjM5OTAxNzAyIC0xIDE3IEMtMS4zMyAxNi4xOTU2MjUgLTEuNjYgMTUuMzkxMjUgLTIgMTQuNTYyNSBDLTMuNDY1MDU4MjkgMTAuODA4Mjg4MTIgLTMuMzIwMjAxNTkgOC4wMzQ1NDAwMiAtMyA0IEMtMS41IDEuNSAtMS41IDEuNSAwIDAgWiAiIGZpbGw9IiNGMUY2RjQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNTEsNjApIi8+CjxwYXRoIGQ9Ik0wIDAgQzMgMSAzIDEgNSA0IEM1IDQuOTkgNSA1Ljk4IDUgNyBDNS42NiA2LjY3IDYuMzIgNi4zNCA3IDYgQzguNTQwMjM5OTYgNS45MzA0OTQ1OSAxMC4wODMzNDk4OCA1LjkxNTQ3NjQzIDExLjYyNSA1LjkzNzUgQzEyLjg1MDg5ODQ0IDUuOTUxMDM1MTYgMTIuODUwODk4NDQgNS45NTEwMzUxNiAxNC4xMDE1NjI1IDUuOTY0ODQzNzUgQzE1LjA0MTI4OTA2IDUuOTgyMjQ2MDkgMTUuMDQxMjg5MDYgNS45ODIyNDYwOSAxNiA2IEMxNS4yMzY4NzUgNi43NDI1IDE0LjQ3Mzc1IDcuNDg1IDEzLjY4NzUgOC4yNSBDMTEuMDU1OTU5NzIgMTAuNzU4MDE3NDUgMTEuMDU1OTU5NzIgMTAuNzU4MDE3NDUgOS42NTIzNDM3NSAxMy4wOTc2NTYyNSBDNy41MTM0ODk4OSAxNS41NjAxMTkyIDYuMDYwMDUxNDUgMTUuNzE4NTYzODUgMi44NzUgMTYuMTg3NSBDLTAuMzYzMTQzNTQgMTYuNDU4MzM3OTMgLTAuMzYzMTQzNTQgMTYuNDU4MzM3OTMgLTMgMTggQy00LjY2NjE3MTE1IDE4LjA0MDYzODMyIC02LjMzMzg4MDk1IDE4LjA0MjcyMSAtOCAxOCBDLTcuMjU5NDMzNTkgMTYuOTMwNzIyNjYgLTcuMjU5NDMzNTkgMTYuOTMwNzIyNjYgLTYuNTAzOTA2MjUgMTUuODM5ODQzNzUgQy0xLjU0NzYwNyA4LjUwMTAxOTAzIC0xLjU0NzYwNyA4LjUwMTAxOTAzIDAgMCBaICIgZmlsbD0iI0VGRjVGMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMyNiw1NSkiLz4KPHBhdGggZD0iTTAgMCBDMS44NzUgMS4xMjUgMS44NzUgMS4xMjUgMyAzIEMzLjY4NzUgNi4xODc1IDMuNjg3NSA2LjE4NzUgNCA5IEMwLjM3IDkgLTMuMjYgOSAtNyA5IEMtNi4wMSA5Ljk5IC01LjAyIDEwLjk4IC00IDEyIEMtMC4zNTQ1ODE1NSAxMS43NjUyMjgwMSAtMC4zNTQ1ODE1NSAxMS43NjUyMjgwMSAzIDExIEMyLjY3IDEyLjY1IDIuMzQgMTQuMyAyIDE2IEMtNC4yNDE1OTc5NyAxNy4zNDYyMjcwMSAtNC4yNDE1OTc5NyAxNy4zNDYyMjcwMSAtNy44NzUgMTUuNjg3NSBDLTEwIDE0IC0xMCAxNCAtMTEgMTIgQy0xMS41NzE0Mjg1NyA0LjkxNDI4NTcxIC0xMS41NzE0Mjg1NyA0LjkxNDI4NTcxIC05LjQzNzUgMS41IEMtNi4wODk2NTY1MSAtMC41NjAyMTEzOCAtMy44NTk4NTc1MyAtMC40OTEyNTQ1OSAwIDAgWiBNLTUgMyBDLTUuOTkgNC40ODUgLTUuOTkgNC40ODUgLTcgNiBDLTQuNjkgNiAtMi4zOCA2IDAgNiBDLTAuNjYgNS4wMSAtMS4zMiA0LjAyIC0yIDMgQy0yLjk5IDMgLTMuOTggMyAtNSAzIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTAwLDkzKSIvPgo8cGF0aCBkPSJNMCAwIEMxMC44OSAwIDIxLjc4IDAgMzMgMCBDMzIuNjcgMS4zMiAzMi4zNCAyLjY0IDMyIDQgQzI5LjA3ODAyMzEgNS40NjA5ODg0NSAyNi41MDEwNjUyNSA1LjExMTM0OTAxIDIzLjI0MjE4NzUgNS4wOTc2NTYyNSBDMjIuMjQ3NjEwMzIgNS4wOTU1MzM4MyAyMi4yNDc2MTAzMiA1LjA5NTUzMzgzIDIxLjIzMjk0MDY3IDUuMDkzMzY4NTMgQzE5LjExMzU4MTM3IDUuMDg3NzY3NTQgMTYuOTk0MzI3NDEgNS4wNzUyMTUgMTQuODc1IDUuMDYyNSBDMTMuNDM4ODAzNjEgNS4wNTc0ODUxMiAxMi4wMDI2MDU1NiA1LjA1MjkyMjE5IDEwLjU2NjQwNjI1IDUuMDQ4ODI4MTIgQzcuMDQ0MjM2NTUgNS4wMzc3OTc4MiAzLjUyMjEyODU1IDUuMDIwNTMyNTkgMCA1IEMwIDMuMzUgMCAxLjcgMCAwIFogIiBmaWxsPSIjMUU3MEMwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTQ5LDcyKSIvPgo8cGF0aCBkPSJNMCAwIEM0LjIxNzQ5MjE5IC0wLjA3NDE5MTM0IDguNDM0NjM4MTEgLTAuMTI4NjIwNCAxMi42NTI1ODc4OSAtMC4xNjQ3OTQ5MiBDMTQuMDg3MjI1NTIgLTAuMTc5ODc1ODkgMTUuNTIxODE3MDggLTAuMjAwMzQzOCAxNi45NTYyOTg4MyAtMC4yMjYzMTgzNiBDMTkuMDE5MTU4NTkgLTAuMjYyNzM0MzcgMjEuMDgxNDA4NTggLTAuMjc5NzMyNDMgMjMuMTQ0NTMxMjUgLTAuMjkyOTY4NzUgQzI1LjAwNjIxOTQ4IC0wLjMxNjUzNDQyIDI1LjAwNjIxOTQ4IC0wLjMxNjUzNDQyIDI2LjkwNTUxNzU4IC0wLjM0MDU3NjE3IEMzMCAwIDMwIDAgMzEuOTI4NDY2OCAxLjM5MzMxMDU1IEMzMyAzIDMzIDMgMzMgNSBDMjIuMTEgNSAxMS4yMiA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzFGNzBDMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU0OSw3OSkiLz4KPHBhdGggZD0iTTAgMCBDMC42NiAwIDEuMzIgMCAyIDAgQzIuMDg2MzY3MTkgMC41Njg0NzY1NiAyLjE3MjczNDM3IDEuMTM2OTUzMTIgMi4yNjE3MTg3NSAxLjcyMjY1NjI1IEMzLjM1MjcwNTM2IDcuNzE4MDc4MSA1LjI4MTQzMTU2IDExLjIwNTAwMzg1IDkgMTYgQzkgMTYuNjYgOSAxNy4zMiA5IDE4IEM4LjI3NTU0Njg3IDE3Ljg0NjYwMTU2IDcuNTUxMDkzNzUgMTcuNjkzMjAzMTIgNi44MDQ2ODc1IDE3LjUzNTE1NjI1IEM0LjA3MzM2NjA3IDE2Ljk3MzE0OTc3IDQuMDczMzY2MDcgMTYuOTczMTQ5NzcgMS41NzAzMTI1IDE2Ljc0NjA5Mzc1IEMtNC45MDkwNjM1OCAxNS45Mjg0MDg5MSAtNy44MDY5NTYzOCAxMy44OTExMzYyMyAtMTEuODIwMzEyNSA4Ljc3NzM0Mzc1IEMtMTMgNyAtMTMgNyAtMTMgNiBDLTYuMzc1IDUuODc1IC02LjM3NSA1Ljg3NSAtMyA3IEMtMi44NzYyNSA2LjQwMTg3NSAtMi43NTI1IDUuODAzNzUgLTIuNjI1IDUuMTg3NSBDLTIgMyAtMiAzIDAgMCBaICIgZmlsbD0iI0YyRjdGNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM5NCw1NSkiLz4KPHBhdGggZD0iTTAgMCBDMSAyIDEgMiAwLjkzNzUgNS44MTI1IEMwLjg3OTY0ODA4IDkuMzg2NDYzMTggMS42NDA2MzE3NyAxMS42ODY1Mzk5NCAzIDE1IEMzLjQ3NzIyODgxIDE5LjM3NDU5NzM5IDMuNDk4NjQwNDQgMjEuMjg5ODE1MTMgMC45Mzc1IDI0LjkzNzUgQy0xLjA1MTY1MDY5IDI4LjA4MTY0MTQxIC0xLjI4MzkwMDM2IDI4LjY1NDU4MTU5IC0wLjkzNzUgMzIuMTI1IEMtMC4wNDE1OTEyMiAzNS44MjgwODk2MSAwLjc4Mzk2MDg3IDM3LjEwOTUxNDE4IDMgNDAgQzMuNjQwNzA0NzggNDQuOTEyMDY5OTQgMi4yODAwNjUxNiA0Ny43MTM0Nzc1IDAgNTIgQy0wLjY5OTA3NDE0IDU0LjczNTcyNTg1IC0wLjY5OTA3NDE0IDU0LjczNTcyNTg1IC0xIDU3IEMtMS45OSA1NyAtMi45OCA1NyAtNCA1NyBDLTMuMjQ3ODEzNDEgNTAuNDgxMDQ5NTYgLTMuMjQ3ODEzNDEgNTAuNDgxMDQ5NTYgLTEuOTM3NSA0Ny45Mzc1IEMtMC41NTU0NjYzNyA0NS4wODEyOTcxNyAtMC42Mjk3ODY4MiA0My4xNDY4MTIgLTEgNDAgQy0xLjkyMzQ0MjExIDM4LjIzNzkyNDggLTEuOTIzNDQyMTEgMzguMjM3OTI0OCAtMy4wNjI1IDM2LjUgQy00LjcyOTM3MDExIDMzLjgyMjM2ODIyIC01LjAwMjU5OTI2IDMzLjEzMjU2MjEgLTQuOTM3NSAyOS44MTI1IEMtNCAyNyAtNCAyNyAtMi40Mzc1IDI1LjE4NzUgQy0wLjE2NjczOTU4IDIxLjczMTk5NTAyIC0wLjYxNDU0MzE5IDE4LjAyNTA1ODY1IC0xIDE0IEMtMS4zMyAxMy4wMSAtMS42NiAxMi4wMiAtMiAxMSBDLTIuMTY3OTY4NzUgOS4wNjI1IC0yLjE2Nzk2ODc1IDkuMDYyNSAtMi4xODc1IDcgQy0yLjIwMTY3OTY5IDYuMzE5Mzc1IC0yLjIxNTg1OTM4IDUuNjM4NzUgLTIuMjMwNDY4NzUgNC45Mzc1IEMtMiAzIC0yIDMgMCAwIFogIiBmaWxsPSIjMTQ3MDRCIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzQ4LDYyKSIvPgo8cGF0aCBkPSJNMCAwIEMxMi44NyAwIDI1Ljc0IDAgMzkgMCBDMzUuMDM1MDk2OTkgMy45NjQ5MDMwMSAzNS4wMzUwOTY5OSAzLjk2NDkwMzAxIDMwLjY1MTg1NTQ3IDQuMTEzNTI1MzkgQzI5LjIyMzYyMzAzIDQuMTEzMzY2ODggMjcuNzk1Mzg0NTggNC4xMDc3MDczNSAyNi4zNjcxODc1IDQuMDk3NjU2MjUgQzI1LjIzOTQzNDA1IDQuMDk1NTMzODMgMjUuMjM5NDM0MDUgNC4wOTU1MzM4MyAyNC4wODg4OTc3MSA0LjA5MzM2ODUzIEMyMS42ODQyMjQ5IDQuMDg3NzY0NjUgMTkuMjc5NjQ0NzMgNC4wNzUyMTE1NyAxNi44NzUgNC4wNjI1IEMxNS4yNDYwOTUwOSA0LjA1NzQ4NTUgMTMuNjE3MTg4NzMgNC4wNTI5MjI1IDExLjk4ODI4MTI1IDQuMDQ4ODI4MTIgQzcuOTkyMTUxNzMgNC4wMzc3OTM5NyAzLjk5NjA5MTU4IDQuMDIwNTI2NzkgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzFGNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU0MSwxMDIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuNDQ1MDA2NiAyLjkzNTY2NDIzIDMuNTc0ODI0NjQgNS4yNTc0NDI5NCAzLjk2ODc1IDkuNTk3NjU2MjUgQzMuOTk4ODM1MiAxMS45MTA0NTU4IDMuNzA3ODg2MzggMTMuODY2Mzg3MzUgMy4yNSAxNi4xMjUgQzIuOTg0MTIwNjEgMjAuMjQ2MTMwNTMgMy4xMDk4NDA0MiAyMC42ODU1NzQyMiA1LjQzNzUgMjMuNzUgQzUuOTEwNTg1OTQgMjQuMjgxMDkzNzUgNi4zODM2NzE4NyAyNC44MTIxODc1IDYuODcxMDkzNzUgMjUuMzU5Mzc1IEM4IDI3IDggMjcgOCAzMSBDMTAuMzEgMzEuNjYgMTIuNjIgMzIuMzIgMTUgMzMgQzE1IDMzLjk5IDE1IDM0Ljk4IDE1IDM2IEMxNi4zMiAzNi42NiAxNy42NCAzNy4zMiAxOSAzOCBDMTkgMzguOTkgMTkgMzkuOTggMTkgNDEgQzE3LjkxNzE4NzUgNDAuNDc0MDYyNSAxNy45MTcxODc1IDQwLjQ3NDA2MjUgMTYuODEyNSAzOS45Mzc1IEMxNC4wNzY4ODc3IDM4Ljc1NjQ4MjEyIDE0LjA3Njg4NzcgMzguNzU2NDgyMTIgMTEuNSAzOS41NjI1IEM5IDQwIDkgNDAgNi4xODc1IDM4LjU2MjUgQzUuNDY1NjI1IDM4LjA0Njg3NSA0Ljc0Mzc1IDM3LjUzMTI1IDQgMzcgQzQuMTk1MjkyOTcgMzYuMTY0Njg3NSA0LjE5NTI5Mjk3IDM2LjE2NDY4NzUgNC4zOTQ1MzEyNSAzNS4zMTI1IEM1LjMwMzg2MTMxIDMwLjQ2NzI5MzAxIDUuMzAzODYxMzEgMzAuNDY3MjkzMDEgMy45MTc5Njg3NSAyNS44NjcxODc1IEMyLjk3NDUwMDc2IDI0LjU0MTY1Mzk2IDIuMDI5MTkzNjQgMjMuMjE3NDI3NDggMS4wODIwMzEyNSAyMS44OTQ1MzEyNSBDLTAuNjgwNTA5NzQgMTguODA4NDkzNzggMC4yMzQyODE5NyAxNi4zNTczNzkwNyAxIDEzIEMxLjA4MjI5MTcgMTEuNDM5MTEyMjkgMS4xMjI0NDU5OSA5Ljg3NTU1MzM3IDEuMTI1IDguMzEyNSBDMS4xMjg4NjcxOSA3LjIyMzg4NjcyIDEuMTI4ODY3MTkgNy4yMjM4ODY3MiAxLjEzMjgxMjUgNi4xMTMyODEyNSBDMC45OTc4MDczMiAzLjk2NTExMDU5IDAuNTg3NzI5NCAyLjA2NjM4MTk1IDAgMCBaICIgZmlsbD0iI0VGRjVGMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM3OCw2MykiLz4KPHBhdGggZD0iTTAgMCBDOS4yNCAwIDE4LjQ4IDAgMjggMCBDMjggMS42NSAyOCAzLjMgMjggNSBDMTguNzYgNSA5LjUyIDUgMCA1IEMwIDMuMzUgMCAxLjcgMCAwIFogIiBmaWxsPSIjMUU3MEMxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTEwLDk0KSIvPgo8cGF0aCBkPSJNMCAwIEM5LjI0IDAgMTguNDggMCAyOCAwIEMyOCAxLjY1IDI4IDMuMyAyOCA1IEMxOC43NiA1IDkuNTIgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1MTAsNTcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzkuMjQgMCAxOC40OCAwIDI4IDAgQzI4IDEuNjUgMjggMy4zIDI4IDUgQzE4Ljc2IDUgOS41MiA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzFGNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxMCw1MCkiLz4KPHBhdGggZD0iTTAgMCBDMCAzIDAgMyAtMSA1IEMtMS4yMTM3NzcyMSAxMC42MDcwMzIxMyAtMS4yMTM3NzcyMSAxMC42MDcwMzIxMyAwIDE2IEMwLjc1NDE0MjM1IDIyLjQ5MDU2OTM3IC0wLjI2NzY1MDE5IDI1LjU4MjA3Mjg1IC00IDMxIEMtMy45Mjc0OTIxNCAzNC41NTI4ODQ5NCAtMy4zMTc3NDE2NCAzNi40OTE2MTMzNyAtMS40Mzc1IDM5LjUgQzAuNDMyMjMyNTQgNDIuNzUxNzA4NzYgMC40OTI4MjA0OCA0NC4yNjg2NDQ5NCAwIDQ4IEMtMS4xNzkwNDA1IDUxLjQwNDQxNTYzIC0yLjU0MTk2MzU0IDU0LjcwNjM5OTc4IC00IDU4IEMtNC45OSA1Ny42NyAtNS45OCA1Ny4zNCAtNyA1NyBDLTYuNTc1MjcyMSA1NC40NTE2MzI2IC02LjE4NjYwNjY3IDUyLjM0MDI4Mjc1IC00LjkzNzUgNTAuMDYyNSBDLTMuNjI5MDkzODEgNDcuMTg0MDA2MzkgLTMuNjg2MTgxNDMgNDUuMTM4MTg1NzMgLTQgNDIgQy00LjQ5NSA0MS4wMSAtNC45OSA0MC4wMiAtNS41IDM5IEMtNy4yMTc0NTA3IDM1LjU2NTA5ODYgLTcuNTUyMzU3MzMgMzMuNzg3NTkzMTMgLTcgMzAgQy01Ljk4MjkyOTY5IDI4LjY2Nzc1MzkxIC01Ljk4MjkyOTY5IDI4LjY2Nzc1MzkxIC00Ljk0NTMxMjUgMjcuMzA4NTkzNzUgQy0yLjU3NzgwMDU3IDIzLjI4MTkyMTg1IC0yLjgyMDAzNjc0IDIwLjUwMjM1NDg2IC0zLjQzNzUgMTYuMDYyNSBDLTQuMjQwNTQ3MzkgMTAuMDc2NjY0NDYgLTMuNzgyNzc2OTMgNi4zMjc0MTg5MSAtMSAxIEMtMC42NyAwLjY3IC0wLjM0IDAuMzQgMCAwIFogIiBmaWxsPSIjRTRFRUVBIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzQ4LDYwKSIvPgo8cGF0aCBkPSJNMCAwIEMzLjkwOTM4NzAzIDMuNzM5NDEzNjggMy45MDkzODcwMyAzLjczOTQxMzY4IDQuMTMyODEyNSA2Ljg0NzY1NjI1IEM0LjEzMDIzNDM4IDcuNTc4NTU0NjkgNC4xMjc2NTYyNSA4LjMwOTQ1MzEzIDQuMTI1IDkuMDYyNSBDNC4xMjI0MjE4OCA5Ljg2MzAwNzgxIDQuMTE5ODQzNzUgMTAuNjYzNTE1NjMgNC4xMTcxODc1IDExLjQ4ODI4MTI1IEM0LjAwMTcwMTk1IDEzLjk2MzUyMTY0IDMuNjUxMDI0NzkgMTYuMzA3MDIyNDggMy4yNSAxOC43NSBDMi43NjIwMjY5NSAyMi40MjA4OTQxOCAyLjc2MjAyNjk1IDIyLjQyMDg5NDE4IDQuOTM3NSAyNS41NjI1IEM1Ljk1ODQzNzUgMjYuNzY5MDYyNSA1Ljk1ODQzNzUgMjYuNzY5MDYyNSA3IDI4IEM4LjA0NzU1MTk0IDMzLjMxNDE0MzcgNi44NDIyMzI0NCAzNi40OTk3OTg2MyA0IDQxIEMzLjM3MDk3MDM5IDQ1LjkyNzM5ODU3IDQuNzQ3ODkzNDUgNDguNjgzNDYyNDQgNyA1MyBDNyA1NC4zMiA3IDU1LjY0IDcgNTcgQzQgNTYgNCA1NiAyLjc5Njg3NSA1My45MjU3ODEyNSBDLTAuNzYwMjg1NzMgNDUuMDQ2MTUyNDIgLTAuNzYwMjg1NzMgNDUuMDQ2MTUyNDIgMSA0MCBDMS41MTU2MjUgMzkuMTc1IDIuMDMxMjUgMzguMzUgMi41NjI1IDM3LjUgQzQuMzg3MDI3NTYgMzQuMzI2OTA4NTggNC41MTY0NDExOCAzMi42MTUwODgyNSA0IDI5IEMzLjM0IDI4LjAzMDYyNSAyLjY4IDI3LjA2MTI1IDIgMjYuMDYyNSBDLTAuNDEwNTc3ODIgMjIuMzcxMzAyNzIgLTAuNDA4MzI3NTUgMjAuMzI4MjcxOTkgMCAxNiBDMC4zMyAxNS4wMSAwLjY2IDE0LjAyIDEgMTMgQzEuMDkyNDczODEgMTEuNTIzMTM4ODkgMS4xMjk5OTA3MSAxMC4wNDIyNDQ5OSAxLjEyNSA4LjU2MjUgQzEuMTI4ODY3MTkgNy40MTk3NDYwOSAxLjEyODg2NzE5IDcuNDE5NzQ2MDkgMS4xMzI4MTI1IDYuMjUzOTA2MjUgQzEuMDAyNzYwMTUgNC4wNDY4NDE0MSAwLjYwODU2MTk5IDIuMTIwMzA3MjQgMCAwIFogIiBmaWxsPSIjRTZGMEVDIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzc0LDYxKSIvPgo8cGF0aCBkPSJNMCAwIEM4LjI1IDAgMTYuNSAwIDI1IDAgQzI1LjY2IDEuNjUgMjYuMzIgMy4zIDI3IDUgQzE4LjA5IDUgOS4xOCA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzFFNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU4Nyw1NykiLz4KPHBhdGggZD0iTTAgMCBDOC4yNSAwIDE2LjUgMCAyNSAwIEMyNSAxLjY1IDI1IDMuMyAyNSA1IEMxNi40MiA1IDcuODQgNSAtMSA1IEMtMC42NyAzLjM1IC0wLjM0IDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MjQsNTcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuNjYgMCAxLjMyIDAgMiAwIEMyLjMzIDEuNjUgMi42NiAzLjMgMyA1IEM0LjY1IDUgNi4zIDUgOCA1IEM3LjAxIDYuNDg1IDcuMDEgNi40ODUgNiA4IEM1LjgzMjg2NDMxIDEwLjYyNTMxNTI0IDUuODMyODY0MzEgMTAuNjI1MzE1MjQgNiAxMyBDNi42NiAxMy4zMyA3LjMyIDEzLjY2IDggMTQgQzcuMzQgMTQgNi42OCAxNCA2IDE0IEM2IDE0LjY2IDYgMTUuMzIgNiAxNiBDMi43IDE2IC0wLjYgMTYgLTQgMTYgQy00IDE1LjM0IC00IDE0LjY4IC00IDE0IEMtNC42NiAxMy42NyAtNS4zMiAxMy4zNCAtNiAxMyBDLTUuMzQgMTMgLTQuNjggMTMgLTQgMTMgQy0zLjc5OTEzNTU3IDkuMjg0MDA4MDkgLTMuODQ4MDU2MyA4LjIyNzkxNTU1IC02IDUgQy00LjM1IDUgLTIuNyA1IC0xIDUgQy0wLjY3IDMuMzUgLTAuMzQgMS43IDAgMCBaICIgZmlsbD0iI0Q4RTdFMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM2MCwzNykiLz4KPHBhdGggZD0iTTAgMCBDMCAxLjY1IDAgMy4zIDAgNSBDLTAuNzYzMTI1IDQuNzczMTI1IC0xLjUyNjI1IDQuNTQ2MjUgLTIuMzEyNSA0LjMxMjUgQy0zLjE5OTM3NSA0LjIwOTM3NSAtNC4wODYyNSA0LjEwNjI1IC01IDQgQy02LjgzNTQ3OTkgNS4zMzM3ODU3NSAtNi44MzU0Nzk5IDUuMzMzNzg1NzUgLTggNyBDLTcuMzQgOC42NSAtNi42OCAxMC4zIC02IDEyIEMtMy42OSAxMiAtMS4zOCAxMiAxIDEyIEMxIDEzLjMyIDEgMTQuNjQgMSAxNiBDLTUuMjAwODE5NjcgMTcuMzM3NDMxNjkgLTUuMjAwODE5NjcgMTcuMzM3NDMxNjkgLTguODEyNSAxNS44MTI1IEMtMTEuMTQwMzY2MTcgMTMuODgzNjk2NiAtMTIuMTcyMjU2MTEgMTIuODk3MTAzNjEgLTEzIDEwIEMtMTIuODU1NzAyNCA2LjUzNjg1NzUgLTEyLjM0NTYyNDk3IDQuNTI1MzQ5OTYgLTEwLjQzNzUgMS42MjUgQy02Ljg1NzUyODY3IC0wLjc2MTY0NzU1IC00LjI0ODUyOTc0IC0wLjI4MzIzNTMyIDAgMCBaICIgZmlsbD0iIzAwODQyOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjE5Miw5MykiLz4KPHBhdGggZD0iTTAgMCBDMCAwLjk5IDAgMS45OCAwIDMgQzEuNjUgMyAzLjMgMyA1IDMgQzUgNC4zMiA1IDUuNjQgNSA3IEMzLjM1IDcgMS43IDcgMCA3IEMwIDkuOTcgMCAxMi45NCAwIDE2IEMxLjY1IDE1LjY3IDMuMyAxNS4zNCA1IDE1IEM1IDE2LjMyIDUgMTcuNjQgNSAxOSBDMS43MTMwMzc2NyAxOS43OTk1MzEzOCAwLjI4OTc2ODA4IDIwLjA5NjU4OTM2IC0zIDE5IEMtNC4yNjIzNzczMSAxNi40NzUyNDUzOCAtNC4wOTg1NjQwNCAxNC42ODc5OTUzNCAtNC4wNjI1IDExLjg3NSBDLTQuMDUzNDc2NTYgMTAuOTY0OTIxODggLTQuMDQ0NDUzMTMgMTAuMDU0ODQzNzUgLTQuMDM1MTU2MjUgOS4xMTcxODc1IEMtNC4wMjM1NTQ2OSA4LjQxODUxNTYyIC00LjAxMTk1MzEzIDcuNzE5ODQzNzUgLTQgNyBDLTQuOTkgNyAtNS45OCA3IC03IDcgQy0zLjg2MjA2ODk3IDAgLTMuODYyMDY4OTcgMCAwIDAgWiAiIGZpbGw9IiMwMDg0MjkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxMzcsOTApIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuMzMgMS42NSAwLjY2IDMuMyAxIDUgQzAuMDUxMjUgNC43OTM3NSAtMC44OTc1IDQuNTg3NSAtMS44NzUgNC4zNzUgQy0zLjQyMTg3NSA0LjE4OTM3NSAtMy40MjE4NzUgNC4xODkzNzUgLTUgNCBDLTcuMzQ5NzM4MTggNS44OTc1NTE0NCAtNy4zNDk3MzgxOCA1Ljg5NzU1MTQ0IC03LjEyNSA5LjEyNSBDLTcuMDYzMTI1IDEwLjU0ODEyNSAtNy4wNjMxMjUgMTAuNTQ4MTI1IC03IDEyIEMtNC4zNiAxMiAtMS43MiAxMiAxIDEyIEMxIDEzLjMyIDEgMTQuNjQgMSAxNiBDLTUuMzI5OTc5ODggMTcuMjE3MzAzODIgLTUuMzI5OTc5ODggMTcuMjE3MzAzODIgLTguMzEyNSAxNi4yNSBDLTEwIDE1IC0xMCAxNSAtMTIgMTIgQy0xMi40NDUwNTU3NiA3Ljk5NDQ5ODEzIC0xMi4zNDMxOTE2NyA1LjY3MjA4MzY5IC0xMC41IDIuMDYyNSBDLTYuODg4MjI0MDkgLTAuOTE3MjE1MTMgLTQuNTg5MTk0MjEgLTAuMzgyNDMyODUgMCAwIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTIyLDkzKSIvPgo8cGF0aCBkPSJNMCAwIEM3LjU5IDAgMTUuMTggMCAyMyAwIEMyMy4zMyAxLjY1IDIzLjY2IDMuMyAyNCA1IEMxNi4wOCA1IDguMTYgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRjcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1ODcsNTApIi8+CjxwYXRoIGQ9Ik0wIDAgQzcuMjYgMCAxNC41MiAwIDIyIDAgQzIyIDEuNjUgMjIgMy4zIDIyIDUgQzE0LjQxIDUgNi44MiA1IC0xIDUgQy0wLjY3IDMuMzUgLTAuMzQgMS43IDAgMCBaICIgZmlsbD0iIzFGNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYyNyw1MCkiLz4KPHBhdGggZD0iTTAgMCBDMy45NiAwIDcuOTIgMCAxMiAwIEMxMiAzLjY2NjY2NjY3IDEyIDcuMzMzMzMzMzMgMTIgMTEgQzguMDQgMTEgNC4wOCAxMSAwIDExIEMwIDcuMzMzMzMzMzMgMCAzLjY2NjY2NjY3IDAgMCBaICIgZmlsbD0iI0U4MjAyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTc4MiwxMTYpIi8+CjxwYXRoIGQ9Ik0wIDAgQzkuMjQgMCAxOC40OCAwIDI4IDAgQzI4IDEuMzIgMjggMi42NCAyOCA0IEMxOC43NiA0IDkuNTIgNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjMUU3MEMwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTEwLDEwMikiLz4KPHBhdGggZD0iTTAgMCBDMCAxLjY1IDAgMy4zIDAgNSBDLTAuNTU1NTg1OTQgNC41MTQwMjM0NCAtMS4xMTExNzE4OCA0LjAyODA0Njg4IC0xLjY4MzU5Mzc1IDMuNTI3MzQzNzUgQy00LjM3OTY1MzUgMS43NDk2NzE5NyAtNS44NjQwNjM4NiAxLjU2NzMyNDE5IC05LjA2MjUgMS41NjI1IEMtOS45MTk3MjY1NiAxLjU0MzE2NDA2IC0xMC43NzY5NTMxMyAxLjUyMzgyODEzIC0xMS42NjAxNTYyNSAxLjUwMzkwNjI1IEMtMTQuMTc3NTgwNDEgMS43OTY0NDEzNyAtMTQuMTc3NTgwNDEgMS43OTY0NDEzNyAtMTUuODA4NTkzNzUgNC4wMjczNDM3NSBDLTE2LjM5ODMzOTg0IDUuMDAzODA4NTkgLTE2LjM5ODMzOTg0IDUuMDAzODA4NTkgLTE3IDYgQy0xNS4wMiA2IC0xMy4wNCA2IC0xMSA2IEMtMTAuNjcgNy42NSAtMTAuMzQgOS4zIC0xMCAxMSBDLTExLjMyIDExIC0xMi42NCAxMSAtMTQgMTEgQy0xNCAxMC4zNCAtMTQgOS42OCAtMTQgOSBDLTE1LjMyIDkgLTE2LjY0IDkgLTE4IDkgQy0xOC4zMyA3LjM1IC0xOC42NiA1LjcgLTE5IDQgQy0xOS42NiA0LjY2IC0yMC4zMiA1LjMyIC0yMSA2IEMtMjEgNC4wMiAtMjEgMi4wNCAtMjEgMCBDLTEzLjk3OTM2NDY0IC0yLjM5MDAwMzUzIC02Ljg1MjIxNDU0IC0zLjUzNjYyNjg2IDAgMCBaICIgZmlsbD0iIzE5NzM0RiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM3MCw1NykiLz4KPHBhdGggZD0iTTAgMCBDNi45MyAwIDEzLjg2IDAgMjEgMCBDMjEgMS42NSAyMSAzLjMgMjEgNSBDMTQuMDcgNSA3LjE0IDUgMCA1IEMwIDMuMzUgMCAxLjcgMCAwIFogIiBmaWxsPSIjMUU3MEMwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjI5LDk0KSIvPgo8cGF0aCBkPSJNMCAwIEMwIDAuOTkgMCAxLjk4IDAgMyBDLTAuOTkgMyAtMS45OCAzIC0zIDMgQy0zIDMuNjYgLTMgNC4zMiAtMyA1IEMtMi4wMSA1LjMzIC0xLjAyIDUuNjYgMCA2IEMwIDcuMzIgMCA4LjY0IDAgMTAgQy02LjYyNSAxMi44NzUgLTYuNjI1IDEyLjg3NSAtMTAgMTQgQy0xMS4xOTI4NzQxMSAxMC4xMjMxNTkxMyAtMTIgNy4wODM3ODA3NyAtMTIgMyBDLTEwLjc1MzM2NjY5IDIuNDkxNjY0MDkgLTkuNTAyNTA2MTMgMS45OTM2ODg1NSAtOC4yNSAxLjUgQy03LjU1MzkwNjI1IDEuMjIxNTYyNSAtNi44NTc4MTI1IDAuOTQzMTI1IC02LjE0MDYyNSAwLjY1NjI1IEMtNCAwIC00IDAgMCAwIFogIiBmaWxsPSIjMUM3NTUxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzI5LDgwKSIvPgo8cGF0aCBkPSJNMCAwIEM2LjYgMCAxMy4yIDAgMjAgMCBDMjAgMS42NSAyMCAzLjMgMjAgNSBDMTMuNCA1IDYuOCA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzFFNzBDMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU4Nyw5NCkiLz4KPHBhdGggZD0iTTAgMCBDMS4zMiAwIDIuNjQgMCA0IDAgQzQgNy45MiA0IDE1Ljg0IDQgMjQgQzIuNjggMjQgMS4zNiAyNCAwIDI0IEMwIDE2LjA4IDAgOC4xNiAwIDAgWiAiIGZpbGw9IiMwMDg0MjkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwNzcsODUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuNjA4NzUgLTAuMDIwNjI1IDMuMjE3NSAtMC4wNDEyNSA0Ljg3NSAtMC4wNjI1IEM1Ljc3OTkyMTg4IC0wLjA3NDEwMTU2IDYuNjg0ODQzNzUgLTAuMDg1NzAzMTIgNy42MTcxODc1IC0wLjA5NzY1NjI1IEMxMCAwIDEwIDAgMTIgMSBDMTEuMzQgMi4zMiAxMC42OCAzLjY0IDEwIDUgQzguMzUgNSA2LjcgNSA1IDUgQzQuNjcgOC42MyA0LjM0IDEyLjI2IDQgMTYgQzIuNjggMTYgMS4zNiAxNiAwIDE2IEMwIDEwLjcyIDAgNS40NCAwIDAgWiAiIGZpbGw9IiMwMDg0MjkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxNDksOTMpIi8+CjxwYXRoIGQ9Ik0wIDAgQzYuMjcgMCAxMi41NCAwIDE5IDAgQzE4LjY3IDEuNjUgMTguMzQgMy4zIDE4IDUgQzEyLjM5IDUgNi43OCA1IDEgNSBDMC42NyAzLjM1IDAuMzQgMS43IDAgMCBaICIgZmlsbD0iIzFGNzBDMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYwOSw3OSkiLz4KPHBhdGggZD0iTTAgMCBDNi45MyAwIDEzLjg2IDAgMjEgMCBDMjEgMS4zMiAyMSAyLjY0IDIxIDQgQzEzLjc0IDQgNi40OCA0IC0xIDQgQy0wLjY3IDIuNjggLTAuMzQgMS4zNiAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MjEsNjUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuODEyNSAyLjE4NzUgMC44MTI1IDIuMTg3NSAxIDUgQy0xLjEyNSA3Ljg3NSAtMS4xMjUgNy44NzUgLTQgMTAgQy02LjgxMjUgOS44MTI1IC02LjgxMjUgOS44MTI1IC05IDkgQy05Ljc1IDYuNzUgLTkuNzUgNi43NSAtMTAgNCBDLTcuMTk2NDEzNTIgLTAuMTQ5MzA3OTkgLTQuODI5NDYzOCAtMC40MzkwNDIxNiAwIDAgWiAiIGZpbGw9IiMwMDg0MjkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxMDgsNDApIi8+CjxwYXRoIGQ9Ik0wIDAgQzYuOTMgMCAxMy44NiAwIDIxIDAgQzIxIDEuMzIgMjEgMi42NCAyMSA0IEMxNC4wNyA0IDcuMTQgNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjMUU3MEMwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjI5LDEwMikiLz4KPHBhdGggZD0iTTAgMCBDNi42IDAgMTMuMiAwIDIwIDAgQzIwLjMzIDEuMzIgMjAuNjYgMi42NCAyMSA0IEMxNC4wNyA0IDcuMTQgNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjMUU3MEMwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTk1LDY1KSIvPgo8cGF0aCBkPSJNMCAwIEM2LjYgMCAxMy4yIDAgMjAgMCBDMjAgMS4zMiAyMCAyLjY0IDIwIDQgQzEzLjQgNCA2LjggNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjMUU3MEMxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTg3LDEwMikiLz4KPHBhdGggZD0iTTAgMCBDMC4zMyAwLjY2IDAuNjYgMS4zMiAxIDIgQzAuNjcgMi42NiAwLjM0IDMuMzIgMCA0IEMwLjAyMzc5MDQgNi4zMTEwNzg3OCAwLjAyMzc5MDQgNi4zMTEwNzg3OCAwLjMxMjUgOC44NzUgQzAuMzkxMTMyODEgOS43Mzg2NzE4NyAwLjQ2OTc2NTYzIDEwLjYwMjM0Mzc1IDAuNTUwNzgxMjUgMTEuNDkyMTg3NSBDMS4wMDMyMDcyNCAxNC4wMTc5MDQ3NSAxLjgxMjYwODMzIDE1Ljc0ODIxMzQgMyAxOCBDMy42ODc1MDI5NCAyMy4yNzA4NTU4NiAyLjE2OTQxODg1IDI1Ljg0MDEzNzc1IC0xIDMwIEMtMS42NiAyOS42NyAtMi4zMiAyOS4zNCAtMyAyOSBDLTIuNTA1IDI3Ljk3OTA2MjUgLTIuNTA1IDI3Ljk3OTA2MjUgLTIgMjYuOTM3NSBDLTAuNTQwNjAwMTQgMjIuNjUwNTEyOSAtMC4yNjA1MDE3MyAxOC44MDI1MjcwNCAtMiAxNC41NjI1IEMtMy40NjUwNTgyOSAxMC44MDgyODgxMiAtMy4zMjAyMDE1OSA4LjAzNDU0MDAyIC0zIDQgQy0xLjUgMS41IC0xLjUgMS41IDAgMCBaICIgZmlsbD0iI0U1RUZFQiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM1MSw2MCkiLz4KPHBhdGggZD0iTTAgMCBDMC4zMyAwIDAuNjYgMCAxIDAgQzAuOTg4Mzk4NDQgMC43NTAyMzQzNyAwLjk3Njc5Njg3IDEuNTAwNDY4NzUgMC45NjQ4NDM3NSAyLjI3MzQzNzUgQzAuOTE5NjU0NTMgNy4zOTkxODY2NiAwLjk4NDI4NjYxIDEyLjMwMTE4MTk1IDEuNzUgMTcuMzc1IEMyLjE5NjY0NjM5IDIxLjE0NzM1MTI3IDIuMTA3NDI3NTkgMjEuODEwMjExMjYgMC4xMjUgMjUuMzEyNSBDLTAuOTI2ODc1IDI2LjY0MjgxMjUgLTAuOTI2ODc1IDI2LjY0MjgxMjUgLTIgMjggQy0yLjc4MjE1NTg4IDMwLjcyODI1MDQgLTIuNzgyMTU1ODggMzAuNzI4MjUwNCAtMyAzMyBDLTMuOTkgMzMgLTQuOTggMzMgLTYgMzMgQy01LjY2Mzk0OTIgMjkuMzg3NDUzODUgLTUuNDU0NzA0MzIgMjcuNDg1NTg5OSAtMi45Mjk2ODc1IDI0Ljc4OTA2MjUgQy0wLjM4MTE3MzczIDIxLjEwNTU4MzA5IC0wLjgyNDUyNDMzIDE4LjI5NzIzMDcyIC0xLjM3NSAxNC4wNjI1IEMtMS45OTMyNTI0NiA4Ljg4OTQ2NTc5IC0yLjA0NDM3NzU4IDQuOTExMTE3NTYgMCAwIFogIiBmaWxsPSIjMkE3RDVDIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzQ0LDYyKSIvPgo8cGF0aCBkPSJNMCAwIEMzLjE2MTE1Nzc2IDEuMzY5ODM1MDMgMy45OTI3MDkyIDEuOTg5MDYzOCA2IDUgQzYuNTMwNzQ3NDEgMTAuNTE5NzczMDggNS4zMDE0OTUxMSAxNC4wMjg3NzA1NSAzIDE5IEMyLjMwODU5NDc4IDIxLjc3ODg4NjEzIDIuMzA4NTk0NzggMjEuNzc4ODg2MTMgMiAyNCBDMS4wMSAyNCAwLjAyIDI0IC0xIDI0IEMtMS4yNTgxMzMwMiAyMC4zODYxMzc3NCAtMS4xNjgxNTY2NyAxOC4zMjkzMDY4IDAuNSAxNS4wNjI1IEMyLjczMzE5NzQyIDEwLjUwMzA1NTI2IDIuNjIzNDM0NjEgNi44MzEzMzkxNiAxIDIuMDYyNSBDMC42NyAxLjM4MTg3NSAwLjM0IDAuNzAxMjUgMCAwIFogIiBmaWxsPSIjMTc3MjREIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzUxLDk3KSIvPgo8cGF0aCBkPSJNMCAwIEMwLjMzIDAuOTkgMC42NiAxLjk4IDEgMyBDMC41MDUgMy45MDc1IDAuMDEgNC44MTUgLTAuNSA1Ljc1IEMtMi4zNzE1ODI0MSA5LjgwNTA5NTIzIC0yLjA1NTkwNDQyIDExLjcwMDk2MDU3IC0xIDE2IEMtMC4wODA4Mzc4IDE4LjM3NzMwOTU2IDAuOTUxMzM0NzMgMjAuNjc0Njk4NzUgMiAyMyBDMiAyMy42NiAyIDI0LjMyIDIgMjUgQzEuMDEgMjUgMC4wMiAyNSAtMSAyNSBDLTEuODcyNzk4NjIgMjMuMTMzNjAwMTkgLTIuNzIyNTEwMjcgMjEuMjU2MzkzODkgLTMuNTYyNSAxOS4zNzUgQy00LjI3NTk5NjA5IDE3LjgwODc4OTA2IC00LjI3NTk5NjA5IDE3LjgwODc4OTA2IC01LjAwMzkwNjI1IDE2LjIxMDkzNzUgQy02LjEzMjU2NzY4IDEyLjU3MjY2NDE5IC02LjAzOTIzNjQyIDEwLjYzNzMyNzQ1IC01IDcgQy0zLjU1NDMxMTQ1IDQuNDMwOTQwMzUgLTEuODIzMDY5ODYgMi4zMzcyNjkwNSAwIDAgWiAiIGZpbGw9IiMxMzZGNEEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzcsOTQpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuNjYgMCAxLjMyIDAgMiAwIEM1LjE4NDE5OTU5IDMuNzk2NTQ1NjcgNS4zODczNDU0OCA3LjExNjc2MjIgNS4yMzgyODEyNSAxMS44NjMyODEyNSBDNC45NDYwNDkxMyAxNC40ODM3ODg5NyA0LjA0MjM4MTk1IDE2LjU4OTQ5MTczIDMgMTkgQzIuNzkzNDQ5MzQgMjIuNDQyNTEwOTcgMi45MDYxNjA2OSAyNC43MTg0ODIwOCA0IDI4IEMyLjA2MjUgMjcuNjI1IDIuMDYyNSAyNy42MjUgMCAyNyBDLTEuNDIxNTEzNDUgMjQuMTU2OTczMDkgLTEuMjM5MjI2MDYgMjIuMTY5NzQ1MjggLTEgMTkgQy0wLjUwNSAxNy44NjU2MjUgLTAuMDEgMTYuNzMxMjUgMC41IDE1LjU2MjUgQzIuNTQzNzYwMDggMTAuNzA4NTY5ODEgMi42OTcwMTA1NCA3LjA0NzQ2ODQ1IDEgMi4wNjI1IEMwLjY3IDEuMzgxODc1IDAuMzQgMC43MDEyNSAwIDAgWiAiIGZpbGw9IiNEREVBRTUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNjksNTkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIgMiAyIDIgMi4yNSA1LjMxMjUgQzIuMDE4NjM0NTIgOC43MjUxNDA4NCAxLjQ3NjUyODggMTAuOTU0NjU5MzUgMCAxNCBDLTAuNjYgMTMuMzQgLTEuMzIgMTIuNjggLTIgMTIgQy0xLjYyNSA4Ljg3NSAtMS42MjUgOC44NzUgLTEgNiBDLTMuMzEgNi4zMyAtNS42MiA2LjY2IC04IDcgQy04LjA0MjcyMSA1LjMzMzg4MDk1IC04LjA0MDYzODMyIDMuNjY2MTcxMTUgLTggMiBDLTUuOTU0NDc5NTggLTAuMDQ1NTIwNDIgLTIuNzI5NDE5MTQgMC4yMzk0MjI3MyAwIDAgWiAiIGZpbGw9IiMwQzZCNDUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzAsNjIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzQuMjkgMCA4LjU4IDAgMTMgMCBDMTMgMS42NSAxMyAzLjMgMTMgNSBDOC43MSA1IDQuNDIgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MjksNzkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuMzIgMCAyLjY0IDAgNCAwIEM0IDUuMjggNCAxMC41NiA0IDE2IEMyLjY4IDE2IDEuMzYgMTYgMCAxNiBDMCAxMC43MiAwIDUuNDQgMCAwIFogIiBmaWxsPSIjMDA4NDI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTY5LDkzKSIvPgo8cGF0aCBkPSJNMCAwIEM0LjI5IDAgOC41OCAwIDEzIDAgQzEyLjY3IDAuOTkgMTIuMzQgMS45OCAxMiAzIEMxMC42OCAzIDkuMzYgMyA4IDMgQzggNS42NCA4IDguMjggOCAxMSBDNy4wMSAxMSA2LjAyIDExIDUgMTEgQzUgOC4zNiA1IDUuNzIgNSAzIEMzLjM1IDIuNjcgMS43IDIuMzQgMCAyIEMwIDEuMzQgMCAwLjY4IDAgMCBaICIgZmlsbD0iI0U4MjAyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTc0OSwxMTYpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIgMS42NSAxMiAzLjMgMTIgNSBDOC4wNCA1IDQuMDggNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1OTUsNzkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIgMS42NSAxMiAzLjMgMTIgNSBDOC4wNCA1IDQuMDggNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRTcwQzEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1MTgsNzkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIgMS42NSAxMiAzLjMgMTIgNSBDOC4wNCA1IDQuMDggNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxRjcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1MTgsNzIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuOTkgMCAxLjk4IDAgMyAwIEMzIDIuNjQgMyA1LjI4IDMgOCBDNS42NCA4IDguMjggOCAxMSA4IEMxMC42NyA4Ljk5IDEwLjM0IDkuOTggMTAgMTEgQzYuNyAxMSAzLjQgMTEgMCAxMSBDMCA3LjM3IDAgMy43NCAwIDAgWiAiIGZpbGw9IiNFODIwMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3OTgsMTE2KSIvPgo8cGF0aCBkPSJNMCAwIEMwLjEyMTE3MTg4IDAuNjAzMjgxMjUgMC4yNDIzNDM3NSAxLjIwNjU2MjUgMC4zNjcxODc1IDEuODI4MTI1IEMwLjUzNDc2NTYzIDIuNjI3MzQzNzUgMC43MDIzNDM3NSAzLjQyNjU2MjUgMC44NzUgNC4yNSBDMS4wMzc0MjE4OCA1LjAzODkwNjI1IDEuMTk5ODQzNzUgNS44Mjc4MTI1IDEuMzY3MTg3NSA2LjY0MDYyNSBDMS45MTcxMzYxNyA5LjAxNDkwNDM4IDEuOTE3MTM2MTcgOS4wMTQ5MDQzOCAzLjA2MjUgMTEuMDkzNzUgQzQuMzcxMjUzNjQgMTMuNzU0ODgyNCA0LjEzMjY4NDUxIDE2LjA4MDk0MDc2IDQgMTkgQzMuMDEgMTkgMi4wMiAxOSAxIDE5IEMwLjcxMTI1IDE3Ljc4MzEyNSAwLjQyMjUgMTYuNTY2MjUgMC4xMjUgMTUuMzEyNSBDLTAuNDgzNjM3NyAxMi44NDMxNjk5MSAtMS4xMzkxMzY4MSAxMC42Njc2MTc2MyAtMi4xMjUgOC4zMTI1IEMtMy4xMDE2MzIyIDUuNzMxNDAwNjMgLTMuMTU2Mzg1NjggMy43MzY3NDk0NSAtMyAxIEMtMSAwIC0xIDAgMCAwIFogIiBmaWxsPSIjMEU2QzQ3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzY4LDEwMikiLz4KPHBhdGggZD0iTTAgMCBDNC45NSAwIDkuOSAwIDE1IDAgQzE0LjM0IDEuMzIgMTMuNjggMi42NCAxMyA0IEM5LjA0IDQgNS4wOCA0IDEgNCBDMC42NyAyLjY4IDAuMzQgMS4zNiAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MTEsODcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuNjI1NDM5MjIgMC41MTc5MTk4OSA3LjI1MDczNjc2IDEuMDM2Mzk3MjcgMTAuODc1IDEuNTYyNSBDMTIuOTMwODIyNzEgMS44NzcxMDUwMiAxMi45MzA4MjI3MSAxLjg3NzEwNTAyIDE1IDIgQzE1IDMuNjUgMTUgNS4zIDE1IDcgQzkuNTQ1MjA4MTUgNi40MzE3OTI1MiA1LjA4OTQwNzQ0IDUuMDUzNjIwNTUgMCAzIEMwIDIuMDEgMCAxLjAyIDAgMCBaICIgZmlsbD0iI0VFRjRGMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM5MSw3MykiLz4KPHBhdGggZD0iTTAgMCBDMy42MyAwIDcuMjYgMCAxMSAwIEMxMSAyLjMxIDExIDQuNjIgMTEgNyBDMTAuMzQgNyA5LjY4IDcgOSA3IEM5IDUuNjggOSA0LjM2IDkgMyBDNy4wMiAzIDUuMDQgMyAzIDMgQzIuNjcgNC4zMiAyLjM0IDUuNjQgMiA3IEMxLjM0IDcgMC42OCA3IDAgNyBDMCA0LjY5IDAgMi4zOCAwIDAgWiAiIGZpbGw9IiNFODIwMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4MTMsMTIwKSIvPgo8cGF0aCBkPSJNMCAwIEM0LjI5IDAgOC41OCAwIDEzIDAgQzEzIDEuMzIgMTMgMi42NCAxMyA0IEM4LjcxIDQgNC40MiA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiMxRjcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MjksODcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIuMzMgMS4zMiAxMi42NiAyLjY0IDEzIDQgQzguNzEgNCA0LjQyIDQgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzFFNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU3Miw4NykiLz4KPHBhdGggZD0iTTAgMCBDMy40NDQ0NzI5OSAyLjkzNTIwOTUxIDMuNTc3ODc2MSA1LjI1NjU4Mjc0IDMuOTY0ODQzNzUgOS41OTc2NTYyNSBDMy45OTg0NTQwNiAxMS44OTQzNjEgMy43Mzc5MTUwOSAxMy44NzUxMjQzMyAzLjMxMjUgMTYuMTI1IEMyLjkwNDY5NjM3IDIxLjE4MTc2NSA0LjE4MDYwNDkgMjIuODk5MDYxNjcgNyAyNyBDNi4zNCAyNy4zMyA1LjY4IDI3LjY2IDUgMjggQy0wLjA2ODA5Mzg0IDIxLjI0ODM4NzEgLTAuMDY4MDkzODQgMjEuMjQ4Mzg3MSAwLjE4NzUgMTYuNTYyNSBDMC40NTU2MjUgMTUuMzg2ODc1IDAuNzIzNzUgMTQuMjExMjUgMSAxMyBDMS4wODIyOTE3IDExLjQzOTExMjI5IDEuMTIyNDQ1OTkgOS44NzU1NTMzNyAxLjEyNSA4LjMxMjUgQzEuMTI4ODY3MTkgNy4yMjM4ODY3MiAxLjEyODg2NzE5IDcuMjIzODg2NzIgMS4xMzI4MTI1IDYuMTEzMjgxMjUgQzAuOTk3ODA3MzIgMy45NjUxMTA1OSAwLjU4NzcyOTQgMi4wNjYzODE5NSAwIDAgWiAiIGZpbGw9IiNEMEUyREIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzgsNjMpIi8+CjxwYXRoIGQ9Ik0wIDAgQzQuMjkgMCA4LjU4IDAgMTMgMCBDMTIuNjcgMS4zMiAxMi4zNCAyLjY0IDEyIDQgQzguMDQgNCA0LjA4IDQgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzFFNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU3Miw2NSkiLz4KPHBhdGggZD0iTTAgMCBDMCAwLjk5IDAgMS45OCAwIDMgQy0xLjU3OTY3ODA3IDMuNjc1MjgyMjMgLTMuMTYzOTE5MDMgNC4zMzk4OTY5NCAtNC43NSA1IEMtNi4wNzI1NzgxMyA1LjU1Njg3NSAtNi4wNzI1NzgxMyA1LjU1Njg3NSAtNy40MjE4NzUgNi4xMjUgQy0xMCA3IC0xMCA3IC0xNCA3IEMtMTQgNS42OCAtMTQgNC4zNiAtMTQgMyBDLTQuNTg5OTc3MjIgLTAuNDQ0MTkxMzQgLTQuNTg5OTc3MjIgLTAuNDQ0MTkxMzQgMCAwIFogIiBmaWxsPSIjRUZGNUYzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzMxLDczKSIvPgo8cGF0aCBkPSJNMCAwIEMzLjk2IDAgNy45MiAwIDEyIDAgQzEyIDEuMzIgMTIgMi42NCAxMiA0IEM4LjA0IDQgNC4wOCA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1OTUsODcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIgMS4zMiAxMiAyLjY0IDEyIDQgQzguMDQgNCA0LjA4IDQgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzFFNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU0OSw4NykiLz4KPHBhdGggZD0iTTAgMCBDMy45NiAwIDcuOTIgMCAxMiAwIEMxMiAxLjMyIDEyIDIuNjQgMTIgNCBDOC4wNCA0IDQuMDggNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjMUU3MEMwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNTE4LDg3KSIvPgo8cGF0aCBkPSJNMCAwIEMzLjk2IDAgNy45MiAwIDEyIDAgQzEyIDEuMzIgMTIgMi42NCAxMiA0IEM4LjA0IDQgNC4wOCA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiMxRTcwQzAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NDksNjUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIgMS4zMiAxMiAyLjY0IDEyIDQgQzguMDQgNCA0LjA4IDQgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzFFNzBDMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxOCw2NSkiLz4KPHBhdGggZD0iTTAgMCBDMy4zNzQ2MjcxNSAwLjU0NzIzNjgzIDUuMDgyMzUgMS4wNTQ5IDggMyBDNy4zNCA0Ljk4IDYuNjggNi45NiA2IDkgQzQgOCAyIDcgMCA2IEMwIDQuMDIgMCAyLjA0IDAgMCBaICIgZmlsbD0iIzFENzY1MiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM5Myw5MykiLz4KPHBhdGggZD0iTTAgMCBDMCAzIDAgMyAtMSA1IEMtMS4yMTM3NzcyMSAxMC42MDcwMzIxMyAtMS4yMTM3NzcyMSAxMC42MDcwMzIxMyAwIDE2IEMwLjEyNzgxNzg2IDE4LjY3Mzk0OTY0IDAuMDQzOTE4NzEgMjEuMzIwOTU4NTcgMCAyNCBDLTAuNjYgMjQgLTEuMzIgMjQgLTIgMjQgQy0zLjcyNzI5MzA0IDE3LjI5MDY3OTkxIC00Ljc4MjM1NDYyIDEwLjgxODQwMzYgLTMgNCBDLTEuNDQ5MjE4NzUgMS43MTA5Mzc1IC0xLjQ0OTIxODc1IDEuNzEwOTM3NSAwIDAgWiAiIGZpbGw9IiNEOUU4RTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNDgsNjApIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuMzMgMCAwLjY2IDAgMSAwIEMxIDEuNjUgMSAzLjMgMSA1IEMxLjg4Njg3NSA0LjY5MDYyNSAyLjc3Mzc1IDQuMzgxMjUgMy42ODc1IDQuMDYyNSBDOS4xNjA2NzE0NiAyLjMwNjk1NDQ0IDkuMTYwNjcxNDYgMi4zMDY5NTQ0NCAxMiAyIEMxMi45OSAyLjY2IDEzLjk4IDMuMzIgMTUgNCBDMTQuNjcgNC42NiAxNC4zNCA1LjMyIDE0IDYgQzExLjY4MDI1NzY2IDYuNDE3NTUzNjIgOS4zNDIxNDIwNyA2LjczNTU2NDYgNyA3IEM1LjA1MDkzNzUgNy4yNzg0Mzc1IDUuMDUwOTM3NSA3LjI3ODQzNzUgMy4wNjI1IDcuNTYyNSBDMi4wNTE4NzUgNy43MDY4NzUgMS4wNDEyNSA3Ljg1MTI1IDAgOCBDMCA1LjM2IDAgMi43MiAwIDAgWiAiIGZpbGw9IiMxODcyNEUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMTcsNjgpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuMzMzMzMzMzMgMCA2LjY2NjY2NjY3IDAgMTAgMCBDMTAgMS45OCAxMCAzLjk2IDEwIDYgQzcuMzYgNiA0LjcyIDYgMiA2IEMyIDQuNjggMiAzLjM2IDIgMiBDMS4zNCAyIDAuNjggMiAwIDIgQzAgMS4zNCAwIDAuNjggMCAwIFogIiBmaWxsPSIjMDA2NDNDIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzg1LDExNykiLz4KPHBhdGggZD0iTTAgMCBDMi45NyAwIDUuOTQgMCA5IDAgQzguNjcgMS42NSA4LjM0IDMuMyA4IDUgQzUuNjkgNSAzLjM4IDUgMSA1IEMwLjY3IDMuMzUgMC4zNCAxLjcgMCAwIFogIiBmaWxsPSIjMUU3MEMxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjE0LDk0KSIvPgo8cGF0aCBkPSJNMCAwIEMwIDAuOTkgMCAxLjk4IDAgMyBDLTMuNjMgNC4zMiAtNy4yNiA1LjY0IC0xMSA3IEMtMTEuMzMgNS42OCAtMTEuNjYgNC4zNiAtMTIgMyBDLTEwLjc1MzM2NjY5IDIuNDkxNjY0MDkgLTkuNTAyNTA2MTMgMS45OTM2ODg1NSAtOC4yNSAxLjUgQy03LjU1MzkwNjI1IDEuMjIxNTYyNSAtNi44NTc4MTI1IDAuOTQzMTI1IC02LjE0MDYyNSAwLjY1NjI1IEMtNCAwIC00IDAgMCAwIFogIiBmaWxsPSIjRUZGNUYyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzI5LDgwKSIvPgo8cGF0aCBkPSJNMCAwIEMxLjA3MDc3Mzc1IDMuMjEyMzIxMjUgMSA1LjYzOTM3ODA3IDEgOSBDMS4zMyA5Ljk5IDEuNjYgMTAuOTggMiAxMiBDMS4wMSAxMiAwLjAyIDEyIC0xIDEyIEMtMS4zMyAxMC4zNSAtMS42NiA4LjcgLTIgNyBDLTMuOTggNyAtNS45NiA3IC04IDcgQy03LjIzNjg3NSA2LjQwMTg3NSAtNi40NzM3NSA1LjgwMzc1IC01LjY4NzUgNS4xODc1IEMtMy42NTE2NDI1IDMuNTMwNDA2NjggLTEuODAyMTcyMSAxLjg5NzAyMzI2IDAgMCBaICIgZmlsbD0iIzBENkI0NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM2OCw3NSkiLz4KPHBhdGggZD0iTTAgMCBDMS4yMDE1NzEzMSAzLjYwNDcxMzkzIDEuNTQ5ODEzNDggNy4xMTUwMzA4OCAxLjg3NSAxMC44NzUgQzEuOTYwMDc4MTMgMTEuNTgyNjk1MzEgMi4wNDUxNTYyNSAxMi4yOTAzOTA2MyAyLjEzMjgxMjUgMTMuMDE5NTMxMjUgQzIuNDc2OTI2MjggMTcuMjE5MjgzNTEgMi4yMzk3Mzc5MiAxOC43MTA2NjExMyAtMC40OTIxODc1IDIyLjAwNzgxMjUgQy0xLjMxOTc2NTYyIDIyLjY2NTIzNDM3IC0yLjE0NzM0Mzc1IDIzLjMyMjY1NjI1IC0zIDI0IEMtMi4xMjUgMjAuMTI1IC0yLjEyNSAyMC4xMjUgLTEgMTkgQy0wLjkzOTY4OTYzIDE1LjM4NTE0NzQyIC0wLjk4MDA1NDkzIDExLjc4NDEzNTc2IC0xLjAzOTA2MjUgOC4xNjk5MjE4OCBDLTEuMTAwMTMzMTUgMi4yMDAyNjYyOSAtMS4xMDAxMzMxNSAyLjIwMDI2NjI5IDAgMCBaICIgZmlsbD0iI0RERUFFNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM0Miw2NSkiLz4KPHBhdGggZD0iTTAgMCBDMSAyIDEgMiAwLjkzNzUgNS42ODc1IEMwLjg2OTQ3NzA3IDkuODIxNzgyMyAxLjY5NjU0Mzg5IDEzLjA4OTYzMTY4IDMgMTcgQzIuMzQgMTcgMS42OCAxNyAxIDE3IEMwLjY3IDE4LjMyIDAuMzQgMTkuNjQgMCAyMSBDLTEuMzk3NzM2NjEgMTQuOTA5ODYxOSAtMi40MzkxOTg3NCA5LjI1ODU4MjExIC0yIDMgQy0xLjM0IDIuMDEgLTAuNjggMS4wMiAwIDAgWiAiIGZpbGw9IiMyMTc4NTUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNDgsNjIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzQuMTk0Njk1NzEgMC41OTkyNDIyNCA4LjAwOTk5ODM0IDEuNTc0OTk5NDEgMTIgMyBDMTIgMy45OSAxMiA0Ljk4IDEyIDYgQzcuNjgyMjU0MiA1LjQ5MjAyOTkxIDMuOTY2OTc4ODYgNC44MDMxNzIyMSAwIDMgQzAgMi4wMSAwIDEuMDIgMCAwIFogIiBmaWxsPSIjRTdGMEVDIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzkzLDgwKSIvPgo8cGF0aCBkPSJNMCAwIEMxLjY3NTQyOTc2IDAuMjg2MDQ4OTggMy4zNDM4NTM0MyAwLjYxNzgxMjMzIDUgMSBDNS44NDY4MTEzMyA2LjA4MDg2Nzk2IDYuMDkwMzgwOTkgMTAuODQ4MjgzNzcgNiAxNiBDNS4zNCAxNiA0LjY4IDE2IDQgMTYgQzMuOTUxMDE1NjMgMTUuNDA4MzIwMzEgMy45MDIwMzEyNSAxNC44MTY2NDA2MyAzLjg1MTU2MjUgMTQuMjA3MDMxMjUgQzMuMjYxOTU4IDcuODg5NzQ5MDkgMy4yNjE5NTggNy44ODk3NDkwOSAxIDIgQzAuMzQgMS42NyAtMC4zMiAxLjM0IC0xIDEgQy0wLjY3IDAuNjcgLTAuMzQgMC4zNCAwIDAgWiAiIGZpbGw9IiMxNzcyNEUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzAsNTcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuNjA4ODEzMSAwLjgzNTA2MTE3IDMuNjA4ODEzMSAwLjgzNTA2MTE3IDUuODEyNSAtMC41IEM1LjgxMjUgMS4xNSA1LjgxMjUgMi44IDUuODEyNSA0LjUgQzMuNDc5MTY2NjcgNC4xNjY2NjY2NyAxLjE0NTgzMzMzIDMuODMzMzMzMzMgLTEuMTg3NSAzLjUgQy0yLjQ2NjI1IDMuMzU1NjI1IC0zLjc0NSAzLjIxMTI1IC01LjA2MjUgMy4wNjI1IEMtNi4wOTM3NSAyLjg3Njg3NSAtNy4xMjUgMi42OTEyNSAtOC4xODc1IDIuNSBDLTguNTE3NSAxLjg0IC04Ljg0NzUgMS4xOCAtOS4xODc1IDAuNSBDLTUuOTIyMjU5MDcgLTAuNDE4MzQ5MDEgLTMuMzE1NTMyMDkgLTAuNDc3MDk4NDIgMCAwIFogIiBmaWxsPSIjMUI3NDUxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzk5LjE4NzUsNzEuNSkiLz4KPHBhdGggZD0iTTAgMCBDMi45NyAwIDUuOTQgMCA5IDAgQzguNjcgMS4zMiA4LjM0IDIuNjQgOCA0IEM1LjAzIDQgMi4wNiA0IC0xIDQgQy0wLjY3IDIuNjggLTAuMzQgMS4zNiAwIDAgWiAiIGZpbGw9IiNEQ0VERTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwNDAsOTIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTEuNjcgMC45OSAxMS4zNCAxLjk4IDExIDMgQzcuNyAzIDQuNCAzIDEgMyBDMC42NyAyLjAxIDAuMzQgMS4wMiAwIDAgWiAiIGZpbGw9IiNFNzIwMjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3NjYsMTIwKSIvPgo8cGF0aCBkPSJNMCAwIEMzLjk2IDAgNy45MiAwIDEyIDAgQzExLjY3IDAuOTkgMTEuMzQgMS45OCAxMSAzIEM3LjcgMyA0LjQgMyAxIDMgQzAuNjcgMi4wMSAwLjM0IDEuMDIgMCAwIFogIiBmaWxsPSIjRTkyMDI2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzY2LDExNikiLz4KPHBhdGggZD0iTTAgMCBDOS40MTAwMjI3OCAtMC4zNjkwMjA1IDkuNDEwMDIyNzggLTAuMzY5MDIwNSAxNCAyIEMxNCAzLjY1IDE0IDUuMyAxNCA3IEMxMy41MDUgNi41MjU2MjUgMTMuMDEgNi4wNTEyNSAxMi41IDUuNTYyNSBDOS45MzI3MzUyOSAzLjk1Nzk1OTU1IDguODAwMzY5MDkgMy43NDk5ODYwOSA1Ljg3NSAzLjUgQzQuNTk2MjUgMy4zMzUgMy4zMTc1IDMuMTcgMiAzIEMxLjM0IDIuMDEgMC42OCAxLjAyIDAgMCBaICIgZmlsbD0iIzNEODk2QiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM1Niw1NSkiLz4KPHBhdGggZD0iTTAgMCBDMC4yODQ4ODI4MSAwLjU3NDkyMTg4IDAuNTY5NzY1NjIgMS4xNDk4NDM3NSAwLjg2MzI4MTI1IDEuNzQyMTg3NSBDMS41OTM5MzI5NyAzLjE5MzQ0NzYyIDIuMzQwMTUwNTEgNC42MzcwMzEgMy4xMDU0Njg3NSA2LjA3MDMxMjUgQzMuNDYyNTM5MDYgNi43NDgzNTkzOCAzLjgxOTYwOTM4IDcuNDI2NDA2MjUgNC4xODc1IDguMTI1IEM0LjU1MjMwNDY5IDguODA4MjAzMTMgNC45MTcxMDkzOCA5LjQ5MTQwNjI1IDUuMjkyOTY4NzUgMTAuMTk1MzEyNSBDNS41MjYyODkwNiAxMC43OTA4NTkzNyA1Ljc1OTYwOTM4IDExLjM4NjQwNjI1IDYgMTIgQzUuNjcgMTIuNjYgNS4zNCAxMy4zMiA1IDE0IEM0LjM0IDE0IDMuNjggMTQgMyAxNCBDLTEuMDc4Nzc0NjIgNS45NjQ5ODkwNiAtMS4wNzg3NzQ2MiA1Ljk2NDk4OTA2IC0wLjc1IDEuOTM3NSBDLTAuNTAyNSAxLjI5ODEyNSAtMC4yNTUgMC42NTg3NSAwIDAgWiAiIGZpbGw9IiMwQzZCNDUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzgsMTAzKSIvPgo8cGF0aCBkPSJNMCAwIEMzLjk2IDAgNy45MiAwIDEyIDAgQzExLjAxIDEuNDg1IDExLjAxIDEuNDg1IDEwIDMgQzguMTI1IDMuMzI4MTI1IDguMTI1IDMuMzI4MTI1IDYgMy4yNSBDNS4yOTg3NSAzLjIzNDUzMTI1IDQuNTk3NSAzLjIxOTA2MjUgMy44NzUgMy4yMDMxMjUgQzIgMyAyIDMgMCAyIEMwIDEuMzQgMCAwLjY4IDAgMCBaICIgZmlsbD0iI0U4MjAyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTc2NiwxMjQpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuNjMgMCA3LjI2IDAgMTEgMCBDMTAuNjcgMC45OSAxMC4zNCAxLjk4IDEwIDMgQzcuMDMgMyA0LjA2IDMgMSAzIEMwLjY3IDIuMDEgMC4zNCAxLjAyIDAgMCBaICIgZmlsbD0iI0U4MjAyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTgxMywxMTYpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuNDk1IDAuMzkxODc1IDAuOTkgMC43ODM3NSAxLjUgMS4xODc1IEMwLjE2NjY2NjY3IDEuODU0MTY2NjcgLTEuMTY2NjY2NjcgMi41MjA4MzMzMyAtMi41IDMuMTg3NSBDLTMuNDkgMy43NDQzNzUgLTMuNDkgMy43NDQzNzUgLTQuNSA0LjMxMjUgQy02LjUgNS4xODc1IC02LjUgNS4xODc1IC0xMC41IDUuMTg3NSBDLTEwLjUgNC4xOTc1IC0xMC41IDMuMjA3NSAtMTAuNSAyLjE4NzUgQy0zLjI4Nzc0NjE3IC0xLjA2ODUxNzUxIC0zLjI4Nzc0NjE3IC0xLjA2ODUxNzUxIDAgMCBaICIgZmlsbD0iIzEyNkY0QSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMyNy41LDc3LjgxMjUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuNjQgMCA1LjI4IDAgOCAwIEM3LjY3IDEuMzIgNy4zNCAyLjY0IDcgNCBDNC42OSA0IDIuMzggNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjRDdFQkRFIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDA5LDk2KSIvPgo8cGF0aCBkPSJNMCAwIEMzLjU1NzgwMTk2IDAuNjA5OTA4OTEgNi42ODI4NTg5IDEuNTc4MzY4MSAxMCAzIEM5LjY3IDMuOTkgOS4zNCA0Ljk4IDkgNiBDNS44NTI2MjgxOCA1LjMwMDU4NDA0IDIuOTc0MTExMjQgNC4yMzkyMTMwMiAwIDMgQzAgMi4wMSAwIDEuMDIgMCAwIFogIiBmaWxsPSIjREZFQkU2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzk0LDg3KSIvPgo8cGF0aCBkPSJNMCAwIEMtMSAzIC0xIDMgLTIuODQ3NjU2MjUgNC4xNjc5Njg3NSBDLTMuNTc4NTU0NjkgNC41MDQ0MTQwNiAtNC4zMDk0NTMxMiA0Ljg0MDg1OTM3IC01LjA2MjUgNS4xODc1IEMtNS43OTU5NzY1NiA1LjUzMTY3OTY5IC02LjUyOTQ1MzEyIDUuODc1ODU5MzggLTcuMjg1MTU2MjUgNi4yMzA0Njg3NSBDLTguMTM0MDAzOTEgNi42MTEzODY3MiAtOC4xMzQwMDM5MSA2LjYxMTM4NjcyIC05IDcgQy05LjMzIDUuNjggLTkuNjYgNC4zNiAtMTAgMyBDLTYuMjcwMzQ4NjEgMC45NjU2NDQ2OSAtNC4zMzA5NDk1OCAwIDAgMCBaICIgZmlsbD0iI0U4RjFFRCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMyOCw4NykiLz4KPHBhdGggZD0iTTAgMCBDMi4zOTI3MzIzNSAzLjU4OTA5ODUzIDMuMTUzMTA5ODYgNS4yNjMxMzQ3OCAzLjE4NzUgOS41IEMzLjIwMTY3OTY5IDEwLjI5NDA2MjUgMy4yMTU4NTkzOCAxMS4wODgxMjUgMy4yMzA0Njg3NSAxMS45MDYyNSBDMyAxNCAzIDE0IDEgMTYgQy0wLjE1NzAzOTggMTIuNTI4ODgwNTkgLTAuMDMzOTY0ODkgOS43NzM2ODM0NiAwLjA2MjUgNi4xNTYyNSBDMC4wOTg0MjE3OSAzLjgxNDI1MTIzIDAuMDk4NDIxNzkgMy44MTQyNTEyMyAtMSAxIEMtMC42NyAwLjY3IC0wLjM0IDAuMzQgMCAwIFogIiBmaWxsPSIjMjI3OTU2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzc3LDYyKSIvPgo8cGF0aCBkPSJNMCAwIEMwLjY2IDAuMzMgMS4zMiAwLjY2IDIgMSBDMS4zNCAzLjk3IDAuNjggNi45NCAwIDEwIEMtMC45OSA5LjY3IC0xLjk4IDkuMzQgLTMgOSBDLTIuNDQyNzEwODcgNS42NTYyNjUyNSAtMS42NDgyNjExMSAyLjk2Njg3MDAxIDAgMCBaICIgZmlsbD0iI0RDRUFFNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM0NCwxMDgpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuMjcyODY2ODIgMi43ODE5MzY4IDQuOTY0Mjc2OTcgNi4yNzk1NDA2NyA3IDEwIEM2LjAxIDEwLjMzIDUuMDIgMTAuNjYgNCAxMSBDMy4zMjU5MTY5MiA5LjczMzA4NDkzIDIuNjYwOTk1MDMgOC40NjEyOTI1MSAyIDcuMTg3NSBDMS42Mjg3NSA2LjQ3OTgwNDY5IDEuMjU3NSA1Ljc3MjEwOTM3IDAuODc1IDUuMDQyOTY4NzUgQzAgMyAwIDMgMCAwIFogIiBmaWxsPSIjRDVFNURGIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzc5LDEwNCkiLz4KPHBhdGggZD0iTTAgMCBDMi42NCAwIDUuMjggMCA4IDAgQzcuMzQgMS4zMiA2LjY4IDIuNjQgNiA0IEMzLjAzIDMuNTA1IDMuMDMgMy41MDUgMCAzIEMwIDIuMDEgMCAxLjAyIDAgMCBaICIgZmlsbD0iI0ZDRkRGQyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAzOCw5OSkiLz4KPHBhdGggZD0iTTAgMCBDMCAwLjk5IDAgMS45OCAwIDMgQy0zLjQ2NSA0LjQ4NSAtMy40NjUgNC40ODUgLTcgNiBDLTcuMzMgNS4wMSAtNy42NiA0LjAyIC04IDMgQy0zLjM3NSAwIC0zLjM3NSAwIDAgMCBaICIgZmlsbD0iI0Q2RTZERiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMyOSw5MykiLz4KPHBhdGggZD0iTTAgMCBDLTAuNzUgNy43NSAtMC43NSA3Ljc1IC0zIDEwIEMtNC40NzgzMjI2IDcuMDQzMzU0ODEgLTQuMDYwMzI3ODMgNC4yNTc3MDI2MyAtNCAxIEMtMiAwIC0yIDAgMCAwIFogIiBmaWxsPSIjMkM3RTVEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzcyLDY2KSIvPgo8cGF0aCBkPSJNMCAwIEMwLjkzMDQ1OTMzIDIuNTUxNDQ4MjQgMS4wODU2NDA5MSAzLjc0MDA2NDc4IDAuMjIyNjU2MjUgNi4zNTkzNzUgQy0wLjE2MDE5NTMxIDcuMTQ4MjgxMjUgLTAuNTQzMDQ2ODggNy45MzcxODc1IC0wLjkzNzUgOC43NSBDLTEuNTA3OTEwMTYgOS45NDg4MjgxMyAtMS41MDc5MTAxNiA5Ljk0ODgyODEzIC0yLjA4OTg0Mzc1IDExLjE3MTg3NSBDLTIuMzkwMTk1MzEgMTEuNzc1MTU2MjUgLTIuNjkwNTQ2ODggMTIuMzc4NDM3NSAtMyAxMyBDLTMuNjYgMTIuNjcgLTQuMzIgMTIuMzQgLTUgMTIgQy00LjQ2MjMxMTI4IDguMTI4NjQxMiAtMy40MjI1MjcgNi4wMjgxNTg3NSAtMSAzIEMtMC42NyAyLjAxIC0wLjM0IDEuMDIgMCAwIFogIiBmaWxsPSIjRENFOUU0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzQyLDEwMykiLz4KPHBhdGggZD0iTTAgMCBDMC45OSAwLjMzIDEuOTggMC42NiAzIDEgQzIuNTQ2MjUgMS43NDI1IDIuMDkyNSAyLjQ4NSAxLjYyNSAzLjI1IEMwLjMxMzU5MjA0IDUuNDY5MzA1NzggLTAuODgyODA4MDMgNy42Nzk2NzgyMiAtMiAxMCBDLTMuMDYzNTE2NzUgNi42MTYwODMwNyAtMy4yMTQ0Mjk4MiA1LjQxOTUzNjYgLTEuNTYyNSAyLjE4NzUgQy0xLjA0Njg3NSAxLjQ2NTYyNSAtMC41MzEyNSAwLjc0Mzc1IDAgMCBaICIgZmlsbD0iI0RCRTlFMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM3OCw5NikiLz4KPHBhdGggZD0iTTAgMCBDMCAwLjk5IDAgMS45OCAwIDMgQy0yLjUgNC42ODc1IC0yLjUgNC42ODc1IC01IDYgQy01LjY2IDUuMDEgLTYuMzIgNC4wMiAtNyAzIEMtMy4zNzUgMCAtMy4zNzUgMCAwIDAgWiAiIGZpbGw9IiMwRDZDNDYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMjksOTYpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuNjYgMCAxLjMyIDAgMiAwIEMyIDAuNjYgMiAxLjMyIDIgMiBDMy4zMiAyIDQuNjQgMiA2IDIgQzYgMi42NiA2IDMuMzIgNiA0IEM0LjY4IDQgMy4zNiA0IDIgNCBDMS42NyA1LjMyIDEuMzQgNi42NCAxIDggQy0wLjM1NDM5NjY4IDUuMjkxMjA2NjUgLTAuMDY1MDE0NTEgMi45OTA2NjczMiAwIDAgWiAiIGZpbGw9IiMxOTczNEYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNTAsNjQpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuMzIgMC42NiAyLjY0IDEuMzIgNCAyIEM0IDIuOTkgNCAzLjk4IDQgNSBDMSA1IDEgNSAtMC42ODc1IDMuNSBDLTEuMTIwNjI1IDMuMDA1IC0xLjU1Mzc1IDIuNTEgLTIgMiBDLTEuMzQgMS4zNCAtMC42OCAwLjY4IDAgMCBaICIgZmlsbD0iIzE1NzI0QyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM5MiwxMDEpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuOTkgMC4zMyAxLjk4IDAuNjYgMyAxIEMyLjM0IDMuOTcgMS42OCA2Ljk0IDEgMTAgQzAuMDEgOS4wMSAtMC45OCA4LjAyIC0yIDcgQy0xLjM0IDQuNjkgLTAuNjggMi4zOCAwIDAgWiAiIGZpbGw9IiMyOTdENUIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzMsNzMpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIgMC42NjY2NjY2NyA0IDEuMzMzMzMzMzMgNiAyIEM1LjY3IDIuNjYgNS4zNCAzLjMyIDUgNCBDMi4zNTEzOTU3MyA0LjU5MzU1NjE0IC0wLjI5MTk3MzIyIDQuNzQyMDkyNjkgLTMgNSBDLTIuNjI1IDMuMDYyNSAtMi42MjUgMy4wNjI1IC0yIDEgQy0xLjM0IDAuNjcgLTAuNjggMC4zNCAwIDAgWiAiIGZpbGw9IiMzMzgzNjMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMjYsNzApIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuMzEgMCA0LjYyIDAgNyAwIEM3IDEuMzIgNyAyLjY0IDcgNCBDNS42OCA0IDQuMzYgNCAzIDQgQzMgMy4zNCAzIDIuNjggMyAyIEMyLjAxIDIgMS4wMiAyIDAgMiBDMCAxLjM0IDAgMC42OCAwIDAgWiAiIGZpbGw9IiM2N0EyOEEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNTMsNjQpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuOTkgMCAxLjk4IDAgMyAwIEMyLjY4NzUgMS44NzUgMi42ODc1IDEuODc1IDIgNCBDMS4wMSA0LjY2IDAuMDIgNS4zMiAtMSA2IEMtMS42MjUgNC4xMjUgLTEuNjI1IDQuMTI1IC0yIDIgQy0xLjM0IDEuMzQgLTAuNjggMC42OCAwIDAgWiAiIGZpbGw9IiMxNDcwNEIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMjgsMTAxKSIvPgo8cGF0aCBkPSJNMCAwIEM0Ljc1IDEuODc1IDQuNzUgMS44NzUgNyAzIEM2LjY3IDMuOTkgNi4zNCA0Ljk4IDYgNiBDMy45NjE2NjU3NiA0LjcyNjA0MTEgMS45NjE0Nzg3NCAzLjM4OTM4MDc3IDAgMiBDMCAxLjM0IDAgMC42OCAwIDAgWiAiIGZpbGw9IiNFOEYxRUUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzOTQsOTMpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuOTggMCAzLjk2IDAgNiAwIEM2IDAuOTkgNiAxLjk4IDYgMyBDMy42OSAzIDEuMzggMyAtMSAzIEMtMC42NyAyLjAxIC0wLjM0IDEuMDIgMCAwIFogIiBmaWxsPSIjRjhGQkY5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDEyLDkwKSIvPgo8cGF0aCBkPSJNMCAwIEMwLjMzIDEuMzIgMC42NiAyLjY0IDEgNCBDMS42NiA0IDIuMzIgNCAzIDQgQzMuNjYgNS42NSA0LjMyIDcuMyA1IDkgQzMuMDYyNSA4LjYyNSAzLjA2MjUgOC42MjUgMSA4IEMtMC4zNTQzOTY2OCA1LjI5MTIwNjY1IC0wLjA2NTAxNDUxIDIuOTkwNjY3MzIgMCAwIFogIiBmaWxsPSIjRDRFNERFIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzY4LDc4KSIvPgo8cGF0aCBkPSJNMCAwIEMwLjk5IDAuMzMgMS45OCAwLjY2IDMgMSBDMi4zNCAzLjMxIDEuNjggNS42MiAxIDggQzAuMzQgOCAtMC4zMiA4IC0xIDggQy0xLjEyNSAyLjI1IC0xLjEyNSAyLjI1IDAgMCBaICIgZmlsbD0iI0VGRjVGMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM3MCw3NCkiLz4KPHBhdGggZD0iTTAgMCBDMi4wMDcyMDkyMyAwLjI4Njc0NDE4IDQuMDA4NTk0NCAwLjYxODY2NzAxIDYgMSBDNiAxLjY2IDYgMi4zMiA2IDMgQzQuMzUgMyAyLjcgMyAxIDMgQzEgMy45OSAxIDQuOTggMSA2IEMwLjM0IDYgLTAuMzIgNiAtMSA2IEMtMS4wNDI3MjEgNC4zMzM4ODA5NSAtMS4wNDA2MzgzMiAyLjY2NjE3MTE1IC0xIDEgQy0wLjY3IDAuNjcgLTAuMzQgMC4zNCAwIDAgWiAiIGZpbGw9IiM3MkE5OTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNjMsNjMpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuOTM3NSAwLjY4NzUgMS45Mzc1IDAuNjg3NSA0IDIgQzQuNzUgNC42MjUgNC43NSA0LjYyNSA1IDcgQzQuMzQgNyAzLjY4IDcgMyA3IEMwIDIuNjE1Mzg0NjIgMCAyLjYxNTM4NDYyIDAgMCBaICIgZmlsbD0iIzBDNkI0NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM1MSw5NykiLz4KPHBhdGggZD0iTTAgMCBDMS4zMiAwIDIuNjQgMCA0IDAgQzQgMC45OSA0IDEuOTggNCAzIEMyLjAyIDMuNjYgMC4wNCA0LjMyIC0yIDUgQy0xLjM0IDMuMzUgLTAuNjggMS43IDAgMCBaICIgZmlsbD0iI0U2RjBFQyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMyNSw4MCkiLz4KPHBhdGggZD0iTTAgMCBDMS4zMiAwIDIuNjQgMCA0IDAgQzMuNjcgMS4zMiAzLjM0IDIuNjQgMyA0IEMyLjAxIDQgMS4wMiA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiMwMDg0MjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxNjksODcpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuOTkgMCAxLjk4IDAgMyAwIEMyLjM0IDEuMzIgMS42OCAyLjY0IDEgNCBDMC42NyAyLjY4IDAuMzQgMS4zNiAwIDAgWiAiIGZpbGw9IiMxRTcwQzEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2MTcsMTAyKSIvPgo8L3N2Zz4K" style="
            width: 742.5px;
            position: relative;
            top: 107px;
            left: 32px;
            ">
            <a href=`+F5+` style="
        float: left;
        border-radius: 56px;
        background: #0D6EFD;
        padding-top: 8px;
        width: 280px;
        height: 38px;
        text-align: center;
        position: relative;
        top: 127px;
        left: 274px;
        font-size: 16px;
        color: white;
        text-decoration: none;
        letter-spacing: 0.02em;
    ">Claim your FREE account</a>
            <div style="
    font-size: 14px;
    position: relative;
    top: 180px;
    left: 19px;
    letter-spacing: 0.02em;
    font-weight: 500;
    line-height: 125%;
">have a Syncfusion<sup></sup> account? <a href="https://www.syncfusion.com/account/login?ReturnUrl=/account/login" style="text-decoration: none;
color: #0D6EFD;
font-weight: 500;">Sign In</a></div>
        </div>
    </div>`;if(typeof document<"u"&&!v(document)){var t=Be("div",{innerHTML:r});document.body.appendChild(t)}},sne=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),dD=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},B5=0,xC,sP=0,MC=0,aP=!0,oP=!1,Dl=(function(r){sne(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.randomId=cre(),n.isStringTemplate=!1,n.needsID=!1,n.isReactHybrid=!1,n.isAngular=!1,n.isReact=!1,n.isVue=!1,v(n.enableRtl)&&n.setProperties({enableRtl:$re},!0),v(n.locale)&&n.setProperties({locale:eL},!0),n.moduleLoader=new _re(n),n.localObserver=new gA(n),Hw.on("notifyExternalChange",n.detectFunction,n,n.randomId),typeof window<"u"&&typeof document<"u"&&!rne(n.getModuleName())&&Xre.indexOf(n.getModuleName())!==-1&&(MC=MC+1,MC>5&&(aP=!1)),Wi(i)||n.appendTo(),n}return t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&(this.setPersistData(),this.detachUnloadEvent()),this.localObserver.destroy(),!this.refreshing&&(Oe([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),r.prototype.destroy.call(this),this.moduleLoader.clean(),Hw.off("notifyExternalChange",this.detectFunction,this.randomId)))},t.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.enablePersistence&&this.attachUnloadEvent(),this.localObserver=new gA(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},t.prototype.accessMount=function(){this.mount&&!this.isReactHybrid&&this.mount()},t.prototype.getRootElement=function(){return this.isReactHybrid?this.actualElement:this.element},t.prototype.getLocalData=function(){var e=this.getModuleName()+this.element.id;return window.localStorage.getItem(e)},t.prototype.attachUnloadEvent=function(){this.handleUnload=this.handleUnload.bind(this),window.addEventListener("pagehide",this.handleUnload)},t.prototype.handleUnload=function(){this.setPersistData()},t.prototype.detachUnloadEvent=function(){window.removeEventListener("pagehide",this.handleUnload)},t.prototype.appendTo=function(e){if(!v(e)&&typeof e=="string"?this.element=Et(e,document):v(e)||(this.element=e),!v(this.element)){var i="e-"+this.getModuleName().toLowerCase();pe([this.element],["e-control",i]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),this.attachUnloadEvent());var n=Pe("ej2_instances",this.element);(!n||n.indexOf(this)===-1)&&r.prototype.addInstance.call(this),this.preRender(),this.injectModules();var s={schedule:"all",diagram:"all",PdfViewer:"all",grid:["logger"],richtexteditor:["link","table","image","audio","video","formatPainter","emojiPicker","pasteCleanup","htmlEditor","toolbar","importExport","codeBlock"],treegrid:["filter"],gantt:["tooltip"],chart:["Export","Zoom"],accumulationchart:["Export"],"query-builder":"all"},a=this.getModuleName();if(this.requiredModules&&(!s[""+a]||s[""+a]!=="all"))for(var o=this.requiredModules(),l=0,c=this.moduleLoader.getNonInjectedModules(o);l<c.length;l++){var u=c[l],d=u.name?u.name:u.member;if(!(s[""+a]&&s[""+a].indexOf(u.member)!==-1)){var p=a.charAt(0).toUpperCase()+a.slice(1);console.warn('[WARNING] :: Module "'+d+'" is not available in '+p+" component! You either misspelled the module name or forgot to load it.")}}!aP&&!oP&&(nne(),oP=!0),this.render(),this.mount?this.accessMount():this.trigger("created")}},t.prototype.renderComplete=function(e){this.isRendered=!0},t.prototype.dataBind=function(){this.injectModules(),r.prototype.dataBind.call(this)},t.prototype.on=function(e,i,n){if(typeof e=="string")this.localObserver.on(e,i,n);else for(var s=0,a=e;s<a.length;s++){var o=a[s];this.localObserver.on(o.event,o.handler,o.context)}},t.prototype.off=function(e,i){if(typeof e=="string")this.localObserver.off(e,i);else for(var n=0,s=e;n<s.length;n++){var a=s[n];this.localObserver.off(a.event,a.handler)}},t.prototype.notify=function(e,i){this.isDestroyed!==!0&&this.localObserver.notify(e,i)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var n=0;n<e.length;n++)this.prototype.injectedModules.indexOf(e[parseInt(n.toString(),10)])===-1&&this.prototype.injectedModules.push(e[parseInt(n.toString(),10)])},t.prototype.createElement=function(e,i,n){return Be(e,i)},t.prototype.triggerStateChange=function(e,i){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:i})},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.detectFunction=function(e){var i=Object.keys(e);i.length&&(this[i[0]]=e[i[0]])},t.prototype.mergePersistData=function(){var e;e=window.localStorage.getItem(this.getModuleName()+this.element.id),v(e)||e===""||this.setProperties(JSON.parse(e),!0)},t.prototype.setPersistData=function(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())},t.prototype.renderReactTemplates=function(e){v(e)||e()},t.prototype.clearTemplate=function(e,i,n){v(n)||n()},t.prototype.getUniqueID=function(e){return this.isHistoryChanged()&&(B5=0),xC=this.pageID(location.href),sP=history.length,e+"_"+xC+"_"+B5++},t.prototype.pageID=function(e){var i=0;if(e.length===0)return i;for(var n=0;n<e.length;n++){var s=e.charCodeAt(n);i=(i<<5)-i+s,i=i&i}return Math.abs(i)},t.prototype.isHistoryChanged=function(){return xC!==this.pageID(location.href)||sP!==history.length},t.prototype.addOnPersist=function(e){for(var i=this,n={},s=0,a=e;s<a.length;s++){var o=a[s],l=Pe(o,this);Wi(l)||Yr(o,this.getActualProperties(l),n)}return JSON.stringify(n,function(c,u){return i.getActualProperties(u)})},t.prototype.getActualProperties=function(e){return e instanceof fa?Pe("properties",e):e},t.prototype.ignoreOnPersist=function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))},t.prototype.iterateJsonProperties=function(e,i){for(var n={},s=function(u){if(i.indexOf(u)===-1){var d=e[""+u];if(typeof d=="object"&&!(d instanceof Array)){var p=i.filter(function(m){var y=RegExp;return new y(u+".").test(m)}).map(function(m){return m.replace(u+".","")});n[""+u]=a.iterateJsonProperties(a.getActualProperties(d),p)}else n[""+u]=d}},a=this,o=0,l=Object.keys(e);o<l.length;o++){var c=l[o];s(c)}return n},dD([ee(!1)],t.prototype,"enablePersistence",void 0),dD([ee()],t.prototype,"enableRtl",void 0),dD([ee()],t.prototype,"locale",void 0),t=dD([$n],t),t})(Ug);(function(){typeof window<"u"&&window.addEventListener("popstate",function(){B5=0})})();var cW=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),os=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ane={left:0,top:0,bottom:0,right:0},wC={isDragged:!1},one=(function(r){cW(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return os([ee(0)],t.prototype,"left",void 0),os([ee(0)],t.prototype,"top",void 0),t})(fa),tL=(function(r){cW(t,r);function t(i,n){var s=r.call(this,n,i)||this;return s.dragLimit=e.getDefaultPosition(),s.borderWidth=e.getDefaultPosition(),s.padding=e.getDefaultPosition(),s.diffX=0,s.prevLeft=0,s.prevTop=0,s.dragProcessStarted=!1,s.eleTop=0,s.tapHoldTimer=0,s.externalInitialize=!1,s.diffY=0,s.parentScrollX=0,s.parentScrollY=0,s.droppables={},s.bind(),s}e=t,t.prototype.bind=function(){this.toggleEvents(),Re.isIE&&pe([this.element],"e-block-touch"),this.droppables[this.scope]={}},t.getDefaultPosition=function(){return qe({},ane)},t.prototype.toggleEvents=function(i){var n;Wi(this.handle)||(n=Et(this.handle,this.element));var s=this.enableTapHold&&Re.isDevice&&Re.isTouch?this.mobileInitialize:this.initialize;i?se.remove(n||this.element,Re.isSafari()?"touchstart":Re.touchStartEvent,s):se.add(n||this.element,Re.isSafari()?"touchstart":Re.touchStartEvent,s,this)},t.prototype.mobileInitialize=function(i){var n=this,s=i.currentTarget;this.tapHoldTimer=setTimeout(function(){n.externalInitialize=!0,n.removeTapholdTimer(),n.initialize(i,s)},this.tapHoldThreshold),se.add(document,Re.isSafari()?"touchmove":Re.touchMoveEvent,this.removeTapholdTimer,this),se.add(document,Re.isSafari()?"touchend":Re.touchEndEvent,this.removeTapholdTimer,this)},t.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),se.remove(document,Re.isSafari()?"touchmove":Re.touchMoveEvent,this.removeTapholdTimer),se.remove(document,Re.isSafari()?"touchend":Re.touchEndEvent,this.removeTapholdTimer)},t.prototype.getScrollableParent=function(i,n){var s={vertical:"scrollHeight",horizontal:"scrollWidth"},a={vertical:"clientHeight",horizontal:"clientWidth"};return v(i)?null:i[s[""+n]]>i[a[""+n]]?(n==="vertical"?i.scrollTop>0:i.scrollLeft>0)?(n==="vertical"?(this.parentScrollY=this.parentScrollY+(this.parentScrollY===0?i.scrollTop:i.scrollTop-this.parentScrollY),this.tempScrollHeight=i.scrollHeight):(this.parentScrollX=this.parentScrollX+(this.parentScrollX===0?i.scrollLeft:i.scrollLeft-this.parentScrollX),this.tempScrollWidth=i.scrollWidth),v(i)?i:this.getScrollableParent(i.parentNode,n)):this.getScrollableParent(i.parentNode,n):this.getScrollableParent(i.parentNode,n)},t.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0,this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")},t.prototype.initialize=function(i,n){if(this.currentStateTarget=i.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=i.currentTarget||n,this.dragProcessStarted=!1,this.abort){var s=this.abort;typeof s=="string"&&(s=[s]);for(var a=0;a<s.length;a++)if(!v(Fe(i.target,s[parseInt(a.toString(),10)]))){this.isDragStarted()&&this.isDragStarted(!0);return}}this.preventDefault&&!Wi(i.changedTouches)&&i.type!=="touchstart"&&i.preventDefault(),this.element.setAttribute("aria-grabbed","true");var o=this.getCoordinates(i);if(this.initialPosition={x:o.pageX,y:o.pageY},!this.clone){var l=this.element.getBoundingClientRect();this.getScrollableValues(),i.clientX===i.pageX&&(this.parentScrollX=0),i.clientY===i.pageY&&(this.parentScrollY=0),this.relativeXPosition=o.pageX-(l.left+this.parentScrollX),this.relativeYPosition=o.pageY-(l.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(i):(se.add(document,Re.isSafari()?"touchmove":Re.touchMoveEvent,this.intDragStart,this),se.add(document,Re.isSafari()?"touchend":Re.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),i.type!=="touchstart"&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,se.trigger(document.documentElement,Re.isSafari()?"touchstart":Re.touchStartEvent,i)}},t.prototype.intDragStart=function(i){this.removeTapholdTimer();var n=!Wi(i.changedTouches);if(!(n&&i.changedTouches.length!==1)){var s=this.getCoordinates(i),a,o=getComputedStyle(this.element);this.margin={left:parseInt(o.marginLeft,10),top:parseInt(o.marginTop,10),right:parseInt(o.marginRight,10),bottom:parseInt(o.marginBottom,10)};var l=this.element;if(this.clone&&this.dragTarget){var c=Fe(i.target,this.dragTarget);v(c)||(l=c)}this.isReplaceDragEle&&(l=this.currentStateCheck(i.target,l)),this.offset=this.calculateParentPosition(l),this.position=this.getMousePosition(i,this.isDragScroll);var u=this.initialPosition.x-s.pageX,d=this.initialPosition.y-s.pageY,p=Math.sqrt(u*u+d*d);if(p>=this.distance||this.externalInitialize){var m=this.getHelperElement(i);if(!m||v(m))return;n&&i.preventDefault();var y=this.helperElement=m;if(this.parentClientRect=this.calculateParentPosition(y.offsetParent),this.dragStart){var M=this.getProperTargetElement(i),w={event:i,element:l,target:M,bindEvents:null,dragElement:y};this.trigger("dragStart",w)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),a={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var b=getComputedStyle(l),D=parseFloat(b.marginTop);this.clone&&D!==0&&(a.top+=D),this.eleTop=isNaN(parseFloat(b.top))?0:parseFloat(b.top)-this.offset.top,this.enableScrollHandler&&!this.clone&&(a.top-=this.parentScrollY,a.left-=this.parentScrollX);var E=this.getProcessedPositionValue({top:a.top-this.diffY+"px",left:a.left-this.diffX+"px"});this.dragArea&&typeof this.dragArea!="string"&&this.dragArea.classList.contains("e-kanban-content")&&this.dragArea.style.position==="relative"&&(a.top+=this.dragArea.scrollTop),this.dragElePosition={top:a.top,left:a.left},ui(y,this.getDragPosition({position:"absolute",left:E.left,top:E.top})),se.remove(document,Re.isSafari()?"touchmove":Re.touchMoveEvent,this.intDragStart),se.remove(document,Re.isSafari()?"touchend":Re.touchEndEvent,this.intDestroy),this.bindDragEvents(y)}}},t.prototype.bindDragEvents=function(i){Ra(i)?(se.add(document,Re.isSafari()?"touchmove":Re.touchMoveEvent,this.intDrag,this),se.add(document,Re.isSafari()?"touchend":Re.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,i)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},t.prototype.elementInViewport=function(i){for(this.top=i.offsetTop,this.left=i.offsetLeft,this.width=i.offsetWidth,this.height=i.offsetHeight;i.offsetParent;)i=i.offsetParent,this.top+=i.offsetTop,this.left+=i.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},t.prototype.getProcessedPositionValue=function(i){return this.queryPositionInfo?this.queryPositionInfo(i):i},t.prototype.calculateParentPosition=function(i){if(v(i))return{left:0,top:0};var n=i.getBoundingClientRect(),s=getComputedStyle(i);return{left:n.left+window.pageXOffset-parseInt(s.marginLeft,10),top:n.top+window.pageYOffset-parseInt(s.marginTop,10)}},t.prototype.intDrag=function(i){if(!(!Wi(i.changedTouches)&&i.changedTouches.length!==1)){this.clone&&i.changedTouches&&Re.isDevice&&Re.isTouch&&i.preventDefault();var n,s;this.position=this.getMousePosition(i,this.isDragScroll);var a=this.getDocumentWidthHeight("Height");a<this.position.top&&(this.position.top=a);var o=this.getDocumentWidthHeight("Width");if(o<this.position.left&&(this.position.left=o),this.drag){var l=this.getProperTargetElement(i);this.trigger("drag",{event:i,element:this.element,target:l})}var c=this.checkTargetElement(i);if(c.target&&c.instance){var u=!0;this.hoverObject&&(this.hoverObject.instance!==c.instance?this.triggerOutFunction(i,c):u=!1),u&&(c.instance.dragData[this.scope]=this.droppables[this.scope],c.instance.intOver(i,c.target),this.hoverObject=c)}else this.hoverObject&&this.triggerOutFunction(i,c);var d=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var p=this.parentClientRect.left,m=this.parentClientRect.top,y=this.getCoordinates(i),M=y.pageX,w=y.pageY,b=this.position.left-this.diffX,D=this.position.top-this.diffY,E=getComputedStyle(d);if(this.dragArea){if(this.enableAutoScroll&&this.setDragArea(),this.pageX!==M||this.skipDistanceCheck){var N=d.offsetWidth+(parseFloat(E.marginLeft)+parseFloat(E.marginRight));this.dragLimit.left>b&&b>0?n=this.dragLimit.left:this.dragLimit.right+window.pageXOffset<b+N&&b>0?n=b-(b-this.dragLimit.right)+window.pageXOffset-N:n=b<0?this.dragLimit.left:b}if(this.pageY!==w||this.skipDistanceCheck){var B=d.offsetHeight+(parseFloat(E.marginTop)+parseFloat(E.marginBottom));this.dragLimit.top>D&&D>0?s=this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<D+B&&D>0?s=D-(D-this.dragLimit.bottom)+window.pageYOffset-B:s=D<0?this.dragLimit.top:D}}else n=b,s=D;var P=m+this.borderWidth.top,C=p+this.borderWidth.left;this.dragProcessStarted&&(v(s)&&(s=this.prevTop),v(n)&&(n=this.prevLeft));var k,_;if(this.helperElement.classList.contains("e-treeview"))this.dragArea?(this.dragLimit.top=this.clone?this.dragLimit.top:0,k=s-P<0?this.dragLimit.top:s-this.borderWidth.top,_=n-C<0?this.dragLimit.left:n-this.borderWidth.left):(k=s-this.borderWidth.top,_=n-this.borderWidth.left);else if(this.dragArea){var H=this.helperElement.classList.contains("e-dialog");this.dragLimit.top=this.clone?this.dragLimit.top:0,k=s-P<0?this.dragLimit.top:s-P,_=n-C<0?H?n-(C-this.borderWidth.left):this.dragElePosition.left:n-C}else k=s-P,_=n-C;var j=parseFloat(getComputedStyle(this.element).marginTop);if(j>0&&(this.clone&&(k+=j,D<0&&(j+D>=0?k=j+D:k-=j),this.dragArea&&(k=this.dragLimit.bottom<k?this.dragLimit.bottom:k)),s-P<0))if(D+j+(d.offsetHeight-P)>=0){var z=this.dragLimit.top+D-P;z+j+P<0?k-=j+P:k=z}else k-=j+P;if(this.dragArea&&this.helperElement.classList.contains("e-treeview")){var B=d.offsetHeight+(parseFloat(E.marginTop)+parseFloat(E.marginBottom));k=k+B>this.dragLimit.bottom?this.dragLimit.bottom-B:k}this.enableScrollHandler&&!this.clone&&(k-=this.parentScrollY,_-=this.parentScrollX),this.dragArea&&typeof this.dragArea!="string"&&this.dragArea.classList.contains("e-kanban-content")&&this.dragArea.style.position==="relative"&&(k+=this.dragArea.scrollTop);var F=this.getProcessedPositionValue({top:k+"px",left:_+"px"});this.isPreventScroll&&(F=this.getProcessedPositionValue({top:this.position.top-this.parentClientRect.top-2+"px",left:this.position.left-this.parentClientRect.left-2+"px"})),ui(d,this.getDragPosition(F)),!this.elementInViewport(d)&&this.enableAutoScroll&&!this.helperElement.classList.contains("e-treeview")&&this.helperElement.scrollIntoView();var X=document.querySelectorAll(":hover");if(this.enableAutoScroll&&this.helperElement.classList.contains("e-treeview")){X.length===0&&(X=this.getPathElements(i));var J=this.getScrollParent(X,!1);this.elementInViewport(this.helperElement)?this.getScrollPosition(J,k):this.elementInViewport(this.helperElement)||(X=[].slice.call(document.querySelectorAll(":hover")),X.length===0&&(X=this.getPathElements(i)),J=this.getScrollParent(X,!0),this.getScrollPosition(J,k))}this.dragProcessStarted=!0,this.prevLeft=n,this.prevTop=s,this.position.left=n,this.position.top=s,this.pageX=M,this.pageY=w}},t.prototype.getScrollParent=function(i,n){for(var s=n?i.reverse():i,a,o=s.length-1;o>=0;o--)if(a=window.getComputedStyle(s[parseInt(o.toString(),10)])["overflow-y"],(a==="auto"||a==="scroll")&&s[parseInt(o.toString(),10)].scrollHeight>s[parseInt(o.toString(),10)].clientHeight)return s[parseInt(o.toString(),10)];if(a=window.getComputedStyle(document.scrollingElement)["overflow-y"],a==="visible")return document.scrollingElement.style.overflow="auto",document.scrollingElement},t.prototype.getScrollPosition=function(i,n){if(i&&i===document.scrollingElement)i.clientHeight+document.scrollingElement.scrollTop-this.helperElement.clientHeight<n&&i.getBoundingClientRect().height+this.parentClientRect.top>n?i.scrollTop+=this.helperElement.clientHeight:i.scrollTop>n-this.helperElement.clientHeight&&(i.scrollTop-=this.helperElement.clientHeight);else if(i&&i!==document.scrollingElement){var s=document.scrollingElement.scrollTop,a=this.helperElement.clientHeight;i.clientHeight+i.getBoundingClientRect().top-a+s<n?i.scrollTop+=this.helperElement.clientHeight:i.getBoundingClientRect().top>n-a-s&&(i.scrollTop-=this.helperElement.clientHeight)}},t.prototype.getPathElements=function(i){var n=i.clientX>0?i.clientX:0,s=i.clientY>0?i.clientY:0;return document.elementsFromPoint(n,s)},t.prototype.triggerOutFunction=function(i,n){this.hoverObject.instance.intOut(i,n.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},t.prototype.getDragPosition=function(i){var n=qe({},i);return this.axis&&(this.axis==="x"?delete n.top:this.axis==="y"&&delete n.left),n},t.prototype.getDocumentWidthHeight=function(i){var n=document.body,s=document.documentElement,a=Math.max(n["scroll"+i],s["scroll"+i],n["offset"+i],s["offset"+i],s["client"+i]);return a},t.prototype.intDragStop=function(i){if(this.dragProcessStarted=!1,!(!Wi(i.changedTouches)&&i.changedTouches.length!==1)){var n=["touchend","pointerup","mouseup"];if(n.indexOf(i.type)!==-1){if(this.dragStop){var s=this.getProperTargetElement(i);this.trigger("dragStop",{event:i,element:this.element,target:s,helper:this.helperElement})}this.intDestroy(i)}else this.element.setAttribute("aria-grabbed","false");var a=this.checkTargetElement(i);a.target&&a.instance&&(a.instance.dragStopCalled=!0,a.instance.dragData[this.scope]=this.droppables[this.scope],a.instance.intDrop(i,a.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},t.prototype.intDestroy=function(i){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),se.remove(document,Re.isSafari()?"touchmove":Re.touchMoveEvent,this.intDragStart),se.remove(document,Re.isSafari()?"touchend":Re.touchEndEvent,this.intDragStop),se.remove(document,Re.isSafari()?"touchend":Re.touchEndEvent,this.intDestroy),se.remove(document,Re.isSafari()?"touchmove":Re.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},t.prototype.onPropertyChanged=function(i,n){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.isDragStarted=function(i){return i&&(wC.isDragged=!wC.isDragged),wC.isDragged},t.prototype.setDragArea=function(){var i,n,s=0,a=0,o,l=typeof this.dragArea;if(l==="string"?o=Et(this.dragArea):o=this.dragArea,o){var c=o.getBoundingClientRect();i=o.scrollWidth?o.scrollWidth:c.right-c.left,n=o.scrollHeight?this.dragArea&&!v(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?o.clientHeight:o.scrollHeight:c.bottom-c.top;for(var u=["Top","Left","Bottom","Right"],d=getComputedStyle(o),p=0;p<u.length;p++){var m=u[parseInt(p.toString(),10)],y=d["border"+m+"Width"],M=d["padding"+m],w=m.toLowerCase();this.borderWidth[""+w]=isNaN(parseFloat(y))?0:parseFloat(y),this.padding[""+w]=isNaN(parseFloat(M))?0:parseFloat(M)}this.dragArea&&!v(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?s=c.top+document.scrollingElement.scrollTop:s=c.top,a=c.left,this.dragLimit.left=a+this.borderWidth.left+this.padding.left,this.dragLimit.top=o.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=a+i-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=s+n-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(i){var n=this.getCoordinates(i),s,a=this.helperElement.style.pointerEvents||"",o=i.type.indexOf("pointer")!==-1&&Re.info.name==="safari"&&parseInt(Re.info.version,10)>12;return Xk(i.target,this.helperElement)||i.type.indexOf("touch")!==-1||o?(this.helperElement.style.pointerEvents="none",s=document.elementFromPoint(n.clientX,n.clientY),this.helperElement.style.pointerEvents=a):s=i.target,s},t.prototype.currentStateCheck=function(i,n){var s;return!v(this.currentStateTarget)&&this.currentStateTarget!==i?s=this.currentStateTarget:s=v(n)?i:n,s},t.prototype.getMousePosition=function(i,n){var s=i.srcElement!==void 0?i.srcElement:i.target,a=this.getCoordinates(i),o,l,c=v(s.offsetParent);if(n?(o=this.clone?a.pageX:a.pageX+(c?0:s.offsetParent.scrollLeft)-this.relativeXPosition,l=this.clone?a.pageY:a.pageY+(c?0:s.offsetParent.scrollTop)-this.relativeYPosition):(o=this.clone?a.pageX:a.pageX+window.pageXOffset-this.relativeXPosition,l=this.clone?a.pageY:a.pageY+window.pageYOffset-this.relativeYPosition),document.scrollingElement&&!n&&!this.clone){var u=document.scrollingElement,d=u.scrollHeight>0&&u.scrollHeight>u.clientHeight&&u.scrollTop>0,p=u.scrollWidth>0&&u.scrollWidth>u.clientWidth&&u.scrollLeft>0;o=p?o-u.scrollLeft:o,l=d?l-u.scrollTop:l}return{left:o-(this.margin.left+this.cursorAt.left),top:l-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(i){return i.type.indexOf("touch")>-1?i.changedTouches[0]:i},t.prototype.getHelperElement=function(i){var n;return this.clone?this.helper?n=this.helper({sender:i,element:this.target,currentTargetElement:this.currentStateTarget}):(n=Be("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(n)):n=this.element,n},t.prototype.setGlobalDroppables=function(i,n,s){this.droppables[this.scope]=i?null:{draggable:n,helper:s,draggedElement:this.element}},t.prototype.checkTargetElement=function(i){var n=this.getProperTargetElement(i),s=this.getDropInstance(n);if(!s&&n&&!v(n.parentNode)){var a=Fe(n.parentNode,".e-droppable")||n.parentElement;a&&(s=this.getDropInstance(a))}return{target:n,instance:s}},t.prototype.getDropInstance=function(i){var n="getModuleName",s,a=i&&i.ej2_instances;if(a)for(var o=0,l=a;o<l.length;o++){var c=l[o];if(c[""+n]()==="droppable"){s=c;break}}return s},t.prototype.destroy=function(){this.toggleEvents(!0),r.prototype.destroy.call(this)};var e;return os([Yn({},one)],t.prototype,"cursorAt",void 0),os([ee(!0)],t.prototype,"clone",void 0),os([ee()],t.prototype,"dragArea",void 0),os([ee()],t.prototype,"isDragScroll",void 0),os([ee()],t.prototype,"isReplaceDragEle",void 0),os([ee(!0)],t.prototype,"isPreventSelect",void 0),os([ee(!1)],t.prototype,"isPreventScroll",void 0),os([Xe()],t.prototype,"drag",void 0),os([Xe()],t.prototype,"dragStart",void 0),os([Xe()],t.prototype,"dragStop",void 0),os([ee(1)],t.prototype,"distance",void 0),os([ee()],t.prototype,"handle",void 0),os([ee()],t.prototype,"abort",void 0),os([ee()],t.prototype,"helper",void 0),os([ee("default")],t.prototype,"scope",void 0),os([ee("")],t.prototype,"dragTarget",void 0),os([ee()],t.prototype,"axis",void 0),os([ee()],t.prototype,"queryPositionInfo",void 0),os([ee(!1)],t.prototype,"enableTailMode",void 0),os([ee(!1)],t.prototype,"skipDistanceCheck",void 0),os([ee(!0)],t.prototype,"preventDefault",void 0),os([ee(!1)],t.prototype,"enableAutoScroll",void 0),os([ee(!1)],t.prototype,"enableTapHold",void 0),os([ee(750)],t.prototype,"tapHoldThreshold",void 0),os([ee(!1)],t.prototype,"enableScrollHandler",void 0),t=e=os([$n],t),t})(Ug),lne=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),My=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},cne=(function(r){lne(t,r);function t(e,i){var n=r.call(this,i,e)||this;return n.mouseOver=!1,n.dragData={},n.dragStopCalled=!1,n.bind(),n}return t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){se.add(this.element,Re.isSafari()?"touchend":Re.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(e,i){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(e,i){if(!this.mouseOver){var n=this.dragData[this.scope];this.trigger("over",{event:e,target:i,dragData:n}),this.mouseOver=!0}},t.prototype.intOut=function(e,i){this.mouseOver&&(this.trigger("out",{evt:e,target:i}),this.mouseOver=!1)},t.prototype.intDrop=function(e,i){if(this.dragStopCalled)this.dragStopCalled=!1;else return;var n=!0,s=this.dragData[this.scope],a=s?s.helper&&Ra(s.helper):!1,o;a&&(o=this.isDropArea(e,s.helper,i),this.accept&&(n=Zk(s.helper,this.accept))),a&&this.drop&&o.canDrop&&n&&this.trigger("drop",{event:e,target:o.target,droppedElement:s.helper,dragData:s}),this.mouseOver=!1},t.prototype.isDropArea=function(e,i,n){var s={canDrop:!0,target:n||e.target},a=e.type==="touchend";if(a||s.target===i){i.style.display="none";var o=a?e.changedTouches[0]:e,l=document.elementFromPoint(o.clientX,o.clientY);s.canDrop=!1,s.canDrop=Xk(l,this.element),s.canDrop&&(s.target=l),i.style.display=""}return s},t.prototype.destroy=function(){se.remove(this.element,Re.isSafari()?"touchend":Re.touchEndEvent,this.intDrop),r.prototype.destroy.call(this)},My([ee()],t.prototype,"accept",void 0),My([ee("default")],t.prototype,"scope",void 0),My([Xe()],t.prototype,"drop",void 0),My([Xe()],t.prototype,"over",void 0),My([Xe()],t.prototype,"out",void 0),t=My([$n],t),t})(Ug),une=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),fD=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},hne={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},Yl=(function(r){une(t,r);function t(i,n){var s=r.call(this,n,i)||this;return s.keyPressHandler=function(a){for(var o=a.altKey,l=a.ctrlKey,c=a.shiftKey,u=a.which,d=Object.keys(s.keyConfigs),p=0,m=d;p<m.length;p++)for(var y=m[p],M=s.keyConfigs[""+y].split(","),w=0,b=M;w<b.length;w++){var D=b[w],E=e.getKeyConfigData(D.trim());o===E.altKey&&l===E.ctrlKey&&c===E.shiftKey&&u===E.keyCode&&(a.action=y,s.keyAction&&s.keyAction(a))}},s.bind(),s}e=t,t.prototype.destroy=function(){this.unwireEvents(),r.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(i,n){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(i){if(i in this.configCache)return this.configCache[""+i];var n=i.toLowerCase().split("+"),s={altKey:n.indexOf("alt")!==-1,ctrlKey:n.indexOf("ctrl")!==-1,shiftKey:n.indexOf("shift")!==-1,keyCode:null};return n[n.length-1].length>1&&Number(n[n.length-1])?s.keyCode=Number(n[n.length-1]):s.keyCode=e.getKeyCode(n[n.length-1]),e.configCache[""+i]=s,s},t.getKeyCode=function(i){return hne[""+i]||i.toUpperCase().charCodeAt(0)};var e;return t.configCache={},fD([ee({})],t.prototype,"keyConfigs",void 0),fD([ee("keyup")],t.prototype,"eventName",void 0),fD([Xe()],t.prototype,"keyAction",void 0),t=e=fD([$n],t),t})(Ug),Ql=(function(){function r(t,e,i){this.controlName=t,this.localeStrings=e,this.setLocale(i||eL)}return r.prototype.setLocale=function(t){var e=this.intGetControlConstant(r.locale,t);this.currentLocale=e||this.localeStrings},r.load=function(t){this.locale=qe(this.locale,t,{},!0)},r.prototype.getConstant=function(t){return v(this.currentLocale[""+t])?this.localeStrings[""+t]||"":this.currentLocale[""+t]},r.prototype.intGetControlConstant=function(t,e){return t[""+e]?t[""+e][this.controlName]:null},r.locale={},r})(),uW=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),hp=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},dne=(function(r){uW(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return hp([ee(50)],t.prototype,"swipeThresholdDistance",void 0),t})(fa),fne=/(Up|Down)/,sf=(function(r){uW(t,r);function t(e,i){var n=r.call(this,i,e)||this;return n.touchAction=!0,n.tapCount=0,n.startEvent=function(s){if(n.touchAction===!0){var a=n.updateChangeTouches(s);s.changedTouches!==void 0&&(n.touchAction=!1),n.isTouchMoved=!1,n.movedDirection="",n.startPoint=n.lastMovedPoint={clientX:a.clientX,clientY:a.clientY},n.startEventData=a,n.hScrollLocked=n.vScrollLocked=!1,n.tStampStart=Date.now(),n.timeOutTapHold=setTimeout(function(){n.tapHoldEvent(s)},n.tapHoldThreshold),se.add(n.element,Re.touchMoveEvent,n.moveEvent,n),se.add(n.element,Re.touchEndEvent,n.endEvent,n),se.add(n.element,Re.touchCancelEvent,n.cancelEvent,n)}},n.moveEvent=function(s){var a=n.updateChangeTouches(s);n.movedPoint=a,n.isTouchMoved=!(a.clientX===n.startPoint.clientX&&a.clientY===n.startPoint.clientY);var o={};if(n.isTouchMoved){clearTimeout(n.timeOutTapHold),n.calcScrollPoints(s);var l={startEvents:n.startEventData,originalEvent:s,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,scrollDirection:n.scrollDirection,velocity:n.getVelocity(a)};o=qe(o,{},l),n.trigger("scroll",o),n.lastMovedPoint={clientX:a.clientX,clientY:a.clientY}}},n.cancelEvent=function(s){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap),n.tapCount=0,n.swipeFn(s),se.remove(n.element,Re.touchCancelEvent,n.cancelEvent)},n.endEvent=function(s){n.swipeFn(s),n.isTouchMoved||typeof n.tap=="function"&&(n.trigger("tap",{originalEvent:s,tapCount:++n.tapCount}),n.timeOutTap=setTimeout(function(){n.tapCount=0},n.tapThreshold)),n.modeclear()},n.swipeFn=function(s){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap);var a=n.updateChangeTouches(s),o=a.clientX-n.startPoint.clientX,l=a.clientY-n.startPoint.clientY;o=Math.floor(o<0?-1*o:o),l=Math.floor(l<0?-1*l:o),n.isTouchMoved=o>1||l>1;var c=/Firefox/.test(Re.userAgent);c&&a.clientX===0&&a.clientY===0&&s.type==="mouseup"&&(n.isTouchMoved=!1),n.endPoint=a,n.calcPoints(s);var u={originalEvent:s,startEvents:n.startEventData,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,swipeDirection:n.movedDirection,velocity:n.getVelocity(a)};if(n.isTouchMoved){var d=n.swipeSettings.swipeThresholdDistance,p=qe(void 0,n.defaultArgs,u),m=!1,y=n.element,M=n.isScrollable(y),w=fne.test(n.movedDirection);(d<n.distanceX&&!w||d<n.distanceY&&w)&&(M?m=n.checkSwipe(y,w):m=!0),m&&n.trigger("swipe",p)}n.modeclear()},n.modeclear=function(){n.modeClear=setTimeout(function(){n.touchAction=!0},typeof n.tap!="function"?0:20),n.lastTapTime=new Date().getTime(),se.remove(n.element,Re.touchMoveEvent,n.moveEvent),se.remove(n.element,Re.touchEndEvent,n.endEvent),se.remove(n.element,Re.touchCancelEvent,n.cancelEvent)},n.bind(),n}return t.prototype.onPropertyChanged=function(e,i){},t.prototype.bind=function(){this.wireEvents(),Re.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents(),r.prototype.destroy.call(this)},t.prototype.wireEvents=function(){se.add(this.element,Re.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){se.remove(this.element,Re.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(e){var i=getComputedStyle(e),n=i.overflow+i.overflowX+i.overflowY;return!!/(auto|scroll)/.test(n)},t.prototype.tapHoldEvent=function(e){this.tapCount=0,this.touchAction=!0,se.remove(this.element,Re.touchMoveEvent,this.moveEvent),se.remove(this.element,Re.touchEndEvent,this.endEvent);var i={originalEvent:e};this.trigger("tapHold",i),se.remove(this.element,Re.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(e){var i=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.startPoint.clientY)),this.distanceX>this.distanceY?this.movedDirection=i.clientX>this.startPoint.clientX?"Right":"Left":this.movedDirection=i.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(e){var i=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||this.hScrollLocked===!0)&&this.vScrollLocked===!1?(this.scrollDirection=i.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=i.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(e){var i=e.clientX,n=e.clientY,s=Date.now(),a=i-this.startPoint.clientX,o=n-this.startPoint.clientX,l=s-this.tStampStart;return Math.sqrt(a*a+o*o)/l},t.prototype.checkSwipe=function(e,i){var n=["scroll","offset"],s=i?["Height","Top"]:["Width","Left"];return e[n[0]+s[0]]<=e[n[1]+s[0]]?!0:e[n[0]+s[1]]===0||e[n[1]+s[0]]+e[n[0]+s[1]]>=e[n[0]+s[0]]},t.prototype.updateChangeTouches=function(e){var i=e.changedTouches&&e.changedTouches.length!==0?e.changedTouches[0]:e;return i},hp([Xe()],t.prototype,"tap",void 0),hp([Xe()],t.prototype,"tapHold",void 0),hp([Xe()],t.prototype,"swipe",void 0),hp([Xe()],t.prototype,"scroll",void 0),hp([ee(350)],t.prototype,"tapThreshold",void 0),hp([ee(750)],t.prototype,"tapHoldThreshold",void 0),hp([Yn({},dne)],t.prototype,"swipeSettings",void 0),t=hp([$n],t),t})(Ug),pne=new RegExp("\\n|\\r|\\s\\s+","g"),mne=new RegExp(/'|"/g),gne=new RegExp("if ?\\("),vne=new RegExp("else if ?\\("),lP=new RegExp("else"),yne=new RegExp("for ?\\("),cP=new RegExp("(/if|/for)"),xne=new RegExp("\\((.*)\\)",""),iL=new RegExp("^[0-9]+$","g"),Mne=new RegExp(`[\\w"'.\\s+]+`,"g"),wne=new RegExp('"(.*?)"',"g"),Tne=new RegExp(`[\\w"'@#$.\\s-+]+`,"g"),uP=new RegExp("\\${([^}]*)}","g"),bne=/^\..*/gm,U5=/\\/gi,Dne=/\\\\/gi,Ene=new RegExp(`[\\w"'@#$.\\s+]+`,"g"),Ane=/\window\./gm;function Sne(r,t,e){if(typeof r=="function")return r;var i="data",n=Nne(r,i,t),s=`var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\\s]+)['])/g);
        var hrefRegex = (/(?:href)([\\s='"./]+)([\\w-./?=&\\\\#"]+)((.)([\\w)(!-;/?-\\s]+)['])/g);
        if(str.match(valueRegEx)){
            var check = str.match(valueRegEx);
            var str1 = str;
            for (var i=0; i < check.length; i++) {
                var check1 = str.match(valueRegEx)[i].split('value=')[1];
                var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '"') : check1;
                change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'"') : change;
                str1 = str1.replace(check1, change);
            }
            str = str.replace(str, str1);
        }
        else if (str.match(/(?:href='')/) === null) {
            if(str.match(hrefRegex)) {
                var check = str.match(hrefRegex);
                var str1 = str;
                for (var i=0; i < check.length; i++) {
                    var check1 = str.match(hrefRegex)[i].split('href=')[1];
                    if (check1) {
                        var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '"') : check1;
                        change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'"') : change;
                        str1 = str1.replace(check1, change);
                    }
                }
                str = str.replace(str, str1);
            }
        }
        `,a='var str="'+n+'";'+s+" return str;",o=new Function(i,a);return o.bind(t)}function Nne(r,t,e,i){var n=0,s=[],a=r.match(/class="([^"]+|)\s{2}/g),o="";if(a&&a.forEach(function(d){o=d.replace(/\s\s+/g," "),r=r.replace(d,o)}),uP.test(r)){for(var l=!1,c="",u=0;u<r.length;u++)r[u+""]==="$"&&r[u+1]==="{"?l=!0:r[u+""]==="}"&&(l=!1),c+=r[u+""]==='"'&&!l?'\\"':r[u+""];r=c}else r=r.replace(/\\?"/g,'\\"');return r.replace(pne,"").replace(wne,"'$1'").replace(uP,function(d,p,m,y){var M=/@|#|\$/gm,w=p.match(xne);if(w){var b=w[1];if(vne.test(p))p='";} '+p.replace(w[1],b.replace(Mne,function(_){return _=_.trim(),_y(_,!mne.test(_)&&s.indexOf(_)===-1,t,s)}))+`{ 
 str = str + "`;else if(gne.test(p))p='"; '+p.replace(w[1],b.replace(Tne,function(_){return dP(_,t,s)}))+`{ 
 str = str + "`;else if(yne.test(p)){var D=w[1].split(" of ");p='"; '+p.replace(w[1],function(_){return s.push(D[0]),s.push(D[0]+"Index"),n=n+1,"var i"+n+"=0; i"+n+" < "+_y(D[1],!0,t,s)+".length; i"+n+"++"})+`{ 
 `+D[0]+"= "+_y(D[1],!0,t,s)+"[i"+n+`]; 
 var `+D[0]+"Index=i"+n+`; 
 str = str + "`}else{var E=p.split("("),N=e&&Object.prototype.hasOwnProperty.call(e,E[0])?"this.":"global";N=/\./.test(E[0])?"":N;var B=w[1].split(",");w[1].length!==0&&!/data/.test(B[0])&&!/window./.test(B[0])&&(w[1]=N==="global"?t+"."+w[1]:w[1]);var P=/@|\$|#/gm,C=/\]\./gm;if(Ane.test(p)&&C.test(p)||P.test(p)){var k=/@|\$|#|\]\./gm;k.test(p)&&(p='"+ '+(N==="global"?"":N)+p.replace(w[1],b.replace(Ene,function(_){return dP(_,t,s)}))+'+ "')}else p='" + '+(N==="global"?"":N)+p.replace(b,_y(w[1].replace(/,( |)data.|,/gi,","+t+".").replace(/,( |)data.window/gi,",window"),N!=="global",t,s))+'+"'}}else lP.test(p)?p='"; '+p.replace(lP,`} else { 
 str = str + "`):p.match(cP)?p=p.replace(cP,`"; 
 } 
 str = str + "`):M.test(p)?(p.match(U5)&&(p=hP(p)),p='"+'+V5(p,s.indexOf(p)===-1,t,s)+'"]+"'):p.match(U5)?(p=hP(p),p='"+'+V5(p,s.indexOf(p)===-1,t,s)+'"]+"'):p=p!==""?'"+'+_y(p.replace(/,/gi,"+"+t+"."),s.indexOf(p)===-1,t,s)+'+"':"${}";return p})}function _y(r,t,e,i,n){return t&&!iL.test(r)&&i.indexOf(r.split(".")[0])===-1&&r!=="true"&&r!=="false"?e+"."+r:r}function Ine(r,t,e,i){var n=/^\..*/gm;return t&&!iL.test(r)&&i.indexOf(r.split(".")[0])===-1&&!n.test(r)?e+"."+r:r}function V5(r,t,e,i){return t&&!iL.test(r)&&i.indexOf(r.split(".")[0])===-1?e+'["'+r:r}function hP(r){var t="\\\\";return r.match(Dne)?r:r.replace(U5,t)}function dP(r,t,e,i){r=r.trim();var n=/\window\./gm;if(n.test(r))return r;var s=/'|"/gm,a=/@|\$|#/gm;return a.test(r)&&(r=V5(r,e.indexOf(r)===-1,t,e)+'"]'),bne.test(r)?Ine(r,!s.test(r)&&e.indexOf(r)===-1,t,e):_y(r,!s.test(r)&&e.indexOf(r)===-1,t,e)}var Cne=/^[\n\r.]+<tr|^<tr/,One=/^[\n\r.]+<svg|^<path|^<g/;function jn(r,t,e){var i=nL.compile(r,t,e);return function(n,s,a,o,l,c,u,d){var p=i(n,s,a,u,d);if(typeof p=="string")if(One.test(p)){var m=Be("svg",{innerHTML:p});return m.childNodes}else{var m=Be(Cne.test(p)?"table":"div",{innerHTML:p});return m.childNodes}else return p}}function kne(r){nL.compile=r.compile}function Lne(){return nL.compile}function rL(r,t){var e;return r.prototype.CSPTemplate=!0,v(t)?e=r:(e=r.bind(t),e.prototype=Object.create(r.prototype)),e}var jne=(function(){function r(){}return r.prototype.compile=function(t,e,i){return e===void 0&&(e={}),Sne(t,e)},r})(),nL={compile:new jne().compile},_ne=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],zne=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"href",selector:"a[href]"},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],fP=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","oncanplay","oncanplaythrough","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeypress","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onstart","onpropertychange","oncopy","ontoggle","onpointerout","onpointermove","onpointerleave","onpointerenter","onpointerrawupdate","onpointerover","onbeforecopy","onbeforecut","onbeforeinput"],Io=(function(){function r(){}return r.beforeSanitize=function(){return{selectors:{tags:_ne,attributes:zne}}},r.sanitize=function(t){if(v(t))return t;var e=this.beforeSanitize(),i=this.serializeValue(e,t);return i},r.serializeValue=function(t,e){this.removeAttrs=t.selectors.attributes,this.removeTags=t.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=e,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var i=this.wrapElement.innerHTML;return this.removeElement(),this.wrapElement=null,i.replace(/&amp;/g,"&")},r.removeElement=function(){for(var t=this.wrapElement.children,e=0;e<t.length;e++)for(var i=t[parseInt(e.toString(),10)].attributes,n=0;n<i.length;n++)this.wrapElement.children[parseInt(e.toString(),10)].removeAttribute(i[parseInt(n.toString(),10)].localName)},r.removeXssTags=function(){var t=this.wrapElement.querySelectorAll(this.removeTags.join(","));if(t.length>0)t.forEach(function(e){zt(e)});else return},r.removeJsEvents=function(){var t=this.wrapElement.querySelectorAll("["+fP.join("],[")+"]");if(t.length>0)t.forEach(function(e){fP.forEach(function(i){e.hasAttribute(i)&&e.removeAttribute(i)})});else return},r.removeXssAttrs=function(){var t=this;this.removeAttrs.forEach(function(e,i){var n=t.wrapElement.querySelectorAll(e.selector);n.length>0&&(e.selector==="a[href]"?n.forEach(function(s){s.getAttribute(e.attribute).replace(/\t|\s|&/,"").indexOf("javascript:alert")!==-1&&s.removeAttribute(e.attribute)}):n.forEach(function(s){s.removeAttribute(e.attribute)}))})},r})(),pP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=function(r){const t=[];let e=0;for(let i=0;i<r.length;i++){let n=r.charCodeAt(i);n<128?t[e++]=n:n<2048?(t[e++]=n>>6|192,t[e++]=n&63|128):(n&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(n=65536+((n&1023)<<10)+(r.charCodeAt(++i)&1023),t[e++]=n>>18|240,t[e++]=n>>12&63|128,t[e++]=n>>6&63|128,t[e++]=n&63|128):(t[e++]=n>>12|224,t[e++]=n>>6&63|128,t[e++]=n&63|128)}return t},Rne=function(r){const t=[];let e=0,i=0;for(;e<r.length;){const n=r[e++];if(n<128)t[i++]=String.fromCharCode(n);else if(n>191&&n<224){const s=r[e++];t[i++]=String.fromCharCode((n&31)<<6|s&63)}else if(n>239&&n<365){const s=r[e++],a=r[e++],o=r[e++],l=((n&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=r[e++],a=r[e++];t[i++]=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63)}}return t.join("")},dW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let n=0;n<r.length;n+=3){const s=r[n],a=n+1<r.length,o=a?r[n+1]:0,l=n+2<r.length,c=l?r[n+2]:0,u=s>>2,d=(s&3)<<4|o>>4;let p=(o&15)<<2|c>>6,m=c&63;l||(m=64,a||(p=64)),i.push(e[u],e[d],e[p],e[m])}return i.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(hW(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Rne(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let n=0;n<r.length;){const s=e[r.charAt(n++)],o=n<r.length?e[r.charAt(n)]:0;++n;const c=n<r.length?e[r.charAt(n)]:64;++n;const d=n<r.length?e[r.charAt(n)]:64;if(++n,s==null||o==null||c==null||d==null)throw new Pne;const p=s<<2|o>>4;if(i.push(p),c!==64){const m=o<<4&240|c>>2;if(i.push(m),d!==64){const y=c<<6&192|d;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Pne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fne=function(r){const t=hW(r);return dW.encodeByteArray(t,!0)},vA=function(r){return Fne(r).replace(/\./g,"")},fW=function(r){try{return dW.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Une=()=>Bne().__FIREBASE_DEFAULTS__,Vne=()=>{if(typeof process>"u"||typeof pP>"u")return;const r=pP.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Hne=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&fW(r[1]);return t&&JSON.parse(t)},GS=()=>{try{return Une()||Vne()||Hne()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},pW=r=>{var t,e;return(e=(t=GS())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[r]},sL=r=>{const t=pW(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},mW=()=>{var r;return(r=GS())===null||r===void 0?void 0:r.config},gW=r=>{var t;return(t=GS())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wne=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",n=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:n,exp:n+3600,auth_time:n,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},r);return[vA(JSON.stringify(e)),vA(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($l())}function qne(){var r;const t=(r=GS())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qne(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gne(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Kne(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $ne(){const r=$l();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Xne(){return!qne()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jne(){try{return typeof indexedDB=="object"}catch{return!1}}function Zne(){return new Promise((r,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(i);n.onsuccess=()=>{n.result.close(),e||self.indexedDB.deleteDatabase(i),r(!0)},n.onupgradeneeded=()=>{e=!1},n.onerror=()=>{var s;t(((s=n.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ese="FirebaseError";class gf extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=ese,Object.setPrototypeOf(this,gf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_T.prototype.create)}}class _T{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},n=`${this.service}/${t}`,s=this.errors[t],a=s?tse(s,i):"Error",o=`${this.serviceName}: ${a} (${n}).`;return new gf(n,o,i)}}function tse(r,t){return r.replace(ise,(e,i)=>{const n=t[i];return n!=null?String(n):`<${i}?>`})}const ise=/\{\$([^}]+)}/g;function rse(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function yA(r,t){if(r===t)return!0;const e=Object.keys(r),i=Object.keys(t);for(const n of e){if(!i.includes(n))return!1;const s=r[n],a=t[n];if(mP(s)&&mP(a)){if(!yA(s,a))return!1}else if(s!==a)return!1}for(const n of i)if(!e.includes(n))return!1;return!0}function mP(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(r){const t=[];for(const[e,i]of Object.entries(r))Array.isArray(i)?i.forEach(n=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function QM(r){const t={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[n,s]=i.split("=");t[decodeURIComponent(n)]=decodeURIComponent(s)}}),t}function GM(r){const t=r.indexOf("?");if(!t)return"";const e=r.indexOf("#",t);return r.substring(t,e>0?e:void 0)}function nse(r,t){const e=new sse(r,t);return e.subscribe.bind(e)}class sse{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let n;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");ase(t,["next","error","complete"])?n=t:n={next:t,error:e,complete:i},n.next===void 0&&(n.next=TC),n.error===void 0&&(n.error=TC),n.complete===void 0&&(n.complete=TC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch{}}),this.observers.push(n),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ase(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function TC(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(r){return r&&r._delegate?r._delegate:r}class Fp{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ose{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new Wne;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&i.resolve(n)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),n=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cse(t))try{this.getOrInitializeService({instanceIdentifier:N0})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:n});i.resolve(s)}catch{}}}}clearInstance(t=N0){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=N0){return this.instances.has(t)}getOptions(t=N0){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&a.resolve(n)}return n}onInit(t,e){var i;const n=this.normalizeInstanceIdentifier(e),s=(i=this.onInitCallbacks.get(n))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(n,s);const a=this.instances.get(n);return a&&t(a,n),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const n of i)try{n(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lse(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=N0){return this.component?this.component.multipleInstances?t:N0:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lse(r){return r===N0?void 0:r}function cse(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new ose(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(rn||(rn={}));const hse={debug:rn.DEBUG,verbose:rn.VERBOSE,info:rn.INFO,warn:rn.WARN,error:rn.ERROR,silent:rn.SILENT},dse=rn.INFO,fse={[rn.DEBUG]:"log",[rn.VERBOSE]:"log",[rn.INFO]:"info",[rn.WARN]:"warn",[rn.ERROR]:"error"},pse=(r,t,...e)=>{if(t<r.logLevel)return;const i=new Date().toISOString(),n=fse[t];if(n)console[n](`[${i}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class aL{constructor(t){this.name=t,this._logLevel=dse,this._logHandler=pse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in rn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hse[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,rn.DEBUG,...t),this._logHandler(this,rn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,rn.VERBOSE,...t),this._logHandler(this,rn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,rn.INFO,...t),this._logHandler(this,rn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,rn.WARN,...t),this._logHandler(this,rn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,rn.ERROR,...t),this._logHandler(this,rn.ERROR,...t)}}const mse=(r,t)=>t.some(e=>r instanceof e);let gP,vP;function gse(){return gP||(gP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vse(){return vP||(vP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yW=new WeakMap,H5=new WeakMap,xW=new WeakMap,bC=new WeakMap,oL=new WeakMap;function yse(r){const t=new Promise((e,i)=>{const n=()=>{r.removeEventListener("success",s),r.removeEventListener("error",a)},s=()=>{e(mg(r.result)),n()},a=()=>{i(r.error),n()};r.addEventListener("success",s),r.addEventListener("error",a)});return t.then(e=>{e instanceof IDBCursor&&yW.set(e,r)}).catch(()=>{}),oL.set(t,r),t}function xse(r){if(H5.has(r))return;const t=new Promise((e,i)=>{const n=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",a),r.removeEventListener("abort",a)},s=()=>{e(),n()},a=()=>{i(r.error||new DOMException("AbortError","AbortError")),n()};r.addEventListener("complete",s),r.addEventListener("error",a),r.addEventListener("abort",a)});H5.set(r,t)}let W5={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return H5.get(r);if(t==="objectStoreNames")return r.objectStoreNames||xW.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return mg(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Mse(r){W5=r(W5)}function wse(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=r.call(DC(this),t,...e);return xW.set(i,t.sort?t.sort():[t]),mg(i)}:vse().includes(r)?function(...t){return r.apply(DC(this),t),mg(yW.get(this))}:function(...t){return mg(r.apply(DC(this),t))}}function Tse(r){return typeof r=="function"?wse(r):(r instanceof IDBTransaction&&xse(r),mse(r,gse())?new Proxy(r,W5):r)}function mg(r){if(r instanceof IDBRequest)return yse(r);if(bC.has(r))return bC.get(r);const t=Tse(r);return t!==r&&(bC.set(r,t),oL.set(t,r)),t}const DC=r=>oL.get(r);function bse(r,t,{blocked:e,upgrade:i,blocking:n,terminated:s}={}){const a=indexedDB.open(r,t),o=mg(a);return i&&a.addEventListener("upgradeneeded",l=>{i(mg(a.result),l.oldVersion,l.newVersion,mg(a.transaction),l)}),e&&a.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),n&&l.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Dse=["get","getKey","getAll","getAllKeys","count"],Ese=["put","add","delete","clear"],EC=new Map;function yP(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(EC.get(t))return EC.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,n=Ese.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(n||Dse.includes(e)))return;const s=async function(a,...o){const l=this.transaction(a,n?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[e](...o),n&&l.done]))[0]};return EC.set(t,s),s}Mse(r=>({...r,get:(t,e,i)=>yP(t,e)||r.get(t,e,i),has:(t,e)=>!!yP(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Sse(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function Sse(r){const t=r.getComponent();return t?.type==="VERSION"}const Y5="@firebase/app",xP="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new aL("@firebase/app"),Nse="@firebase/app-compat",Ise="@firebase/analytics-compat",Cse="@firebase/analytics",Ose="@firebase/app-check-compat",kse="@firebase/app-check",Lse="@firebase/auth",jse="@firebase/auth-compat",_se="@firebase/database",zse="@firebase/data-connect",Rse="@firebase/database-compat",Pse="@firebase/functions",Fse="@firebase/functions-compat",Bse="@firebase/installations",Use="@firebase/installations-compat",Vse="@firebase/messaging",Hse="@firebase/messaging-compat",Wse="@firebase/performance",Yse="@firebase/performance-compat",qse="@firebase/remote-config",Qse="@firebase/remote-config-compat",Gse="@firebase/storage",Kse="@firebase/storage-compat",$se="@firebase/firestore",Xse="@firebase/vertexai-preview",Jse="@firebase/firestore-compat",Zse="firebase",eae="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="[DEFAULT]",tae={[Y5]:"fire-core",[Nse]:"fire-core-compat",[Cse]:"fire-analytics",[Ise]:"fire-analytics-compat",[kse]:"fire-app-check",[Ose]:"fire-app-check-compat",[Lse]:"fire-auth",[jse]:"fire-auth-compat",[_se]:"fire-rtdb",[zse]:"fire-data-connect",[Rse]:"fire-rtdb-compat",[Pse]:"fire-fn",[Fse]:"fire-fn-compat",[Bse]:"fire-iid",[Use]:"fire-iid-compat",[Vse]:"fire-fcm",[Hse]:"fire-fcm-compat",[Wse]:"fire-perf",[Yse]:"fire-perf-compat",[qse]:"fire-rc",[Qse]:"fire-rc-compat",[Gse]:"fire-gcs",[Kse]:"fire-gcs-compat",[$se]:"fire-fst",[Jse]:"fire-fst-compat",[Xse]:"fire-vertex","fire-js":"fire-js",[Zse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new Map,iae=new Map,Q5=new Map;function MP(r,t){try{r.container.addComponent(t)}catch(e){Bp.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function bg(r){const t=r.name;if(Q5.has(t))return Bp.debug(`There were multiple attempts to register component ${t}.`),!1;Q5.set(t,r);for(const e of xA.values())MP(e,r);for(const e of iae.values())MP(e,r);return!0}function RT(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function Jd(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gg=new _T("app","Firebase",rae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gg.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=eae;function MW(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const i=Object.assign({name:q5,automaticDataCollectionEnabled:!1},t),n=i.name;if(typeof n!="string"||!n)throw gg.create("bad-app-name",{appName:String(n)});if(e||(e=mW()),!e)throw gg.create("no-options");const s=xA.get(n);if(s){if(yA(e,s.options)&&yA(i,s.config))return s;throw gg.create("duplicate-app",{appName:n})}const a=new use(n);for(const l of Q5.values())a.addComponent(l);const o=new nae(e,i,a);return xA.set(n,o),o}function KS(r=q5){const t=xA.get(r);if(!t&&r===q5&&mW())return MW();if(!t)throw gg.create("no-app",{appName:r});return t}function mh(r,t,e){var i;let n=(i=tae[r])!==null&&i!==void 0?i:r;e&&(n+=`-${e}`);const s=n.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const o=[`Unable to register library "${n}" with version "${t}":`];s&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bp.warn(o.join(" "));return}bg(new Fp(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sae="firebase-heartbeat-database",aae=1,Ww="firebase-heartbeat-store";let AC=null;function wW(){return AC||(AC=bse(sae,aae,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ww)}catch(e){console.warn(e)}}}}).catch(r=>{throw gg.create("idb-open",{originalErrorMessage:r.message})})),AC}async function oae(r){try{const e=(await wW()).transaction(Ww),i=await e.objectStore(Ww).get(TW(r));return await e.done,i}catch(t){if(t instanceof gf)Bp.warn(t.message);else{const e=gg.create("idb-get",{originalErrorMessage:t?.message});Bp.warn(e.message)}}}async function wP(r,t){try{const i=(await wW()).transaction(Ww,"readwrite");await i.objectStore(Ww).put(t,TW(r)),await i.done}catch(e){if(e instanceof gf)Bp.warn(e.message);else{const i=gg.create("idb-set",{originalErrorMessage:e?.message});Bp.warn(i.message)}}}function TW(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lae=1024,cae=720*60*60*1e3;class uae{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new dae(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=TP();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=cae}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Bp.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=TP(),{heartbeatsToSend:i,unsentEntries:n}=hae(this._heartbeatsCache.heartbeats),s=vA(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Bp.warn(e),""}}}function TP(){return new Date().toISOString().substring(0,10)}function hae(r,t=lae){const e=[];let i=r.slice();for(const n of r){const s=e.find(a=>a.agent===n.agent);if(s){if(s.dates.push(n.date),bP(e)>t){s.dates.pop();break}}else if(e.push({agent:n.agent,dates:[n.date]}),bP(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class dae{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jne()?Zne().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await oae(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return wP(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return wP(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function bP(r){return vA(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fae(r){bg(new Fp("platform-logger",t=>new Ase(t),"PRIVATE")),bg(new Fp("heartbeat",t=>new uae(t),"PRIVATE")),mh(Y5,xP,r),mh(Y5,xP,"esm2017"),mh("fire-js","")}fae("");var pae="firebase",mae="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mh(pae,mae,"app");function lL(r,t){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(e[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(e[i[n]]=r[i[n]]);return e}function bv(r,t,e,i){function n(s){return s instanceof e?s:new e(function(a){a(s)})}return new(e||(e=Promise))(function(s,a){function o(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):n(u.value).then(o,l)}c((i=i.apply(r,t||[])).next())})}function bW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gae=bW,DW=new _T("auth","Firebase",bW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=new aL("@firebase/auth");function vae(r,...t){MA.logLevel<=rn.WARN&&MA.warn(`Auth (${Tv}): ${r}`,...t)}function BE(r,...t){MA.logLevel<=rn.ERROR&&MA.error(`Auth (${Tv}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(r,...t){throw cL(r,...t)}function af(r,...t){return cL(r,...t)}function EW(r,t,e){const i=Object.assign(Object.assign({},gae()),{[t]:e});return new _T("auth","Firebase",i).create(t,{appName:r.name})}function Np(r){return EW(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cL(r,...t){if(typeof r!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(e,...i)}return DW.create(r,...t)}function or(r,t,...e){if(!r)throw cL(t,...e)}function yp(r){const t="INTERNAL ASSERTION FAILED: "+r;throw BE(t),new Error(t)}function Up(r,t){r||yp(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function yae(){return DP()==="http:"||DP()==="https:"}function DP(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yae()||Gne()||"connection"in navigator)?navigator.onLine:!0}function Mae(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,e){this.shortDelay=t,this.longDelay=e,Up(e>t,"Short delay should be less than long delay!"),this.isMobile=Yne()||Kne()}get(){return xae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(r,t){Up(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tae=new PT(3e4,6e4);function Vg(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function $p(r,t,e,i,n={}){return SW(r,n,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const o=zT(Object.assign({key:r.config.apiKey},a)).slice(1),l=await r._getAdditionalHeaders();l["Content-Type"]="application/json",r.languageCode&&(l["X-Firebase-Locale"]=r.languageCode);const c=Object.assign({method:t,headers:l},s);return Qne()||(c.referrerPolicy="no-referrer"),AW.fetch()(NW(r,r.config.apiHost,e,o),c)})}async function SW(r,t,e){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},wae),t);try{const n=new Dae(r),s=await Promise.race([e(),n.promise]);n.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw pD(r,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pD(r,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw pD(r,"email-already-in-use",a);if(l==="USER_DISABLED")throw pD(r,"user-disabled",a);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw EW(r,u,c);ld(r,u)}}catch(n){if(n instanceof gf)throw n;ld(r,"network-request-failed",{message:String(n)})}}async function FT(r,t,e,i,n={}){const s=await $p(r,t,e,i,n);return"mfaPendingCredential"in s&&ld(r,"multi-factor-auth-required",{_serverResponse:s}),s}function NW(r,t,e,i){const n=`${t}${e}?${i}`;return r.config.emulator?uL(r.config,n):`${r.config.apiScheme}://${n}`}function bae(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dae{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(af(this.auth,"network-request-failed")),Tae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pD(r,t,e){const i={appName:r.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const n=af(r,t,i);return n.customData._tokenResponse=e,n}function EP(r){return r!==void 0&&r.enterprise!==void 0}class Eae{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return bae(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function Aae(r,t){return $p(r,"GET","/v2/recaptchaConfig",Vg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sae(r,t){return $p(r,"POST","/v1/accounts:delete",t)}async function IW(r,t){return $p(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Nae(r,t=!1){const e=Ts(r),i=await e.getIdToken(t),n=hL(i);or(n&&n.exp&&n.auth_time&&n.iat,e.auth,"internal-error");const s=typeof n.firebase=="object"?n.firebase:void 0,a=s?.sign_in_provider;return{claims:n,token:i,authTime:lw(SC(n.auth_time)),issuedAtTime:lw(SC(n.iat)),expirationTime:lw(SC(n.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function SC(r){return Number(r)*1e3}function hL(r){const[t,e,i]=r.split(".");if(t===void 0||e===void 0||i===void 0)return BE("JWT malformed, contained fewer than 3 sections"),null;try{const n=fW(e);return n?JSON.parse(n):(BE("Failed to decode base64 JWT payload"),null)}catch(n){return BE("Caught error parsing JWT payload as JSON",n?.toString()),null}}function AP(r){const t=hL(r);return or(t,"internal-error"),or(typeof t.exp<"u","internal-error"),or(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(r,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof gf&&Iae(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function Iae({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const n=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=lw(this.lastLoginAt),this.creationTime=lw(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(r){var t;const e=r.auth,i=await r.getIdToken(),n=await D1(r,IW(e,{idToken:i}));or(n?.users.length,e,"internal-error");const s=n.users[0];r._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?CW(s.providerUserInfo):[],o=kae(r.providerData,a),l=r.isAnonymous,c=!(r.email&&s.passwordHash)&&!o?.length,u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new K5(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(r,d)}async function Oae(r){const t=Ts(r);await wA(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kae(r,t){return[...r.filter(i=>!t.some(n=>n.providerId===i.providerId)),...t]}function CW(r){return r.map(t=>{var{providerId:e}=t,i=lL(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lae(r,t){const e=await SW(r,{},async()=>{const i=zT({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:s}=r.config,a=NW(r,n,"/v1/token",`key=${s}`),o=await r._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",AW.fetch()(a,{method:"POST",headers:o,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function jae(r,t){return $p(r,"POST","/v2/accounts:revokeToken",Vg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){or(t.idToken,"internal-error"),or(typeof t.idToken<"u","internal-error"),or(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):AP(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){or(t.length!==0,"internal-error");const e=AP(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(or(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:n,expiresIn:s}=await Lae(t,e);this.updateTokensAndExpiration(i,n,Number(s))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:n,expirationTime:s}=e,a=new r1;return i&&(or(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),n&&(or(typeof n=="string","internal-error",{appName:t}),a.accessToken=n),s&&(or(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new r1,this.toJSON())}_performRefresh(){return yp("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(r,t){or(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class xp{constructor(t){var{uid:e,auth:i,stsTokenManager:n}=t,s=lL(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new K5(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await D1(this,this.stsTokenManager.getToken(this.auth,t));return or(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Nae(this,t)}reload(){return Oae(this)}_assign(t){this!==t&&(or(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new xp(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){or(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await wA(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jd(this.auth.app))return Promise.reject(Np(this.auth));const t=await this.getIdToken();return await D1(this,Sae(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,n,s,a,o,l,c,u;const d=(i=e.displayName)!==null&&i!==void 0?i:void 0,p=(n=e.email)!==null&&n!==void 0?n:void 0,m=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,y=(a=e.photoURL)!==null&&a!==void 0?a:void 0,M=(o=e.tenantId)!==null&&o!==void 0?o:void 0,w=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=e.createdAt)!==null&&c!==void 0?c:void 0,D=(u=e.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:N,isAnonymous:B,providerData:P,stsTokenManager:C}=e;or(E&&C,t,"internal-error");const k=r1.fromJSON(this.name,C);or(typeof E=="string",t,"internal-error"),Cm(d,t.name),Cm(p,t.name),or(typeof N=="boolean",t,"internal-error"),or(typeof B=="boolean",t,"internal-error"),Cm(m,t.name),Cm(y,t.name),Cm(M,t.name),Cm(w,t.name),Cm(b,t.name),Cm(D,t.name);const _=new xp({uid:E,auth:t,email:p,emailVerified:N,displayName:d,isAnonymous:B,photoURL:y,phoneNumber:m,tenantId:M,stsTokenManager:k,createdAt:b,lastLoginAt:D});return P&&Array.isArray(P)&&(_.providerData=P.map(H=>Object.assign({},H))),w&&(_._redirectEventId=w),_}static async _fromIdTokenResponse(t,e,i=!1){const n=new r1;n.updateFromServerResponse(e);const s=new xp({uid:e.localId,auth:t,stsTokenManager:n,isAnonymous:i});return await wA(s),s}static async _fromGetAccountInfoResponse(t,e,i){const n=e.users[0];or(n.localId!==void 0,"internal-error");const s=n.providerUserInfo!==void 0?CW(n.providerUserInfo):[],a=!(n.email&&n.passwordHash)&&!s?.length,o=new r1;o.updateFromIdToken(i);const l=new xp({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:a}),c={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:s,metadata:new K5(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!s?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new Map;function Mp(r){Up(r instanceof Function,"Expected a class definition");let t=SP.get(r);return t?(Up(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,SP.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}OW.type="NONE";const NP=OW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(r,t,e){return`firebase:${r}:${t}:${e}`}class n1{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:n,name:s}=this.auth;this.fullUserKey=UE(this.userKey,n.apiKey,s),this.fullPersistenceKey=UE("persistence",n.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?xp._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new n1(Mp(NP),t,i);const n=(await Promise.all(e.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=n[0]||Mp(NP);const a=UE(i,t.config.apiKey,t.name);let o=null;for(const c of e)try{const u=await c._get(a);if(u){const d=xp._fromJSON(t,u);c!==s&&(o=d),s=c;break}}catch{}const l=n.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n1(s,t,i):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(e.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new n1(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_W(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kW(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RW(t))return"Blackberry";if(PW(t))return"Webos";if(LW(t))return"Safari";if((t.includes("chrome/")||jW(t))&&!t.includes("edge/"))return"Chrome";if(zW(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(e);if(i?.length===2)return i[1]}return"Other"}function kW(r=$l()){return/firefox\//i.test(r)}function LW(r=$l()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jW(r=$l()){return/crios\//i.test(r)}function _W(r=$l()){return/iemobile/i.test(r)}function zW(r=$l()){return/android/i.test(r)}function RW(r=$l()){return/blackberry/i.test(r)}function PW(r=$l()){return/webos/i.test(r)}function dL(r=$l()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function _ae(r=$l()){var t;return dL(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function zae(){return $ne()&&document.documentMode===10}function FW(r=$l()){return dL(r)||zW(r)||PW(r)||RW(r)||/windows phone/i.test(r)||_W(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BW(r,t=[]){let e;switch(r){case"Browser":e=IP($l());break;case"Worker":e=`${IP($l())}-${r}`;break;default:e=r}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Tv}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((a,o)=>{try{const l=t(s);a(l)}catch(l){o(l)}});i.onAbort=e,this.queue.push(i);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const n of e)try{n()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pae(r,t={}){return $p(r,"GET","/v2/passwordPolicy",Vg(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fae=6;class Bae{constructor(t){var e,i,n,s;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=a.minPasswordLength)!==null&&e!==void 0?e:Fae,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(n=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&n!==void 0?n:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,n,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(n=l.containsLowercaseLetter)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),n&&(e.meetsMaxPasswordLength=t.length<=n)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let n=0;n<t.length;n++)i=t.charAt(n),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,n,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uae{constructor(t,e,i,n){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CP(this),this.idTokenSubscription=new CP(this),this.beforeStateQueue=new Rae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Mp(e)),this._initializationPromise=this.queue(async()=>{var i,n;if(!this._deleted&&(this.persistenceManager=await n1.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((n=this.currentUser)===null||n===void 0?void 0:n.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await IW(this,{idToken:t}),i=await xp._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Jd(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let n=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,o=n?._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===o)&&l?.user&&(n=l.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return or(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await wA(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Mae()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jd(this.app))return Promise.reject(Np(this));const e=t?Ts(t):null;return e&&or(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&or(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jd(this.app)?Promise.reject(Np(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jd(this.app)?Promise.reject(Np(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mp(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Pae(this),e=new Bae(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new _T("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await jae(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Mp(t)||this._popupRedirectResolver;or(e,this,"argument-error"),this.redirectPersistenceManager=await n1.create(this,[Mp(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,n){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(or(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof e=="function"){const l=t.addObserver(e,i,n);return()=>{a=!0,l()}}else{const l=t.addObserver(e);return()=>{a=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return or(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=BW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var t;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e?.error&&vae(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Dv(r){return Ts(r)}class CP{constructor(t){this.auth=t,this.observer=null,this.addObserver=nse(e=>this.observer=e)}get next(){return or(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $S={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vae(r){$S=r}function UW(r){return $S.loadJS(r)}function Hae(){return $S.recaptchaEnterpriseScript}function Wae(){return $S.gapiScript}function Yae(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const qae="recaptcha-enterprise",Qae="NO_RECAPTCHA";class Gae{constructor(t){this.type=qae,this.auth=Dv(t)}async verify(t="verify",e=!1){async function i(s){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{Aae(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new Eae(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function n(s,a,o){const l=window.grecaptcha;EP(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(c=>{a(c)}).catch(()=>{a(Qae)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{i(this.auth).then(o=>{if(!e&&EP(window.grecaptcha))n(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Hae();l.length!==0&&(l+=o),UW(l).then(()=>{n(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function OP(r,t,e,i=!1){const n=new Gae(r);let s;try{s=await n.verify(e)}catch{s=await n.verify(e,!0)}const a=Object.assign({},t);return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function $5(r,t,e,i){var n;if(!((n=r._getRecaptchaConfig())===null||n===void 0)&&n.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await OP(r,t,e,e==="getOobCode");return i(r,s)}else return i(r,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await OP(r,t,e,e==="getOobCode");return i(r,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kae(r,t){const e=RT(r,"auth");if(e.isInitialized()){const n=e.getImmediate(),s=e.getOptions();if(yA(s,t??{}))return n;ld(n,"already-initialized")}return e.initialize({options:t})}function $ae(r,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Mp);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(i,t?.popupRedirectResolver)}function Xae(r,t,e){const i=Dv(r);or(i._canInitEmulator,i,"emulator-config-failed"),or(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const n=!1,s=VW(t),{host:a,port:o}=Jae(t),l=o===null?"":`:${o}`;i.config.emulator={url:`${s}//${a}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:n})}),Zae()}function VW(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Jae(r){const t=VW(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",n=/^(\[[^\]]+\])(:|$)/.exec(i);if(n){const s=n[1];return{host:s,port:kP(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:kP(a)}}}function kP(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Zae(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return yp("not implemented")}_getIdTokenResponse(t){return yp("not implemented")}_linkToIdToken(t,e){return yp("not implemented")}_getReauthenticationResolver(t){return yp("not implemented")}}async function eoe(r,t){return $p(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function toe(r,t){return FT(r,"POST","/v1/accounts:signInWithPassword",Vg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ioe(r,t){return FT(r,"POST","/v1/accounts:signInWithEmailLink",Vg(r,t))}async function roe(r,t){return FT(r,"POST","/v1/accounts:signInWithEmailLink",Vg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends fL{constructor(t,e,i,n=null){super("password",i),this._email=t,this._password=e,this._tenantId=n}static _fromEmailAndPassword(t,e){return new Yw(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Yw(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $5(t,e,"signInWithPassword",toe);case"emailLink":return ioe(t,{email:this._email,oobCode:this._password});default:ld(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $5(t,i,"signUpPassword",eoe);case"emailLink":return roe(t,{idToken:e,email:this._email,oobCode:this._password});default:ld(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(r,t){return FT(r,"POST","/v1/accounts:signInWithIdp",Vg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const noe="http://localhost";class iv extends fL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new iv(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ld("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:n}=e,s=lL(e,["providerId","signInMethod"]);if(!i||!n)return null;const a=new iv(i,n);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const e=this.buildRequest();return s1(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,s1(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,s1(t,e)}buildRequest(){const t={requestUri:noe,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=zT(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function soe(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aoe(r){const t=QM(GM(r)).link,e=t?QM(GM(t)).deep_link_id:null,i=QM(GM(r)).deep_link_id;return(i?QM(GM(i)).link:null)||i||e||t||r}class pL{constructor(t){var e,i,n,s,a,o;const l=QM(GM(t)),c=(e=l.apiKey)!==null&&e!==void 0?e:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=soe((n=l.mode)!==null&&n!==void 0?n:null);or(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(t){const e=aoe(t);try{return new pL(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.providerId=K1.PROVIDER_ID}static credential(t,e){return Yw._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=pL.parseLink(e);return or(i,"argument-error"),Yw._fromEmailAndCode(t,i.code,i.tenantId)}}K1.PROVIDER_ID="password";K1.EMAIL_PASSWORD_SIGN_IN_METHOD="password";K1.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends HW{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends BT{constructor(){super("facebook.com")}static credential(t){return iv._fromParams({providerId:Jm.PROVIDER_ID,signInMethod:Jm.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Jm.credentialFromTaggedObject(t)}static credentialFromError(t){return Jm.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Jm.credential(t.oauthAccessToken)}catch{return null}}}Jm.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jm.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends BT{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return iv._fromParams({providerId:Zm.PROVIDER_ID,signInMethod:Zm.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Zm.credentialFromTaggedObject(t)}static credentialFromError(t){return Zm.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Zm.credential(e,i)}catch{return null}}}Zm.GOOGLE_SIGN_IN_METHOD="google.com";Zm.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends BT{constructor(){super("github.com")}static credential(t){return iv._fromParams({providerId:eg.PROVIDER_ID,signInMethod:eg.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return eg.credentialFromTaggedObject(t)}static credentialFromError(t){return eg.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return eg.credential(t.oauthAccessToken)}catch{return null}}}eg.GITHUB_SIGN_IN_METHOD="github.com";eg.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends BT{constructor(){super("twitter.com")}static credential(t,e){return iv._fromParams({providerId:tg.PROVIDER_ID,signInMethod:tg.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return tg.credentialFromTaggedObject(t)}static credentialFromError(t){return tg.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return tg.credential(e,i)}catch{return null}}}tg.TWITTER_SIGN_IN_METHOD="twitter.com";tg.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ooe(r,t){return FT(r,"POST","/v1/accounts:signUp",Vg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,n=!1){const s=await xp._fromIdTokenResponse(t,i,n),a=LP(i);return new rv({user:s,providerId:a,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const n=LP(i);return new rv({user:t,providerId:n,_tokenResponse:i,operationType:e})}}function LP(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA extends gf{constructor(t,e,i,n){var s;super(e.code,e.message),this.operationType=i,this.user=n,Object.setPrototypeOf(this,TA.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,n){return new TA(t,e,i,n)}}function WW(r,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?TA._fromErrorAndOperation(r,s,t,i):s})}async function loe(r,t,e=!1){const i=await D1(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return rv._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function coe(r,t,e=!1){const{auth:i}=r;if(Jd(i.app))return Promise.reject(Np(i));const n="reauthenticate";try{const s=await D1(r,WW(i,n,t,r),e);or(s.idToken,i,"internal-error");const a=hL(s.idToken);or(a,i,"internal-error");const{sub:o}=a;return or(r.uid===o,i,"user-mismatch"),rv._forOperation(r,n,s)}catch(s){throw s?.code==="auth/user-not-found"&&ld(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YW(r,t,e=!1){if(Jd(r.app))return Promise.reject(Np(r));const i="signIn",n=await WW(r,i,t),s=await rv._fromIdTokenResponse(r,i,n);return e||await r._updateCurrentUser(s.user),s}async function uoe(r,t){return YW(Dv(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qW(r){const t=Dv(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function hoe(r,t,e){if(Jd(r.app))return Promise.reject(Np(r));const i=Dv(r),a=await $5(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ooe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&qW(r),l}),o=await rv._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function doe(r,t,e){return Jd(r.app)?Promise.reject(Np(r)):uoe(Ts(r),K1.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&qW(r),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function foe(r,t){return $p(r,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function poe(r,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=Ts(r),s={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},a=await D1(i,foe(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function moe(r,t,e,i){return Ts(r).onIdTokenChanged(t,e,i)}function goe(r,t,e){return Ts(r).beforeAuthStateChanged(t,e)}function voe(r,t,e,i){return Ts(r).onAuthStateChanged(t,e,i)}function yoe(r){return Ts(r).signOut()}const bA="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(bA,"1"),this.storage.removeItem(bA),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xoe=1e3,Moe=10;class GW extends QW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FW(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),n=this.localCache[e];i!==n&&t(e,n,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=t.key;e?this.detachListener():this.stopPolling();const n=()=>{const a=this.storage.getItem(i);!e&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);zae()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(n,Moe):n()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const n of Array.from(i))n(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},xoe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}GW.type="LOCAL";const woe=GW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW extends QW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}KW.type="SESSION";const $W=KW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Toe(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(n=>n.isListeningto(t));if(e)return e;const i=new XS(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:n,data:s}=e.data,a=this.handlersMap[n];if(!a?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:n});const o=Array.from(a).map(async c=>c(e.origin,s)),l=await Toe(o);e.ports[0].postMessage({status:"done",eventId:i,eventType:n,response:l})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}XS.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(r="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const n=typeof MessageChannel<"u"?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=mL("",20);n.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:n,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),n.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[n.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(){return window}function Doe(r){of().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(){return typeof of().WorkerGlobalScope<"u"&&typeof of().importScripts=="function"}async function Eoe(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Aoe(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Soe(){return XW()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW="firebaseLocalStorageDb",Noe=1,DA="firebaseLocalStorage",ZW="fbase_key";class UT{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function JS(r,t){return r.transaction([DA],t?"readwrite":"readonly").objectStore(DA)}function Ioe(){const r=indexedDB.deleteDatabase(JW);return new UT(r).toPromise()}function X5(){const r=indexedDB.open(JW,Noe);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(DA,{keyPath:ZW})}catch(n){e(n)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(DA)?t(i):(i.close(),await Ioe(),t(await X5()))})})}async function jP(r,t,e){const i=JS(r,!0).put({[ZW]:t,value:e});return new UT(i).toPromise()}async function Coe(r,t){const e=JS(r,!1).get(t),i=await new UT(e).toPromise();return i===void 0?null:i.value}function _P(r,t){const e=JS(r,!0).delete(t);return new UT(e).toPromise()}const Ooe=800,koe=3;class eY{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await X5(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>koe)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XW()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=XS._getInstance(Soe()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await Eoe(),!this.activeServiceWorker)return;this.sender=new boe(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Aoe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await X5();return await jP(t,bA,"1"),await _P(t,bA),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>jP(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>Coe(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>_P(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(n=>{const s=JS(n,!1).getAll();return new UT(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:n,value:s}of t)i.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(s)&&(this.notifyListeners(n,s),e.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!i.has(n)&&(this.notifyListeners(n,null),e.push(n));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const n of Array.from(i))n(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ooe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eY.type="LOCAL";const Loe=eY;new PT(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function joe(r,t){return t?Mp(t):(or(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL extends fL{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return s1(t,this._buildIdpRequest())}_linkToIdToken(t,e){return s1(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return s1(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function _oe(r){return YW(r.auth,new gL(r),r.bypassAuthState)}function zoe(r){const{auth:t,user:e}=r;return or(e,t,"internal-error"),coe(e,new gL(r),r.bypassAuthState)}async function Roe(r){const{auth:t,user:e}=r;return or(e,t,"internal-error"),loe(e,new gL(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(t,e,i,n,s=!1){this.auth=t,this.resolver=i,this.user=n,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:n,tenantId:s,error:a,type:o}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:e,sessionId:i,tenantId:s||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _oe;case"linkViaPopup":case"linkViaRedirect":return Roe;case"reauthViaPopup":case"reauthViaRedirect":return zoe;default:ld(this.auth,"internal-error")}}resolve(t){Up(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Up(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Poe=new PT(2e3,1e4);class qy extends tY{constructor(t,e,i,n,s){super(t,e,n,s),this.provider=i,this.authWindow=null,this.pollId=null,qy.currentPopupAction&&qy.currentPopupAction.cancel(),qy.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return or(t,this.auth,"internal-error"),t}async onExecution(){Up(this.filter.length===1,"Popup operations only handle one event");const t=mL();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(af(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(af(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qy.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(af(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Poe.get())};t()}}qy.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Foe="pendingRedirect",VE=new Map;class Boe extends tY{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=VE.get(this.auth._key());if(!t){try{const i=await Uoe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}VE.set(this.auth._key(),t)}return this.bypassAuthState||VE.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uoe(r,t){const e=Woe(t),i=Hoe(r);if(!await i._isAvailable())return!1;const n=await i._get(e)==="true";return await i._remove(e),n}function Voe(r,t){VE.set(r._key(),t)}function Hoe(r){return Mp(r._redirectPersistence)}function Woe(r){return UE(Foe,r.config.apiKey,r.name)}async function Yoe(r,t,e=!1){if(Jd(r.app))return Promise.reject(Np(r));const i=Dv(r),n=joe(i,t),a=await new Boe(i,n,e).execute();return a&&!e&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qoe=600*1e3;class Qoe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Goe(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!iY(t)){const n=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(af(this.auth,n))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=qoe&&this.cachedEventUids.clear(),this.cachedEventUids.has(zP(t))}saveEventToCache(t){this.cachedEventUids.add(zP(t)),this.lastProcessedEventTime=Date.now()}}function zP(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function iY({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Goe(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iY(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Koe(r,t={}){return $p(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $oe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xoe=/^https?/;async function Joe(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Koe(r);for(const e of t)try{if(Zoe(e))return}catch{}ld(r,"unauthorized-domain")}function Zoe(r){const t=G5(),{protocol:e,hostname:i}=new URL(t);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&i===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&a.hostname===i}if(!Xoe.test(e))return!1;if($oe.test(r))return i===r;const n=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+n+"|"+n+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ele=new PT(3e4,6e4);function RP(){const r=of().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function tle(r){return new Promise((t,e)=>{var i,n,s;function a(){RP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{RP(),e(af(r,"network-request-failed"))},timeout:ele.get()})}if(!((n=(i=of().gapi)===null||i===void 0?void 0:i.iframes)===null||n===void 0)&&n.Iframe)t(gapi.iframes.getContext());else if(!((s=of().gapi)===null||s===void 0)&&s.load)a();else{const o=Yae("iframefcb");return of()[o]=()=>{gapi.load?a():e(af(r,"network-request-failed"))},UW(`${Wae()}?onload=${o}`).catch(l=>e(l))}}).catch(t=>{throw HE=null,t})}let HE=null;function ile(r){return HE=HE||tle(r),HE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rle=new PT(5e3,15e3),nle="__/auth/iframe",sle="emulator/auth/iframe",ale={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ole=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lle(r){const t=r.config;or(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?uL(t,sle):`https://${r.config.authDomain}/${nle}`,i={apiKey:t.apiKey,appName:r.name,v:Tv},n=ole.get(r.config.apiHost);n&&(i.eid=n);const s=r._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${zT(i).slice(1)}`}async function cle(r){const t=await ile(r),e=of().gapi;return or(e,r,"internal-error"),t.open({where:document.body,url:lle(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ale,dontclear:!0},i=>new Promise(async(n,s)=>{await i.restyle({setHideOnLeave:!1});const a=af(r,"network-request-failed"),o=of().setTimeout(()=>{s(a)},rle.get());function l(){of().clearTimeout(o),n(i)}i.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ule={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hle=500,dle=600,fle="_blank",ple="http://localhost";class PP{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mle(r,t,e,i=hle,n=dle){const s=Math.max((window.screen.availHeight-n)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ule),{width:i.toString(),height:n.toString(),top:s,left:a}),c=$l().toLowerCase();e&&(o=jW(c)?fle:e),kW(c)&&(t=t||ple,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(_ae(c)&&o!=="_self")return gle(t||"",o),new PP(null);const d=window.open(t||"",o,u);or(d,r,"popup-blocked");try{d.focus()}catch{}return new PP(d)}function gle(r,t){const e=document.createElement("a");e.href=r,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vle="__/auth/handler",yle="emulator/auth/handler",xle=encodeURIComponent("fac");async function FP(r,t,e,i,n,s){or(r.config.authDomain,r,"auth-domain-config-required"),or(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:i,v:Tv,eventId:n};if(t instanceof HW){t.setDefaultLanguage(r.languageCode),a.providerId=t.providerId||"",rse(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,d]of Object.entries({}))a[u]=d}if(t instanceof BT){const u=t.getScopes().filter(d=>d!=="");u.length>0&&(a.scopes=u.join(","))}r.tenantId&&(a.tid=r.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await r._getAppCheckToken(),c=l?`#${xle}=${encodeURIComponent(l)}`:"";return`${Mle(r)}?${zT(o).slice(1)}${c}`}function Mle({config:r}){return r.emulator?uL(r,yle):`https://${r.authDomain}/${vle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="webStorageSupport";class wle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$W,this._completeRedirectFn=Yoe,this._overrideRedirectResult=Voe}async _openPopup(t,e,i,n){var s;Up((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await FP(t,e,i,G5(),n);return mle(t,a,mL())}async _openRedirect(t,e,i,n){await this._originValidation(t);const s=await FP(t,e,i,G5(),n);return Doe(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:n,promise:s}=this.eventManagers[e];return n?Promise.resolve(n):(Up(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await cle(t),i=new Qoe(t);return e.register("authEvent",n=>(or(n?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(n.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(NC,{type:NC},n=>{var s;const a=(s=n?.[0])===null||s===void 0?void 0:s[NC];a!==void 0&&e(!!a),ld(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Joe(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return FW()||LW()||dL()}}const Tle=wle;var BP="@firebase/auth",UP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){or(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dle(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ele(r){bg(new Fp("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;or(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BW(r)},c=new Uae(i,n,s,l);return $ae(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),bg(new Fp("auth-internal",t=>{const e=Dv(t.getProvider("auth").getImmediate());return(i=>new ble(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),mh(BP,UP,Dle(r)),mh(BP,UP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ale=300,Sle=gW("authIdTokenMaxAge")||Ale;let VP=null;const Nle=r=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>Sle)return;const n=e?.token;VP!==n&&(VP=n,await fetch(r,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))};function Ile(r=KS()){const t=RT(r,"auth");if(t.isInitialized())return t.getImmediate();const e=Kae(r,{popupRedirectResolver:Tle,persistence:[Loe,woe,$W]}),i=gW("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=Nle(s.toString());goe(e,a,()=>a(e.currentUser)),moe(e,o=>a(o))}}const n=pW("auth");return n&&Xae(e,`http://${n}`),e}function Cle(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}Vae({loadJS(r){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=t,i.onerror=n=>{const s=af("internal-error");s.customData=n,e(s)},i.type="text/javascript",i.charset="UTF-8",Cle().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ele("Browser");var HP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V0,rY;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,k){function _(){}_.prototype=k.prototype,C.D=k.prototype,C.prototype=new _,C.prototype.constructor=C,C.C=function(H,j,z){for(var F=Array(arguments.length-2),X=2;X<arguments.length;X++)F[X-2]=arguments[X];return k.prototype[j].apply(H,F)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function n(C,k,_){_||(_=0);var H=Array(16);if(typeof k=="string")for(var j=0;16>j;++j)H[j]=k.charCodeAt(_++)|k.charCodeAt(_++)<<8|k.charCodeAt(_++)<<16|k.charCodeAt(_++)<<24;else for(j=0;16>j;++j)H[j]=k[_++]|k[_++]<<8|k[_++]<<16|k[_++]<<24;k=C.g[0],_=C.g[1],j=C.g[2];var z=C.g[3],F=k+(z^_&(j^z))+H[0]+3614090360&4294967295;k=_+(F<<7&4294967295|F>>>25),F=z+(j^k&(_^j))+H[1]+3905402710&4294967295,z=k+(F<<12&4294967295|F>>>20),F=j+(_^z&(k^_))+H[2]+606105819&4294967295,j=z+(F<<17&4294967295|F>>>15),F=_+(k^j&(z^k))+H[3]+3250441966&4294967295,_=j+(F<<22&4294967295|F>>>10),F=k+(z^_&(j^z))+H[4]+4118548399&4294967295,k=_+(F<<7&4294967295|F>>>25),F=z+(j^k&(_^j))+H[5]+1200080426&4294967295,z=k+(F<<12&4294967295|F>>>20),F=j+(_^z&(k^_))+H[6]+2821735955&4294967295,j=z+(F<<17&4294967295|F>>>15),F=_+(k^j&(z^k))+H[7]+4249261313&4294967295,_=j+(F<<22&4294967295|F>>>10),F=k+(z^_&(j^z))+H[8]+1770035416&4294967295,k=_+(F<<7&4294967295|F>>>25),F=z+(j^k&(_^j))+H[9]+2336552879&4294967295,z=k+(F<<12&4294967295|F>>>20),F=j+(_^z&(k^_))+H[10]+4294925233&4294967295,j=z+(F<<17&4294967295|F>>>15),F=_+(k^j&(z^k))+H[11]+2304563134&4294967295,_=j+(F<<22&4294967295|F>>>10),F=k+(z^_&(j^z))+H[12]+1804603682&4294967295,k=_+(F<<7&4294967295|F>>>25),F=z+(j^k&(_^j))+H[13]+4254626195&4294967295,z=k+(F<<12&4294967295|F>>>20),F=j+(_^z&(k^_))+H[14]+2792965006&4294967295,j=z+(F<<17&4294967295|F>>>15),F=_+(k^j&(z^k))+H[15]+1236535329&4294967295,_=j+(F<<22&4294967295|F>>>10),F=k+(j^z&(_^j))+H[1]+4129170786&4294967295,k=_+(F<<5&4294967295|F>>>27),F=z+(_^j&(k^_))+H[6]+3225465664&4294967295,z=k+(F<<9&4294967295|F>>>23),F=j+(k^_&(z^k))+H[11]+643717713&4294967295,j=z+(F<<14&4294967295|F>>>18),F=_+(z^k&(j^z))+H[0]+3921069994&4294967295,_=j+(F<<20&4294967295|F>>>12),F=k+(j^z&(_^j))+H[5]+3593408605&4294967295,k=_+(F<<5&4294967295|F>>>27),F=z+(_^j&(k^_))+H[10]+38016083&4294967295,z=k+(F<<9&4294967295|F>>>23),F=j+(k^_&(z^k))+H[15]+3634488961&4294967295,j=z+(F<<14&4294967295|F>>>18),F=_+(z^k&(j^z))+H[4]+3889429448&4294967295,_=j+(F<<20&4294967295|F>>>12),F=k+(j^z&(_^j))+H[9]+568446438&4294967295,k=_+(F<<5&4294967295|F>>>27),F=z+(_^j&(k^_))+H[14]+3275163606&4294967295,z=k+(F<<9&4294967295|F>>>23),F=j+(k^_&(z^k))+H[3]+4107603335&4294967295,j=z+(F<<14&4294967295|F>>>18),F=_+(z^k&(j^z))+H[8]+1163531501&4294967295,_=j+(F<<20&4294967295|F>>>12),F=k+(j^z&(_^j))+H[13]+2850285829&4294967295,k=_+(F<<5&4294967295|F>>>27),F=z+(_^j&(k^_))+H[2]+4243563512&4294967295,z=k+(F<<9&4294967295|F>>>23),F=j+(k^_&(z^k))+H[7]+1735328473&4294967295,j=z+(F<<14&4294967295|F>>>18),F=_+(z^k&(j^z))+H[12]+2368359562&4294967295,_=j+(F<<20&4294967295|F>>>12),F=k+(_^j^z)+H[5]+4294588738&4294967295,k=_+(F<<4&4294967295|F>>>28),F=z+(k^_^j)+H[8]+2272392833&4294967295,z=k+(F<<11&4294967295|F>>>21),F=j+(z^k^_)+H[11]+1839030562&4294967295,j=z+(F<<16&4294967295|F>>>16),F=_+(j^z^k)+H[14]+4259657740&4294967295,_=j+(F<<23&4294967295|F>>>9),F=k+(_^j^z)+H[1]+2763975236&4294967295,k=_+(F<<4&4294967295|F>>>28),F=z+(k^_^j)+H[4]+1272893353&4294967295,z=k+(F<<11&4294967295|F>>>21),F=j+(z^k^_)+H[7]+4139469664&4294967295,j=z+(F<<16&4294967295|F>>>16),F=_+(j^z^k)+H[10]+3200236656&4294967295,_=j+(F<<23&4294967295|F>>>9),F=k+(_^j^z)+H[13]+681279174&4294967295,k=_+(F<<4&4294967295|F>>>28),F=z+(k^_^j)+H[0]+3936430074&4294967295,z=k+(F<<11&4294967295|F>>>21),F=j+(z^k^_)+H[3]+3572445317&4294967295,j=z+(F<<16&4294967295|F>>>16),F=_+(j^z^k)+H[6]+76029189&4294967295,_=j+(F<<23&4294967295|F>>>9),F=k+(_^j^z)+H[9]+3654602809&4294967295,k=_+(F<<4&4294967295|F>>>28),F=z+(k^_^j)+H[12]+3873151461&4294967295,z=k+(F<<11&4294967295|F>>>21),F=j+(z^k^_)+H[15]+530742520&4294967295,j=z+(F<<16&4294967295|F>>>16),F=_+(j^z^k)+H[2]+3299628645&4294967295,_=j+(F<<23&4294967295|F>>>9),F=k+(j^(_|~z))+H[0]+4096336452&4294967295,k=_+(F<<6&4294967295|F>>>26),F=z+(_^(k|~j))+H[7]+1126891415&4294967295,z=k+(F<<10&4294967295|F>>>22),F=j+(k^(z|~_))+H[14]+2878612391&4294967295,j=z+(F<<15&4294967295|F>>>17),F=_+(z^(j|~k))+H[5]+4237533241&4294967295,_=j+(F<<21&4294967295|F>>>11),F=k+(j^(_|~z))+H[12]+1700485571&4294967295,k=_+(F<<6&4294967295|F>>>26),F=z+(_^(k|~j))+H[3]+2399980690&4294967295,z=k+(F<<10&4294967295|F>>>22),F=j+(k^(z|~_))+H[10]+4293915773&4294967295,j=z+(F<<15&4294967295|F>>>17),F=_+(z^(j|~k))+H[1]+2240044497&4294967295,_=j+(F<<21&4294967295|F>>>11),F=k+(j^(_|~z))+H[8]+1873313359&4294967295,k=_+(F<<6&4294967295|F>>>26),F=z+(_^(k|~j))+H[15]+4264355552&4294967295,z=k+(F<<10&4294967295|F>>>22),F=j+(k^(z|~_))+H[6]+2734768916&4294967295,j=z+(F<<15&4294967295|F>>>17),F=_+(z^(j|~k))+H[13]+1309151649&4294967295,_=j+(F<<21&4294967295|F>>>11),F=k+(j^(_|~z))+H[4]+4149444226&4294967295,k=_+(F<<6&4294967295|F>>>26),F=z+(_^(k|~j))+H[11]+3174756917&4294967295,z=k+(F<<10&4294967295|F>>>22),F=j+(k^(z|~_))+H[2]+718787259&4294967295,j=z+(F<<15&4294967295|F>>>17),F=_+(z^(j|~k))+H[9]+3951481745&4294967295,C.g[0]=C.g[0]+k&4294967295,C.g[1]=C.g[1]+(j+(F<<21&4294967295|F>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+z&4294967295}i.prototype.u=function(C,k){k===void 0&&(k=C.length);for(var _=k-this.blockSize,H=this.B,j=this.h,z=0;z<k;){if(j==0)for(;z<=_;)n(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<k;)if(H[j++]=C.charCodeAt(z++),j==this.blockSize){n(this,H),j=0;break}}else for(;z<k;)if(H[j++]=C[z++],j==this.blockSize){n(this,H),j=0;break}}this.h=j,this.o+=k},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var k=1;k<C.length-8;++k)C[k]=0;var _=8*this.o;for(k=C.length-8;k<C.length;++k)C[k]=_&255,_/=256;for(this.u(C),C=Array(16),k=_=0;4>k;++k)for(var H=0;32>H;H+=8)C[_++]=this.g[k]>>>H&255;return C};function s(C,k){var _=o;return Object.prototype.hasOwnProperty.call(_,C)?_[C]:_[C]=k(C)}function a(C,k){this.h=k;for(var _=[],H=!0,j=C.length-1;0<=j;j--){var z=C[j]|0;H&&z==k||(_[j]=z,H=!1)}this.g=_}var o={};function l(C){return-128<=C&&128>C?s(C,function(k){return new a([k|0],0>k?-1:0)}):new a([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return w(c(-C));for(var k=[],_=1,H=0;C>=_;H++)k[H]=C/_|0,_*=4294967296;return new a(k,0)}function u(C,k){if(C.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(C.charAt(0)=="-")return w(u(C.substring(1),k));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(k,8)),H=d,j=0;j<C.length;j+=8){var z=Math.min(8,C.length-j),F=parseInt(C.substring(j,j+z),k);8>z?(z=c(Math.pow(k,z)),H=H.j(z).add(c(F))):(H=H.j(_),H=H.add(c(F)))}return H}var d=l(0),p=l(1),m=l(16777216);r=a.prototype,r.m=function(){if(M(this))return-w(this).m();for(var C=0,k=1,_=0;_<this.g.length;_++){var H=this.i(_);C+=(0<=H?H:4294967296+H)*k,k*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(M(this))return"-"+w(this).toString(C);for(var k=c(Math.pow(C,6)),_=this,H="";;){var j=N(_,k).g;_=b(_,j.j(k));var z=((0<_.g.length?_.g[0]:_.h)>>>0).toString(C);if(_=j,y(_))return z+H;for(;6>z.length;)z="0"+z;H=z+H}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(var k=0;k<C.g.length;k++)if(C.g[k]!=0)return!1;return!0}function M(C){return C.h==-1}r.l=function(C){return C=b(this,C),M(C)?-1:y(C)?0:1};function w(C){for(var k=C.g.length,_=[],H=0;H<k;H++)_[H]=~C.g[H];return new a(_,~C.h).add(p)}r.abs=function(){return M(this)?w(this):this},r.add=function(C){for(var k=Math.max(this.g.length,C.g.length),_=[],H=0,j=0;j<=k;j++){var z=H+(this.i(j)&65535)+(C.i(j)&65535),F=(z>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);H=F>>>16,z&=65535,F&=65535,_[j]=F<<16|z}return new a(_,_[_.length-1]&-2147483648?-1:0)};function b(C,k){return C.add(w(k))}r.j=function(C){if(y(this)||y(C))return d;if(M(this))return M(C)?w(this).j(w(C)):w(w(this).j(C));if(M(C))return w(this.j(w(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var k=this.g.length+C.g.length,_=[],H=0;H<2*k;H++)_[H]=0;for(H=0;H<this.g.length;H++)for(var j=0;j<C.g.length;j++){var z=this.i(H)>>>16,F=this.i(H)&65535,X=C.i(j)>>>16,J=C.i(j)&65535;_[2*H+2*j]+=F*J,D(_,2*H+2*j),_[2*H+2*j+1]+=z*J,D(_,2*H+2*j+1),_[2*H+2*j+1]+=F*X,D(_,2*H+2*j+1),_[2*H+2*j+2]+=z*X,D(_,2*H+2*j+2)}for(H=0;H<k;H++)_[H]=_[2*H+1]<<16|_[2*H];for(H=k;H<2*k;H++)_[H]=0;return new a(_,0)};function D(C,k){for(;(C[k]&65535)!=C[k];)C[k+1]+=C[k]>>>16,C[k]&=65535,k++}function E(C,k){this.g=C,this.h=k}function N(C,k){if(y(k))throw Error("division by zero");if(y(C))return new E(d,d);if(M(C))return k=N(w(C),k),new E(w(k.g),w(k.h));if(M(k))return k=N(C,w(k)),new E(w(k.g),k.h);if(30<C.g.length){if(M(C)||M(k))throw Error("slowDivide_ only works with positive integers.");for(var _=p,H=k;0>=H.l(C);)_=B(_),H=B(H);var j=P(_,1),z=P(H,1);for(H=P(H,2),_=P(_,2);!y(H);){var F=z.add(H);0>=F.l(C)&&(j=j.add(_),z=F),H=P(H,1),_=P(_,1)}return k=b(C,j.j(k)),new E(j,k)}for(j=d;0<=C.l(k);){for(_=Math.max(1,Math.floor(C.m()/k.m())),H=Math.ceil(Math.log(_)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),z=c(_),F=z.j(k);M(F)||0<F.l(C);)_-=H,z=c(_),F=z.j(k);y(z)&&(z=p),j=j.add(z),C=b(C,F)}return new E(j,C)}r.A=function(C){return N(this,C).h},r.and=function(C){for(var k=Math.max(this.g.length,C.g.length),_=[],H=0;H<k;H++)_[H]=this.i(H)&C.i(H);return new a(_,this.h&C.h)},r.or=function(C){for(var k=Math.max(this.g.length,C.g.length),_=[],H=0;H<k;H++)_[H]=this.i(H)|C.i(H);return new a(_,this.h|C.h)},r.xor=function(C){for(var k=Math.max(this.g.length,C.g.length),_=[],H=0;H<k;H++)_[H]=this.i(H)^C.i(H);return new a(_,this.h^C.h)};function B(C){for(var k=C.g.length+1,_=[],H=0;H<k;H++)_[H]=C.i(H)<<1|C.i(H-1)>>>31;return new a(_,C.h)}function P(C,k){var _=k>>5;k%=32;for(var H=C.g.length-_,j=[],z=0;z<H;z++)j[z]=0<k?C.i(z+_)>>>k|C.i(z+_+1)<<32-k:C.i(z+_);return new a(j,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,rY=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,V0=a}).apply(typeof HP<"u"?HP:typeof self<"u"?self:typeof window<"u"?window:{});var mD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nY,KM,sY,WE,J5,aY,oY,lY;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,K,oe){return S==Array.prototype||S==Object.prototype||(S[K]=oe.value),S};function e(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof mD=="object"&&mD];for(var K=0;K<S.length;++K){var oe=S[K];if(oe&&oe.Math==Math)return oe}throw Error("Cannot find global object")}var i=e(this);function n(S,K){if(K)e:{var oe=i;S=S.split(".");for(var Te=0;Te<S.length-1;Te++){var it=S[Te];if(!(it in oe))break e;oe=oe[it]}S=S[S.length-1],Te=oe[S],K=K(Te),K!=Te&&K!=null&&t(oe,S,{configurable:!0,writable:!0,value:K})}}function s(S,K){S instanceof String&&(S+="");var oe=0,Te=!1,it={next:function(){if(!Te&&oe<S.length){var ft=oe++;return{value:K(ft,S[ft]),done:!1}}return Te=!0,{done:!0,value:void 0}}};return it[Symbol.iterator]=function(){return it},it}n("Array.prototype.values",function(S){return S||function(){return s(this,function(K,oe){return oe})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(S){var K=typeof S;return K=K!="object"?K:S?Array.isArray(S)?"array":K:"null",K=="array"||K=="object"&&typeof S.length=="number"}function c(S){var K=typeof S;return K=="object"&&S!=null||K=="function"}function u(S,K,oe){return S.call.apply(S.bind,arguments)}function d(S,K,oe){if(!S)throw Error();if(2<arguments.length){var Te=Array.prototype.slice.call(arguments,2);return function(){var it=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(it,Te),S.apply(K,it)}}return function(){return S.apply(K,arguments)}}function p(S,K,oe){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,p.apply(null,arguments)}function m(S,K){var oe=Array.prototype.slice.call(arguments,1);return function(){var Te=oe.slice();return Te.push.apply(Te,arguments),S.apply(this,Te)}}function y(S,K){function oe(){}oe.prototype=K.prototype,S.aa=K.prototype,S.prototype=new oe,S.prototype.constructor=S,S.Qb=function(Te,it,ft){for(var ei=Array(arguments.length-2),zr=2;zr<arguments.length;zr++)ei[zr-2]=arguments[zr];return K.prototype[it].apply(Te,ei)}}function M(S){const K=S.length;if(0<K){const oe=Array(K);for(let Te=0;Te<K;Te++)oe[Te]=S[Te];return oe}return[]}function w(S,K){for(let oe=1;oe<arguments.length;oe++){const Te=arguments[oe];if(l(Te)){const it=S.length||0,ft=Te.length||0;S.length=it+ft;for(let ei=0;ei<ft;ei++)S[it+ei]=Te[ei]}else S.push(Te)}}class b{constructor(K,oe){this.i=K,this.j=oe,this.h=0,this.g=null}get(){let K;return 0<this.h?(this.h--,K=this.g,this.g=K.next,K.next=null):K=this.i(),K}}function D(S){return/^[\s\xa0]*$/.test(S)}function E(){var S=o.navigator;return S&&(S=S.userAgent)?S:""}function N(S){return N[" "](S),S}N[" "]=function(){};var B=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function P(S,K,oe){for(const Te in S)K.call(oe,S[Te],Te,S)}function C(S,K){for(const oe in S)K.call(void 0,S[oe],oe,S)}function k(S){const K={};for(const oe in S)K[oe]=S[oe];return K}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(S,K){let oe,Te;for(let it=1;it<arguments.length;it++){Te=arguments[it];for(oe in Te)S[oe]=Te[oe];for(let ft=0;ft<_.length;ft++)oe=_[ft],Object.prototype.hasOwnProperty.call(Te,oe)&&(S[oe]=Te[oe])}}function j(S){var K=1;S=S.split(":");const oe=[];for(;0<K&&S.length;)oe.push(S.shift()),K--;return S.length&&oe.push(S.join(":")),oe}function z(S){o.setTimeout(()=>{throw S},0)}function F(){var S=Z;let K=null;return S.g&&(K=S.g,S.g=S.g.next,S.g||(S.h=null),K.next=null),K}class X{constructor(){this.h=this.g=null}add(K,oe){const Te=J.get();Te.set(K,oe),this.h?this.h.next=Te:this.g=Te,this.h=Te}}var J=new b(()=>new U,S=>S.reset());class U{constructor(){this.next=this.g=this.h=null}set(K,oe){this.h=K,this.g=oe,this.next=null}reset(){this.next=this.g=this.h=null}}let W,re=!1,Z=new X,Ee=()=>{const S=o.Promise.resolve(void 0);W=()=>{S.then(ae)}};var ae=()=>{for(var S;S=F();){try{S.h.call(S.g)}catch(oe){z(oe)}var K=J;K.j(S),100>K.h&&(K.h++,S.next=K.g,K.g=S)}re=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(S,K){this.type=S,this.g=this.target=K,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var S=!1,K=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const oe=()=>{};o.addEventListener("test",oe,K),o.removeEventListener("test",oe,K)}catch{}return S})();function Q(S,K){if(Y.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var oe=this.type=S.type,Te=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=K,K=S.relatedTarget){if(B){e:{try{N(K.nodeName);var it=!0;break e}catch{}it=!1}it||(K=null)}}else oe=="mouseover"?K=S.fromElement:oe=="mouseout"&&(K=S.toElement);this.relatedTarget=K,Te?(this.clientX=Te.clientX!==void 0?Te.clientX:Te.pageX,this.clientY=Te.clientY!==void 0?Te.clientY:Te.pageY,this.screenX=Te.screenX||0,this.screenY=Te.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=typeof S.pointerType=="string"?S.pointerType:te[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&Q.aa.h.call(this)}}y(Q,Y);var te={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),Me=0;function ve(S,K,oe,Te,it){this.listener=S,this.proxy=null,this.src=K,this.type=oe,this.capture=!!Te,this.ha=it,this.key=++Me,this.da=this.fa=!1}function Ie(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function Je(S){this.src=S,this.g={},this.h=0}Je.prototype.add=function(S,K,oe,Te,it){var ft=S.toString();S=this.g[ft],S||(S=this.g[ft]=[],this.h++);var ei=Ot(S,K,Te,it);return-1<ei?(K=S[ei],oe||(K.fa=!1)):(K=new ve(K,this.src,ft,!!Te,it),K.fa=oe,S.push(K)),K};function xe(S,K){var oe=K.type;if(oe in S.g){var Te=S.g[oe],it=Array.prototype.indexOf.call(Te,K,void 0),ft;(ft=0<=it)&&Array.prototype.splice.call(Te,it,1),ft&&(Ie(K),S.g[oe].length==0&&(delete S.g[oe],S.h--))}}function Ot(S,K,oe,Te){for(var it=0;it<S.length;++it){var ft=S[it];if(!ft.da&&ft.listener==K&&ft.capture==!!oe&&ft.ha==Te)return it}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),Se={};function ti(S,K,oe,Te,it){if(Array.isArray(K)){for(var ft=0;ft<K.length;ft++)ti(S,K[ft],oe,Te,it);return null}return oe=Bt(oe),S&&S[le]?S.K(K,oe,c(Te)?!!Te.capture:!1,it):Tt(S,K,oe,!1,Te,it)}function Tt(S,K,oe,Te,it,ft){if(!K)throw Error("Invalid event type");var ei=c(it)?!!it.capture:!!it,zr=pi(S);if(zr||(S[Ge]=zr=new Je(S)),oe=zr.add(K,oe,Te,ei,ft),oe.proxy)return oe;if(Te=$t(),oe.proxy=Te,Te.src=S,Te.listener=oe,S.addEventListener)G||(it=ei),it===void 0&&(it=!1),S.addEventListener(K.toString(),Te,it);else if(S.attachEvent)S.attachEvent(Yt(K.toString()),Te);else if(S.addListener&&S.removeListener)S.addListener(Te);else throw Error("addEventListener and attachEvent are unavailable.");return oe}function $t(){function S(oe){return K.call(S.src,S.listener,oe)}const K=Ri;return S}function Lt(S,K,oe,Te,it){if(Array.isArray(K))for(var ft=0;ft<K.length;ft++)Lt(S,K[ft],oe,Te,it);else Te=c(Te)?!!Te.capture:!!Te,oe=Bt(oe),S&&S[le]?(S=S.i,K=String(K).toString(),K in S.g&&(ft=S.g[K],oe=Ot(ft,oe,Te,it),-1<oe&&(Ie(ft[oe]),Array.prototype.splice.call(ft,oe,1),ft.length==0&&(delete S.g[K],S.h--)))):S&&(S=pi(S))&&(K=S.g[K.toString()],S=-1,K&&(S=Ot(K,oe,Te,it)),(oe=-1<S?K[S]:null)&&ni(oe))}function ni(S){if(typeof S!="number"&&S&&!S.da){var K=S.src;if(K&&K[le])xe(K.i,S);else{var oe=S.type,Te=S.proxy;K.removeEventListener?K.removeEventListener(oe,Te,S.capture):K.detachEvent?K.detachEvent(Yt(oe),Te):K.addListener&&K.removeListener&&K.removeListener(Te),(oe=pi(K))?(xe(oe,S),oe.h==0&&(oe.src=null,K[Ge]=null)):Ie(S)}}}function Yt(S){return S in Se?Se[S]:Se[S]="on"+S}function Ri(S,K){if(S.da)S=!0;else{K=new Q(K,this);var oe=S.listener,Te=S.ha||S.src;S.fa&&ni(S),S=oe.call(Te,K)}return S}function pi(S){return S=S[Ge],S instanceof Je?S:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bt(S){return typeof S=="function"?S:(S[Mt]||(S[Mt]=function(K){return S.handleEvent(K)}),S[Mt])}function Xt(){L.call(this),this.i=new Je(this),this.M=this,this.F=null}y(Xt,L),Xt.prototype[le]=!0,Xt.prototype.removeEventListener=function(S,K,oe,Te){Lt(this,S,K,oe,Te)};function gi(S,K){var oe,Te=S.F;if(Te)for(oe=[];Te;Te=Te.F)oe.push(Te);if(S=S.M,Te=K.type||K,typeof K=="string")K=new Y(K,S);else if(K instanceof Y)K.target=K.target||S;else{var it=K;K=new Y(Te,S),H(K,it)}if(it=!0,oe)for(var ft=oe.length-1;0<=ft;ft--){var ei=K.g=oe[ft];it=he(ei,Te,!0,K)&&it}if(ei=K.g=S,it=he(ei,Te,!0,K)&&it,it=he(ei,Te,!1,K)&&it,oe)for(ft=0;ft<oe.length;ft++)ei=K.g=oe[ft],it=he(ei,Te,!1,K)&&it}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var S=this.i,K;for(K in S.g){for(var oe=S.g[K],Te=0;Te<oe.length;Te++)Ie(oe[Te]);delete S.g[K],S.h--}}this.F=null},Xt.prototype.K=function(S,K,oe,Te){return this.i.add(String(S),K,!1,oe,Te)},Xt.prototype.L=function(S,K,oe,Te){return this.i.add(String(S),K,!0,oe,Te)};function he(S,K,oe,Te){if(K=S.i.g[String(K)],!K)return!0;K=K.concat();for(var it=!0,ft=0;ft<K.length;++ft){var ei=K[ft];if(ei&&!ei.da&&ei.capture==oe){var zr=ei.listener,Es=ei.ha||ei.src;ei.fa&&xe(S.i,ei),it=zr.call(Es,Te)!==!1&&it}}return it&&!Te.defaultPrevented}function Ne(S,K,oe){if(typeof S=="function")oe&&(S=p(S,oe));else if(S&&typeof S.handleEvent=="function")S=p(S.handleEvent,S);else throw Error("Invalid listener argument");return 2147483647<Number(K)?-1:o.setTimeout(S,K||0)}function Ue(S){S.g=Ne(()=>{S.g=null,S.i&&(S.i=!1,Ue(S))},S.l);const K=S.h;S.h=null,S.m.apply(null,K)}class Ke extends L{constructor(K,oe){super(),this.m=K,this.l=oe,this.h=null,this.i=!1,this.g=null}j(K){this.h=arguments,this.g?this.i=!0:Ue(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yt(S){L.call(this),this.h=S,this.g={}}y(yt,L);var xt=[];function Nt(S){P(S.g,function(K,oe){this.g.hasOwnProperty(oe)&&ni(K)},S),S.g={}}yt.prototype.N=function(){yt.aa.N.call(this),Nt(this)},yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=o.JSON.stringify,bi=o.JSON.parse,vi=class{stringify(S){return o.JSON.stringify(S,void 0)}parse(S){return o.JSON.parse(S,void 0)}};function Bi(){}Bi.prototype.h=null;function Qi(S){return S.h||(S.h=S.i())}function nn(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dr(){Y.call(this,"d")}y(Dr,Y);function _i(){Y.call(this,"c")}y(_i,Y);var dr={},Lo=null;function Cs(){return Lo=Lo||new Xt}dr.La="serverreachability";function Zo(S){Y.call(this,dr.La,S)}y(Zo,Y);function pa(S){const K=Cs();gi(K,new Zo(K))}dr.STAT_EVENT="statevent";function Pi(S,K){Y.call(this,dr.STAT_EVENT,S),this.stat=K}y(Pi,Y);function Fn(S){const K=Cs();gi(K,new Pi(K,S))}dr.Ma="timingevent";function el(S,K){Y.call(this,dr.Ma,S),this.size=K}y(el,Y);function Os(S,K){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){S()},K)}function ia(){this.g=!0}ia.prototype.xa=function(){this.g=!1};function zn(S,K,oe,Te,it,ft){S.info(function(){if(S.g)if(ft)for(var ei="",zr=ft.split("&"),Es=0;Es<zr.length;Es++){var pr=zr[Es].split("=");if(1<pr.length){var Sr=pr[0];pr=pr[1];var Zn=Sr.split("_");ei=2<=Zn.length&&Zn[1]=="type"?ei+(Sr+"="+pr+"&"):ei+(Sr+"=redacted&")}}else ei=null;else ei=ft;return"XMLHTTP REQ ("+Te+") [attempt "+it+"]: "+K+`
`+oe+`
`+ei})}function bs(S,K,oe,Te,it,ft,ei){S.info(function(){return"XMLHTTP RESP ("+Te+") [ attempt "+it+"]: "+K+`
`+oe+`
`+ft+" "+ei})}function fe(S,K,oe,Te){S.info(function(){return"XMLHTTP TEXT ("+K+"): "+be(S,oe)+(Te?" "+Te:"")})}function Le(S,K){S.info(function(){return"TIMEOUT: "+K})}ia.prototype.info=function(){};function be(S,K){if(!S.g)return K;if(!K)return null;try{var oe=JSON.parse(K);if(oe){for(S=0;S<oe.length;S++)if(Array.isArray(oe[S])){var Te=oe[S];if(!(2>Te.length)){var it=Te[1];if(Array.isArray(it)&&!(1>it.length)){var ft=it[0];if(ft!="noop"&&ft!="stop"&&ft!="close")for(var ei=1;ei<it.length;ei++)it[ei]=""}}}}return hi(oe)}catch{return K}}var De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ze;function rt(){}y(rt,Bi),rt.prototype.g=function(){return new XMLHttpRequest},rt.prototype.i=function(){return{}},ze=new rt;function vt(S,K,oe,Te){this.j=S,this.i=K,this.l=oe,this.R=Te||1,this.U=new yt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new at}function at(){this.i=null,this.g="",this.h=!1}var ot={},lt={};function Vt(S,K,oe){S.L=1,S.v=Ou(Xn(K)),S.m=oe,S.P=!0,Jt(S,null)}function Jt(S,K){S.F=Date.now(),ii(S),S.A=Xn(S.v);var oe=S.A,Te=S.R;Array.isArray(Te)||(Te=[String(Te)]),Gi(oe.i,"t",Te),S.C=0,oe=S.j.J,S.h=new at,S.g=Ks(S.j,oe?K:null,!S.m),0<S.O&&(S.M=new Ke(p(S.Y,S,S.g),S.O)),K=S.U,oe=S.g,Te=S.ca;var it="readystatechange";Array.isArray(it)||(it&&(xt[0]=it.toString()),it=xt);for(var ft=0;ft<it.length;ft++){var ei=ti(oe,it[ft],Te||K.handleEvent,!1,K.h||K);if(!ei)break;K.g[ei.key]=ei}K=S.H?k(S.H):{},S.m?(S.u||(S.u="POST"),K["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,K)):(S.u="GET",S.g.ea(S.A,S.u,null,K)),pa(),zn(S.i,S.u,S.A,S.l,S.R,S.m)}vt.prototype.ca=function(S){S=S.target;const K=this.M;K&&Xa(S)==3?K.j():this.Y(S)},vt.prototype.Y=function(S){try{if(S==this.g)e:{const Zn=Xa(this.g);var K=this.g.Ba();const rc=this.g.Z();if(!(3>Zn)&&(Zn!=3||this.g&&(this.h.h||this.g.oa()||_u(this.g)))){this.J||Zn!=4||K==7||(K==8||0>=rc?pa(3):pa(2)),Xr(this);var oe=this.g.Z();this.X=oe;t:if(ai(this)){var Te=_u(this.g);S="";var it=Te.length,ft=Xa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_r(this),fr(this);var ei="";break t}this.h.i=new o.TextDecoder}for(K=0;K<it;K++)this.h.h=!0,S+=this.h.i.decode(Te[K],{stream:!(ft&&K==it-1)});Te.length=0,this.h.g+=S,this.C=0,ei=this.h.g}else ei=this.g.oa();if(this.o=oe==200,bs(this.i,this.u,this.A,this.l,this.R,Zn,oe),this.o){if(this.T&&!this.K){t:{if(this.g){var zr,Es=this.g;if((zr=Es.g?Es.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(zr)){var pr=zr;break t}}pr=null}if(oe=pr)fe(this.i,this.l,oe,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,oe);else{this.o=!1,this.s=3,Fn(12),_r(this),fr(this);break e}}if(this.P){oe=!0;let go;for(;!this.J&&this.C<ei.length;)if(go=Qt(this,ei),go==lt){Zn==4&&(this.s=4,Fn(14),oe=!1),fe(this.i,this.l,null,"[Incomplete Response]");break}else if(go==ot){this.s=4,Fn(15),fe(this.i,this.l,ei,"[Invalid Chunk]"),oe=!1;break}else fe(this.i,this.l,go,null),Ia(this,go);if(ai(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zn!=4||ei.length!=0||this.h.h||(this.s=1,Fn(16),oe=!1),this.o=this.o&&oe,!oe)fe(this.i,this.l,ei,"[Invalid Chunked Response]"),_r(this),fr(this);else if(0<ei.length&&!this.W){this.W=!0;var Sr=this.j;Sr.g==this&&Sr.ba&&!Sr.M&&(Sr.j.info("Great, no buffering proxy detected. Bytes received: "+ei.length),Di(Sr),Sr.M=!0,Fn(11))}}else fe(this.i,this.l,ei,null),Ia(this,ei);Zn==4&&_r(this),this.o&&!this.J&&(Zn==4?rr(this.j,this):(this.o=!1,ii(this)))}else Ic(this.g),oe==400&&0<ei.indexOf("Unknown SID")?(this.s=3,Fn(12)):(this.s=0,Fn(13)),_r(this),fr(this)}}}catch{}finally{}};function ai(S){return S.g?S.u=="GET"&&S.L!=2&&S.j.Ca:!1}function Qt(S,K){var oe=S.C,Te=K.indexOf(`
`,oe);return Te==-1?lt:(oe=Number(K.substring(oe,Te)),isNaN(oe)?ot:(Te+=1,Te+oe>K.length?lt:(K=K.slice(Te,Te+oe),S.C=Te+oe,K)))}vt.prototype.cancel=function(){this.J=!0,_r(this)};function ii(S){S.S=Date.now()+S.I,yi(S,S.I)}function yi(S,K){if(S.B!=null)throw Error("WatchDog timer not null");S.B=Os(p(S.ba,S),K)}function Xr(S){S.B&&(o.clearTimeout(S.B),S.B=null)}vt.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(Le(this.i,this.A),this.L!=2&&(pa(),Fn(17)),_r(this),this.s=2,fr(this)):yi(this,this.S-S)};function fr(S){S.j.G==0||S.J||rr(S.j,S)}function _r(S){Xr(S);var K=S.M;K&&typeof K.ma=="function"&&K.ma(),S.M=null,Nt(S.U),S.g&&(K=S.g,S.g=null,K.abort(),K.ma())}function Ia(S,K){try{var oe=S.j;if(oe.G!=0&&(oe.g==S||ks(oe.h,S))){if(!S.K&&ks(oe.h,S)&&oe.G==3){try{var Te=oe.Da.g.parse(K)}catch{Te=null}if(Array.isArray(Te)&&Te.length==3){var it=Te;if(it[0]==0){e:if(!oe.u){if(oe.g)if(oe.g.F+3e3<S.F)Ki(oe),Al(oe);else break e;Ut(oe),Fn(18)}}else oe.za=it[1],0<oe.za-oe.T&&37500>it[2]&&oe.F&&oe.v==0&&!oe.C&&(oe.C=Os(p(oe.Za,oe),6e3));if(1>=ru(oe.h)&&oe.ca){try{oe.ca()}catch{}oe.ca=void 0}}else fn(oe,11)}else if((S.K||oe.g==S)&&Ki(oe),!D(K))for(it=oe.Da.g.parse(K),K=0;K<it.length;K++){let pr=it[K];if(oe.T=pr[0],pr=pr[1],oe.G==2)if(pr[0]=="c"){oe.K=pr[1],oe.ia=pr[2];const Sr=pr[3];Sr!=null&&(oe.la=Sr,oe.j.info("VER="+oe.la));const Zn=pr[4];Zn!=null&&(oe.Aa=Zn,oe.j.info("SVER="+oe.Aa));const rc=pr[5];rc!=null&&typeof rc=="number"&&0<rc&&(Te=1.5*rc,oe.L=Te,oe.j.info("backChannelRequestTimeoutMs_="+Te)),Te=oe;const go=S.g;if(go){const Ja=go.g?go.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ja){var ft=Te.h;ft.g||Ja.indexOf("spdy")==-1&&Ja.indexOf("quic")==-1&&Ja.indexOf("h2")==-1||(ft.j=ft.l,ft.g=new Set,ft.h&&(Iu(ft,ft.h),ft.h=null))}if(Te.D){const sl=go.g?go.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(Te.ya=sl,Mr(Te.I,Te.D,sl))}}oe.G=3,oe.l&&oe.l.ua(),oe.ba&&(oe.R=Date.now()-S.F,oe.j.info("Handshake RTT: "+oe.R+"ms")),Te=oe;var ei=S;if(Te.qa=Sn(Te,Te.J?Te.ia:null,Te.W),ei.K){dn(Te.h,ei);var zr=ei,Es=Te.L;Es&&(zr.I=Es),zr.B&&(Xr(zr),ii(zr)),Te.g=ei}else It(Te);0<oe.i.length&&V(oe)}else pr[0]!="stop"&&pr[0]!="close"||fn(oe,7);else oe.G==3&&(pr[0]=="stop"||pr[0]=="close"?pr[0]=="stop"?fn(oe,7):yd(oe):pr[0]!="noop"&&oe.l&&oe.l.ta(pr),oe.v=0)}}pa(4)}catch{}}var Zl=class{constructor(S,K){this.g=S,this.map=K}};function El(S){this.l=S||10,o.PerformanceNavigationTiming?(S=o.performance.getEntriesByType("navigation"),S=0<S.length&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jo(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function ru(S){return S.h?1:S.g?S.g.size:0}function ks(S,K){return S.h?S.h==K:S.g?S.g.has(K):!1}function Iu(S,K){S.g?S.g.add(K):S.h=K}function dn(S,K){S.h&&S.h==K?S.h=null:S.g&&S.g.has(K)&&S.g.delete(K)}El.prototype.cancel=function(){if(this.i=Ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function Ka(S){if(S.h!=null)return S.i.concat(S.h.D);if(S.g!=null&&S.g.size!==0){let K=S.i;for(const oe of S.g.values())K=K.concat(oe.D);return K}return M(S.i)}function bf(S){if(S.V&&typeof S.V=="function")return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if(typeof S=="string")return S.split("");if(l(S)){for(var K=[],oe=S.length,Te=0;Te<oe;Te++)K.push(S[Te]);return K}K=[],oe=0;for(Te in S)K[oe++]=S[Te];return K}function nu(S){if(S.na&&typeof S.na=="function")return S.na();if(!S.V||typeof S.V!="function"){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(l(S)||typeof S=="string"){var K=[];S=S.length;for(var oe=0;oe<S;oe++)K.push(oe);return K}K=[],oe=0;for(const Te in S)K[oe++]=Te;return K}}}function wc(S,K){if(S.forEach&&typeof S.forEach=="function")S.forEach(K,void 0);else if(l(S)||typeof S=="string")Array.prototype.forEach.call(S,K,void 0);else for(var oe=nu(S),Te=bf(S),it=Te.length,ft=0;ft<it;ft++)K.call(void 0,Te[ft],oe&&oe[ft],S)}var tl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tc(S,K){if(S){S=S.split("&");for(var oe=0;oe<S.length;oe++){var Te=S[oe].indexOf("="),it=null;if(0<=Te){var ft=S[oe].substring(0,Te);it=S[oe].substring(Te+1)}else ft=S[oe];K(ft,it?decodeURIComponent(it.replace(/\+/g," ")):"")}}}function En(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof En){this.h=S.h,Cu(this,S.j),this.o=S.o,this.g=S.g,Dh(this,S.s),this.l=S.l;var K=S.i,oe=new po;oe.i=K.i,K.g&&(oe.g=new Map(K.g),oe.h=K.h),vd(this,oe),this.m=S.m}else S&&(K=String(S).match(tl))?(this.h=!1,Cu(this,K[1]||"",!0),this.o=su(K[2]||""),this.g=su(K[3]||"",!0),Dh(this,K[4]),this.l=su(K[5]||"",!0),vd(this,K[6]||"",!0),this.m=su(K[7]||"")):(this.h=!1,this.i=new po(null,this.h))}En.prototype.toString=function(){var S=[],K=this.j;K&&S.push(Ca(K,Ef,!0),":");var oe=this.g;return(oe||K=="file")&&(S.push("//"),(K=this.o)&&S.push(Ca(K,Ef,!0),"@"),S.push(encodeURIComponent(String(oe)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),oe=this.s,oe!=null&&S.push(":",String(oe))),(oe=this.l)&&(this.g&&oe.charAt(0)!="/"&&S.push("/"),S.push(Ca(oe,oe.charAt(0)=="/"?Af:em,!0))),(oe=this.i.toString())&&S.push("?",oe),(oe=this.m)&&S.push("#",Ca(oe,Eh)),S.join("")};function Xn(S){return new En(S)}function Cu(S,K,oe){S.j=oe?su(K,!0):K,S.j&&(S.j=S.j.replace(/:$/,""))}function Dh(S,K){if(K){if(K=Number(K),isNaN(K)||0>K)throw Error("Bad port number "+K);S.s=K}else S.s=null}function vd(S,K,oe){K instanceof po?(S.i=K,tm(S.i,S.h)):(oe||(K=Ca(K,Sf)),S.i=new po(K,S.h))}function Mr(S,K,oe){S.i.set(K,oe)}function Ou(S){return Mr(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function su(S,K){return S?K?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function Ca(S,K,oe){return typeof S=="string"?(S=encodeURI(S).replace(K,Df),oe&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function Df(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var Ef=/[#\/\?@]/g,em=/[#\?:]/g,Af=/[#\?]/g,Sf=/[#\?@]/g,Eh=/#/g;function po(S,K){this.h=this.g=null,this.i=S||null,this.j=!!K}function ma(S){S.g||(S.g=new Map,S.h=0,S.i&&Tc(S.i,function(K,oe){S.add(decodeURIComponent(K.replace(/\+/g," ")),oe)}))}r=po.prototype,r.add=function(S,K){ma(this),this.i=null,S=il(this,S);var oe=this.g.get(S);return oe||this.g.set(S,oe=[]),oe.push(K),this.h+=1,this};function bc(S,K){ma(S),K=il(S,K),S.g.has(K)&&(S.i=null,S.h-=S.g.get(K).length,S.g.delete(K))}function ku(S,K){return ma(S),K=il(S,K),S.g.has(K)}r.forEach=function(S,K){ma(this),this.g.forEach(function(oe,Te){oe.forEach(function(it){S.call(K,it,Te,this)},this)},this)},r.na=function(){ma(this);const S=Array.from(this.g.values()),K=Array.from(this.g.keys()),oe=[];for(let Te=0;Te<K.length;Te++){const it=S[Te];for(let ft=0;ft<it.length;ft++)oe.push(K[Te])}return oe},r.V=function(S){ma(this);let K=[];if(typeof S=="string")ku(this,S)&&(K=K.concat(this.g.get(il(this,S))));else{S=Array.from(this.g.values());for(let oe=0;oe<S.length;oe++)K=K.concat(S[oe])}return K},r.set=function(S,K){return ma(this),this.i=null,S=il(this,S),ku(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[K]),this.h+=1,this},r.get=function(S,K){return S?(S=this.V(S),0<S.length?String(S[0]):K):K};function Gi(S,K,oe){bc(S,K),0<oe.length&&(S.i=null,S.g.set(il(S,K),M(oe)),S.h+=oe.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],K=Array.from(this.g.keys());for(var oe=0;oe<K.length;oe++){var Te=K[oe];const ft=encodeURIComponent(String(Te)),ei=this.V(Te);for(Te=0;Te<ei.length;Te++){var it=ft;ei[Te]!==""&&(it+="="+encodeURIComponent(String(ei[Te]))),S.push(it)}}return this.i=S.join("&")};function il(S,K){return K=String(K),S.j&&(K=K.toLowerCase()),K}function tm(S,K){K&&!S.j&&(ma(S),S.i=null,S.g.forEach(function(oe,Te){var it=Te.toLowerCase();Te!=it&&(bc(this,Te),Gi(this,it,oe))},S)),S.j=K}function Nf(S,K){const oe=new ia;if(o.Image){const Te=new Image;Te.onload=m(Gs,oe,"TestLoadImage: loaded",!0,K,Te),Te.onerror=m(Gs,oe,"TestLoadImage: error",!1,K,Te),Te.onabort=m(Gs,oe,"TestLoadImage: abort",!1,K,Te),Te.ontimeout=m(Gs,oe,"TestLoadImage: timeout",!1,K,Te),o.setTimeout(function(){Te.ontimeout&&Te.ontimeout()},1e4),Te.src=S}else K(!1)}function im(S,K){const oe=new ia,Te=new AbortController,it=setTimeout(()=>{Te.abort(),Gs(oe,"TestPingServer: timeout",!1,K)},1e4);fetch(S,{signal:Te.signal}).then(ft=>{clearTimeout(it),ft.ok?Gs(oe,"TestPingServer: ok",!0,K):Gs(oe,"TestPingServer: server error",!1,K)}).catch(()=>{clearTimeout(it),Gs(oe,"TestPingServer: error",!1,K)})}function Gs(S,K,oe,Te,it){try{it&&(it.onload=null,it.onerror=null,it.onabort=null,it.ontimeout=null),Te(oe)}catch{}}function Oa(){this.g=new vi}function If(S,K,oe){const Te=oe||"";try{wc(S,function(it,ft){let ei=it;c(it)&&(ei=hi(it)),K.push(Te+ft+"="+encodeURIComponent(ei))})}catch(it){throw K.push(Te+"type="+encodeURIComponent("_badmap")),it}}function Dc(S){this.l=S.Ub||null,this.j=S.eb||!1}y(Dc,Bi),Dc.prototype.g=function(){return new $a(this.l,this.j)},Dc.prototype.i=(function(S){return function(){return S}})({});function $a(S,K){Xt.call(this),this.D=S,this.o=K,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y($a,Xt),r=$a.prototype,r.open=function(S,K){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=K,this.readyState=1,ec(this)},r.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const K={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(K.body=S),(this.D||o).fetch(new Request(this.A,K)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=0},r.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,ec(this)),this.g&&(this.readyState=3,ec(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lu(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lu(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}r.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var K=S.value?S.value:new Uint8Array(0);(K=this.v.decode(K,{stream:!S.done}))&&(this.response=this.responseText+=K)}S.done?_o(this):ec(this),this.readyState==3&&Lu(this)}},r.Ra=function(S){this.g&&(this.response=this.responseText=S,_o(this))},r.Qa=function(S){this.g&&(this.response=S,_o(this))},r.ga=function(){this.g&&_o(this)};function _o(S){S.readyState=4,S.l=null,S.j=null,S.v=null,ec(S)}r.setRequestHeader=function(S,K){this.u.append(S,K)},r.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],K=this.h.entries();for(var oe=K.next();!oe.done;)oe=oe.value,S.push(oe[0]+": "+oe[1]),oe=K.next();return S.join(`\r
`)};function ec(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty($a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Ec(S){let K="";return P(S,function(oe,Te){K+=Te,K+=":",K+=oe,K+=`\r
`}),K}function ju(S,K,oe){e:{for(Te in oe){var Te=!1;break e}Te=!0}Te||(oe=Ec(oe),typeof S=="string"?oe!=null&&encodeURIComponent(String(oe)):Mr(S,K,oe))}function An(S){Xt.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(An,Xt);var ga=/^https?$/i,rl=["POST","PUT"];r=An.prototype,r.Ha=function(S){this.J=S},r.ea=function(S,K,oe,Te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);K=K?K.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ze.g(),this.v=this.o?Qi(this.o):Qi(ze),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(K,String(S),!0),this.B=!1}catch(ft){tc(this,ft);return}if(S=oe||"",oe=new Map(this.headers),Te)if(Object.getPrototypeOf(Te)===Object.prototype)for(var it in Te)oe.set(it,Te[it]);else if(typeof Te.keys=="function"&&typeof Te.get=="function")for(const ft of Te.keys())oe.set(ft,Te.get(ft));else throw Error("Unknown input type for opt_headers: "+String(Te));Te=Array.from(oe.keys()).find(ft=>ft.toLowerCase()=="content-type"),it=o.FormData&&S instanceof o.FormData,!(0<=Array.prototype.indexOf.call(rl,K,void 0))||Te||it||oe.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ft,ei]of oe)this.g.setRequestHeader(ft,ei);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nc(this),this.u=!0,this.g.send(S),this.u=!1}catch(ft){tc(this,ft)}};function tc(S,K){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=K,S.m=5,Ac(S),Sc(S)}function Ac(S){S.A||(S.A=!0,gi(S,"complete"),gi(S,"error"))}r.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,gi(this,"complete"),gi(this,"abort"),Sc(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sc(this,!0)),An.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ah(this):this.bb())},r.bb=function(){Ah(this)};function Ah(S){if(S.h&&typeof a<"u"&&(!S.v[1]||Xa(S)!=4||S.Z()!=2)){if(S.u&&Xa(S)==4)Ne(S.Ea,0,S);else if(gi(S,"readystatechange"),Xa(S)==4){S.h=!1;try{const ei=S.Z();e:switch(ei){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var K=!0;break e;default:K=!1}var oe;if(!(oe=K)){var Te;if(Te=ei===0){var it=String(S.D).match(tl)[1]||null;!it&&o.self&&o.self.location&&(it=o.self.location.protocol.slice(0,-1)),Te=!ga.test(it?it.toLowerCase():"")}oe=Te}if(oe)gi(S,"complete"),gi(S,"success");else{S.m=6;try{var ft=2<Xa(S)?S.g.statusText:""}catch{ft=""}S.l=ft+" ["+S.Z()+"]",Ac(S)}}finally{Sc(S)}}}}function Sc(S,K){if(S.g){Nc(S);const oe=S.g,Te=S.v[0]?()=>{}:null;S.g=null,S.v=null,K||gi(S,"ready");try{oe.onreadystatechange=Te}catch{}}}function Nc(S){S.I&&(o.clearTimeout(S.I),S.I=null)}r.isActive=function(){return!!this.g};function Xa(S){return S.g?S.g.readyState:0}r.Z=function(){try{return 2<Xa(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(S){if(this.g){var K=this.g.responseText;return S&&K.indexOf(S)==0&&(K=K.substring(S.length)),bi(K)}};function _u(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function Ic(S){const K={};S=(S.g&&2<=Xa(S)&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let Te=0;Te<S.length;Te++){if(D(S[Te]))continue;var oe=j(S[Te]);const it=oe[0];if(oe=oe[1],typeof oe!="string")continue;oe=oe.trim();const ft=K[it]||[];K[it]=ft,ft.push(oe)}C(K,function(Te){return Te.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function nl(S,K,oe){return oe&&oe.internalChannelParams&&oe.internalChannelParams[S]||K}function Cf(S){this.Aa=0,this.i=[],this.j=new ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nl("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nl("baseRetryDelayMs",5e3,S),this.cb=nl("retryDelaySeedMs",1e4,S),this.Wa=nl("forwardChannelMaxRetries",2,S),this.wa=nl("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new El(S&&S.concurrentRequestLimit),this.Da=new Oa,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Cf.prototype,r.la=8,r.G=1,r.connect=function(S,K,oe,Te){Fn(0),this.W=S,this.H=K||{},oe&&Te!==void 0&&(this.H.OSID=oe,this.H.OAID=Te),this.F=this.X,this.I=Sn(this,null,this.W),V(this)};function yd(S){if(Of(S),S.G==3){var K=S.U++,oe=Xn(S.I);if(Mr(oe,"SID",S.K),Mr(oe,"RID",K),Mr(oe,"TYPE","terminate"),He(S,oe),K=new vt(S,S.j,K),K.L=2,K.v=Ou(Xn(oe)),oe=!1,o.navigator&&o.navigator.sendBeacon)try{oe=o.navigator.sendBeacon(K.v.toString(),"")}catch{}!oe&&o.Image&&(new Image().src=K.v,oe=!0),oe||(K.g=Ks(K.j,null),K.g.ea(K.v)),K.F=Date.now(),ii(K)}Ds(S)}function Al(S){S.g&&(Di(S),S.g.cancel(),S.g=null)}function Of(S){Al(S),S.u&&(o.clearTimeout(S.u),S.u=null),Ki(S),S.h.cancel(),S.s&&(typeof S.s=="number"&&o.clearTimeout(S.s),S.s=null)}function V(S){if(!jo(S.h)&&!S.s){S.s=!0;var K=S.Ga;W||Ee(),re||(W(),re=!0),Z.add(K,S),S.B=0}}function ue(S,K){return ru(S.h)>=S.h.j-(S.s?1:0)?!1:S.s?(S.i=K.D.concat(S.i),!0):S.G==1||S.G==2||S.B>=(S.Va?0:S.Wa)?!1:(S.s=Os(p(S.Ga,S,K),qr(S,S.B)),S.B++,!0)}r.Ga=function(S){if(this.s)if(this.s=null,this.G==1){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const it=new vt(this,this.j,S);let ft=this.o;if(this.S&&(ft?(ft=k(ft),H(ft,this.S)):ft=this.S),this.m!==null||this.O||(it.H=ft,ft=null),this.P)e:{for(var K=0,oe=0;oe<this.i.length;oe++){t:{var Te=this.i[oe];if("__data__"in Te.map&&(Te=Te.map.__data__,typeof Te=="string")){Te=Te.length;break t}Te=void 0}if(Te===void 0)break;if(K+=Te,4096<K){K=oe;break e}if(K===4096||oe===this.i.length-1){K=oe+1;break e}}K=1e3}else K=1e3;K=et(this,it,K),oe=Xn(this.I),Mr(oe,"RID",S),Mr(oe,"CVER",22),this.D&&Mr(oe,"X-HTTP-Session-Id",this.D),He(this,oe),ft&&(this.O?K="headers="+encodeURIComponent(String(Ec(ft)))+"&"+K:this.m&&ju(oe,this.m,ft)),Iu(this.h,it),this.Ua&&Mr(oe,"TYPE","init"),this.P?(Mr(oe,"$req",K),Mr(oe,"SID","null"),it.T=!0,Vt(it,oe,null)):Vt(it,oe,K),this.G=2}}else this.G==3&&(S?je(this,S):this.i.length==0||jo(this.h)||je(this))};function je(S,K){var oe;K?oe=K.l:oe=S.U++;const Te=Xn(S.I);Mr(Te,"SID",S.K),Mr(Te,"RID",oe),Mr(Te,"AID",S.T),He(S,Te),S.m&&S.o&&ju(Te,S.m,S.o),oe=new vt(S,S.j,oe,S.B+1),S.m===null&&(oe.H=S.o),K&&(S.i=K.D.concat(S.i)),K=et(S,oe,1e3),oe.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),Iu(S.h,oe),Vt(oe,Te,K)}function He(S,K){S.H&&P(S.H,function(oe,Te){Mr(K,Te,oe)}),S.l&&wc({},function(oe,Te){Mr(K,Te,oe)})}function et(S,K,oe){oe=Math.min(S.i.length,oe);var Te=S.l?p(S.l.Na,S.l,S):null;e:{var it=S.i;let ft=-1;for(;;){const ei=["count="+oe];ft==-1?0<oe?(ft=it[0].g,ei.push("ofs="+ft)):ft=0:ei.push("ofs="+ft);let zr=!0;for(let Es=0;Es<oe;Es++){let pr=it[Es].g;const Sr=it[Es].map;if(pr-=ft,0>pr)ft=Math.max(0,it[Es].g-100),zr=!1;else try{If(Sr,ei,"req"+pr+"_")}catch{Te&&Te(Sr)}}if(zr){Te=ei.join("&");break e}}}return S=S.i.splice(0,oe),K.D=S,Te}function It(S){if(!S.g&&!S.u){S.Y=1;var K=S.Fa;W||Ee(),re||(W(),re=!0),Z.add(K,S),S.v=0}}function Ut(S){return S.g||S.u||3<=S.v?!1:(S.Y++,S.u=Os(p(S.Fa,S),qr(S,S.v)),S.v++,!0)}r.Fa=function(){if(this.u=null,Oi(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=Os(p(this.ab,this),S)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fn(10),Al(this),Oi(this))};function Di(S){S.A!=null&&(o.clearTimeout(S.A),S.A=null)}function Oi(S){S.g=new vt(S,S.j,"rpc",S.Y),S.m===null&&(S.g.H=S.o),S.g.O=0;var K=Xn(S.qa);Mr(K,"RID","rpc"),Mr(K,"SID",S.K),Mr(K,"AID",S.T),Mr(K,"CI",S.F?"0":"1"),!S.F&&S.ja&&Mr(K,"TO",S.ja),Mr(K,"TYPE","xmlhttp"),He(S,K),S.m&&S.o&&ju(K,S.m,S.o),S.L&&(S.g.I=S.L);var oe=S.g;S=S.ia,oe.L=1,oe.v=Ou(Xn(K)),oe.m=null,oe.P=!0,Jt(oe,S)}r.Za=function(){this.C!=null&&(this.C=null,Al(this),Ut(this),Fn(19))};function Ki(S){S.C!=null&&(o.clearTimeout(S.C),S.C=null)}function rr(S,K){var oe=null;if(S.g==K){Ki(S),Di(S),S.g=null;var Te=2}else if(ks(S.h,K))oe=K.D,dn(S.h,K),Te=1;else return;if(S.G!=0){if(K.o)if(Te==1){oe=K.m?K.m.length:0,K=Date.now()-K.F;var it=S.B;Te=Cs(),gi(Te,new el(Te,oe)),V(S)}else It(S);else if(it=K.s,it==3||it==0&&0<K.X||!(Te==1&&ue(S,K)||Te==2&&Ut(S)))switch(oe&&0<oe.length&&(K=S.h,K.i=K.i.concat(oe)),it){case 1:fn(S,5);break;case 4:fn(S,10);break;case 3:fn(S,6);break;default:fn(S,2)}}}function qr(S,K){let oe=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||(oe*=2),oe*K}function fn(S,K){if(S.j.info("Error code "+K),K==2){var oe=p(S.fb,S),Te=S.Xa;const it=!Te;Te=new En(Te||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Cu(Te,"https"),Ou(Te),it?Nf(Te.toString(),oe):im(Te.toString(),oe)}else Fn(2);S.G=0,S.l&&S.l.sa(K),Ds(S),Of(S)}r.fb=function(S){S?(this.j.info("Successfully pinged google.com"),Fn(2)):(this.j.info("Failed to ping google.com"),Fn(1))};function Ds(S){if(S.G=0,S.ka=[],S.l){const K=Ka(S.h);(K.length!=0||S.i.length!=0)&&(w(S.ka,K),w(S.ka,S.i),S.h.i.length=0,M(S.i),S.i.length=0),S.l.ra()}}function Sn(S,K,oe){var Te=oe instanceof En?Xn(oe):new En(oe);if(Te.g!="")K&&(Te.g=K+"."+Te.g),Dh(Te,Te.s);else{var it=o.location;Te=it.protocol,K=K?K+"."+it.hostname:it.hostname,it=+it.port;var ft=new En(null);Te&&Cu(ft,Te),K&&(ft.g=K),it&&Dh(ft,it),oe&&(ft.l=oe),Te=ft}return oe=S.D,K=S.ya,oe&&K&&Mr(Te,oe,K),Mr(Te,"VER",S.la),He(S,Te),Te}function Ks(S,K,oe){if(K&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return K=S.Ca&&!S.pa?new An(new Dc({eb:oe})):new An(S.pa),K.Ha(S.J),K}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ls(){}r=Ls.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function $s(){}$s.prototype.g=function(S,K){return new Jn(S,K)};function Jn(S,K){Xt.call(this),this.g=new Cf(K),this.l=S,this.h=K&&K.messageUrlParams||null,S=K&&K.messageHeaders||null,K&&K.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=K&&K.initMessageHeaders||null,K&&K.messageContentType&&(S?S["X-WebChannel-Content-Type"]=K.messageContentType:S={"X-WebChannel-Content-Type":K.messageContentType}),K&&K.va&&(S?S["X-WebChannel-Client-Profile"]=K.va:S={"X-WebChannel-Client-Profile":K.va}),this.g.S=S,(S=K&&K.Sb)&&!D(S)&&(this.g.m=S),this.v=K&&K.supportsCrossDomainXhr||!1,this.u=K&&K.sendRawJson||!1,(K=K&&K.httpSessionIdParam)&&!D(K)&&(this.g.D=K,S=this.h,S!==null&&K in S&&(S=this.h,K in S&&delete S[K])),this.j=new ic(this)}y(Jn,Xt),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){yd(this.g)},Jn.prototype.o=function(S){var K=this.g;if(typeof S=="string"){var oe={};oe.__data__=S,S=oe}else this.u&&(oe={},oe.__data__=hi(S),S=oe);K.i.push(new Zl(K.Ya++,S)),K.G==3&&V(K)},Jn.prototype.N=function(){this.g.l=null,delete this.j,yd(this.g),delete this.g,Jn.aa.N.call(this)};function mo(S){Dr.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var K=S.__sm__;if(K){e:{for(const oe in K){S=oe;break e}S=void 0}(this.i=S)&&(S=this.i,K=K!==null&&S in K?K[S]:void 0),this.data=K}else this.data=S}y(mo,Dr);function kf(){_i.call(this),this.status=1}y(kf,_i);function ic(S){this.g=S}y(ic,Ls),ic.prototype.ua=function(){gi(this.g,"a")},ic.prototype.ta=function(S){gi(this.g,new mo(S))},ic.prototype.sa=function(S){gi(this.g,new kf)},ic.prototype.ra=function(){gi(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,lY=function(){return new $s},oY=function(){return Cs()},aY=dr,J5={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,WE=De,Ce.COMPLETE="complete",sY=Ce,nn.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,KM=nn,An.prototype.listenOnce=An.prototype.L,An.prototype.getLastError=An.prototype.Ka,An.prototype.getLastErrorCode=An.prototype.Ba,An.prototype.getStatus=An.prototype.Z,An.prototype.getResponseJson=An.prototype.Oa,An.prototype.getResponseText=An.prototype.oa,An.prototype.send=An.prototype.ea,An.prototype.setWithCredentials=An.prototype.Ha,nY=An}).apply(typeof mD<"u"?mD:typeof self<"u"?self:typeof window<"u"?window:{});const WP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fl.UNAUTHENTICATED=new Fl(null),Fl.GOOGLE_CREDENTIALS=new Fl("google-credentials-uid"),Fl.FIRST_PARTY=new Fl("first-party-uid"),Fl.MOCK_USER=new Fl("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $1="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new aL("@firebase/firestore");function Yx(){return nv.logLevel}function zi(r,...t){if(nv.logLevel<=rn.DEBUG){const e=t.map(vL);nv.debug(`Firestore (${$1}): ${r}`,...e)}}function Vp(r,...t){if(nv.logLevel<=rn.ERROR){const e=t.map(vL);nv.error(`Firestore (${$1}): ${r}`,...e)}}function E1(r,...t){if(nv.logLevel<=rn.WARN){const e=t.map(vL);nv.warn(`Firestore (${$1}): ${r}`,...e)}}function vL(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(r="Unexpected state"){const t=`FIRESTORE (${$1}) INTERNAL ASSERTION FAILED: `+r;throw Vp(t),new Error(t)}function Kn(r,t){r||hr()}function xr(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mi extends gf{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ole{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Fl.UNAUTHENTICATED)))}shutdown(){}}class kle{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Lle{constructor(t){this.t=t,this.currentUser=Fl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kn(this.o===void 0);let i=this.i;const n=l=>this.i!==i?(i=this.i,e(l)):Promise.resolve();let s=new Ip;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ip,t.enqueueRetryable((()=>n(this.currentUser)))};const a=()=>{const l=s;t.enqueueRetryable((async()=>{await l.promise,await n(this.currentUser)}))},o=l=>{zi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(zi("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ip)}}),0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(zi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Kn(typeof i.accessToken=="string"),new cY(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kn(t===null||typeof t=="string"),new Fl(t)}}class jle{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Fl.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _le{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new jle(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(Fl.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zle{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rle{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){Kn(this.o===void 0);const i=s=>{s.error!=null&&zi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,zi("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable((()=>i(s)))};const n=s=>{zi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>n(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?n(s):zi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Kn(typeof e.token=="string"),this.R=e.token,new zle(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ple(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<r;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const n=Ple(40);for(let s=0;s<n.length;++s)i.length<20&&n[s]<e&&(i+=t.charAt(n[s]%t.length))}return i}}function Dn(r,t){return r<t?-1:r>t?1:0}function A1(r,t,e){return r.length===t.length&&r.every(((i,n)=>e(i,t[n])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mi(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mi(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new mi(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mi(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Oo.fromMillis(Date.now())}static fromDate(t){return Oo.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Oo(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Dn(this.nanoseconds,t.nanoseconds):Dn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new yr(t)}static min(){return new yr(new Oo(0,0))}static max(){return new yr(new Oo(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,e,i){e===void 0?e=0:e>t.length&&hr(),i===void 0?i=t.length-e:i>t.length-e&&hr(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return qw.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof qw?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let n=0;n<i;n++){const s=t.get(n),a=e.get(n);if(s<a)return-1;if(s>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Is extends qw{construct(t,e,i){return new Is(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new mi(_t.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((n=>n.length>0)))}return new Is(e)}static emptyPath(){return new Is([])}}const Fle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xl extends qw{construct(t,e,i){return new xl(t,e,i)}static isValidIdentifier(t){return Fle.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xl.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xl(["__name__"])}static fromServerFormat(t){const e=[];let i="",n=0;const s=()=>{if(i.length===0)throw new mi(_t.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;n<t.length;){const o=t[n];if(o==="\\"){if(n+1===t.length)throw new mi(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[n+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new mi(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,n+=2}else o==="`"?(a=!a,n++):o!=="."||a?(i+=o,n++):(s(),n++)}if(s(),a)throw new mi(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new xl(e)}static emptyPath(){return new xl([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t){this.path=t}static fromPath(t){return new qi(Is.fromString(t))}static fromName(t){return new qi(Is.fromString(t).popFirst(5))}static empty(){return new qi(Is.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Is.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Is.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qi(new Is(t.slice()))}}function Ble(r,t){const e=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,n=yr.fromTimestamp(i===1e9?new Oo(e+1,0):new Oo(e,i));return new Dg(n,qi.empty(),t)}function Ule(r){return new Dg(r.readTime,r.key,-1)}class Dg{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Dg(yr.min(),qi.empty(),-1)}static max(){return new Dg(yr.max(),qi.empty(),-1)}}function Vle(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=qi.comparator(r.documentKey,t.documentKey),e!==0?e:Dn(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(r){if(r.code!==_t.FAILED_PRECONDITION||r.message!==Hle)throw r;zi("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&hr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Gt(((i,n)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,n)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,n)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Gt?e:Gt.resolve(e)}catch(e){return Gt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Gt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Gt.reject(e)}static resolve(t){return new Gt(((e,i)=>{e(t)}))}static reject(t){return new Gt(((e,i)=>{i(t)}))}static waitFor(t){return new Gt(((e,i)=>{let n=0,s=0,a=!1;t.forEach((o=>{++n,o.next((()=>{++s,a&&s===n&&e()}),(l=>i(l)))})),a=!0,s===n&&e()}))}static or(t){let e=Gt.resolve(!1);for(const i of t)e=e.next((n=>n?Gt.resolve(n):i()));return e}static forEach(t,e){const i=[];return t.forEach(((n,s)=>{i.push(e.call(this,n,s))})),this.waitFor(i)}static mapArray(t,e){return new Gt(((i,n)=>{const s=t.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next((u=>{a[c]=u,++o,o===s&&i(a)}),(u=>n(u)))}}))}static doWhile(t,e){return new Gt(((i,n)=>{const s=()=>{t()===!0?e().next((()=>{s()}),n):i()};s()}))}}function Yle(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function HT(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ie(i),this.se=i=>e.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}yL.oe=-1;function ZS(r){return r==null}function EA(r){return r===0&&1/r==-1/0}function qle(r){return typeof r=="number"&&Number.isInteger(r)&&!EA(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function Ev(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function hY(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t,e){this.comparator=t,this.root=e||ml.EMPTY}insert(t,e){return new da(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ml.BLACK,null,null))}remove(t){return new da(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ml.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const n=this.comparator(t,i.key);if(n===0)return e+i.left.size;n<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gD(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gD(this.root,t,this.comparator,!1)}getReverseIterator(){return new gD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gD(this.root,t,this.comparator,!0)}}class gD{constructor(t,e,i,n){this.isReverse=n,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&n&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ml{constructor(t,e,i,n,s){this.key=t,this.value=e,this.color=i??ml.RED,this.left=n??ml.EMPTY,this.right=s??ml.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,n,s){return new ml(t??this.key,e??this.value,i??this.color,n??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let n=this;const s=i(t,n.key);return n=s<0?n.copy(null,null,null,n.left.insert(t,e,i),null):s===0?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(t,e,i)),n.fixUp()}removeMin(){if(this.left.isEmpty())return ml.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,n=this;if(e(t,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),e(t,n.key)===0){if(n.right.isEmpty())return ml.EMPTY;i=n.right.min(),n=n.copy(i.key,i.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ml.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ml.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hr();const t=this.left.check();if(t!==this.right.check())throw hr();return t+(this.isRed()?0:1)}}ml.EMPTY=null,ml.RED=!0,ml.BLACK=!1;ml.EMPTY=new class{constructor(){this.size=0}get key(){throw hr()}get value(){throw hr()}get color(){throw hr()}get left(){throw hr()}get right(){throw hr()}copy(t,e,i,n,s){return this}insert(t,e,i){return new ml(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t){this.comparator=t,this.data=new da(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const n=i.getNext();if(this.comparator(n.key,t[1])>=0)return;e(n.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new qP(this.data.getIterator())}getIteratorFrom(t){return new qP(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Tl)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const n=e.getNext().key,s=i.getNext().key;if(this.comparator(n,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Tl(this.comparator);return e.data=t,e}}class qP{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t){this.fields=t,t.sort(xl.comparator)}static empty(){return new Tu([])}unionWith(t){let e=new Tl(xl.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Tu(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return A1(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(n){try{return atob(n)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dY("Invalid base64 string: "+s):s}})(t);return new bl(e)}static fromUint8Array(t){const e=(function(n){let s="";for(let a=0;a<n.length;++a)s+=String.fromCharCode(n[a]);return s})(t);return new bl(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}bl.EMPTY_BYTE_STRING=new bl("");const Qle=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eg(r){if(Kn(!!r),typeof r=="string"){let t=0;const e=Qle.exec(r);if(Kn(!!e),e[1]){let n=e[1];n=(n+"000000000").substr(0,9),t=Number(n)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Pa(r.seconds),nanos:Pa(r.nanos)}}function Pa(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function sv(r){return typeof r=="string"?bl.fromBase64String(r):bl.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(r){var t,e;return((e=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function xL(r){const t=r.mapValue.fields.__previous_value__;return eN(t)?xL(t):t}function Qw(r){const t=Eg(r.mapValue.fields.__local_write_time__.timestampValue);return new Oo(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gle{constructor(t,e,i,n,s,a,o,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=n,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class Gw{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Gw("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Gw&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={mapValue:{}};function av(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?eN(r)?4:$le(r)?9007199254740991:Kle(r)?10:11:hr()}function ff(r,t){if(r===t)return!0;const e=av(r);if(e!==av(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Qw(r).isEqual(Qw(t));case 3:return(function(n,s){if(typeof n.timestampValue=="string"&&typeof s.timestampValue=="string"&&n.timestampValue.length===s.timestampValue.length)return n.timestampValue===s.timestampValue;const a=Eg(n.timestampValue),o=Eg(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(n,s){return sv(n.bytesValue).isEqual(sv(s.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(n,s){return Pa(n.geoPointValue.latitude)===Pa(s.geoPointValue.latitude)&&Pa(n.geoPointValue.longitude)===Pa(s.geoPointValue.longitude)})(r,t);case 2:return(function(n,s){if("integerValue"in n&&"integerValue"in s)return Pa(n.integerValue)===Pa(s.integerValue);if("doubleValue"in n&&"doubleValue"in s){const a=Pa(n.doubleValue),o=Pa(s.doubleValue);return a===o?EA(a)===EA(o):isNaN(a)&&isNaN(o)}return!1})(r,t);case 9:return A1(r.arrayValue.values||[],t.arrayValue.values||[],ff);case 10:case 11:return(function(n,s){const a=n.mapValue.fields||{},o=s.mapValue.fields||{};if(YP(a)!==YP(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!ff(a[l],o[l])))return!1;return!0})(r,t);default:return hr()}}function Kw(r,t){return(r.values||[]).find((e=>ff(e,t)))!==void 0}function S1(r,t){if(r===t)return 0;const e=av(r),i=av(t);if(e!==i)return Dn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Dn(r.booleanValue,t.booleanValue);case 2:return(function(s,a){const o=Pa(s.integerValue||s.doubleValue),l=Pa(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(r,t);case 3:return QP(r.timestampValue,t.timestampValue);case 4:return QP(Qw(r),Qw(t));case 5:return Dn(r.stringValue,t.stringValue);case 6:return(function(s,a){const o=sv(s),l=sv(a);return o.compareTo(l)})(r.bytesValue,t.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Dn(o[c],l[c]);if(u!==0)return u}return Dn(o.length,l.length)})(r.referenceValue,t.referenceValue);case 8:return(function(s,a){const o=Dn(Pa(s.latitude),Pa(a.latitude));return o!==0?o:Dn(Pa(s.longitude),Pa(a.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return GP(r.arrayValue,t.arrayValue);case 10:return(function(s,a){var o,l,c,u;const d=s.fields||{},p=a.fields||{},m=(o=d.value)===null||o===void 0?void 0:o.arrayValue,y=(l=p.value)===null||l===void 0?void 0:l.arrayValue,M=Dn(((c=m?.values)===null||c===void 0?void 0:c.length)||0,((u=y?.values)===null||u===void 0?void 0:u.length)||0);return M!==0?M:GP(m,y)})(r.mapValue,t.mapValue);case 11:return(function(s,a){if(s===vD.mapValue&&a===vD.mapValue)return 0;if(s===vD.mapValue)return 1;if(a===vD.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const p=Dn(l[d],u[d]);if(p!==0)return p;const m=S1(o[l[d]],c[u[d]]);if(m!==0)return m}return Dn(l.length,u.length)})(r.mapValue,t.mapValue);default:throw hr()}}function QP(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dn(r,t);const e=Eg(r),i=Eg(t),n=Dn(e.seconds,i.seconds);return n!==0?n:Dn(e.nanos,i.nanos)}function GP(r,t){const e=r.values||[],i=t.values||[];for(let n=0;n<e.length&&n<i.length;++n){const s=S1(e[n],i[n]);if(s)return s}return Dn(e.length,i.length)}function N1(r){return Z5(r)}function Z5(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(e){const i=Eg(e);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(e){return sv(e).toBase64()})(r.bytesValue):"referenceValue"in r?(function(e){return qi.fromName(e).toString()})(r.referenceValue):"geoPointValue"in r?(function(e){return`geo(${e.latitude},${e.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(e){let i="[",n=!0;for(const s of e.values||[])n?n=!1:i+=",",i+=Z5(s);return i+"]"})(r.arrayValue):"mapValue"in r?(function(e){const i=Object.keys(e.fields||{}).sort();let n="{",s=!0;for(const a of i)s?s=!1:n+=",",n+=`${a}:${Z5(e.fields[a])}`;return n+"}"})(r.mapValue):hr()}function AA(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function eO(r){return!!r&&"integerValue"in r}function ML(r){return!!r&&"arrayValue"in r}function KP(r){return!!r&&"nullValue"in r}function $P(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function YE(r){return!!r&&"mapValue"in r}function Kle(r){var t,e;return((e=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="__vector__"}function cw(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ev(r.mapValue.fields,((e,i)=>t.mapValue.fields[e]=cw(i))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=cw(r.arrayValue.values[e]);return t}return Object.assign({},r)}function $le(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t){this.value=t}static empty(){return new Xc({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!YE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=cw(e)}setAll(t){let e=xl.emptyPath(),i={},n=[];t.forEach(((a,o)=>{if(!e.isImmediateParentOf(o)){const l=this.getFieldsMap(e);this.applyChanges(l,i,n),i={},n=[],e=o.popLast()}a?i[o.lastSegment()]=cw(a):n.push(o.lastSegment())}));const s=this.getFieldsMap(e);this.applyChanges(s,i,n)}delete(t){const e=this.field(t.popLast());YE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ff(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let n=e.mapValue.fields[t.get(i)];YE(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=n),e=n}return e.mapValue.fields}applyChanges(t,e,i){Ev(e,((n,s)=>t[n]=s));for(const n of i)delete t[n]}clone(){return new Xc(cw(this.value))}}function fY(r){const t=[];return Ev(r.fields,((e,i)=>{const n=new xl([e]);if(YE(i)){const s=fY(i.mapValue).fields;if(s.length===0)t.push(n);else for(const a of s)t.push(n.child(a))}else t.push(n)})),new Tu(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,e,i,n,s,a,o){this.key=t,this.documentType=e,this.version=i,this.readTime=n,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(t){return new Vl(t,0,yr.min(),yr.min(),yr.min(),Xc.empty(),0)}static newFoundDocument(t,e,i,n){return new Vl(t,1,e,yr.min(),i,n,0)}static newNoDocument(t,e){return new Vl(t,2,e,yr.min(),yr.min(),Xc.empty(),0)}static newUnknownDocument(t,e){return new Vl(t,3,e,yr.min(),yr.min(),Xc.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(yr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xc.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Vl&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,e){this.position=t,this.inclusive=e}}function XP(r,t,e){let i=0;for(let n=0;n<r.position.length;n++){const s=t[n],a=r.position[n];if(s.field.isKeyField()?i=qi.comparator(qi.fromName(a.referenceValue),e.key):i=S1(a,e.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function JP(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!ff(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,e="asc"){this.field=t,this.dir=e}}function Xle(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{}class uo extends pY{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new Zle(t,e,i):e==="array-contains"?new ice(t,i):e==="in"?new rce(t,i):e==="not-in"?new nce(t,i):e==="array-contains-any"?new sce(t,i):new uo(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new ece(t,i):new tce(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(S1(e,this.value)):e!==null&&av(this.value)===av(e)&&this.matchesComparison(S1(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return hr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cd extends pY{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new cd(t,e)}matches(t){return mY(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mY(r){return r.op==="and"}function gY(r){return Jle(r)&&mY(r)}function Jle(r){for(const t of r.filters)if(t instanceof cd)return!1;return!0}function tO(r){if(r instanceof uo)return r.field.canonicalString()+r.op.toString()+N1(r.value);if(gY(r))return r.filters.map((t=>tO(t))).join(",");{const t=r.filters.map((e=>tO(e))).join(",");return`${r.op}(${t})`}}function vY(r,t){return r instanceof uo?(function(i,n){return n instanceof uo&&i.op===n.op&&i.field.isEqual(n.field)&&ff(i.value,n.value)})(r,t):r instanceof cd?(function(i,n){return n instanceof cd&&i.op===n.op&&i.filters.length===n.filters.length?i.filters.reduce(((s,a,o)=>s&&vY(a,n.filters[o])),!0):!1})(r,t):void hr()}function yY(r){return r instanceof uo?(function(e){return`${e.field.canonicalString()} ${e.op} ${N1(e.value)}`})(r):r instanceof cd?(function(e){return e.op.toString()+" {"+e.getFilters().map(yY).join(" ,")+"}"})(r):"Filter"}class Zle extends uo{constructor(t,e,i){super(t,e,i),this.key=qi.fromName(i.referenceValue)}matches(t){const e=qi.comparator(t.key,this.key);return this.matchesComparison(e)}}class ece extends uo{constructor(t,e){super(t,"in",e),this.keys=xY("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class tce extends uo{constructor(t,e){super(t,"not-in",e),this.keys=xY("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function xY(r,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map((i=>qi.fromName(i.referenceValue)))}class ice extends uo{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ML(e)&&Kw(e.arrayValue,this.value)}}class rce extends uo{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Kw(this.value.arrayValue,e)}}class nce extends uo{constructor(t,e){super(t,"not-in",e)}matches(t){if(Kw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!Kw(this.value.arrayValue,e)}}class sce extends uo{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ML(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Kw(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ace{constructor(t,e=null,i=[],n=[],s=null,a=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=n,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function ZP(r,t=null,e=[],i=[],n=null,s=null,a=null){return new ace(r,t,e,i,n,s,a)}function wL(r){const t=xr(r);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>tO(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(s){return s.field.canonicalString()+s.dir})(i))).join(","),ZS(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>N1(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>N1(i))).join(",")),t.ue=e}return t.ue}function TL(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!Xle(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!vY(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!JP(r.startAt,t.startAt)&&JP(r.endAt,t.endAt)}function iO(r){return qi.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(t,e=null,i=[],n=[],s=null,a="F",o=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=n,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function oce(r,t,e,i,n,s,a,o){return new Av(r,t,e,i,n,s,a,o)}function bL(r){return new Av(r)}function eF(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function DL(r){return r.collectionGroup!==null}function a1(r){const t=xr(r);if(t.ce===null){t.ce=[];const e=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Tl(xl.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(o=o.add(c.field))}))})),o})(t).forEach((s=>{e.has(s.canonicalString())||s.isKeyField()||t.ce.push(new $w(s,i))})),e.has(xl.keyField().canonicalString())||t.ce.push(new $w(xl.keyField(),i))}return t.ce}function lf(r){const t=xr(r);return t.le||(t.le=lce(t,a1(r))),t.le}function lce(r,t){if(r.limitType==="F")return ZP(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((n=>{const s=n.dir==="desc"?"asc":"desc";return new $w(n.field,s)}));const e=r.endAt?new I1(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new I1(r.startAt.position,r.startAt.inclusive):null;return ZP(r.path,r.collectionGroup,t,r.filters,r.limit,e,i)}}function rO(r,t){const e=r.filters.concat([t]);return new Av(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function SA(r,t,e){return new Av(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function tN(r,t){return TL(lf(r),lf(t))&&r.limitType===t.limitType}function MY(r){return`${wL(lf(r))}|lt:${r.limitType}`}function zy(r){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((n=>yY(n))).join(", ")}]`),ZS(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((n=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(n))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((n=>N1(n))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((n=>N1(n))).join(",")),`Target(${i})`})(lf(r))}; limitType=${r.limitType})`}function iN(r,t){return t.isFoundDocument()&&(function(i,n){const s=n.key.path;return i.collectionGroup!==null?n.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):qi.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)})(r,t)&&(function(i,n){for(const s of a1(i))if(!s.field.isKeyField()&&n.data.field(s.field)===null)return!1;return!0})(r,t)&&(function(i,n){for(const s of i.filters)if(!s.matches(n))return!1;return!0})(r,t)&&(function(i,n){return!(i.startAt&&!(function(a,o,l){const c=XP(a,o,l);return a.inclusive?c<=0:c<0})(i.startAt,a1(i),n)||i.endAt&&!(function(a,o,l){const c=XP(a,o,l);return a.inclusive?c>=0:c>0})(i.endAt,a1(i),n))})(r,t)}function cce(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wY(r){return(t,e)=>{let i=!1;for(const n of a1(r)){const s=uce(n,t,e);if(s!==0)return s;i=i||n.field.isKeyField()}return 0}}function uce(r,t,e){const i=r.field.isKeyField()?qi.comparator(t.key,e.key):(function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?S1(l,c):hr()})(r.field,t,e);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return hr()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[n,s]of i)if(this.equalsFn(n,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),n=this.inner[i];if(n===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],t))return void(n[s]=[t,e]);n.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],t))return i.length===1?delete this.inner[e]:i.splice(n,1),this.innerSize--,!0;return!1}forEach(t){Ev(this.inner,((e,i)=>{for(const[n,s]of i)t(n,s)}))}isEmpty(){return hY(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hce=new da(qi.comparator);function Hp(){return hce}const TY=new da(qi.comparator);function $M(...r){let t=TY;for(const e of r)t=t.insert(e.key,e);return t}function bY(r){let t=TY;return r.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function F0(){return uw()}function DY(){return uw()}function uw(){return new X1((r=>r.toString()),((r,t)=>r.isEqual(t)))}const dce=new da(qi.comparator),fce=new Tl(qi.comparator);function $r(...r){let t=fce;for(const e of r)t=t.add(e);return t}const pce=new Tl(Dn);function mce(){return pce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:EA(t)?"-0":t}}function EY(r){return{integerValue:""+r}}function gce(r,t){return qle(t)?EY(t):EL(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this._=void 0}}function vce(r,t,e){return r instanceof NA?(function(n,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return s&&eN(s)&&(s=xL(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}})(e,t):r instanceof Xw?SY(r,t):r instanceof Jw?NY(r,t):(function(n,s){const a=AY(n,s),o=tF(a)+tF(n.Pe);return eO(a)&&eO(n.Pe)?EY(o):EL(n.serializer,o)})(r,t)}function yce(r,t,e){return r instanceof Xw?SY(r,t):r instanceof Jw?NY(r,t):e}function AY(r,t){return r instanceof IA?(function(i){return eO(i)||(function(s){return!!s&&"doubleValue"in s})(i)})(t)?t:{integerValue:0}:null}class NA extends rN{}class Xw extends rN{constructor(t){super(),this.elements=t}}function SY(r,t){const e=IY(t);for(const i of r.elements)e.some((n=>ff(n,i)))||e.push(i);return{arrayValue:{values:e}}}class Jw extends rN{constructor(t){super(),this.elements=t}}function NY(r,t){let e=IY(t);for(const i of r.elements)e=e.filter((n=>!ff(n,i)));return{arrayValue:{values:e}}}class IA extends rN{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function tF(r){return Pa(r.integerValue||r.doubleValue)}function IY(r){return ML(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function xce(r,t){return r.field.isEqual(t.field)&&(function(i,n){return i instanceof Xw&&n instanceof Xw||i instanceof Jw&&n instanceof Jw?A1(i.elements,n.elements,ff):i instanceof IA&&n instanceof IA?ff(i.Pe,n.Pe):i instanceof NA&&n instanceof NA})(r.transform,t.transform)}class Mce{constructor(t,e){this.version=t,this.transformResults=e}}class gh{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new gh}static exists(t){return new gh(void 0,t)}static updateTime(t){return new gh(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qE(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class nN{}function CY(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new AL(r.key,gh.none()):new WT(r.key,r.data,gh.none());{const e=r.data,i=Xc.empty();let n=new Tl(xl.comparator);for(let s of t.fields)if(!n.has(s)){let a=e.field(s);a===null&&s.length>1&&(s=s.popLast(),a=e.field(s)),a===null?i.delete(s):i.set(s,a),n=n.add(s)}return new Hg(r.key,i,new Tu(n.toArray()),gh.none())}}function wce(r,t,e){r instanceof WT?(function(n,s,a){const o=n.value.clone(),l=rF(n.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(r,t,e):r instanceof Hg?(function(n,s,a){if(!qE(n.precondition,s))return void s.convertToUnknownDocument(a.version);const o=rF(n.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(OY(n)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(r,t,e):(function(n,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,t,e)}function hw(r,t,e,i){return r instanceof WT?(function(s,a,o,l){if(!qE(s.precondition,a))return o;const c=s.value.clone(),u=nF(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null})(r,t,e,i):r instanceof Hg?(function(s,a,o,l){if(!qE(s.precondition,a))return o;const c=nF(s.fieldTransforms,l,a),u=a.data;return u.setAll(OY(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((d=>d.field)))})(r,t,e,i):(function(s,a,o){return qE(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(r,t,e)}function Tce(r,t){let e=null;for(const i of r.fieldTransforms){const n=t.data.field(i.field),s=AY(i.transform,n||null);s!=null&&(e===null&&(e=Xc.empty()),e.set(i.field,s))}return e||null}function iF(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(i,n){return i===void 0&&n===void 0||!(!i||!n)&&A1(i,n,((s,a)=>xce(s,a)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class WT extends nN{constructor(t,e,i,n=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class Hg extends nN{constructor(t,e,i,n,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=n,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OY(r){const t=new Map;return r.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=r.data.field(e);t.set(e,i)}})),t}function rF(r,t,e){const i=new Map;Kn(r.length===e.length);for(let n=0;n<e.length;n++){const s=r[n],a=s.transform,o=t.data.field(s.field);i.set(s.field,yce(a,o,e[n]))}return i}function nF(r,t,e){const i=new Map;for(const n of r){const s=n.transform,a=e.data.field(n.field);i.set(n.field,vce(s,a,t))}return i}class AL extends nN{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bce extends nN{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dce{constructor(t,e,i,n){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=n}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let n=0;n<this.mutations.length;n++){const s=this.mutations[n];s.key.isEqual(t.key)&&wce(s,t,i[n])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=hw(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=hw(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=DY();return this.mutations.forEach((n=>{const s=t.get(n.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=e.has(n.key)?null:o;const l=CY(a,o);l!==null&&i.set(n.key,l),a.isValidDocument()||a.convertToNoDocument(yr.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),$r())}isEqual(t){return this.batchId===t.batchId&&A1(this.mutations,t.mutations,((e,i)=>iF(e,i)))&&A1(this.baseMutations,t.baseMutations,((e,i)=>iF(e,i)))}}class SL{constructor(t,e,i,n){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=n}static from(t,e,i){Kn(t.mutations.length===i.length);let n=(function(){return dce})();const s=t.mutations;for(let a=0;a<s.length;a++)n=n.insert(s[a].key,i[a].version);return new SL(t,e,i,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ece{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var so,cn;function Sce(r){switch(r){default:return hr();case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0}}function kY(r){if(r===void 0)return Vp("GRPC error has no .code"),_t.UNKNOWN;switch(r){case so.OK:return _t.OK;case so.CANCELLED:return _t.CANCELLED;case so.UNKNOWN:return _t.UNKNOWN;case so.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case so.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case so.INTERNAL:return _t.INTERNAL;case so.UNAVAILABLE:return _t.UNAVAILABLE;case so.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case so.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case so.NOT_FOUND:return _t.NOT_FOUND;case so.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case so.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case so.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case so.ABORTED:return _t.ABORTED;case so.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case so.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case so.DATA_LOSS:return _t.DATA_LOSS;default:return hr()}}(cn=so||(so={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ice=new V0([4294967295,4294967295],0);function sF(r){const t=Nce().encode(r),e=new rY;return e.update(t),new Uint8Array(e.digest())}function aF(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),n=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new V0([e,i],0),new V0([n,s],0)]}class NL{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new XM(`Invalid padding: ${e}`);if(i<0)throw new XM(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new XM(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new XM(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=V0.fromNumber(this.Ie)}Ee(t,e,i){let n=t.add(e.multiply(V0.fromNumber(i)));return n.compare(Ice)===1&&(n=new V0([n.getBits(0),n.getBits(1)],0)),n.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const e=sF(t),[i,n]=aF(e);for(let s=0;s<this.hashCount;s++){const a=this.Ee(i,n,s);if(!this.de(a))return!1}return!0}static create(t,e,i){const n=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new NL(s,n,e);return i.forEach((o=>a.insert(o))),a}insert(t){if(this.Ie===0)return;const e=sF(t),[i,n]=aF(e);for(let s=0;s<this.hashCount;s++){const a=this.Ee(i,n,s);this.Ae(a)}}Ae(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class XM extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t,e,i,n,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=n,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const n=new Map;return n.set(t,YT.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new sN(yr.min(),n,new da(Dn),Hp(),$r())}}class YT{constructor(t,e,i,n,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=n,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new YT(i,e,$r(),$r(),$r())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,e,i,n){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=n}}class LY{constructor(t,e){this.targetId=t,this.me=e}}class jY{constructor(t,e,i=bl.EMPTY_BYTE_STRING,n=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=n}}class oF{constructor(){this.fe=0,this.ge=cF(),this.pe=bl.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=$r(),e=$r(),i=$r();return this.ge.forEach(((n,s)=>{switch(s){case 0:t=t.add(n);break;case 2:e=e.add(n);break;case 1:i=i.add(n);break;default:hr()}})),new YT(this.pe,this.ye,t,e,i)}Ce(){this.we=!1,this.ge=cF()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Kn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Cce{constructor(t){this.Le=t,this.Be=new Map,this.ke=Hp(),this.qe=lF(),this.Qe=new da(Dn)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,(e=>{const i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:hr()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach(((i,n)=>{this.ze(n)&&e(n)}))}He(t){const e=t.targetId,i=t.me.count,n=this.Je(e);if(n){const s=n.target;if(iO(s))if(i===0){const a=new qi(s.path);this.Ue(e,a,Vl.newNoDocument(a,yr.min()))}else Kn(i===1);else{const a=this.Ye(e);if(a!==i){const o=this.Ze(t),l=o?this.Xe(o,t,a):1;if(l!==0){this.je(e);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,c)}}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:n=0},hashCount:s=0}=e;let a,o;try{a=sv(i).toUint8Array()}catch(l){if(l instanceof dY)return E1("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new NL(a,n,s)}catch(l){return E1(l instanceof XM?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let n=0;return i.forEach((s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(o)||(this.Ue(e,s,null),n++)})),n}rt(t){const e=new Map;this.Be.forEach(((s,a)=>{const o=this.Je(a);if(o){if(s.current&&iO(o.target)){const l=new qi(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Vl.newNoDocument(l,t))}s.be&&(e.set(a,s.ve()),s.Ce())}}));let i=$r();this.qe.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(i=i.add(s))})),this.ke.forEach(((s,a)=>a.setReadTime(t)));const n=new sN(t,e,this.Qe,this.ke,i);return this.ke=Hp(),this.qe=lF(),this.Qe=new da(Dn),n}$e(t,e){if(!this.ze(t))return;const i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;const n=this.Ge(t);this.it(t,e)?n.Fe(e,1):n.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new oF,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Tl(Dn),this.qe=this.qe.insert(t,e)),e}ze(t){const e=this.Je(t)!==null;return e||zi("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new oF),this.Le.getRemoteKeysForTarget(t).forEach((e=>{this.Ue(t,e,null)}))}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function lF(){return new da(qi.comparator)}function cF(){return new da(qi.comparator)}const Oce={asc:"ASCENDING",desc:"DESCENDING"},kce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lce={and:"AND",or:"OR"};class jce{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function nO(r,t){return r.useProto3Json||ZS(t)?t:{value:t}}function CA(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _Y(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function _ce(r,t){return CA(r,t.toTimestamp())}function cf(r){return Kn(!!r),yr.fromTimestamp((function(e){const i=Eg(e);return new Oo(i.seconds,i.nanos)})(r))}function IL(r,t){return sO(r,t).canonicalString()}function sO(r,t){const e=(function(n){return new Is(["projects",n.projectId,"databases",n.database])})(r).child("documents");return t===void 0?e:e.child(t)}function zY(r){const t=Is.fromString(r);return Kn(UY(t)),t}function aO(r,t){return IL(r.databaseId,t.path)}function IC(r,t){const e=zY(t);if(e.get(1)!==r.databaseId.projectId)throw new mi(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new mi(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new qi(PY(e))}function RY(r,t){return IL(r.databaseId,t)}function zce(r){const t=zY(r);return t.length===4?Is.emptyPath():PY(t)}function oO(r){return new Is(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function PY(r){return Kn(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function uF(r,t,e){return{name:aO(r,t),fields:e.value.mapValue.fields}}function Rce(r,t){let e;if("targetChange"in t){t.targetChange;const i=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:hr()})(t.targetChange.targetChangeType||"NO_CHANGE"),n=t.targetChange.targetIds||[],s=(function(c,u){return c.useProto3Json?(Kn(u===void 0||typeof u=="string"),bl.fromBase64String(u||"")):(Kn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),bl.fromUint8Array(u||new Uint8Array))})(r,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&(function(c){const u=c.code===void 0?_t.UNKNOWN:kY(c.code);return new mi(u,c.message||"")})(a);e=new jY(i,n,s,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const n=IC(r,i.document.name),s=cf(i.document.updateTime),a=i.document.createTime?cf(i.document.createTime):yr.min(),o=new Xc({mapValue:{fields:i.document.fields}}),l=Vl.newFoundDocument(n,s,a,o),c=i.targetIds||[],u=i.removedTargetIds||[];e=new QE(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const n=IC(r,i.document),s=i.readTime?cf(i.readTime):yr.min(),a=Vl.newNoDocument(n,s),o=i.removedTargetIds||[];e=new QE([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const n=IC(r,i.document),s=i.removedTargetIds||[];e=new QE([],s,n,null)}else{if(!("filter"in t))return hr();{t.filter;const i=t.filter;i.targetId;const{count:n=0,unchangedNames:s}=i,a=new Ace(n,s),o=i.targetId;e=new LY(o,a)}}return e}function Pce(r,t){let e;if(t instanceof WT)e={update:uF(r,t.key,t.value)};else if(t instanceof AL)e={delete:aO(r,t.key)};else if(t instanceof Hg)e={update:uF(r,t.key,t.data),updateMask:Qce(t.fieldMask)};else{if(!(t instanceof bce))return hr();e={verify:aO(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(s,a){const o=a.transform;if(o instanceof NA)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Xw)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Jw)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof IA)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw hr()})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(n,s){return s.updateTime!==void 0?{updateTime:_ce(n,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:hr()})(r,t.precondition)),e}function Fce(r,t){return r&&r.length>0?(Kn(t!==void 0),r.map((e=>(function(n,s){let a=n.updateTime?cf(n.updateTime):cf(s);return a.isEqual(yr.min())&&(a=cf(s)),new Mce(a,n.transformResults||[])})(e,t)))):[]}function Bce(r,t){return{documents:[RY(r,t.path)]}}function Uce(r,t){const e={structuredQuery:{}},i=t.path;let n;t.collectionGroup!==null?(n=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=RY(r,n);const s=(function(c){if(c.length!==0)return BY(cd.create(c,"and"))})(t.filters);s&&(e.structuredQuery.where=s);const a=(function(c){if(c.length!==0)return c.map((u=>(function(p){return{field:Ry(p.field),direction:Wce(p.dir)}})(u)))})(t.orderBy);a&&(e.structuredQuery.orderBy=a);const o=nO(r,t.limit);return o!==null&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(t.endAt)),{_t:e,parent:n}}function Vce(r){let t=zce(r.parent);const e=r.structuredQuery,i=e.from?e.from.length:0;let n=null;if(i>0){Kn(i===1);const u=e.from[0];u.allDescendants?n=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=(function(d){const p=FY(d);return p instanceof cd&&gY(p)?p.getFilters():[p]})(e.where));let a=[];e.orderBy&&(a=(function(d){return d.map((p=>(function(y){return new $w(Py(y.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(p)))})(e.orderBy));let o=null;e.limit&&(o=(function(d){let p;return p=typeof d=="object"?d.value:d,ZS(p)?null:p})(e.limit));let l=null;e.startAt&&(l=(function(d){const p=!!d.before,m=d.values||[];return new I1(m,p)})(e.startAt));let c=null;return e.endAt&&(c=(function(d){const p=!d.before,m=d.values||[];return new I1(m,p)})(e.endAt)),oce(t,n,a,s,o,"F",l,c)}function Hce(r,t){const e=(function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hr()}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function FY(r){return r.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Py(e.unaryFilter.field);return uo.create(i,"==",{doubleValue:NaN});case"IS_NULL":const n=Py(e.unaryFilter.field);return uo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Py(e.unaryFilter.field);return uo.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Py(e.unaryFilter.field);return uo.create(a,"!=",{nullValue:"NULL_VALUE"});default:return hr()}})(r):r.fieldFilter!==void 0?(function(e){return uo.create(Py(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hr()}})(e.fieldFilter.op),e.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(e){return cd.create(e.compositeFilter.filters.map((i=>FY(i))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return hr()}})(e.compositeFilter.op))})(r):hr()}function Wce(r){return Oce[r]}function Yce(r){return kce[r]}function qce(r){return Lce[r]}function Ry(r){return{fieldPath:r.canonicalString()}}function Py(r){return xl.fromServerFormat(r.fieldPath)}function BY(r){return r instanceof uo?(function(e){if(e.op==="=="){if($P(e.value))return{unaryFilter:{field:Ry(e.field),op:"IS_NAN"}};if(KP(e.value))return{unaryFilter:{field:Ry(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if($P(e.value))return{unaryFilter:{field:Ry(e.field),op:"IS_NOT_NAN"}};if(KP(e.value))return{unaryFilter:{field:Ry(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ry(e.field),op:Yce(e.op),value:e.value}}})(r):r instanceof cd?(function(e){const i=e.getFilters().map((n=>BY(n)));return i.length===1?i[0]:{compositeFilter:{op:qce(e.op),filters:i}}})(r):hr()}function Qce(r){const t=[];return r.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function UY(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,e,i,n,s=yr.min(),a=yr.min(),o=bl.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=n,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new og(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new og(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new og(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new og(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gce{constructor(t){this.ct=t}}function Kce(r){const t=Vce({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?SA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ce{constructor(){this.un=new Xce}addToCollectionParentIndex(t,e){return this.un.add(e),Gt.resolve()}getCollectionParents(t,e){return Gt.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return Gt.resolve()}deleteFieldIndex(t,e){return Gt.resolve()}deleteAllFieldIndexes(t){return Gt.resolve()}createTargetIndexes(t,e){return Gt.resolve()}getDocumentsMatchingTarget(t,e){return Gt.resolve(null)}getIndexType(t,e){return Gt.resolve(0)}getFieldIndexes(t,e){return Gt.resolve([])}getNextCollectionGroupToUpdate(t){return Gt.resolve(null)}getMinOffset(t,e){return Gt.resolve(Dg.min())}getMinOffsetFromCollectionGroup(t,e){return Gt.resolve(Dg.min())}updateCollectionGroup(t,e,i){return Gt.resolve()}updateIndexEntries(t,e){return Gt.resolve()}}class Xce{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),n=this.index[e]||new Tl(Is.comparator),s=!n.has(i);return this.index[e]=n.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),n=this.index[e];return n&&n.has(i)}getEntries(t){return(this.index[t]||new Tl(Is.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new C1(0)}static kn(){return new C1(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jce{constructor(){this.changes=new X1((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Vl.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Gt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zce{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eue{constructor(t,e,i,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=n}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((n=>(i=n,this.remoteDocumentCache.getEntry(t,e)))).next((n=>(i!==null&&hw(i.mutation,n,Tu.empty(),Oo.now()),n)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,$r()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=$r()){const n=F0();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,i).next((s=>{let a=$M();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(t,e){const i=F0();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,$r())))}populateOverlays(t,e,i){const n=[];return i.forEach((s=>{e.has(s)||n.push(s)})),this.documentOverlayCache.getOverlays(t,n).next((s=>{s.forEach(((a,o)=>{e.set(a,o)}))}))}computeViews(t,e,i,n){let s=Hp();const a=uw(),o=(function(){return uw()})();return e.forEach(((l,c)=>{const u=i.get(c.key);n.has(c.key)&&(u===void 0||u.mutation instanceof Hg)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),hw(u.mutation,c,u.mutation.getFieldMask(),Oo.now())):a.set(c.key,Tu.empty())})),this.recalculateAndSaveOverlays(t,s).next((l=>(l.forEach(((c,u)=>a.set(c,u))),e.forEach(((c,u)=>{var d;return o.set(c,new Zce(u,(d=a.get(c))!==null&&d!==void 0?d:null))})),o)))}recalculateAndSaveOverlays(t,e){const i=uw();let n=new da(((a,o)=>a-o)),s=$r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((a=>{for(const o of a)o.keys().forEach((l=>{const c=e.get(l);if(c===null)return;let u=i.get(l)||Tu.empty();u=o.applyToLocalView(c,u),i.set(l,u);const d=(n.get(o.batchId)||$r()).add(l);n=n.insert(o.batchId,d)}))})).next((()=>{const a=[],o=n.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,d=DY();u.forEach((p=>{if(!s.has(p)){const m=CY(e.get(p),i.get(p));m!==null&&d.set(p,m),s=s.add(p)}})),a.push(this.documentOverlayCache.saveOverlays(t,c,d))}return Gt.waitFor(a)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,n){return(function(a){return qi.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):DL(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,n):this.getDocumentsMatchingCollectionQuery(t,e,i,n)}getNextDocuments(t,e,i,n){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,n).next((s=>{const a=n-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,n-s.size):Gt.resolve(F0());let o=-1,l=s;return a.next((c=>Gt.forEach(c,((u,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(u)?Gt.resolve():this.remoteDocumentCache.getEntry(t,u).next((p=>{l=l.insert(u,p)}))))).next((()=>this.populateOverlays(t,c,s))).next((()=>this.computeViews(t,l,c,$r()))).next((u=>({batchId:o,changes:bY(u)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new qi(e)).next((i=>{let n=$M();return i.isFoundDocument()&&(n=n.insert(i.key,i)),n}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,n){const s=e.collectionGroup;let a=$M();return this.indexManager.getCollectionParents(t,s).next((o=>Gt.forEach(o,(l=>{const c=(function(d,p){return new Av(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(e,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,i,n).next((u=>{u.forEach(((d,p)=>{a=a.insert(d,p)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(t,e,i,n){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,n)))).next((a=>{s.forEach(((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,Vl.newInvalidDocument(u)))}));let o=$M();return a.forEach(((l,c)=>{const u=s.get(l);u!==void 0&&hw(u.mutation,c,Tu.empty(),Oo.now()),iN(e,c)&&(o=o.insert(l,c))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return Gt.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,(function(n){return{id:n.id,version:n.version,createTime:cf(n.createTime)}})(e)),Gt.resolve()}getNamedQuery(t,e){return Gt.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,(function(n){return{name:n.name,query:Kce(n.bundledQuery),readTime:cf(n.readTime)}})(e)),Gt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iue{constructor(){this.overlays=new da(qi.comparator),this.Ir=new Map}getOverlay(t,e){return Gt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=F0();return Gt.forEach(e,(n=>this.getOverlay(t,n).next((s=>{s!==null&&i.set(n,s)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((n,s)=>{this.ht(t,e,s)})),Gt.resolve()}removeOverlaysForBatchId(t,e,i){const n=this.Ir.get(i);return n!==void 0&&(n.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(i)),Gt.resolve()}getOverlaysForCollection(t,e,i){const n=F0(),s=e.length+1,a=new qi(e.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&n.set(l.getKey(),l)}return Gt.resolve(n)}getOverlaysForCollectionGroup(t,e,i,n){let s=new da(((c,u)=>c-u));const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=F0(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=F0(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,u)=>o.set(c,u))),!(o.size()>=n)););return Gt.resolve(o)}ht(t,e,i){const n=this.overlays.get(i.key);if(n!==null){const a=this.Ir.get(n.largestBatchId).delete(i.key);this.Ir.set(n.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Ece(e,i));let s=this.Ir.get(e);s===void 0&&(s=$r(),this.Ir.set(e,s)),this.Ir.set(e,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rue{constructor(){this.sessionToken=bl.EMPTY_BYTE_STRING}getSessionToken(t){return Gt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Gt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.Tr=new Tl(Qo.Er),this.dr=new Tl(Qo.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const i=new Qo(t,e);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Vr(new Qo(t,e))}mr(t,e){t.forEach((i=>this.removeReference(i,e)))}gr(t){const e=new qi(new Is([])),i=new Qo(e,t),n=new Qo(e,t+1),s=[];return this.dr.forEachInRange([i,n],(a=>{this.Vr(a),s.push(a.key)})),s}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new qi(new Is([])),i=new Qo(e,t),n=new Qo(e,t+1);let s=$r();return this.dr.forEachInRange([i,n],(a=>{s=s.add(a.key)})),s}containsKey(t){const e=new Qo(t,0),i=this.Tr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Qo{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return qi.comparator(t.key,e.key)||Dn(t.wr,e.wr)}static Ar(t,e){return Dn(t.wr,e.wr)||qi.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new Tl(Qo.Er)}checkEmpty(t){return Gt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,n){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Dce(s,e,i,n);this.mutationQueue.push(a);for(const o of n)this.br=this.br.add(new Qo(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Gt.resolve(a)}lookupMutationBatch(t,e){return Gt.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,n=this.vr(i),s=n<0?0:n;return Gt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Gt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return Gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Qo(e,0),n=new Qo(e,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,n],(a=>{const o=this.Dr(a.wr);s.push(o)})),Gt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Tl(Dn);return e.forEach((n=>{const s=new Qo(n,0),a=new Qo(n,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],(o=>{i=i.add(o.wr)}))})),Gt.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,n=i.length+1;let s=i;qi.isDocumentKey(s)||(s=s.child(""));const a=new Qo(new qi(s),0);let o=new Tl(Dn);return this.br.forEachWhile((l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===n&&(o=o.add(l.wr)),!0)}),a),Gt.resolve(this.Cr(o))}Cr(t){const e=[];return t.forEach((i=>{const n=this.Dr(i);n!==null&&e.push(n)})),e}removeMutationBatch(t,e){Kn(this.Fr(e.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return Gt.forEach(e.mutations,(n=>{const s=new Qo(n.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,n.key)})).next((()=>{this.br=i}))}On(t){}containsKey(t,e){const i=new Qo(e,0),n=this.br.firstAfterOrEqual(i);return Gt.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(t){return this.mutationQueue.length,Gt.resolve()}Fr(t,e){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sue{constructor(t){this.Mr=t,this.docs=(function(){return new da(qi.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,n=this.docs.get(i),s=n?n.size:0,a=this.Mr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Gt.resolve(i?i.document.mutableCopy():Vl.newInvalidDocument(e))}getEntries(t,e){let i=Hp();return e.forEach((n=>{const s=this.docs.get(n);i=i.insert(n,s?s.document.mutableCopy():Vl.newInvalidDocument(n))})),Gt.resolve(i)}getDocumentsMatchingQuery(t,e,i,n){let s=Hp();const a=e.path,o=new qi(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Vle(Ule(u),i)<=0||(n.has(u.key)||iN(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Gt.resolve(s)}getAllFromCollectionGroup(t,e,i,n){hr()}Or(t,e){return Gt.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new aue(this)}getSize(t){return Gt.resolve(this.size)}}class aue extends Jce{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,n)=>{n.isValidDocument()?e.push(this.cr.addEntry(t,n)):this.cr.removeEntry(i)})),Gt.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oue{constructor(t){this.persistence=t,this.Nr=new X1((e=>wL(e)),TL),this.lastRemoteSnapshotVersion=yr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new CL,this.targetCount=0,this.kr=C1.Bn()}forEachTarget(t,e){return this.Nr.forEach(((i,n)=>e(n))),Gt.resolve()}getLastRemoteSnapshotVersion(t){return Gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Gt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Gt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Lr&&(this.Lr=e),Gt.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new C1(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,Gt.resolve()}updateTargetData(t,e){return this.Kn(e),Gt.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,Gt.resolve()}removeTargets(t,e,i){let n=0;const s=[];return this.Nr.forEach(((a,o)=>{o.sequenceNumber<=e&&i.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),n++)})),Gt.waitFor(s).next((()=>n))}getTargetCount(t){return Gt.resolve(this.targetCount)}getTargetData(t,e){const i=this.Nr.get(e)||null;return Gt.resolve(i)}addMatchingKeys(t,e,i){return this.Br.Rr(e,i),Gt.resolve()}removeMatchingKeys(t,e,i){this.Br.mr(e,i);const n=this.persistence.referenceDelegate,s=[];return n&&e.forEach((a=>{s.push(n.markPotentiallyOrphaned(t,a))})),Gt.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),Gt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Br.yr(e);return Gt.resolve(i)}containsKey(t,e){return Gt.resolve(this.Br.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lue{constructor(t,e){this.qr={},this.overlays={},this.Qr=new yL(0),this.Kr=!1,this.Kr=!0,this.$r=new rue,this.referenceDelegate=t(this),this.Ur=new oue(this),this.indexManager=new $ce,this.remoteDocumentCache=(function(n){return new sue(n)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new Gce(e),this.Gr=new tue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new iue,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.qr[t.toKey()];return i||(i=new nue(e,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,i){zi("MemoryPersistence","Starting transaction:",t);const n=new cue(this.Qr.next());return this.referenceDelegate.zr(),i(n).next((s=>this.referenceDelegate.jr(n).next((()=>s)))).toPromise().then((s=>(n.raiseOnCommittedEvent(),s)))}Hr(t,e){return Gt.or(Object.values(this.qr).map((i=>()=>i.containsKey(t,e))))}}class cue extends Wle{constructor(t){super(),this.currentSequenceNumber=t}}class OL{constructor(t){this.persistence=t,this.Jr=new CL,this.Yr=null}static Zr(t){return new OL(t)}get Xr(){if(this.Yr)return this.Yr;throw hr()}addReference(t,e,i){return this.Jr.addReference(i,e),this.Xr.delete(i.toString()),Gt.resolve()}removeReference(t,e,i){return this.Jr.removeReference(i,e),this.Xr.add(i.toString()),Gt.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),Gt.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach((n=>this.Xr.add(n.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((n=>{n.forEach((s=>this.Xr.add(s.toString())))})).next((()=>i.removeTargetData(t,e)))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gt.forEach(this.Xr,(i=>{const n=qi.fromPath(i);return this.ei(t,n).next((s=>{s||e.removeEntry(n,yr.min())}))})).next((()=>(this.Yr=null,e.apply(t))))}updateLimboDocument(t,e){return this.ei(t,e).next((i=>{i?this.Xr.delete(e.toString()):this.Xr.add(e.toString())}))}Wr(t){return 0}ei(t,e){return Gt.or([()=>Gt.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(t,e,i,n){this.targetId=t,this.fromCache=e,this.$i=i,this.Ui=n}static Wi(t,e){let i=$r(),n=$r();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:n=n.add(s.doc.key)}return new kL(t,e.fromCache,i,n)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hue{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return Xne()?8:Yle($l())>0?6:4})()}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,i,n){const s={result:null};return this.Yi(t,e).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.Zi(t,e,n,i).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new uue;return this.Xi(t,e,a).next((o=>{if(s.result=o,this.zi)return this.es(t,e,a,o.size)}))})).next((()=>s.result))}es(t,e,i,n){return i.documentReadCount<this.ji?(Yx()<=rn.DEBUG&&zi("QueryEngine","SDK will not create cache indexes for query:",zy(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Gt.resolve()):(Yx()<=rn.DEBUG&&zi("QueryEngine","Query:",zy(e),"scans",i.documentReadCount,"local documents and returns",n,"documents as results."),i.documentReadCount>this.Hi*n?(Yx()<=rn.DEBUG&&zi("QueryEngine","The SDK decides to create cache indexes for query:",zy(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,lf(e))):Gt.resolve())}Yi(t,e){if(eF(e))return Gt.resolve(null);let i=lf(e);return this.indexManager.getIndexType(t,i).next((n=>n===0?null:(e.limit!==null&&n===1&&(e=SA(e,null,"F"),i=lf(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((s=>{const a=$r(...s);return this.Ji.getDocuments(t,a).next((o=>this.indexManager.getMinOffset(t,i).next((l=>{const c=this.ts(e,o);return this.ns(e,c,a,l.readTime)?this.Yi(t,SA(e,null,"F")):this.rs(t,c,e,l)}))))})))))}Zi(t,e,i,n){return eF(e)||n.isEqual(yr.min())?Gt.resolve(null):this.Ji.getDocuments(t,i).next((s=>{const a=this.ts(e,s);return this.ns(e,a,i,n)?Gt.resolve(null):(Yx()<=rn.DEBUG&&zi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),zy(e)),this.rs(t,a,e,Ble(n,-1)).next((o=>o)))}))}ts(t,e){let i=new Tl(wY(t));return e.forEach(((n,s)=>{iN(t,s)&&(i=i.add(s))})),i}ns(t,e,i,n){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(n)>0)}Xi(t,e,i){return Yx()<=rn.DEBUG&&zi("QueryEngine","Using full collection scan to execute query:",zy(e)),this.Ji.getDocumentsMatchingQuery(t,e,Dg.min(),i)}rs(t,e,i,n){return this.Ji.getDocumentsMatchingQuery(t,i,n).next((s=>(e.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class due{constructor(t,e,i,n){this.persistence=t,this.ss=e,this.serializer=n,this.os=new da(Dn),this._s=new X1((s=>wL(s)),TL),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eue(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.os)))}}function fue(r,t,e,i){return new due(r,t,e,i)}async function VY(r,t){const e=xr(r);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let n;return e.mutationQueue.getAllMutationBatches(i).next((s=>(n=s,e.ls(t),e.mutationQueue.getAllMutationBatches(i)))).next((s=>{const a=[],o=[];let l=$r();for(const c of n){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next((c=>({hs:c,removedBatchIds:a,addedBatchIds:o})))}))}))}function pue(r,t){const e=xr(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const n=t.batch.keys(),s=e.cs.newChangeBuffer({trackRemovals:!0});return(function(o,l,c,u){const d=c.batch,p=d.keys();let m=Gt.resolve();return p.forEach((y=>{m=m.next((()=>u.getEntry(l,y))).next((M=>{const w=c.docVersions.get(y);Kn(w!==null),M.version.compareTo(w)<0&&(d.applyToRemoteDocument(M,c),M.isValidDocument()&&(M.setReadTime(c.commitVersion),u.addEntry(M)))}))})),m.next((()=>o.mutationQueue.removeMutationBatch(l,d)))})(e,i,t,s).next((()=>s.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,n,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(o){let l=$r();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l})(t)))).next((()=>e.localDocuments.getDocuments(i,n)))}))}function HY(r){const t=xr(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function mue(r,t){const e=xr(r),i=t.snapshotVersion;let n=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=e.cs.newChangeBuffer({trackRemovals:!0});n=e.os;const o=[];t.targetChanges.forEach(((u,d)=>{const p=n.get(d);if(!p)return;o.push(e.Ur.removeMatchingKeys(s,u.removedDocuments,d).next((()=>e.Ur.addMatchingKeys(s,u.addedDocuments,d))));let m=p.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(bl.EMPTY_BYTE_STRING,yr.min()).withLastLimboFreeSnapshotVersion(yr.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,i)),n=n.insert(d,m),(function(M,w,b){return M.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0})(p,m,u)&&o.push(e.Ur.updateTargetData(s,m))}));let l=Hp(),c=$r();if(t.documentUpdates.forEach((u=>{t.resolvedLimboDocuments.has(u)&&o.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))})),o.push(gue(s,a,t.documentUpdates).next((u=>{l=u.Ps,c=u.Is}))),!i.isEqual(yr.min())){const u=e.Ur.getLastRemoteSnapshotVersion(s).next((d=>e.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i)));o.push(u)}return Gt.waitFor(o).next((()=>a.apply(s))).next((()=>e.localDocuments.getLocalViewOfDocuments(s,l,c))).next((()=>l))})).then((s=>(e.os=n,s)))}function gue(r,t,e){let i=$r(),n=$r();return e.forEach((s=>i=i.add(s))),t.getEntries(r,i).next((s=>{let a=Hp();return e.forEach(((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(n=n.add(o)),l.isNoDocument()&&l.version.isEqual(yr.min())?(t.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),a=a.insert(o,l)):zi("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)})),{Ps:a,Is:n}}))}function vue(r,t){const e=xr(r);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function yue(r,t){const e=xr(r);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let n;return e.Ur.getTargetData(i,t).next((s=>s?(n=s,Gt.resolve(n)):e.Ur.allocateTargetId(i).next((a=>(n=new og(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Ur.addTargetData(i,n).next((()=>n)))))))})).then((i=>{const n=e.os.get(i.targetId);return(n===null||i.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(e.os=e.os.insert(i.targetId,i),e._s.set(t,i.targetId)),i}))}async function lO(r,t,e){const i=xr(r),n=i.os.get(t),s=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",s,(a=>i.persistence.referenceDelegate.removeTarget(a,n)))}catch(a){if(!HT(a))throw a;zi("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.os=i.os.remove(t),i._s.delete(n.target)}function hF(r,t,e){const i=xr(r);let n=yr.min(),s=$r();return i.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,c,u){const d=xr(l),p=d._s.get(u);return p!==void 0?Gt.resolve(d.os.get(p)):d.Ur.getTargetData(c,u)})(i,a,lf(t)).next((o=>{if(o)return n=o.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>i.ss.getDocumentsMatchingQuery(a,t,e?n:yr.min(),e?s:$r()))).next((o=>(xue(i,cce(t),o),{documents:o,Ts:s})))))}function xue(r,t,e){let i=r.us.get(t)||yr.min();e.forEach(((n,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)})),r.us.set(t,i)}class dF{constructor(){this.activeTargetIds=mce()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Mue{constructor(){this.so=new dF,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,i){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new dF,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wue{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){zi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){zi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yD=null;function CC(){return yD===null?yD=(function(){return 268435456+Math.round(2147483648*Math.random())})():yD++,"0x"+yD.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl="WebChannelConnection";class Due extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+e.host,this.vo=`projects/${n}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${n}`:`project_id=${n}&database_id=${s}`}get Fo(){return!1}Mo(e,i,n,s,a){const o=CC(),l=this.xo(e,i.toUriEncodedString());zi("RestConnection",`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,a),this.No(e,l,c,n).then((u=>(zi("RestConnection",`Received RPC '${e}' ${o}: `,u),u)),(u=>{throw E1("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",l,"request:",n),u}))}Lo(e,i,n,s,a,o){return this.Mo(e,i,n,s,a)}Oo(e,i,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$1})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((s,a)=>e[a]=s)),n&&n.headers.forEach(((s,a)=>e[a]=s))}xo(e,i){const n=Tue[e];return`${this.Do}/v1/${i}:${n}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,i,n){const s=CC();return new Promise(((a,o)=>{const l=new nY;l.setWithCredentials(!0),l.listenOnce(sY.COMPLETE,(()=>{try{switch(l.getLastErrorCode()){case WE.NO_ERROR:const u=l.getResponseJson();zi(Cl,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),a(u);break;case WE.TIMEOUT:zi(Cl,`RPC '${t}' ${s} timed out`),o(new mi(_t.DEADLINE_EXCEEDED,"Request time out"));break;case WE.HTTP_ERROR:const d=l.getStatus();if(zi(Cl,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p?.error;if(m&&m.status&&m.message){const y=(function(w){const b=w.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(b)>=0?b:_t.UNKNOWN})(m.status);o(new mi(y,m.message))}else o(new mi(_t.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new mi(_t.UNAVAILABLE,"Connection failed."));break;default:hr()}}finally{zi(Cl,`RPC '${t}' ${s} completed.`)}}));const c=JSON.stringify(n);zi(Cl,`RPC '${t}' ${s} sending request:`,n),l.send(e,"POST",c,i,15)}))}Bo(t,e,i){const n=CC(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=lY(),o=oY(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=s.join("");zi(Cl,`Creating RPC '${t}' stream ${n}: ${u}`,l);const d=a.createWebChannel(u,l);let p=!1,m=!1;const y=new bue({Io:w=>{m?zi(Cl,`Not sending because RPC '${t}' stream ${n} is closed:`,w):(p||(zi(Cl,`Opening RPC '${t}' stream ${n} transport.`),d.open(),p=!0),zi(Cl,`RPC '${t}' stream ${n} sending:`,w),d.send(w))},To:()=>d.close()}),M=(w,b,D)=>{w.listen(b,(E=>{try{D(E)}catch(N){setTimeout((()=>{throw N}),0)}}))};return M(d,KM.EventType.OPEN,(()=>{m||(zi(Cl,`RPC '${t}' stream ${n} transport opened.`),y.yo())})),M(d,KM.EventType.CLOSE,(()=>{m||(m=!0,zi(Cl,`RPC '${t}' stream ${n} transport closed`),y.So())})),M(d,KM.EventType.ERROR,(w=>{m||(m=!0,E1(Cl,`RPC '${t}' stream ${n} transport errored:`,w),y.So(new mi(_t.UNAVAILABLE,"The operation could not be completed")))})),M(d,KM.EventType.MESSAGE,(w=>{var b;if(!m){const D=w.data[0];Kn(!!D);const E=D,N=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(N){zi(Cl,`RPC '${t}' stream ${n} received error:`,N);const B=N.status;let P=(function(_){const H=so[_];if(H!==void 0)return kY(H)})(B),C=N.message;P===void 0&&(P=_t.INTERNAL,C="Unknown error status: "+B+" with message "+N.message),m=!0,y.So(new mi(P,C)),d.close()}else zi(Cl,`RPC '${t}' stream ${n} received:`,D),y.bo(D)}})),M(o,aY.STAT_EVENT,(w=>{w.stat===J5.PROXY?zi(Cl,`RPC '${t}' stream ${n} detected buffering proxy`):w.stat===J5.NOPROXY&&zi(Cl,`RPC '${t}' stream ${n} detected no buffering proxy`)})),setTimeout((()=>{y.wo()}),0),y}}function OC(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(r){return new jce(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(t,e,i=1e3,n=1.5,s=6e4){this.ui=t,this.timerId=e,this.ko=i,this.qo=n,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),n=Math.max(0,e-i);n>0&&zi("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,n,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(t,e,i,n,s,a,o,l){this.ui=t,this.Ho=i,this.Jo=n,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new WY(t,e)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,e){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():e&&e.code===_t.RESOURCE_EXHAUSTED?(Vp(e.toString()),Vp("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===_t.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(e)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,n])=>{this.Yo===e&&this.P_(i,n)}),(i=>{t((()=>{const n=new mi(_t.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(n)}))}))}P_(t,e){const i=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((n=>{i((()=>this.I_(n)))})),this.stream.onMessage((n=>{i((()=>++this.e_==1?this.E_(n):this.onNext(n)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return zi("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget((()=>this.Yo===t?e():(zi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Eue extends YY{constructor(t,e,i,n,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,n,a),this.serializer=s}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=Rce(this.serializer,t),i=(function(s){if(!("targetChange"in s))return yr.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?yr.min():a.readTime?cf(a.readTime):yr.min()})(t);return this.listener.d_(e,i)}A_(t){const e={};e.database=oO(this.serializer),e.addTarget=(function(s,a){let o;const l=a.target;if(o=iO(l)?{documents:Bce(s,l)}:{query:Uce(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=_Y(s,a.resumeToken);const c=nO(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(yr.min())>0){o.readTime=CA(s,a.snapshotVersion.toTimestamp());const c=nO(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,t);const i=Hce(this.serializer,t);i&&(e.labels=i),this.a_(e)}R_(t){const e={};e.database=oO(this.serializer),e.removeTarget=t,this.a_(e)}}class Aue extends YY{constructor(t,e,i,n,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,n,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return Kn(!!t.streamToken),this.lastStreamToken=t.streamToken,Kn(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Kn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=Fce(t.writeResults,t.commitTime),i=cf(t.commitTime);return this.listener.g_(i,e)}p_(){const t={};t.database=oO(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>Pce(this.serializer,i)))};this.a_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sue extends class{}{constructor(t,e,i,n){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=n,this.y_=!1}w_(){if(this.y_)throw new mi(_t.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,i,n){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Mo(t,sO(e,i),n,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new mi(_t.UNKNOWN,s.toString())}))}Lo(t,e,i,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Lo(t,sO(e,i),n,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new mi(_t.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Nue{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vp(e),this.D_=!1):zi("OnlineStateTracker",e)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iue{constructor(t,e,i,n,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((a=>{i.enqueueAndForget((async()=>{Sv(this)&&(zi("RemoteStore","Restarting streams for network reachability change."),await(async function(l){const c=xr(l);c.L_.add(4),await qT(c),c.q_.set("Unknown"),c.L_.delete(4),await oN(c)})(this))}))})),this.q_=new Nue(i,n)}}async function oN(r){if(Sv(r))for(const t of r.B_)await t(!0)}async function qT(r){for(const t of r.B_)await t(!1)}function qY(r,t){const e=xr(r);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),zL(e)?_L(e):J1(e).r_()&&jL(e,t))}function LL(r,t){const e=xr(r),i=J1(e);e.N_.delete(t),i.r_()&&QY(e,t),e.N_.size===0&&(i.r_()?i.o_():Sv(e)&&e.q_.set("Unknown"))}function jL(r,t){if(r.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yr.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}J1(r).A_(t)}function QY(r,t){r.Q_.xe(t),J1(r).R_(t)}function _L(r){r.Q_=new Cce({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>r.N_.get(t)||null,tt:()=>r.datastore.serializer.databaseId}),J1(r).start(),r.q_.v_()}function zL(r){return Sv(r)&&!J1(r).n_()&&r.N_.size>0}function Sv(r){return xr(r).L_.size===0}function GY(r){r.Q_=void 0}async function Cue(r){r.q_.set("Online")}async function Oue(r){r.N_.forEach(((t,e)=>{jL(r,t)}))}async function kue(r,t){GY(r),zL(r)?(r.q_.M_(t),_L(r)):r.q_.set("Unknown")}async function Lue(r,t,e){if(r.q_.set("Online"),t instanceof jY&&t.state===2&&t.cause)try{await(async function(n,s){const a=s.cause;for(const o of s.targetIds)n.N_.has(o)&&(await n.remoteSyncer.rejectListen(o,a),n.N_.delete(o),n.Q_.removeTarget(o))})(r,t)}catch(i){zi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await OA(r,i)}else if(t instanceof QE?r.Q_.Ke(t):t instanceof LY?r.Q_.He(t):r.Q_.We(t),!e.isEqual(yr.min()))try{const i=await HY(r.localStore);e.compareTo(i)>=0&&await(function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(bl.EMPTY_BYTE_STRING,u.snapshotVersion)),QY(s,l);const d=new og(u.target,l,c,u.sequenceNumber);jL(s,d)})),s.remoteSyncer.applyRemoteEvent(o)})(r,e)}catch(i){zi("RemoteStore","Failed to raise snapshot:",i),await OA(r,i)}}async function OA(r,t,e){if(!HT(t))throw t;r.L_.add(1),await qT(r),r.q_.set("Offline"),e||(e=()=>HY(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{zi("RemoteStore","Retrying IndexedDB access"),await e(),r.L_.delete(1),await oN(r)}))}function KY(r,t){return t().catch((e=>OA(r,e,t)))}async function lN(r){const t=xr(r),e=Ag(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;jue(t);)try{const n=await vue(t.localStore,i);if(n===null){t.O_.length===0&&e.o_();break}i=n.batchId,_ue(t,n)}catch(n){await OA(t,n)}$Y(t)&&XY(t)}function jue(r){return Sv(r)&&r.O_.length<10}function _ue(r,t){r.O_.push(t);const e=Ag(r);e.r_()&&e.V_&&e.m_(t.mutations)}function $Y(r){return Sv(r)&&!Ag(r).n_()&&r.O_.length>0}function XY(r){Ag(r).start()}async function zue(r){Ag(r).p_()}async function Rue(r){const t=Ag(r);for(const e of r.O_)t.m_(e.mutations)}async function Pue(r,t,e){const i=r.O_.shift(),n=SL.from(i,t,e);await KY(r,(()=>r.remoteSyncer.applySuccessfulWrite(n))),await lN(r)}async function Fue(r,t){t&&Ag(r).V_&&await(async function(i,n){if((function(a){return Sce(a)&&a!==_t.ABORTED})(n.code)){const s=i.O_.shift();Ag(i).s_(),await KY(i,(()=>i.remoteSyncer.rejectFailedWrite(s.batchId,n))),await lN(i)}})(r,t),$Y(r)&&XY(r)}async function pF(r,t){const e=xr(r);e.asyncQueue.verifyOperationInProgress(),zi("RemoteStore","RemoteStore received new credentials");const i=Sv(e);e.L_.add(3),await qT(e),i&&e.q_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),await oN(e)}async function Bue(r,t){const e=xr(r);t?(e.L_.delete(2),await oN(e)):t||(e.L_.add(2),await qT(e),e.q_.set("Unknown"))}function J1(r){return r.K_||(r.K_=(function(e,i,n){const s=xr(e);return s.w_(),new Eue(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)})(r.datastore,r.asyncQueue,{Eo:Cue.bind(null,r),Ro:Oue.bind(null,r),mo:kue.bind(null,r),d_:Lue.bind(null,r)}),r.B_.push((async t=>{t?(r.K_.s_(),zL(r)?_L(r):r.q_.set("Unknown")):(await r.K_.stop(),GY(r))}))),r.K_}function Ag(r){return r.U_||(r.U_=(function(e,i,n){const s=xr(e);return s.w_(),new Aue(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zue.bind(null,r),mo:Fue.bind(null,r),f_:Rue.bind(null,r),g_:Pue.bind(null,r)}),r.B_.push((async t=>{t?(r.U_.s_(),await lN(r)):(await r.U_.stop(),r.O_.length>0&&(zi("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(t,e,i,n,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=n,this.removalCallback=s,this.deferred=new Ip,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,n,s){const a=Date.now()+i,o=new RL(t,e,a,n,s);return o.start(i),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mi(_t.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PL(r,t){if(Vp("AsyncQueue",`${t}: ${r}`),HT(r))return new mi(_t.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t){this.comparator=t?(e,i)=>t(e,i)||qi.comparator(e.key,i.key):(e,i)=>qi.comparator(e.key,i.key),this.keyedMap=$M(),this.sortedSet=new da(this.comparator)}static emptySet(t){return new o1(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof o1)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const n=e.getNext().key,s=i.getNext().key;if(!n.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new o1;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(){this.W_=new da(qi.comparator)}track(t){const e=t.doc.key,i=this.W_.get(e);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(e,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(e):t.type===1&&i.type===2?this.W_=this.W_.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):hr():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal(((e,i)=>{t.push(i)})),t}}class O1{constructor(t,e,i,n,s,a,o,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=n,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,n,s){const a=[];return e.forEach((o=>{a.push({type:0,doc:o})})),new O1(t,e,o1.emptySet(e),a,i,n,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tN(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let n=0;n<e.length;n++)if(e[n].type!==i[n].type||!e[n].doc.isEqual(i[n].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uue{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class Vue{constructor(){this.queries=gF(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,i){const n=xr(e),s=n.queries;n.queries=gF(),s.forEach(((a,o)=>{for(const l of o.j_)l.onError(i)}))})(this,new mi(_t.ABORTED,"Firestore shutting down"))}}function gF(){return new X1((r=>MY(r)),tN)}async function JY(r,t){const e=xr(r);let i=3;const n=t.query;let s=e.queries.get(n);s?!s.H_()&&t.J_()&&(i=2):(s=new Uue,i=t.J_()?0:1);try{switch(i){case 0:s.z_=await e.onListen(n,!0);break;case 1:s.z_=await e.onListen(n,!1);break;case 2:await e.onFirstRemoteStoreListen(n)}}catch(a){const o=PL(a,`Initialization of query '${zy(t.query)}' failed`);return void t.onError(o)}e.queries.set(n,s),s.j_.push(t),t.Z_(e.onlineState),s.z_&&t.X_(s.z_)&&FL(e)}async function ZY(r,t){const e=xr(r),i=t.query;let n=3;const s=e.queries.get(i);if(s){const a=s.j_.indexOf(t);a>=0&&(s.j_.splice(a,1),s.j_.length===0?n=t.J_()?0:1:!s.H_()&&t.J_()&&(n=2))}switch(n){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function Hue(r,t){const e=xr(r);let i=!1;for(const n of t){const s=n.query,a=e.queries.get(s);if(a){for(const o of a.j_)o.X_(n)&&(i=!0);a.z_=n}}i&&FL(e)}function Wue(r,t,e){const i=xr(r),n=i.queries.get(t);if(n)for(const s of n.j_)s.onError(e);i.queries.delete(t)}function FL(r){r.Y_.forEach((t=>{t.next()}))}var cO,vF;(vF=cO||(cO={})).ea="default",vF.Cache="cache";class eq{constructor(t,e,i){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const n of t.docChanges)n.type!==3&&i.push(n);t=new O1(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){if(!t.fromCache||!this.J_())return!0;const i=e!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const e=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}oa(t){t=O1.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==cO.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(t){this.key=t}}class iq{constructor(t){this.key=t}}class Yue{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=$r(),this.mutatedKeys=$r(),this.Aa=wY(t),this.Ra=new o1(this.Aa)}get Va(){return this.Ta}ma(t,e){const i=e?e.fa:new mF,n=e?e.Ra:this.Ra;let s=e?e.mutatedKeys:this.mutatedKeys,a=n,o=!1;const l=this.query.limitType==="F"&&n.size===this.query.limit?n.last():null,c=this.query.limitType==="L"&&n.size===this.query.limit?n.first():null;if(t.inorderTraversal(((u,d)=>{const p=n.get(u),m=iN(this.query,d)?d:null,y=!!p&&this.mutatedKeys.has(p.key),M=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;p&&m?p.data.isEqual(m.data)?y!==M&&(i.track({type:3,doc:m}),w=!0):this.ga(p,m)||(i.track({type:2,doc:m}),w=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(o=!0)):!p&&m?(i.track({type:0,doc:m}),w=!0):p&&!m&&(i.track({type:1,doc:p}),w=!0,(l||c)&&(o=!0)),w&&(m?(a=a.add(m),s=M?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Ra:a,fa:i,ns:o,mutatedKeys:s}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,n){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort(((u,d)=>(function(m,y){const M=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hr()}};return M(m)-M(y)})(u.type,d.type)||this.Aa(u.doc,d.doc))),this.pa(i),n=n!=null&&n;const o=e&&!n?this.ya():[],l=this.da.size===0&&this.current&&!n?1:0,c=l!==this.Ea;return this.Ea=l,a.length!==0||c?{snapshot:new O1(this.query,t.Ra,s,a,t.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mF,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=$r(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const e=[];return t.forEach((i=>{this.da.has(i)||e.push(new iq(i))})),this.da.forEach((i=>{t.has(i)||e.push(new tq(i))})),e}ba(t){this.Ta=t.Ts,this.da=$r();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return O1.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class que{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Que{constructor(t){this.key=t,this.va=!1}}class Gue{constructor(t,e,i,n,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=n,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new X1((o=>MY(o)),tN),this.Ma=new Map,this.xa=new Set,this.Oa=new da(qi.comparator),this.Na=new Map,this.La=new CL,this.Ba={},this.ka=new Map,this.qa=C1.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Kue(r,t,e=!0){const i=lq(r);let n;const s=i.Fa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),n=s.view.Da()):n=await rq(i,t,e,!0),n}async function $ue(r,t){const e=lq(r);await rq(e,t,!0,!1)}async function rq(r,t,e,i){const n=await yue(r.localStore,lf(t)),s=n.targetId,a=r.sharedClientState.addLocalQueryTarget(s,e);let o;return i&&(o=await Xue(r,t,s,a==="current",n.resumeToken)),r.isPrimaryClient&&e&&qY(r.remoteStore,n),o}async function Xue(r,t,e,i,n){r.Ka=(d,p,m)=>(async function(M,w,b,D){let E=w.view.ma(b);E.ns&&(E=await hF(M.localStore,w.query,!1).then((({documents:C})=>w.view.ma(C,E))));const N=D&&D.targetChanges.get(w.targetId),B=D&&D.targetMismatches.get(w.targetId)!=null,P=w.view.applyChanges(E,M.isPrimaryClient,N,B);return xF(M,w.targetId,P.wa),P.snapshot})(r,d,p,m);const s=await hF(r.localStore,t,!0),a=new Yue(t,s.Ts),o=a.ma(s.documents),l=YT.createSynthesizedTargetChangeForCurrentChange(e,i&&r.onlineState!=="Offline",n),c=a.applyChanges(o,r.isPrimaryClient,l);xF(r,e,c.wa);const u=new que(t,e,a);return r.Fa.set(t,u),r.Ma.has(e)?r.Ma.get(e).push(t):r.Ma.set(e,[t]),c.snapshot}async function Jue(r,t,e){const i=xr(r),n=i.Fa.get(t),s=i.Ma.get(n.targetId);if(s.length>1)return i.Ma.set(n.targetId,s.filter((a=>!tN(a,t)))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(n.targetId),i.sharedClientState.isActiveQueryTarget(n.targetId)||await lO(i.localStore,n.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(n.targetId),e&&LL(i.remoteStore,n.targetId),uO(i,n.targetId)})).catch(VT)):(uO(i,n.targetId),await lO(i.localStore,n.targetId,!0))}async function Zue(r,t){const e=xr(r),i=e.Fa.get(t),n=e.Ma.get(i.targetId);e.isPrimaryClient&&n.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),LL(e.remoteStore,i.targetId))}async function ehe(r,t,e){const i=ohe(r);try{const n=await(function(a,o){const l=xr(a),c=Oo.now(),u=o.reduce(((m,y)=>m.add(y.key)),$r());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let y=Hp(),M=$r();return l.cs.getEntries(m,u).next((w=>{y=w,y.forEach(((b,D)=>{D.isValidDocument()||(M=M.add(b))}))})).next((()=>l.localDocuments.getOverlayedDocuments(m,y))).next((w=>{d=w;const b=[];for(const D of o){const E=Tce(D,d.get(D.key).overlayedDocument);E!=null&&b.push(new Hg(D.key,E,fY(E.value.mapValue),gh.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,o)})).next((w=>{p=w;const b=w.applyToLocalDocumentSet(d,M);return l.documentOverlayCache.saveOverlays(m,w.batchId,b)}))})).then((()=>({batchId:p.batchId,changes:bY(d)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(n.batchId),(function(a,o,l){let c=a.Ba[a.currentUser.toKey()];c||(c=new da(Dn)),c=c.insert(o,l),a.Ba[a.currentUser.toKey()]=c})(i,n.batchId,e),await QT(i,n.changes),await lN(i.remoteStore)}catch(n){const s=PL(n,"Failed to persist write");e.reject(s)}}async function nq(r,t){const e=xr(r);try{const i=await mue(e.localStore,t);t.targetChanges.forEach(((n,s)=>{const a=e.Na.get(s);a&&(Kn(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1),n.addedDocuments.size>0?a.va=!0:n.modifiedDocuments.size>0?Kn(a.va):n.removedDocuments.size>0&&(Kn(a.va),a.va=!1))})),await QT(e,i,t)}catch(i){await VT(i)}}function yF(r,t,e){const i=xr(r);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const n=[];i.Fa.forEach(((s,a)=>{const o=a.view.Z_(t);o.snapshot&&n.push(o.snapshot)})),(function(a,o){const l=xr(a);l.onlineState=o;let c=!1;l.queries.forEach(((u,d)=>{for(const p of d.j_)p.Z_(o)&&(c=!0)})),c&&FL(l)})(i.eventManager,t),n.length&&i.Ca.d_(n),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function the(r,t,e){const i=xr(r);i.sharedClientState.updateQueryState(t,"rejected",e);const n=i.Na.get(t),s=n&&n.key;if(s){let a=new da(qi.comparator);a=a.insert(s,Vl.newNoDocument(s,yr.min()));const o=$r().add(s),l=new sN(yr.min(),new Map,new da(Dn),a,o);await nq(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(t),BL(i)}else await lO(i.localStore,t,!1).then((()=>uO(i,t,e))).catch(VT)}async function ihe(r,t){const e=xr(r),i=t.batch.batchId;try{const n=await pue(e.localStore,t);aq(e,i,null),sq(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await QT(e,n)}catch(n){await VT(n)}}async function rhe(r,t,e){const i=xr(r);try{const n=await(function(a,o){const l=xr(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next((d=>(Kn(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u))).next((()=>l.localDocuments.getDocuments(c,u)))}))})(i.localStore,t);aq(i,t,e),sq(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await QT(i,n)}catch(n){await VT(n)}}function sq(r,t){(r.ka.get(t)||[]).forEach((e=>{e.resolve()})),r.ka.delete(t)}function aq(r,t,e){const i=xr(r);let n=i.Ba[i.currentUser.toKey()];if(n){const s=n.get(t);s&&(e?s.reject(e):s.resolve(),n=n.remove(t)),i.Ba[i.currentUser.toKey()]=n}}function uO(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const i of r.Ma.get(t))r.Fa.delete(i),e&&r.Ca.$a(i,e);r.Ma.delete(t),r.isPrimaryClient&&r.La.gr(t).forEach((i=>{r.La.containsKey(i)||oq(r,i)}))}function oq(r,t){r.xa.delete(t.path.canonicalString());const e=r.Oa.get(t);e!==null&&(LL(r.remoteStore,e),r.Oa=r.Oa.remove(t),r.Na.delete(e),BL(r))}function xF(r,t,e){for(const i of e)i instanceof tq?(r.La.addReference(i.key,t),nhe(r,i)):i instanceof iq?(zi("SyncEngine","Document no longer in limbo: "+i.key),r.La.removeReference(i.key,t),r.La.containsKey(i.key)||oq(r,i.key)):hr()}function nhe(r,t){const e=t.key,i=e.path.canonicalString();r.Oa.get(e)||r.xa.has(i)||(zi("SyncEngine","New document in limbo: "+e),r.xa.add(i),BL(r))}function BL(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const t=r.xa.values().next().value;r.xa.delete(t);const e=new qi(Is.fromString(t)),i=r.qa.next();r.Na.set(i,new Que(e)),r.Oa=r.Oa.insert(e,i),qY(r.remoteStore,new og(lf(bL(e.path)),i,"TargetPurposeLimboResolution",yL.oe))}}async function QT(r,t,e){const i=xr(r),n=[],s=[],a=[];i.Fa.isEmpty()||(i.Fa.forEach(((o,l)=>{a.push(i.Ka(l,t,e).then((c=>{var u;if((c||e)&&i.isPrimaryClient){const d=c?!c.fromCache:(u=e?.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){n.push(c);const d=kL.Wi(l.targetId,c);s.push(d)}})))})),await Promise.all(a),i.Ca.d_(n),await(async function(l,c){const u=xr(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>Gt.forEach(c,(p=>Gt.forEach(p.$i,(m=>u.persistence.referenceDelegate.addReference(d,p.targetId,m))).next((()=>Gt.forEach(p.Ui,(m=>u.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))))))}catch(d){if(!HT(d))throw d;zi("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const m=u.os.get(p),y=m.snapshotVersion,M=m.withLastLimboFreeSnapshotVersion(y);u.os=u.os.insert(p,M)}}})(i.localStore,s))}async function she(r,t){const e=xr(r);if(!e.currentUser.isEqual(t)){zi("SyncEngine","User change. New user:",t.toKey());const i=await VY(e.localStore,t);e.currentUser=t,(function(s,a){s.ka.forEach((o=>{o.forEach((l=>{l.reject(new mi(_t.CANCELLED,a))}))})),s.ka.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await QT(e,i.hs)}}function ahe(r,t){const e=xr(r),i=e.Na.get(t);if(i&&i.va)return $r().add(i.key);{let n=$r();const s=e.Ma.get(t);if(!s)return n;for(const a of s){const o=e.Fa.get(a);n=n.unionWith(o.view.Va)}return n}}function lq(r){const t=xr(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=nq.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ahe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=the.bind(null,t),t.Ca.d_=Hue.bind(null,t.eventManager),t.Ca.$a=Wue.bind(null,t.eventManager),t}function ohe(r){const t=xr(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ihe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rhe.bind(null,t),t}class kA{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=aN(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,e){return null}Ha(t,e){return null}za(t){return fue(this.persistence,new hue,t.initialUser,this.serializer)}Ga(t){return new lue(OL.Zr,this.serializer)}Wa(t){return new Mue}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kA.provider={build:()=>new kA};class hO{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>yF(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=she.bind(null,this.syncEngine),await Bue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Vue})()}createDatastore(t){const e=aN(t.databaseInfo.databaseId),i=(function(s){return new Due(s)})(t.databaseInfo);return(function(s,a,o,l){return new Sue(s,a,o,l)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,n,s,a,o){return new Iue(i,n,s,a,o)})(this.localStore,this.datastore,t.asyncQueue,(e=>yF(this.syncEngine,e,0)),(function(){return fF.D()?new fF:new wue})())}createSyncEngine(t,e){return(function(n,s,a,o,l,c,u){const d=new Gue(n,s,a,o,l,c);return u&&(d.Qa=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(n){const s=xr(n);zi("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await qT(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}hO.provider={build:()=>new hO};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Vp("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lhe{constructor(t,e,i,n,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=n,this.user=Fl.UNAUTHENTICATED,this.clientId=uY.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,(async a=>{zi("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(i,(a=>(zi("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ip;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=PL(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function kC(r,t){r.asyncQueue.verifyOperationInProgress(),zi("FirestoreClient","Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let i=e.initialUser;r.setCredentialChangeListener((async n=>{i.isEqual(n)||(await VY(t.localStore,n),i=n)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function MF(r,t){r.asyncQueue.verifyOperationInProgress();const e=await che(r);zi("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener((i=>pF(t.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,n)=>pF(t.remoteStore,n))),r._onlineComponents=t}async function che(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){zi("FirestoreClient","Using user provided OfflineComponentProvider");try{await kC(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(n){return n.name==="FirebaseError"?n.code===_t.FAILED_PRECONDITION||n.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11})(e))throw e;E1("Error using user provided cache. Falling back to memory cache: "+e),await kC(r,new kA)}}else zi("FirestoreClient","Using default OfflineComponentProvider"),await kC(r,new kA);return r._offlineComponents}async function uq(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(zi("FirestoreClient","Using user provided OnlineComponentProvider"),await MF(r,r._uninitializedComponentsProvider._online)):(zi("FirestoreClient","Using default OnlineComponentProvider"),await MF(r,new hO))),r._onlineComponents}function uhe(r){return uq(r).then((t=>t.syncEngine))}async function hq(r){const t=await uq(r),e=t.eventManager;return e.onListen=Kue.bind(null,t.syncEngine),e.onUnlisten=Jue.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=$ue.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Zue.bind(null,t.syncEngine),e}function hhe(r,t,e={}){const i=new Ip;return r.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new cq({next:p=>{u.Za(),a.enqueueAndForget((()=>ZY(s,d)));const m=p.docs.has(o);!m&&p.fromCache?c.reject(new mi(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new mi(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new eq(bL(o.path),u,{includeMetadataChanges:!0,_a:!0});return JY(s,d)})(await hq(r),r.asyncQueue,t,e,i))),i.promise}function dhe(r,t,e={}){const i=new Ip;return r.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new cq({next:p=>{u.Za(),a.enqueueAndForget((()=>ZY(s,d))),p.fromCache&&l.source==="server"?c.reject(new mi(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new eq(o,u,{includeMetadataChanges:!0,_a:!0});return JY(s,d)})(await hq(r),r.asyncQueue,t,e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(r,t,e){if(!e)throw new mi(_t.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function fhe(r,t,e,i){if(t===!0&&i===!0)throw new mi(_t.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function TF(r){if(!qi.isDocumentKey(r))throw new mi(_t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bF(r){if(qi.isDocumentKey(r))throw new mi(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cN(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":hr()}function ud(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new mi(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=cN(r);throw new mi(_t.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}function phe(r,t){if(t<=0)throw new mi(_t.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new mi(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new mi(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fhe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dq((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new mi(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new mi(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new mi(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,n){return i.timeoutSeconds===n.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uN{constructor(t,e,i,n){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DF({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mi(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mi(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DF(t),t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Ole;switch(i.type){case"firstParty":return new _le(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mi(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=wF.get(e);i&&(zi("ComponentProvider","Removing Datastore"),wF.delete(e),i.terminate())})(this),Promise.resolve()}}function mhe(r,t,e,i={}){var n;const s=(r=ud(r,uN))._getSettings(),a=`${t}:${e}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&E1("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let o,l;if(typeof i.mockUserToken=="string")o=i.mockUserToken,l=Fl.MOCK_USER;else{o=vW(i.mockUserToken,(n=r._app)===null||n===void 0?void 0:n.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new mi(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Fl(c)}r._authCredentials=new kle(new cY(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nv=class pq{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new pq(this.firestore,t,this._query)}};class yc{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vg(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yc(this.firestore,t,this._key)}}class vg extends Nv{constructor(t,e,i){super(t,e,bL(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yc(this.firestore,null,new qi(t))}withConverter(t){return new vg(this.firestore,t,this._path)}}function Pn(r,t,...e){if(r=Ts(r),fq("collection","path",t),r instanceof uN){const i=Is.fromString(t,...e);return bF(i),new vg(r,null,i)}{if(!(r instanceof yc||r instanceof vg))throw new mi(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Is.fromString(t,...e));return bF(i),new vg(r.firestore,null,i)}}function Br(r,t,...e){if(r=Ts(r),arguments.length===1&&(t=uY.newId()),fq("doc","path",t),r instanceof uN){const i=Is.fromString(t,...e);return TF(i),new yc(r,null,new qi(i))}{if(!(r instanceof yc||r instanceof vg))throw new mi(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Is.fromString(t,...e));return TF(i),new yc(r.firestore,r instanceof vg?r.converter:null,new qi(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new WY(this,"async_queue_retry"),this.Vu=()=>{const i=OC();i&&zi("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const e=OC();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=OC();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const e=new Ip;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!HT(t))throw t;zi("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const e=this.mu.then((()=>(this.du=!0,t().catch((i=>{this.Eu=i,this.du=!1;const n=(function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o})(i);throw Vp("INTERNAL UNHANDLED ERROR: ",n),i})).then((i=>(this.du=!1,i))))));return this.mu=e,e}enqueueAfterDelay(t,e,i){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const n=RL.createAndSchedule(this,t,e,i,(s=>this.yu(s)));return this.Tu.push(n),n}fu(){this.Eu&&hr()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.Tu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}class Iv extends uN{constructor(t,e,i,n){super(t,e,i,n),this.type="firestore",this._queue=new EF,this._persistenceKey=n?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new EF(t),this._firestoreClient=void 0,await t}}}function ghe(r,t){const e=typeof r=="object"?r:KS(),i=typeof r=="string"?r:"(default)",n=RT(e,"firestore").getImmediate({identifier:i});if(!n._initialized){const s=sL("firestore");s&&mhe(n,...s)}return n}function UL(r){if(r._terminated)throw new mi(_t.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vhe(r),r._firestoreClient}function vhe(r){var t,e,i;const n=r._freezeSettings(),s=(function(o,l,c,u){return new Gle(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,dq(u.experimentalLongPollingOptions),u.useFetchStreams)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,n);r._componentsProvider||!((e=n.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=n.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),r._firestoreClient=new lhe(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t){this._byteString=t}static fromBase64String(t){try{return new k1(bl.fromBase64String(t))}catch(e){throw new mi(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new k1(bl.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mi(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xl(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mi(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mi(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dn(this._lat,t._lat)||Dn(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,n){if(i.length!==n.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==n[s])return!1;return!0})(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yhe=/^__.*__$/;class xhe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Hg(t,this.data,this.fieldMask,e,this.fieldTransforms):new WT(t,this.data,e,this.fieldTransforms)}}class mq{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Hg(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function gq(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hr()}}class YL{constructor(t,e,i,n,s,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=n,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new YL(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),n=this.Fu({path:i,xu:!1});return n.Ou(t),n}Nu(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),n=this.Fu({path:i,xu:!1});return n.vu(),n}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return LA(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(gq(this.Cu)&&yhe.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class Mhe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||aN(t)}Qu(t,e,i,n=!1){return new YL({Cu:t,methodName:e,qu:i,path:xl.emptyPath(),xu:!1,ku:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GT(r){const t=r._freezeSettings(),e=aN(r._databaseId);return new Mhe(r._databaseId,!!t.ignoreUndefinedProperties,e)}function vq(r,t,e,i,n,s={}){const a=r.Qu(s.merge||s.mergeFields?2:0,t,e,n);qL("Data must be an object, but it was:",a,i);const o=xq(i,a);let l,c;if(s.merge)l=new Tu(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const p=dO(t,d,e);if(!a.contains(p))throw new mi(_t.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);wq(u,p)||u.push(p)}l=new Tu(u),c=a.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,c=a.fieldTransforms;return new xhe(new Xc(o),l,c)}class dN extends VL{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof dN}}function whe(r,t,e,i){const n=r.Qu(1,t,e);qL("Data must be an object, but it was:",n,i);const s=[],a=Xc.empty();Ev(i,((l,c)=>{const u=QL(t,l,e);c=Ts(c);const d=n.Nu(u);if(c instanceof dN)s.push(u);else{const p=KT(c,d);p!=null&&(s.push(u),a.set(u,p))}}));const o=new Tu(s);return new mq(a,o,n.fieldTransforms)}function The(r,t,e,i,n,s){const a=r.Qu(1,t,e),o=[dO(t,i,e)],l=[n];if(s.length%2!=0)throw new mi(_t.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)o.push(dO(t,s[p])),l.push(s[p+1]);const c=[],u=Xc.empty();for(let p=o.length-1;p>=0;--p)if(!wq(c,o[p])){const m=o[p];let y=l[p];y=Ts(y);const M=a.Nu(m);if(y instanceof dN)c.push(m);else{const w=KT(y,M);w!=null&&(c.push(m),u.set(m,w))}}const d=new Tu(c);return new mq(u,d,a.fieldTransforms)}function yq(r,t,e,i=!1){return KT(e,r.Qu(i?4:3,t))}function KT(r,t){if(Mq(r=Ts(r)))return qL("Unsupported field value:",t,r),xq(r,t);if(r instanceof VL)return(function(i,n){if(!gq(n.Cu))throw n.Bu(`${i._methodName}() can only be used with update() and set()`);if(!n.path)throw n.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(n);s&&n.fieldTransforms.push(s)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(i,n){const s=[];let a=0;for(const o of i){let l=KT(o,n.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(r,t)}return(function(i,n){if((i=Ts(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gce(n.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Oo.fromDate(i);return{timestampValue:CA(n.serializer,s)}}if(i instanceof Oo){const s=new Oo(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:CA(n.serializer,s)}}if(i instanceof HL)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof k1)return{bytesValue:_Y(n.serializer,i._byteString)};if(i instanceof yc){const s=n.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw n.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:IL(i.firestore._databaseId||n.databaseId,i._key.path)}}if(i instanceof WL)return(function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return EL(o.serializer,l)}))}}}}}})(i,n);throw n.Bu(`Unsupported field value: ${cN(i)}`)})(r,t)}function xq(r,t){const e={};return hY(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ev(r,((i,n)=>{const s=KT(n,t.Mu(i));s!=null&&(e[i]=s)})),{mapValue:{fields:e}}}function Mq(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Oo||r instanceof HL||r instanceof k1||r instanceof yc||r instanceof VL||r instanceof WL)}function qL(r,t,e){if(!Mq(e)||!(function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)})(e)){const i=cN(e);throw i==="an object"?t.Bu(r+" a custom object"):t.Bu(r+" "+i)}}function dO(r,t,e){if((t=Ts(t))instanceof hN)return t._internalPath;if(typeof t=="string")return QL(r,t);throw LA("Field path arguments must be of type string or ",r,!1,void 0,e)}const bhe=new RegExp("[~\\*/\\[\\]]");function QL(r,t,e){if(t.search(bhe)>=0)throw LA(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new hN(...t.split("."))._internalPath}catch{throw LA(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function LA(r,t,e,i,n){const s=i&&!i.isEmpty(),a=n!==void 0;let o=`Function ${t}() called with invalid data`;e&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${i}`),a&&(l+=` in document ${n}`),l+=")"),new mi(_t.INVALID_ARGUMENT,o+r+l)}function wq(r,t){return r.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(t,e,i,n,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=n,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yc(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Dhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(fN("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Dhe extends GL{data(){return super.data()}}function fN(r,t){return typeof t=="string"?QL(r,t):t instanceof hN?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ehe(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new mi(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KL{}class pN extends KL{}function Hs(r,t,...e){let i=[];t instanceof KL&&i.push(t),i=i.concat(e),(function(s){const a=s.filter((l=>l instanceof $L)).length,o=s.filter((l=>l instanceof mN)).length;if(a>1||a>0&&o>0)throw new mi(_t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const n of i)r=n._apply(r);return r}class mN extends pN{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new mN(t,e,i)}_apply(t){const e=this._parse(t);return bq(t._query,e),new Nv(t.firestore,t.converter,rO(t._query,e))}_parse(t){const e=GT(t.firestore);return(function(s,a,o,l,c,u,d){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new mi(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){SF(d,u);const m=[];for(const y of d)m.push(AF(l,s,y));p={arrayValue:{values:m}}}else p=AF(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||SF(d,u),p=yq(o,a,d,u==="in"||u==="not-in");return uo.create(c,u,p)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function qn(r,t,e){const i=t,n=fN("where",r);return mN._create(n,i,e)}class $L extends KL{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new $L(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:cd.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(n,s){let a=n;const o=s.getFlattenedFilters();for(const l of o)bq(a,l),a=rO(a,l)})(t._query,e),new Nv(t.firestore,t.converter,rO(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class XL extends pN{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new XL(t,e)}_apply(t){const e=(function(n,s,a){if(n.startAt!==null)throw new mi(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(n.endAt!==null)throw new mi(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $w(s,a)})(t._query,this._field,this._direction);return new Nv(t.firestore,t.converter,(function(n,s){const a=n.explicitOrderBy.concat([s]);return new Av(n.path,n.collectionGroup,a,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)})(t._query,e))}}function vu(r,t="asc"){const e=t,i=fN("orderBy",r);return XL._create(i,e)}class JL extends pN{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new JL(t,e,i)}_apply(t){return new Nv(t.firestore,t.converter,SA(t._query,this._limit,this._limitType))}}function ZL(r){return phe("limit",r),JL._create("limit",r,"F")}class ej extends pN{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new ej(t,e,i)}_apply(t){const e=Ahe(t,this.type,this._docOrFields,this._inclusive);return new Nv(t.firestore,t.converter,(function(n,s){return new Av(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,s,n.endAt)})(t._query,e))}}function Tq(...r){return ej._create("startAfter",r,!1)}function Ahe(r,t,e,i){if(e[0]=Ts(e[0]),e[0]instanceof GL)return(function(s,a,o,l,c){if(!l)throw new mi(_t.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const d of a1(s))if(d.field.isKeyField())u.push(AA(a,l.key));else{const p=l.data.field(d.field);if(eN(p))throw new mi(_t.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const m=d.field.canonicalString();throw new mi(_t.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}u.push(p)}return new I1(u,c)})(r._query,r.firestore._databaseId,t,e[0]._document,i);{const n=GT(r.firestore);return(function(a,o,l,c,u,d){const p=a.explicitOrderBy;if(u.length>p.length)throw new mi(_t.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<u.length;y++){const M=u[y];if(p[y].field.isKeyField()){if(typeof M!="string")throw new mi(_t.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof M}`);if(!DL(a)&&M.indexOf("/")!==-1)throw new mi(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${M}' contains a slash.`);const w=a.path.child(Is.fromString(M));if(!qi.isDocumentKey(w))throw new mi(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const b=new qi(w);m.push(AA(o,b))}else{const w=yq(l,c,M);m.push(w)}}return new I1(m,d)})(r._query,r.firestore._databaseId,n,t,e,i)}}function AF(r,t,e){if(typeof(e=Ts(e))=="string"){if(e==="")throw new mi(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DL(t)&&e.indexOf("/")!==-1)throw new mi(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Is.fromString(e));if(!qi.isDocumentKey(i))throw new mi(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return AA(r,new qi(i))}if(e instanceof yc)return AA(r,e._key);throw new mi(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cN(e)}.`)}function SF(r,t){if(!Array.isArray(r)||r.length===0)throw new mi(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function bq(r,t){const e=(function(n,s){for(const a of n)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(r.filters,(function(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new mi(_t.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mi(_t.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class She{convertValue(t,e="none"){switch(av(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pa(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(sv(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw hr()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ev(t,((n,s)=>{i[n]=this.convertValue(s,e)})),i}convertVectorValue(t){var e,i,n;const s=(n=(i=(e=t.fields)===null||e===void 0?void 0:e.value.arrayValue)===null||i===void 0?void 0:i.values)===null||n===void 0?void 0:n.map((a=>Pa(a.doubleValue)));return new WL(s)}convertGeoPoint(t){return new HL(Pa(t.latitude),Pa(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=xL(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Qw(t));default:return null}}convertTimestamp(t){const e=Eg(t);return new Oo(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Is.fromString(t);Kn(UY(i));const n=new Gw(i.get(1),i.get(3)),s=new qi(i.popFirst(5));return n.isEqual(e)||Vp(`Document ${s} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(r,t,e){let i;return i=r?e&&(e.merge||e.mergeFields)?r.toFirestore(t,e):r.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Eq extends GL{constructor(t,e,i,n,s,a){super(t,e,i,n,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new GE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(fN("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class GE extends Eq{data(t={}){return super.data(t)}}class Nhe{constructor(t,e,i,n){this._firestore=t,this._userDataWriter=e,this._snapshot=n,this.metadata=new JM(n.hasPendingWrites,n.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new GE(this._firestore,this._userDataWriter,i.key,i,new JM(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mi(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(n,s){if(n._snapshot.oldDocs.isEmpty()){let a=0;return n._snapshot.docChanges.map((o=>{const l=new GE(n._firestore,n._userDataWriter,o.doc.key,o.doc,new JM(n._snapshot.mutatedKeys.has(o.doc.key),n._snapshot.fromCache),n.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=n._snapshot.oldDocs;return n._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new GE(n._firestore,n._userDataWriter,o.doc.key,o.doc,new JM(n._snapshot.mutatedKeys.has(o.doc.key),n._snapshot.fromCache),n.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:Ihe(o.type),doc:l,oldIndex:c,newIndex:u}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ihe(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hr()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(r){r=ud(r,yc);const t=ud(r.firestore,Iv);return hhe(UL(t),r._key).then((e=>Che(t,r,e)))}class Aq extends She{constructor(t){super(),this.firestore=t}convertBytes(t){return new k1(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yc(this.firestore,null,e)}}function Wa(r){r=ud(r,Nv);const t=ud(r.firestore,Iv),e=UL(t),i=new Aq(t);return Ehe(r._query),dhe(e,r._query).then((n=>new Nhe(t,i,r,n)))}function LC(r,t,e){r=ud(r,yc);const i=ud(r.firestore,Iv),n=Dq(r.converter,t,e);return gN(i,[vq(GT(i),"setDoc",r._key,n,r.converter!==null,e).toMutation(r._key,gh.none())])}function ql(r,t,e,...i){r=ud(r,yc);const n=ud(r.firestore,Iv),s=GT(n);let a;return a=typeof(t=Ts(t))=="string"||t instanceof hN?The(s,"updateDoc",r._key,t,e,i):whe(s,"updateDoc",r._key,t),gN(n,[a.toMutation(r._key,gh.exists(!0))])}function Z1(r){return gN(ud(r.firestore,Iv),[new AL(r._key,gh.none())])}function Cp(r,t){const e=ud(r.firestore,Iv),i=Br(r),n=Dq(r.converter,t);return gN(e,[vq(GT(r.firestore),"addDoc",i._key,n,r.converter!==null,{}).toMutation(i._key,gh.exists(!1))]).then((()=>i))}function gN(r,t){return(function(i,n){const s=new Ip;return i.asyncQueue.enqueueAndForget((async()=>ehe(await uhe(i),n,s))),s.promise})(UL(r),t)}function Che(r,t,e){const i=e.docs.get(t._key),n=new Aq(r);return new Eq(r,n,t._key,i,new JM(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(n){$1=n})(Tv),bg(new Fp("firestore",((i,{instanceIdentifier:n,options:s})=>{const a=i.getProvider("app").getImmediate(),o=new Iv(new Lle(i.getProvider("auth-internal")),new Rle(i.getProvider("app-check-internal")),(function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new mi(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gw(c.options.projectId,u)})(a,n),a);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),mh(WP,"4.7.3",t),mh(WP,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq="firebasestorage.googleapis.com",Nq="storageBucket",Ohe=120*1e3,khe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends gf{constructor(t,e,i=0){super(jC(t),`Firebase Storage: ${e} (${jC(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Na.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return jC(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Aa;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Aa||(Aa={}));function jC(r){return"storage/"+r}function tj(){const r="An unknown error occurred, please check the error payload for server response.";return new Na(Aa.UNKNOWN,r)}function Lhe(r){return new Na(Aa.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function jhe(r){return new Na(Aa.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _he(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Na(Aa.UNAUTHENTICATED,r)}function zhe(){return new Na(Aa.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Rhe(r){return new Na(Aa.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Phe(){return new Na(Aa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fhe(){return new Na(Aa.CANCELED,"User canceled the upload/download.")}function Bhe(r){return new Na(Aa.INVALID_URL,"Invalid URL '"+r+"'.")}function Uhe(r){return new Na(Aa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Vhe(){return new Na(Aa.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Nq+"' property when initializing the app?")}function Hhe(){return new Na(Aa.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Whe(){return new Na(Aa.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Yhe(r){return new Na(Aa.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function fO(r){return new Na(Aa.INVALID_ARGUMENT,r)}function Iq(){return new Na(Aa.APP_DELETED,"The Firebase app was deleted.")}function qhe(r){return new Na(Aa.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dw(r,t){return new Na(Aa.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function qx(r){throw new Na(Aa.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=bu.makeFromUrl(t,e)}catch{return new bu(t,"")}if(i.path==="")return i;throw Uhe(t)}static makeFromUrl(t,e){let i=null;const n="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+n+a,"i"),l={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const u="v[A-Za-z0-9_]+",d=e.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${u}/b/${n}/o${p}`,"i"),y={bucket:1,path:3},M=e===Sq?"(?:storage.googleapis.com|storage.cloud.google.com)":e,w="([^?#]*)",b=new RegExp(`^https?://${M}/${n}/${w}`,"i"),E=[{regex:o,indices:l,postModify:s},{regex:m,indices:y,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<E.length;N++){const B=E[N],P=B.regex.exec(t);if(P){const C=P[B.indices.bucket];let k=P[B.indices.path];k||(k=""),i=new bu(C,k),B.postModify(i);break}}if(i==null)throw Bhe(t);return i}}class Qhe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ghe(r,t,e){let i=1,n=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function u(...w){c||(c=!0,t.apply(null,w))}function d(w){n=setTimeout(()=>{n=null,r(m,l())},w)}function p(){s&&clearTimeout(s)}function m(w,...b){if(c){p();return}if(w){p(),u.call(null,w,...b);return}if(l()||a){p(),u.call(null,w,...b);return}i<64&&(i*=2);let E;o===1?(o=2,E=0):E=(i+Math.random())*1e3,d(E)}let y=!1;function M(w){y||(y=!0,p(),!c&&(n!==null?(w||(o=2),clearTimeout(n),d(0)):w||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,M(!0)},e),M}function Khe(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $he(r){return r!==void 0}function Xhe(r){return typeof r=="object"&&!Array.isArray(r)}function ij(r){return typeof r=="string"||r instanceof String}function NF(r){return rj()&&r instanceof Blob}function rj(){return typeof Blob<"u"}function IF(r,t,e,i){if(i<t)throw fO(`Invalid value for '${r}'. Expected ${t} or greater.`);if(i>e)throw fO(`Invalid value for '${r}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(r,t,e){let i=t;return e==null&&(i=`https://${t}`),`${e}://${i}/v0${r}`}function Cq(r){const t=encodeURIComponent;let e="?";for(const i in r)if(r.hasOwnProperty(i)){const n=t(i)+"="+t(r[i]);e=e+n+"&"}return e=e.slice(0,-1),e}var H0;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(H0||(H0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jhe(r,t){const e=r>=500&&r<600,n=[408,429].indexOf(r)!==-1,s=t.indexOf(r)!==-1;return e||n||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zhe{constructor(t,e,i,n,s,a,o,l,c,u,d,p=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=n,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const t=(i,n)=>{if(n){i(!1,new xD(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===H0.NO_ERROR,l=s.getStatus();if(!o||Jhe(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===H0.ABORT;i(!1,new xD(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;i(!0,new xD(c,s))})},e=(i,n)=>{const s=this.resolve_,a=this.reject_,o=n.connection;if(n.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());$he(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=tj();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(n.canceled){const l=this.appDelete_?Iq():Fhe();a(l)}else{const l=Phe();a(l)}};this.canceled_?e(!1,new xD(!1,null,!0)):this.backoffId_=Ghe(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Khe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xD{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function ede(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function tde(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ide(r,t){t&&(r["X-Firebase-GMPID"]=t)}function rde(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function nde(r,t,e,i,n,s,a=!0){const o=Cq(r.urlParams),l=r.url+o,c=Object.assign({},r.headers);return ide(c,t),ede(c,e),tde(c,s),rde(c,i),new Zhe(l,r.method,c,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sde(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ade(...r){const t=sde();if(t!==void 0){const e=new t;for(let i=0;i<r.length;i++)e.append(r[i]);return e.getBlob()}else{if(rj())return new Blob(r);throw new Na(Aa.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ode(r,t,e){return r.webkitSlice?r.webkitSlice(t,e):r.mozSlice?r.mozSlice(t,e):r.slice?r.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lde(r){if(typeof atob>"u")throw Yhe("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _C{constructor(t,e){this.data=t,this.contentType=e||null}}function cde(r,t){switch(r){case Zd.RAW:return new _C(Oq(t));case Zd.BASE64:case Zd.BASE64URL:return new _C(kq(r,t));case Zd.DATA_URL:return new _C(hde(t),dde(t))}throw tj()}function Oq(r){const t=[];for(let e=0;e<r.length;e++){let i=r.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(e<r.length-1&&(r.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const s=i,a=r.charCodeAt(++e);i=65536|(s&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function ude(r){let t;try{t=decodeURIComponent(r)}catch{throw dw(Zd.DATA_URL,"Malformed data URL.")}return Oq(t)}function kq(r,t){switch(r){case Zd.BASE64:{const n=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(n||s)throw dw(r,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case Zd.BASE64URL:{const n=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(n||s)throw dw(r,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=lde(t)}catch(n){throw n.message.includes("polyfill")?n:dw(r,"Invalid character found")}const i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}class Lq{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw dw(Zd.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;i!=null&&(this.base64=fde(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function hde(r){const t=new Lq(r);return t.base64?kq(Zd.BASE64,t.rest):ude(t.rest)}function dde(r){return new Lq(r).contentType}function fde(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,e){let i=0,n="";NF(t)?(this.data_=t,i=t.size,n=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=n}size(){return this.size_}type(){return this.type_}slice(t,e){if(NF(this.data_)){const i=this.data_,n=ode(i,t,e);return n===null?null:new ig(n)}else{const i=new Uint8Array(this.data_.buffer,t,e-t);return new ig(i,!0)}}static getBlob(...t){if(rj()){const e=t.map(i=>i instanceof ig?i.data_:i);return new ig(ade.apply(null,e))}else{const e=t.map(a=>ij(a)?cde(Zd.RAW,a).data:a.data_);let i=0;e.forEach(a=>{i+=a.byteLength});const n=new Uint8Array(i);let s=0;return e.forEach(a=>{for(let o=0;o<a.length;o++)n[s++]=a[o]}),new ig(n,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(r){let t;try{t=JSON.parse(r)}catch{return null}return Xhe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pde(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function mde(r,t){const e=t.split("/").filter(i=>i.length>0).join("/");return r.length===0?e:r+"/"+e}function _q(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gde(r,t){return t}class oc{constructor(t,e,i,n){this.server=t,this.local=e||t,this.writable=!!i,this.xform=n||gde}}let MD=null;function vde(r){return!ij(r)||r.length<2?r:_q(r)}function zq(){if(MD)return MD;const r=[];r.push(new oc("bucket")),r.push(new oc("generation")),r.push(new oc("metageneration")),r.push(new oc("name","fullPath",!0));function t(s,a){return vde(a)}const e=new oc("name");e.xform=t,r.push(e);function i(s,a){return a!==void 0?Number(a):a}const n=new oc("size");return n.xform=i,r.push(n),r.push(new oc("timeCreated")),r.push(new oc("updated")),r.push(new oc("md5Hash",null,!0)),r.push(new oc("cacheControl",null,!0)),r.push(new oc("contentDisposition",null,!0)),r.push(new oc("contentEncoding",null,!0)),r.push(new oc("contentLanguage",null,!0)),r.push(new oc("contentType",null,!0)),r.push(new oc("metadata","customMetadata",!0)),MD=r,MD}function yde(r,t){function e(){const i=r.bucket,n=r.fullPath,s=new bu(i,n);return t._makeStorageReference(s)}Object.defineProperty(r,"ref",{get:e})}function xde(r,t,e){const i={};i.type="file";const n=e.length;for(let s=0;s<n;s++){const a=e[s];i[a.local]=a.xform(i,t[a.server])}return yde(i,r),i}function Rq(r,t,e){const i=jq(t);return i===null?null:xde(r,i,e)}function Mde(r,t,e,i){const n=jq(t);if(n===null||!ij(n.downloadTokens))return null;const s=n.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const u=r.bucket,d=r.fullPath,p="/b/"+a(u)+"/o/"+a(d),m=vN(p,e,i),y=Cq({alt:"media",token:c});return m+y})[0]}function wde(r,t){const e={},i=t.length;for(let n=0;n<i;n++){const s=t[n];s.writable&&(e[s.server]=r[s.local])}return JSON.stringify(e)}class nj{constructor(t,e,i,n){this.url=t,this.method=e,this.handler=i,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(r){if(!r)throw tj()}function Tde(r,t){function e(i,n){const s=Rq(r,n,t);return Pq(s!==null),s}return e}function bde(r,t){function e(i,n){const s=Rq(r,n,t);return Pq(s!==null),Mde(s,n,r.host,r._protocol)}return e}function Fq(r){function t(e,i){let n;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?n=zhe():n=_he():e.getStatus()===402?n=jhe(r.bucket):e.getStatus()===403?n=Rhe(r.path):n=i,n.status=e.getStatus(),n.serverResponse=i.serverResponse,n}return t}function Bq(r){const t=Fq(r);function e(i,n){let s=t(i,n);return i.getStatus()===404&&(s=Lhe(r.path)),s.serverResponse=n.serverResponse,s}return e}function Dde(r,t,e){const i=t.fullServerUrl(),n=vN(i,r.host,r._protocol),s="GET",a=r.maxOperationRetryTime,o=new nj(n,s,bde(r,e),a);return o.errorHandler=Bq(t),o}function Ede(r,t){const e=t.fullServerUrl(),i=vN(e,r.host,r._protocol),n="DELETE",s=r.maxOperationRetryTime;function a(l,c){}const o=new nj(i,n,a,s);return o.successCodes=[200,204],o.errorHandler=Bq(t),o}function Ade(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function Sde(r,t,e){const i=Object.assign({},e);return i.fullPath=r.path,i.size=t.size(),i.contentType||(i.contentType=Ade(null,t)),i}function Nde(r,t,e,i,n){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let E="";for(let N=0;N<2;N++)E=E+Math.random().toString().slice(2);return E}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const c=Sde(t,i,n),u=wde(c,e),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=ig.getBlob(d,i,p);if(m===null)throw Hhe();const y={name:c.fullPath},M=vN(s,r.host,r._protocol),w="POST",b=r.maxUploadRetryTime,D=new nj(M,w,Tde(r,e),b);return D.urlParams=y,D.headers=a,D.body=m.uploadData(),D.errorHandler=Fq(t),D}class Ide{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=H0.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=H0.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=H0.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,n){if(this.sent_)throw qx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),n!==void 0)for(const s in n)n.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,n[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qx("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qx("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qx("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qx("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Cde extends Ide{initXhr(){this.xhr_.responseType="text"}}function sj(){return new Cde}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(t,e){this._service=t,e instanceof bu?this._location=e:this._location=bu.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new ov(t,e)}get root(){const t=new bu(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _q(this._location.path)}get storage(){return this._service}get parent(){const t=pde(this._location.path);if(t===null)return null;const e=new bu(this._location.bucket,t);return new ov(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw qhe(t)}}function Ode(r,t,e){r._throwIfRoot("uploadBytes");const i=Nde(r.storage,r._location,zq(),new ig(t,!0),e);return r.storage.makeRequestWithTokens(i,sj).then(n=>({metadata:n,ref:r}))}function kde(r){r._throwIfRoot("getDownloadURL");const t=Dde(r.storage,r._location,zq());return r.storage.makeRequestWithTokens(t,sj).then(e=>{if(e===null)throw Whe();return e})}function Lde(r){r._throwIfRoot("deleteObject");const t=Ede(r.storage,r._location);return r.storage.makeRequestWithTokens(t,sj)}function jde(r,t){const e=mde(r._location.path,t),i=new bu(r._location.bucket,e);return new ov(r.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _de(r){return/^[A-Za-z]+:\/\//.test(r)}function zde(r,t){return new ov(r,t)}function Uq(r,t){if(r instanceof aj){const e=r;if(e._bucket==null)throw Vhe();const i=new ov(e,e._bucket);return t!=null?Uq(i,t):i}else return t!==void 0?jde(r,t):r}function Rde(r,t){if(t&&_de(t)){if(r instanceof aj)return zde(r,t);throw fO("To use ref(service, url), the first argument must be a Storage instance.")}else return Uq(r,t)}function CF(r,t){const e=t?.[Nq];return e==null?null:bu.makeFromBucketSpec(e,r)}function Pde(r,t,e,i={}){r.host=`${t}:${e}`,r._protocol="http";const{mockUserToken:n}=i;n&&(r._overrideAuthToken=typeof n=="string"?n:vW(n,r.app.options.projectId))}class aj{constructor(t,e,i,n,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=n,this._firebaseVersion=s,this._bucket=null,this._host=Sq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ohe,this._maxUploadRetryTime=khe,this._requests=new Set,n!=null?this._bucket=bu.makeFromBucketSpec(n,this._host):this._bucket=CF(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=bu.makeFromBucketSpec(this._url,t):this._bucket=CF(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){IF("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){IF("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ov(this,t)}_makeRequest(t,e,i,n,s=!0){if(this._deleted)return new Qhe(Iq());{const a=nde(t,this._appId,i,n,e,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,e){const[i,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,n).getPromise()}}const OF="@firebase/storage",kF="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq="storage";function Fde(r,t,e){return r=Ts(r),Ode(r,t,e)}function LF(r){return r=Ts(r),kde(r)}function Bde(r){return r=Ts(r),Lde(r)}function zC(r,t){return r=Ts(r),Rde(r,t)}function Ude(r=KS(),t){r=Ts(r);const i=RT(r,Vq).getImmediate({identifier:t}),n=sL("storage");return n&&Vde(i,...n),i}function Vde(r,t,e,i={}){Pde(r,t,e,i)}function Hde(r,{instanceIdentifier:t}){const e=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),n=r.getProvider("app-check-internal");return new aj(e,i,n,t,Tv)}function Wde(){bg(new Fp(Vq,Hde,"PUBLIC").setMultipleInstances(!0)),mh(OF,kF,""),mh(OF,kF,"esm2017")}Wde();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yde{constructor(t,e,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(n=>this.auth=n,()=>{}),this.messaging||e.get().then(n=>this.messaging=n,()=>{}),this.appCheck||i.get().then(n=>this.appCheck=n,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const e=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(t){const e=await this.getAuthToken(),i=await this.getMessagingToken(),n=await this.getAppCheckToken(t);return{authToken:e,messagingToken:i,appCheckToken:n}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="us-central1";class qde{constructor(t,e,i,n,s=pO,a){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new Yde(e,i,n),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=pO}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const e=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${e}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${e}.cloudfunctions.net/${t}`}}function Qde(r,t,e){r.emulatorOrigin=`http://${t}:${e}`}const jF="@firebase/functions",_F="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gde="auth-internal",Kde="app-check-internal",$de="messaging-internal";function Xde(r,t){const e=(i,{instanceIdentifier:n})=>{const s=i.getProvider("app").getImmediate(),a=i.getProvider(Gde),o=i.getProvider($de),l=i.getProvider(Kde);return new qde(s,a,o,l,n,r)};bg(new Fp(Hq,e,"PUBLIC").setMultipleInstances(!0)),mh(jF,_F,t),mh(jF,_F,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jde(r=KS(),t=pO){const i=RT(Ts(r),Hq).getImmediate({identifier:t}),n=sL("functions");return n&&Zde(i,...n),i}function Zde(r,t,e){Qde(Ts(r),t,e)}Xde(fetch.bind(self));const efe={apiKey:"AIzaSyAEHhLccanbJalSN0Zbdnvq_CwSSbpllrg",authDomain:"mi-factotum-field-service.firebaseapp.com",projectId:"mi-factotum-field-service",storageBucket:"mi-factotum-field-service.firebasestorage.app",messagingSenderId:"1030013411579",appId:"1:1030013411579:web:37cdb1ce1e57c1e75c505e",measurementId:"G-VS61WKSG39"},yN=MW(efe),wl=Ile(yN),Ai=ghe(yN),RC=Ude(yN);Jde(yN,"us-central1");const Wq=ce.createContext(),vf=()=>{const r=ce.useContext(Wq);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},PC="sroy@worksidesoftware.com",tfe=({children:r})=>{const[t,e]=ce.useState(null),[i,n]=ce.useState(null),[s,a]=ce.useState(!0),o=()=>t?.email===PC||i?.email===PC,l=()=>o()?!1:i?.role==="admin"&&!i?.companyId,c=async(y,M,w)=>{try{const D=(await hoe(wl,y,M)).user;await poe(D,{displayName:w.name});const E={id:D.uid,email:D.email,name:w.name,phoneNumber:w.phoneNumber||"",businessName:w.businessName||"",address:w.address||"",services:w.services||[],serviceCategories:w.serviceCategories||[],notificationsEnabled:!0,emailNotifications:!0,smsNotifications:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),companyId:null,role:"admin"};return await LC(Br(Ai,"users",D.uid),E),n(E),mt.success("Account created successfully!"),{success:!0,user:D}}catch(b){console.error("Signup error:",b);let D="Unable to create account. Please try again.";switch(b.code){case"auth/email-already-in-use":D="An account with this email already exists. Please sign in instead.";break;case"auth/invalid-email":D="Please enter a valid email address.";break;case"auth/weak-password":D="Password should be at least 6 characters long.";break;case"auth/operation-not-allowed":D="Account creation is currently disabled. Please contact support.";break;case"auth/network-request-failed":D="Network error. Please check your connection and try again.";break;default:D="Unable to create account. Please check your information and try again."}return mt.error(D),{success:!1,error:D}}},u=async(y,M)=>{try{const b=(await doe(wl,y,M)).user,D=await vh(Br(Ai,"users",b.uid));if(D.exists()){const E=D.data();n(E),E.role==="admin"&&E.companyId}else{const E={id:b.uid,email:b.email,name:b.displayName||"",role:"field_tech",companyId:null,createdAt:new Date().toISOString()};await LC(Br(Ai,"users",b.uid),E),n(E)}return mt.success("Welcome back!"),{success:!0,user:b}}catch(w){console.error("Signin error:",w);let b="An unexpected error occurred. Please try again.";switch(w.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":b="Incorrect email or password. Please check your credentials and try again.";break;case"auth/invalid-email":b="Please enter a valid email address.";break;case"auth/user-disabled":b="This account has been disabled. Please contact support.";break;case"auth/too-many-requests":b="Too many failed attempts. Please try again later.";break;case"auth/network-request-failed":b="Network error. Please check your connection and try again.";break;default:b="Unable to sign in. Please check your credentials and try again."}return mt.error(b),{success:!1,error:b}}},d=async()=>{try{await yoe(wl),n(null),mt.success("Signed out successfully")}catch(y){console.error("Logout error:",y),mt.error("Error signing out")}},p=async y=>{try{if(!t)return{success:!1,error:"No user logged in"};const M={...i,...y,updatedAt:new Date().toISOString()};return await LC(Br(Ai,"users",t.uid),M,{merge:!0}),n(M),mt.success("Profile updated successfully"),{success:!0}}catch(M){return console.error("Update profile error:",M),mt.error("Error updating profile"),{success:!1,error:M.message}}};ce.useEffect(()=>voe(wl,async M=>{if(e(M),M)try{const w=await vh(Br(Ai,"users",M.uid));w.exists()&&n(w.data())}catch(w){console.error("Error fetching user profile:",w)}else n(null);a(!1)}),[]);const m={currentUser:t,userProfile:i,loading:s,signup:c,signin:u,logout:d,updateUserProfile:p,isSuperAdmin:o(),needsCompanySetup:l()};return x.jsx(Wq.Provider,{value:m,children:r})},Yq=ce.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"}),xN=ce.createContext({}),oj=ce.createContext(null),MN=typeof document<"u",ife=MN?ce.useLayoutEffect:ce.useEffect,qq=ce.createContext({strict:!1}),lj=r=>r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),rfe="framerAppearId",Qq="data-"+lj(rfe);function nfe(r,t,e,i){const{visualElement:n}=ce.useContext(xN),s=ce.useContext(qq),a=ce.useContext(oj),o=ce.useContext(Yq).reducedMotion,l=ce.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(r,{visualState:t,parent:n,props:e,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;ce.useInsertionEffect(()=>{c&&c.update(e,a)});const u=ce.useRef(!!(e[Qq]&&!window.HandoffComplete));return ife(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),ce.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function Qy(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function sfe(r,t,e){return ce.useCallback(i=>{i&&r.mount&&r.mount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):Qy(e)&&(e.current=i))},[t])}function Zw(r){return typeof r=="string"||Array.isArray(r)}function wN(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}const cj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uj=["initial",...cj];function TN(r){return wN(r.animate)||uj.some(t=>Zw(r[t]))}function Gq(r){return!!(TN(r)||r.variants)}function afe(r,t){if(TN(r)){const{initial:e,animate:i}=r;return{initial:e===!1||Zw(e)?e:void 0,animate:Zw(i)?i:void 0}}return r.inherit!==!1?t:{}}function ofe(r){const{initial:t,animate:e}=afe(r,ce.useContext(xN));return ce.useMemo(()=>({initial:t,animate:e}),[zF(t),zF(e)])}function zF(r){return Array.isArray(r)?r.join(" "):r}const RF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eT={};for(const r in RF)eT[r]={isEnabled:t=>RF[r].some(e=>!!t[e])};function lfe(r){for(const t in r)eT[t]={...eT[t],...r[t]}}const Kq=ce.createContext({}),$q=ce.createContext({}),cfe=Symbol.for("motionComponentSymbol");function ufe({preloadedFeatures:r,createVisualElement:t,useRender:e,useVisualState:i,Component:n}){r&&lfe(r);function s(o,l){let c;const u={...ce.useContext(Yq),...o,layoutId:hfe(o)},{isStatic:d}=u,p=ofe(o),m=i(o,d);if(!d&&MN){p.visualElement=nfe(n,m,u,t);const y=ce.useContext($q),M=ce.useContext(qq).strict;p.visualElement&&(c=p.visualElement.loadFeatures(u,M,r,y))}return ce.createElement(xN.Provider,{value:p},c&&p.visualElement?ce.createElement(c,{visualElement:p.visualElement,...u}):null,e(n,o,sfe(m,p.visualElement,l),m,d,p.visualElement))}const a=ce.forwardRef(s);return a[cfe]=n,a}function hfe({layoutId:r}){const t=ce.useContext(Kq).id;return t&&r!==void 0?t+"-"+r:r}function dfe(r){function t(i,n={}){return ufe(r(i,n))}if(typeof Proxy>"u")return t;const e=new Map;return new Proxy(t,{get:(i,n)=>(e.has(n)||e.set(n,t(n)),e.get(n))})}const ffe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hj(r){return typeof r!="string"||r.includes("-")?!1:!!(ffe.indexOf(r)>-1||/[A-Z]/.test(r))}const jA={};function pfe(r){Object.assign(jA,r)}const $T=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cv=new Set($T);function Xq(r,{layout:t,layoutId:e}){return Cv.has(r)||r.startsWith("origin")||(t||e!==void 0)&&(!!jA[r]||r==="opacity")}const eu=r=>!!(r&&r.getVelocity),mfe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gfe=$T.length;function vfe(r,{enableHardwareAcceleration:t=!0,allowTransformNone:e=!0},i,n){let s="";for(let a=0;a<gfe;a++){const o=$T[a];if(r[o]!==void 0){const l=mfe[o]||o;s+=`${l}(${r[o]}) `}}return t&&!r.z&&(s+="translateZ(0)"),s=s.trim(),n?s=n(r,i?"":s):e&&i&&(s="none"),s}const Jq=r=>t=>typeof t=="string"&&t.startsWith(r),Zq=Jq("--"),mO=Jq("var(--"),yfe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,xfe=(r,t)=>t&&typeof r=="number"?t.transform(r):r,Sg=(r,t,e)=>Math.min(Math.max(e,r),t),Ov={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},fw={...Ov,transform:r=>Sg(0,1,r)},wD={...Ov,default:1},pw=r=>Math.round(r*1e5)/1e5,bN=/(-)?([\d]*\.?[\d])+/g,eQ=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Mfe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function XT(r){return typeof r=="string"}const JT=r=>({test:t=>XT(t)&&t.endsWith(r)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${r}`}),Wm=JT("deg"),uf=JT("%"),nr=JT("px"),wfe=JT("vh"),Tfe=JT("vw"),PF={...uf,parse:r=>uf.parse(r)/100,transform:r=>uf.transform(r*100)},FF={...Ov,transform:Math.round},tQ={borderWidth:nr,borderTopWidth:nr,borderRightWidth:nr,borderBottomWidth:nr,borderLeftWidth:nr,borderRadius:nr,radius:nr,borderTopLeftRadius:nr,borderTopRightRadius:nr,borderBottomRightRadius:nr,borderBottomLeftRadius:nr,width:nr,maxWidth:nr,height:nr,maxHeight:nr,size:nr,top:nr,right:nr,bottom:nr,left:nr,padding:nr,paddingTop:nr,paddingRight:nr,paddingBottom:nr,paddingLeft:nr,margin:nr,marginTop:nr,marginRight:nr,marginBottom:nr,marginLeft:nr,rotate:Wm,rotateX:Wm,rotateY:Wm,rotateZ:Wm,scale:wD,scaleX:wD,scaleY:wD,scaleZ:wD,skew:Wm,skewX:Wm,skewY:Wm,distance:nr,translateX:nr,translateY:nr,translateZ:nr,x:nr,y:nr,z:nr,perspective:nr,transformPerspective:nr,opacity:fw,originX:PF,originY:PF,originZ:nr,zIndex:FF,fillOpacity:fw,strokeOpacity:fw,numOctaves:FF};function dj(r,t,e,i){const{style:n,vars:s,transform:a,transformOrigin:o}=r;let l=!1,c=!1,u=!0;for(const d in t){const p=t[d];if(Zq(d)){s[d]=p;continue}const m=tQ[d],y=xfe(p,m);if(Cv.has(d)){if(l=!0,a[d]=y,!u)continue;p!==(m.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,o[d]=y):n[d]=y}if(t.transform||(l||i?n.transform=vfe(r.transform,e,u,i):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=o;n.transformOrigin=`${d} ${p} ${m}`}}const fj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iQ(r,t,e){for(const i in t)!eu(t[i])&&!Xq(i,e)&&(r[i]=t[i])}function bfe({transformTemplate:r},t,e){return ce.useMemo(()=>{const i=fj();return dj(i,t,{enableHardwareAcceleration:!e},r),Object.assign({},i.vars,i.style)},[t])}function Dfe(r,t,e){const i=r.style||{},n={};return iQ(n,i,r),Object.assign(n,bfe(r,t,e)),r.transformValues?r.transformValues(n):n}function Efe(r,t,e){const i={},n=Dfe(r,t,e);return r.drag&&r.dragListener!==!1&&(i.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(i.tabIndex=0),i.style=n,i}const Afe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _A(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||Afe.has(r)}let rQ=r=>!_A(r);function Sfe(r){r&&(rQ=t=>t.startsWith("on")?!_A(t):r(t))}try{Sfe(require("@emotion/is-prop-valid").default)}catch{}function Nfe(r,t,e){const i={};for(const n in r)n==="values"&&typeof r.values=="object"||(rQ(n)||e===!0&&_A(n)||!t&&!_A(n)||r.draggable&&n.startsWith("onDrag"))&&(i[n]=r[n]);return i}function BF(r,t,e){return typeof r=="string"?r:nr.transform(t+e*r)}function Ife(r,t,e){const i=BF(t,r.x,r.width),n=BF(e,r.y,r.height);return`${i} ${n}`}const Cfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ofe={offset:"strokeDashoffset",array:"strokeDasharray"};function kfe(r,t,e=1,i=0,n=!0){r.pathLength=1;const s=n?Cfe:Ofe;r[s.offset]=nr.transform(-i);const a=nr.transform(t),o=nr.transform(e);r[s.array]=`${a} ${o}`}function pj(r,{attrX:t,attrY:e,attrScale:i,originX:n,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,d,p){if(dj(r,c,u,p),d){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:m,style:y,dimensions:M}=r;m.transform&&(M&&(y.transform=m.transform),delete m.transform),M&&(n!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=Ife(M,n!==void 0?n:.5,s!==void 0?s:.5)),t!==void 0&&(m.x=t),e!==void 0&&(m.y=e),i!==void 0&&(m.scale=i),a!==void 0&&kfe(m,a,o,l,!1)}const nQ=()=>({...fj(),attrs:{}}),mj=r=>typeof r=="string"&&r.toLowerCase()==="svg";function Lfe(r,t,e,i){const n=ce.useMemo(()=>{const s=nQ();return pj(s,t,{enableHardwareAcceleration:!1},mj(i),r.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(r.style){const s={};iQ(s,r.style,r),n.style={...s,...n.style}}return n}function jfe(r=!1){return(e,i,n,{latestValues:s},a)=>{const l=(hj(e)?Lfe:Efe)(i,s,a,e),u={...Nfe(i,typeof e=="string",r),...l,ref:n},{children:d}=i,p=ce.useMemo(()=>eu(d)?d.get():d,[d]);return ce.createElement(e,{...u,children:p})}}function sQ(r,{style:t,vars:e},i,n){Object.assign(r.style,t,n&&n.getProjectionStyles(i));for(const s in e)r.style.setProperty(s,e[s])}const aQ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oQ(r,t,e,i){sQ(r,t,void 0,i);for(const n in t.attrs)r.setAttribute(aQ.has(n)?n:lj(n),t.attrs[n])}function gj(r,t){const{style:e}=r,i={};for(const n in e)(eu(e[n])||t.style&&eu(t.style[n])||Xq(n,r))&&(i[n]=e[n]);return i}function lQ(r,t){const e=gj(r,t);for(const i in r)if(eu(r[i])||eu(t[i])){const n=$T.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;e[n]=r[i]}return e}function vj(r,t,e,i={},n={}){return typeof t=="function"&&(t=t(e!==void 0?e:r.custom,i,n)),typeof t=="string"&&(t=r.variants&&r.variants[t]),typeof t=="function"&&(t=t(e!==void 0?e:r.custom,i,n)),t}function _fe(r){const t=ce.useRef(null);return t.current===null&&(t.current=r()),t.current}const zA=r=>Array.isArray(r),zfe=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),Rfe=r=>zA(r)?r[r.length-1]||0:r;function KE(r){const t=eu(r)?r.get():r;return zfe(t)?t.toValue():t}function Pfe({scrapeMotionValuesFromProps:r,createRenderState:t,onMount:e},i,n,s){const a={latestValues:Ffe(i,n,s,r),renderState:t()};return e&&(a.mount=o=>e(i,o,a)),a}const cQ=r=>(t,e)=>{const i=ce.useContext(xN),n=ce.useContext(oj),s=()=>Pfe(r,t,i,n);return e?s():_fe(s)};function Ffe(r,t,e,i){const n={},s=i(r,{});for(const p in s)n[p]=KE(s[p]);let{initial:a,animate:o}=r;const l=TN(r),c=Gq(r);t&&c&&!l&&r.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let u=e?e.initial===!1:!1;u=u||a===!1;const d=u?o:a;return d&&typeof d!="boolean"&&!wN(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const y=vj(r,m);if(!y)return;const{transitionEnd:M,transition:w,...b}=y;for(const D in b){let E=b[D];if(Array.isArray(E)){const N=u?E.length-1:0;E=E[N]}E!==null&&(n[D]=E)}for(const D in M)n[D]=M[D]}),n}const Ya=r=>r;class UF{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const e=this.order.indexOf(t);e!==-1&&(this.order.splice(e,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Bfe(r){let t=new UF,e=new UF,i=0,n=!1,s=!1;const a=new WeakSet,o={schedule:(l,c=!1,u=!1)=>{const d=u&&n,p=d?t:e;return c&&a.add(l),p.add(l)&&d&&n&&(i=t.order.length),l},cancel:l=>{e.remove(l),a.delete(l)},process:l=>{if(n){s=!0;return}if(n=!0,[t,e]=[e,t],e.clear(),i=t.order.length,i)for(let c=0;c<i;c++){const u=t.order[c];u(l),a.has(u)&&(o.schedule(u),r())}n=!1,s&&(s=!1,o.process(l))}};return o}const TD=["prepare","read","update","preRender","render","postRender"],Ufe=40;function Vfe(r,t){let e=!1,i=!0;const n={delta:0,timestamp:0,isProcessing:!1},s=TD.reduce((d,p)=>(d[p]=Bfe(()=>e=!0),d),{}),a=d=>s[d].process(n),o=()=>{const d=performance.now();e=!1,n.delta=i?1e3/60:Math.max(Math.min(d-n.timestamp,Ufe),1),n.timestamp=d,n.isProcessing=!0,TD.forEach(a),n.isProcessing=!1,e&&t&&(i=!1,r(o))},l=()=>{e=!0,i=!0,n.isProcessing||r(o)};return{schedule:TD.reduce((d,p)=>{const m=s[p];return d[p]=(y,M=!1,w=!1)=>(e||l(),m.schedule(y,M,w)),d},{}),cancel:d=>TD.forEach(p=>s[p].cancel(d)),state:n,steps:s}}const{schedule:Ys,cancel:Wp,state:Pl,steps:FC}=Vfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ya,!0),Hfe={useVisualState:cQ({scrapeMotionValuesFromProps:lQ,createRenderState:nQ,onMount:(r,t,{renderState:e,latestValues:i})=>{Ys.read(()=>{try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}),Ys.render(()=>{pj(e,i,{enableHardwareAcceleration:!1},mj(t.tagName),r.transformTemplate),oQ(t,e)})}})},Wfe={useVisualState:cQ({scrapeMotionValuesFromProps:gj,createRenderState:fj})};function Yfe(r,{forwardMotionProps:t=!1},e,i){return{...hj(r)?Hfe:Wfe,preloadedFeatures:e,useRender:jfe(t),createVisualElement:i,Component:r}}function wp(r,t,e,i={passive:!0}){return r.addEventListener(t,e,i),()=>r.removeEventListener(t,e)}const uQ=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1;function DN(r,t="page"){return{point:{x:r[t+"X"],y:r[t+"Y"]}}}const qfe=r=>t=>uQ(t)&&r(t,DN(t));function Op(r,t,e,i){return wp(r,t,qfe(e),i)}const Qfe=(r,t)=>e=>t(r(e)),yg=(...r)=>r.reduce(Qfe);function hQ(r){let t=null;return()=>{const e=()=>{t=null};return t===null?(t=r,e):!1}}const VF=hQ("dragHorizontal"),HF=hQ("dragVertical");function dQ(r){let t=!1;if(r==="y")t=HF();else if(r==="x")t=VF();else{const e=VF(),i=HF();e&&i?t=()=>{e(),i()}:(e&&e(),i&&i())}return t}function fQ(){const r=dQ(!0);return r?(r(),!1):!0}class Wg{constructor(t){this.isMounted=!1,this.node=t}update(){}}function WF(r,t){const e="pointer"+(t?"enter":"leave"),i="onHover"+(t?"Start":"End"),n=(s,a)=>{if(s.pointerType==="touch"||fQ())return;const o=r.getProps();r.animationState&&o.whileHover&&r.animationState.setActive("whileHover",t),o[i]&&Ys.update(()=>o[i](s,a))};return Op(r.current,e,n,{passive:!r.getProps()[i]})}class Gfe extends Wg{mount(){this.unmount=yg(WF(this.node,!0),WF(this.node,!1))}unmount(){}}class Kfe extends Wg{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yg(wp(this.node.current,"focus",()=>this.onFocus()),wp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const pQ=(r,t)=>t?r===t?!0:pQ(r,t.parentElement):!1;function BC(r,t){if(!t)return;const e=new PointerEvent("pointer"+r);t(e,DN(e))}class $fe extends Wg{constructor(){super(...arguments),this.removeStartListeners=Ya,this.removeEndListeners=Ya,this.removeAccessibleListeners=Ya,this.startPointerPress=(t,e)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=Op(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();Ys.update(()=>{!d&&!pQ(this.node.current,o.target)?u&&u(o,l):c&&c(o,l)})},{passive:!(i.onTap||i.onPointerUp)}),a=Op(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=yg(s,a),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||BC("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Ys.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=wp(this.node.current,"keyup",a),BC("down",(o,l)=>{this.startPress(o,l)})},e=wp(this.node.current,"keydown",t),i=()=>{this.isPressing&&BC("cancel",(s,a)=>this.cancelPress(s,a))},n=wp(this.node.current,"blur",i);this.removeAccessibleListeners=yg(e,n)}}startPress(t,e){this.isPressing=!0;const{onTapStart:i,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Ys.update(()=>i(t,e))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!fQ()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Ys.update(()=>i(t,e))}mount(){const t=this.node.getProps(),e=Op(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),i=wp(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=yg(e,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const gO=new WeakMap,UC=new WeakMap,Xfe=r=>{const t=gO.get(r.target);t&&t(r)},Jfe=r=>{r.forEach(Xfe)};function Zfe({root:r,...t}){const e=r||document;UC.has(e)||UC.set(e,{});const i=UC.get(e),n=JSON.stringify(t);return i[n]||(i[n]=new IntersectionObserver(Jfe,{root:r,...t})),i[n]}function epe(r,t,e){const i=Zfe(t);return gO.set(r,e),i.observe(r),()=>{gO.delete(r),i.unobserve(r)}}const tpe={some:0,all:1};class ipe extends Wg{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:n="some",once:s}=t,a={root:e?e.current:void 0,rootMargin:i,threshold:typeof n=="number"?n:tpe[n]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return epe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(rpe(t,e))&&this.startObserver()}unmount(){}}function rpe({viewport:r={}},{viewport:t={}}={}){return e=>r[e]!==t[e]}const npe={inView:{Feature:ipe},tap:{Feature:$fe},focus:{Feature:Kfe},hover:{Feature:Gfe}};function mQ(r,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==r.length)return!1;for(let i=0;i<e;i++)if(t[i]!==r[i])return!1;return!0}function spe(r){const t={};return r.values.forEach((e,i)=>t[i]=e.get()),t}function ape(r){const t={};return r.values.forEach((e,i)=>t[i]=e.getVelocity()),t}function EN(r,t,e){const i=r.getProps();return vj(i,t,e!==void 0?e:i.custom,spe(r),ape(r))}let yj=Ya;const W0=r=>r*1e3,kp=r=>r/1e3,ope={current:!1},gQ=r=>Array.isArray(r)&&typeof r[0]=="number";function vQ(r){return!!(!r||typeof r=="string"&&yQ[r]||gQ(r)||Array.isArray(r)&&r.every(vQ))}const ZM=([r,t,e,i])=>`cubic-bezier(${r}, ${t}, ${e}, ${i})`,yQ={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ZM([0,.65,.55,1]),circOut:ZM([.55,0,1,.45]),backIn:ZM([.31,.01,.66,-.59]),backOut:ZM([.33,1.53,.69,.99])};function xQ(r){if(r)return gQ(r)?ZM(r):Array.isArray(r)?r.map(xQ):yQ[r]}function lpe(r,t,e,{delay:i=0,duration:n,repeat:s=0,repeatType:a="loop",ease:o,times:l}={}){const c={[t]:e};l&&(c.offset=l);const u=xQ(o);return Array.isArray(u)&&(c.easing=u),r.animate(c,{delay:i,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function cpe(r,{repeat:t,repeatType:e="loop"}){const i=t&&e!=="loop"&&t%2===1?0:r.length-1;return r[i]}const MQ=(r,t,e)=>(((1-3*e+3*t)*r+(3*e-6*t))*r+3*t)*r,upe=1e-7,hpe=12;function dpe(r,t,e,i,n){let s,a,o=0;do a=t+(e-t)/2,s=MQ(a,i,n)-r,s>0?e=a:t=a;while(Math.abs(s)>upe&&++o<hpe);return a}function ZT(r,t,e,i){if(r===t&&e===i)return Ya;const n=s=>dpe(s,0,1,r,e);return s=>s===0||s===1?s:MQ(n(s),t,i)}const fpe=ZT(.42,0,1,1),ppe=ZT(0,0,.58,1),wQ=ZT(.42,0,.58,1),mpe=r=>Array.isArray(r)&&typeof r[0]!="number",TQ=r=>t=>t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2,bQ=r=>t=>1-r(1-t),xj=r=>1-Math.sin(Math.acos(r)),DQ=bQ(xj),gpe=TQ(xj),EQ=ZT(.33,1.53,.69,.99),Mj=bQ(EQ),vpe=TQ(Mj),ype=r=>(r*=2)<1?.5*Mj(r):.5*(2-Math.pow(2,-10*(r-1))),xpe={linear:Ya,easeIn:fpe,easeInOut:wQ,easeOut:ppe,circIn:xj,circInOut:gpe,circOut:DQ,backIn:Mj,backInOut:vpe,backOut:EQ,anticipate:ype},YF=r=>{if(Array.isArray(r)){yj(r.length===4);const[t,e,i,n]=r;return ZT(t,e,i,n)}else if(typeof r=="string")return xpe[r];return r},wj=(r,t)=>e=>!!(XT(e)&&Mfe.test(e)&&e.startsWith(r)||t&&Object.prototype.hasOwnProperty.call(e,t)),AQ=(r,t,e)=>i=>{if(!XT(i))return i;const[n,s,a,o]=i.match(bN);return{[r]:parseFloat(n),[t]:parseFloat(s),[e]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Mpe=r=>Sg(0,255,r),VC={...Ov,transform:r=>Math.round(Mpe(r))},B0={test:wj("rgb","red"),parse:AQ("red","green","blue"),transform:({red:r,green:t,blue:e,alpha:i=1})=>"rgba("+VC.transform(r)+", "+VC.transform(t)+", "+VC.transform(e)+", "+pw(fw.transform(i))+")"};function wpe(r){let t="",e="",i="",n="";return r.length>5?(t=r.substring(1,3),e=r.substring(3,5),i=r.substring(5,7),n=r.substring(7,9)):(t=r.substring(1,2),e=r.substring(2,3),i=r.substring(3,4),n=r.substring(4,5),t+=t,e+=e,i+=i,n+=n),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:n?parseInt(n,16)/255:1}}const vO={test:wj("#"),parse:wpe,transform:B0.transform},Gy={test:wj("hsl","hue"),parse:AQ("hue","saturation","lightness"),transform:({hue:r,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(r)+", "+uf.transform(pw(t))+", "+uf.transform(pw(e))+", "+pw(fw.transform(i))+")"},hc={test:r=>B0.test(r)||vO.test(r)||Gy.test(r),parse:r=>B0.test(r)?B0.parse(r):Gy.test(r)?Gy.parse(r):vO.parse(r),transform:r=>XT(r)?r:r.hasOwnProperty("red")?B0.transform(r):Gy.transform(r)},ca=(r,t,e)=>-e*r+e*t+r;function HC(r,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?r+(t-r)*6*e:e<1/2?t:e<2/3?r+(t-r)*(2/3-e)*6:r}function Tpe({hue:r,saturation:t,lightness:e,alpha:i}){r/=360,t/=100,e/=100;let n=0,s=0,a=0;if(!t)n=s=a=e;else{const o=e<.5?e*(1+t):e+t-e*t,l=2*e-o;n=HC(l,o,r+1/3),s=HC(l,o,r),a=HC(l,o,r-1/3)}return{red:Math.round(n*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}const WC=(r,t,e)=>{const i=r*r;return Math.sqrt(Math.max(0,e*(t*t-i)+i))},bpe=[vO,B0,Gy],Dpe=r=>bpe.find(t=>t.test(r));function qF(r){const t=Dpe(r);let e=t.parse(r);return t===Gy&&(e=Tpe(e)),e}const SQ=(r,t)=>{const e=qF(r),i=qF(t),n={...e};return s=>(n.red=WC(e.red,i.red,s),n.green=WC(e.green,i.green,s),n.blue=WC(e.blue,i.blue,s),n.alpha=ca(e.alpha,i.alpha,s),B0.transform(n))};function Epe(r){var t,e;return isNaN(r)&&XT(r)&&(((t=r.match(bN))===null||t===void 0?void 0:t.length)||0)+(((e=r.match(eQ))===null||e===void 0?void 0:e.length)||0)>0}const NQ={regex:yfe,countKey:"Vars",token:"${v}",parse:Ya},IQ={regex:eQ,countKey:"Colors",token:"${c}",parse:hc.parse},CQ={regex:bN,countKey:"Numbers",token:"${n}",parse:Ov.parse};function YC(r,{regex:t,countKey:e,token:i,parse:n}){const s=r.tokenised.match(t);s&&(r["num"+e]=s.length,r.tokenised=r.tokenised.replace(t,i),r.values.push(...s.map(n)))}function RA(r){const t=r.toString(),e={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return e.value.includes("var(--")&&YC(e,NQ),YC(e,IQ),YC(e,CQ),e}function OQ(r){return RA(r).values}function kQ(r){const{values:t,numColors:e,numVars:i,tokenised:n}=RA(r),s=t.length;return a=>{let o=n;for(let l=0;l<s;l++)l<i?o=o.replace(NQ.token,a[l]):l<i+e?o=o.replace(IQ.token,hc.transform(a[l])):o=o.replace(CQ.token,pw(a[l]));return o}}const Ape=r=>typeof r=="number"?0:r;function Spe(r){const t=OQ(r);return kQ(r)(t.map(Ape))}const Ng={test:Epe,parse:OQ,createTransformer:kQ,getAnimatableNone:Spe},LQ=(r,t)=>e=>`${e>0?t:r}`;function jQ(r,t){return typeof r=="number"?e=>ca(r,t,e):hc.test(r)?SQ(r,t):r.startsWith("var(")?LQ(r,t):zQ(r,t)}const _Q=(r,t)=>{const e=[...r],i=e.length,n=r.map((s,a)=>jQ(s,t[a]));return s=>{for(let a=0;a<i;a++)e[a]=n[a](s);return e}},Npe=(r,t)=>{const e={...r,...t},i={};for(const n in e)r[n]!==void 0&&t[n]!==void 0&&(i[n]=jQ(r[n],t[n]));return n=>{for(const s in i)e[s]=i[s](n);return e}},zQ=(r,t)=>{const e=Ng.createTransformer(t),i=RA(r),n=RA(t);return i.numVars===n.numVars&&i.numColors===n.numColors&&i.numNumbers>=n.numNumbers?yg(_Q(i.values,n.values),e):LQ(r,t)},tT=(r,t,e)=>{const i=t-r;return i===0?1:(e-r)/i},QF=(r,t)=>e=>ca(r,t,e);function Ipe(r){return typeof r=="number"?QF:typeof r=="string"?hc.test(r)?SQ:zQ:Array.isArray(r)?_Q:typeof r=="object"?Npe:QF}function Cpe(r,t,e){const i=[],n=e||Ipe(r[0]),s=r.length-1;for(let a=0;a<s;a++){let o=n(r[a],r[a+1]);if(t){const l=Array.isArray(t)?t[a]||Ya:t;o=yg(l,o)}i.push(o)}return i}function RQ(r,t,{clamp:e=!0,ease:i,mixer:n}={}){const s=r.length;if(yj(s===t.length),s===1)return()=>t[0];r[0]>r[s-1]&&(r=[...r].reverse(),t=[...t].reverse());const a=Cpe(t,i,n),o=a.length,l=c=>{let u=0;if(o>1)for(;u<r.length-2&&!(c<r[u+1]);u++);const d=tT(r[u],r[u+1],c);return a[u](d)};return e?c=>l(Sg(r[0],r[s-1],c)):l}function Ope(r,t){const e=r[r.length-1];for(let i=1;i<=t;i++){const n=tT(0,t,i);r.push(ca(e,1,n))}}function kpe(r){const t=[0];return Ope(t,r.length-1),t}function Lpe(r,t){return r.map(e=>e*t)}function jpe(r,t){return r.map(()=>t||wQ).splice(0,r.length-1)}function PA({duration:r=300,keyframes:t,times:e,ease:i="easeInOut"}){const n=mpe(i)?i.map(YF):YF(i),s={done:!1,value:t[0]},a=Lpe(e&&e.length===t.length?e:kpe(t),r),o=RQ(a,t,{ease:Array.isArray(n)?n:jpe(t,n)});return{calculatedDuration:r,next:l=>(s.value=o(l),s.done=l>=r,s)}}function PQ(r,t){return t?r*(1e3/t):0}const _pe=5;function FQ(r,t,e){const i=Math.max(t-_pe,0);return PQ(e-r(i),t-i)}const qC=.001,zpe=.01,Rpe=10,Ppe=.05,Fpe=1;function Bpe({duration:r=800,bounce:t=.25,velocity:e=0,mass:i=1}){let n,s,a=1-t;a=Sg(Ppe,Fpe,a),r=Sg(zpe,Rpe,kp(r)),a<1?(n=c=>{const u=c*a,d=u*r,p=u-e,m=yO(c,a),y=Math.exp(-d);return qC-p/m*y},s=c=>{const d=c*a*r,p=d*e+e,m=Math.pow(a,2)*Math.pow(c,2)*r,y=Math.exp(-d),M=yO(Math.pow(c,2),a);return(-n(c)+qC>0?-1:1)*((p-m)*y)/M}):(n=c=>{const u=Math.exp(-c*r),d=(c-e)*r+1;return-qC+u*d},s=c=>{const u=Math.exp(-c*r),d=(e-c)*(r*r);return u*d});const o=5/r,l=Vpe(n,s,o);if(r=W0(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:r}}}const Upe=12;function Vpe(r,t,e){let i=e;for(let n=1;n<Upe;n++)i=i-r(i)/t(i);return i}function yO(r,t){return r*Math.sqrt(1-t*t)}const Hpe=["duration","bounce"],Wpe=["stiffness","damping","mass"];function GF(r,t){return t.some(e=>r[e]!==void 0)}function Ype(r){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...r};if(!GF(r,Wpe)&&GF(r,Hpe)){const e=Bpe(r);t={...t,...e,mass:1},t.isResolvedFromDuration=!0}return t}function BQ({keyframes:r,restDelta:t,restSpeed:e,...i}){const n=r[0],s=r[r.length-1],a={done:!1,value:n},{stiffness:o,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:p}=Ype({...i,velocity:-kp(i.velocity||0)}),m=d||0,y=l/(2*Math.sqrt(o*c)),M=s-n,w=kp(Math.sqrt(o/c)),b=Math.abs(M)<5;e||(e=b?.01:2),t||(t=b?.005:.5);let D;if(y<1){const E=yO(w,y);D=N=>{const B=Math.exp(-y*w*N);return s-B*((m+y*w*M)/E*Math.sin(E*N)+M*Math.cos(E*N))}}else if(y===1)D=E=>s-Math.exp(-w*E)*(M+(m+w*M)*E);else{const E=w*Math.sqrt(y*y-1);D=N=>{const B=Math.exp(-y*w*N),P=Math.min(E*N,300);return s-B*((m+y*w*M)*Math.sinh(P)+E*M*Math.cosh(P))/E}}return{calculatedDuration:p&&u||null,next:E=>{const N=D(E);if(p)a.done=E>=u;else{let B=m;E!==0&&(y<1?B=FQ(D,E,N):B=0);const P=Math.abs(B)<=e,C=Math.abs(s-N)<=t;a.done=P&&C}return a.value=a.done?s:N,a}}}function KF({keyframes:r,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:n=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=r[0],p={done:!1,value:d},m=k=>o!==void 0&&k<o||l!==void 0&&k>l,y=k=>o===void 0?l:l===void 0||Math.abs(o-k)<Math.abs(l-k)?o:l;let M=e*t;const w=d+M,b=a===void 0?w:a(w);b!==w&&(M=b-d);const D=k=>-M*Math.exp(-k/i),E=k=>b+D(k),N=k=>{const _=D(k),H=E(k);p.done=Math.abs(_)<=c,p.value=p.done?b:H};let B,P;const C=k=>{m(p.value)&&(B=k,P=BQ({keyframes:[p.value,y(p.value)],velocity:FQ(E,k,p.value),damping:n,stiffness:s,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:k=>{let _=!1;return!P&&B===void 0&&(_=!0,N(k),C(k)),B!==void 0&&k>B?P.next(k-B):(!_&&N(k),p)}}}const qpe=r=>{const t=({timestamp:e})=>r(e);return{start:()=>Ys.update(t,!0),stop:()=>Wp(t),now:()=>Pl.isProcessing?Pl.timestamp:performance.now()}},$F=2e4;function XF(r){let t=0;const e=50;let i=r.next(t);for(;!i.done&&t<$F;)t+=e,i=r.next(t);return t>=$F?1/0:t}const Qpe={decay:KF,inertia:KF,tween:PA,keyframes:PA,spring:BQ};function FA({autoplay:r=!0,delay:t=0,driver:e=qpe,keyframes:i,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...p}){let m=1,y=!1,M,w;const b=()=>{w=new Promise(ae=>{M=ae})};b();let D;const E=Qpe[n]||PA;let N;E!==PA&&typeof i[0]!="number"&&(N=RQ([0,100],i,{clamp:!1}),i=[0,100]);const B=E({...p,keyframes:i});let P;o==="mirror"&&(P=E({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let C="idle",k=null,_=null,H=null;B.calculatedDuration===null&&s&&(B.calculatedDuration=XF(B));const{calculatedDuration:j}=B;let z=1/0,F=1/0;j!==null&&(z=j+a,F=z*(s+1)-a);let X=0;const J=ae=>{if(_===null)return;m>0&&(_=Math.min(_,ae)),m<0&&(_=Math.min(ae-F/m,_)),k!==null?X=k:X=Math.round(ae-_)*m;const L=X-t*(m>=0?1:-1),Y=m>=0?L<0:L>F;X=Math.max(L,0),C==="finished"&&k===null&&(X=F);let G=X,Q=B;if(s){const ve=Math.min(X,F)/z;let Ie=Math.floor(ve),Je=ve%1;!Je&&ve>=1&&(Je=1),Je===1&&Ie--,Ie=Math.min(Ie,s+1),!!(Ie%2)&&(o==="reverse"?(Je=1-Je,a&&(Je-=a/z)):o==="mirror"&&(Q=P)),G=Sg(0,1,Je)*z}const te=Y?{done:!1,value:i[0]}:Q.next(G);N&&(te.value=N(te.value));let{done:le}=te;!Y&&j!==null&&(le=m>=0?X>=F:X<=0);const Me=k===null&&(C==="finished"||C==="running"&&le);return d&&d(te.value),Me&&re(),te},U=()=>{D&&D.stop(),D=void 0},W=()=>{C="idle",U(),M(),b(),_=H=null},re=()=>{C="finished",u&&u(),U(),M()},Z=()=>{if(y)return;D||(D=e(J));const ae=D.now();l&&l(),k!==null?_=ae-k:(!_||C==="finished")&&(_=ae),C==="finished"&&b(),H=_,k=null,C="running",D.start()};r&&Z();const Ee={then(ae,L){return w.then(ae,L)},get time(){return kp(X)},set time(ae){ae=W0(ae),X=ae,k!==null||!D||m===0?k=ae:_=D.now()-ae/m},get duration(){const ae=B.calculatedDuration===null?XF(B):B.calculatedDuration;return kp(ae)},get speed(){return m},set speed(ae){ae===m||!D||(m=ae,Ee.time=kp(X))},get state(){return C},play:Z,pause:()=>{C="paused",k=X},stop:()=>{y=!0,C!=="idle"&&(C="idle",c&&c(),W())},cancel:()=>{H!==null&&J(H),W()},complete:()=>{C="finished"},sample:ae=>(_=0,J(ae))};return Ee}function Gpe(r){let t;return()=>(t===void 0&&(t=r()),t)}const Kpe=Gpe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$pe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),bD=10,Xpe=2e4,Jpe=(r,t)=>t.type==="spring"||r==="backgroundColor"||!vQ(t.ease);function Zpe(r,t,{onUpdate:e,onComplete:i,...n}){if(!(Kpe()&&$pe.has(t)&&!n.repeatDelay&&n.repeatType!=="mirror"&&n.damping!==0&&n.type!=="inertia"))return!1;let a=!1,o,l,c=!1;const u=()=>{l=new Promise(E=>{o=E})};u();let{keyframes:d,duration:p=300,ease:m,times:y}=n;if(Jpe(t,n)){const E=FA({...n,repeat:0,delay:0});let N={done:!1,value:d[0]};const B=[];let P=0;for(;!N.done&&P<Xpe;)N=E.sample(P),B.push(N.value),P+=bD;y=void 0,d=B,p=P-bD,m="linear"}const M=lpe(r.owner.current,t,d,{...n,duration:p,ease:m,times:y}),w=()=>{c=!1,M.cancel()},b=()=>{c=!0,Ys.update(w),o(),u()};return M.onfinish=()=>{c||(r.set(cpe(d,n)),i&&i(),b())},{then(E,N){return l.then(E,N)},attachTimeline(E){return M.timeline=E,M.onfinish=null,Ya},get time(){return kp(M.currentTime||0)},set time(E){M.currentTime=W0(E)},get speed(){return M.playbackRate},set speed(E){M.playbackRate=E},get duration(){return kp(p)},play:()=>{a||(M.play(),Wp(w))},pause:()=>M.pause(),stop:()=>{if(a=!0,M.playState==="idle")return;const{currentTime:E}=M;if(E){const N=FA({...n,autoplay:!1});r.setWithVelocity(N.sample(E-bD).value,N.sample(E).value,bD)}b()},complete:()=>{c||M.finish()},cancel:b}}function eme({keyframes:r,delay:t,onUpdate:e,onComplete:i}){const n=()=>(e&&e(r[r.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Ya,pause:Ya,stop:Ya,then:s=>(s(),Promise.resolve()),cancel:Ya,complete:Ya});return t?FA({keyframes:[0,1],duration:0,delay:t,onComplete:n}):n()}const tme={type:"spring",stiffness:500,damping:25,restSpeed:10},ime=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),rme={type:"keyframes",duration:.8},nme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sme=(r,{keyframes:t})=>t.length>2?rme:Cv.has(r)?r.startsWith("scale")?ime(t[1]):tme:nme,xO=(r,t)=>r==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ng.test(t)||t==="0")&&!t.startsWith("url(")),ame=new Set(["brightness","contrast","saturate","opacity"]);function ome(r){const[t,e]=r.slice(0,-1).split("(");if(t==="drop-shadow")return r;const[i]=e.match(bN)||[];if(!i)return r;const n=e.replace(i,"");let s=ame.has(t)?1:0;return i!==e&&(s*=100),t+"("+s+n+")"}const lme=/([a-z-]*)\(.*?\)/g,MO={...Ng,getAnimatableNone:r=>{const t=r.match(lme);return t?t.map(ome).join(" "):r}},cme={...tQ,color:hc,backgroundColor:hc,outlineColor:hc,fill:hc,stroke:hc,borderColor:hc,borderTopColor:hc,borderRightColor:hc,borderBottomColor:hc,borderLeftColor:hc,filter:MO,WebkitFilter:MO},Tj=r=>cme[r];function UQ(r,t){let e=Tj(r);return e!==MO&&(e=Ng),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const VQ=r=>/^0[^.\s]+$/.test(r);function ume(r){if(typeof r=="number")return r===0;if(r!==null)return r==="none"||r==="0"||VQ(r)}function hme(r,t,e,i){const n=xO(t,e);let s;Array.isArray(e)?s=[...e]:s=[null,e];const a=i.from!==void 0?i.from:r.get();let o;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?a:s[c-1]),ume(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(o=s[c]);if(n&&l.length&&o)for(let c=0;c<l.length;c++){const u=l[c];s[u]=UQ(t,o)}return s}function dme({when:r,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:n,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function bj(r,t){return r[t]||r.default||r}const fme={skipAnimations:!1},Dj=(r,t,e,i={})=>n=>{const s=bj(i,r)||{},a=s.delay||i.delay||0;let{elapsed:o=0}=i;o=o-W0(a);const l=hme(t,r,e,s),c=l[0],u=l[l.length-1],d=xO(r,c),p=xO(r,u);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:y=>{t.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{n(),s.onComplete&&s.onComplete()}};if(dme(s)||(m={...m,...sme(r,m)}),m.duration&&(m.duration=W0(m.duration)),m.repeatDelay&&(m.repeatDelay=W0(m.repeatDelay)),!d||!p||ope.current||s.type===!1||fme.skipAnimations)return eme(m);if(!i.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=Zpe(t,r,m);if(y)return y}return FA(m)};function BA(r){return!!(eu(r)&&r.add)}const HQ=r=>/^\-?\d*\.?\d+$/.test(r);function Ej(r,t){r.indexOf(t)===-1&&r.push(t)}function Aj(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}class Sj{constructor(){this.subscriptions=[]}add(t){return Ej(this.subscriptions,t),()=>Aj(this.subscriptions,t)}notify(t,e,i){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,e,i);else for(let s=0;s<n;s++){const a=this.subscriptions[s];a&&a(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pme=r=>!isNaN(parseFloat(r));class mme{constructor(t,e={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,n=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:a}=Pl;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,Ys.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ys.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=pme(this.current),this.owner=e.owner}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Sj);const i=this.events[t].add(e);return t==="change"?()=>{i(),Ys.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=t,this.timeDelta=i}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?PQ(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function L1(r,t){return new mme(r,t)}const WQ=r=>t=>t.test(r),gme={test:r=>r==="auto",parse:r=>r},YQ=[Ov,nr,uf,Wm,Tfe,wfe,gme],Qx=r=>YQ.find(WQ(r)),vme=[...YQ,hc,Ng],yme=r=>vme.find(WQ(r));function xme(r,t,e){r.hasValue(t)?r.getValue(t).set(e):r.addValue(t,L1(e))}function Mme(r,t){const e=EN(r,t);let{transitionEnd:i={},transition:n={},...s}=e?r.makeTargetAnimatable(e,!1):{};s={...s,...i};for(const a in s){const o=Rfe(s[a]);xme(r,a,o)}}function wme(r,t,e){var i,n;const s=Object.keys(t).filter(o=>!r.hasValue(o)),a=s.length;if(a)for(let o=0;o<a;o++){const l=s[o],c=t[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(n=(i=e[l])!==null&&i!==void 0?i:r.readValue(l))!==null&&n!==void 0?n:t[l]),u!=null&&(typeof u=="string"&&(HQ(u)||VQ(u))?u=parseFloat(u):!yme(u)&&Ng.test(c)&&(u=UQ(l,c)),r.addValue(l,L1(u,{owner:r})),e[l]===void 0&&(e[l]=u),u!==null&&r.setBaseTarget(l,u))}}function Tme(r,t){return t?(t[r]||t.default||t).from:void 0}function bme(r,t,e){const i={};for(const n in r){const s=Tme(n,t);if(s!==void 0)i[n]=s;else{const a=e.getValue(n);a&&(i[n]=a.get())}}return i}function Dme({protectedKeys:r,needsAnimating:t},e){const i=r.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function Eme(r,t){const e=r.get();if(Array.isArray(t)){for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}else return e!==t}function qQ(r,t,{delay:e=0,transitionOverride:i,type:n}={}){let{transition:s=r.getDefaultTransition(),transitionEnd:a,...o}=r.makeTargetAnimatable(t);const l=r.getValue("willChange");i&&(s=i);const c=[],u=n&&r.animationState&&r.animationState.getState()[n];for(const d in o){const p=r.getValue(d),m=o[d];if(!p||m===void 0||u&&Dme(u,d))continue;const y={delay:e,elapsed:0,...bj(s||{},d)};if(window.HandoffAppearAnimations){const b=r.getProps()[Qq];if(b){const D=window.HandoffAppearAnimations(b,d,p,Ys);D!==null&&(y.elapsed=D,y.isHandoff=!0)}}let M=!y.isHandoff&&!Eme(p,m);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(M=!1),p.animation&&(M=!1),M)continue;p.start(Dj(d,p,m,r.shouldReduceMotion&&Cv.has(d)?{type:!1}:y));const w=p.animation;BA(l)&&(l.add(d),w.then(()=>l.remove(d))),c.push(w)}return a&&Promise.all(c).then(()=>{a&&Mme(r,a)}),c}function wO(r,t,e={}){const i=EN(r,t,e.custom);let{transition:n=r.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(n=e.transitionOverride);const s=i?()=>Promise.all(qQ(r,i,e)):()=>Promise.resolve(),a=r.variantChildren&&r.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=n;return Ame(r,t,c+l,u,d,e)}:()=>Promise.resolve(),{when:o}=n;if(o){const[l,c]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(e.delay)])}function Ame(r,t,e=0,i=0,n=1,s){const a=[],o=(r.variantChildren.size-1)*i,l=n===1?(c=0)=>c*i:(c=0)=>o-c*i;return Array.from(r.variantChildren).sort(Sme).forEach((c,u)=>{c.notify("AnimationStart",t),a.push(wO(c,t,{...s,delay:e+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(a)}function Sme(r,t){return r.sortNodePosition(t)}function Nme(r,t,e={}){r.notify("AnimationStart",t);let i;if(Array.isArray(t)){const n=t.map(s=>wO(r,s,e));i=Promise.all(n)}else if(typeof t=="string")i=wO(r,t,e);else{const n=typeof t=="function"?EN(r,t,e.custom):t;i=Promise.all(qQ(r,n,e))}return i.then(()=>r.notify("AnimationComplete",t))}const Ime=[...cj].reverse(),Cme=cj.length;function Ome(r){return t=>Promise.all(t.map(({animation:e,options:i})=>Nme(r,e,i)))}function kme(r){let t=Ome(r);const e=jme();let i=!0;const n=(l,c)=>{const u=EN(r,c);if(u){const{transition:d,transitionEnd:p,...m}=u;l={...l,...m,...p}}return l};function s(l){t=l(r)}function a(l,c){const u=r.getProps(),d=r.getVariantContext(!0)||{},p=[],m=new Set;let y={},M=1/0;for(let b=0;b<Cme;b++){const D=Ime[b],E=e[D],N=u[D]!==void 0?u[D]:d[D],B=Zw(N),P=D===c?E.isActive:null;P===!1&&(M=b);let C=N===d[D]&&N!==u[D]&&B;if(C&&i&&r.manuallyAnimateOnMount&&(C=!1),E.protectedKeys={...y},!E.isActive&&P===null||!N&&!E.prevProp||wN(N)||typeof N=="boolean")continue;let _=Lme(E.prevProp,N)||D===c&&E.isActive&&!C&&B||b>M&&B,H=!1;const j=Array.isArray(N)?N:[N];let z=j.reduce(n,{});P===!1&&(z={});const{prevResolvedValues:F={}}=E,X={...F,...z},J=U=>{_=!0,m.has(U)&&(H=!0,m.delete(U)),E.needsAnimating[U]=!0};for(const U in X){const W=z[U],re=F[U];if(y.hasOwnProperty(U))continue;let Z=!1;zA(W)&&zA(re)?Z=!mQ(W,re):Z=W!==re,Z?W!==void 0?J(U):m.add(U):W!==void 0&&m.has(U)?J(U):E.protectedKeys[U]=!0}E.prevProp=N,E.prevResolvedValues=z,E.isActive&&(y={...y,...z}),i&&r.blockInitialAnimation&&(_=!1),_&&(!C||H)&&p.push(...j.map(U=>({animation:U,options:{type:D,...l}})))}if(m.size){const b={};m.forEach(D=>{const E=r.getBaseTarget(D);E!==void 0&&(b[D]=E)}),p.push({animation:b})}let w=!!p.length;return i&&(u.initial===!1||u.initial===u.animate)&&!r.manuallyAnimateOnMount&&(w=!1),i=!1,w?t(p):Promise.resolve()}function o(l,c,u){var d;if(e[l].isActive===c)return Promise.resolve();(d=r.variantChildren)===null||d===void 0||d.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),e[l].isActive=c;const p=a(u,l);for(const m in e)e[m].protectedKeys={};return p}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>e}}function Lme(r,t){return typeof t=="string"?t!==r:Array.isArray(t)?!mQ(t,r):!1}function h0(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jme(){return{animate:h0(!0),whileInView:h0(),whileHover:h0(),whileTap:h0(),whileDrag:h0(),whileFocus:h0(),exit:h0()}}class _me extends Wg{constructor(t){super(t),t.animationState||(t.animationState=kme(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),wN(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){}}let zme=0;class Rme extends Wg{constructor(){super(...arguments),this.id=zme++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e,custom:i}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t,{custom:i??this.node.getProps().custom});e&&!t&&s.then(()=>e(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Pme={animation:{Feature:_me},exit:{Feature:Rme}},JF=(r,t)=>Math.abs(r-t);function Fme(r,t){const e=JF(r.x,t.x),i=JF(r.y,t.y);return Math.sqrt(e**2+i**2)}class QQ{constructor(t,e,{transformPagePoint:i,contextWindow:n,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=GC(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Fme(d.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=d,{timestamp:M}=Pl;this.history.push({...y,timestamp:M});const{onStart:w,onMove:b}=this.handlers;p||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=QC(p,this.transformPagePoint),Ys.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=GC(d.type==="pointercancel"?this.lastMoveEventInfo:QC(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,w),y&&y(d,w)},!uQ(t))return;this.dragSnapToOrigin=s,this.handlers=e,this.transformPagePoint=i,this.contextWindow=n||window;const a=DN(t),o=QC(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Pl;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=e;u&&u(t,GC(o,this.history)),this.removeListeners=yg(Op(this.contextWindow,"pointermove",this.handlePointerMove),Op(this.contextWindow,"pointerup",this.handlePointerUp),Op(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Wp(this.updatePoint)}}function QC(r,t){return t?{point:t(r.point)}:r}function ZF(r,t){return{x:r.x-t.x,y:r.y-t.y}}function GC({point:r},t){return{point:r,delta:ZF(r,GQ(t)),offset:ZF(r,Bme(t)),velocity:Ume(t,.1)}}function Bme(r){return r[0]}function GQ(r){return r[r.length-1]}function Ume(r,t){if(r.length<2)return{x:0,y:0};let e=r.length-1,i=null;const n=GQ(r);for(;e>=0&&(i=r[e],!(n.timestamp-i.timestamp>W0(t)));)e--;if(!i)return{x:0,y:0};const s=kp(n.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const a={x:(n.x-i.x)/s,y:(n.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Su(r){return r.max-r.min}function TO(r,t=0,e=.01){return Math.abs(r-t)<=e}function e6(r,t,e,i=.5){r.origin=i,r.originPoint=ca(t.min,t.max,r.origin),r.scale=Su(e)/Su(t),(TO(r.scale,1,1e-4)||isNaN(r.scale))&&(r.scale=1),r.translate=ca(e.min,e.max,r.origin)-r.originPoint,(TO(r.translate)||isNaN(r.translate))&&(r.translate=0)}function mw(r,t,e,i){e6(r.x,t.x,e.x,i?i.originX:void 0),e6(r.y,t.y,e.y,i?i.originY:void 0)}function t6(r,t,e){r.min=e.min+t.min,r.max=r.min+Su(t)}function Vme(r,t,e){t6(r.x,t.x,e.x),t6(r.y,t.y,e.y)}function i6(r,t,e){r.min=t.min-e.min,r.max=r.min+Su(t)}function gw(r,t,e){i6(r.x,t.x,e.x),i6(r.y,t.y,e.y)}function Hme(r,{min:t,max:e},i){return t!==void 0&&r<t?r=i?ca(t,r,i.min):Math.max(r,t):e!==void 0&&r>e&&(r=i?ca(e,r,i.max):Math.min(r,e)),r}function r6(r,t,e){return{min:t!==void 0?r.min+t:void 0,max:e!==void 0?r.max+e-(r.max-r.min):void 0}}function Wme(r,{top:t,left:e,bottom:i,right:n}){return{x:r6(r.x,e,n),y:r6(r.y,t,i)}}function n6(r,t){let e=t.min-r.min,i=t.max-r.max;return t.max-t.min<r.max-r.min&&([e,i]=[i,e]),{min:e,max:i}}function Yme(r,t){return{x:n6(r.x,t.x),y:n6(r.y,t.y)}}function qme(r,t){let e=.5;const i=Su(r),n=Su(t);return n>i?e=tT(t.min,t.max-i,r.min):i>n&&(e=tT(r.min,r.max-n,t.min)),Sg(0,1,e)}function Qme(r,t){const e={};return t.min!==void 0&&(e.min=t.min-r.min),t.max!==void 0&&(e.max=t.max-r.min),e}const bO=.35;function Gme(r=bO){return r===!1?r=0:r===!0&&(r=bO),{x:s6(r,"left","right"),y:s6(r,"top","bottom")}}function s6(r,t,e){return{min:a6(r,t),max:a6(r,e)}}function a6(r,t){return typeof r=="number"?r:r[t]||0}const o6=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ky=()=>({x:o6(),y:o6()}),l6=()=>({min:0,max:0}),ao=()=>({x:l6(),y:l6()});function ah(r){return[r("x"),r("y")]}function KQ({top:r,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:r,max:i}}}function Kme({x:r,y:t}){return{top:t.min,right:r.max,bottom:t.max,left:r.min}}function $me(r,t){if(!t)return r;const e=t({x:r.left,y:r.top}),i=t({x:r.right,y:r.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function KC(r){return r===void 0||r===1}function DO({scale:r,scaleX:t,scaleY:e}){return!KC(r)||!KC(t)||!KC(e)}function I0(r){return DO(r)||$Q(r)||r.z||r.rotate||r.rotateX||r.rotateY}function $Q(r){return c6(r.x)||c6(r.y)}function c6(r){return r&&r!=="0%"}function UA(r,t,e){const i=r-e,n=t*i;return e+n}function u6(r,t,e,i,n){return n!==void 0&&(r=UA(r,n,i)),UA(r,e,i)+t}function EO(r,t=0,e=1,i,n){r.min=u6(r.min,t,e,i,n),r.max=u6(r.max,t,e,i,n)}function XQ(r,{x:t,y:e}){EO(r.x,t.translate,t.scale,t.originPoint),EO(r.y,e.translate,e.scale,e.originPoint)}function Xme(r,t,e,i=!1){const n=e.length;if(!n)return;t.x=t.y=1;let s,a;for(let o=0;o<n;o++){s=e[o],a=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&$y(r,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,XQ(r,a)),i&&I0(s.latestValues)&&$y(r,s.latestValues))}t.x=h6(t.x),t.y=h6(t.y)}function h6(r){return Number.isInteger(r)||r>1.0000000000001||r<.999999999999?r:1}function Qm(r,t){r.min=r.min+t,r.max=r.max+t}function d6(r,t,[e,i,n]){const s=t[n]!==void 0?t[n]:.5,a=ca(r.min,r.max,s);EO(r,t[e],t[i],a,t.scale)}const Jme=["x","scaleX","originX"],Zme=["y","scaleY","originY"];function $y(r,t){d6(r.x,t,Jme),d6(r.y,t,Zme)}function JQ(r,t){return KQ($me(r.getBoundingClientRect(),t))}function ege(r,t,e){const i=JQ(r,e),{scroll:n}=t;return n&&(Qm(i.x,n.offset.x),Qm(i.y,n.offset.y)),i}const ZQ=({current:r})=>r?r.ownerDocument.defaultView:null,tge=new WeakMap;class ige{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ao(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const n=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(DN(u,"page").point)},s=(u,d)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dQ(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ah(w=>{let b=this.getAxisMotionValue(w).get()||0;if(uf.test(b)){const{projection:D}=this.visualElement;if(D&&D.layout){const E=D.layout.layoutBox[w];E&&(b=Su(E)*(parseFloat(b)/100))}}this.originPoint[w]=b}),y&&Ys.update(()=>y(u,d),!1,!0);const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},a=(u,d)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:M}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:w}=d;if(m&&this.currentDirection===null){this.currentDirection=rge(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),M&&M(u,d)},o=(u,d)=>this.stop(u,d),l=()=>ah(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new QQ(t,{onSessionStart:n,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ZQ(this.visualElement)})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:n}=e;this.startAnimation(n);const{onDragEnd:s}=this.getProps();s&&Ys.update(()=>s(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:n}=this.getProps();if(!i||!DD(t,n,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(a=Hme(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:i}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;e&&Qy(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Wme(n.layoutBox,e):this.constraints=!1,this.elastic=Gme(i),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ah(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=Qme(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Qy(t))return!1;const i=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const s=ege(i,n.root,this.visualElement.getTransformPagePoint());let a=Yme(n.layout.layoutBox,s);if(e){const o=e(Kme(a));this.hasMutatedConstraints=!!o,o&&(a=KQ(o))}return a}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:n,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=ah(u=>{if(!DD(u,e,this.currentDirection))return;let d=l&&l[u]||{};a&&(d={min:0,max:0});const p=n?200:1e6,m=n?40:1e7,y={type:"inertia",velocity:i?t[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(o)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return i.start(Dj(t,i,0,e))}stopAnimation(){ah(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ah(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e="_drag"+t.toUpperCase(),i=this.visualElement.getProps(),n=i[e];return n||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ah(e=>{const{drag:i}=this.getProps();if(!DD(e,i,this.currentDirection))return;const{projection:n}=this.visualElement,s=this.getAxisMotionValue(e);if(n&&n.layout){const{min:a,max:o}=n.layout.layoutBox[e];s.set(t[e]-ca(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Qy(e)||!i||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};ah(a=>{const o=this.getAxisMotionValue(a);if(o){const l=o.get();n[a]=qme({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ah(a=>{if(!DD(a,t,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(ca(l,c,n[a]))})}addListeners(){if(!this.visualElement.current)return;tge.set(this.visualElement,this);const t=this.visualElement.current,e=Op(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Qy(l)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,s=n.addEventListener("measure",i);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),i();const a=wp(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ah(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())}));return()=>{a(),e(),s(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:n=!1,dragConstraints:s=!1,dragElastic:a=bO,dragMomentum:o=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:n,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function DD(r,t,e){return(t===!0||t===r)&&(e===null||e===r)}function rge(r,t=10){let e=null;return Math.abs(r.y)>t?e="y":Math.abs(r.x)>t&&(e="x"),e}class nge extends Wg{constructor(t){super(t),this.removeGroupControls=Ya,this.removeListeners=Ya,this.controls=new ige(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ya}unmount(){this.removeGroupControls(),this.removeListeners()}}const f6=r=>(t,e)=>{r&&Ys.update(()=>r(t,e))};class sge extends Wg{constructor(){super(...arguments),this.removePointerDownListener=Ya}onPointerDown(t){this.session=new QQ(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZQ(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:n}=this.node.getProps();return{onSessionStart:f6(t),onStart:f6(e),onMove:i,onEnd:(s,a)=>{delete this.session,n&&Ys.update(()=>n(s,a))}}}mount(){this.removePointerDownListener=Op(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function age(){const r=ce.useContext(oj);if(r===null)return[!0,null];const{isPresent:t,onExitComplete:e,register:i}=r,n=ce.useId();return ce.useEffect(()=>i(n),[]),!t&&e?[!1,()=>e&&e(n)]:[!0]}const $E={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function p6(r,t){return t.max===t.min?0:r/(t.max-t.min)*100}const Gx={correct:(r,t)=>{if(!t.target)return r;if(typeof r=="string")if(nr.test(r))r=parseFloat(r);else return r;const e=p6(r,t.target.x),i=p6(r,t.target.y);return`${e}% ${i}%`}},oge={correct:(r,{treeScale:t,projectionDelta:e})=>{const i=r,n=Ng.parse(r);if(n.length>5)return i;const s=Ng.createTransformer(r),a=typeof n[0]!="number"?1:0,o=e.x.scale*t.x,l=e.y.scale*t.y;n[0+a]/=o,n[1+a]/=l;const c=ca(o,l,.5);return typeof n[2+a]=="number"&&(n[2+a]/=c),typeof n[3+a]=="number"&&(n[3+a]/=c),s(n)}};class lge extends mf.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:n}=this.props,{projection:s}=t;pfe(cge),s&&(e.group&&e.group.add(s),i&&i.register&&n&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),$E.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:n,isPresent:s}=this.props,a=i.projection;return a&&(a.isPresent=s,n||t.layoutDependency!==e||e===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||Ys.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(n),i&&i.deregister&&i.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function eG(r){const[t,e]=age(),i=ce.useContext(Kq);return mf.createElement(lge,{...r,layoutGroup:i,switchLayoutGroup:ce.useContext($q),isPresent:t,safeToRemove:e})}const cge={borderRadius:{...Gx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gx,borderTopRightRadius:Gx,borderBottomLeftRadius:Gx,borderBottomRightRadius:Gx,boxShadow:oge},tG=["TopLeft","TopRight","BottomLeft","BottomRight"],uge=tG.length,m6=r=>typeof r=="string"?parseFloat(r):r,g6=r=>typeof r=="number"||nr.test(r);function hge(r,t,e,i,n,s){n?(r.opacity=ca(0,e.opacity!==void 0?e.opacity:1,dge(i)),r.opacityExit=ca(t.opacity!==void 0?t.opacity:1,0,fge(i))):s&&(r.opacity=ca(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,i));for(let a=0;a<uge;a++){const o=`border${tG[a]}Radius`;let l=v6(t,o),c=v6(e,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||g6(l)===g6(c)?(r[o]=Math.max(ca(m6(l),m6(c),i),0),(uf.test(c)||uf.test(l))&&(r[o]+="%")):r[o]=c}(t.rotate||e.rotate)&&(r.rotate=ca(t.rotate||0,e.rotate||0,i))}function v6(r,t){return r[t]!==void 0?r[t]:r.borderRadius}const dge=iG(0,.5,DQ),fge=iG(.5,.95,Ya);function iG(r,t,e){return i=>i<r?0:i>t?1:e(tT(r,t,i))}function y6(r,t){r.min=t.min,r.max=t.max}function Qu(r,t){y6(r.x,t.x),y6(r.y,t.y)}function x6(r,t,e,i,n){return r-=t,r=UA(r,1/e,i),n!==void 0&&(r=UA(r,1/n,i)),r}function pge(r,t=0,e=1,i=.5,n,s=r,a=r){if(uf.test(t)&&(t=parseFloat(t),t=ca(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=ca(s.min,s.max,i);r===s&&(o-=t),r.min=x6(r.min,t,e,o,n),r.max=x6(r.max,t,e,o,n)}function M6(r,t,[e,i,n],s,a){pge(r,t[e],t[i],t[n],t.scale,s,a)}const mge=["x","scaleX","originX"],gge=["y","scaleY","originY"];function w6(r,t,e,i){M6(r.x,t,mge,e?e.x:void 0,i?i.x:void 0),M6(r.y,t,gge,e?e.y:void 0,i?i.y:void 0)}function T6(r){return r.translate===0&&r.scale===1}function rG(r){return T6(r.x)&&T6(r.y)}function vge(r,t){return r.x.min===t.x.min&&r.x.max===t.x.max&&r.y.min===t.y.min&&r.y.max===t.y.max}function nG(r,t){return Math.round(r.x.min)===Math.round(t.x.min)&&Math.round(r.x.max)===Math.round(t.x.max)&&Math.round(r.y.min)===Math.round(t.y.min)&&Math.round(r.y.max)===Math.round(t.y.max)}function b6(r){return Su(r.x)/Su(r.y)}class yge{constructor(){this.members=[]}add(t){Ej(this.members,t),t.scheduleRender()}remove(t){if(Aj(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(n=>t===n);if(e===0)return!1;let i;for(let n=e;n>=0;n--){const s=this.members[n];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function D6(r,t,e){let i="";const n=r.x.translate/t.x,s=r.y.translate/t.y;if((n||s)&&(i=`translate3d(${n}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{rotate:l,rotateX:c,rotateY:u}=e;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),u&&(i+=`rotateY(${u}deg) `)}const a=r.x.scale*t.x,o=r.y.scale*t.y;return(a!==1||o!==1)&&(i+=`scale(${a}, ${o})`),i||"none"}const xge=(r,t)=>r.depth-t.depth;class Mge{constructor(){this.children=[],this.isDirty=!1}add(t){Ej(this.children,t),this.isDirty=!0}remove(t){Aj(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(xge),this.isDirty=!1,this.children.forEach(t)}}function wge(r,t){const e=performance.now(),i=({timestamp:n})=>{const s=n-e;s>=t&&(Wp(i),r(s-t))};return Ys.read(i,!0),()=>Wp(i)}function Tge(r){window.MotionDebug&&window.MotionDebug.record(r)}function bge(r){return r instanceof SVGElement&&r.tagName!=="svg"}function Dge(r,t,e){const i=eu(r)?r:L1(r);return i.start(Dj("",i,t,e)),i.animation}const E6=["","X","Y","Z"],Ege={visibility:"hidden"},A6=1e3;let Age=0;const C0={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function sG({attachResizeListener:r,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:n}){return class{constructor(a={},o=t?.()){this.id=Age++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,C0.totalNodes=C0.resolvedTargetDeltas=C0.recalculatedProjection=0,this.nodes.forEach(Ige),this.nodes.forEach(jge),this.nodes.forEach(_ge),this.nodes.forEach(Cge),Tge(C0)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Mge)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Sj),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bge(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),r){let d;const p=()=>this.root.updateBlockedByResize=!1;r(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=wge(p,250),$E.hasAnimatedSinceResize&&($E.hasAnimatedSinceResize=!1,this.nodes.forEach(N6))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||u.getDefaultTransition()||Bge,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=u.getProps(),D=!this.targetLayout||!nG(this.targetLayout,y)||m,E=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||p&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,E);const N={...bj(M,"layout"),onPlay:w,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else p||N6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zge),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(S6);return}this.isUpdating||this.nodes.forEach(kge),this.isUpdating=!1,this.nodes.forEach(Lge),this.nodes.forEach(Sge),this.nodes.forEach(Nge),this.clearAllSnapshots();const o=performance.now();Pl.delta=Sg(0,1e3/60,o-Pl.timestamp),Pl.timestamp=o,Pl.isProcessing=!0,FC.update.process(Pl),FC.preRender.process(Pl),FC.render.process(Pl),Pl.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Oge),this.sharedNodes.forEach(Rge)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ys.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ys.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ao(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:i(this.instance),offset:e(this.instance)})}resetTransform(){if(!n)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!rG(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(o||I0(this.latestValues)||u)&&(n(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Uge(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ao();const o=a.measureViewportBox(),{scroll:l}=this.root;return l&&(Qm(o.x,l.offset.x),Qm(o.y,l.offset.y)),o}removeElementScroll(a){const o=ao();Qu(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){Qu(o,a);const{scroll:p}=this.root;p&&(Qm(o.x,-p.offset.x),Qm(o.y,-p.offset.y))}Qm(o.x,u.offset.x),Qm(o.y,u.offset.y)}}return o}applyTransform(a,o=!1){const l=ao();Qu(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&$y(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),I0(u.latestValues)&&$y(l,u.latestValues)}return I0(this.latestValues)&&$y(l,this.latestValues),l}removeTransform(a){const o=ao();Qu(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!I0(c.latestValues))continue;DO(c.latestValues)&&c.updateSnapshot();const u=ao(),d=c.measurePageBox();Qu(u,d),w6(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return I0(this.latestValues)&&w6(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pl.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Pl.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ao(),this.relativeTargetOrigin=ao(),gw(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Qu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ao(),this.targetWithTransforms=ao()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qu(this.target,this.layout.layoutBox),XQ(this.target,this.targetDelta)):Qu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ao(),this.relativeTargetOrigin=ao(),gw(this.relativeTargetOrigin,this.target,m.target),Qu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}C0.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||DO(this.parent.latestValues)||$Q(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Pl.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Qu(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Xme(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:y}=o;if(!y){this.projectionTransform&&(this.projectionDelta=Ky(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ky(),this.projectionDeltaWithTransform=Ky());const M=this.projectionTransform;mw(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=D6(this.projectionDelta,this.treeScale),(this.projectionTransform!==M||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),C0.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Ky();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=ao(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,M=m!==y,w=this.getStack(),b=!w||w.members.length<=1,D=!!(M&&!b&&this.options.crossfade===!0&&!this.path.some(Fge));this.animationProgress=0;let E;this.mixTargetDelta=N=>{const B=N/1e3;I6(d.x,a.x,B),I6(d.y,a.y,B),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gw(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Pge(this.relativeTarget,this.relativeTargetOrigin,p,B),E&&vge(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ao()),Qu(E,this.relativeTarget)),M&&(this.animationValues=u,hge(u,c,this.latestValues,B,D,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ys.update(()=>{$E.hasAnimatedSinceResize=!0,this.currentAnimation=Dge(0,A6,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&aG(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ao();const d=Su(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const p=Su(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+p}Qu(o,l),$y(o,u),mw(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new yge),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let u=0;u<E6.length;u++){const d="rotate"+E6[u];l[d]&&(c[d]=l[d],a.setStaticValue(d,0))}a.render();for(const u in c)a.setStaticValue(u,c[u]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ege;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=KE(a?.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=KE(a?.pointerEvents)||""),this.hasProjected&&!I0(this.latestValues)&&(M.transform=u?u({},""):"none",this.hasProjected=!1),M}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=D6(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(o=p.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const M in jA){if(p[M]===void 0)continue;const{correct:w,applyTo:b}=jA[M],D=c.transform==="none"?p[M]:w(p[M],d);if(b){const E=b.length;for(let N=0;N<E;N++)c[b[N]]=D}else c[M]=D}return this.options.layoutId&&(c.pointerEvents=d===this?KE(a?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(S6),this.root.sharedNodes.clear()}}}function Sge(r){r.updateLayout()}function Nge(r){var t;const e=((t=r.resumeFrom)===null||t===void 0?void 0:t.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:n}=r.layout,{animationType:s}=r.options,a=e.source!==r.layout.source;s==="size"?ah(d=>{const p=a?e.measuredBox[d]:e.layoutBox[d],m=Su(p);p.min=i[d].min,p.max=p.min+m}):aG(s,e.layoutBox,i)&&ah(d=>{const p=a?e.measuredBox[d]:e.layoutBox[d],m=Su(i[d]);p.max=p.min+m,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[d].max=r.relativeTarget[d].min+m)});const o=Ky();mw(o,i,e.layoutBox);const l=Ky();a?mw(l,r.applyTransform(n,!0),e.measuredBox):mw(l,i,e.layoutBox);const c=!rG(o);let u=!1;if(!r.resumeFrom){const d=r.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const y=ao();gw(y,e.layoutBox,p.layoutBox);const M=ao();gw(M,i,m.layoutBox),nG(y,M)||(u=!0),d.options.layoutRoot&&(r.relativeTarget=M,r.relativeTargetOrigin=y,r.relativeParent=d)}}}r.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(r.isLead()){const{onExitComplete:i}=r.options;i&&i()}r.options.transition=void 0}function Ige(r){C0.totalNodes++,r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function Cge(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function Oge(r){r.clearSnapshot()}function S6(r){r.clearMeasurements()}function kge(r){r.isLayoutDirty=!1}function Lge(r){const{visualElement:t}=r.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),r.resetTransform()}function N6(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function jge(r){r.resolveTargetDelta()}function _ge(r){r.calcProjection()}function zge(r){r.resetRotation()}function Rge(r){r.removeLeadSnapshot()}function I6(r,t,e){r.translate=ca(t.translate,0,e),r.scale=ca(t.scale,1,e),r.origin=t.origin,r.originPoint=t.originPoint}function C6(r,t,e,i){r.min=ca(t.min,e.min,i),r.max=ca(t.max,e.max,i)}function Pge(r,t,e,i){C6(r.x,t.x,e.x,i),C6(r.y,t.y,e.y,i)}function Fge(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const Bge={duration:.45,ease:[.4,0,.1,1]},O6=r=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(r),k6=O6("applewebkit/")&&!O6("chrome/")?Math.round:Ya;function L6(r){r.min=k6(r.min),r.max=k6(r.max)}function Uge(r){L6(r.x),L6(r.y)}function aG(r,t,e){return r==="position"||r==="preserve-aspect"&&!TO(b6(t),b6(e),.2)}const Vge=sG({attachResizeListener:(r,t)=>wp(r,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$C={current:void 0},oG=sG({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!$C.current){const r=new Vge({});r.mount(window),r.setOptions({layoutScroll:!0}),$C.current=r}return $C.current},resetTransform:(r,t)=>{r.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),Hge={pan:{Feature:sge},drag:{Feature:nge,ProjectionNode:oG,MeasureLayout:eG}},Wge=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Yge(r){const t=Wge.exec(r);if(!t)return[,];const[,e,i]=t;return[e,i]}function AO(r,t,e=1){const[i,n]=Yge(r);if(!i)return;const s=window.getComputedStyle(t).getPropertyValue(i);if(s){const a=s.trim();return HQ(a)?parseFloat(a):a}else return mO(n)?AO(n,t,e+1):n}function qge(r,{...t},e){const i=r.current;if(!(i instanceof Element))return{target:t,transitionEnd:e};e&&(e={...e}),r.values.forEach(n=>{const s=n.get();if(!mO(s))return;const a=AO(s,i);a&&n.set(a)});for(const n in t){const s=t[n];if(!mO(s))continue;const a=AO(s,i);a&&(t[n]=a,e||(e={}),e[n]===void 0&&(e[n]=s))}return{target:t,transitionEnd:e}}const Qge=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),lG=r=>Qge.has(r),Gge=r=>Object.keys(r).some(lG),j6=r=>r===Ov||r===nr,_6=(r,t)=>parseFloat(r.split(", ")[t]),z6=(r,t)=>(e,{transform:i})=>{if(i==="none"||!i)return 0;const n=i.match(/^matrix3d\((.+)\)$/);if(n)return _6(n[1],t);{const s=i.match(/^matrix\((.+)\)$/);return s?_6(s[1],r):0}},Kge=new Set(["x","y","z"]),$ge=$T.filter(r=>!Kge.has(r));function Xge(r){const t=[];return $ge.forEach(e=>{const i=r.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t.length&&r.render(),t}const j1={width:({x:r},{paddingLeft:t="0",paddingRight:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),height:({y:r},{paddingTop:t="0",paddingBottom:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),top:(r,{top:t})=>parseFloat(t),left:(r,{left:t})=>parseFloat(t),bottom:({y:r},{top:t})=>parseFloat(t)+(r.max-r.min),right:({x:r},{left:t})=>parseFloat(t)+(r.max-r.min),x:z6(4,13),y:z6(5,14)};j1.translateX=j1.x;j1.translateY=j1.y;const Jge=(r,t,e)=>{const i=t.measureViewportBox(),n=t.current,s=getComputedStyle(n),{display:a}=s,o={};a==="none"&&t.setStaticValue("display",r.display||"block"),e.forEach(c=>{o[c]=j1[c](i,s)}),t.render();const l=t.measureViewportBox();return e.forEach(c=>{const u=t.getValue(c);u&&u.jump(o[c]),r[c]=j1[c](l,s)}),r},Zge=(r,t,e={},i={})=>{t={...t},i={...i};const n=Object.keys(t).filter(lG);let s=[],a=!1;const o=[];if(n.forEach(l=>{const c=r.getValue(l);if(!r.hasValue(l))return;let u=e[l],d=Qx(u);const p=t[l];let m;if(zA(p)){const y=p.length,M=p[0]===null?1:0;u=p[M],d=Qx(u);for(let w=M;w<y&&p[w]!==null;w++)m?yj(Qx(p[w])===m):m=Qx(p[w])}else m=Qx(p);if(d!==m)if(j6(d)&&j6(m)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===nr&&(t[l]=p.map(parseFloat))}else d?.transform&&m?.transform&&(u===0||p===0)?u===0?c.set(m.transform(u)):t[l]=d.transform(p):(a||(s=Xge(r),a=!0),o.push(l),i[l]=i[l]!==void 0?i[l]:t[l],c.jump(p))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=Jge(t,r,o);return s.length&&s.forEach(([u,d])=>{r.getValue(u).set(d)}),r.render(),MN&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:t,transitionEnd:i}};function e0e(r,t,e,i){return Gge(t)?Zge(r,t,e,i):{target:t,transitionEnd:i}}const t0e=(r,t,e,i)=>{const n=qge(r,t,i);return t=n.target,i=n.transitionEnd,e0e(r,t,e,i)},SO={current:null},cG={current:!1};function i0e(){if(cG.current=!0,!!MN)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),t=()=>SO.current=r.matches;r.addListener(t),t()}else SO.current=!1}function r0e(r,t,e){const{willChange:i}=t;for(const n in t){const s=t[n],a=e[n];if(eu(s))r.addValue(n,s),BA(i)&&i.add(n);else if(eu(a))r.addValue(n,L1(s,{owner:r})),BA(i)&&i.remove(n);else if(a!==s)if(r.hasValue(n)){const o=r.getValue(n);!o.hasAnimated&&o.set(s)}else{const o=r.getStaticValue(n);r.addValue(n,L1(o!==void 0?o:s,{owner:r}))}}for(const n in e)t[n]===void 0&&r.removeValue(n);return t}const R6=new WeakMap,uG=Object.keys(eT),n0e=uG.length,P6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],s0e=uj.length;class a0e{constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:n,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ys.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=e.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=a,this.isControllingVariants=TN(e),this.isVariantNode=Gq(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(e,{});for(const d in u){const p=u[d];o[d]!==void 0&&eu(p)&&(p.set(o[d],!1),BA(c)&&c.add(d))}}scrapeMotionValuesFromProps(t,e){return{}}mount(t){this.current=t,R6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),cG.current||i0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:SO.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){R6.delete(this.current),this.projection&&this.projection.unmount(),Wp(this.notifyUpdate),Wp(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,e){const i=Cv.has(t),n=e.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ys.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{n(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...e},i,n,s){let a,o;for(let l=0;l<n0e;l++){const c=uG[l],{isEnabled:u,Feature:d,ProjectionNode:p,MeasureLayout:m}=eT[c];p&&(a=p),u(e)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:p,layoutRoot:m}=e;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&Qy(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ao()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}makeTargetAnimatable(t,e=!0){return this.makeTargetAnimatableFromInstance(t,this.props,e)}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<P6.length;i++){const n=P6[i];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const s=t["on"+n];s&&(this.propEventSubscriptions[n]=this.on(n,s))}this.prevMotionValues=r0e(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const e={};for(let i=0;i<s0e;i++){const n=uj[i],s=this.props[n];(Zw(s)||s===!1)&&(e[n]=s)}return e}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){e!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,e)),this.values.set(t,e),this.latestValues[t]=e.get()}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=L1(e,{owner:this}),this.addValue(t,i)),i}readValue(t){var e;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(e=this.getBaseTargetFromProps(this.props,t))!==null&&e!==void 0?e:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:i}=this.props,n=typeof i=="string"||typeof i=="object"?(e=vj(this.props,i))===null||e===void 0?void 0:e[t]:void 0;if(i&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!eu(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Sj),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class hG extends a0e{sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:e,...i},{transformValues:n},s){let a=bme(i,t||{},this);if(n&&(e&&(e=n(e)),i&&(i=n(i)),a&&(a=n(a))),s){wme(this,i,a);const o=t0e(this,i,a,e);e=o.transitionEnd,i=o.target}return{transition:t,transitionEnd:e,...i}}}function o0e(r){return window.getComputedStyle(r)}class l0e extends hG{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,e){if(Cv.has(e)){const i=Tj(e);return i&&i.default||0}else{const i=o0e(t),n=(Zq(e)?i.getPropertyValue(e):i[e])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:e}){return JQ(t,e)}build(t,e,i,n){dj(t,e,i,n.transformTemplate)}scrapeMotionValuesFromProps(t,e){return gj(t,e)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;eu(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}renderInstance(t,e,i,n){sQ(t,e,i,n)}}class c0e extends hG{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Cv.has(e)){const i=Tj(e);return i&&i.default||0}return e=aQ.has(e)?e:lj(e),t.getAttribute(e)}measureInstanceViewportBox(){return ao()}scrapeMotionValuesFromProps(t,e){return lQ(t,e)}build(t,e,i,n){pj(t,e,i,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,i,n){oQ(t,e,i,n)}mount(t){this.isSVGTag=mj(t.tagName),super.mount(t)}}const u0e=(r,t)=>hj(r)?new c0e(t,{enableHardwareAcceleration:!1}):new l0e(t,{enableHardwareAcceleration:!0}),h0e={layout:{ProjectionNode:oG,MeasureLayout:eG}},d0e={...Pme,...npe,...Hge,...h0e},ph=dfe((r,t)=>Yfe(r,t,d0e,u0e));function f0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Nj=ce.forwardRef(f0e);function p0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const xg=ce.forwardRef(p0e);function m0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const g0e=ce.forwardRef(m0e);function v0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const y0e=ce.forwardRef(v0e);function x0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const lv=ce.forwardRef(x0e);function M0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const iT=ce.forwardRef(M0e);function w0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const l1=ce.forwardRef(w0e);function T0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ig=ce.forwardRef(T0e);function b0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const Y0=ce.forwardRef(b0e);function D0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const hf=ce.forwardRef(D0e);function E0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const VA=ce.forwardRef(E0e);function A0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const vw=ce.forwardRef(A0e);function S0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const F6=ce.forwardRef(S0e);function N0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const dG=ce.forwardRef(N0e);function I0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const C0e=ce.forwardRef(I0e);function O0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const td=ce.forwardRef(O0e);function k0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const L0e=ce.forwardRef(k0e);function j0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const B6=ce.forwardRef(j0e);function _0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const z0e=ce.forwardRef(_0e);function R0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const rT=ce.forwardRef(R0e);function P0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const F0e=ce.forwardRef(P0e);function B0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const eb=ce.forwardRef(B0e);function U0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const fG=ce.forwardRef(U0e);function V0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const XC=ce.forwardRef(V0e);function H0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const tb=ce.forwardRef(H0e);function W0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const pG=ce.forwardRef(W0e);function Y0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const q0e=ce.forwardRef(Y0e);function Q0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const cv=ce.forwardRef(Q0e);function G0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const K0e=ce.forwardRef(G0e);function $0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const X0e=ce.forwardRef($0e);function J0e({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const Z0e=ce.forwardRef(J0e);function eve({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const AN=ce.forwardRef(eve);function tve({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const ive=ce.forwardRef(tve);function rve({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const NO=ce.forwardRef(rve);function nve({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Lp=ce.forwardRef(nve);function sve({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const yw=ce.forwardRef(sve);function ave({title:r,titleId:t,...e},i){return ce.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),r?ce.createElement("title",{id:t},r):null,ce.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const HA=ce.forwardRef(ave),ove=()=>{const{userProfile:r}=vf(),t=[{name:"Company Setup",description:"Configure your business settings and branding",href:"/company-setup",icon:lv,color:"bg-primary-500"},{name:"Manage Customers",description:"Add and manage your customer database",href:"/customers",icon:Lp,color:"bg-green-500"},{name:"Estimate Templates",description:"Create and manage estimate templates",href:"/estimate-templates",icon:td,color:"bg-purple-500"}],e=[{name:"Total Customers",value:"0",icon:Lp},{name:"Active Jobs",value:"0",icon:hf},{name:"Monthly Revenue",value:"$0",icon:vw},{name:"Estimate Templates",value:"0",icon:td}];return x.jsxs("div",{className:"space-y-6",children:[x.jsx(ph.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-12 w-12 bg-primary-500 rounded-lg flex items-center justify-center",children:x.jsx("span",{className:"text-white font-bold text-xl",children:"MF"})})}),x.jsxs("div",{className:"ml-4",children:[x.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",r?.name||"User","!"]}),x.jsx("p",{className:"text-gray-600",children:"Manage your field service business from one place"})]})]})}),x.jsx(ph.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:e.map((i,n)=>{const s=i.icon;return x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(s,{className:"h-6 w-6 text-gray-400"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:i.name}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:i.value})]})})]})})},i.name)})}),x.jsxs(ph.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[x.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[x.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"}),x.jsx("p",{className:"text-sm text-gray-500",children:"Get started with these essential tasks"})]}),x.jsx("div",{className:"p-6",children:x.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map((i,n)=>{const s=i.icon;return x.jsx(ev,{to:i.href,className:"group relative rounded-lg border border-gray-200 bg-white p-6 hover:shadow-md transition-shadow duration-200",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:`flex-shrink-0 rounded-lg p-3 ${i.color}`,children:x.jsx(s,{className:"h-6 w-6 text-white"})}),x.jsxs("div",{className:"ml-4",children:[x.jsx("h3",{className:"text-sm font-medium text-gray-900 group-hover:text-primary-600 transition-colors duration-200",children:i.name}),x.jsx("p",{className:"text-sm text-gray-500",children:i.description})]})]})},i.name)})})})]}),x.jsx(ph.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-primary-50 rounded-lg border border-primary-200 p-6",children:x.jsxs("div",{className:"flex items-start",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(l1,{className:"h-6 w-6 text-primary-600"})}),x.jsxs("div",{className:"ml-3",children:[x.jsx("h3",{className:"text-sm font-medium text-primary-800",children:"Getting Started"}),x.jsx("div",{className:"mt-2 text-sm text-primary-700",children:x.jsx("p",{children:"Welcome to mi Factotum! To get the most out of your field service management platform, start by setting up your company profile and adding your first customers."})}),x.jsx("div",{className:"mt-4",children:x.jsx(ev,{to:"/company-setup",className:"text-sm font-medium text-primary-600 hover:text-primary-500 transition-colors duration-200",children:"Set up your company "})})]})]})})]})},lve=()=>{const[r,t]=ce.useState(""),[e,i]=ce.useState(""),[n,s]=ce.useState(!1),{signin:a}=vf(),o=VS(),l=async c=>{c.preventDefault(),s(!0),(await a(r,e)).success&&o("/"),s(!1)};return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:x.jsxs(ph.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8",children:[x.jsxs("div",{children:[x.jsx("div",{className:"mx-auto h-12 w-12 bg-primary-500 rounded-lg flex items-center justify-center",children:x.jsx("span",{className:"text-white font-bold text-xl",children:"MF"})}),x.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Sign in to mi Factotum"}),x.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Manage your field service business"})]}),x.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),x.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:c=>t(c.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),x.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:e,onChange:c=>i(c.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"})]})]}),x.jsx("div",{children:x.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:n?x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})}),x.jsx("div",{className:"text-center",children:x.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",x.jsx(ev,{to:"/signup",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors duration-200",children:"Sign up here"})]})}),x.jsx("div",{className:"text-center mt-4",children:x.jsx("p",{className:"text-xs text-gray-500",children:"Super Admin: sroy@worksidesoftware.com"})})]})]})})};class $o{static getCurrentUserId(){const t=wl.currentUser;if(!t)throw new Error("No user is currently signed in");return t.uid}static generateCompanyCode(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let i=0;i<6;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}static async createCompany(t){try{const e=this.getCurrentUserId();let i=this.generateCompanyCode(),n=!0,s=0;for(;n&&s<10;){const l=Hs(Pn(Ai,"companies"),qn("code","==",i));(await Wa(l)).empty?n=!1:(i=this.generateCompanyCode(),s++)}const a={...t,code:i,ownerId:e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0},o=await Cp(Pn(Ai,"companies"),a);return await ql(Br(Ai,"users",e),{companyId:o.id,role:"admin",updatedAt:new Date().toISOString()}),{success:!0,companyId:o.id,companyCode:i,company:{id:o.id,...a}}}catch(e){return console.error("Error creating company:",e),{success:!1,error:e.message}}}static async getCompanyByCode(t){try{if(!t||t.length!==6)return{success:!1,error:"Invalid company code"};const e=Hs(Pn(Ai,"companies"),qn("code","==",t.toUpperCase()),qn("isActive","==",!0)),i=await Wa(e);if(i.empty)return{success:!1,error:"Company not found with this code"};const n=i.docs[0];return{success:!0,company:{id:n.id,...n.data()}}}catch(e){return console.error("Error finding company by code:",e),{success:!1,error:e.message}}}static async joinCompanyByCode(t,e,i="field_tech"){try{const n=await this.getCompanyByCode(e);return n.success?(await ql(Br(Ai,"users",t),{companyId:n.company.id,role:i,updatedAt:new Date().toISOString()}),{success:!0,company:n.company}):n}catch(n){return console.error("Error joining company:",n),{success:!1,error:n.message}}}static async getCompany(t){try{if(!t)return{success:!1,error:"Company ID is required"};const e=await vh(Br(Ai,"companies",t));return e.exists()?{success:!0,company:{id:e.id,...e.data()}}:{success:!1,error:"Company not found"}}catch(e){return console.error("Error getting company:",e),{success:!1,error:e.message}}}static async getCompanyByUserId(t){try{const e=Hs(Pn(Ai,"companies"),qn("ownerId","==",t)),i=await Wa(e);if(i.empty)return{success:!1,error:"No company found for this user"};const n=i.docs[0];return{success:!0,company:{id:n.id,...n.data()}}}catch(e){return console.error("Error getting company by user ID:",e),{success:!1,error:e.message}}}static async updateCompany(t,e){try{const i=this.getCurrentUserId(),s=wl.currentUser?.email==="sroy@worksidesoftware.com",a=await this.getCompany(t);if(!a.success)return a;if(!s&&a.company.ownerId!==i)return{success:!1,error:"Unauthorized to update this company"};const o={...e,updatedAt:new Date().toISOString()};return await ql(Br(Ai,"companies",t),o),{success:!0,company:{...a.company,...o}}}catch(i){return console.error("Error updating company:",i),{success:!1,error:i.message}}}static async addTeamMember(t,e,i="technician"){try{const n=this.getCurrentUserId(),a=wl.currentUser?.email==="sroy@worksidesoftware.com",o=await this.getCompany(t);if(!o.success)return o;if(!a&&o.company.ownerId!==n)return{success:!1,error:"Unauthorized to add team members"};const l={companyId:t,email:e,role:i,invitedBy:n,status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},c=await Cp(Pn(Ai,"teamMembers"),l);return{success:!0,teamMemberId:c.id,teamMember:{id:c.id,...l}}}catch(n){return console.error("Error adding team member:",n),{success:!1,error:n.message}}}static async getTeamMembers(t){try{const e=Hs(Pn(Ai,"teamMembers"),qn("companyId","==",t)),i=await Wa(e),n=[];return i.forEach(s=>{n.push({id:s.id,...s.data()})}),{success:!0,teamMembers:n}}catch(e){return console.error("Error getting team members:",e),{success:!1,error:e.message}}}static async updateTeamMember(t,e){try{const i=this.getCurrentUserId(),n=await vh(Br(Ai,"teamMembers",t));if(!n.exists())return{success:!1,error:"Team member not found"};const s=n.data(),a=await this.getCompany(s.companyId);if(!a.success||a.company.ownerId!==i)return{success:!1,error:"Unauthorized to update this team member"};const o={...e,updatedAt:new Date().toISOString()};return await ql(Br(Ai,"teamMembers",t),o),{success:!0,teamMember:{...s,...o}}}catch(i){return console.error("Error updating team member:",i),{success:!1,error:i.message}}}static async removeTeamMember(t){try{const e=this.getCurrentUserId(),i=await vh(Br(Ai,"teamMembers",t));if(!i.exists())return{success:!1,error:"Team member not found"};const n=i.data(),s=await this.getCompany(n.companyId);return!s.success||s.company.ownerId!==e?{success:!1,error:"Unauthorized to remove this team member"}:(await Z1(Br(Ai,"teamMembers",t)),{success:!0})}catch(e){return console.error("Error removing team member:",e),{success:!1,error:e.message}}}}const cve=[{value:"admin",label:"Company Administrator",description:"Full access to manage company settings, customers, jobs, and team"},{value:"supervisor",label:"Supervisor",description:"View and manage jobs, customers, and team members"},{value:"field_tech",label:"Field Technician",description:"View schedules and complete assigned jobs"}],uve=()=>{const[r,t]=ce.useState(1),[e,i]=ce.useState(!1),[n,s]=ce.useState(""),[a,o]=ce.useState(""),[l,c]=ce.useState(""),[u,d]=ce.useState(""),[p,m]=ce.useState("new"),[y,M]=ce.useState(""),[w,b]=ce.useState(""),[D,E]=ce.useState([]),[N,B]=ce.useState(null),[P,C]=ce.useState("field_tech"),[k,_]=ce.useState(""),[H,j]=ce.useState(""),[z,F]=ce.useState(""),{signup:X}=vf(),J=VS(),[U,W]=ce.useState(!1),[re,Z]=ce.useState("");ce.useEffect(()=>{p==="existing"&&y.length===6?Ee():(Z(""),B(null))},[y,p]);const Ee=async()=>{W(!0),Z("");try{const te=await $o.getCompanyByCode(y);te.success?(B(te.company),Z(`Company found: ${te.company.name}`)):(B(null),Z(te.error||"Company not found"))}catch{B(null),Z("Error validating code")}finally{W(!1)}},ae=()=>{if(!n||!a||!l||!u){mt.error("Please fill in all fields");return}if(l.length<6){mt.error("Password must be at least 6 characters");return}if(l!==u){mt.error("Passwords do not match");return}t(2)},L=()=>{if(p==="existing"){if(!y||y.length!==6){mt.error("Please enter a valid 6-character company code");return}if(!N){mt.error("Please validate the company code first");return}t(3)}else C("admin"),t(4)},Y=()=>{if(!P){mt.error("Please select a role");return}p==="new"?t(4):Q()},G=()=>{if(!k||!H||!z){mt.error("Please fill in all company fields");return}Q()},Q=async()=>{i(!0);try{const le=await X(a,l,{name:n,phoneNumber:"",businessName:p==="new"?k:"",address:p==="new"?z:"",services:[],serviceCategories:[],role:P});if(!le.success){mt.error(le.error||"Failed to create account"),i(!1);return}const Me=le.user?.uid;if(p==="new"){const ve={name:k,phone:H,address:z,email:a,services:[],serviceCategories:[]},Ie=await $o.createCompany(ve);Ie.success?(mt.success(`Account and company created! Your company code is: ${Ie.companyCode}`),J("/company-setup")):(mt.error("Account created but company setup failed: "+Ie.error),J("/company-setup"))}else if(y){const ve=await $o.joinCompanyByCode(Me,y,P);ve.success?(mt.success(`Successfully joined ${ve.company.name}!`),J("/")):(mt.error("Failed to join company: "+ve.error),mt.info("You can complete company setup later"),J("/"))}else mt.success("Account created successfully!"),mt.info("Please contact your company administrator to complete setup"),J("/")}catch(te){console.error("Signup error:",te),mt.error("An unexpected error occurred")}finally{i(!1)}};return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:x.jsxs(ph.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl w-full space-y-8 bg-white p-8 rounded-lg shadow-lg",children:[x.jsx("div",{className:"flex items-center justify-center space-x-4 mb-8",children:[1,2,3,4].map(te=>x.jsxs(mf.Fragment,{children:[x.jsx("div",{className:"flex items-center",children:x.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${r>=te?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"}`,children:r>te?x.jsx(Ig,{className:"w-6 h-6"}):x.jsx("span",{className:"font-medium",children:te})})}),te<4&&x.jsx("div",{className:`h-1 w-16 ${r>te?"bg-primary-600":"bg-gray-200"}`})]},te))}),r===1&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center",children:"Create Your Account"}),x.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your basic information to get started"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),x.jsx("input",{id:"name",type:"text",required:!0,value:n,onChange:te=>s(te.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"John Doe"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address *"}),x.jsx("input",{id:"email",type:"email",required:!0,value:a,onChange:te=>o(te.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"you@example.com"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password *"}),x.jsx("input",{id:"password",type:"password",required:!0,value:l,onChange:te=>c(te.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"At least 6 characters"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password *"}),x.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:u,onChange:te=>d(te.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Confirm your password"})]})]}),x.jsx("button",{onClick:ae,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Continue"}),x.jsx("div",{className:"text-center",children:x.jsx(ev,{to:"/login",className:"text-sm text-primary-600 hover:text-primary-500",children:"Already have an account? Sign in"})})]}),r===2&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center",children:"Company Association"}),x.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join an existing company or create a new one"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("div",{className:"border rounded-lg p-4",children:x.jsxs("label",{className:"flex items-center cursor-pointer",children:[x.jsx("input",{type:"radio",name:"companyOption",value:"existing",checked:p==="existing",onChange:te=>m(te.target.value),className:"mr-3"}),x.jsxs("div",{children:[x.jsx("div",{className:"font-medium text-gray-900",children:"Join Existing Company"}),x.jsx("div",{className:"text-sm text-gray-500",children:"Enter company code or search for your company"})]})]})}),p==="existing"&&x.jsx("div",{className:"ml-8 space-y-3",children:x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Code"}),x.jsx("input",{type:"text",value:y,onChange:te=>M(te.target.value.toUpperCase().slice(0,6)),maxLength:6,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm uppercase",placeholder:"Enter 6-character code"}),U&&x.jsx("p",{className:"mt-1 text-xs text-blue-600",children:"Validating..."}),re&&!U&&x.jsx("p",{className:`mt-1 text-xs ${N?"text-green-600":"text-red-600"}`,children:re}),x.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Ask your company administrator for the company code"})]})}),x.jsx("div",{className:"border rounded-lg p-4",children:x.jsxs("label",{className:"flex items-center cursor-pointer",children:[x.jsx("input",{type:"radio",name:"companyOption",value:"new",checked:p==="new",onChange:te=>m(te.target.value),className:"mr-3"}),x.jsxs("div",{children:[x.jsx("div",{className:"font-medium text-gray-900",children:"Create New Company"}),x.jsx("div",{className:"text-sm text-gray-500",children:"You'll be set as the company administrator"})]})]})})]}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("button",{onClick:()=>t(1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Back"}),x.jsx("button",{onClick:L,className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:"Continue"})]})]}),r===3&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center",children:"Select Your Role"}),x.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Choose the role that best describes your position"})]}),x.jsx("div",{className:"space-y-3",children:cve.map(te=>x.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${P===te.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>C(te.value),children:x.jsxs("div",{className:"flex items-start",children:[x.jsx("input",{type:"radio",name:"role",value:te.value,checked:P===te.value,onChange:()=>C(te.value),className:"mt-1 mr-3"}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"font-medium text-gray-900",children:te.label}),x.jsx("div",{className:"text-sm text-gray-500 mt-1",children:te.description})]})]})},te.value))}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("button",{onClick:()=>t(2),className:"flex-1 py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Back"}),x.jsx("button",{onClick:Y,disabled:e,className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:e?"Creating Account...":"Create Account"})]})]}),r===4&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center",children:"Company Information"}),x.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Provide basic information about your company"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Name *"}),x.jsx("input",{type:"text",required:!0,value:k,onChange:te=>_(te.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Acme Services Inc."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number *"}),x.jsx("input",{type:"tel",required:!0,value:H,onChange:te=>j(te.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"(555) 123-4567"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address *"}),x.jsx("input",{type:"text",required:!0,value:z,onChange:te=>F(te.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"123 Main St, City, State ZIP"})]}),x.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex",children:[x.jsx(lv,{className:"h-5 w-5 text-blue-600 mr-2"}),x.jsxs("div",{className:"text-sm text-blue-800",children:[x.jsx("p",{className:"font-medium",children:"Note:"}),x.jsx("p",{className:"mt-1",children:"You'll be able to configure services, branding, and team members after account creation."})]})]})})]}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("button",{onClick:()=>t(2),className:"flex-1 py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Back"}),x.jsx("button",{onClick:G,disabled:e,className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:e?"Creating Account...":"Create Account & Company"})]})]})]})})};class hve{static async uploadFile(t,e,i=null){try{if(!t)return{success:!1,error:"No file provided"};const n=zC(RC,e),s=await Fde(n,t);return{success:!0,url:await LF(s.ref),path:s.ref.fullPath}}catch(n){return console.error("Error uploading file:",n),{success:!1,error:n.message||"Failed to upload file"}}}static async uploadCompanyLogo(t,e){try{if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type))return{success:!1,error:"Invalid file type. Please upload a JPEG, PNG, GIF, or WebP image."};const n=5*1024*1024;if(t.size>n)return{success:!1,error:"File size too large. Maximum size is 5MB."};const s=Date.now(),a=t.name.split(".").pop(),o=`logo_${s}.${a}`,l=`companies/${e}/logos/${o}`;return await this.uploadFile(t,l)}catch(i){return console.error("Error uploading company logo:",i),{success:!1,error:i.message||"Failed to upload logo"}}}static async deleteFile(t){try{if(!t)return{success:!1,error:"No path provided"};const e=zC(RC,t);return await Bde(e),{success:!0}}catch(e){return console.error("Error deleting file:",e),{success:!0}}}static async getDownloadURL(t){try{const e=zC(RC,t);return{success:!0,url:await LF(e)}}catch(e){return console.error("Error getting download URL:",e),{success:!1,error:e.message||"Failed to get download URL"}}}}var JC={exports:{}},ZC,U6;function dve(){if(U6)return ZC;U6=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ZC=r,ZC}var e2,V6;function fve(){if(V6)return e2;V6=1;var r=dve();function t(){}function e(){}return e.resetWarningCache=t,e2=function(){function i(a,o,l,c,u,d){if(d!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function n(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:n,element:i,elementType:i,instanceOf:n,node:i,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:e,resetWarningCache:t};return s.PropTypes=s,s},e2}var H6;function pve(){return H6||(H6=1,JC.exports=fve()()),JC.exports}var mve=pve();const ps=Uk(mve),gve=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function _1(r,t,e){const i=vve(r),{webkitRelativePath:n}=r,s=typeof t=="string"?t:typeof n=="string"&&n.length>0?n:`./${r.name}`;return typeof i.path!="string"&&W6(i,"path",s),W6(i,"relativePath",s),i}function vve(r){const{name:t}=r;if(t&&t.lastIndexOf(".")!==-1&&!r.type){const i=t.split(".").pop().toLowerCase(),n=gve.get(i);n&&Object.defineProperty(r,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return r}function W6(r,t,e){Object.defineProperty(r,t,{value:e,writable:!1,configurable:!1,enumerable:!0})}const yve=[".DS_Store","Thumbs.db"];function xve(r){return bv(this,void 0,void 0,function*(){return WA(r)&&Mve(r.dataTransfer)?Dve(r.dataTransfer,r.type):wve(r)?Tve(r):Array.isArray(r)&&r.every(t=>"getFile"in t&&typeof t.getFile=="function")?bve(r):[]})}function Mve(r){return WA(r)}function wve(r){return WA(r)&&WA(r.target)}function WA(r){return typeof r=="object"&&r!==null}function Tve(r){return IO(r.target.files).map(t=>_1(t))}function bve(r){return bv(this,void 0,void 0,function*(){return(yield Promise.all(r.map(e=>e.getFile()))).map(e=>_1(e))})}function Dve(r,t){return bv(this,void 0,void 0,function*(){if(r.items){const e=IO(r.items).filter(n=>n.kind==="file");if(t!=="drop")return e;const i=yield Promise.all(e.map(Eve));return Y6(mG(i))}return Y6(IO(r.files).map(e=>_1(e)))})}function Y6(r){return r.filter(t=>yve.indexOf(t.name)===-1)}function IO(r){if(r===null)return[];const t=[];for(let e=0;e<r.length;e++){const i=r[e];t.push(i)}return t}function Eve(r){if(typeof r.webkitGetAsEntry!="function")return q6(r);const t=r.webkitGetAsEntry();return t&&t.isDirectory?gG(t):q6(r,t)}function mG(r){return r.reduce((t,e)=>[...t,...Array.isArray(e)?mG(e):[e]],[])}function q6(r,t){return bv(this,void 0,void 0,function*(){var e;if(globalThis.isSecureContext&&typeof r.getAsFileSystemHandle=="function"){const s=yield r.getAsFileSystemHandle();if(s===null)throw new Error(`${r} is not a File`);if(s!==void 0){const a=yield s.getFile();return a.handle=s,_1(a)}}const i=r.getAsFile();if(!i)throw new Error(`${r} is not a File`);return _1(i,(e=t?.fullPath)!==null&&e!==void 0?e:void 0)})}function Ave(r){return bv(this,void 0,void 0,function*(){return r.isDirectory?gG(r):Sve(r)})}function gG(r){const t=r.createReader();return new Promise((e,i)=>{const n=[];function s(){t.readEntries(a=>bv(this,void 0,void 0,function*(){if(a.length){const o=Promise.all(a.map(Ave));n.push(o),s()}else try{const o=yield Promise.all(n);e(o)}catch(o){i(o)}}),a=>{i(a)})}s()})}function Sve(r){return bv(this,void 0,void 0,function*(){return new Promise((t,e)=>{r.file(i=>{const n=_1(i,r.fullPath);t(n)},i=>{e(i)})})})}var ED={},Q6;function Nve(){return Q6||(Q6=1,ED.__esModule=!0,ED.default=function(r,t){if(r&&t){var e=Array.isArray(t)?t:t.split(",");if(e.length===0)return!0;var i=r.name||"",n=(r.type||"").toLowerCase(),s=n.replace(/\/.*$/,"");return e.some(function(a){var o=a.trim().toLowerCase();return o.charAt(0)==="."?i.toLowerCase().endsWith(o):o.endsWith("/*")?s===o.replace(/\/.*$/,""):n===o})}return!0}),ED}var Ive=Nve();const t2=Uk(Ive);function G6(r){return kve(r)||Ove(r)||yG(r)||Cve()}function Cve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ove(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function kve(r){if(Array.isArray(r))return CO(r)}function K6(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function $6(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?K6(Object(e),!0).forEach(function(i){vG(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):K6(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function vG(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function nT(r,t){return _ve(r)||jve(r,t)||yG(r,t)||Lve()}function Lve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yG(r,t){if(r){if(typeof r=="string")return CO(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return CO(r,t)}}function CO(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function jve(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var i=[],n=!0,s=!1,a,o;try{for(e=e.call(r);!(n=(a=e.next()).done)&&(i.push(a.value),!(t&&i.length===t));n=!0);}catch(l){s=!0,o=l}finally{try{!n&&e.return!=null&&e.return()}finally{if(s)throw o}}return i}}function _ve(r){if(Array.isArray(r))return r}var zve=typeof t2=="function"?t2:t2.default,Rve="file-invalid-type",Pve="file-too-large",Fve="file-too-small",Bve="too-many-files",Uve=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=t.split(","),i=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:Rve,message:"File type must be ".concat(i)}},X6=function(t){return{code:Pve,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},J6=function(t){return{code:Fve,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Vve={code:Bve,message:"Too many files"};function xG(r,t){var e=r.type==="application/x-moz-file"||zve(r,t);return[e,e?null:Uve(t)]}function MG(r,t,e){if(j0(r.size))if(j0(t)&&j0(e)){if(r.size>e)return[!1,X6(e)];if(r.size<t)return[!1,J6(t)]}else{if(j0(t)&&r.size<t)return[!1,J6(t)];if(j0(e)&&r.size>e)return[!1,X6(e)]}return[!0,null]}function j0(r){return r!=null}function Hve(r){var t=r.files,e=r.accept,i=r.minSize,n=r.maxSize,s=r.multiple,a=r.maxFiles,o=r.validator;return!s&&t.length>1||s&&a>=1&&t.length>a?!1:t.every(function(l){var c=xG(l,e),u=nT(c,1),d=u[0],p=MG(l,i,n),m=nT(p,1),y=m[0],M=o?o(l):null;return d&&y&&!M})}function YA(r){return typeof r.isPropagationStopped=="function"?r.isPropagationStopped():typeof r.cancelBubble<"u"?r.cancelBubble:!1}function AD(r){return r.dataTransfer?Array.prototype.some.call(r.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!r.target&&!!r.target.files}function Z6(r){r.preventDefault()}function Wve(r){return r.indexOf("MSIE")!==-1||r.indexOf("Trident/")!==-1}function Yve(r){return r.indexOf("Edge/")!==-1}function qve(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Wve(r)||Yve(r)}function Ld(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return function(i){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return t.some(function(o){return!YA(i)&&o&&o.apply(void 0,[i].concat(s)),YA(i)})}}function Qve(){return"showOpenFilePicker"in window}function Gve(r){if(j0(r)){var t=Object.entries(r).filter(function(e){var i=nT(e,2),n=i[0],s=i[1],a=!0;return wG(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(s)||!s.every(TG))&&(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(e,i){var n=nT(i,2),s=n[0],a=n[1];return $6($6({},e),{},vG({},s,a))},{});return[{description:"Files",accept:t}]}return r}function Kve(r){if(j0(r))return Object.entries(r).reduce(function(t,e){var i=nT(e,2),n=i[0],s=i[1];return[].concat(G6(t),[n],G6(s))},[]).filter(function(t){return wG(t)||TG(t)}).join(",")}function $ve(r){return r instanceof DOMException&&(r.name==="AbortError"||r.code===r.ABORT_ERR)}function Xve(r){return r instanceof DOMException&&(r.name==="SecurityError"||r.code===r.SECURITY_ERR)}function wG(r){return r==="audio/*"||r==="video/*"||r==="image/*"||r==="text/*"||r==="application/*"||/\w+\/[-+.\w]+/g.test(r)}function TG(r){return/^.*\.[\w]+$/.test(r)}var Jve=["children"],Zve=["open"],eye=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],tye=["refKey","onChange","onClick"];function iye(r){return sye(r)||nye(r)||bG(r)||rye()}function rye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nye(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function sye(r){if(Array.isArray(r))return OO(r)}function i2(r,t){return lye(r)||oye(r,t)||bG(r,t)||aye()}function aye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bG(r,t){if(r){if(typeof r=="string")return OO(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return OO(r,t)}}function OO(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=r[e];return i}function oye(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var i=[],n=!0,s=!1,a,o;try{for(e=e.call(r);!(n=(a=e.next()).done)&&(i.push(a.value),!(t&&i.length===t));n=!0);}catch(l){s=!0,o=l}finally{try{!n&&e.return!=null&&e.return()}finally{if(s)throw o}}return i}}function lye(r){if(Array.isArray(r))return r}function eB(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,i)}return e}function oa(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?eB(Object(e),!0).forEach(function(i){kO(r,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):eB(Object(e)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(e,i))})}return r}function kO(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function qA(r,t){if(r==null)return{};var e=cye(r,t),i,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)i=s[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(e[i]=r[i])}return e}function cye(r,t){if(r==null)return{};var e={},i=Object.keys(r),n,s;for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&(e[n]=r[n]);return e}var Ij=ce.forwardRef(function(r,t){var e=r.children,i=qA(r,Jve),n=Cj(i),s=n.open,a=qA(n,Zve);return ce.useImperativeHandle(t,function(){return{open:s}},[s]),mf.createElement(ce.Fragment,null,e(oa(oa({},a),{},{open:s})))});Ij.displayName="Dropzone";var DG={disabled:!1,getFilesFromEvent:xve,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Ij.defaultProps=DG;Ij.propTypes={children:ps.func,accept:ps.objectOf(ps.arrayOf(ps.string)),multiple:ps.bool,preventDropOnDocument:ps.bool,noClick:ps.bool,noKeyboard:ps.bool,noDrag:ps.bool,noDragEventsBubbling:ps.bool,minSize:ps.number,maxSize:ps.number,maxFiles:ps.number,disabled:ps.bool,getFilesFromEvent:ps.func,onFileDialogCancel:ps.func,onFileDialogOpen:ps.func,useFsAccessApi:ps.bool,autoFocus:ps.bool,onDragEnter:ps.func,onDragLeave:ps.func,onDragOver:ps.func,onDrop:ps.func,onDropAccepted:ps.func,onDropRejected:ps.func,onError:ps.func,validator:ps.func};var LO={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Cj(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=oa(oa({},DG),r),e=t.accept,i=t.disabled,n=t.getFilesFromEvent,s=t.maxSize,a=t.minSize,o=t.multiple,l=t.maxFiles,c=t.onDragEnter,u=t.onDragLeave,d=t.onDragOver,p=t.onDrop,m=t.onDropAccepted,y=t.onDropRejected,M=t.onFileDialogCancel,w=t.onFileDialogOpen,b=t.useFsAccessApi,D=t.autoFocus,E=t.preventDropOnDocument,N=t.noClick,B=t.noKeyboard,P=t.noDrag,C=t.noDragEventsBubbling,k=t.onError,_=t.validator,H=ce.useMemo(function(){return Kve(e)},[e]),j=ce.useMemo(function(){return Gve(e)},[e]),z=ce.useMemo(function(){return typeof w=="function"?w:tB},[w]),F=ce.useMemo(function(){return typeof M=="function"?M:tB},[M]),X=ce.useRef(null),J=ce.useRef(null),U=ce.useReducer(uye,LO),W=i2(U,2),re=W[0],Z=W[1],Ee=re.isFocused,ae=re.isFileDialogActive,L=ce.useRef(typeof window<"u"&&window.isSecureContext&&b&&Qve()),Y=function(){!L.current&&ae&&setTimeout(function(){if(J.current){var Bt=J.current.files;Bt.length||(Z({type:"closeDialog"}),F())}},300)};ce.useEffect(function(){return window.addEventListener("focus",Y,!1),function(){window.removeEventListener("focus",Y,!1)}},[J,ae,F,L]);var G=ce.useRef([]),Q=function(Bt){X.current&&X.current.contains(Bt.target)||(Bt.preventDefault(),G.current=[])};ce.useEffect(function(){return E&&(document.addEventListener("dragover",Z6,!1),document.addEventListener("drop",Q,!1)),function(){E&&(document.removeEventListener("dragover",Z6),document.removeEventListener("drop",Q))}},[X,E]),ce.useEffect(function(){return!i&&D&&X.current&&X.current.focus(),function(){}},[X,D,i]);var te=ce.useCallback(function(Mt){k?k(Mt):console.error(Mt)},[k]),le=ce.useCallback(function(Mt){Mt.preventDefault(),Mt.persist(),ni(Mt),G.current=[].concat(iye(G.current),[Mt.target]),AD(Mt)&&Promise.resolve(n(Mt)).then(function(Bt){if(!(YA(Mt)&&!C)){var Xt=Bt.length,gi=Xt>0&&Hve({files:Bt,accept:H,minSize:a,maxSize:s,multiple:o,maxFiles:l,validator:_}),he=Xt>0&&!gi;Z({isDragAccept:gi,isDragReject:he,isDragActive:!0,type:"setDraggedFiles"}),c&&c(Mt)}}).catch(function(Bt){return te(Bt)})},[n,c,te,C,H,a,s,o,l,_]),Me=ce.useCallback(function(Mt){Mt.preventDefault(),Mt.persist(),ni(Mt);var Bt=AD(Mt);if(Bt&&Mt.dataTransfer)try{Mt.dataTransfer.dropEffect="copy"}catch{}return Bt&&d&&d(Mt),!1},[d,C]),ve=ce.useCallback(function(Mt){Mt.preventDefault(),Mt.persist(),ni(Mt);var Bt=G.current.filter(function(gi){return X.current&&X.current.contains(gi)}),Xt=Bt.indexOf(Mt.target);Xt!==-1&&Bt.splice(Xt,1),G.current=Bt,!(Bt.length>0)&&(Z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),AD(Mt)&&u&&u(Mt))},[X,u,C]),Ie=ce.useCallback(function(Mt,Bt){var Xt=[],gi=[];Mt.forEach(function(he){var Ne=xG(he,H),Ue=i2(Ne,2),Ke=Ue[0],yt=Ue[1],xt=MG(he,a,s),Nt=i2(xt,2),hi=Nt[0],bi=Nt[1],vi=_?_(he):null;if(Ke&&hi&&!vi)Xt.push(he);else{var Bi=[yt,bi];vi&&(Bi=Bi.concat(vi)),gi.push({file:he,errors:Bi.filter(function(Qi){return Qi})})}}),(!o&&Xt.length>1||o&&l>=1&&Xt.length>l)&&(Xt.forEach(function(he){gi.push({file:he,errors:[Vve]})}),Xt.splice(0)),Z({acceptedFiles:Xt,fileRejections:gi,isDragReject:gi.length>0,type:"setFiles"}),p&&p(Xt,gi,Bt),gi.length>0&&y&&y(gi,Bt),Xt.length>0&&m&&m(Xt,Bt)},[Z,o,H,a,s,l,p,m,y,_]),Je=ce.useCallback(function(Mt){Mt.preventDefault(),Mt.persist(),ni(Mt),G.current=[],AD(Mt)&&Promise.resolve(n(Mt)).then(function(Bt){YA(Mt)&&!C||Ie(Bt,Mt)}).catch(function(Bt){return te(Bt)}),Z({type:"reset"})},[n,Ie,te,C]),xe=ce.useCallback(function(){if(L.current){Z({type:"openDialog"}),z();var Mt={multiple:o,types:j};window.showOpenFilePicker(Mt).then(function(Bt){return n(Bt)}).then(function(Bt){Ie(Bt,null),Z({type:"closeDialog"})}).catch(function(Bt){$ve(Bt)?(F(Bt),Z({type:"closeDialog"})):Xve(Bt)?(L.current=!1,J.current?(J.current.value=null,J.current.click()):te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):te(Bt)});return}J.current&&(Z({type:"openDialog"}),z(),J.current.value=null,J.current.click())},[Z,z,F,b,Ie,te,j,o]),Ot=ce.useCallback(function(Mt){!X.current||!X.current.isEqualNode(Mt.target)||(Mt.key===" "||Mt.key==="Enter"||Mt.keyCode===32||Mt.keyCode===13)&&(Mt.preventDefault(),xe())},[X,xe]),Ge=ce.useCallback(function(){Z({type:"focus"})},[]),Se=ce.useCallback(function(){Z({type:"blur"})},[]),ti=ce.useCallback(function(){N||(qve()?setTimeout(xe,0):xe())},[N,xe]),Tt=function(Bt){return i?null:Bt},$t=function(Bt){return B?null:Tt(Bt)},Lt=function(Bt){return P?null:Tt(Bt)},ni=function(Bt){C&&Bt.stopPropagation()},Yt=ce.useMemo(function(){return function(){var Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Bt=Mt.refKey,Xt=Bt===void 0?"ref":Bt,gi=Mt.role,he=Mt.onKeyDown,Ne=Mt.onFocus,Ue=Mt.onBlur,Ke=Mt.onClick,yt=Mt.onDragEnter,xt=Mt.onDragOver,Nt=Mt.onDragLeave,hi=Mt.onDrop,bi=qA(Mt,eye);return oa(oa(kO({onKeyDown:$t(Ld(he,Ot)),onFocus:$t(Ld(Ne,Ge)),onBlur:$t(Ld(Ue,Se)),onClick:Tt(Ld(Ke,ti)),onDragEnter:Lt(Ld(yt,le)),onDragOver:Lt(Ld(xt,Me)),onDragLeave:Lt(Ld(Nt,ve)),onDrop:Lt(Ld(hi,Je)),role:typeof gi=="string"&&gi!==""?gi:"presentation"},Xt,X),!i&&!B?{tabIndex:0}:{}),bi)}},[X,Ot,Ge,Se,ti,le,Me,ve,Je,B,P,i]),Ri=ce.useCallback(function(Mt){Mt.stopPropagation()},[]),pi=ce.useMemo(function(){return function(){var Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Bt=Mt.refKey,Xt=Bt===void 0?"ref":Bt,gi=Mt.onChange,he=Mt.onClick,Ne=qA(Mt,tye),Ue=kO({accept:H,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Tt(Ld(gi,Je)),onClick:Tt(Ld(he,Ri)),tabIndex:-1},Xt,J);return oa(oa({},Ue),Ne)}},[J,e,o,Je,i]);return oa(oa({},re),{},{isFocused:Ee&&!i,getRootProps:Yt,getInputProps:pi,rootRef:X,inputRef:J,open:Tt(xe)})}function uye(r,t){switch(t.type){case"focus":return oa(oa({},r),{},{isFocused:!0});case"blur":return oa(oa({},r),{},{isFocused:!1});case"openDialog":return oa(oa({},LO),{},{isFileDialogActive:!0});case"closeDialog":return oa(oa({},r),{},{isFileDialogActive:!1});case"setDraggedFiles":return oa(oa({},r),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return oa(oa({},r),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return oa({},LO);default:return r}}function tB(){}const ew=[{id:"general_handyman",name:"General Handyman & Repair",services:["Furniture assembly and installation","Door and window repair or replacement","Lock replacement and rekeying","Drywall patching and repair","Tile, grout, and caulking repair","Mounting TVs, shelves, mirrors, and artwork","Weatherproofing and insulation","Fence and gate repair","Mailbox installation or repair","Deck repair and staining"]},{id:"electrical_lighting",name:"Electrical & Lighting",services:["Light fixture and ceiling fan installation","Outlet and switch replacement","Smoke and carbon monoxide detector installation","Low-voltage wiring (doorbells, thermostats, security cameras)","Landscape or exterior lighting maintenance"]},{id:"plumbing_water",name:"Plumbing & Water Services",services:["Faucet, toilet, and showerhead installation or repair","Garbage disposal installation","Leak detection and repair (minor)","Drain cleaning (non-industrial)","Water filter or softener system installation"]},{id:"carpentry_custom",name:"Carpentry & Custom Work",services:["Custom shelving or cabinetry","Trim, baseboard, and molding installation","Closet build-outs or organization systems","Deck construction or repair","Stair and railing repair"]},{id:"painting_finishing",name:"Painting & Finishing",services:["Interior and exterior painting","Touch-ups and color matching","Wallpaper removal or installation","Staining and varnishing woodwork","Garage floor or concrete coating"]},{id:"outdoor_yard",name:"Outdoor & Yard Services",services:["Lawn mowing and edging","Hedge trimming and tree pruning","Garden bed cleanup and mulching","Sprinkler repair and adjustment","Gutter cleaning and downspout flushing","Pressure washing (driveways, siding, decks)","Fence repair and painting"]},{id:"pool_spa",name:"Pool & Spa Services",services:["Routine pool cleaning and chemical balancing","Filter and pump maintenance","Tile cleaning and calcium removal","Equipment inspection and repair"]},{id:"pest_control",name:"Pest Control Services",services:["Ant, spider, roach, and wasp treatments","Rodent trapping and exclusion","Termite inspection and spot treatment","Bed bug and flea control","Mosquito and outdoor pest management","Wildlife removal (squirrels, raccoons, etc.)"]},{id:"hvac_appliance",name:"HVAC & Appliance Services",services:["Filter replacement and vent cleaning","Thermostat installation","Window or portable AC unit installation","Dryer vent cleaning","Appliance hookup (washer, dryer, dishwasher)"]},{id:"cleaning_maintenance",name:"Cleaning & Maintenance",services:["Move-in/move-out cleaning","Window cleaning","Carpet and upholstery cleaning","Pressure washing (house exteriors, walkways)","Trash removal and hauling","Janitorial or office cleaning"]},{id:"home_improvement",name:"Home Improvement & Renovation",services:["Kitchen or bathroom updates","Flooring installation (laminate, vinyl, tile)","Countertop and backsplash replacement","Small remodeling projects","Garage organization systems"]},{id:"hauling_misc",name:"Hauling & Miscellaneous",services:["Junk removal and yard waste hauling","Appliance or furniture delivery","Moving assistance (load/unload)","Snow removal","Holiday light installation"]}],hye=()=>{const{userProfile:r,updateUserProfile:t}=vf(),[e,i]=ce.useState(1),[n,s]=ce.useState(!1),[a,o]=ce.useState(null),[l,c]=ce.useState([]),[u,d]=ce.useState({name:"",description:"",address:"",city:"",state:"",zipCode:"",phone:"",email:"",website:"",contactLink:"",logo:"",primaryColor:"#10b981",secondaryColor:"#6b7280"}),[p,m]=ce.useState([]),[y,M]=ce.useState([]),[w,b]=ce.useState(""),[D,E]=ce.useState("technician"),[N,B]=ce.useState(!1),P=[{id:1,name:"Basic Info",icon:lv},{id:2,name:"Services",icon:VA},{id:3,name:"Team",icon:ive},{id:4,name:"Branding",icon:pG},{id:5,name:"Templates",icon:td}];ce.useEffect(()=>{C()},[]);const C=async()=>{if(r?.companyId){s(!0);try{const J=await $o.getCompany(r.companyId);if(J.success){o(J.company),d({name:J.company.name||"",description:J.company.description||"",address:J.company.address||"",city:J.company.city||"",state:J.company.state||"",zipCode:J.company.zipCode||"",phone:J.company.phone||"",email:J.company.email||"",website:J.company.website||"",contactLink:J.company.contactLink||"",logo:J.company.logo||"",primaryColor:J.company.primaryColor||"#10b981",secondaryColor:J.company.secondaryColor||"#6b7280"}),m(J.company.serviceCategories||[]);const U=r?.services||[],W=J.company.services||[];M(W.length>0?W:U);const re=await $o.getTeamMembers(r.companyId);re.success&&c(re.teamMembers)}}catch(J){console.error("Error loading company data:",J)}s(!1)}},k=(J,U)=>{d(W=>({...W,[J]:U}))},_=async()=>{s(!0);try{let J;const U={...u,serviceCategories:p,services:y};a?J=await $o.updateCompany(a.id,U):(J=await $o.createCompany(U),J.success&&await t({companyId:J.companyId})),J.success?(o(J.company),mt.success(a?"Company updated successfully!":"Company created successfully!")):mt.error(J.error)}catch(J){console.error("Error saving company:",J),mt.error("Error saving company")}s(!1)},H=async()=>{if(!(!w.trim()||!a)){s(!0);try{const J=await $o.addTeamMember(a.id,w,D);J.success?(c(U=>[...U,J.teamMember]),b(""),mt.success("Team member invited successfully!")):mt.error(J.error)}catch(J){console.error("Error adding team member:",J),mt.error("Error adding team member")}s(!1)}},j=async J=>{s(!0);try{const U=await $o.removeTeamMember(J);U.success?(c(W=>W.filter(re=>re.id!==J)),mt.success("Team member removed successfully!")):mt.error(U.error)}catch(U){console.error("Error removing team member:",U),mt.error("Error removing team member")}s(!1)},z=()=>{e<P.length&&i(e+1)},F=()=>{e>1&&i(e-1)},X=()=>{switch(e){case 1:return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Company Information"}),x.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Name *"}),x.jsx("input",{type:"text",value:u.name,onChange:J=>k("name",J.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Enter company name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),x.jsx("input",{type:"tel",value:u.phone,onChange:J=>k("phone",J.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"(555) 123-4567"})]}),x.jsxs("div",{className:"sm:col-span-2",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),x.jsx("textarea",{value:u.description,onChange:J=>k("description",J.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Brief description of your company and services"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),x.jsx("input",{type:"email",value:u.email,onChange:J=>k("email",J.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"company@example.com"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Website"}),x.jsx("input",{type:"url",value:u.website,onChange:J=>k("website",J.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"https://www.example.com"})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Contact Link",x.jsx("span",{className:"ml-2 text-xs text-gray-500 font-normal",children:"(Link shown in invoice emails)"})]}),x.jsx("input",{type:"url",value:u.contactLink,onChange:J=>k("contactLink",J.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"https://www.example.com/contact or mailto:contact@example.com"}),x.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This link will be prominently displayed in invoice emails. Use your contact page URL or a mailto link."})]})]})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Address"}),x.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[x.jsxs("div",{className:"sm:col-span-2",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Street Address"}),x.jsx("input",{type:"text",value:u.address,onChange:J=>k("address",J.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"123 Main Street"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),x.jsx("input",{type:"text",value:u.city,onChange:J=>k("city",J.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Bakersfield"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),x.jsx("input",{type:"text",value:u.state,onChange:J=>k("state",J.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"CA"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),x.jsx("input",{type:"text",value:u.zipCode,onChange:J=>k("zipCode",J.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"93311"})]})]})]})]});case 2:return x.jsx("div",{className:"space-y-6",children:x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Service Categories"}),x.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select the service categories your company offers. These match the options available in the mobile app and will be used in estimates and job scheduling."}),x.jsxs("div",{className:"space-y-4",children:[ew.map(J=>{const U=J.services,W=U.filter(Z=>y.includes(Z)),re=W.length>0;return W.length,U.length,x.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",id:`category-${J.id}`,checked:re,onChange:Z=>{Z.target.checked?(M(Ee=>{const ae=[...Ee];return U.forEach(L=>{ae.includes(L)||ae.push(L)}),ae}),p.includes(J.name)||m(Ee=>[...Ee,J.name])):(M(Ee=>Ee.filter(ae=>!U.includes(ae))),m(Ee=>Ee.filter(ae=>ae!==J.name)))},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),x.jsx("label",{htmlFor:`category-${J.id}`,className:"ml-3 text-sm font-medium text-gray-900 cursor-pointer",children:J.name})]}),x.jsx("span",{className:"text-xs text-gray-500",children:W.length>0?`${W.length} of ${J.services.length} selected`:`${J.services.length} services`})]}),re&&x.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200",children:x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:J.services.map((Z,Ee)=>{const ae=y.includes(Z);return x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",id:`service-${J.id}-${Ee}`,checked:ae,onChange:L=>{L.target.checked?(M(Y=>Y.includes(Z)?Y:[...Y,Z]),p.includes(J.name)||m(Y=>[...Y,J.name])):M(Y=>{const G=Y.filter(te=>te!==Z);return G.filter(te=>U.includes(te)).length===0&&m(te=>te.filter(le=>le!==J.name)),G})},className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),x.jsx("label",{htmlFor:`service-${J.id}-${Ee}`,className:"ml-2 text-sm text-gray-700 cursor-pointer",children:Z})]},Ee)})})})]},J.id)}),p.length===0&&x.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:x.jsxs("p",{className:"text-sm text-yellow-800",children:[x.jsx("strong",{children:"No service categories selected."})," Select at least one category to continue."]})})]})]})});case 3:return x.jsx("div",{className:"space-y-6",children:x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Team Members"}),x.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Invite team members to join your company. They'll be able to access jobs and customers."}),x.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:x.jsxs("div",{className:"flex gap-2 mb-3",children:[x.jsx("input",{type:"email",value:w,onChange:J=>b(J.target.value),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Enter email address"}),x.jsxs("select",{value:D,onChange:J=>E(J.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[x.jsx("option",{value:"technician",children:"Technician"}),x.jsx("option",{value:"manager",children:"Manager"}),x.jsx("option",{value:"admin",children:"Admin"})]}),x.jsx("button",{type:"button",onClick:H,disabled:!w.trim()||n,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Invite"})]})}),x.jsxs("div",{className:"space-y-2",children:[l.map(J=>x.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 px-4 py-3 rounded-md",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center",children:x.jsx("span",{className:"text-gray-600 text-sm font-medium",children:J.email.charAt(0).toUpperCase()})})}),x.jsxs("div",{className:"ml-3",children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:J.email}),x.jsx("p",{className:"text-sm text-gray-500 capitalize",children:J.role})]})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${J.status==="active"?"bg-green-100 text-green-800":J.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:J.status}),x.jsx("button",{type:"button",onClick:()=>j(J.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]})]},J.id)),l.length===0&&x.jsx("p",{className:"text-sm text-gray-500 italic",children:"No team members added yet"})]})]})});case 4:return x.jsx("div",{className:"space-y-6",children:x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Branding & Colors"}),x.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Customize your company's visual identity. These colors will be used in estimates and customer communications."}),x.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("input",{type:"color",value:u.primaryColor,onChange:J=>k("primaryColor",J.target.value),className:"h-10 w-20 rounded border-gray-300"}),x.jsx("input",{type:"text",value:u.primaryColor,onChange:J=>k("primaryColor",J.target.value),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("input",{type:"color",value:u.secondaryColor,onChange:J=>k("secondaryColor",J.target.value),className:"h-10 w-20 rounded border-gray-300"}),x.jsx("input",{type:"text",value:u.secondaryColor,onChange:J=>k("secondaryColor",J.target.value),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]})]}),x.jsxs("div",{className:"mt-6",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Logo"}),x.jsx(dye,{logoUrl:u.logo,onLogoUploaded:J=>k("logo",J),companyId:a?.id||r?.companyId,isUploading:N,onUploadingChange:B})]})]})});case 5:return x.jsx("div",{className:"space-y-6",children:x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Estimate Templates"}),x.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Configure default settings for your estimates and invoices."}),x.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),x.jsxs("div",{className:"ml-3",children:[x.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Coming Soon"}),x.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[x.jsx("p",{children:"Estimate template configuration will include:"}),x.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[x.jsx("li",{children:"Default labor rates"}),x.jsx("li",{children:"Material markup percentages"}),x.jsx("li",{children:"Estimate validity periods"}),x.jsx("li",{children:"Terms and conditions"}),x.jsx("li",{children:"Payment terms"})]})]})]})]})})]})});default:return null}};return n&&!a?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):x.jsxs(ph.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx(lv,{className:"h-8 w-8 text-primary-500 mr-3"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Company Setup"}),x.jsx("p",{className:"text-gray-600",children:a?"Manage your company settings":"Set up your company profile"})]})]})}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:x.jsx("div",{className:"flex items-center justify-between",children:P.map((J,U)=>{const W=J.icon,re=e===J.id,Z=e>J.id;return x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${Z?"bg-primary-500 border-primary-500 text-white":re?"border-primary-500 text-primary-500":"border-gray-300 text-gray-400"}`,children:Z?x.jsx(Ig,{className:"w-6 h-6"}):x.jsx(W,{className:"w-6 h-6"})}),x.jsx("div",{className:"ml-3",children:x.jsx("p",{className:`text-sm font-medium ${re?"text-primary-600":Z?"text-gray-900":"text-gray-500"}`,children:J.name})}),U<P.length-1&&x.jsx("div",{className:`ml-8 w-16 h-0.5 ${Z?"bg-primary-500":"bg-gray-300"}`})]},J.id)})})}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:X()}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:x.jsxs("div",{className:"flex justify-between",children:[x.jsx("button",{type:"button",onClick:F,disabled:e===1,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("button",{type:"button",onClick:_,disabled:n,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":"Save Changes"}),e<P.length&&x.jsx("button",{type:"button",onClick:z,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:"Next"})]})]})})]})},dye=({logoUrl:r,onLogoUploaded:t,companyId:e,isUploading:i,onUploadingChange:n})=>{const[s,a]=ce.useState(null);ce.useEffect(()=>{r&&a(r)},[r]);const o=async p=>{if(p.length===0)return;const m=p[0];if(!m.type.startsWith("image/")){mt.error("Please upload an image file");return}if(m.size>5*1024*1024){mt.error("File size must be less than 5MB");return}const y=new FileReader;if(y.onload=M=>{a(M.target.result)},y.readAsDataURL(m),!e){mt.error("Please save company information first");return}n(!0);try{const M=await hve.uploadCompanyLogo(m,e);M.success?(t(M.url),mt.success("Logo uploaded successfully!")):(mt.error(M.error||"Failed to upload logo"),a(r))}catch(M){console.error("Error uploading logo:",M),mt.error("Failed to upload logo"),a(r)}finally{n(!1)}},{getRootProps:l,getInputProps:c,isDragActive:u}=Cj({onDrop:o,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"]},maxFiles:1,disabled:i||!e}),d=()=>{a(null),t(""),mt.success("Logo removed")};return x.jsxs("div",{className:"space-y-3",children:[(s||r)&&x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("img",{className:"h-24 w-24 rounded-lg object-contain border border-gray-200 bg-white p-2",src:s||r,alt:"Company logo"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"text-sm text-gray-600",children:"Current logo"}),r&&x.jsxs("button",{type:"button",onClick:d,className:"mt-2 text-sm text-red-600 hover:text-red-800 flex items-center gap-1",children:[x.jsx(HA,{className:"h-4 w-4"}),"Remove logo"]})]})]}),x.jsxs("div",{...l(),className:`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors ${u?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400 bg-gray-50 hover:bg-gray-100"} ${i||!e?"opacity-50 cursor-not-allowed":""}`,children:[x.jsx("input",{...c()}),i?x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mb-2"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Uploading logo..."})]}):x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx(pG,{className:"h-10 w-10 text-gray-400 mb-2"}),u?x.jsx("p",{className:"text-sm text-primary-600 font-medium",children:"Drop the image here"}):x.jsxs(x.Fragment,{children:[x.jsxs("p",{className:"text-sm text-gray-600",children:[x.jsx("span",{className:"text-primary-600 font-medium",children:"Click to upload"})," or drag and drop"]}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF, or WebP (max 5MB)"})]})]})]}),!e&&x.jsx("p",{className:"text-xs text-amber-600",children:"Please save basic company information first before uploading a logo."})]})};class Xh{static getCurrentUserId(){const t=wl.currentUser;if(!t)throw new Error("No user is currently signed in");return t.uid}static async createCustomer(t){try{const e=this.getCurrentUserId(),i={...t,userId:e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0,totalJobs:0,totalSpent:0,lastServiceDate:null},n=await Cp(Pn(Ai,"customers"),i);return{success:!0,customerId:n.id,customer:{id:n.id,...i}}}catch(e){return console.error("Error creating customer:",e),{success:!1,error:e.message}}}static async getCustomers(t=50,e=null){try{const i=this.getCurrentUserId();let n=Hs(Pn(Ai,"customers"),qn("userId","==",i),vu("name","asc"),ZL(t));e&&(n=Hs(n,Tq(e)));const s=await Wa(n),a=[];return s.forEach(o=>{a.push({id:o.id,...o.data()})}),{success:!0,customers:a,lastDoc:s.docs[s.docs.length-1]||null,hasMore:s.docs.length===t}}catch(i){return console.error("Error getting customers:",i),{success:!1,error:i.message}}}static async searchCustomers(t,e=20){try{const i=this.getCurrentUserId(),n=await this.getCustomers(1e3);return n.success?{success:!0,customers:n.customers.filter(a=>{const o=t.toLowerCase();return a.name?.toLowerCase().includes(o)||a.email?.toLowerCase().includes(o)||a.phone?.includes(t)||a.address?.toLowerCase().includes(o)}).slice(0,e)}:n}catch(i){return console.error("Error searching customers:",i),{success:!1,error:i.message}}}static async getCustomer(t){try{const e=this.getCurrentUserId(),i=await vh(Br(Ai,"customers",t));if(!i.exists())return{success:!1,error:"Customer not found"};const n=i.data();return n.userId!==e?{success:!1,error:"Unauthorized to access this customer"}:{success:!0,customer:{id:i.id,...n}}}catch(e){return console.error("Error getting customer:",e),{success:!1,error:e.message}}}static async updateCustomer(t,e){try{const i=this.getCurrentUserId(),n=await this.getCustomer(t);if(!n.success)return n;const s={...e,updatedAt:new Date().toISOString()};return await ql(Br(Ai,"customers",t),s),{success:!0,customer:{...n.customer,...s}}}catch(i){return console.error("Error updating customer:",i),{success:!1,error:i.message}}}static async deleteCustomer(t){try{const e=this.getCurrentUserId(),i=await this.getCustomer(t);return i.success?(await ql(Br(Ai,"customers",t),{isActive:!1,deletedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),{success:!0}):i}catch(e){return console.error("Error deleting customer:",e),{success:!1,error:e.message}}}static async permanentlyDeleteCustomer(t){try{const e=this.getCurrentUserId(),i=await this.getCustomer(t);return i.success?(await Z1(Br(Ai,"customers",t)),{success:!0}):i}catch(e){return console.error("Error permanently deleting customer:",e),{success:!1,error:e.message}}}static async restoreCustomer(t){try{const e=this.getCurrentUserId(),i=await this.getCustomer(t);return i.success?(await ql(Br(Ai,"customers",t),{isActive:!0,deletedAt:null,updatedAt:new Date().toISOString()}),{success:!0}):i}catch(e){return console.error("Error restoring customer:",e),{success:!1,error:e.message}}}static async getCustomerStats(){try{const t=this.getCurrentUserId(),e=Hs(Pn(Ai,"customers"),qn("userId","==",t)),i=await Wa(e);let n=0,s=0,a=0;return i.forEach(o=>{const l=o.data();n++,l.isActive&&s++,a+=l.totalSpent||0}),{success:!0,stats:{totalCustomers:n,activeCustomers:s,inactiveCustomers:n-s,totalRevenue:a}}}catch(t){return console.error("Error getting customer stats:",t),{success:!1,error:t.message}}}static async importCustomers(t){try{return{success:!1,error:"CSV import not yet implemented"}}catch(e){return console.error("Error importing customers:",e),{success:!1,error:e.message}}}static async exportCustomers(){try{const t=await this.getCustomers(1e3);if(!t.success)return t;const i=[["Name","Email","Phone","Address","City","State","ZIP","Created Date"].join(",")];return t.customers.forEach(n=>{const s=[n.name||"",n.email||"",n.phone||"",n.address||"",n.city||"",n.state||"",n.zipCode||"",n.createdAt||""];i.push(s.map(a=>`"${a}"`).join(","))}),{success:!0,csvData:i.join(`
`)}}catch(t){return console.error("Error exporting customers:",t),{success:!1,error:t.message}}}}const fye=()=>{const[r,t]=ce.useState([]),[e,i]=ce.useState([]),[n,s]=ce.useState(!1),[a,o]=ce.useState(""),[l,c]=ce.useState(!1),[u,d]=ce.useState(!1),[p,m]=ce.useState(!1),[y,M]=ce.useState(null),[w,b]=ce.useState({totalCustomers:0,activeCustomers:0,inactiveCustomers:0,totalRevenue:0}),[D,E]=ce.useState({name:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",notes:"",isActive:!0,emailConsent:!1}),[N,B]=ce.useState("all"),[P,C]=ce.useState("name");ce.useEffect(()=>{k(),_()},[]),ce.useEffect(()=>{H()},[r,a,N,P]);const k=async()=>{s(!0);try{const L=await Xh.getCustomers();L.success?t(L.customers):mt.error(L.error)}catch(L){console.error("Error loading customers:",L),mt.error("Error loading customers")}s(!1)},_=async()=>{try{const L=await Xh.getCustomerStats();L.success&&b(L.stats)}catch(L){console.error("Error loading stats:",L)}},H=()=>{let L=[...r];a&&(L=L.filter(Y=>{const G=a.toLowerCase();return Y.name?.toLowerCase().includes(G)||Y.email?.toLowerCase().includes(G)||Y.phone?.includes(a)||Y.address?.toLowerCase().includes(G)})),N==="active"?L=L.filter(Y=>Y.isActive):N==="inactive"&&(L=L.filter(Y=>!Y.isActive)),L.sort((Y,G)=>{switch(P){case"name":return(Y.name||"").localeCompare(G.name||"");case"createdAt":return new Date(G.createdAt)-new Date(Y.createdAt);case"totalSpent":return(G.totalSpent||0)-(Y.totalSpent||0);default:return 0}}),i(L)},j=(L,Y)=>{E(G=>({...G,[L]:Y}))},z=()=>{E({name:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",notes:"",isActive:!0,emailConsent:!1})},F=async()=>{if(!D.name.trim()){mt.error("Customer name is required");return}s(!0);try{const L=await Xh.createCustomer(D);L.success?(t(Y=>[L.customer,...Y]),c(!1),z(),_(),mt.success("Customer added successfully!")):mt.error(L.error)}catch(L){console.error("Error adding customer:",L),mt.error("Error adding customer")}s(!1)},X=async()=>{if(!D.name.trim()){mt.error("Customer name is required");return}s(!0);try{const L=await Xh.updateCustomer(y.id,D);L.success?(t(Y=>Y.map(G=>G.id===y.id?L.customer:G)),d(!1),M(null),z(),mt.success("Customer updated successfully!")):mt.error(L.error)}catch(L){console.error("Error updating customer:",L),mt.error("Error updating customer")}s(!1)},J=async L=>{if(window.confirm("Are you sure you want to delete this customer?")){s(!0);try{const Y=await Xh.deleteCustomer(L);Y.success?(t(G=>G.map(Q=>Q.id===L?{...Q,isActive:!1}:Q)),_(),mt.success("Customer deleted successfully!")):mt.error(Y.error)}catch(Y){console.error("Error deleting customer:",Y),mt.error("Error deleting customer")}s(!1)}},U=async L=>{s(!0);try{const Y=await Xh.restoreCustomer(L);Y.success?(t(G=>G.map(Q=>Q.id===L?{...Q,isActive:!0}:Q)),_(),mt.success("Customer restored successfully!")):mt.error(Y.error)}catch(Y){console.error("Error restoring customer:",Y),mt.error("Error restoring customer")}s(!1)},W=L=>{M(L),E({name:L.name||"",email:L.email||"",phone:L.phone||"",address:L.address||"",city:L.city||"",state:L.state||"",zipCode:L.zipCode||"",notes:L.notes||"",isActive:L.isActive,emailConsent:L.emailConsent||!1}),d(!0)},re=L=>{M(L),m(!0)},Z=async()=>{try{const L=await Xh.exportCustomers();if(L.success){const Y=new Blob([L.csvData],{type:"text/csv"}),G=window.URL.createObjectURL(Y),Q=document.createElement("a");Q.href=G,Q.download=`customers-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),window.URL.revokeObjectURL(G),mt.success("Customers exported successfully!")}else mt.error(L.error)}catch(L){console.error("Error exporting customers:",L),mt.error("Error exporting customers")}},Ee=L=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(L||0),ae=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return x.jsxs(ph.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(Lp,{className:"h-8 w-8 text-primary-500 mr-3"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Management"}),x.jsx("p",{className:"text-gray-600",children:"Manage your customer database"})]})]}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsxs("button",{onClick:Z,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[x.jsx(Nj,{className:"h-4 w-4 mr-2"}),"Export"]}),x.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[x.jsx(cv,{className:"h-4 w-4 mr-2"}),"Add Customer"]})]})]})}),x.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(Lp,{className:"h-6 w-6 text-primary-500"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Customers"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:w.totalCustomers})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-6 w-6 bg-green-500 rounded-full"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Customers"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:w.activeCustomers})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-6 w-6 bg-gray-400 rounded-full"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Inactive Customers"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:w.inactiveCustomers})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-6 w-6 bg-green-600 rounded-full"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:Ee(w.totalRevenue)})]})})]})})})]}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[x.jsx("div",{className:"flex-1",children:x.jsxs("div",{className:"relative",children:[x.jsx(eb,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),x.jsx("input",{type:"text",placeholder:"Search customers by name, email, phone, or address...",value:a,onChange:L=>o(L.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]})}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("select",{value:N,onChange:L=>B(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",children:[x.jsx("option",{value:"all",children:"All Customers"}),x.jsx("option",{value:"active",children:"Active Only"}),x.jsx("option",{value:"inactive",children:"Inactive Only"})]}),x.jsxs("select",{value:P,onChange:L=>C(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",children:[x.jsx("option",{value:"name",children:"Sort by Name"}),x.jsx("option",{value:"createdAt",children:"Sort by Date Added"}),x.jsx("option",{value:"totalSpent",children:"Sort by Total Spent"})]})]})]})}),x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[x.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:x.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Customers (",e.length,")"]})}),n?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e.length===0?x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Lp,{className:"mx-auto h-12 w-12 text-gray-400"}),x.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No customers found"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a?"Try adjusting your search terms.":"Get started by adding your first customer."}),!a&&x.jsx("div",{className:"mt-6",children:x.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[x.jsx(cv,{className:"h-4 w-4 mr-2"}),"Add Customer"]})})]}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Spent"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(L=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:x.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:x.jsx("span",{className:"text-sm font-medium text-gray-700",children:L.name?.charAt(0)?.toUpperCase()||"?"})})}),x.jsxs("div",{className:"ml-4",children:[x.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name||"Unnamed"}),x.jsxs("div",{className:"text-sm text-gray-500",children:["Added ",ae(L.createdAt)]})]})]})}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[x.jsx("div",{className:"text-sm text-gray-900",children:L.email||"-"}),x.jsx("div",{className:"text-sm text-gray-500",children:L.phone||"-"})]}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("div",{className:"text-sm text-gray-900",children:L.address?`${L.address}, ${L.city}, ${L.state} ${L.zipCode}`:"-"})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ee(L.totalSpent)}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:L.isActive?"Active":"Inactive"})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>re(L),className:"text-primary-600 hover:text-primary-900",children:x.jsx(rT,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>W(L),className:"text-gray-600 hover:text-gray-900",children:x.jsx(tb,{className:"h-4 w-4"})}),L.isActive?x.jsx("button",{onClick:()=>J(L.id),className:"text-red-600 hover:text-red-900",children:x.jsx(AN,{className:"h-4 w-4"})}):x.jsx("button",{onClick:()=>U(L.id),className:"text-green-600 hover:text-green-900",children:"Restore"})]})})]},L.id))})]})})]}),l&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New Customer"}),x.jsxs("button",{onClick:()=>{c(!1),z()},className:"text-gray-400 hover:text-gray-600",children:[x.jsx("span",{className:"sr-only",children:"Close"}),x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),x.jsx("input",{type:"text",value:D.name,onChange:L=>j("name",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Enter customer name"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),x.jsx("input",{type:"email",value:D.email,onChange:L=>j("email",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"email@example.com"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),x.jsx("input",{type:"tel",value:D.phone,onChange:L=>j("phone",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"(555) 123-4567"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),x.jsx("input",{type:"text",value:D.address,onChange:L=>j("address",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"123 Main Street"})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),x.jsx("input",{type:"text",value:D.city,onChange:L=>j("city",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Bakersfield"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),x.jsx("input",{type:"text",value:D.state,onChange:L=>j("state",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"CA"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP"}),x.jsx("input",{type:"text",value:D.zipCode,onChange:L=>j("zipCode",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"93311"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),x.jsx("textarea",{value:D.notes,onChange:L=>j("notes",L.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Additional notes about this customer..."})]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",id:"emailConsent",checked:D.emailConsent,onChange:L=>j("emailConsent",L.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),x.jsx("label",{htmlFor:"emailConsent",className:"ml-2 block text-sm text-gray-700",children:"Customer consents to receive invoices via email"})]})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[x.jsx("button",{onClick:()=>{c(!1),z()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),x.jsx("button",{onClick:F,disabled:n,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Adding...":"Add Customer"})]})]})})}),u&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Customer"}),x.jsxs("button",{onClick:()=>{d(!1),M(null),z()},className:"text-gray-400 hover:text-gray-600",children:[x.jsx("span",{className:"sr-only",children:"Close"}),x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),x.jsx("input",{type:"text",value:D.name,onChange:L=>j("name",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Enter customer name"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),x.jsx("input",{type:"email",value:D.email,onChange:L=>j("email",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"email@example.com"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),x.jsx("input",{type:"tel",value:D.phone,onChange:L=>j("phone",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"(555) 123-4567"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),x.jsx("input",{type:"text",value:D.address,onChange:L=>j("address",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"123 Main Street"})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),x.jsx("input",{type:"text",value:D.city,onChange:L=>j("city",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Bakersfield"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),x.jsx("input",{type:"text",value:D.state,onChange:L=>j("state",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"CA"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP"}),x.jsx("input",{type:"text",value:D.zipCode,onChange:L=>j("zipCode",L.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"93311"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),x.jsx("textarea",{value:D.notes,onChange:L=>j("notes",L.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Additional notes about this customer..."})]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",id:"editEmailConsent",checked:D.emailConsent,onChange:L=>j("emailConsent",L.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),x.jsx("label",{htmlFor:"editEmailConsent",className:"ml-2 block text-sm text-gray-700",children:"Customer consents to receive invoices via email"})]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",id:"isActive",checked:D.isActive,onChange:L=>j("isActive",L.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),x.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active customer"})]})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[x.jsx("button",{onClick:()=>{d(!1),M(null),z()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),x.jsx("button",{onClick:X,disabled:n,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":"Save Changes"})]})]})})}),p&&y&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Customer Details"}),x.jsxs("button",{onClick:()=>{m(!1),M(null)},className:"text-gray-400 hover:text-gray-600",children:[x.jsx("span",{className:"sr-only",children:"Close"}),x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:x.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-300 flex items-center justify-center",children:x.jsx("span",{className:"text-lg font-medium text-gray-700",children:y.name?.charAt(0)?.toUpperCase()||"?"})})}),x.jsxs("div",{className:"ml-4",children:[x.jsx("h4",{className:"text-lg font-medium text-gray-900",children:y.name||"Unnamed"}),x.jsxs("p",{className:"text-sm text-gray-500",children:["Customer since ",ae(y.createdAt)]})]})]}),x.jsx("div",{className:"border-t pt-4",children:x.jsxs("dl",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),x.jsx("dd",{className:"text-sm text-gray-900",children:y.email||"Not provided"})]}),x.jsxs("div",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),x.jsx("dd",{className:"text-sm text-gray-900",children:y.phone||"Not provided"})]}),x.jsxs("div",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Address"}),x.jsx("dd",{className:"text-sm text-gray-900",children:y.address?`${y.address}, ${y.city}, ${y.state} ${y.zipCode}`:"Not provided"})]}),x.jsxs("div",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Total Spent"}),x.jsx("dd",{className:"text-sm text-gray-900",children:Ee(y.totalSpent)})]}),x.jsxs("div",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Total Jobs"}),x.jsx("dd",{className:"text-sm text-gray-900",children:y.totalJobs||0})]}),x.jsxs("div",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),x.jsx("dd",{className:"text-sm",children:x.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:y.isActive?"Active":"Inactive"})})]}),y.notes&&x.jsxs("div",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Notes"}),x.jsx("dd",{className:"text-sm text-gray-900",children:y.notes})]})]})})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[x.jsx("button",{onClick:()=>{m(!1),M(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Close"}),x.jsx("button",{onClick:()=>{m(!1),W(y)},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:"Edit Customer"})]})]})})})]})};class d0{static getCurrentUserId(){const t=wl.currentUser;if(!t)throw new Error("No user is currently signed in");return t.uid}static async createTemplate(t){try{const e=this.getCurrentUserId(),i={...t,userId:e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0,usageCount:0},n=await Cp(Pn(Ai,"estimateTemplates"),i);return{success:!0,templateId:n.id,template:{id:n.id,...i}}}catch(e){return console.error("Error creating template:",e),{success:!1,error:e.message}}}static async getTemplates(){try{const t=this.getCurrentUserId(),e=Hs(Pn(Ai,"estimateTemplates"),qn("userId","==",t),vu("name","asc")),i=await Wa(e),n=[];return i.forEach(s=>{n.push({id:s.id,...s.data()})}),{success:!0,templates:n}}catch(t){return console.error("Error getting templates:",t),{success:!1,error:t.message}}}static async getTemplate(t){try{const e=this.getCurrentUserId(),i=await vh(Br(Ai,"estimateTemplates",t));if(!i.exists())return{success:!1,error:"Template not found"};const n=i.data();return n.userId!==e?{success:!1,error:"Unauthorized to access this template"}:{success:!0,template:{id:i.id,...n}}}catch(e){return console.error("Error getting template:",e),{success:!1,error:e.message}}}static async updateTemplate(t,e){try{const i=this.getCurrentUserId(),n=await this.getTemplate(t);if(!n.success)return n;const s={...e,updatedAt:new Date().toISOString()};return await ql(Br(Ai,"estimateTemplates",t),s),{success:!0,template:{...n.template,...s}}}catch(i){return console.error("Error updating template:",i),{success:!1,error:i.message}}}static async deleteTemplate(t){try{const e=this.getCurrentUserId(),i=await this.getTemplate(t);return i.success?(await Z1(Br(Ai,"estimateTemplates",t)),{success:!0}):i}catch(e){return console.error("Error deleting template:",e),{success:!1,error:e.message}}}static async incrementUsage(t){try{const e=await this.getTemplate(t);if(!e.success)return e;const i=(e.template.usageCount||0)+1;return await ql(Br(Ai,"estimateTemplates",t),{usageCount:i,updatedAt:new Date().toISOString()}),{success:!0,usageCount:i}}catch(e){return console.error("Error incrementing usage:",e),{success:!1,error:e.message}}}static async duplicateTemplate(t){try{const e=await this.getTemplate(t);if(!e.success)return e;const i=e.template,n={...i,name:`${i.name} (Copy)`,usageCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};delete n.id;const s=await Cp(Pn(Ai,"estimateTemplates"),n);return{success:!0,templateId:s.id,template:{id:s.id,...n}}}catch(e){return console.error("Error duplicating template:",e),{success:!1,error:e.message}}}static async getTemplateStats(){try{const t=this.getCurrentUserId(),e=Hs(Pn(Ai,"estimateTemplates"),qn("userId","==",t)),i=await Wa(e);let n=0,s=0,a=0,o=null,l=0;return i.forEach(c=>{const u=c.data();n++,u.isActive&&s++;const d=u.usageCount||0;a+=d,d>l&&(l=d,o={id:c.id,...u})}),{success:!0,stats:{totalTemplates:n,activeTemplates:s,inactiveTemplates:n-s,totalUsage:a,mostUsedTemplate:o}}}catch(t){return console.error("Error getting template stats:",t),{success:!1,error:t.message}}}static async createDefaultTemplates(){try{const t=this.getCurrentUserId(),e=await this.getTemplates();if(e.success&&e.templates.length>0)return{success:!0,message:"User already has templates"};const i=[{name:"Pool Maintenance",description:"Regular pool cleaning and maintenance service",serviceType:"Pool Maintenance",scopeOfWork:` Weekly pool cleaning and skimming
 Chemical balancing and testing
 Equipment inspection and maintenance
 Pool vacuuming and brushing
 Filter cleaning and backwashing`,materials:` Pool chemicals (chlorine, pH adjusters)
 Pool cleaning supplies
 Filter media (if needed)`,laborHours:2,laborRate:75,materialCost:25,totalCost:175,notes:"Service includes basic chemical testing and adjustment. Additional chemicals or repairs quoted separately.",terms:"Payment due upon completion. Service valid for 30 days.",validityDays:30},{name:"Pest Control Service",description:"Comprehensive pest control treatment",serviceType:"Pest Control",scopeOfWork:` Interior and exterior inspection
 Targeted treatment application
 Entry point sealing recommendations
 Follow-up inspection scheduling`,materials:` Pest control chemicals
 Application equipment
 Safety materials`,laborHours:1.5,laborRate:85,materialCost:45,totalCost:172.5,notes:"Treatment includes 30-day warranty. Follow-up service recommended in 2-3 months.",terms:"Payment due upon completion. Warranty covers re-treatment if needed.",validityDays:30},{name:"Handyman Service",description:"General handyman repairs and maintenance",serviceType:"Handyman",scopeOfWork:` Minor repairs and maintenance
 Installation services
 Assembly and mounting
 General home improvements`,materials:` Hardware and fasteners
 Basic materials as needed
 Tools and equipment`,laborHours:3,laborRate:65,materialCost:50,totalCost:245,notes:"Service includes basic materials. Specialty items quoted separately.",terms:"Payment due upon completion. 90-day warranty on workmanship.",validityDays:30},{name:"Landscaping Service",description:"Landscape maintenance and improvement",serviceType:"Landscaping",scopeOfWork:` Lawn mowing and edging
 Hedge trimming and pruning
 Mulching and weeding
 Plant installation and care`,materials:` Mulch and soil amendments
 Plants and seeds
 Fertilizers and treatments`,laborHours:4,laborRate:60,materialCost:75,totalCost:315,notes:"Service includes seasonal plant care recommendations.",terms:"Payment due upon completion. Plant warranty as per nursery policy.",validityDays:30}],n=[];for(const s of i){const a={...s,userId:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isActive:!0,usageCount:0},o=await Cp(Pn(Ai,"estimateTemplates"),a);n.push({id:o.id,...a})}return{success:!0,templates:n}}catch(t){return console.error("Error creating default templates:",t),{success:!1,error:t.message}}}}const pye=()=>{const[r,t]=ce.useState([]),[e,i]=ce.useState(!1),[n,s]=ce.useState(!1),[a,o]=ce.useState(!1),[l,c]=ce.useState(!1),[u,d]=ce.useState(!1),[p,m]=ce.useState(null),[y,M]=ce.useState({totalTemplates:0,activeTemplates:0,inactiveTemplates:0,totalUsage:0,mostUsedTemplate:null}),[w,b]=ce.useState({name:"",description:"",serviceType:"",scopeOfWork:"",materials:"",laborHours:"",laborRate:"",materialCost:"",totalCost:"",notes:"",terms:"",validityDays:30,isActive:!0});ce.useEffect(()=>{D(),E()},[]);const D=async()=>{i(!0);try{const U=await d0.getTemplates();U.success?t(U.templates):mt.error(U.error)}catch(U){console.error("Error loading templates:",U),mt.error("Error loading templates")}i(!1)},E=async()=>{try{const U=await d0.getTemplateStats();U.success&&M(U.stats)}catch(U){console.error("Error loading stats:",U)}},N=(U,W)=>{b(re=>({...re,[U]:W}))},B=()=>{b({name:"",description:"",serviceType:"",scopeOfWork:"",materials:"",laborHours:"",laborRate:"",materialCost:"",totalCost:"",notes:"",terms:"",validityDays:30,isActive:!0})},P=async()=>{if(!w.name.trim()){mt.error("Template name is required");return}i(!0);try{const U=await d0.createTemplate(w);U.success?(t(W=>[U.template,...W]),s(!1),B(),E(),mt.success("Template created successfully!")):mt.error(U.error)}catch(U){console.error("Error adding template:",U),mt.error("Error adding template")}i(!1)},C=async()=>{if(!w.name.trim()){mt.error("Template name is required");return}i(!0);try{const U=await d0.updateTemplate(p.id,w);U.success?(t(W=>W.map(re=>re.id===p.id?U.template:re)),o(!1),m(null),B(),E(),mt.success("Template updated successfully!")):mt.error(U.error)}catch(U){console.error("Error updating template:",U),mt.error("Error updating template")}i(!1)},k=async U=>{if(window.confirm("Are you sure you want to delete this template?")){i(!0);try{const W=await d0.deleteTemplate(U);W.success?(t(re=>re.filter(Z=>Z.id!==U)),E(),mt.success("Template deleted successfully!")):mt.error(W.error)}catch(W){console.error("Error deleting template:",W),mt.error("Error deleting template")}i(!1)}},_=async()=>{i(!0);try{const U=await d0.duplicateTemplate(p.id);U.success?(t(W=>[U.template,...W]),d(!1),m(null),E(),mt.success("Template duplicated successfully!")):mt.error(U.error)}catch(U){console.error("Error duplicating template:",U),mt.error("Error duplicating template")}i(!1)},H=async()=>{i(!0);try{const U=await d0.createDefaultTemplates();U.success?U.templates?(t(W=>[...U.templates,...W]),E(),mt.success("Default templates created successfully!")):mt.info("You already have templates"):mt.error(U.error)}catch(U){console.error("Error creating default templates:",U),mt.error("Error creating default templates")}i(!1)},j=U=>{m(U),b({name:U.name||"",description:U.description||"",serviceType:U.serviceType||"",scopeOfWork:U.scopeOfWork||"",materials:U.materials||"",laborHours:U.laborHours||"",laborRate:U.laborRate||"",materialCost:U.materialCost||"",totalCost:U.totalCost||"",notes:U.notes||"",terms:U.terms||"",validityDays:U.validityDays||30,isActive:U.isActive}),o(!0)},z=U=>{m(U),c(!0)},F=U=>{m(U),d(!0)},X=U=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(U||0),J=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return x.jsxs(ph.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(td,{className:"h-8 w-8 text-primary-500 mr-3"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Estimate Templates"}),x.jsx("p",{className:"text-gray-600",children:"Create and manage professional estimate templates"})]})]}),x.jsxs("div",{className:"flex space-x-3",children:[r.length===0&&x.jsxs("button",{onClick:H,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[x.jsx(VA,{className:"h-4 w-4 mr-2"}),"Create Defaults"]}),x.jsxs("button",{onClick:()=>s(!0),className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[x.jsx(cv,{className:"h-4 w-4 mr-2"}),"New Template"]})]})]})}),x.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(td,{className:"h-6 w-6 text-primary-500"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Templates"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:y.totalTemplates})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-6 w-6 bg-green-500 rounded-full"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Templates"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:y.activeTemplates})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(l1,{className:"h-6 w-6 text-purple-500"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Usage"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:y.totalUsage})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-6 w-6 bg-orange-500 rounded-full"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Most Used"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:y.mostUsedTemplate?y.mostUsedTemplate.usageCount:0})]})})]})})})]}),x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[x.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:x.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Templates (",r.length,")"]})}),e?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):r.length===0?x.jsxs("div",{className:"text-center py-12",children:[x.jsx(td,{className:"mx-auto h-12 w-12 text-gray-400"}),x.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No templates yet"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first estimate template or adding default templates."}),x.jsxs("div",{className:"mt-6 flex justify-center space-x-3",children:[x.jsxs("button",{onClick:H,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[x.jsx(VA,{className:"h-4 w-4 mr-2"}),"Create Defaults"]}),x.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[x.jsx(cv,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})]}):x.jsx("div",{className:"p-6",children:x.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map(U=>x.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow duration-200",children:[x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:U.name}),x.jsx("p",{className:"text-sm text-gray-600 mb-3",children:U.description}),x.jsxs("div",{className:"space-y-2 text-sm",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-500",children:"Service Type:"}),x.jsx("span",{className:"text-gray-900",children:U.serviceType})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-500",children:"Labor Hours:"}),x.jsx("span",{className:"text-gray-900",children:U.laborHours})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-500",children:"Total Cost:"}),x.jsx("span",{className:"text-gray-900 font-medium",children:X(U.totalCost)})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-500",children:"Usage Count:"}),x.jsx("span",{className:"text-gray-900",children:U.usageCount||0})]})]})]}),x.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[x.jsx("button",{onClick:()=>z(U),className:"text-primary-600 hover:text-primary-900",title:"View Template",children:x.jsx(rT,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>j(U),className:"text-gray-600 hover:text-gray-900",title:"Edit Template",children:x.jsx(tb,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>F(U),className:"text-blue-600 hover:text-blue-900",title:"Duplicate Template",children:x.jsx(C0e,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>k(U.id),className:"text-red-600 hover:text-red-900",title:"Delete Template",children:x.jsx(AN,{className:"h-4 w-4"})})]})]}),x.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:x.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[x.jsxs("span",{children:["Created ",J(U.createdAt)]}),x.jsx("span",{className:`px-2 py-1 rounded-full ${U.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:U.isActive?"Active":"Inactive"})]})})]},U.id))})})]}),n&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create New Template"}),x.jsxs("button",{onClick:()=>{s(!1),B()},className:"text-gray-400 hover:text-gray-600",children:[x.jsx("span",{className:"sr-only",children:"Close"}),x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),x.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[x.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Template Name *"}),x.jsx("input",{type:"text",value:w.name,onChange:U=>N("name",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"e.g., Pool Maintenance"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Service Type"}),x.jsx("input",{type:"text",value:w.serviceType,onChange:U=>N("serviceType",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"e.g., Pool Maintenance"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),x.jsx("textarea",{value:w.description,onChange:U=>N("description",U.target.value),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Brief description of the service..."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Scope of Work"}),x.jsx("textarea",{value:w.scopeOfWork,onChange:U=>N("scopeOfWork",U.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:" Service item 1\\n Service item 2\\n Service item 3"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Materials"}),x.jsx("textarea",{value:w.materials,onChange:U=>N("materials",U.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:" Material 1\\n Material 2\\n Material 3"})]}),x.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Labor Hours"}),x.jsx("input",{type:"number",step:"0.5",value:w.laborHours,onChange:U=>N("laborHours",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"2.5"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Labor Rate ($/hr)"}),x.jsx("input",{type:"number",step:"0.01",value:w.laborRate,onChange:U=>N("laborRate",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"75.00"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Material Cost"}),x.jsx("input",{type:"number",step:"0.01",value:w.materialCost,onChange:U=>N("materialCost",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"150.00"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Cost"}),x.jsx("input",{type:"number",step:"0.01",value:w.totalCost,onChange:U=>N("totalCost",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"300.00"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),x.jsx("textarea",{value:w.notes,onChange:U=>N("notes",U.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Additional notes or special instructions..."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Terms & Conditions"}),x.jsx("textarea",{value:w.terms,onChange:U=>N("terms",U.target.value),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Payment terms, warranty information, etc."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Validity Days"}),x.jsx("input",{type:"number",value:w.validityDays,onChange:U=>N("validityDays",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"30"})]})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[x.jsx("button",{onClick:()=>{s(!1),B()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),x.jsx("button",{onClick:P,disabled:e,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Creating...":"Create Template"})]})]})})}),a&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Template"}),x.jsxs("button",{onClick:()=>{o(!1),m(null),B()},className:"text-gray-400 hover:text-gray-600",children:[x.jsx("span",{className:"sr-only",children:"Close"}),x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),x.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[x.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Template Name *"}),x.jsx("input",{type:"text",value:w.name,onChange:U=>N("name",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"e.g., Pool Maintenance"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Service Type"}),x.jsx("input",{type:"text",value:w.serviceType,onChange:U=>N("serviceType",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"e.g., Pool Maintenance"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),x.jsx("textarea",{value:w.description,onChange:U=>N("description",U.target.value),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Brief description of the service..."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Scope of Work"}),x.jsx("textarea",{value:w.scopeOfWork,onChange:U=>N("scopeOfWork",U.target.value),rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:" Service item 1\\n Service item 2\\n Service item 3"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Materials"}),x.jsx("textarea",{value:w.materials,onChange:U=>N("materials",U.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:" Material 1\\n Material 2\\n Material 3"})]}),x.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Labor Hours"}),x.jsx("input",{type:"number",step:"0.5",value:w.laborHours,onChange:U=>N("laborHours",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"2.5"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Labor Rate ($/hr)"}),x.jsx("input",{type:"number",step:"0.01",value:w.laborRate,onChange:U=>N("laborRate",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"75.00"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Material Cost"}),x.jsx("input",{type:"number",step:"0.01",value:w.materialCost,onChange:U=>N("materialCost",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"150.00"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Cost"}),x.jsx("input",{type:"number",step:"0.01",value:w.totalCost,onChange:U=>N("totalCost",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"300.00"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),x.jsx("textarea",{value:w.notes,onChange:U=>N("notes",U.target.value),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Additional notes or special instructions..."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Terms & Conditions"}),x.jsx("textarea",{value:w.terms,onChange:U=>N("terms",U.target.value),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Payment terms, warranty information, etc."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Validity Days"}),x.jsx("input",{type:"number",value:w.validityDays,onChange:U=>N("validityDays",U.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"30"})]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",id:"isActive",checked:w.isActive,onChange:U=>N("isActive",U.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),x.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active template"})]})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[x.jsx("button",{onClick:()=>{o(!1),m(null),B()},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),x.jsx("button",{onClick:C,disabled:e,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Saving...":"Save Changes"})]})]})})}),l&&p&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Template Details"}),x.jsxs("button",{onClick:()=>{c(!1),m(null)},className:"text-gray-400 hover:text-gray-600",children:[x.jsx("span",{className:"sr-only",children:"Close"}),x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),x.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[x.jsxs("div",{className:"border-b pb-4",children:[x.jsx("h4",{className:"text-xl font-medium text-gray-900",children:p.name}),x.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.description}),x.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[x.jsxs("span",{children:["Created ",J(p.createdAt)]}),x.jsxs("span",{children:["Used ",p.usageCount||0," times"]}),x.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${p.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.isActive?"Active":"Inactive"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Service Type"}),x.jsx("p",{className:"text-sm text-gray-900",children:p.serviceType||"Not specified"})]}),x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Validity"}),x.jsxs("p",{className:"text-sm text-gray-900",children:[p.validityDays||30," days"]})]})]}),x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Scope of Work"}),x.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:p.scopeOfWork||"Not specified"})]}),x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Materials"}),x.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:p.materials||"Not specified"})]}),x.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Labor Hours"}),x.jsx("p",{className:"text-sm text-gray-900",children:p.laborHours||"Not specified"})]}),x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Labor Rate"}),x.jsx("p",{className:"text-sm text-gray-900",children:X(p.laborRate)})]}),x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Material Cost"}),x.jsx("p",{className:"text-sm text-gray-900",children:X(p.materialCost)})]})]}),x.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Total Cost"}),x.jsx("p",{className:"text-lg font-semibold text-gray-900",children:X(p.totalCost)})]}),p.notes&&x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Notes"}),x.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:p.notes})]}),p.terms&&x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Terms & Conditions"}),x.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:p.terms})]})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[x.jsx("button",{onClick:()=>{c(!1),m(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Close"}),x.jsx("button",{onClick:()=>{c(!1),j(p)},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:"Edit Template"})]})]})})}),u&&p&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Duplicate Template"}),x.jsxs("button",{onClick:()=>{d(!1),m(null)},className:"text-gray-400 hover:text-gray-600",children:[x.jsx("span",{className:"sr-only",children:"Close"}),x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),x.jsx("div",{className:"space-y-4",children:x.jsxs("p",{className:"text-sm text-gray-600",children:['Are you sure you want to duplicate "',p.name,'"? This will create a copy of the template with "(Copy)" added to the name.']})}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[x.jsx("button",{onClick:()=>{d(!1),m(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),x.jsx("button",{onClick:_,disabled:e,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Duplicating...":"Duplicate"})]})]})})})]})};class rg{static getCurrentUserId(){const t=wl.currentUser;if(!t)throw new Error("No user is currently signed in");return t.uid}static async getJobs(t=50,e=null,i={}){try{const n=this.getCurrentUserId();let s=Hs(Pn(Ai,"jobs"),qn("userId","==",n),vu("date","desc"),vu("time","desc"),ZL(t));e&&(s=Hs(s,Tq(e)));const a=await Wa(s),o=[];a.forEach(c=>{o.push({id:c.id,...c.data()})});let l=o;if(i.status&&(l=l.filter(c=>c.status===i.status)),i.dateRange){const{startDate:c,endDate:u}=i.dateRange;l=l.filter(d=>{const p=new Date(d.date);return p>=c&&p<=u})}return i.customerId&&(l=l.filter(c=>c.customerId===i.customerId)),{success:!0,jobs:l,lastDoc:a.docs[a.docs.length-1]||null,hasMore:a.docs.length===t}}catch(n){return console.error("Error getting jobs:",n),{success:!1,error:n.message}}}static async getJob(t){try{const e=this.getCurrentUserId(),i=await vh(Br(Ai,"jobs",t));if(!i.exists())return{success:!1,error:"Job not found"};const n=i.data();return n.userId!==e?{success:!1,error:"Unauthorized to access this job"}:{success:!0,job:{id:i.id,...n}}}catch(e){return console.error("Error getting job:",e),{success:!1,error:e.message}}}static async updateJob(t,e){try{const i=this.getCurrentUserId(),n=await this.getJob(t);if(!n.success)return n;const s={...e,updatedAt:new Date().toISOString()};return await ql(Br(Ai,"jobs",t),s),{success:!0,job:{...n.job,...s}}}catch(i){return console.error("Error updating job:",i),{success:!1,error:i.message}}}static async deleteJob(t){try{const e=this.getCurrentUserId(),i=await this.getJob(t);return i.success?(await Z1(Br(Ai,"jobs",t)),{success:!0}):i}catch(e){return console.error("Error deleting job:",e),{success:!1,error:e.message}}}static async getJobsByStatus(t){try{const e=this.getCurrentUserId(),i=Hs(Pn(Ai,"jobs"),qn("userId","==",e),qn("status","==",t),vu("date","desc"),vu("time","desc")),n=await Wa(i),s=[];return n.forEach(a=>{s.push({id:a.id,...a.data()})}),{success:!0,jobs:s}}catch(e){return console.error("Error getting jobs by status:",e),{success:!1,error:e.message}}}static async getJobsByDateRange(t,e){try{const i=this.getCurrentUserId(),n=Hs(Pn(Ai,"jobs"),qn("userId","==",i),vu("date","desc")),s=await Wa(n),a=[];return s.forEach(o=>{const l=o.data(),c=new Date(l.date);c>=t&&c<=e&&a.push({id:o.id,...l})}),{success:!0,jobs:a}}catch(i){return console.error("Error getting jobs by date range:",i),{success:!1,error:i.message}}}static async getTodaysJobs(){const t=new Date;t.setHours(0,0,0,0);const e=new Date(t);return e.setDate(e.getDate()+1),this.getJobsByDateRange(t,e)}static async getThisWeeksJobs(){const t=new Date,e=new Date(t);e.setDate(t.getDate()-t.getDay()),e.setHours(0,0,0,0);const i=new Date(e);return i.setDate(e.getDate()+6),i.setHours(23,59,59,999),this.getJobsByDateRange(e,i)}static async getThisMonthsJobs(){const t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth()+1,0);return i.setHours(23,59,59,999),this.getJobsByDateRange(e,i)}static async searchJobs(t,e=20){try{const i=this.getCurrentUserId(),n=await this.getJobs(1e3);return n.success?{success:!0,jobs:n.jobs.filter(a=>{const o=t.toLowerCase();return a.customerName?.toLowerCase().includes(o)||a.serviceType?.toLowerCase().includes(o)||a.address?.toLowerCase().includes(o)||a.notes?.toLowerCase().includes(o)}).slice(0,e)}:n}catch(i){return console.error("Error searching jobs:",i),{success:!1,error:i.message}}}static async getJobStats(){try{const t=this.getCurrentUserId(),e=Hs(Pn(Ai,"jobs"),qn("userId","==",t)),i=await Wa(e);let n=0,s=0,a=0,o=0,l=0,c=0,u=0,d=0;const p=new Date,m=new Date(p);m.setDate(p.getDate()-p.getDay()),m.setHours(0,0,0,0);const y=new Date(p.getFullYear(),p.getMonth(),1);return i.forEach(M=>{const w=M.data();switch(n++,w.status){case"scheduled":s++;break;case"in-progress":a++;break;case"completed":o++;break;case"cancelled":l++;break}w.status==="completed"&&w.totalCost&&(c+=parseFloat(w.totalCost)||0);const b=new Date(w.date);b>=m&&u++,b>=y&&d++}),{success:!0,stats:{totalJobs:n,scheduledJobs:s,inProgressJobs:a,completedJobs:o,cancelledJobs:l,totalRevenue:c,thisWeekJobs:u,thisMonthJobs:d}}}catch(t){return console.error("Error getting job stats:",t),{success:!1,error:t.message}}}static async assignJob(t,e,i){try{const n={assignedTo:e,assignedToName:i,assignedAt:new Date().toISOString()};return await this.updateJob(t,n)}catch(n){return console.error("Error assigning job:",n),{success:!1,error:n.message}}}static async updateJobStatus(t,e,i={}){try{const n={status:e,...i};return e==="completed"&&(n.completedAt=new Date().toISOString(),n.actualWorkDone=i.actualWorkDone||"",n.actualHours=i.actualHours||"",n.completionNotes=i.completionNotes||""),e==="cancelled"&&(n.cancelledAt=new Date().toISOString(),n.cancellationReason=i.cancellationReason||""),await this.updateJob(t,n)}catch(n){return console.error("Error updating job status:",n),{success:!1,error:n.message}}}static async getJobsByCustomer(t){try{const e=this.getCurrentUserId(),i=Hs(Pn(Ai,"jobs"),qn("userId","==",e),qn("customerId","==",t),vu("date","desc")),n=await Wa(i),s=[];return n.forEach(a=>{s.push({id:a.id,...a.data()})}),{success:!0,jobs:s}}catch(e){return console.error("Error getting jobs by customer:",e),{success:!1,error:e.message}}}static async exportJobs(t={}){try{const e=await this.getJobs(1e3,null,t);if(!e.success)return e;const n=[["Date","Time","Customer","Service Type","Address","Status","Assigned To","Total Cost","Notes"].join(",")];return e.jobs.forEach(s=>{const a=[s.date||"",s.time||"",s.customerName||"",s.serviceType||"",s.address||"",s.status||"",s.assignedToName||"",s.totalCost||"",(s.notes||"").replace(/\n/g," ")];n.push(a.map(o=>`"${o}"`).join(","))}),{success:!0,csvData:n.join(`
`)}}catch(e){return console.error("Error exporting jobs:",e),{success:!1,error:e.message}}}}const mye=()=>{const[r,t]=ce.useState([]),[e,i]=ce.useState([]),[n,s]=ce.useState(!1),[a,o]=ce.useState(""),[l,c]=ce.useState(!1),[u,d]=ce.useState(!1),[p,m]=ce.useState(!1),[y,M]=ce.useState(null),[w,b]=ce.useState({totalJobs:0,scheduledJobs:0,inProgressJobs:0,completedJobs:0,cancelledJobs:0,totalRevenue:0,thisWeekJobs:0,thisMonthJobs:0}),[D,E]=ce.useState("all"),[N,B]=ce.useState("all"),[P,C]=ce.useState("date"),[k,_]=ce.useState({status:"",actualWorkDone:"",actualHours:"",completionNotes:"",cancellationReason:""});ce.useEffect(()=>{H(),j()},[]),ce.useEffect(()=>{z()},[r,a,D,N,P]);const H=async()=>{s(!0);try{const Q=await rg.getJobs();Q.success?t(Q.jobs):mt.error(Q.error)}catch(Q){console.error("Error loading jobs:",Q),mt.error("Error loading jobs")}s(!1)},j=async()=>{try{const Q=await rg.getJobStats();Q.success&&b(Q.stats)}catch(Q){console.error("Error loading stats:",Q)}},z=()=>{let Q=[...r];if(a&&(Q=Q.filter(te=>{const le=a.toLowerCase();return te.customerName?.toLowerCase().includes(le)||te.serviceType?.toLowerCase().includes(le)||te.address?.toLowerCase().includes(le)||te.notes?.toLowerCase().includes(le)})),D!=="all"&&(Q=Q.filter(te=>te.status===D)),N!=="all"){const te=new Date,le=new Date(te);le.setDate(te.getDate()-te.getDay()),le.setHours(0,0,0,0);const Me=new Date(te.getFullYear(),te.getMonth(),1);Q=Q.filter(ve=>{const Ie=new Date(ve.date);switch(N){case"today":return Ie.toDateString()===te.toDateString();case"week":return Ie>=le;case"month":return Ie>=Me;default:return!0}})}Q.sort((te,le)=>{switch(P){case"date":const Me=new Date(te.date),ve=new Date(le.date);return Me.getTime()===ve.getTime()?(te.time||"").localeCompare(le.time||""):ve-Me;case"status":return(te.status||"").localeCompare(le.status||"");case"customer":return(te.customerName||"").localeCompare(le.customerName||"");case"cost":return(parseFloat(le.totalCost)||0)-(parseFloat(te.totalCost)||0);default:return 0}}),i(Q)},F=async()=>{if(!k.status){mt.error("Please select a status");return}s(!0);try{const Q=await rg.updateJobStatus(y.id,k.status,k);Q.success?(t(te=>te.map(le=>le.id===y.id?Q.job:le)),m(!1),M(null),_({status:"",actualWorkDone:"",actualHours:"",completionNotes:"",cancellationReason:""}),j(),mt.success("Job status updated successfully!")):mt.error(Q.error)}catch(Q){console.error("Error updating job status:",Q),mt.error("Error updating job status")}s(!1)},X=async Q=>{if(window.confirm("Are you sure you want to delete this job?")){s(!0);try{const te=await rg.deleteJob(Q);te.success?(t(le=>le.filter(Me=>Me.id!==Q)),j(),mt.success("Job deleted successfully!")):mt.error(te.error)}catch(te){console.error("Error deleting job:",te),mt.error("Error deleting job")}s(!1)}},J=Q=>{M(Q),c(!0)},U=Q=>{M(Q),d(!0)},W=Q=>{M(Q),_({status:Q.status,actualWorkDone:Q.actualWorkDone||"",actualHours:Q.actualHours||"",completionNotes:Q.completionNotes||"",cancellationReason:Q.cancellationReason||""}),m(!0)},re=async()=>{try{const Q={status:D!=="all"?D:void 0,dateRange:N!=="all"?Z(N):void 0},te=await rg.exportJobs(Q);if(te.success){const le=new Blob([te.csvData],{type:"text/csv"}),Me=window.URL.createObjectURL(le),ve=document.createElement("a");ve.href=Me,ve.download=`jobs-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),window.URL.revokeObjectURL(Me),mt.success("Jobs exported successfully!")}else mt.error(te.error)}catch(Q){console.error("Error exporting jobs:",Q),mt.error("Error exporting jobs")}},Z=Q=>{const te=new Date,le=new Date(te);le.setDate(te.getDate()-te.getDay()),le.setHours(0,0,0,0);const Me=new Date(te.getFullYear(),te.getMonth(),1),ve=new Date(te.getFullYear(),te.getMonth()+1,0);switch(ve.setHours(23,59,59,999),Q){case"today":return{startDate:te,endDate:te};case"week":const Ie=new Date(le);return Ie.setDate(le.getDate()+6),Ie.setHours(23,59,59,999),{startDate:le,endDate:Ie};case"month":return{startDate:Me,endDate:ve};default:return null}},Ee=Q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Q||0),ae=Q=>new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),L=Q=>Q?new Date(`2000-01-01T${Q}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"",Y=Q=>{switch(Q){case"scheduled":return x.jsx(iT,{className:"h-4 w-4"});case"in-progress":return x.jsx(hf,{className:"h-4 w-4"});case"completed":return x.jsx(Ig,{className:"h-4 w-4"});case"cancelled":return x.jsx(yw,{className:"h-4 w-4"});default:return x.jsx(z0e,{className:"h-4 w-4"})}},G=Q=>{switch(Q){case"scheduled":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return x.jsxs(ph.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(Y0,{className:"h-8 w-8 text-primary-500 mr-3"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Job Management"}),x.jsx("p",{className:"text-gray-600",children:"Manage and track all your service jobs"})]})]}),x.jsx("div",{className:"flex space-x-3",children:x.jsxs("button",{onClick:re,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[x.jsx(Nj,{className:"h-4 w-4 mr-2"}),"Export"]})})]})}),x.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(Y0,{className:"h-6 w-6 text-primary-500"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Jobs"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:w.totalJobs})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-6 w-6 bg-blue-500 rounded-full"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Scheduled"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:w.scheduledJobs})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-6 w-6 bg-green-500 rounded-full"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:w.completedJobs})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-6 w-6 bg-green-600 rounded-full"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Revenue"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:Ee(w.totalRevenue)})]})})]})})})]}),x.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3",children:[x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-6 w-6 bg-yellow-500 rounded-full"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"In Progress"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:w.inProgressJobs})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-6 w-6 bg-purple-500 rounded-full"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"This Week"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:w.thisWeekJobs})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-6 w-6 bg-orange-500 rounded-full"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"This Month"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:w.thisMonthJobs})]})})]})})})]}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[x.jsx("div",{className:"flex-1",children:x.jsxs("div",{className:"relative",children:[x.jsx(eb,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),x.jsx("input",{type:"text",placeholder:"Search jobs by customer, service type, address, or notes...",value:a,onChange:Q=>o(Q.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]})}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("select",{value:D,onChange:Q=>E(Q.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",children:[x.jsx("option",{value:"all",children:"All Status"}),x.jsx("option",{value:"scheduled",children:"Scheduled"}),x.jsx("option",{value:"in-progress",children:"In Progress"}),x.jsx("option",{value:"completed",children:"Completed"}),x.jsx("option",{value:"cancelled",children:"Cancelled"})]}),x.jsxs("select",{value:N,onChange:Q=>B(Q.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",children:[x.jsx("option",{value:"all",children:"All Dates"}),x.jsx("option",{value:"today",children:"Today"}),x.jsx("option",{value:"week",children:"This Week"}),x.jsx("option",{value:"month",children:"This Month"})]}),x.jsxs("select",{value:P,onChange:Q=>C(Q.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",children:[x.jsx("option",{value:"date",children:"Sort by Date"}),x.jsx("option",{value:"status",children:"Sort by Status"}),x.jsx("option",{value:"customer",children:"Sort by Customer"}),x.jsx("option",{value:"cost",children:"Sort by Cost"})]})]})]})}),x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[x.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:x.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Jobs (",e.length,")"]})}),n?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):e.length===0?x.jsxs("div",{className:"text-center py-12",children:[x.jsx(Y0,{className:"mx-auto h-12 w-12 text-gray-400"}),x.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No jobs found"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a?"Try adjusting your search terms.":"No jobs have been scheduled yet."})]}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Job Details"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schedule"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(Q=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("div",{children:[x.jsxs("div",{className:"text-sm font-medium text-gray-900 flex items-center",children:[Q.serviceType||"Service",Q.recurringJobId&&x.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:[x.jsx(xg,{className:"h-3 w-3 mr-1"}),"Recurring"]})]}),x.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[x.jsx(fG,{className:"h-3 w-3 mr-1"}),Q.address||"No address"]})]})}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[x.jsx("div",{className:"text-sm text-gray-900",children:Q.customerName||"Unknown"}),x.jsx("div",{className:"text-sm text-gray-500",children:Q.customerPhone||""})]}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[x.jsx("div",{className:"text-sm text-gray-900",children:ae(Q.date)}),x.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[x.jsx(hf,{className:"h-3 w-3 mr-1"}),L(Q.time)]})]}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold ${G(Q.status)}`,children:[Y(Q.status),x.jsx("span",{className:"ml-1 capitalize",children:Q.status?.replace("-"," ")})]})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("div",{className:"text-sm text-gray-900",children:Q.assignedToName||"Unassigned"})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ee(Q.totalCost)}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>J(Q),className:"text-primary-600 hover:text-primary-900",title:"View Job",children:x.jsx(rT,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>U(Q),className:"text-gray-600 hover:text-gray-900",title:"Edit Job",children:x.jsx(tb,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>W(Q),className:"text-blue-600 hover:text-blue-900",title:"Update Status",children:x.jsx(Ig,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>X(Q.id),className:"text-red-600 hover:text-red-900",title:"Delete Job",children:x.jsx(AN,{className:"h-4 w-4"})})]})})]},Q.id))})]})})]}),l&&y&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Job Details"}),x.jsxs("button",{onClick:()=>{c(!1),M(null)},className:"text-gray-400 hover:text-gray-600",children:[x.jsx("span",{className:"sr-only",children:"Close"}),x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),x.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[x.jsxs("div",{className:"border-b pb-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h4",{className:"text-xl font-medium text-gray-900",children:y.serviceType||"Service"}),y.recurringJobId&&x.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[x.jsx(xg,{className:"h-3 w-3 mr-1"}),"Recurring Job"]})]}),x.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[x.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold ${G(y.status)}`,children:[Y(y.status),x.jsx("span",{className:"ml-1 capitalize",children:y.status?.replace("-"," ")})]}),x.jsxs("span",{children:["Created ",ae(y.createdAt)]})]}),y.recurringJobId&&x.jsx("div",{className:"mt-2 text-sm",children:x.jsxs(ev,{to:"/recurring-jobs",className:"text-blue-600 hover:text-blue-800 underline inline-flex items-center",children:[x.jsx(xg,{className:"h-4 w-4 mr-1"}),"View Recurring Template"]})})]}),x.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Customer"}),x.jsx("p",{className:"text-sm text-gray-900",children:y.customerName||"Not specified"}),x.jsx("p",{className:"text-sm text-gray-500",children:y.customerPhone||""})]}),x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Assigned To"}),x.jsx("p",{className:"text-sm text-gray-900",children:y.assignedToName||"Unassigned"})]})]}),x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Address"}),x.jsx("p",{className:"text-sm text-gray-900",children:y.address||"Not specified"})]}),x.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Date & Time"}),x.jsxs("p",{className:"text-sm text-gray-900",children:[ae(y.date)," at ",L(y.time)]})]}),x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Duration"}),x.jsx("p",{className:"text-sm text-gray-900",children:y.estimatedDuration||"Not specified"})]})]}),x.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Total Cost"}),x.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Ee(y.totalCost)})]}),y.notes&&x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Notes"}),x.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:y.notes})]}),y.actualWorkDone&&x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Actual Work Done"}),x.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:y.actualWorkDone})]}),y.completionNotes&&x.jsxs("div",{children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Completion Notes"}),x.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-line",children:y.completionNotes})]})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[x.jsx("button",{onClick:()=>{c(!1),M(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Close"}),x.jsx("button",{onClick:()=>{c(!1),W(y)},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:"Update Status"})]})]})})}),p&&y&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsx("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-lg shadow-lg rounded-md bg-white",children:x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Update Job Status"}),x.jsxs("button",{onClick:()=>{m(!1),M(null),_({status:"",actualWorkDone:"",actualHours:"",completionNotes:"",cancellationReason:""})},className:"text-gray-400 hover:text-gray-600",children:[x.jsx("span",{className:"sr-only",children:"Close"}),x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status *"}),x.jsxs("select",{value:k.status,onChange:Q=>_(te=>({...te,status:Q.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[x.jsx("option",{value:"",children:"Select Status"}),x.jsx("option",{value:"scheduled",children:"Scheduled"}),x.jsx("option",{value:"in-progress",children:"In Progress"}),x.jsx("option",{value:"completed",children:"Completed"}),x.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),k.status==="completed"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Actual Work Done"}),x.jsx("textarea",{value:k.actualWorkDone,onChange:Q=>_(te=>({...te,actualWorkDone:Q.target.value})),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Describe what was actually completed..."})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Actual Hours"}),x.jsx("input",{type:"text",value:k.actualHours,onChange:Q=>_(te=>({...te,actualHours:Q.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"e.g., 2.5 hours"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Completion Notes"}),x.jsx("textarea",{value:k.completionNotes,onChange:Q=>_(te=>({...te,completionNotes:Q.target.value})),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Additional notes about the completion..."})]})]}),k.status==="cancelled"&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cancellation Reason"}),x.jsx("textarea",{value:k.cancellationReason,onChange:Q=>_(te=>({...te,cancellationReason:Q.target.value})),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Reason for cancellation..."})]})]}),x.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[x.jsx("button",{onClick:()=>{m(!1),M(null),_({status:"",actualWorkDone:"",actualHours:"",completionNotes:"",cancellationReason:""})},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),x.jsx("button",{onClick:F,disabled:n,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Updating...":"Update Status"})]})]})})})]})};class iB{static getCurrentUserId(){const t=wl.currentUser;if(!t)throw new Error("No user is currently signed in");return t.uid}static async getBusinessAnalytics(t="month"){try{const e=this.getCurrentUserId(),{startDate:i,endDate:n}=this.getDateRange(t),[s,a,o]=await Promise.all([this.getJobsForAnalytics(e,i,n),this.getCustomersForAnalytics(e),this.getEstimatesForAnalytics(e,i,n)]);if(!s.success||!a.success||!o.success)return{success:!1,error:"Failed to fetch analytics data"};const l=s.jobs,c=a.customers,u=o.estimates;return{success:!0,analytics:{totalRevenue:this.calculateTotalRevenue(l),averageJobValue:this.calculateAverageJobValue(l),revenueGrowth:this.calculateRevenueGrowth(l,t),totalJobs:l.length,completedJobs:l.filter(p=>p.status==="completed").length,completionRate:this.calculateCompletionRate(l),averageJobDuration:this.calculateAverageJobDuration(l),totalCustomers:c.length,activeCustomers:c.filter(p=>p.isActive).length,newCustomers:this.calculateNewCustomers(c,i,n),customerRetentionRate:this.calculateCustomerRetentionRate(c,l),totalEstimates:u.length,estimateConversionRate:this.calculateEstimateConversionRate(u,l),averageEstimateValue:this.calculateAverageEstimateValue(u),jobsThisWeek:this.calculateJobsThisWeek(l),jobsThisMonth:this.calculateJobsThisMonth(l),revenueThisWeek:this.calculateRevenueThisWeek(l),revenueThisMonth:this.calculateRevenueThisMonth(l),serviceTypeBreakdown:this.calculateServiceTypeBreakdown(l),statusBreakdown:this.calculateStatusBreakdown(l),monthlyTrends:this.calculateMonthlyTrends(l,t),topCustomers:this.calculateTopCustomers(c,l),onTimeCompletionRate:this.calculateOnTimeCompletionRate(l),customerSatisfactionScore:this.calculateCustomerSatisfactionScore(l)},dateRange:{startDate:i,endDate:n}}}catch(e){return console.error("Error getting business analytics:",e),{success:!1,error:e.message}}}static async getJobsForAnalytics(t,e,i){try{const n=Hs(Pn(Ai,"jobs"),qn("userId","==",t),vu("date","desc")),s=await Wa(n),a=[];return s.forEach(o=>{const l=o.data(),c=new Date(l.date);c>=e&&c<=i&&a.push({id:o.id,...l})}),{success:!0,jobs:a}}catch(n){return console.error("Error getting jobs for analytics:",n),{success:!1,error:n.message}}}static async getCustomersForAnalytics(t){try{const e=Hs(Pn(Ai,"customers"),qn("userId","==",t)),i=await Wa(e),n=[];return i.forEach(s=>{n.push({id:s.id,...s.data()})}),{success:!0,customers:n}}catch(e){return console.error("Error getting customers for analytics:",e),{success:!1,error:e.message}}}static async getEstimatesForAnalytics(t,e,i){try{const n=Hs(Pn(Ai,"estimates"),qn("userId","==",t),vu("createdAt","desc")),s=await Wa(n),a=[];return s.forEach(o=>{const l=o.data(),c=new Date(l.createdAt);c>=e&&c<=i&&a.push({id:o.id,...l})}),{success:!0,estimates:a}}catch(n){return console.error("Error getting estimates for analytics:",n),{success:!1,error:n.message}}}static getDateRange(t){const e=new Date;let i,n;switch(t){case"week":i=new Date(e),i.setDate(e.getDate()-7),n=new Date(e);break;case"month":i=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0);break;case"quarter":const s=Math.floor(e.getMonth()/3);i=new Date(e.getFullYear(),s*3,1),n=new Date(e.getFullYear(),s*3+3,0);break;case"year":i=new Date(e.getFullYear(),0,1),n=new Date(e.getFullYear(),11,31);break;default:i=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0)}return{startDate:i,endDate:n}}static calculateTotalRevenue(t){return t.filter(e=>e.status==="completed").reduce((e,i)=>e+(parseFloat(i.totalCost)||0),0)}static calculateAverageJobValue(t){const e=t.filter(n=>n.status==="completed");return e.length===0?0:this.calculateTotalRevenue(t)/e.length}static calculateRevenueGrowth(t,e){return{percentage:12.5,amount:this.calculateTotalRevenue(t)*.125}}static calculateCompletionRate(t){return t.length===0?0:t.filter(i=>i.status==="completed").length/t.length*100}static calculateAverageJobDuration(t){const e=t.filter(n=>n.actualHours);return e.length===0?0:e.reduce((n,s)=>n+(parseFloat(s.actualHours)||0),0)/e.length}static calculateNewCustomers(t,e,i){return t.filter(n=>{const s=new Date(n.createdAt);return s>=e&&s<=i}).length}static calculateCustomerRetentionRate(t,e){const i={};e.forEach(a=>{a.customerId&&(i[a.customerId]=(i[a.customerId]||0)+1)});const n=Object.values(i).filter(a=>a>1).length,s=Object.keys(i).length;return s>0?n/s*100:0}static calculateEstimateConversionRate(t,e){return t.length===0?0:t.filter(n=>e.some(s=>s.customerName===n.customerName&&s.serviceType===n.serviceType)).length/t.length*100}static calculateAverageEstimateValue(t){return t.length===0?0:t.reduce((i,n)=>i+(parseFloat(n.totalCost)||0),0)/t.length}static calculateJobsThisWeek(t){const e=new Date,i=new Date(e);return i.setDate(e.getDate()-e.getDay()),i.setHours(0,0,0,0),t.filter(n=>new Date(n.date)>=i).length}static calculateJobsThisMonth(t){const e=new Date,i=new Date(e.getFullYear(),e.getMonth(),1);return t.filter(n=>new Date(n.date)>=i).length}static calculateRevenueThisWeek(t){const e=new Date,i=new Date(e);return i.setDate(e.getDate()-e.getDay()),i.setHours(0,0,0,0),t.filter(n=>new Date(n.date)>=i&&n.status==="completed").reduce((n,s)=>n+(parseFloat(s.totalCost)||0),0)}static calculateRevenueThisMonth(t){const e=new Date,i=new Date(e.getFullYear(),e.getMonth(),1);return t.filter(n=>new Date(n.date)>=i&&n.status==="completed").reduce((n,s)=>n+(parseFloat(s.totalCost)||0),0)}static calculateServiceTypeBreakdown(t){const e={};return t.forEach(i=>{const n=i.serviceType||"Unknown";e[n]=(e[n]||0)+1}),Object.entries(e).map(([i,n])=>({service:i,count:n})).sort((i,n)=>n.count-i.count)}static calculateStatusBreakdown(t){const e={scheduled:0,"in-progress":0,completed:0,cancelled:0};return t.forEach(i=>{const n=i.status||"unknown";e.hasOwnProperty(n)&&e[n]++}),Object.entries(e).map(([i,n])=>({status:i,count:n}))}static calculateMonthlyTrends(t,e){const i=[],n=[];for(let s=5;s>=0;s--){const a=new Date;a.setMonth(a.getMonth()-s);const o=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}`;n.push(o)}return n.forEach(s=>{const a=t.filter(l=>{const c=new Date(l.date);return`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`===s}),o=a.filter(l=>l.status==="completed").reduce((l,c)=>l+(parseFloat(c.totalCost)||0),0);i.push({month:s,jobs:a.length,revenue:o,completedJobs:a.filter(l=>l.status==="completed").length})}),i}static calculateTopCustomers(t,e){const i={};return e.filter(n=>n.status==="completed").forEach(n=>{const s=n.customerId;s&&(i[s]=(i[s]||0)+(parseFloat(n.totalCost)||0))}),t.map(n=>({...n,revenue:i[n.id]||0,jobCount:e.filter(s=>s.customerId===n.id).length})).sort((n,s)=>s.revenue-n.revenue).slice(0,10)}static calculateOnTimeCompletionRate(t){const e=t.filter(n=>n.status==="completed");return e.length===0?0:e.filter(n=>{const s=new Date(n.date);return new Date(n.completedAt||n.updatedAt)<=s}).length/e.length*100}static calculateCustomerSatisfactionScore(t){return t.filter(i=>i.status==="completed").length>0?4.7:0}static async generateReport(t="comprehensive",e="month"){try{const i=await this.getBusinessAnalytics(e);if(!i.success)return i;const n=i.analytics;let s={title:this.getReportTitle(t),generatedAt:new Date().toISOString(),dateRange:i.dateRange,summary:this.generateReportSummary(n,t),sections:[]};switch(t){case"revenue":s.sections=this.generateRevenueReport(n);break;case"performance":s.sections=this.generatePerformanceReport(n);break;case"customers":s.sections=this.generateCustomerReport(n);break;case"comprehensive":default:s.sections=this.generateComprehensiveReport(n);break}return{success:!0,report:s}}catch(i){return console.error("Error generating report:",i),{success:!1,error:i.message}}}static getReportTitle(t){const e={revenue:"Revenue Analysis Report",performance:"Performance Metrics Report",customers:"Customer Analytics Report",comprehensive:"Comprehensive Business Report"};return e[t]||e.comprehensive}static generateReportSummary(t,e){const i={revenue:`Total revenue: $${t.totalRevenue.toFixed(2)}, Average job value: $${t.averageJobValue.toFixed(2)}`,performance:`Completion rate: ${t.completionRate.toFixed(1)}%, On-time completion: ${t.onTimeCompletionRate.toFixed(1)}%`,customers:`Total customers: ${t.totalCustomers}, Retention rate: ${t.customerRetentionRate.toFixed(1)}%`,comprehensive:`Revenue: $${t.totalRevenue.toFixed(2)}, Jobs: ${t.totalJobs}, Customers: ${t.totalCustomers}, Completion rate: ${t.completionRate.toFixed(1)}%`};return i[e]||i.comprehensive}static generateRevenueReport(t){return[{title:"Revenue Overview",data:[{label:"Total Revenue",value:`$${t.totalRevenue.toFixed(2)}`},{label:"Average Job Value",value:`$${t.averageJobValue.toFixed(2)}`},{label:"Revenue This Week",value:`$${t.revenueThisWeek.toFixed(2)}`},{label:"Revenue This Month",value:`$${t.revenueThisMonth.toFixed(2)}`}]},{title:"Service Type Breakdown",data:t.serviceTypeBreakdown.map(e=>({label:e.service,value:`${e.count} jobs`}))}]}static generatePerformanceReport(t){return[{title:"Job Performance",data:[{label:"Total Jobs",value:t.totalJobs},{label:"Completed Jobs",value:t.completedJobs},{label:"Completion Rate",value:`${t.completionRate.toFixed(1)}%`},{label:"On-Time Completion",value:`${t.onTimeCompletionRate.toFixed(1)}%`},{label:"Average Duration",value:`${t.averageJobDuration.toFixed(1)} hours`}]},{title:"Status Breakdown",data:t.statusBreakdown.map(e=>({label:e.status.replace("-"," ").toUpperCase(),value:e.count}))}]}static generateCustomerReport(t){return[{title:"Customer Overview",data:[{label:"Total Customers",value:t.totalCustomers},{label:"Active Customers",value:t.activeCustomers},{label:"New Customers",value:t.newCustomers},{label:"Retention Rate",value:`${t.customerRetentionRate.toFixed(1)}%`}]},{title:"Top Customers by Revenue",data:t.topCustomers.slice(0,5).map(e=>({label:e.name,value:`$${e.revenue.toFixed(2)}`}))}]}static generateComprehensiveReport(t){return[...this.generateRevenueReport(t),...this.generatePerformanceReport(t),...this.generateCustomerReport(t),{title:"Monthly Trends",data:t.monthlyTrends.map(e=>({label:e.month,value:`${e.jobs} jobs, $${e.revenue.toFixed(2)} revenue`}))}]}}const gye=()=>{const[r,t]=ce.useState(null),[e,i]=ce.useState(null),[n,s]=ce.useState(!1),[a,o]=ce.useState("month"),[l,c]=ce.useState("comprehensive"),[u,d]=ce.useState(!1),p=[{value:"week",label:"Last 7 Days"},{value:"month",label:"This Month"},{value:"quarter",label:"This Quarter"},{value:"year",label:"This Year"}],m=[{value:"comprehensive",label:"Comprehensive Report",icon:l1},{value:"revenue",label:"Revenue Analysis",icon:vw},{value:"performance",label:"Performance Metrics",icon:Y0},{value:"customers",label:"Customer Analytics",icon:Lp}];ce.useEffect(()=>{y()},[a]);const y=async()=>{s(!0);try{const N=await iB.getBusinessAnalytics(a);N.success?t(N.analytics):mt.error(N.error)}catch(N){console.error("Error loading analytics:",N),mt.error("Error loading analytics")}s(!1)},M=async()=>{s(!0);try{const N=await iB.generateReport(l,a);N.success?(i(N.report),d(!0)):mt.error(N.error)}catch(N){console.error("Error generating report:",N),mt.error("Error generating report")}s(!1)},w=()=>{if(!e)return;const N={title:e.title,generatedAt:e.generatedAt,dateRange:e.dateRange,summary:e.summary,sections:e.sections},B=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),P=window.URL.createObjectURL(B),C=document.createElement("a");C.href=P,C.download=`${e.title.toLowerCase().replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(P),mt.success("Report exported successfully!")},b=()=>{if(!e)return;const N=window.open("","_blank");N.document.write(`
      <html>
        <head>
          <title>${e.title}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .header { text-align: center; margin-bottom: 30px; }
            .section { margin-bottom: 25px; }
            .section h3 { color: #10b981; border-bottom: 2px solid #10b981; padding-bottom: 5px; }
            .data-item { display: flex; justify-content: space-between; margin: 8px 0; }
            .summary { background: #f3f4f6; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>${e.title}</h1>
            <p>Generated: ${new Date(e.generatedAt).toLocaleDateString()}</p>
            <p>Date Range: ${new Date(e.dateRange.startDate).toLocaleDateString()} - ${new Date(e.dateRange.endDate).toLocaleDateString()}</p>
          </div>
          <div class="summary">
            <h3>Summary</h3>
            <p>${e.summary}</p>
          </div>
          ${e.sections.map(B=>`
            <div class="section">
              <h3>${B.title}</h3>
              ${B.data.map(P=>`
                <div class="data-item">
                  <span>${P.label}:</span>
                  <span>${P.value}</span>
                </div>
              `).join("")}
            </div>
          `).join("")}
        </body>
      </html>
    `),N.document.close(),N.print()},D=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N||0),E=N=>`${N.toFixed(1)}%`;return n&&!r?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):x.jsxs(ph.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(l1,{className:"h-8 w-8 text-primary-500 mr-3"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),x.jsx("p",{className:"text-gray-600",children:"Comprehensive business insights and performance metrics"})]})]}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("select",{value:a,onChange:N=>o(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",children:p.map(N=>x.jsx("option",{value:N.value,children:N.label},N.value))}),x.jsxs("button",{onClick:M,disabled:n,className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[x.jsx(F6,{className:"h-4 w-4 mr-2"}),"Generate Report"]})]})]})}),r&&x.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(vw,{className:"h-6 w-6 text-green-500"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:D(r.totalRevenue)})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(Y0,{className:"h-6 w-6 text-blue-500"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Jobs"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:r.totalJobs})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(Lp,{className:"h-6 w-6 text-purple-500"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Customers"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:r.totalCustomers})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(g0e,{className:"h-6 w-6 text-orange-500"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completion Rate"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:E(r.completionRate)})]})})]})})})]}),x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Report Type"}),x.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:m.map(N=>{const B=N.icon;return x.jsxs("button",{onClick:()=>c(N.value),className:`p-4 border rounded-lg text-left transition-colors ${l===N.value?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[x.jsx(B,{className:"h-6 w-6 mb-2"}),x.jsx("h4",{className:"font-medium",children:N.label})]},N.value)})})]}),r&&x.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[x.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[x.jsx(vw,{className:"h-5 w-5 mr-2 text-green-500"}),"Revenue Analytics"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"Average Job Value"}),x.jsx("span",{className:"text-sm font-medium",children:D(r.averageJobValue)})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"This Week"}),x.jsx("span",{className:"text-sm font-medium",children:D(r.revenueThisWeek)})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"This Month"}),x.jsx("span",{className:"text-sm font-medium",children:D(r.revenueThisMonth)})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"Growth Rate"}),x.jsxs("span",{className:"text-sm font-medium text-green-600",children:["+",r.revenueGrowth.percentage.toFixed(1),"%"]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[x.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[x.jsx(Y0,{className:"h-5 w-5 mr-2 text-blue-500"}),"Performance Metrics"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"Completed Jobs"}),x.jsx("span",{className:"text-sm font-medium",children:r.completedJobs})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"On-Time Completion"}),x.jsx("span",{className:"text-sm font-medium",children:E(r.onTimeCompletionRate)})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"Average Duration"}),x.jsxs("span",{className:"text-sm font-medium",children:[r.averageJobDuration.toFixed(1)," hrs"]})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"Customer Satisfaction"}),x.jsxs("span",{className:"text-sm font-medium",children:[r.customerSatisfactionScore.toFixed(1),"/5.0"]})]})]})]}),x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[x.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[x.jsx(Lp,{className:"h-5 w-5 mr-2 text-purple-500"}),"Customer Analytics"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"Active Customers"}),x.jsx("span",{className:"text-sm font-medium",children:r.activeCustomers})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"New Customers"}),x.jsx("span",{className:"text-sm font-medium",children:r.newCustomers})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"Retention Rate"}),x.jsx("span",{className:"text-sm font-medium",children:E(r.customerRetentionRate)})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"Top Customer Revenue"}),x.jsx("span",{className:"text-sm font-medium",children:D(r.topCustomers[0]?.revenue||0)})]})]})]}),x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[x.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[x.jsx(l1,{className:"h-5 w-5 mr-2 text-orange-500"}),"Service Type Breakdown"]}),x.jsx("div",{className:"space-y-3",children:r.serviceTypeBreakdown.slice(0,5).map((N,B)=>x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:N.service}),x.jsxs("span",{className:"text-sm font-medium",children:[N.count," jobs"]})]},B))})]})]}),r&&x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[x.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[x.jsx(iT,{className:"h-5 w-5 mr-2 text-indigo-500"}),"Monthly Trends"]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jobs"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completed"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.monthlyTrends.map((N,B)=>x.jsxs("tr",{children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.month}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.jobs}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.completedJobs}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D(N.revenue)})]},B))})]})})]}),u&&e&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white",children:x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsxs("button",{onClick:b,className:"flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[x.jsx(K0e,{className:"h-4 w-4 mr-2"}),"Print"]}),x.jsxs("button",{onClick:w,className:"flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[x.jsx(F6,{className:"h-4 w-4 mr-2"}),"Export"]}),x.jsxs("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:[x.jsx("span",{className:"sr-only",children:"Close"}),x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})]}),x.jsxs("div",{className:"space-y-6 max-h-96 overflow-y-auto",children:[x.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[x.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Report Summary"}),x.jsx("p",{className:"text-sm text-gray-600",children:e.summary}),x.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Generated: ",new Date(e.generatedAt).toLocaleString()]})]}),e.sections.map((N,B)=>x.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[x.jsx("h4",{className:"font-medium text-gray-900 mb-3 text-primary-600",children:N.title}),x.jsx("div",{className:"space-y-2",children:N.data.map((P,C)=>x.jsxs("div",{className:"flex justify-between py-1",children:[x.jsx("span",{className:"text-sm text-gray-600",children:P.label}),x.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.value})]},C))})]},B))]}),x.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:x.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Close"})})]})})})]})};var vye=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),yye=["alt","className","disabled","form","id","readOnly","style","tabIndex","title","type","name","onClick","onFocus","onBlur"],xye=["accordion","tab","splitter"],Mye=/\]/,wye=(function(r){vye(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.mountingState=!1,e.attrKeys=[],e.cachedTimeOut=0,e.isAppendCalled=!1,e.initRenderCalled=!1,e.isReactForeceUpdate=!1,e.isReact=!0,e.isshouldComponentUpdateCalled=!1,e.isCreated=!1,e}return t.prototype.componentDidMount=function(){this.refreshChild(!0),this.canDelayUpdate=xye.indexOf(this.getModuleName())!==-1,this.renderReactComponent(),this.portals&&this.portals.length&&(this.mountingState=!0,this.renderReactTemplates(),this.mountingState=!1)},t.prototype.componentDidUpdate=function(e){!this.isshouldComponentUpdateCalled&&this.initRenderCalled&&!this.isReactForeceUpdate&&e!==this.props&&(this.isshouldComponentUpdateCalled=!0,this.updateProperties(this.props,!1,e))},t.prototype.renderReactComponent=function(){var e=this.reactElement;e&&!this.isAppendCalled&&(this.isAppendCalled=!0,this.appendTo(e))},t.prototype.shouldComponentUpdate=function(e){return this.isshouldComponentUpdateCalled=!0,this.initRenderCalled?(this.isAppendCalled||(clearTimeout(this.cachedTimeOut),this.isAppendCalled=!0,this.appendTo(this.reactElement)),this.updateProperties(e),!0):(this.updateProperties(e,!0),!0)},t.prototype.updateProperties=function(e,i,n){for(var s=this,a=qe({},e),o=Object.keys(e),l=qe({},n||this.props),c=v(l.statelessTemplates)?v(this.statelessTemplateProps)?[]:this.statelessTemplateProps:l.statelessTemplates,u=0,d=o;u<d.length;u++){var p=d[u],m=p==="className";if(p!=="children")if(!m&&!v(this.htmlattributes[""+p])&&this.htmlattributes[""+p]!==a[""+p]&&(this.htmlattributes[""+p]=a[""+p]),this.compareValues(l[""+p],e[""+p]))delete a[""+p];else if(this.attrKeys.indexOf(p)!==-1)if(m){this.clsName=!0;for(var y=l[""+p].split(" "),M=0;M<y.length;M++)this.element.classList.remove(y[parseInt(M.toString(),10)]);for(var w=a[""+p].split(" "),b=0;b<w.length;b++)this.element.classList.add(w[parseInt(b.toString(),10)])}else p!=="disabled"&&!Object.prototype.hasOwnProperty.call(this.properties,p)&&delete a[""+p];else(p==="value"&&e[""+p]===this[""+p]||c.indexOf(p)>-1&&(p==="content"&&typeof a[""+p]=="function"||e[""+p].toString()===this[""+p].toString()))&&delete a[""+p]}a.children&&delete a.children,this.initRenderCalled&&(this.canDelayUpdate||l.delayUpdate)?setTimeout(function(){s.refreshProperties(a,e,i)}):this.refreshProperties(a,e,i)},t.prototype.refreshProperties=function(e,i,n){var s=v(this.props.statelessTemplates)?[]:this.props.statelessTemplates;Object.keys(e).length&&(n||this.processComplexTemplate(e,this),this.setProperties(e,n)),s.indexOf("directiveTemplates")===-1&&this.refreshChild(n,i)},t.prototype.processComplexTemplate=function(e,i){var n=i.complexTemplate;if(n){for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){var a=n[""+s];e[""+s]&&Yr(a,Pe(s,e),e)}}},t.prototype.getDefaultAttributes=function(){var e=this;this.isReact=!0;var i=Object.keys(this.props),n=["children","statelessTemplates","immediateRender","isLegacyTemplate","delayUpdate"];this.htmlattributes||(this.htmlattributes={}),this.attrKeys=yye.concat(this.controlAttributes||[]);for(var s=0,a=i;s<a.length;s++){var o=a[s];(o.indexOf("data-")!==-1||o.indexOf("aria-")!==-1||this.attrKeys.indexOf(o)!==-1||Object.keys(this.properties).indexOf(""+o)===-1&&n.indexOf(""+o)===-1)&&this.htmlattributes[""+o]!==this.props[""+o]&&(this.htmlattributes[""+o]=this.props[""+o])}if(!this.htmlattributes.ref){this.htmlattributes.ref=function(p){e.reactElement=p};var l=["autocomplete","combobox","dropdownlist","dropdowntree","multiselect","listbox","colorpicker","numerictextbox","textbox","smarttextarea","uploader","maskedtextbox","slider","datepicker","datetimepicker","daterangepicker","timepicker","checkbox","switch","radio","rating","textarea","multicolumncombobox"];l.indexOf(this.getModuleName())!==-1&&(this.htmlattributes.key=""+t.reactUid,t.reactUid++,this.type&&!this.htmlattributes.type&&(this.htmlattributes.type=this.multiline?"hidden":this.type),this.name&&!this.htmlattributes.name&&(this.htmlattributes.name=this.name))}if(this.clsName)for(var c=this.element.classList,u=this.htmlattributes.className,d=0;d<c.length;d++)u.indexOf(c[parseInt(d.toString(),10)])===-1&&(this.htmlattributes.className=this.htmlattributes.className+" "+c[parseInt(d.toString(),10)]);return this.htmlattributes},t.prototype.trigger=function(e,i,n){var s=this;if(this.isDestroyed!==!0&&this.modelObserver){if(Mye.test(e)){var a=Pe(e,this);a?(a.call(this,i),n&&n.call(this,i)):n&&n.call(this,i)}(e==="change"||e==="input")&&this.props.onChange&&i.event&&this.props.onChange.call(void 0,{syntheticEvent:i.event,nativeEvent:{text:i.value},value:i.value,target:this});var o=this.isProtectedOnChange;this.isProtectedOnChange=!1,e==="created"?setTimeout(function(){s.isCreated=!0,s.isDestroyed||s.modelObserver.notify(e,i,n)},10):this.modelObserver.notify(e,i,n),this.isProtectedOnChange=o}},t.prototype.compareValues=function(e,i){var n=typeof e,s=typeof i;if(n===s){if(e===i)return!0;if((!v(e)&&e.constructor)!==(!v(i)&&i.constructor))return!1;if(e instanceof Date||e instanceof RegExp||e instanceof String||e instanceof Number)return e.toString()===i.toString();if(Pp(e)||Array.isArray(e)){var a=e,o=i;return Pp(a)&&(a=[e],o=[i]),this.compareObjects(a,o).status}if(e.moduleName&&e.moduleName===i.moduleName&&(e.moduleName==="query"||e.moduleName==="datamanager")&&JSON.stringify(e)===JSON.stringify(i))return!0}return!1},t.prototype.compareObjects=function(e,i,n){var s=!0,a=e.length===i.length,o=[],l=v(this.templateProps)?[]:this.templateProps;if(a)for(var c=0,u=i.length;c<u;c++){var d={},p=e[parseInt(c.toString(),10)],m=i[parseInt(c.toString(),10)],y=Object.keys(m);if(y.length!==0)for(var M=0,w=y;M<w.length;M++){var b=w[M],D=p[""+b],E=m[""+b];if(b==="items"){for(var N=0;N<E.length;N++)if(this.getModuleName()==="richtexteditor"&&typeof E[parseInt(N.toString(),10)]=="object")return{status:!0}}if(this.getModuleName()==="grid"&&b==="field"&&(d[""+b]=E),!Object.prototype.hasOwnProperty.call(p,b)||!(l.length>0&&l.indexOf(""+b)===-1&&typeof E=="function"?this.compareValues(D.toString(),E.toString()):this.compareValues(D,E))){if(!n)return{status:!1};s=!1,d[""+b]=E}}else if(i[parseInt(c.toString(),10)]===e[parseInt(c.toString(),10)])s=!0;else{if(!n)return{status:!1};s=!1}this.getModuleName()==="grid"&&n==="columns"&&v(d.field)&&(d.field=void 0),Object.keys(d).length&&o.push({index:c,value:d,key:n})}else s=!1;return{status:s,changedProperties:o}},t.prototype.refreshChild=function(e,i){if(this.checkInjectedModules){for(var n=this.getInjectedModules()||[],s=this.getInjectedServices()||[],a=0,o=s;a<o.length;a++){var l=o[a];n.indexOf(l)===-1&&n.push(l)}this.injectedModules=n}if(this.directivekeys){var c=[],u="",d=this.validateChildren({},this.directivekeys,i||this.props);if(d&&Object.keys(d).length){if(!e&&this.skipRefresh)for(var p=0,m=this.skipRefresh;p<m.length;p++){var y=m[p];delete d[""+y]}if(this.prevProperties){for(var M=Object.keys(this.prevProperties),w=0;w<M.length;w++)if(u=M[parseInt(w.toString(),10)],!!Object.prototype.hasOwnProperty.call(d,u)){var b=this.compareObjects(this.prevProperties[""+u],d[""+u],u);if(b.status)delete d[""+u];else{b.changedProperties.length&&(c=c.concat(b.changedProperties));var D={};D[""+u]=d[""+u],this.prevProperties=qe(this.prevProperties,D)}}}else this.prevProperties=qe({},d,{},!0);if(c.length)if(this.getModuleName()==="grid"&&u==="columns")for(var E=0,N=this.columns;E<N.length;E++){var B=Pe("field",N[parseInt(E.toString(),10)]),P=Pe(E+".value.field",c);if(B===P){var C=Pe(c[parseInt(E.toString(),10)].key+"."+c[parseInt(E.toString(),10)].index,this);C&&C.setProperties?C.setProperties(c[parseInt(E.toString(),10)].value):qe(C,c[parseInt(E.toString(),10)].value)}else this.setProperties(d,e)}else for(var k=0,_=c;k<_.length;k++){var H=_[k],C=Pe(H.key+"."+H.index,this);C&&C.setProperties?C.setProperties(H.value):qe(C,H.value)}else this.setProperties(d,e)}}},t.prototype.componentWillUnmount=function(){clearTimeout(this.cachedTimeOut);var e=["dropdowntree","checkbox"],i=e.indexOf(this.getModuleName())?!0:document.body.contains(this.element);this.initRenderCalled&&this.isAppendCalled&&this.element&&i&&!this.isDestroyed&&this.isCreated&&this.destroy(),Hw.offIntlEvents()},t.prototype.appendReactElement=function(e,i){var n=M9.createPortal(e,i);this.portals?this.portals.push(n):this.portals=[n]},t.prototype.renderReactTemplates=function(e){this.isReactForeceUpdate=!0,e?this.forceUpdate(e):this.forceUpdate(),this.isReactForeceUpdate=!1},t.prototype.clearTemplate=function(e,i,n){var s=this;e&&e.length?Array.prototype.forEach.call(e,function(a){if(s.portals.forEach(function(l){l.propName}),!v(i)&&s.portals[i]&&s.portals[i].propName===a)s.portals.splice(i,1);else for(var o=0;o<s.portals.length;o++)s.portals[parseInt(o.toString(),10)].propName===a&&(s.portals.splice(o,1),o--)}):this.portals=[],this.renderReactTemplates(n)},t.prototype.validateChildren=function(e,i,n){for(var s=!1,a=ce.Children.toArray(n.children),o=0,l=a;o<l.length;o++){var c=l[o],u=this.getChildType(c),d=i[""+u];if(u&&i){var p=this.getChildProps(ce.Children.toArray(c.props.children),d);p.length&&(s=!0,e[c.type.propertyName||u]=p)}}return s?e:null},t.prototype.getChildType=function(e){return e.type&&e.type.isDirective&&e.type.moduleName||""},t.prototype.getChildProps=function(e,i){for(var n=[],s=0,a=e;s<a.length;s++){var o=a[s],l=!1,c=void 0;typeof i=="string"?(l=!0,c=i):c=Object.keys(i)[0];var u=o.props,d=this.getChildType(o);if(d===c)if(l||!u.children){var p=qe({},u,{},!0);this.processComplexTemplate(p,o.type),n.push(p)}else{var m=this.validateChildren(qe({},u),i[""+c],u)||u;m.children&&delete m.children,this.processComplexTemplate(m,o.type),n.push(m)}}return n},t.prototype.getInjectedServices=function(){for(var e=ce.Children.toArray(this.props.children),i=0,n=e;i<n.length;i++){var s=n[i];if(s.type&&s.type.isService)return s.props.services}return[]},t.reactUid=1,t})(ce.Component);function Tye(r,t){t.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(i){i!=="isMounted"&&i!=="replaceState"&&i!=="render"&&(r.prototype[""+i]=e.prototype[""+i])})})}var bye=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),EG=(function(r){bye(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(){return null},t.isDirective=!0,t})(ce.PureComponent),Dye=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Eye=(function(r){Dye(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(){return null},t.isService=!0,t})(ce.PureComponent),Aye=Lne();function Sye(r,t){return typeof r=="string"||r.prototype&&r.prototype.CSPTemplate&&typeof r=="function"?Aye(r,t):function(e,i,n,s){var a=r,o=e;typeof a=="object"&&(a=r.template,o=qe({},e,r.data||{}));var l;s?l=s:l=document.createElement("div");var c=ce.createElement(a,o),u=M9.createPortal(c,l);if(u.propName=n,i.portals?i.portals.push(u):i.portals=[u],!s)return[l]}}kne({compile:Sye});var AG=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Kx=(function(r){AG(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.moduleName="view",t.complexTemplate={"timeScale.minorSlotTemplate":"timeScale.minorSlotTemplate","timeScale.majorSlotTemplate":"timeScale.majorSlotTemplate","group.headerTooltipTemplate":"group.headerTooltipTemplate"},t})(EG),Nye=(function(r){AG(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.propertyName="views",t.moduleName="views",t})(EG),pf,Gm,mu,sT,Oj=!1;function Iye(r,t){var e=!1,i={left:0,top:0},n=r;if(!r||!t)return i;for(v(t.offsetParent)&&t.style.position==="fixed"&&(e=!0);(t.offsetParent||e)&&r&&t.offsetParent!==r;)i.left+=r.offsetLeft,i.top+=r.offsetTop,r=r.offsetParent;for(r=n;(t.offsetParent||e)&&r&&t.offsetParent!==r;)i.left-=r.scrollLeft,i.top-=r.scrollTop,r=r.parentElement;return i}function vc(r,t,e,i,n){if(Gm=void 0,Gm=n,Oj=!!i,!r)return{left:0,top:0};t||(t="left"),e||(e="top"),sT=r.ownerDocument,mu=r;var s={left:0,top:0};return Cye(t.toLowerCase(),e.toLowerCase(),s)}function ep(r,t){t.left=r}function tp(r,t){t.top=r}function Cye(r,t,e){switch(pf=mu.getBoundingClientRect(),t+r){case"topcenter":ep(a2(),e),tp(XE(),e);break;case"topright":ep(s2(),e),tp(XE(),e);break;case"centercenter":ep(a2(),e),tp(n2(),e);break;case"centerright":ep(s2(),e),tp(n2(),e);break;case"centerleft":ep(JE(),e),tp(n2(),e);break;case"bottomcenter":ep(a2(),e),tp(r2(),e);break;case"bottomright":ep(s2(),e),tp(r2(),e);break;case"bottomleft":ep(JE(),e),tp(r2(),e);break;default:case"topleft":ep(JE(),e),tp(XE(),e);break}return mu=null,e}function SG(){return sT.documentElement.scrollTop||sT.body.scrollTop}function NG(){return sT.documentElement.scrollLeft||sT.body.scrollLeft}function r2(){return Oj?pf.bottom:pf.bottom+SG()}function n2(){return XE()+pf.height/2}function XE(){return Oj?pf.top:pf.top+SG()}function JE(){return pf.left+NG()}function s2(){var r=mu&&((mu.classList.contains("e-date-wrapper")||mu.classList.contains("e-datetime-wrapper"))&&mu.classList.contains("e-rtl")||mu.classList.contains("e-ddl")&&mu.classList.contains("e-rtl")||mu.classList.contains("e-date-range-wrapper"))?Gm?Gm.width:0:Gm&&pf.width>=Gm.width?Gm.width:0;return mu&&mu.classList.contains("e-rtl")&&mu.classList.contains("e-multiselect")&&(r=Gm.width),pf.right+NG()-r}function a2(){return JE()+pf.width/2}var Cg,Jc;function IG(r,t,e,i){if(t===void 0&&(t=null),e===void 0&&(e={X:!1,Y:!1}),!e.Y&&!e.X)return{left:0,top:0};var n=r.getBoundingClientRect();if(Jc=t,Cg=r.ownerDocument,i||(i=vc(r,"left","top")),e.X){var s=Jc?_G():BG(),a=_j(),o=zj(),l=a-i.left,c=i.left+n.width-o;n.width>s?l>0&&c<=0?i.left=o-n.width:c>0&&l<=0?i.left=a:i.left=l>c?o-n.width:a:l>0?i.left+=l:c>0&&(i.left-=c)}if(e.Y){var u=Jc?zG():FG(),d=jj(),p=Rj(),m=d-i.top,y=i.top+n.height-p;n.height>u?m>0&&y<=0?i.top=p-n.height:y>0&&m<=0?i.top=d:i.top=m>y?p-n.height:d:m>0?i.top+=m:y>0&&(i.top-=y)}return i}function gp(r,t,e,i){t===void 0&&(t=null);var n=vc(r,"left","top");e&&(n.left=e),i&&(n.top=i);var s=[];Jc=t,Cg=r.ownerDocument;var a=r.getBoundingClientRect(),o=n.top,l=n.left,c=n.left+a.width,u=n.top+a.height,d=jG(o,u),p=OG(l,c);return d.topSide&&s.push("top"),p.rightSide&&s.push("right"),p.leftSide&&s.push("left"),d.bottomSide&&s.push("bottom"),s}function Oye(r,t,e,i,n,s,a,o,l){if(a===void 0&&(a=null),o===void 0&&(o={X:!0,Y:!0}),!(!t||!r||!n||!s||!o.X&&!o.Y)){var c={TL:null,TR:null,BL:null,BR:null},u={TL:null,TR:null,BL:null,BR:null},d;if(window.getComputedStyle(r).display==="none"){var p=r.style.visibility;r.style.visibility="hidden",r.style.display="block",d=r.getBoundingClientRect(),r.style.removeProperty("display"),r.style.visibility=p}else d=r.getBoundingClientRect();var m={posX:n,posY:s,offsetX:e,offsetY:i,position:{left:0,top:0}};Jc=a,Cg=t.ownerDocument,Lye(t,c,m,l,d),Lj(u,m,d),o.X&&kG(t,u,c,m,d,!0),o.Y&&c.TL.top>-1&&LG(t,u,c,m,d,!0),kye(r,m,d)}}function kye(r,t,e){var i=0,n=0;if(r.offsetParent!=null&&(getComputedStyle(r.offsetParent).position==="absolute"||getComputedStyle(r.offsetParent).position==="relative")){var s=vc(r.offsetParent,"left","top",!1,e);i=s.left,n=s.top}var a=1,o=1,l=CG(r);if(l){var c=getComputedStyle(l).transform;if(c!=="none"){var u=new DOMMatrix(c);a=u.a,o=u.d}var d=getComputedStyle(l).zoom;if(d!=="none"){var p=kj(document.body);a=p*a,o=p*o}}r.style.top=t.position.top/o+t.offsetY-n/o+"px",r.style.left=t.position.left/a+t.offsetX-i/a+"px"}function kj(r){var t=getComputedStyle(r).zoom;return parseFloat(t)||1}function CG(r){for(;r;){var t=window.getComputedStyle(r).transform,e=kj(document.body);if(t&&t!=="none"||e&&e!==1)return r;if(r===document.body)return null;r=r.offsetParent||r.parentElement}return null}function Lye(r,t,e,i,n){e.position=vc(r,e.posX,e.posY,i,n),t.TL=vc(r,"left","top",i,n),t.TR=vc(r,"right","top",i,n),t.BR=vc(r,"left","bottom",i,n),t.BL=vc(r,"right","bottom",i,n)}function Lj(r,t,e){r.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX},r.TR={top:r.TL.top,left:r.TL.left+e.width},r.BL={top:r.TL.top+e.height,left:r.TL.left},r.BR={top:r.TL.top+e.height,left:r.TL.left+e.width}}function OG(r,t){var e=!1,i=!1;return r-GA()<_j()&&(e=!0),t>zj()&&(i=!0),{leftSide:e,rightSide:i}}function kG(r,t,e,i,n,s){var a=OG(t.TL.left,t.TR.left);e.TL.left-GA()<=_j()&&(a.leftSide=!1),e.TR.left>zj()&&(a.rightSide=!1),(a.leftSide&&!a.rightSide||!a.leftSide&&a.rightSide)&&(i.posX==="right"?i.posX="left":i.posX="right",i.offsetX=i.offsetX+n.width,i.offsetX=-1*i.offsetX,i.position=vc(r,i.posX,i.posY,!1),Lj(t,i,n),s&&kG(r,t,e,i,n,!1))}function LG(r,t,e,i,n,s){var a=jG(t.TL.top,t.BL.top);e.TL.top-QA()<=jj()&&(a.topSide=!1),e.BL.top>=Rj()&&r.getBoundingClientRect().bottom<window.innerHeight&&(a.bottomSide=!1),(a.topSide&&!a.bottomSide||!a.topSide&&a.bottomSide)&&(i.posY==="top"?i.posY="bottom":i.posY="top",i.offsetY=i.offsetY+n.height,i.offsetY=-1*i.offsetY,i.position=vc(r,i.posX,i.posY,!1,n),Lj(t,i,n),s&&LG(r,t,e,i,n,!1))}function jG(r,t){var e=!1,i=!1;return r-QA()<jj()&&(e=!0),t>Rj()&&(i=!0),{topSide:e,bottomSide:i}}function _G(){return Jc.getBoundingClientRect().width}function zG(){return Jc.getBoundingClientRect().height}function RG(){return Jc.getBoundingClientRect().left}function PG(){return Jc.getBoundingClientRect().top}function jj(){return Jc?PG():0}function _j(){return Jc?RG():0}function zj(){return Jc?GA()+RG()+_G():GA()+BG()}function Rj(){return Jc?QA()+PG()+zG():QA()+FG()}function QA(){return Cg.documentElement.scrollTop||Cg.body.scrollTop}function GA(){return Cg.documentElement.scrollLeft||Cg.body.scrollLeft}function FG(){return window.innerHeight}function BG(){var r=window.innerWidth,t=document.documentElement.getBoundingClientRect(),e=v(document.documentElement)?0:t.width;return r-(r-e)}function UG(){Jc=null,Cg=null}var VG=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),_a=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},HG=(function(r){VG(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return _a([ee("left")],t.prototype,"X",void 0),_a([ee("top")],t.prototype,"Y",void 0),t})(fa),Do={ROOT:"e-popup",RTL:"e-rtl",OPEN:"e-popup-open",CLOSE:"e-popup-close"},xh=(function(r){VG(t,r);function t(e,i){return r.call(this,i,e)||this}return t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"width":ui(this.element,{width:bt(e.width)});break;case"height":ui(this.element,{height:bt(e.height)});break;case"zIndex":ui(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":{var o=e.offsetX-i.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+o).toString()+"px";break}case"offsetY":{var l=e.offsetY-i.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+l).toString()+"px";break}case"content":this.setContent();break;case"actionOnScroll":e.actionOnScroll!=="none"?this.wireScrollEvents():this.unwireScrollEvents();break}}},t.prototype.getModuleName=function(){return"popup"},t.prototype.resolveCollision=function(){this.checkCollision()},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.destroy=function(){this.element.classList.contains("e-popup-open")&&this.unwireEvents(),this.element.classList.remove(Do.ROOT,Do.RTL,Do.OPEN,Do.CLOSE),this.content=null,this.relateTo=null,UG(),r.prototype.destroy.call(this)},t.prototype.render=function(){this.element.classList.add(Do.ROOT);var e={};this.zIndex!==1e3&&(e.zIndex=this.zIndex),this.width!=="auto"&&(e.width=bt(this.width)),this.height!=="auto"&&(e.height=bt(this.height)),ui(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent()},t.prototype.wireEvents=function(){Re.isDevice&&se.add(window,"orientationchange",this.orientationOnChange,this),this.actionOnScroll!=="none"&&this.wireScrollEvents()},t.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,i=this.getScrollableParent(this.getRelateToElement());e<i.length;e++){var n=i[e];se.add(n,"scroll",this.scrollRefresh,this)}},t.prototype.unwireEvents=function(){Re.isDevice&&se.remove(window,"orientationchange",this.orientationOnChange),this.actionOnScroll!=="none"&&this.unwireScrollEvents()},t.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,i=this.getScrollableParent(this.getRelateToElement());e<i.length;e++){var n=i[e];se.remove(n,"scroll",this.scrollRefresh)}},t.prototype.getRelateToElement=function(){var e=this.relateTo===""||v(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),typeof this.relateTo=="string"?document.querySelector(this.relateTo):this.relateTo},t.prototype.scrollRefresh=function(e){if(this.actionOnScroll==="reposition"?!v(this.element)&&!(this.element.offsetParent===e.target||this.element.offsetParent&&this.element.offsetParent.tagName==="BODY"&&e.target.parentElement==null)&&this.refreshPosition():this.actionOnScroll==="hide"&&this.hide(),this.actionOnScroll!=="none"&&this.getRelateToElement()){var i=this.isElementOnViewport(this.getRelateToElement(),e.target);!i&&!this.targetInvisibleStatus?(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0):i&&(this.targetInvisibleStatus=!1)}},t.prototype.isElementOnViewport=function(e,i){for(var n=this.getScrollableParent(e),s=0;s<n.length;s++)if(!this.isElementVisible(e,n[s]))return!1;return!0},t.prototype.isElementVisible=function(e,i){var n=this.checkGetBoundingClientRect(e);if(!n.height||!n.width)return!1;if(v(this.checkGetBoundingClientRect(i))){var a=window,o={top:a.scrollY,left:a.scrollX,right:a.scrollX+a.outerWidth,bottom:a.scrollY+a.outerHeight},l=vc(e),c={top:l.top,left:l.left,right:l.left+n.width,bottom:l.top+n.height},u={top:o.bottom-c.top,left:o.right-c.left,bottom:c.bottom-o.top,right:c.right-o.left};return u.top>0&&u.left>0&&u.right>0&&u.bottom>0}else{var s=i.getBoundingClientRect();return!(n.bottom<s.top)&&!(n.bottom>s.bottom)&&!(n.right>s.right)&&!(n.left<s.left)}},t.prototype.preRender=function(){},t.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add(Do.RTL):this.element.classList.remove(Do.RTL)},t.prototype.setContent=function(){if(!v(this.content))if(this.element.innerHTML="",typeof this.content=="string")this.element.textContent=this.content;else{var e=this.getRelateToElement(),i=this.content.props;(!e.classList.contains("e-dropdown-btn")||v(i))&&this.element.appendChild(this.content)}},t.prototype.orientationOnChange=function(){var e=this;setTimeout(function(){e.refreshPosition()},200)},t.prototype.refreshPosition=function(e,i){v(e)||this.checkFixedParent(e),this.reposition(),i||this.checkCollision()},t.prototype.reposition=function(){var e,i,n=this.getRelateToElement();if(typeof this.position.X=="number"&&typeof this.position.Y=="number")e={left:this.position.X,top:this.position.Y};else if(typeof this.position.X=="string"&&typeof this.position.Y=="number"||typeof this.position.X=="number"&&typeof this.position.Y=="string"){var s=void 0,a=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(s=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),i=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY),typeof this.position.X=="string"?e={left:i.left,top:this.position.Y}:e={left:this.position.X,top:i.top},this.element.style.display=a,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=s)}else if(n){var o=this.element.clientHeight,a=this.element.style.display;this.element.style.display="block",e=this.getAnchorPosition(n,this.element,this.position,this.offsetX,this.offsetY,o),this.element.style.display=a}else e={left:0,top:0};v(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")},t.prototype.checkGetBoundingClientRect=function(e){var i;try{return i=e.getBoundingClientRect(),i}catch{return null}},t.prototype.getAnchorPosition=function(e,i,n,s,a,o){o===void 0&&(o=0);var l=this.checkGetBoundingClientRect(i),c=this.checkGetBoundingClientRect(e);if(v(l)||v(c))return null;var u=e,d={left:0,top:0};switch(i.offsetParent&&i.offsetParent.tagName==="BODY"&&e.tagName==="BODY"?d=vc(e):(i.classList.contains("e-dlg-modal")&&u.tagName!=="BODY"&&(i=i.parentElement),d=Iye(u,i)),n.X){default:case"left":break;case"center":i.classList.contains("e-dlg-modal")&&u.tagName==="BODY"&&this.targetType==="container"?d.left+=window.innerWidth/2-l.width/2:this.targetType==="container"?d.left+=c.width/2-l.width/2:d.left+=c.width/2;break;case"right":if(i.classList.contains("e-dlg-modal")&&u.tagName==="BODY"&&this.targetType==="container")d.left+=window.innerWidth-l.width;else if(this.targetType==="container"){var p=1,m=CG(i);if(m){var y=getComputedStyle(m).transform;if(y!=="none"){var M=new DOMMatrix(y);p=M.a}var w=getComputedStyle(m).zoom;if(w!=="none"){var b=kj(document.body);p=b*p}}d.left+=(c.width-l.width)/p}else d.left+=c.width;break}switch(n.Y){default:case"top":break;case"center":i.classList.contains("e-dlg-modal")&&u.tagName==="BODY"&&this.targetType==="container"?d.top+=window.innerHeight/2-l.height/2:this.targetType==="container"?d.top+=c.height/2-l.height/2:d.top+=c.height/2;break;case"bottom":i.classList.contains("e-dlg-modal")&&u.tagName==="BODY"&&this.targetType==="container"?d.top+=window.innerHeight-l.height:this.targetType==="container"&&!i.classList.contains("e-dialog")?d.top+=c.height-l.height:this.targetType==="container"&&i.classList.contains("e-dialog")?d.top+=c.height-o:d.top+=c.height;break}return d.left+=s,d.top+=a,d},t.prototype.callFlip=function(e){var i=this.getRelateToElement();Oye(this.element,i,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)},t.prototype.callFit=function(e){if(gp(this.element,this.viewPortElement).length!==0)if(v(this.viewPortElement)){var i=IG(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=i.left+"px"),e.Y&&(this.element.style.top=i.top+"px")}else{var n=this.checkGetBoundingClientRect(this.element),s=this.checkGetBoundingClientRect(this.viewPortElement);if(v(n)||v(s))return null;e&&e.Y===!0&&(s.top>n.top?this.element.style.top="0px":s.bottom<n.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(n.bottom-s.bottom)+"px")),e&&e.X===!0&&(s.right<n.right?this.element.style.left=parseInt(this.element.style.left,10)-(n.right-s.right)+"px":s.left>n.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(s.left-n.left)+"px"))}},t.prototype.checkCollision=function(){var e=this.collision.X,i=this.collision.Y;e==="none"&&i==="none"||(e==="flip"&&i==="flip"?this.callFlip({X:!0,Y:!0}):e==="fit"&&i==="fit"?this.callFit({X:!0,Y:!0}):(e==="flip"?this.callFlip({X:!0,Y:!1}):i==="flip"&&this.callFlip({Y:!0,X:!1}),e==="fit"?this.callFit({X:!0,Y:!1}):i==="fit"&&this.callFit({X:!1,Y:!0})))},t.prototype.show=function(e,i){var n=this;if(this.wireEvents(),this.getRelateToElement(),this.zIndex===1e3||!v(i)){var s=v(i)?this.element:i;this.zIndex=WG(s),ui(this.element,{zIndex:this.zIndex})}e=!v(e)&&typeof e=="object"?e:this.showAnimation,(this.collision.X!=="none"||this.collision.Y!=="none")&&(Oe([this.element],Do.CLOSE),pe([this.element],Do.OPEN),this.checkCollision(),Oe([this.element],Do.OPEN),pe([this.element],Do.CLOSE)),v(e)?(Oe([this.element],Do.CLOSE),pe([this.element],Do.OPEN),this.trigger("open")):(e.begin=function(){n.isDestroyed||(Oe([n.element],Do.CLOSE),pe([n.element],Do.OPEN))},e.end=function(){n.isDestroyed||n.trigger("open")},new fo(e).animate(this.element))},t.prototype.hide=function(e){var i=this;e=!v(e)&&typeof e=="object"?e:this.hideAnimation,v(e)?(Oe([this.element],Do.OPEN),pe([this.element],Do.CLOSE),this.trigger("close")):(e.end=function(){i.isDestroyed||(Oe([i.element],Do.OPEN),pe([i.element],Do.CLOSE),i.trigger("close"))},new fo(e).animate(this.element)),this.unwireEvents()},t.prototype.getScrollableParent=function(e){return this.checkFixedParent(e),jye(e,this.fixedParent)},t.prototype.checkFixedParent=function(e){for(var i=e.parentElement;i&&i.tagName!=="HTML";){var n=getComputedStyle(i);(n.position==="fixed"||n.position==="sticky")&&!v(this.element)&&this.element.offsetParent&&this.element.offsetParent.tagName==="BODY"&&getComputedStyle(this.element.offsetParent).overflow!=="hidden"&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top,10)?bt(window.scrollY-parseInt(this.element.style.top,10)):bt(parseInt(this.element.style.top,10)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),i=i.parentElement,!v(this.element)&&v(this.element.offsetParent)&&n.position==="fixed"&&this.element.style.position==="fixed"&&(this.fixedParent=!0)}},_a([ee("auto")],t.prototype,"height",void 0),_a([ee("auto")],t.prototype,"width",void 0),_a([ee(null)],t.prototype,"content",void 0),_a([ee("container")],t.prototype,"targetType",void 0),_a([ee(null)],t.prototype,"viewPortElement",void 0),_a([ee({X:"none",Y:"none"})],t.prototype,"collision",void 0),_a([ee("")],t.prototype,"relateTo",void 0),_a([Yn({},HG)],t.prototype,"position",void 0),_a([ee(0)],t.prototype,"offsetX",void 0),_a([ee(0)],t.prototype,"offsetY",void 0),_a([ee(1e3)],t.prototype,"zIndex",void 0),_a([ee(!1)],t.prototype,"enableRtl",void 0),_a([ee("reposition")],t.prototype,"actionOnScroll",void 0),_a([ee(null)],t.prototype,"showAnimation",void 0),_a([ee(null)],t.prototype,"hideAnimation",void 0),_a([Xe()],t.prototype,"open",void 0),_a([Xe()],t.prototype,"close",void 0),_a([Xe()],t.prototype,"targetExitViewport",void 0),t=_a([$n],t),t})(Dl);function jye(r,t){for(var e=getComputedStyle(r),i=[],n=/(auto|scroll)/,s=r.parentElement;s&&s.tagName!=="HTML";){var a=getComputedStyle(s);!(e.position==="absolute"&&a.position==="static")&&n.test(a.overflow+a.overflowY+a.overflowX)&&i.push(s),s=s.parentElement}return t||i.push(document),i}function WG(r){for(var t=r.parentElement,e=[];t&&t.tagName!=="BODY";){var i=document.defaultView.getComputedStyle(t,null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(t,null).getPropertyValue("position");i!=="auto"&&n!=="static"&&e.push(i),t=t.parentElement}for(var s=[],a=0;a<document.body.children.length;a++)if(!r.isEqualNode(document.body.children[a])){var i=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("position");i!=="auto"&&n!=="static"&&s.push(i)}s.push("999");var o=[];if(!v(r.parentElement)&&r.parentElement.tagName!=="BODY"){for(var l=[].slice.call(r.parentElement.children),a=0;a<l.length;a++)if(!r.isEqualNode(l[a])){var i=document.defaultView.getComputedStyle(l[a],null).getPropertyValue("z-index"),n=document.defaultView.getComputedStyle(l[a],null).getPropertyValue("position");i!=="auto"&&n!=="static"&&o.push(i)}}var c=e.concat(s,o),u=Math.max.apply(Math,c)+1;return u>2147483647?2147483647:u}function YG(r,t,e,i,n,s){var a=i;if(i.tagName===t){var o=Pe("ej2_instances",i);a=r("input",{attrs:{type:e}});for(var l=["change","cssClass","label","labelPosition","id"],c=0,u=i.attributes.length;c<u;c++)l.indexOf(i.attributes[c].nodeName)===-1&&a.setAttribute(i.attributes[c].nodeName,i.attributes[c].nodeValue);Ht(i,{class:n}),i.appendChild(a),i.classList.add(s),i.classList.remove(s),Yr("ej2_instances",o,a),K9(i,"ej2_instances")}return a}function _ye(r){for(var t,e=r.childNodes,i=0;i<e.length;i++)if(t=e[i],t.nodeType===3)return t;return null}function zye(r,t,e){e===void 0&&(e={});var i=r("div",{className:"e-checkbox-wrapper e-css"});e.cssClass&&pe([i],e.cssClass.split(" ")),e.enableRtl&&i.classList.add("e-rtl");{var n=r("span",{className:"e-ripple-container"});ed(n,{isCenterRipple:!0,duration:400}),i.appendChild(n)}var s=r("span",{className:"e-frame e-icons"});if(e.checked&&s.classList.add("e-check"),i.appendChild(s),e.label){var a=r("span",{className:"e-label"});e.disableHtmlEncode?a.textContent=e.label:a.innerHTML=e.label,i.appendChild(a)}return i}function q0(r,t){if(t){var e=document.createEvent("MouseEvents");e.initEvent(r.type,!1,!0),t.dispatchEvent(e)}}function Rye(r,t){r.element.getAttribute("ejs-for")&&t.appendChild(r.createElement("input",{attrs:{name:r.name||r.element.name,value:"false",type:"hidden"}}))}var Pye=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Uh=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},rB;(function(r){r.Left="Left",r.Right="Right",r.Top="Top",r.Bottom="Bottom"})(rB||(rB={}));var Gu={RTL:"e-rtl",BUTTON:"e-btn",PRIMARY:"e-primary",ICONBTN:"e-icon-btn"},z1=(function(r){Pye(t,r);function t(e,i){return r.call(this,e,i)||this}return t.prototype.preRender=function(){},t.prototype.render=function(){this.initialize(),this.removeRippleEffect=ed(this.element,{selector:"."+Gu.BUTTON}),this.renderComplete()},t.prototype.initialize=function(){this.cssClass&&pe([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPrimary&&this.element.classList.add(Gu.PRIMARY);{if(this.content){var e=this.enableHtmlSanitizer?Io.sanitize(this.content):this.content;this.element.innerHTML=e}this.setIconCss()}this.enableRtl&&this.element.classList.add(Gu.RTL),this.disabled?this.controlStatus(this.disabled):this.wireEvents()},t.prototype.controlStatus=function(e){this.element.disabled=e},t.prototype.setIconCss=function(){if(this.iconCss){var e=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(e.classList.add("e-icon-"+this.iconPosition.toLowerCase()),(this.iconPosition==="Top"||this.iconPosition==="Bottom")&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add(Gu.ICONBTN);var i=this.element.childNodes[0];i&&(this.iconPosition==="Left"||this.iconPosition==="Top")?this.element.insertBefore(e,i):this.element.appendChild(e)}},t.prototype.wireEvents=function(){this.isToggle&&se.add(this.element,"click",this.btnClickHandler,this)},t.prototype.unWireEvents=function(){this.isToggle&&se.remove(this.element,"click",this.btnClickHandler)},t.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},t.prototype.destroy=function(){var e=[Gu.PRIMARY,Gu.RTL,Gu.ICONBTN,"e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(e=e.concat(this.cssClass.split(/\s+/).filter(function(n){return n.length>0}))),r.prototype.destroy.call(this),Oe([this.element],e),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,""));var i=this.element.querySelector("span.e-btn-icon");i&&zt(i),this.unWireEvents()},t.prototype.getModuleName=function(){return"btn"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.Inject=function(){},t.prototype.onPropertyChanged=function(e,i){for(var n=this.element.querySelector("span.e-btn-icon"),s=0,a=Object.keys(e);s<a.length;s++){var o=a[s];switch(o){case"isPrimary":e.isPrimary?this.element.classList.add(Gu.PRIMARY):this.element.classList.remove(Gu.PRIMARY);break;case"disabled":this.controlStatus(e.disabled);break;case"iconCss":{n=this.element.querySelector("span.e-btn-icon"),n?e.iconCss?(n.className="e-btn-icon "+e.iconCss,this.element.textContent.trim()&&(this.iconPosition==="Left"?n.classList.add("e-icon-left"):n.classList.add("e-icon-right"))):zt(n):this.setIconCss();break}case"iconPosition":Oe([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),n=this.element.querySelector("span.e-btn-icon"),n&&zt(n),this.setIconCss();break;case"cssClass":i.cssClass&&Oe([this.element],i.cssClass.split(/\s+/).filter(function(c){return c.length>0})),e.cssClass&&pe([this.element],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?this.element.classList.add(Gu.RTL):this.element.classList.remove(Gu.RTL);break;case"content":{var l=_ye(this.element);l||this.element.classList.remove(Gu.ICONBTN),this.enableHtmlSanitizer&&(e.content=Io.sanitize(e.content)),this.element.innerHTML=e.content,this.setIconCss();break}case"isToggle":e.isToggle?se.add(this.element,"click",this.btnClickHandler,this):(se.remove(this.element,"click",this.btnClickHandler),Oe([this.element],["e-active"]));break}}},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},Uh([ee("Left")],t.prototype,"iconPosition",void 0),Uh([ee("")],t.prototype,"iconCss",void 0),Uh([ee(!1)],t.prototype,"disabled",void 0),Uh([ee(!1)],t.prototype,"isPrimary",void 0),Uh([ee("")],t.prototype,"cssClass",void 0),Uh([ee("")],t.prototype,"content",void 0),Uh([ee(!1)],t.prototype,"isToggle",void 0),Uh([ee()],t.prototype,"locale",void 0),Uh([ee(!0)],t.prototype,"enableHtmlSanitizer",void 0),Uh([Xe()],t.prototype,"created",void 0),t=Uh([$n],t),t})(Dl),Fye=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),du=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},o2="e-check",nB="e-checkbox-disabled",$x="e-frame",l2="e-stop",c2="e-label",u2="e-ripple-container",h2="e-rtl",d2="e-checkbox-wrapper",Bye=["title","class","style","disabled","readonly","name","value","id","tabindex","aria-label","required"],Uye=(function(r){Fye(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.isFocused=!1,n.isMouseClick=!1,n.clickTriggered=!1,n.validCheck=!0,n.type="checkbox",n}return t.prototype.changeState=function(e,i,n){var s=this.getWrapper(),a=null;s&&(a=s.getElementsByClassName($x)[0]),e==="check"?(a&&(a.classList.remove(l2),a.classList.add(o2)),this.element.checked=!0,(this.element.required||Fe(this.element,"form")&&Fe(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!i&&n?(this.element.checked=!1,this.validCheck=!1):(this.element.required||Fe(this.element,"form")&&Fe(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):e==="uncheck"?(a&&Oe([a],[o2,l2]),this.element.checked=!1,(this.element.required||Fe(this.element,"form")&&Fe(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!i&&n?(this.element.checked=!0,this.validCheck=!1):(this.element.required||Fe(this.element,"form")&&Fe(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):(a&&(a.classList.remove(o2),a.classList.add(l2)),this.element.indeterminate=!0,this.indeterminate=!0)},t.prototype.clickHandler=function(e){if(e.target.tagName==="INPUT"&&this.clickTriggered){this.changeState(this.checked?"check":"uncheck"),this.clickTriggered=!1;return}(e.target.tagName==="SPAN"||e.target.tagName==="LABEL"||Fe(e.target,".e-label"))&&(this.clickTriggered=!0),this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck",!1,!0),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck",!1,!0),this.checked=!1):(this.changeState("check",!1,!0),this.checked=!0);var i={checked:this.updateVueArrayModel(!1),event:e};this.trigger("change",i),e.stopPropagation()},t.prototype.destroy=function(){var e=this,i=this.getWrapper();r.prototype.destroy.call(this),this.wrapper&&(i=this.wrapper,this.disabled||this.unWireEvents(),this.tagName==="INPUT"?(this.getWrapper()&&i.parentNode&&i.parentNode.insertBefore(this.element,i),zt(i),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach(function(n){e.element.removeAttribute(n)})):(["class"].forEach(function(n){i.removeAttribute(n)}),i.innerHTML="",this.element=i,this.refreshing&&(["e-control","e-checkbox","e-lib"].forEach(function(n){e.element.classList.add(n)}),Yr("ej2_instances",[this],this.element))))},t.prototype.focusHandler=function(){this.isFocused=!0},t.prototype.focusOutHandler=function(){var e=this.getWrapper();e&&e.classList.remove("e-focus"),this.isFocused=!1},t.prototype.getModuleName=function(){return"checkbox"},t.prototype.getPersistData=function(){return this.addOnPersist(["checked","indeterminate"])},t.prototype.getWrapper=function(){return this.element&&this.element.parentElement?this.element.parentElement.parentElement:null},t.prototype.getLabel=function(){return this.element?this.element.parentElement:null},t.prototype.initialize=function(){v(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.element.setAttribute("tabindex","0"),this.value&&(this.element.setAttribute("value",this.value),this.isVue&&typeof this.value=="boolean"&&this.value===!0&&this.setProperties({checked:!0},!0)),this.checked&&this.changeState("check",!0),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()},t.prototype.initWrapper=function(){var e=this.element.parentElement;e.classList.contains(d2)||(e=this.createElement("div",{className:d2}),this.element.parentNode&&this.element.parentNode.insertBefore(e,this.element));var i=this.createElement("label",{attrs:{for:this.htmlAttributes.id?this.htmlAttributes.id:this.element.id}}),n=this.createElement("span",{className:"e-icons "+$x});e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(h2),this.cssClass&&pe([e],this.cssClass.replace(/\s+/g," ").trim().split(" ")),e.appendChild(i),i.appendChild(this.element),Rye(this,i),i.appendChild(n),this.label&&this.setText(this.label)},t.prototype.keyUpHandler=function(){this.isFocused&&this.getWrapper().classList.add("e-focus")},t.prototype.labelMouseDownHandler=function(e){this.isMouseClick=!0;var i=this.getWrapper().getElementsByClassName(u2)[0];q0(e,i)},t.prototype.labelMouseLeaveHandler=function(e){var i=this.getLabel().getElementsByClassName(u2)[0];if(i){for(var n=i.querySelectorAll(".e-ripple-element"),s=n.length-1;s>0;s--)i.removeChild(i.childNodes[s]);q0(e,i)}},t.prototype.labelMouseUpHandler=function(e){this.isMouseClick=!0;var i=this.getWrapper().getElementsByClassName(u2)[0];if(i){for(var n=i.querySelectorAll(".e-ripple-element"),s=0;s<n.length-1;s++)i.removeChild(i.childNodes[s]);q0(e,i)}},t.prototype.onPropertyChanged=function(e,i){for(var n=this.getWrapper(),s=0,a=Object.keys(e);s<a.length;s++){var o=a[s];switch(o){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(e.checked?"check":"uncheck");break;case"indeterminate":e.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":e.disabled?(this.setDisabled(),this.wrapper=this.getWrapper(),this.unWireEvents()):(this.element.disabled=!1,n.classList.remove(nB),n.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":i.cssClass&&Oe([n],i.cssClass.split(/\s+/).filter(function(u){return u.length>0})),e.cssClass&&pe([n],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?n.classList.add(h2):n.classList.remove(h2);break;case"label":this.setText(e.label);break;case"labelPosition":{var l=n.getElementsByClassName(c2)[0],c=n.getElementsByTagName("label")[0];zt(l),e.labelPosition==="After"?c.appendChild(l):c.insertBefore(l,n.getElementsByClassName($x)[0]);break}case"name":this.element.setAttribute("name",e.name);break;case"value":if(this.isVue&&typeof e.value=="object")break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttributeToWrapper();break}}},t.prototype.preRender=function(){var e=this.element;this.tagName=this.element.tagName,e=YG(this.createElement,"EJS-CHECKBOX","checkbox",e,d2,"checkbox"),this.element.hasAttribute("id")&&this.isAngular&&this.element.tagName==="EJS-CHECKBOX"&&(e.id=this.element.id,this.element.removeAttribute("id")),this.element=e,this.element.getAttribute("type")!=="checkbox"&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=Ha("e-"+this.getModuleName()))},t.prototype.render=function(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.updateHtmlAttributeToWrapper(),this.updateVueArrayModel(!0),this.renderComplete(),this.wrapper=this.getWrapper()},t.prototype.setDisabled=function(){var e=this.getWrapper();this.element.disabled=!0,e.classList.add(nB),e.setAttribute("aria-disabled","true")},t.prototype.setText=function(e){var i=this.getWrapper();if(i){var n=i.getElementsByClassName(c2)[0];if(n)n.innerHTML=this.enableHtmlSanitizer?Io.sanitize(e):e;else{e=this.enableHtmlSanitizer?Io.sanitize(e):e,n=this.createElement("span",{className:c2,innerHTML:e});var s=i.getElementsByTagName("label")[0];this.labelPosition==="Before"?s.insertBefore(n,i.getElementsByClassName($x)[0]):s.appendChild(n)}}},t.prototype.changeHandler=function(e){e.stopPropagation()},t.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.element.checked=this.initialCheckedValue},t.prototype.unWireEvents=function(){var e=this.wrapper;if(se.remove(this.element,"keyup",this.keyUpHandler),se.remove(this.element,"focus",this.focusHandler),se.remove(this.element,"focusout",this.focusOutHandler),e){se.remove(e,"click",this.clickHandler);var i=e.getElementsByTagName("label")[0];i&&(se.remove(i,"mousedown",this.labelMouseDownHandler),se.remove(i,"mouseup",this.labelMouseUpHandler),se.remove(i,"mouseleave",this.labelMouseLeaveHandler))}var n=Fe(this.element,"form");n&&se.remove(n,"reset",this.formResetHandler),this.tagName==="EJS-CHECKBOX"&&se.remove(this.element,"change",this.changeHandler)},t.prototype.wireEvents=function(){var e=this.getWrapper();se.add(e,"click",this.clickHandler,this),se.add(this.element,"keyup",this.keyUpHandler,this),se.add(this.element,"focus",this.focusHandler,this),se.add(this.element,"focusout",this.focusOutHandler,this);var i=e.getElementsByTagName("label")[0];se.add(i,"mousedown",this.labelMouseDownHandler,this),se.add(i,"mouseup",this.labelMouseUpHandler,this),se.add(i,"mouseleave",this.labelMouseLeaveHandler,this);var n=Fe(this.element,"form");n&&se.add(n,"reset",this.formResetHandler,this),this.tagName==="EJS-CHECKBOX"&&se.add(this.element,"change",this.changeHandler,this)},t.prototype.updateVueArrayModel=function(e){if(this.isVue&&typeof this.value=="object"){var i=this.element.value;if(i&&this.value)if(e)for(var n=0;n<this.value.length;n++)i===this.value[n]&&(this.changeState("check"),this.setProperties({checked:!0},!0));else{var s=this.value.indexOf(i);return this.checked?s<0&&this.value.push(i):s>-1&&this.value.splice(s,1),this.value}}return this.validCheck?this.element.checked:!this.element.checked},t.prototype.updateHtmlAttributeToWrapper=function(){if(!v(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e],s=this.getWrapper();if(Bye.indexOf(n)>-1)if(n==="class")pe([s],this.htmlAttributes[""+n].split(" "));else if(n==="title")s.setAttribute(n,this.htmlAttributes[""+n]);else if(n==="style"){var a=this.getWrapper().getElementsByClassName($x)[0];a.setAttribute(n,this.htmlAttributes[""+n])}else n==="disabled"?(this.htmlAttributes[""+n]==="true"&&this.setDisabled(),this.element.setAttribute(n,this.htmlAttributes[""+n])):this.element.setAttribute(n,this.htmlAttributes[""+n]);else s.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},du([Xe()],t.prototype,"change",void 0),du([Xe()],t.prototype,"created",void 0),du([ee(!1)],t.prototype,"checked",void 0),du([ee("")],t.prototype,"cssClass",void 0),du([ee(!1)],t.prototype,"disabled",void 0),du([ee(!1)],t.prototype,"indeterminate",void 0),du([ee("")],t.prototype,"label",void 0),du([ee("After")],t.prototype,"labelPosition",void 0),du([ee("")],t.prototype,"name",void 0),du([ee("")],t.prototype,"value",void 0),du([ee(!0)],t.prototype,"enableHtmlSanitizer",void 0),du([ee({})],t.prototype,"htmlAttributes",void 0),t=du([$n],t),t})(Dl),Vye=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Ku=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},f2="e-label",p2="e-ripple-container",m2="e-rtl",g2="e-radio-wrapper",Hye=["title","class","style","disabled","readonly","name","value","id"],sB=(function(r){Vye(t,r);function t(i,n){var s=r.call(this,i,n)||this;return s.isFocused=!1,s.type="radio",s}e=t,t.prototype.changeHandler=function(i){this.checked=!0,this.dataBind();var n=this.element.getAttribute("value");n=this.isVue&&n?this.element.value:this.value;var s=typeof this.value;this.isVue&&s==="boolean"&&(n=n==="true"),this.trigger("change",{value:n,event:i}),this.isAngular&&i.stopPropagation()},t.prototype.updateChange=function(){for(var i,n,s=this.getRadioGroup(),a=0;a<s.length;a++)i=s[a],i!==this.element&&(n=lre(i,e),n.checked=!1,this.tagName==="EJS-RADIOBUTTON"&&(n.angularValue=this.value))},t.prototype.destroy=function(){var i=this,n=this.wrapper;r.prototype.destroy.call(this),n&&(this.disabled||this.unWireEvents(),this.tagName==="INPUT"?(n.parentNode&&n.parentNode.insertBefore(this.element,n),zt(n),this.element.checked=!1,["name","value","disabled"].forEach(function(s){i.element.removeAttribute(s)})):(["role","aria-checked","class"].forEach(function(s){n.removeAttribute(s)}),n.innerHTML="",this.element=this.wrapper,this.refreshing&&(["e-control","e-radio","e-lib"].forEach(function(s){i.element.classList.add(s)}),Yr("ej2_instances",[this],this.element))))},t.prototype.focusHandler=function(){this.isFocused=!0},t.prototype.focusOutHandler=function(){var i=this.getLabel();i&&i.classList.remove("e-focus")},t.prototype.getModuleName=function(){return"radio"},t.prototype.getSelectedValue=function(){for(var i,n=this.getRadioGroup(),s=0,a=n.length;s<a;s++)if(i=n[s],i.checked)return i.value;return""},t.prototype.getRadioGroup=function(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')},t.prototype.getPersistData=function(){return this.addOnPersist(["checked"])},t.prototype.getWrapper=function(){return this.element.parentElement?this.element.parentElement:null},t.prototype.getLabel=function(){return this.element.nextElementSibling?this.element.nextElementSibling:null},t.prototype.initialize=function(){v(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.updateHtmlAttribute(),this.name&&this.element.setAttribute("name",this.name);var i=this.element.getAttribute("value"),n=typeof this.value;this.isVue&&n==="boolean"&&(i=i==="true"),(this.isVue?this.value&&n!=="boolean"&&!i:this.value)&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()},t.prototype.initWrapper=function(){var i=this.element.parentElement;i.classList.contains(g2)||(i=this.createElement("div",{className:g2}),this.element.parentNode&&this.element.parentNode.insertBefore(i,this.element));var n=this.createElement("label",{attrs:{for:this.element.id}});i.appendChild(this.element),i.appendChild(n),i.classList.add("e-wrapper"),this.enableRtl&&n.classList.add(m2),this.cssClass&&pe([i],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.label&&this.setText(this.label)},t.prototype.keyUpHandler=function(){this.isFocused&&this.getLabel().classList.add("e-focus")},t.prototype.labelMouseDownHandler=function(i){var n=this.getLabel().getElementsByClassName(p2)[0];q0(i,n)},t.prototype.labelMouseLeaveHandler=function(i){var n=this.getLabel().getElementsByClassName(p2)[0];if(n){for(var s=n.querySelectorAll(".e-ripple-element"),a=s.length-1;a>0;a--)n.removeChild(n.childNodes[a]);q0(i,n)}},t.prototype.labelMouseUpHandler=function(i){var n=this.getLabel().getElementsByClassName(p2)[0];if(n){for(var s=n.querySelectorAll(".e-ripple-element"),a=s.length-1;a>0;a--)n.removeChild(n.childNodes[a]);q0(i,n)}},t.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&Ht(this.element,{checked:"true"})},t.prototype.onPropertyChanged=function(i,n){for(var s=this.getWrapper(),a=this.getLabel(),o=0,l=Object.keys(i);o<l.length;o++){var c=l[o];switch(c){case"checked":i.checked&&this.updateChange(),this.element.checked=i.checked;break;case"disabled":i.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":n.cssClass&&Oe([s],n.cssClass.split(/\s+/).filter(function(d){return d.length>0})),i.cssClass&&pe([s],i.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":i.enableRtl?a.classList.add(m2):a.classList.remove(m2);break;case"label":this.setText(i.label);break;case"labelPosition":i.labelPosition==="Before"?a.classList.add("e-right"):a.classList.remove("e-right");break;case"name":this.element.setAttribute("name",i.name);break;case"value":var u=typeof this.htmlAttributes.value;if(!v(this.htmlAttributes)&&(this.htmlAttributes.value||u==="boolean"&&!this.htmlAttributes.value))break;this.element.setAttribute("value",i.value);break;case"htmlAttributes":this.updateHtmlAttribute();break}}},t.prototype.preRender=function(){var i=this.element;if(this.formElement=Fe(this.element,"form"),this.tagName=this.element.tagName,i=YG(this.createElement,"EJS-RADIOBUTTON","radio",i,g2,"radio"),this.element=i,this.element.getAttribute("type")!=="radio"&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=Ha("e-"+this.getModuleName())),this.tagName==="EJS-RADIOBUTTON"){var n=this.element.getAttribute("formcontrolname");n&&(this.setProperties({name:n},!0),this.element.setAttribute("name",n))}},t.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete(),this.wrapper=this.getWrapper()},t.prototype.setDisabled=function(){this.element.disabled=!0},t.prototype.setText=function(i){var n=this.getLabel(),s=n.getElementsByClassName(f2)[0];s?s.textContent=i:(i=this.enableHtmlSanitizer?Io.sanitize(i):i,s=this.createElement("span",{className:f2,innerHTML:i}),n.appendChild(s)),this.labelPosition==="Before"?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")},t.prototype.updateHtmlAttribute=function(){if(!v(this.htmlAttributes))for(var i=0,n=Object.keys(this.htmlAttributes);i<n.length;i++){var s=n[i],a=this.element.parentElement;Hye.indexOf(s)>-1?s==="class"?pe([a],this.htmlAttributes[""+s].replace(/\s+/g," ").trim().split(" ")):s==="title"||s==="style"?a.setAttribute(s,this.htmlAttributes[""+s]):this.element.setAttribute(s,this.htmlAttributes[""+s]):a.setAttribute(s,this.htmlAttributes[""+s])}},t.prototype.unWireEvents=function(){var i=this.wrapper;if(se.remove(this.element,"change",this.changeHandler),se.remove(this.element,"focus",this.focusHandler),se.remove(this.element,"focusout",this.focusOutHandler),se.remove(this.element,"keyup",this.keyUpHandler),i){var n=i.getElementsByTagName("label")[0];n&&(se.remove(n,"mousedown",this.labelMouseDownHandler),se.remove(n,"mouseup",this.labelMouseUpHandler),se.remove(n,"mouseleave",this.labelMouseLeaveHandler))}this.formElement&&se.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.wireEvents=function(){var i=this.getLabel();se.add(this.element,"change",this.changeHandler,this),se.add(this.element,"keyup",this.keyUpHandler,this),se.add(this.element,"focus",this.focusHandler,this),se.add(this.element,"focusout",this.focusOutHandler,this);var n=i.getElementsByClassName(f2)[0];n&&(se.add(n,"mousedown",this.labelMouseDownHandler,this),se.add(n,"mouseup",this.labelMouseUpHandler,this),se.add(n,"mouseleave",this.labelMouseLeaveHandler,this)),this.formElement&&se.add(this.formElement,"reset",this.formResetHandler,this)},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()};var e;return Ku([Xe()],t.prototype,"change",void 0),Ku([Xe()],t.prototype,"created",void 0),Ku([ee(!1)],t.prototype,"checked",void 0),Ku([ee("")],t.prototype,"cssClass",void 0),Ku([ee(!1)],t.prototype,"disabled",void 0),Ku([ee("")],t.prototype,"label",void 0),Ku([ee("After")],t.prototype,"labelPosition",void 0),Ku([ee("")],t.prototype,"name",void 0),Ku([ee("")],t.prototype,"value",void 0),Ku([ee(!0)],t.prototype,"enableHtmlSanitizer",void 0),Ku([ee({})],t.prototype,"htmlAttributes",void 0),t=e=Ku([$n],t),t})(Dl),v2=["north-west","north","north-east","west","east","south-west","south","south-east"],ib="e-resize-handle",Mg="e-focused-handle",Wye="e-dlg-resizable",aB=["e-restrict-left"],qG="e-resize-viewport",Yye=["north","west","east","south"],vn,Jh,Pj=0,Fj=0,QG=0,GG=0,aT=0,oT=0,c1,Tp,Bj,bp,br,R1=null,KA=null,$A=null,dp,jO=0,XA=!0,oB=0,y2=!0;function qye(r){R1=r.resizeBegin,KA=r.resizing,$A=r.resizeComplete,vn=lB(r.element),br=lB(r.boundary);for(var t=r.direction.split(" "),e=0;e<t.length;e++)if(Yye.indexOf(t[e])>=0&&t[e])Qye(t[e]);else if(t[e].trim()!==""){var i=Be("div",{className:"e-icons "+ib+" e-"+t[e]});vn.appendChild(i)}c1=r.minHeight,Bj=r.minWidth,bp=r.maxWidth,Tp=r.maxHeight,jO++,r.proxy&&r.proxy.element&&r.proxy.element.classList.contains("e-dialog")?cB(r.proxy):cB()}function Qye(r){Uj();var t=Be("span",{attrs:{unselectable:"on",contenteditable:"false"}});t.setAttribute("class","e-dialog-border-resize e-"+r),r==="south"&&(t.style.height="2px",t.style.width="100%",t.style.bottom="0px",t.style.left="0px"),r==="north"&&(t.style.height="2px",t.style.width="100%",t.style.top="0px",t.style.left="0px"),r==="east"&&(t.style.height="100%",t.style.width="2px",t.style.right="0px",t.style.top="0px"),r==="west"&&(t.style.height="100%",t.style.width="2px",t.style.left="0px",t.style.top="0px"),vn.appendChild(t)}function lB(r){var t;return v(r)||(typeof r=="string"?t=document.querySelector(r):t=r),t}function cB(r){for(var t=r||this,e=vn.querySelectorAll("."+ib),i=0;i<e.length;i++){Jh=e[i],se.add(Jh,"mousedown",uB,t);var n=Re.info.name==="msie"?"pointerdown":"touchstart";se.add(Jh,n,hB,t)}var s=vn.querySelectorAll(".e-dialog-border-resize");if(!v(s))for(var i=0;i<s.length;i++){Jh=s[i],se.add(Jh,"mousedown",uB,t);var n=Re.info.name==="msie"?"pointerdown":"touchstart";se.add(Jh,n,hB,t)}}function KG(r){return r.indexOf("mouse")>-1?"mouse":"touch"}function uB(r){if(r.preventDefault(),vn=r.target.parentElement,Uj(),aT=r.pageX,oT=r.pageY,r.target.classList.add(Mg),!v(R1)){var t=this;if(R1(r,t)===!0)return}this.targetEle&&vn&&vn.querySelector("."+Wye)&&(br=this.target==="body"?null:this.targetEle,bp=this.targetEle.clientWidth,Tp=this.targetEle.clientHeight);var e=v(br)?document:br;se.add(e,"mousemove",xw,this),se.add(document,"mouseup",JA,this);for(var i=0;i<aB.length;i++)vn.classList.contains(aB[i])?XA=!1:XA=!0}function JA(r){var t=Re.info.name==="msie"?"pointermove":"touchmove",e=Re.info.name==="msie"?"pointerup":"touchend",i=v(br)?document:br,n=Re.info.name==="msie"?"pointerdown":"touchstart";if(se.remove(i,"mousemove",xw),se.remove(i,t,xw),se.remove(i,n,xw),v(document.body.querySelector("."+Mg))||document.body.querySelector("."+Mg).classList.remove(Mg),!v($A)){var s=this;$A(r,s)}se.remove(document,"mouseup",JA),se.remove(document,e,JA)}function Uj(){Pj=parseFloat(getComputedStyle(vn,null).getPropertyValue("width").replace("px","")),Fj=parseFloat(getComputedStyle(vn,null).getPropertyValue("height").replace("px","")),QG=vn.getBoundingClientRect().left,GG=vn.getBoundingClientRect().top}function hB(r){vn=r.target.parentElement,Uj();var t=vn.classList.contains("e-dialog");(r.target.classList.contains(ib)||r.target.classList.contains("e-dialog-border-resize"))&&t&&r.target.classList.add(Mg);var e=r.touches?r.changedTouches[0]:r;if(aT=e.pageX,oT=e.pageY,!v(R1)){var i=this;if(R1(r,i)===!0)return}var n=Re.info.name==="msie"?"pointermove":"touchmove",s=Re.info.name==="msie"?"pointerup":"touchend",a=v(br)?document:br;se.add(a,n,xw,this),se.add(document,s,JA,this)}function xw(r){if(r.target.classList.contains(ib)&&r.target.classList.contains(Mg)?Jh=r.target:v(document.body.querySelector("."+Mg))||(Jh=document.body.querySelector("."+Mg)),!v(Jh)){for(var t="",e=0;e<v2.length;e++)Jh.classList.contains("e-"+v2[e])&&(t=v2[e]);if(!v(KA)){var i=this;KA(r,i)}switch(t){case"south":x2(r);break;case"north":M2(r);break;case"west":w2(r);break;case"east":T2(r);break;case"south-east":x2(r),T2(r);break;case"south-west":x2(r),w2(r);break;case"north-east":M2(r),T2(r);break;case"north-west":M2(r),w2(r);break}}}function Og(r){return r.getBoundingClientRect()}function x2(r){var t=document.documentElement.clientHeight,e=!1,i=r.touches?r.changedTouches[0]:r,n=i.pageY,s=Og(vn),a;v(br)||(a=Og(br)),v(br)?v(br)&&(t-n>=0||s.top<0)&&(e=!0):e=!0;var o=Fj+(n-oT);o=o>c1?o:c1;var l=0;v(br)||(l=a.top);var c=v(br)?0:br.offsetHeight-br.clientHeight,u=s.top-l-c/2;if(u=u<0?0:u,s.top>0&&u+o>Tp){if(e=!1,vn.classList.contains(qG))return;vn.style.height=Tp-parseInt(u.toString(),10)+"px";return}var d=0;if(e){s.top<0&&t+(s.height+s.top)>0&&(d=s.top,o+d<=30&&(o=s.height-(s.height+s.top)+30)),o+s.top>=Tp&&(vn.style.height=s.height+(t-(s.height+s.top))+"px");var p=v(br)?d:u;o>=c1&&o+p<=Tp&&(vn.style.height=o+"px")}}function M2(r){var t=!1,e,i=KG(r.type)==="mouse"?r.pageY:r.touches[0].pageY,n=Og(vn),s=v(br)?0:br.offsetHeight-br.clientHeight;v(br)||(e=Og(br)),(!v(br)&&n.top-e.top>0||v(br)&&i>0||!v(br)&&Math.floor(n.top-e.top+n.height+(e.bottom-n.bottom))-s<=Tp)&&(t=!0);var a=Fj-(i-oT);if(t&&a>=c1&&a<=Tp){var o=0;v(br)||(o=e.top);var l=GG-o+(i-oT);l=l>0?l:1,vn.style.height=a+"px",vn.style.top=l+"px"}}function w2(r){var t=document.documentElement.clientWidth,e=!1,i;v(br)||(i=Og(br));var n=KG(r.type)==="mouse"?r.pageX:r.touches[0].pageX,s=Og(vn),a=v(br)?0:br.offsetWidth-br.clientWidth,o=v(br)?0:i.left,l=v(br)?0:i.width;v(dp)&&(v(br)?dp=t:(dp=s.left-o-a/2+s.width,dp=dp+(l-a-dp))),(!v(br)&&Math.floor(s.left-i.left+s.width+(i.right-s.right))-a<=bp||v(br)&&n>=0)&&(e=!0);var c=Pj-(n-aT);if(XA&&(c=c>dp?dp:c),e&&c>=Bj&&c<=bp){var u=0;v(br)||(u=i.left);var d=QG-u+(n-aT);d=d>0?d:1,c!==oB&&y2&&(vn.style.width=c+"px"),XA&&(vn.style.left=d+"px",d===1?y2=!1:y2=!0)}oB=c}function T2(r){var t=document.documentElement.clientWidth,e=!1,i;v(br)||(i=Og(br));var n=r.touches?r.changedTouches[0]:r,s=n.pageX,a=Og(vn);(!v(br)&&(a.left-i.left+a.width<=bp||a.right-i.left>=a.width)||v(br)&&t-s>0)&&(e=!0);var o=Pj+(s-aT),l=0;if(v(br)||(l=i.left),a.left-l+o>bp){if(e=!1,vn.classList.contains(qG))return;vn.style.width=bp-(a.left-l)+"px"}e&&o>=Bj&&o<=bp&&(vn.style.width=o+"px")}function Gye(r){c1=r}function Kye(r){bp=r}function $ye(r){Tp=r}function dB(){for(var r=vn.querySelectorAll("."+ib),t=0;t<r.length;t++)zt(r[t]);var e=vn.querySelectorAll(".e-dialog-border-resize");if(!v(e))for(var t=0;t<e.length;t++)zt(e[t])}function Xye(){jO--,jO===0&&(vn=null,Jh=null,br=null,dp=null,R1=null,KA=null,$A=null)}var Vj=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Tr=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Jye=(function(r){Vj(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Tr([ee(!0)],t.prototype,"isFlat",void 0),Tr([ee()],t.prototype,"buttonModel",void 0),Tr([ee("Button")],t.prototype,"type",void 0),Tr([Xe()],t.prototype,"click",void 0),t})(fa),Zye=(function(r){Vj(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Tr([ee("Fade")],t.prototype,"effect",void 0),Tr([ee(400)],t.prototype,"duration",void 0),Tr([ee(0)],t.prototype,"delay",void 0),t})(fa),SD="e-dialog",b2="e-rtl",D2="e-dlg-header-content",fB="e-dlg-header",ND="e-footer-content",ID="e-dlg-modal",e1e="e-dlg-content",pB="e-icon-dlg-close",t1e="e-dlg-overlay",Vh="e-dlg-target",i1e="e-dlg-container",$u="e-scroll-disabled",r1e="e-primary",n1e="e-icons",s1e="e-popup",mB="e-device",CD="e-dlg-fullscreen",gB="e-dlg-closeicon-btn",a1e="e-popup-close",vB="e-popup-open",yB="Information",xB="e-scroll-disabled",$G="e-alert-dialog",XG="e-confirm-dialog",E2="e-dlg-resizable",wy="e-restrict-left",MB="e-resize-viewport",o1e="e-dlg-ref-element",A2="user action",l1e="close icon",c1e="escape",u1e="overlayClick",h1e="e-draggable",wB='input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]',ZA=(function(r){Vj(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.needsID=!0,n}return t.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),this.width==="100%"&&(this.element.style.width=""),this.minHeight!==""&&(this.element.style.minHeight=bt(this.minHeight)),this.enableResize&&(this.setResize(),this.isModal&&(this.isModelResize=!0),this.animationSettings.effect==="None"&&this.getMinHeight()),this.renderComplete()},t.prototype.initializeValue=function(){this.dlgClosedBy=A2},t.prototype.preRender=function(){var e=this;this.initializeValue(),this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(s){e.dlgClosedBy=l1e,e.hide(s)},this.dlgOverlayClickEventHandler=function(s){e.dlgClosedBy=u1e,s.preventFocus=!1,e.trigger("overlayClick",s,function(a){a.preventFocus||e.focusContent(),e.dlgClosedBy=A2})};var i={close:"Close"};if(this.l10n=new Ql("dialog",i,this.locale),this.checkPositionData(),v(this.target)){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=n}},t.prototype.updatePersistData=function(){this.enablePersistence&&this.setProperties({width:parseFloat(this.element.style.width),height:parseFloat(this.element.style.height),position:{X:parseFloat(this.dragObj.element.style.left),Y:parseFloat(this.dragObj.element.style.top)}},!0)},t.prototype.isNumberValue=function(e){var i=/^[-+]?\d*\.?\d+$/.test(e);return i},t.prototype.checkPositionData=function(){if(!v(this.position)){if(!v(this.position.X)&&typeof this.position.X!="number"){var e=this.isNumberValue(this.position.X);if(e){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=i}}if(!v(this.position.Y)&&typeof this.position.Y!="number"){var e=this.isNumberValue(this.position.Y);if(e){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=i}}}},t.prototype.getEle=function(e,i){for(var n=void 0,s=0;s<e.length;s++)if(e[s].classList.contains(i)){n=e[s];break}return n},t.prototype.getMinHeight=function(){var e="0px",i="0px";v(this.element.querySelector("."+D2))||(e=getComputedStyle(this.headerContent).height);var n=this.getEle(this.element.children,ND);v(n)||(i=getComputedStyle(n).height);var s=parseInt(e.slice(0,e.indexOf("p")),10),a=parseInt(i.slice(0,i.indexOf("p")),10);return Gye(s+30+(isNaN(a)?0:a)),s+30+a},t.prototype.onResizeStart=function(e,i){if(i.trigger("resizeStart",e),!e.cancel&&this.isModelResize&&!v(this.dlgContainer)&&this.dlgContainer.classList.contains("e-dlg-"+this.position.X+"-"+this.position.Y)){this.setPopupPosition(),this.dlgContainer.classList.remove("e-dlg-"+this.position.X+"-"+this.position.Y);var n=this.getTargetContainer(this.target);if(n instanceof Element){var s=window.getComputedStyle(n);s.getPropertyValue("direction")==="rtl"?this.element.style.position="absolute":this.element.style.position="relative"}else this.element.style.position="relative";this.element.classList.contains(wy)&&this.element.classList.remove(wy),this.isModelResize=!1}return e.cancel},t.prototype.onResizing=function(e,i){i.trigger("resizing",e)},t.prototype.onResizeComplete=function(e,i){i.trigger("resizeStop",e),this.updatePersistData()},t.prototype.setResize=function(){if(this.enableResize){this.element.classList.add(E2);for(var e=getComputedStyle(this.element).minHeight,i=getComputedStyle(this.element).minWidth,n="",s=0;s<this.resizeHandles.length;s++)if(this.resizeHandles[s]==="All"){n="south north east west north-east north-west south-east south-west";break}else{var a="";switch(this.resizeHandles[s].toString()){case"SouthEast":a="south-east";break;case"SouthWest":a="south-west";break;case"NorthEast":a="north-east";break;case"NorthWest":a="north-west";break;default:a=this.resizeHandles[s].toString();break}n+=a.toLocaleLowerCase()+" "}this.enableRtl&&n.trim()==="south-east"?n="south-west":this.enableRtl&&n.trim()==="south-west"&&(n="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(wy):this.isModal&&this.target===document.body&&this.element.classList.add(MB),qye({element:this.element,direction:n,minHeight:parseInt(e.slice(0,i.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(i.slice(0,i.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else dB(),this.unWireWindowResizeEvent(),this.isModal?this.element.classList.remove(wy):this.element.classList.remove(MB),this.element.classList.remove(E2)},t.prototype.getFocusElement=function(e){var i=e.querySelectorAll(wB);return{element:i[i.length-1]}},t.prototype.keyDown=function(e){var i=this;if(e.keyCode===9&&this.isModal){var n=void 0;if(v(this.btnObj)||(n=this.btnObj[this.btnObj.length-1]),v(this.btnObj)&&!v(this.ftrTemplateContent)&&(n=this.getFocusElement(this.ftrTemplateContent),v(this.btnObj)&&(!n||v(n.element)))){var s=this.element.querySelectorAll(wB);s.length>0&&document.activeElement===s[s.length-1]&&(e.preventDefault(),this.focusableElements(this.element).focus())}v(this.btnObj)&&v(this.ftrTemplateContent)&&!v(this.contentEle)&&(n=this.getFocusElement(this.contentEle)),!v(n)&&document.activeElement===n.element&&!e.shiftKey&&(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),v(n)||n.element.focus())}var a=document.activeElement,o=["input","textarea"].indexOf(a.tagName.toLowerCase())>-1,l=!1;if(o||(l=a.hasAttribute("contenteditable")&&a.getAttribute("contenteditable")==="true"),e.keyCode===27&&this.closeOnEscape){this.dlgClosedBy=c1e;var c=document.querySelector(".e-popup-open:not(.e-dialog)");!v(c)&&!c.classList.contains("e-toolbar-pop")&&!c.classList.contains("e-slider-tooltip")||this.hide(e)}if(e.keyCode===13&&!e.ctrlKey&&a.tagName.toLowerCase()!=="textarea"&&o&&!v(this.primaryButtonEle)||e.keyCode===13&&e.ctrlKey&&(a.tagName.toLowerCase()==="textarea"||l)&&!v(this.primaryButtonEle)){var u,d=this.buttons.some(function(p,m){u=m;var y=p.buttonModel;return!v(y)&&y.isPrimary===!0});d&&typeof this.buttons[u].click=="function"&&!this.primaryButtonEle.disabled&&setTimeout(function(){i.buttons[u].click.call(i,e)})}},t.prototype.initialize=function(){v(this.target)||(this.targetEle=typeof this.target=="string"?document.querySelector(this.target):this.target),this.isBlazorServerRender()||pe([this.element],SD),Re.isDevice&&pe([this.element],mB),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()},t.prototype.initRender=function(){var e=this;if(this.initialRender=!0,this.isBlazorServerRender()||Ht(this.element,{role:"dialog"}),this.zIndex===1e3?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.setTargetContent(),this.header!==""&&!v(this.header)&&this.setHeader(),this.renderCloseIcon(),this.setContent(),this.footerTemplate!==""&&!v(this.footerTemplate)?this.setFooterTemplate():!v(this.buttons[0])&&!v(this.buttons[0].buttonModel)&&this.setButton(),this.allowDragging&&!v(this.headerContent)&&this.setAllowDragging(),Ht(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal(),this.element.classList.contains($G)!==!0&&this.element.classList.contains(XG)!==!0&&!v(this.element.parentElement)){var i=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:o1e}),i.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}if(v(this.targetEle)||(this.isModal?this.targetEle.appendChild(this.dlgContainer):this.targetEle.appendChild(this.element)),this.popupObj=new xh(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:function(a){var o={container:e.isModal?e.dlgContainer:e.element,element:e.element,target:e.target,preventFocus:!1};e.enableResize&&e.resetResizeIcon(),e.trigger("open",o,function(l){l.preventFocus||e.focusContent()})},close:function(a){e.isModal&&pe([e.dlgOverlay],"e-fade"),e.unBindEvent(e.element),e.isModal&&(e.dlgContainer.style.display="none"),e.trigger("close",e.closeArgs);var o=document.activeElement;!v(o)&&!v(o.blur)&&o.blur(),!v(e.storeActiveElement)&&!v(e.storeActiveElement.focus)&&!e.closeArgs.preventFocus&&e.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(pe([this.element],a1e),this.isModal&&this.setOverlayZindex()),this.visible){if(this.show(),this.isModal){var n=this.getTargetContainer(this.target);if(n instanceof Element){var s=window.getComputedStyle(n);s.getPropertyValue("direction")==="rtl"&&this.setPopupPosition()}}}else this.isModal&&(this.dlgOverlay.style.display="none");this.initialRender=!1},t.prototype.getTargetContainer=function(e){var i=null;if(typeof e=="string")if(e.startsWith("#"))i=document.getElementById(e.substring(1));else if(e.startsWith(".")){var n=document.getElementsByClassName(e.substring(1));i=n.length>0?n[0]:null}else!(e instanceof HTMLElement)&&e!==document.body&&(i=document.querySelector(e));else e instanceof HTMLElement&&(i=e);return i},t.prototype.resetResizeIcon=function(){var e=this.getMinHeight();if(this.targetEle.offsetHeight<e){var i=this.enableRtl?"e-south-west":"e-south-east",n=this.element.querySelector("."+i);v(n)||(n.style.bottom="-"+e.toString()+"px")}},t.prototype.setOverlayZindex=function(e){var i;v(e)?i=parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:i=e,this.dlgOverlay.style.zIndex=(i-1).toString(),this.dlgContainer.style.zIndex=i.toString()},t.prototype.positionChange=function(){this.isModal?!isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},t.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},t.prototype.setAllowDragging=function(){var e=this,i="."+D2;this.element.classList.contains(h1e)||(this.dragObj=new tL(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:i,dragStart:function(n){e.trigger("dragStart",n,function(s){})},dragStop:function(n){if(e.isModal){e.IsDragStop=!0,v(e.position)||e.dlgContainer.classList.remove("e-dlg-"+e.position.X+"-"+e.position.Y);var s=e.getTargetContainer(e.target);if(s instanceof Element){var a=window.getComputedStyle(s);a.getPropertyValue("direction")==="rtl"?e.element.style.position="absolute":e.element.style.position="relative"}else e.element.style.position="relative"}e.trigger("dragStop",n),e.isModelResize=!1,e.element.classList.remove(wy),e.updatePersistData()},drag:function(n){e.trigger("drag",n)}}),v(this.targetEle)||(this.dragObj.dragArea=this.targetEle))},t.prototype.setButton=function(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(var e=0;e<this.buttons.length;e++)if(!v(this.buttons[e].buttonModel)){var i=v(this.buttons[e].type)?"button":this.buttons[e].type.toLowerCase(),n=this.createElement("button",{className:this.cssClass,attrs:{type:i,tabindex:"0"}});this.buttonContent.push(n.outerHTML)}this.setFooterTemplate()}for(var s,e=0,a=this.element.children;e<a.length;e++)a[e].classList.contains(ND)&&(s=a[e].querySelectorAll("button"));for(var e=0;e<this.buttons.length;e++)v(this.buttons[e].buttonModel)||(this.isBlazorServerRender()||(this.btnObj[e]=new z1(this.buttons[e].buttonModel)),!v(this.ftrTemplateContent)&&s.length>0&&(typeof this.buttons[e].click=="function"&&se.add(s[e],"click",this.buttons[e].click,this),typeof this.buttons[e].click=="object"&&se.add(s[e],"click",this.buttonClickHandler.bind(this,e),this)),!this.isBlazorServerRender()&&!v(this.ftrTemplateContent)&&(this.btnObj[e].appendTo(this.ftrTemplateContent.children[e]),this.buttons[e].isFlat&&this.btnObj[e].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]))},t.prototype.buttonClickHandler=function(e){this.trigger("buttons["+e+"].click",{})},t.prototype.setContent=function(){this.contentEle=this.createElement("div",{className:e1e,id:this.element.id+"_dialog-content"}),this.headerEle?Ht(this.element,{"aria-describedby":this.element.id+"_title "+this.element.id+"_dialog-content"}):Ht(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(!v(this.content)&&this.content!==""||!this.initialRender)&&(typeof this.content=="string"?this.setTemplate(this.content,this.contentEle,"content"):this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content")),v(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),this.height==="auto"&&(!this.isBlazorServerRender()&&Re.isIE&&this.element.style.width===""&&!v(this.width)&&(this.element.style.width=bt(this.width)),this.setMaxHeight())},t.prototype.setTemplate=function(e,i,n){var s,a;i.classList.contains(fB)?a=this.element.id+"header":i.classList.contains(ND)?a=this.element.id+"footerTemplate":a=this.element.id+"content",v(e.outerHTML)?(typeof e=="string"||typeof e!="string"||tv())&&(typeof e=="string"&&(e=this.sanitizeHelper(e)),this.isVue||typeof e!="string"?s=jn(e):i.innerHTML=e):i.appendChild(e);var o=[];if(!v(s)){for(var l=!0,c=0,u=s({},this,n,a,l);c<u.length;c++){var d=u[c];o.push(d)}ri([].slice.call(o),i)}},t.prototype.sanitizeHelper=function(e){if(this.enableHtmlSanitizer){var i=Io.beforeSanitize(),n={cancel:!1,helper:null};qe(i,i,n),this.trigger("beforeSanitizeHtml",i),i.cancel&&!v(i.helper)?e=i.helper(e):i.cancel||(e=Io.serializeValue(i,e))}return e},t.prototype.setMaxHeight=function(){if(this.allowMaxHeight){var e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!v(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,Re.isIE&&this.height==="auto"&&!v(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}},t.prototype.setEnableRTL=function(){this.isBlazorServerRender()||(this.enableRtl?pe([this.element],b2):Oe([this.element],b2)),v(this.element.querySelector(".e-resize-handle"))||(dB(),this.setResize())},t.prototype.setTargetContent=function(){var e=this;if(v(this.content)||this.content===""){var i=this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"")!=="";(this.element.children.length>0||i)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(function(n){n.nodeType!==8&&e.innerContentElement.appendChild(n)}))}},t.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:fB}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),Ht(this.element,{"aria-describedby":this.element.id+"_title"}),Ht(this.element,{"aria-labelledby":this.element.id+"_dialog-header"}),this.element.insertBefore(this.headerContent,this.element.children[0]),this.allowDragging&&!v(this.headerContent)&&this.setAllowDragging()},t.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:ND}),this.footerTemplate!==""&&!v(this.footerTemplate)?this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"):this.ftrTemplateContent.innerHTML=this.buttonContent.join(""),this.element.appendChild(this.ftrTemplateContent)},t.prototype.createHeaderContent=function(){v(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:D2}))},t.prototype.renderCloseIcon=function(){this.showCloseIcon&&(this.closeIcon=this.createElement("button",{className:gB,attrs:{type:"button"}}),this.closeIconBtnObj=new z1({cssClass:"e-flat",iconCss:pB+" "+n1e}),this.closeIconTitle(),v(this.headerContent)?(this.createHeaderContent(),Ln([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):Ln([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon))},t.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)},t.prototype.setCSSClass=function(e){e&&(Oe([this.element],e.split(" ")),this.isModal&&!v(this.dlgContainer)&&Oe([this.dlgContainer],e.split(" "))),this.cssClass&&(pe([this.element],this.cssClass.split(" ")),this.isModal&&!v(this.dlgContainer)&&pe([this.dlgContainer],this.cssClass.split(" ")))},t.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:i1e}),this.setCSSClass(),this.element.classList.remove(vB),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),pe([this.element],ID),this.dlgOverlay=this.createElement("div",{className:t1e}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)},t.prototype.getValidFocusNode=function(e){for(var i,n=0;n<e.length;n++){if(i=e[n],(i.clientHeight>0||i.tagName.toLowerCase()==="a"&&i.hasAttribute("href"))&&i.tabIndex>-1&&!i.disabled&&!this.disableElement(i,'[disabled],[aria-disabled="true"],[type="hidden"]'))return i;i=null}return i},t.prototype.focusableElements=function(e){if(!v(e)){var i='input,select,textarea,button,a,[contenteditable="true"],[tabindex]',n=e.querySelectorAll(i);return this.getValidFocusNode(n)}return null},t.prototype.getAutoFocusNode=function(e){var i=e.querySelector("."+gB),n="[autofocus]",s=e.querySelectorAll(n),a=this.getValidFocusNode(s);if(!v(a))i=a;else if(a=this.focusableElements(this.contentEle),v(a)){if(!v(this.primaryButtonEle))return this.element.querySelector("."+r1e)}else return i=a;return i},t.prototype.disableElement=function(e,i){var n=e?e.matches||e.webkitMatchesSelector||e.msGetRegionContent:null;if(n){for(;e;e=e.parentNode)if(e instanceof Element&&n.call(e,i))return e}return null},t.prototype.focusContent=function(){var e=this.getAutoFocusNode(this.element),i=v(e)?this.element:e,n=Re.userAgent;(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0)&&this.element.focus(),i.focus(),this.unBindEvent(this.element),this.bindEvent(this.element)},t.prototype.bindEvent=function(e){se.add(e,"keydown",this.keyDown,this)},t.prototype.unBindEvent=function(e){se.remove(e,"keydown",this.keyDown)},t.prototype.updateSanitizeContent=function(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))},t.prototype.isBlazorServerRender=function(){return tv()},t.prototype.getModuleName=function(){return"dialog"},t.prototype.onPropertyChanged=function(e,i){if(this.element.classList.contains(SD))for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"content":!v(this.content)&&this.content!==""?(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),!v(this.contentEle)&&this.contentEle.getAttribute("role")!=="dialog"?(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),typeof this.content=="function"?(this.clearTemplate(["content"]),zt(this.contentEle),this.contentEle=null,this.setContent()):typeof this.content=="string"?this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()):this.setContent()):v(this.contentEle)||(zt(this.contentEle),this.contentEle=null);break;case"header":this.header===""||v(this.header)?this.headerEle&&(zt(this.headerEle),this.headerEle=null):this.setHeader();break;case"footerTemplate":if(this.footerTemplate===""||v(this.footerTemplate)){if(!this.ftrTemplateContent)return;zt(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(pB).length>0?!this.showCloseIcon&&(this.header===""||v(this.header))?(zt(this.headerContent),this.headerContent=null):this.showCloseIcon||zt(this.closeIcon):(this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":ui(this.element,{height:bt(e.height)}),this.updatePersistData();break;case"width":ui(this.element,{width:bt(e.width)}),this.updatePersistData();break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(i.cssClass);break;case"buttons":{this.unWireButtonEvents(),this.destroyButtons(),v(this.ftrTemplateContent)||(zt(this.ftrTemplateContent),this.ftrTemplateContent=null),this.footerTemplate="",this.setButton();break}case"allowDragging":this.allowDragging&&!v(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){var o=this.position.X,l=this.position.Y;v(i.position)||(v(i.position.X)||(o=i.position.X),v(i.position.Y)||(l=i.position.Y)),this.dlgContainer.classList.contains("e-dlg-"+o+"-"+l)&&this.dlgContainer.classList.remove("e-dlg-"+o+"-"+l)}this.positionChange(),this.updatePersistData();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize(),this.isModelResize=this.enableResize&&this.isModal,this.enableResize&&this.dialogOpen&&this.resetResizeIcon();break;case"minHeight":this.minHeight!==""&&(this.element.style.minHeight=bt(this.minHeight));break}}},t.prototype.setTarget=function(e){this.popupObj.relateTo=e,this.target=e,this.targetEle=typeof this.target=="string"?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize(),v(this.targetEle)||(this.isModal&&!v(this.dlgContainer)?this.targetEle.appendChild(this.dlgContainer):v(this.element)||this.targetEle.appendChild(this.element))},t.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)v(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",v(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for(Oe([this.element],ID),Oe([document.body],[Vh,$u]),zt(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&se.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.setzIndex=function(e,i){var n=this.isProtectedOnChange;this.isProtectedOnChange=!0;var s=WG(e);this.zIndex=s>this.zIndex?s:this.zIndex,this.isProtectedOnChange=n,i&&(this.popupObj.zIndex=this.zIndex)},t.prototype.windowResizeHandler=function(){Kye(this.targetEle.clientWidth),$ye(this.targetEle.clientHeight),this.setMaxHeight()},t.prototype.getPersistData=function(){return this.addOnPersist(["width","height","position"])},t.prototype.removeAllChildren=function(e){for(;e.children[0];)this.removeAllChildren(e.children[0]),e.removeChild(e.children[0])},t.prototype.destroy=function(){if(!this.isDestroyed){var e=[b2,ID,E2,wy,CD,mB],i=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];Oe([this.targetEle],[Vh,$u]),!v(this.element)&&this.element.classList.contains(CD)&&Oe([document.body],[Vh,$u]),this.isModal&&Oe([v(this.targetEle)?document.body:this.targetEle],$u),this.unWireEvents(),this.unWireButtonEvents(),this.destroyButtons(),v(this.closeIconBtnObj)||this.closeIconBtnObj.destroy(),v(this.dragObj)||this.dragObj.destroy(),!v(this.popupObj.element)&&this.popupObj.element.classList.contains(s1e)&&this.popupObj.destroy(),Oe([this.element],e),!v(this.cssClass)&&this.cssClass!==""&&Oe([this.element],this.cssClass.split(" ")),!v(this.refElement)&&!v(this.refElement.parentElement)&&(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),zt(this.refElement),this.refElement=void 0),this.isModal&&(zt(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),zt(this.dlgContainer)),this.element.innerHTML=this.clonedEle.innerHTML;for(var n=0;n<i.length;n++)this.element.removeAttribute(i[n]);this.ftrTemplateContent=null,this.headerContent=null,!this.isReact&&!this.isVue&&!v(this.contentEle)&&this.removeAllChildren(this.contentEle),this.contentEle=null,this.enableResize&&Xye(),r.prototype.destroy.call(this),this.isReact&&this.clearTemplate()}},t.prototype.wireWindowResizeEvent=function(){this.boundWindowResizeHandler=this.windowResizeHandler.bind(this),window.addEventListener("resize",this.boundWindowResizeHandler)},t.prototype.unWireWindowResizeEvent=function(){window.removeEventListener("resize",this.boundWindowResizeHandler),this.boundWindowResizeHandler=null},t.prototype.wireEvents=function(){this.showCloseIcon&&se.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&se.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.unWireEvents=function(){this.showCloseIcon&&se.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&se.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler)},t.prototype.refreshPosition=function(){this.popupObj.refreshPosition(),this.element.classList.contains(ID)&&this.positionChange()},t.prototype.getDimension=function(){var e=this.element.offsetWidth,i=this.element.offsetHeight;return{width:e,height:i}},t.prototype.show=function(e){var i=this;if(this.element.classList.contains(SD)){if(!this.element.classList.contains(vB)||!v(e)){v(e)||this.fullScreen(e);var n={cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",n,function(s){if(!s.cancel){if(i.element.style.maxHeight!==n.maxHeight&&(i.allowMaxHeight=!1,i.element.style.maxHeight=n.maxHeight),i.enableResize&&i.boundWindowResizeHandler==null&&!i.initialRender&&i.wireWindowResizeEvent(),i.allowDragging&&!v(i.headerContent)&&i.refreshPosition(),i.storeActiveElement=document.activeElement,i.element.tabIndex=-1,i.isModal&&!v(i.dlgOverlay))if(i.dlgOverlay.style.display="block",i.dlgContainer.style.display="flex",Oe([i.dlgOverlay],"e-fade"),v(i.targetEle))pe([document.body],[Vh,$u]);else{i.targetEle===document.body?i.dlgContainer.style.position="fixed":i.dlgContainer.style.position="absolute",i.dlgOverlay.style.position="absolute";var a=i.getTargetContainer(i.target);if(a instanceof Element){var o=window.getComputedStyle(a);o.getPropertyValue("direction")==="rtl"?i.element.style.position="absolute":i.element.style.position="relative"}else i.element.style.position="relative";pe([i.targetEle],[Vh,$u])}var l={name:i.animationSettings.effect==="None"&&Xd==="Enable"?"ZoomIn":i.animationSettings.effect+"In",duration:i.animationSettings.duration,delay:i.animationSettings.delay},c=i.isModal?i.element.parentElement:i.element;if(i.calculatezIndex&&(i.setzIndex(c,!0),ui(i.element,{zIndex:i.zIndex}),i.isModal&&i.setOverlayZindex(i.zIndex)),i.animationSettings.effect==="None"&&Xd==="Enable"?i.popupObj.show(l):i.animationSettings.effect==="None"?i.popupObj.show():i.popupObj.show(l),i.isModal){var a=i.getTargetContainer(i.target);if(a instanceof Element){var o=window.getComputedStyle(a);o.getPropertyValue("direction")==="rtl"&&!i.IsDragStop&&i.setPopupPosition()}}i.dialogOpen=!0;var u=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!0,i.preventVisibility=!0,i.isProtectedOnChange=u}})}this.isReact&&this.renderReactTemplates()}},t.prototype.hide=function(e){var i=this;if(this.element.classList.contains(SD)&&this.preventVisibility){var n={cancel:!1,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e,preventFocus:!1,closedBy:this.dlgClosedBy};this.closeArgs=n,this.trigger("beforeClose",n,function(s){if(!s.cancel){i.enableResize&&i.unWireWindowResizeEvent();var a={name:i.animationSettings.effect==="None"&&Xd==="Enable"?"ZoomOut":i.animationSettings.effect+"Out",duration:i.animationSettings.duration,delay:i.animationSettings.delay};i.animationSettings.effect==="None"&&Xd==="Enable"||(i.animationSettings.effect==="None"?i.popupObj.hide():i.popupObj.hide(a)),setTimeout(function(){i.isModal&&!v(i.targetEle)&&i.targetEle.classList.contains(Vh)&&i.targetEle.classList.contains($u)&&Oe([i.targetEle],[Vh,$u]),document.body.classList.contains(Vh)&&document.body.classList.contains($u)&&Oe([document.body],[Vh,$u])},i.animationSettings.duration+i.animationSettings.delay),i.dialogOpen=!1;var o=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!1,i.preventVisibility=!1,i.isProtectedOnChange=o}i.dlgClosedBy=A2})}},t.prototype.fullScreen=function(e){if(this.element.offsetTop,this.element.offsetLeft,e){this.isModal||(this.element.style.top=document.scrollingElement.scrollTop+"px"),pe([this.element],CD);var i=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=v(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=i,pe([document.body],[Vh,$u]),this.allowDragging&&!v(this.dragObj)&&this.dragObj.destroy()}else Oe([this.element],CD),Oe([document.body],[Vh,$u]),this.allowDragging&&!v(this.headerContent)&&this.setAllowDragging();return e},t.prototype.getButtons=function(e){return v(e)?this.btnObj:this.btnObj[e]},t.prototype.unWireButtonEvents=function(){if(this.buttons.length>0&&this.footerTemplate===""&&this.ftrTemplateContent)for(var e=0;e<this.buttons.length;e++)this.buttons[e].click&&typeof this.buttons[e].click=="function"&&this.ftrTemplateContent.children[e]&&se.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)},t.prototype.destroyButtons=function(){if(!v(this.btnObj))for(var e=0;e<this.btnObj.length;e++)this.btnObj[e]&&!this.btnObj[e].isDestroyed&&this.btnObj[e].destroy()},Tr([ee("")],t.prototype,"content",void 0),Tr([ee(!0)],t.prototype,"enableHtmlSanitizer",void 0),Tr([ee(!1)],t.prototype,"enablePersistence",void 0),Tr([ee(!1)],t.prototype,"showCloseIcon",void 0),Tr([ee(!1)],t.prototype,"isModal",void 0),Tr([ee("")],t.prototype,"header",void 0),Tr([ee(!0)],t.prototype,"visible",void 0),Tr([ee(!1)],t.prototype,"enableResize",void 0),Tr([ee(["South-East"])],t.prototype,"resizeHandles",void 0),Tr([ee("auto")],t.prototype,"height",void 0),Tr([ee("")],t.prototype,"minHeight",void 0),Tr([ee("100%")],t.prototype,"width",void 0),Tr([ee("")],t.prototype,"cssClass",void 0),Tr([ee(1e3)],t.prototype,"zIndex",void 0),Tr([ee(null)],t.prototype,"target",void 0),Tr([ee("")],t.prototype,"footerTemplate",void 0),Tr([ee(!1)],t.prototype,"allowDragging",void 0),Tr([ow([{}],Jye)],t.prototype,"buttons",void 0),Tr([ee(!0)],t.prototype,"closeOnEscape",void 0),Tr([Yn({},Zye)],t.prototype,"animationSettings",void 0),Tr([Yn({X:"center",Y:"center"},HG)],t.prototype,"position",void 0),Tr([Xe()],t.prototype,"created",void 0),Tr([Xe()],t.prototype,"open",void 0),Tr([Xe()],t.prototype,"beforeSanitizeHtml",void 0),Tr([Xe()],t.prototype,"beforeOpen",void 0),Tr([Xe()],t.prototype,"close",void 0),Tr([Xe()],t.prototype,"beforeClose",void 0),Tr([Xe()],t.prototype,"dragStart",void 0),Tr([Xe()],t.prototype,"dragStop",void 0),Tr([Xe()],t.prototype,"drag",void 0),Tr([Xe()],t.prototype,"overlayClick",void 0),Tr([Xe()],t.prototype,"resizeStart",void 0),Tr([Xe()],t.prototype,"resizing",void 0),Tr([Xe()],t.prototype,"resizeStop",void 0),Tr([Xe()],t.prototype,"destroyed",void 0),t=Tr([$n],t),t})(Dl),TB;(function(r){function t(u){var d=Be("div",{className:$G});document.body.appendChild(d);var p,m=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return typeof u=="string"?p=i({content:u,position:{X:"center",Y:"top"},isModal:!0,header:yB,buttons:m},d):p=i(n(u),d),p.close=function(){u&&u.close&&u.close.apply(p),p.destroy(),p.element.classList.contains("e-dlg-modal")?(p.element.parentElement.remove(),p.target.classList.remove(xB)):p.element.remove()},p}r.alert=t;function e(u){var d=Be("div",{className:XG});document.body.appendChild(d);var p,m=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}];return typeof u=="string"?p=i({position:{X:"center",Y:"top"},content:u,isModal:!0,header:yB,buttons:m},d):p=i(s(u),d),p.close=function(){u&&u.close&&u.close.apply(p),p.destroy(),p.element.classList.contains("e-dlg-modal")?(p.element.parentElement.remove(),p.target.classList.remove(xB)):p.element.remove()},p}r.confirm=e;function i(u,d){var p=new ZA(u);return p.appendTo(d),p}function n(u){var d={};return d.buttons=[],d=a(d,u),d=o(d,u),d}function s(u){var d={};return d.buttons=[],d=a(d,u),d=l(d,u),d}function a(u,d){return u.header=v(d.title)?null:d.title,u.content=v(d.content)?"":d.content,u.isModal=v(d.isModal)?!0:d.isModal,u.showCloseIcon=v(d.showCloseIcon)?!1:d.showCloseIcon,u.allowDragging=v(d.isDraggable)?!1:d.isDraggable,u.closeOnEscape=v(d.closeOnEscape)?!1:d.closeOnEscape,u.position=v(d.position)?{X:"center",Y:"top"}:d.position,u.animationSettings=v(d.animationSettings)?{effect:"Fade",duration:400,delay:0}:d.animationSettings,u.cssClass=v(d.cssClass)?"":d.cssClass,u.zIndex=v(d.zIndex)?1e3:d.zIndex,u.open=v(d.open)?null:d.open,u.width=v(d.width)?"auto":d.width,u.height=v(d.height)?"auto":d.height,u}function o(u,d){var p=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return v(d.okButton)?u.buttons=p:u.buttons[0]=c(u.buttons[0],d.okButton,p[0]),u}function l(u,d){var p={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},m={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return v(d.okButton)?u.buttons[0]=p:u.buttons[0]=c(u.buttons[0],d.okButton,p),v(d.cancelButton)?u.buttons[1]=m:u.buttons[1]=c(u.buttons[1],d.cancelButton,m),u}function c(u,d,p){var m=p;return v(d.text)||(m.buttonModel.content=d.text),v(d.icon)||(m.buttonModel.iconCss=d.icon),v(d.cssClass)||(m.buttonModel.cssClass=d.cssClass),v(d.click)||(m.click=d.click),v(d.isFlat)||(m.isFlat=d.isFlat),m}})(TB||(TB={}));var JG=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Tn=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},d1e=1500,f1e=500,bB=0,DB=8,p1e=2,jd=2,S2="e-tooltip",EB="e-rtl",m1e="e-bigger",AB="e-icons",SB="e-tooltip-close",N2="e-tooltip-wrap",NB="e-tip-content",Ty="e-arrow-tip",IB="e-arrow-tip-outer",OD="e-arrow-tip-inner",Xx="e-tip-bottom",I2="e-tip-top",CB="e-tip-left",C2="e-tip-right",O2="e-popup",Jx="e-popup-open",k2="e-popup-close",kD="e-lib",g1e="e-hidden",OB="e-tooltip-popup-container",v1e=(function(r){JG(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Tn([ee({effect:"FadeIn",duration:150,delay:0})],t.prototype,"open",void 0),Tn([ee({effect:"FadeOut",duration:150,delay:0})],t.prototype,"close",void 0),t})(fa),y1e=(function(r){JG(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.mouseMoveEvent=null,n.mouseMoveTarget=null,n.containerElement=null,n.isBodyContainer=!0,n}return t.prototype.initialize=function(){this.formatPosition(),pe([this.element],S2)},t.prototype.formatPosition=function(){var e,i;this.position&&(this.position.indexOf("Top")===0||this.position.indexOf("Bottom")===0?(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=e[0],this.tooltipPositionX=e[1]):(i=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=i[0],this.tooltipPositionY=i[1]))},t.prototype.renderArrow=function(){this.setTipClass(this.position);var e=this.createElement("div",{className:Ty+" "+this.tipClass});e.appendChild(this.createElement("div",{className:IB+" "+this.tipClass})),e.appendChild(this.createElement("div",{className:OD+" "+this.tipClass})),this.tooltipEle.appendChild(e)},t.prototype.setTipClass=function(e){e.indexOf("Right")===0?this.tipClass=CB:e.indexOf("Bottom")===0?this.tipClass=I2:e.indexOf("Left")===0?this.tipClass=C2:this.tipClass=Xx},t.prototype.renderPopup=function(e){var i=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove(kD),this.popupObj=new xh(this.tooltipEle,{height:this.height,width:this.width,position:{X:i.left,Y:i.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},t.prototype.getScalingFactor=function(e){if(!e)return{x:1,y:1};var i={x:1,y:1},n=e.closest('[style*="transform: scale"]');if(n&&n!==this.tooltipEle&&n.contains(this.tooltipEle)){var s=window.getComputedStyle(n),a=s.getPropertyValue("transform"),o=a.match(/matrix\(([^)]+)\)/)[1].split(",").map(parseFloat);i.x=o[0],i.y=o[3]}return i},t.prototype.getTooltipPosition=function(e){this.tooltipEle.style.display="block";var i=this.element.closest('[style*="zoom"]');i&&(i.contains(this.tooltipEle)||(this.tooltipEle.style.zoom=getComputedStyle(i).zoom));var n=vc(e,this.tooltipPositionX,this.tooltipPositionY,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect()),s=this.getScalingFactor(e),a=this.calculateTooltipOffset(this.position,s.x,s.y),o=this.calculateElementPosition(n,a),l=o[0],c=o[1],u=this.collisionFlipFit(e,l,c);return u.left=u.left/s.x,u.top=u.top/s.y,this.tooltipEle.style.display="",u},t.prototype.windowResize=function(){this.reposition(this.findTarget())},t.prototype.reposition=function(e){if(this.popupObj&&e){var i=this.getTooltipPosition(e);this.popupObj.position={X:i.left,Y:i.top},this.popupObj.dataBind()}},t.prototype.openPopupHandler=function(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs),this.tooltipEventArgs=null},t.prototype.closePopupHandler=function(){this.isReact&&!(this.opensOn==="Click"||typeof this.content=="function")&&this.clearTemplate(["content"]),this.clear();var e={type:this.tooltipEventArgs.event?this.tooltipEventArgs.event.type:null,cancel:!1,target:this.tooltipEventArgs.target,event:this.tooltipEventArgs.event?this.tooltipEventArgs.event:null,element:this.tooltipEle,isInteracted:!v(this.tooltipEventArgs.event)};this.trigger("afterClose",e),e=null},t.prototype.calculateTooltipOffset=function(e,i,n){i===void 0&&(i=1),n===void 0&&(n=1);var s={top:0,left:0},a,o,l,c,u,d,p,m;if(i!==1||n!==1){var y=this.tooltipEle.getBoundingClientRect(),M=void 0;l=Math.round(y.width),c=Math.round(y.height),u=Et("."+Ty,this.tooltipEle),u&&(M=u.getBoundingClientRect()),a=u?Math.round(M.width):0,o=u?Math.round(M.height):0,d=this.showTipPointer?bB:DB,p=o/2+jd+(c-this.tooltipEle.clientHeight*n),m=a/2+jd+(l-this.tooltipEle.clientWidth*i)}else l=this.tooltipEle.offsetWidth,c=this.tooltipEle.offsetHeight,u=Et("."+Ty,this.tooltipEle),a=u?u.offsetWidth:0,o=u?u.offsetHeight:0,d=this.showTipPointer?bB:DB,p=o/2+jd+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),m=a/2+jd+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(d+=p1e),e){case"RightTop":s.left+=a+d,s.top-=c-p;break;case"RightCenter":s.left+=a+d,s.top-=c/2;break;case"RightBottom":s.left+=a+d,s.top-=p;break;case"BottomRight":s.top+=o+d,s.left-=m;break;case"BottomCenter":s.top+=o+d,s.left-=l/2;break;case"BottomLeft":s.top+=o+d,s.left-=l-m;break;case"LeftBottom":s.left-=a+l+d,s.top-=p;break;case"LeftCenter":s.left-=a+l+d,s.top-=c/2;break;case"LeftTop":s.left-=a+l+d,s.top-=c-p;break;case"TopLeft":s.top-=c+o+d,s.left-=l-m;break;case"TopRight":s.top-=c+o+d,s.left-=m;break;default:s.top-=c+o+d,s.left-=l/2;break}return s.left+=this.offsetX,s.top+=this.offsetY,s},t.prototype.updateTipPosition=function(e){var i=Ei("."+Ty+",."+IB+",."+OD,this.tooltipEle),n=[Xx,I2,CB,C2];Oe(i,n),this.setTipClass(e),pe(i,this.tipClass)},t.prototype.adjustArrow=function(e,i,n,s){var a=Et("."+Ty,this.tooltipEle);if(!(this.showTipPointer===!1||a===null)){this.updateTipPosition(i);var o,l;this.tooltipEle.style.display="block";var c=this.tooltipEle.clientWidth,u=this.tooltipEle.clientHeight,d=Et("."+OD,this.tooltipEle),p=a.offsetWidth,m=a.offsetHeight;if(this.tooltipEle.style.display="",this.tipClass===Xx||this.tipClass===I2){if(this.tipClass===Xx?(l="99.9%",d.style.top="-"+(m-2)+"px"):(l=-(m-1)+"px",d.style.top="-"+(m-6)+"px"),e){var y=n!=="Center"||c>e.offsetWidth||this.mouseTrail;y&&n==="Left"||!y&&this.tipPointerPosition==="End"?o=c-p-jd+"px":y&&n==="Right"||!y&&this.tipPointerPosition==="Start"?o=jd+"px":y&&(this.tipPointerPosition==="End"||this.tipPointerPosition==="Start")?o=this.tipPointerPosition==="End"?e.offsetWidth+(this.tooltipEle.offsetWidth-e.offsetWidth)/2-p/2-jd+"px":(this.tooltipEle.offsetWidth-e.offsetWidth)/2-p/2+jd+"px":o=c/2-p/2+"px"}}else{this.tipClass===C2?(o="99.9%",d.style.left="-"+(p-2)+"px"):(o=-(p-1)+"px",d.style.left=-p+(p-2)+"px");var y=s!=="Center"||u>e.offsetHeight||this.mouseTrail;y&&s==="Top"||!y&&this.tipPointerPosition==="End"?l=u-m-jd+"px":y&&s==="Bottom"||!y&&this.tipPointerPosition==="Start"?l=jd+"px":l=u/2-m/2+"px"}a.style.top=l,a.style.left=o}},t.prototype.renderContent=function(e){var i=this,n=Et("."+NB,this.tooltipEle);if(this.cssClass&&pe([this.tooltipEle],this.cssClass.split(" ")),e&&!v(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),v(this.content))e&&!v(e.getAttribute("data-content"))&&(n.innerHTML=e.getAttribute("data-content"));else if(n.innerHTML="",this.content instanceof HTMLElement)n.appendChild(this.content);else if(typeof this.content=="string")if(this.isAngular?this.setProperties({content:Io.sanitize(this.content)},!0):this.content=this.enableHtmlSanitizer?Io.sanitize(this.content):this.content,this.enableHtmlParse){var s=jn(this.content),a=s({},this,"content",this.element.id+"content",void 0,void 0,n,this.root);a&&ri(a,n)}else n.textContent=this.content;else{var o=jn(this.content),a=o({},this,"content",this.element.id+"content",void 0,void 0,n);a&&(this.isAngular&&this.animation.open.effect==="ZoomIn"&&setTimeout(function(){i.reposition(e)},1),ri(a,n)),this.renderReactTemplates()}},t.prototype.renderCloseIcon=function(){if(!this.isSticky){var e=this.tooltipEle.querySelector("."+AB+"."+SB);e&&ji(e);return}var i=this.createElement("div",{className:AB+" "+SB,attrs:{role:"button","aria-label":"Press escape to close the Tooltip"}});this.tooltipEle.appendChild(i),se.add(i,Re.touchStartEvent,this.onStickyClose,this)},t.prototype.addDescribedBy=function(e,i){var n=(e.getAttribute("aria-describedby")||"").split(/\s+/);n.indexOf(i)<0&&n.push(i),Ht(e,{"aria-describedby":n.join(" ").trim(),"data-tooltip-id":i})},t.prototype.removeDescribedBy=function(e){var i=e.getAttribute("data-tooltip-id"),n=(e.getAttribute("aria-describedby")||"").split(/\s+/),s=n.indexOf(i);s!==-1&&n.splice(s,1),e.removeAttribute("data-tooltip-id");var a=n.join(" ").trim();a?e.setAttribute("aria-describedby",a):e.removeAttribute("aria-describedby")},t.prototype.tapHoldHandler=function(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)},t.prototype.touchEndHandler=function(){var e=this;if(!this.isSticky){var i=function(){e.close()};this.autoCloseTimer=setTimeout(i,d1e)}},t.prototype.targetClick=function(e){var i;if(this.target?i=Fe(e.target,this.target):i=this.element,!v(i)){var n=e;i.getAttribute("data-tooltip-id")===null?n.type==="mousedown"&&n.button===2||this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,i)}},t.prototype.targetHover=function(e){var i;if(this.target?i=Fe(e.target,this.target):i=this.element,!(v(i)||i.getAttribute("data-tooltip-id")!==null&&this.closeDelay===0)){!v(this.tooltipEle)&&this.tooltipEle.getAttribute("e-animation-id")&&(fo.stop(this.tooltipEle),this.clear());for(var n=[].slice.call(Ei('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)),s=0,a=n;s<a.length;s++){var o=a[s];this.restoreElement(o)}this.showTooltip(i,this.animation.open,e)}},t.prototype.mouseMoveBeforeOpen=function(e){this.mouseMoveEvent=e},t.prototype.mouseMoveBeforeRemove=function(){this.mouseMoveTarget&&se.remove(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen)},t.prototype.showTooltip=function(e,i,n){var s=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.openDelay&&this.mouseTrail&&(this.mouseMoveBeforeRemove(),this.mouseMoveTarget=e,se.add(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen,this)),this.tooltipEventArgs={type:n?n.type:null,cancel:!1,target:e,event:n||null,element:this.tooltipEle,isInteracted:!v(n)};var a=function(o){s.beforeRenderCallback(o,e,n,i)};this.trigger("beforeRender",this.tooltipEventArgs,a.bind(this))},t.prototype.beforeRenderCallback=function(e,i,n,s){e.cancel?(this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove()):(this.isHidden=!1,v(this.tooltipEle)?(this.ctrlId=this.element.getAttribute("id")?Ha(this.element.getAttribute("id")):Ha("tooltip"),this.tooltipEle=this.createElement("div",{className:N2+" "+O2+" "+kD,attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"}}),this.tooltipEle.style.width=bt(this.width),this.tooltipEle.style.height=bt(this.height),this.tooltipEle.style.position="absolute",this.tooltipBeforeRender(i,this),this.tooltipAfterRender(i,n,s,this)):i&&(this.adjustArrow(i,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(i,this.ctrlId+"_content"),this.renderContent(i),fo.stop(this.tooltipEle),this.reposition(i),this.tooltipAfterRender(i,n,s,this)))},t.prototype.appendContainer=function(e){typeof this.container=="string"?this.container==="body"?this.containerElement=document.body:(this.isBodyContainer=!1,this.containerElement=Et(this.container,document)):this.container instanceof HTMLElement&&(this.containerElement=this.container,this.isBodyContainer=this.containerElement.tagName==="BODY"),this.isBodyContainer||pe([this.containerElement],OB),this.containerElement.appendChild(e.tooltipEle)},t.prototype.tooltipBeforeRender=function(e,i){e&&(Re.isDevice&&pe([i.tooltipEle],m1e),i.width!=="auto"&&(i.tooltipEle.style.maxWidth=bt(i.width)),i.tooltipEle.appendChild(i.createElement("div",{className:NB})),this.appendContainer(i),Oe([i.tooltipEle],g1e),i.addDescribedBy(e,i.ctrlId+"_content"),i.renderContent(e),pe([i.tooltipEle],Jx),i.showTipPointer&&i.renderArrow(),i.renderCloseIcon(),i.renderPopup(e),i.adjustArrow(e,i.position,i.tooltipPositionX,i.tooltipPositionY),fo.stop(i.tooltipEle),i.reposition(e))},t.prototype.tooltipAfterRender=function(e,i,n,s){if(e){Oe([s.tooltipEle],Jx),pe([s.tooltipEle],k2),s.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:e,event:i||null,element:s.tooltipEle,isInteracted:!v(i)},s.needTemplateReposition()&&!s.mouseTrail&&(n.effect==="None"||n.effect==="FadeIn"||this.isReact&&typeof s.content!="string")&&(s.tooltipEle.style.display="none");var a=function(o){s.beforeOpenCallback(o,e,n,i)};s.trigger("beforeOpen",s.tooltipEventArgs,a.bind(s))}},t.prototype.beforeOpenCallback=function(e,i,n,s){var a=this;if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove(),this.restoreElement(i);else{var o={name:n.effect==="None"&&Xd==="Enable"?"FadeIn":this.animation.open.effect,duration:n.duration,delay:n.delay,timingFunction:"easeOut"};if(n.effect==="None"&&(o=void 0),this.openDelay>0){var l=function(){a.mouseTrail&&se.add(i,"mousemove touchstart mouseenter",a.onMouseMove,a),a.popupObj&&(a.popupObj.show(o,i),a.mouseMoveEvent&&a.mouseTrail&&a.onMouseMove(a.mouseMoveEvent))};this.showTimer=setTimeout(l,this.openDelay)}else this.popupObj&&this.popupObj.show(o,i)}s&&this.wireMouseEvents(s,i)},t.prototype.needTemplateReposition=function(){var e=this;return!v(e.viewContainerRef)&&typeof e.viewContainerRef!="string"||this.isReact},t.prototype.checkCollision=function(e,i,n){var s={left:i,top:n,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},a=gp(this.tooltipEle,this.checkCollideTarget(),i,n);return a.length>0&&(s.horizontal=a.indexOf("left")>=0?"Right":a.indexOf("right")>=0?"Left":this.tooltipPositionX,s.vertical=a.indexOf("top")>=0?"Bottom":a.indexOf("bottom")>=0?"Top":this.tooltipPositionY),s},t.prototype.calculateElementPosition=function(e,i){return[this.isBodyContainer?e.left+i.left:e.left-this.containerElement.getBoundingClientRect().left+i.left+window.pageXOffset+this.containerElement.scrollLeft,this.isBodyContainer?e.top+i.top:e.top-this.containerElement.getBoundingClientRect().top+i.top+window.pageYOffset+this.containerElement.scrollTop]},t.prototype.collisionFlipFit=function(e,i,n){var s=this.checkCollision(e,i,n),a=s.position;if(this.tooltipPositionY!==s.vertical&&(a=this.position.indexOf("Bottom")===0||this.position.indexOf("Top")===0?s.vertical+this.tooltipPositionX:this.tooltipPositionX+s.vertical),this.tooltipPositionX!==s.horizontal&&(a.indexOf("Left")===0&&(s.vertical=a==="LeftTop"||a==="LeftCenter"?"Top":"Bottom",a=s.vertical+"Left"),a.indexOf("Right")===0&&(s.vertical=a==="RightTop"||a==="RightCenter"?"Top":"Bottom",a=s.vertical+"Right"),s.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:a},this.trigger("beforeCollision",this.tooltipEventArgs),this.tooltipEventArgs.cancel)a=this.position;else{var o=s.vertical,l=s.horizontal;if(s.position!==a){var c=vc(e,l,o,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect());this.adjustArrow(e,a,l,o);var u=this.getScalingFactor(e),d=this.calculateTooltipOffset(a,u.x,u.y);d.top-=this.getOffSetPosition("TopBottom",a,this.offsetY),d.left-=this.getOffSetPosition("RightLeft",a,this.offsetX),s.position=a;var p=this.calculateElementPosition(c,d);s.left=p[0],s.top=p[1]}else this.adjustArrow(e,a,l,o)}var m={left:s.left,top:s.top},y=this.isBodyContainer?IG(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:this.windowCollision},m):m;this.tooltipEle.style.display="block";var M=Et("."+Ty,this.tooltipEle);if(this.showTipPointer&&M!=null&&(a.indexOf("Bottom")===0||a.indexOf("Top")===0)){var w=parseInt(M.style.left,10)-(y.left-s.left);w<0?w=0:w+M.offsetWidth>this.tooltipEle.clientWidth&&(w=this.tooltipEle.clientWidth-M.offsetWidth),M.style.left=w.toString()+"px"}return this.tooltipEle.style.display="",m.left=y.left,m.top=y.top,m},t.prototype.getOffSetPosition=function(e,i,n){return e.indexOf(this.position.split(/(?=[A-Z])/)[0])!==-1&&e.indexOf(i.split(/(?=[A-Z])/)[0])!==-1?2*n:0},t.prototype.checkCollideTarget=function(){return!this.windowCollision&&this.target?this.element:null},t.prototype.hideTooltip=function(e,i,n){var s=this;if(this.closeDelay>0){clearTimeout(this.hideTimer),clearTimeout(this.showTimer);var a=function(){s.closeDelay&&s.tooltipEle&&s.isTooltipOpen||s.tooltipHide(e,i,n)};this.hideTimer=setTimeout(a,this.closeDelay)}else this.tooltipHide(e,i,n)},t.prototype.tooltipHide=function(e,i,n){var s=this,a;i?a=this.target?n||i.target:this.element:a=Et('[data-tooltip-id= "'+this.ctrlId+'_content"]',document),this.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:a,event:i||null,element:this.tooltipEle,isInteracted:!v(i)},this.trigger("beforeClose",this.tooltipEventArgs,function(o){o.cancel?s.isHidden=!1:(s.mouseMoveBeforeRemove(),s.popupHide(e,a,i))})},t.prototype.popupHide=function(e,i,n){i&&n&&this.restoreElement(i),this.isHidden=!0;var s={name:e.effect==="None"&&Xd==="Enable"?"FadeOut":this.animation.close.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};e.effect==="None"&&(s=void 0),this.popupObj&&this.popupObj.hide(s)},t.prototype.restoreElement=function(e){this.unwireMouseEvents(e),v(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDescribedBy(e)},t.prototype.clear=function(){var e=this.findTarget();e&&this.restoreElement(e),this.tooltipEle&&(Oe([this.tooltipEle],k2),pe([this.tooltipEle],Jx)),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&ji(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)},t.prototype.tooltipHover=function(){this.tooltipEle&&(this.isTooltipOpen=!0)},t.prototype.tooltipMouseOut=function(e){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,e,this.findTarget())},t.prototype.onMouseOut=function(e){var i=e.relatedTarget;if(i&&!this.mouseTrail){var n=Fe(i,"."+N2+"."+kD+"."+O2);n?se.add(n,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,e,this.findTarget()),this.closeDelay===0&&(this.animation.close.effect==="None"||this.isReact&&typeof this.content!="string")&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear();this.popupObj&&!this.popupObj.element.classList.contains(Jx)&&this.clear()},t.prototype.tooltipElementMouseOut=function(e){this.hideTooltip(this.animation.close,e,this.findTarget()),se.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()},t.prototype.onStickyClose=function(){this.close()},t.prototype.onMouseMove=function(e){var i=0,n=0;if(e.type.indexOf("touch")>-1?(e.preventDefault(),i=e.touches[0].pageX,n=e.touches[0].pageY):(i=e.pageX,n=e.pageY),!v(this.tooltipEle)){fo.stop(this.tooltipEle),Oe([this.tooltipEle],k2),pe([this.tooltipEle],Jx),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var s=this.getScalingFactor(e.target),a=this.calculateTooltipOffset(this.position,s.x,s.y),o=i+a.left+this.offsetX,l=n+a.top+this.offsetY,c=this.checkCollision(e.target,o,l);if(this.tooltipPositionX!==c.horizontal||this.tooltipPositionY!==c.vertical){var u=this.position.indexOf("Bottom")===0||this.position.indexOf("Top")===0?c.vertical+c.horizontal:c.horizontal+c.vertical;c.position=u,this.adjustArrow(e.target,c.position,c.horizontal,c.vertical);var d=this.calculateTooltipOffset(c.position,s.x,s.y);c.left=i+d.left-this.offsetX,c.top=n+d.top-this.offsetY}this.tooltipEle.style.left=c.left+"px",this.tooltipEle.style.top=c.top+"px"}},t.prototype.keyDown=function(e){this.tooltipEle&&e.keyCode===27&&this.close()},t.prototype.touchEnd=function(e){this.tooltipEle&&Fe(e.target,"."+S2)===null&&!this.isSticky&&this.close()},t.prototype.scrollHandler=function(e){this.tooltipEle&&!this.isSticky&&!Fe(e.target,"."+N2+"."+kD+"."+O2)&&!this.isSticky&&this.close()},t.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()},t.prototype.preRender=function(){this.tipClass=Xx,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},t.prototype.wireEvents=function(e){for(var i=this.getTriggerList(e),n=0,s=i;n<s.length;n++){var a=s[n];if(a==="Custom")return;a==="Focus"&&this.wireFocusEvents(),a==="Click"&&(Re.isIos7||Re.isIos)&&se.add(this.element,"mousedown",this.targetClick,this),a==="Click"&&!(Re.isIos7||Re.isIos)&&se.add(this.element,Re.touchStartEvent,this.targetClick,this),a==="Hover"&&(Re.isDevice?(this.touchModule=new sf(this.element,{tapHoldThreshold:f1e,tapHold:this.tapHoldHandler.bind(this)}),se.add(this.element,Re.touchEndEvent,this.touchEndHandler,this)):se.add(this.element,"mouseover",this.targetHover,this))}this.windowResizeBound=this.windowResize.bind(this),this.keyDownBound=this.keyDown.bind(this),this.touchEndBound=this.touchEnd.bind(this),this.scrollWheelBound=this.scrollHandler.bind(this),document.addEventListener("wheel",this.scrollWheelBound),document.addEventListener("scroll",this.scrollWheelBound),document.addEventListener("touchend",this.touchEndBound),document.addEventListener("keydown",this.keyDownBound),window.addEventListener("resize",this.windowResizeBound)},t.prototype.getTriggerList=function(e){return e?(e==="Auto"&&(e=Re.isDevice?"Hover":"Hover Focus"),e.split(" ")):[]},t.prototype.wireFocusEvents=function(){if(v(this.target))se.add(this.element,"focusin",this.targetHover,this);else{var e=[].slice.call(Ei(this.target,this.element));if(this.targetsList=e,!v(this.targetsList)&&this.targetsList.length>0)for(var i=0,n=e;i<n.length;i++){var s=n[i];se.add(s,"focus",this.targetHover,this)}else se.add(this.element,"focusin",this.targetHover,this)}},t.prototype.wireMouseEvents=function(e,i){this.tooltipEle&&(this.isSticky||(e.type==="focus"&&se.add(i,"blur",this.onMouseOut,this),e.type==="focusin"&&se.add(i,"focusout",this.onMouseOut,this),e.type==="mouseover"&&se.add(i,"mouseleave",this.onMouseOut,this),this.closeDelay&&(se.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),se.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&this.openDelay===0&&se.add(i,"mousemove touchstart mouseenter",this.onMouseMove,this))},t.prototype.unwireEvents=function(e){for(var i=this.getTriggerList(e),n=0,s=i;n<s.length;n++){var a=s[n];if(a==="Custom")return;a==="Focus"&&this.unwireFocusEvents(),a==="Click"&&se.remove(this.element,Re.touchStartEvent,this.targetClick),a==="Hover"&&(Re.isDevice?(this.touchModule&&this.touchModule.destroy(),se.remove(this.element,Re.touchEndEvent,this.touchEndHandler)):se.remove(this.element,"mouseover",this.targetHover))}document.removeEventListener("touchend",this.touchEndBound),this.touchEndBound=null,document.removeEventListener("wheel",this.scrollWheelBound),document.removeEventListener("scroll",this.scrollWheelBound),this.scrollWheelBound=null,window.removeEventListener("resize",this.windowResizeBound),this.windowResizeBound=null,document.removeEventListener("keydown",this.keyDownBound),this.keyDownBound=null},t.prototype.unwireFocusEvents=function(){if(v(this.target))se.remove(this.element,"focusin",this.targetHover);else{var e=[].slice.call(Ei(this.target,this.element));if(!v(this.targetsList)&&this.targetsList.length>0)for(var i=0,n=e;i<n.length;i++){var s=n[i];se.remove(s,"focus",this.targetHover)}else se.remove(this.element,"focusin",this.targetHover)}},t.prototype.unwireMouseEvents=function(e){if(!this.isSticky){for(var i=this.getTriggerList(this.opensOn),n=0,s=i;n<s.length;n++){var a=s[n];a==="Focus"&&(se.remove(e,"blur",this.onMouseOut),se.remove(e,"focusout",this.onMouseOut)),a==="Hover"&&!Re.isDevice&&se.remove(e,"mouseleave",this.onMouseOut)}this.closeDelay&&(se.remove(e,"mouseenter",this.tooltipHover),se.remove(e,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&se.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)},t.prototype.findTarget=function(){var e=Et('[data-tooltip-id= "'+this.ctrlId+'_content"]',document);return e},t.prototype.getModuleName=function(){return"tooltip"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.onPropertyChanged=function(e,i){for(var n=this.findTarget(),s=0,a=Object.keys(e);s<a.length;s++){var o=a[s];switch(o){case"width":this.tooltipEle&&n&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=bt(e.width),this.reposition(n));break;case"height":this.tooltipEle&&n&&(this.tooltipEle.style.height=bt(e.height),this.reposition(n));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(i.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&n){var l=Et("."+OD,this.tooltipEle);l&&(l.style.top=l.style.left=null),this.reposition(n)}break;case"tipPointerPosition":this.tooltipEle&&n&&this.reposition(n);break;case"offsetX":if(this.tooltipEle){var c=e.offsetX-i.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+c).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var u=e.offsetY-i.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+u).toString()+"px"}break;case"cssClass":this.tooltipEle&&(i.cssClass&&Oe([this.tooltipEle],i.cssClass.split(" ")),e.cssClass&&pe([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?pe([this.tooltipEle],EB):Oe([this.tooltipEle],EB));break;case"isSticky":this.tooltipEle&&n&&(this.renderCloseIcon(),this.reposition(n));break;case"container":v(this.containerElement)||Oe([this.containerElement],OB),this.container=e.container,this.tooltipEle&&n&&(this.appendContainer(this),this.reposition(n))}}},t.prototype.open=function(e,i){v(i)&&(i=this.animation.open),v(e)&&(e=this.element),e.style.display!=="none"&&this.showTooltip(e,i)},t.prototype.close=function(e){e||(e=this.animation.close),this.hideTooltip(e)},t.prototype.refresh=function(e){if(this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e),!v(this.targetsList)&&!v(this.target)){var i=Ei(this.target,this.element);i.length!==this.targetsList.length&&(this.unwireEvents(this.opensOn),this.wireEvents(this.opensOn))}},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltipEle&&ji(this.tooltipEle),this.popupObj&&this.popupObj.destroy(),UG(),Oe([this.element],S2),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null;for(var e=Ei('[data-tooltip-id= "'+this.ctrlId+'_content"]',this.element),i=0,n=e;i<n.length;i++){var s=n[i];this.restoreElement(s)}this.containerElement=null,this.tipClass=null,this.tooltipPositionX=null,this.tooltipPositionY=null,this.ctrlId=null,this.tooltipEventArgs=null,this.touchModule=null,this.mouseMoveEvent=null,this.mouseMoveTarget=null,this.containerElement=null,this.targetsList=null},Tn([ee("auto")],t.prototype,"width",void 0),Tn([ee("auto")],t.prototype,"height",void 0),Tn([ee()],t.prototype,"content",void 0),Tn([ee("body")],t.prototype,"container",void 0),Tn([ee()],t.prototype,"target",void 0),Tn([ee("TopCenter")],t.prototype,"position",void 0),Tn([ee(0)],t.prototype,"offsetX",void 0),Tn([ee(0)],t.prototype,"offsetY",void 0),Tn([ee(!0)],t.prototype,"showTipPointer",void 0),Tn([ee(!0)],t.prototype,"enableHtmlParse",void 0),Tn([ee(!1)],t.prototype,"windowCollision",void 0),Tn([ee("Auto")],t.prototype,"tipPointerPosition",void 0),Tn([ee("Auto")],t.prototype,"opensOn",void 0),Tn([ee(!1)],t.prototype,"mouseTrail",void 0),Tn([ee(!1)],t.prototype,"isSticky",void 0),Tn([Yn({},v1e)],t.prototype,"animation",void 0),Tn([ee(0)],t.prototype,"openDelay",void 0),Tn([ee(0)],t.prototype,"closeDelay",void 0),Tn([ee()],t.prototype,"cssClass",void 0),Tn([ee(!0)],t.prototype,"enableHtmlSanitizer",void 0),Tn([ee("")],t.prototype,"htmlAttributes",void 0),Tn([Xe()],t.prototype,"beforeRender",void 0),Tn([Xe()],t.prototype,"beforeOpen",void 0),Tn([Xe()],t.prototype,"afterOpen",void 0),Tn([Xe()],t.prototype,"beforeClose",void 0),Tn([Xe()],t.prototype,"afterClose",void 0),Tn([Xe()],t.prototype,"beforeCollision",void 0),Tn([Xe()],t.prototype,"created",void 0),Tn([Xe()],t.prototype,"destroyed",void 0),t=Tn([$n],t),t})(Dl),ho={},x1e=30,M1e=30,kB=30,w1e=30,T1e=30,b1e=30,D1e=36,E1e=36,L2="e-spin-show",ZE="e-spin-hide",LB="e-spin-material",jB="e-spin-material3",_B="e-spin-tailwind3",zB="e-spin-fabric",RB="e-spin-fluent",PB="e-spin-fluent2",FB="e-spin-tailwind",A1e="e-spin-bootstrap",BB="e-spin-bootstrap4",UB="e-spin-bootstrap5",VB="e-spin-high-contrast",_O="e-spinner-pane",Hj="e-spinner-inner",SN="e-path-circle",S1e="e-path-arc",N1e="e-spin-label",zO="e-spin-template",HB=null,I1e=null;function NN(r,t){var e;if(r.target){var i,n=v(t)?Be:t,s=Z1e(r.target,n);if(!v(r.cssClass)){var a=r.cssClass.split(" ").filter(function(u){return u.trim()!==""});(e=s.wrap.classList).add.apply(e,a)}if(!v(r.template)||!v(HB)){var o=v(r.template)?HB:r.template;s.wrap.classList.add(zO),K1e(s.wrap,o,I1e)}else{var l=v(r.type)?V1e(s.wrap):r.type,c=v(r.width)?void 0:r.width;i=$1e(c,l),H1e(l,s.wrap,i,n),v(r.label)||C1e(s.inner_wrap,r.label,n)}s.wrap.classList.add(ZE),s=null}}function C1e(r,t,e){var i=e("div",{});return i.classList.add(N1e),i.innerHTML=t,r.appendChild(i),i}function O1e(r,t,e){var i=pd();ho[""+i]={timeOut:0,type:"Material",radius:t},nb(r,i,e,LB),sb(t,r,"Material",LB)}function k1e(r,t,e){var i=pd();ho[""+i]={timeOut:0,type:"Tailwind3",radius:t},nb(r,i,e,_B),sb(t,r,"Tailwind3",_B)}function L1e(r,t,e){var i=pd();ho[""+i]={timeOut:0,type:"Material3",radius:t},nb(r,i,e,jB),sb(t,r,"Material3",jB)}function j1e(r,t,e){var i=pd();ho[""+i]={timeOut:0,type:"Bootstrap4",radius:t},nb(r,i,e,BB),sb(t,r,"Bootstrap4",BB)}function _1e(r,t,e){var i=pd();ho[""+i]={timeOut:0,type:"Bootstrap5",radius:t},nb(r,i,e,UB),sb(t,r,"Bootstrap5",UB)}function z1e(r,t,e){var i={},n=0;ho[""+t].timeOut=0,i[""+t]=X1e(t,e,0,0);var s={uniqueID:t,container:r,globalInfo:i,timeOutVar:n};ZG(s)}function R1e(r,t,e){var i=pd();ho[""+i]={timeOut:0,type:"Fabric",radius:t},rb(r,i,zB),ab(t,r,zB)}function P1e(r,t,e){var i=pd();ho[""+i]={timeOut:0,type:"Fluent",radius:t},rb(r,i,RB),ab(t,r,RB)}function F1e(r,t,e){var i=pd();ho[""+i]={timeOut:0,type:"Fluent2",radius:t},rb(r,i,PB),ab(t,r,PB)}function B1e(r,t,e){var i=pd();ho[""+i]={timeOut:0,type:"Tailwind",radius:t},rb(r,i,FB),ab(t,r,FB)}function U1e(r,t,e){var i=pd();ho[""+i]={timeOut:0,type:"HighContrast",radius:t},rb(r,i,VB),ab(t,r,VB)}function V1e(r){var t=window.getComputedStyle(r,":after").getPropertyValue("content");return t.replace(/['"]+/g,"")}function H1e(r,t,e,i){var n=t.querySelector("."+Hj),s=n.querySelector("svg");switch(v(s)||n.removeChild(s),r){case"Material":O1e(n,e,i);break;case"Material3":L1e(n,e,i);break;case"Fabric":R1e(n,e);break;case"Fluent":P1e(n,e);break;case"Fluent2":F1e(n,e);break;case"Bootstrap":W1e(n,e);break;case"HighContrast":U1e(n,e);break;case"Bootstrap4":j1e(n,e,i);break;case"Bootstrap5":_1e(n,e,i);break;case"Tailwind":case"Tailwind-dark":B1e(n,e);break;case"Tailwind3":k1e(n,e,i);break}}function W1e(r,t,e){var i=pd();ho[""+i]={timeOut:0,type:"Bootstrap",radius:t},Y1e(r,i),q1e(r,t)}function Y1e(r,t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=64,s=32,a=2;i.setAttribute("id",t),i.setAttribute("class",A1e),i.setAttribute("viewBox","0 0 "+n+" "+n),r.insertBefore(i,r.firstChild);for(var o=0;o<=7;o++){var l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("class",SN+"_"+o),l.setAttribute("r",a+""),l.setAttribute("transform","translate("+s+","+s+")"),i.appendChild(l)}}function q1e(r,t){var e=r.querySelector("svg.e-spin-bootstrap"),i=0,n=0,s=24;e.style.width=e.style.height=t+"px";for(var a=90,o=0;o<=7;o++){var l=RO(i,n,s,a),c=e.querySelector("."+SN+"_"+o);c.setAttribute("cx",l.x+""),c.setAttribute("cy",l.y+""),a=a>=360?0:a,a=a+45}}function Q1e(r,t){var e=[],i=r,n=t,s=!1,a=1;o(i);function o(l){e.push(l),(l!==n||a===1)&&(l<=i&&l>1&&!s?l=parseFloat((l-.2).toFixed(2)):l===1?(l=7,l=parseFloat((l+.2).toFixed(2)),s=!0):l<8&&s?(l=parseFloat((l+.2).toFixed(2)),l===8&&(s=!1)):l<=8&&!s&&(l=parseFloat((l-.2).toFixed(2))),++a,o(l))}return e}function G1e(r){for(var t=r.querySelector("svg.e-spin-bootstrap"),e=t.getAttribute("id"),i=1;i<=8;i++){var n=r.getElementsByClassName("e-path-circle_"+(i===8?0:i))[0];s(n,i,i,Q1e(i,i),e)}function s(a,o,l,c,u){var d=0;p(o);function p(m){ho[""+u].isAnimate&&(++d,a.setAttribute("r",m+""),d>=c.length&&(d=0),ho[u].timeOut=setTimeout(p.bind(null,c[d]),18))}}}function K1e(r,t,e){v(e)||r.classList.add(e);var i=r.querySelector(".e-spinner-inner");i.innerHTML=t}function $1e(r,t){var e;switch(t){case"Material":e=x1e;break;case"Material3":e=M1e;break;case"Fabric":e=kB;break;case"Tailwind":case"Tailwind-dark":case"Tailwind3":e=kB;break;case"Fluent":e=w1e;break;case"Fluent2":e=T1e;break;case"Bootstrap4":e=D1e;break;case"Bootstrap5":e=E1e;break;default:e=b1e}return r=r?parseFloat(r+""):e,t==="Bootstrap"?r:r/2}function X1e(r,t,e,i){return{radius:t,count:e,previousId:i}}function J1e(){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),r[0]/4294967296}function pd(){for(var r="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=0;e<5;e++)r+=t.charAt(Math.floor(J1e()*t.length));return r}function rb(r,t,e,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("id",t),n.setAttribute("class",e);var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("class",SN);var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("class",S1e),r.insertBefore(n,r.firstChild),n.appendChild(s),n.appendChild(a)}function nb(r,t,e,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("class",i),n.setAttribute("id",t),s.setAttribute("class",SN),r.insertBefore(n,r.firstChild),n.appendChild(s)}function Z1e(r,t){var e=t("div",{}),i=t("div",{});return e.classList.add(_O),i.classList.add(Hj),i.setAttribute("aria-disabled","true"),r.appendChild(e),e.appendChild(i),{wrap:e,inner_wrap:i}}function ZG(r){var t=1,e=149,i=1333,n=75;exe(t,e,rxe,i,r.globalInfo[r.uniqueID].count,n,r),r.globalInfo[r.uniqueID].count=++r.globalInfo[r.uniqueID].count%4}function exe(r,t,e,i,n,s,a){var o=++a.globalInfo[a.uniqueID].previousId,l=new Date().getTime(),c=t-r,u=txe(a.globalInfo[a.uniqueID].radius*2+""),d=eK(u),p=-90*(a.globalInfo[a.uniqueID].count||0);m(a);function m(M){var w=Math.max(0,Math.min(new Date().getTime()-l,i));y(e(w,r,c,i),M.container),o===M.globalInfo[M.uniqueID].previousId&&w<i?ho[M.uniqueID].timeOut=setTimeout(m.bind(null,M),1):ZG(M)}function y(M,w){if(!v(w.querySelector("svg.e-spin-material"))||!v(w.querySelector("svg.e-spin-material3"))||!v(w.querySelector("svg.e-spin-tailwind3"))){var b=void 0;if(!v(w.querySelector("svg.e-spin-material"))&&!v(w.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))?b=w.querySelector("svg.e-spin-material"):!v(w.querySelector("svg.e-spin-material3"))&&!v(w.querySelector("svg.e-spin-material3").querySelector("path.e-path-circle"))?b=w.querySelector("svg.e-spin-material3"):!v(w.querySelector("svg.e-spin-tailwind3"))&&!v(w.querySelector("svg.e-spin-tailwind3").querySelector("path.e-path-circle"))&&(b=w.querySelector("svg.e-spin-tailwind3")),!v(b)){var D=b.querySelector("path.e-path-circle");D.setAttribute("stroke-dashoffset",tK(u,d,M,s)+""),D.setAttribute("transform","rotate("+p+" "+u/2+" "+u/2+")")}}}}function sb(r,t,e,i){var n=r*2,s=t.querySelector("svg."+i),a=s.querySelector("path.e-path-circle"),o=eK(n),l=n/2+"px";s.setAttribute("viewBox","0 0 "+n+" "+n),s.style.width=s.style.height=n+"px",s.style.transformOrigin=l+" "+l+" "+l,a.setAttribute("d",ixe(n,o)),(e==="Material"||e==="Material3"||e==="Fluent2"||e==="Tailwind3")&&(a.setAttribute("stroke-width",o+""),a.setAttribute("stroke-dasharray",(n-o)*Math.PI*.75+""),a.setAttribute("stroke-dashoffset",tK(n,o,1,75)+""))}function txe(r){var t=parseFloat(r);return t}function ixe(r,t){var e=r/2,i=t/2;return"M"+e+","+i+"A"+(e-i)+","+(e-i)+" 0 1 1 "+i+","+e}function eK(r){return 10/100*r}function tK(r,t,e,i){return(r-t)*Math.PI*(3*i/100-e/100)}function rxe(r,t,e,i){var n=(r/=i)*r,s=n*r;return t+e*(6*s*n+-15*n*n+10*s)}function ab(r,t,e){var i=r,n=r,s=r*2,a=315,o=45,l=t.querySelector("."+e),c=l.querySelector(".e-path-circle"),u=l.querySelector(".e-path-arc"),d=s/2+"px";c.setAttribute("d",sxe(i,n,r)),u.setAttribute("d",nxe(i,n,r,a,o)),l.setAttribute("viewBox","0 0 "+s+" "+s),l.style.transformOrigin=d+" "+d+" "+d,l.style.width=l.style.height=s+"px"}function RO(r,t,e,i){var n=(i-90)*Math.PI/180;return{x:r+e*Math.cos(n),y:t+e*Math.sin(n)}}function nxe(r,t,e,i,n){var s=RO(r,t,e,n),a=RO(r,t,e,i),o=["M",s.x,s.y,"A",e,e,0,0,0,a.x,a.y].join(" ");return o}function sxe(r,t,e){var i=["M",r,t,"m",-e,0,"a",e,e,0,1,0,e*2,0,"a",e,e,0,1,0,-e*2,0].join(" ");return i}function IN(r){iK(r,!1),r=null}function iK(r,t){var e;if(r)if(r.classList.contains(_O))e=r;else{var i=r.querySelectorAll("."+_O);if(Re.isIE){for(var n=0;n<i.length;n++)if(i[n].parentElement&&i[n].parentElement===r){e=i[n];break}}else e=Array.from(i).find(function(c){return c.parentElement===r})||null}if(r&&e){var s=e.querySelector("."+Hj),a=t?!e.classList.contains(zO)&&!e.classList.contains(ZE):!e.classList.contains(zO)&&!e.classList.contains(L2);if(a){var o=e.querySelector("svg");if(v(o))return;var l=o.getAttribute("id");switch(ho[""+l].isAnimate=!t,ho[""+l].type){case"Material":case"Material3":case"Tailwind3":t?clearTimeout(ho[l].timeOut):z1e(s,l,ho[l].radius);break;case"Bootstrap":t?clearTimeout(ho[l].timeOut):G1e(s);break}}t?No(e,[ZE],[L2]):No(e,[L2],[ZE]),r=null}}function CN(r){iK(r,!0),r=null}var axe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),WB=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},oxe="e-hscroll",Om="e-rtl",km="e-overlay",lxe="e-hscroll-bar",cxe="e-hscroll-content",Zx="e-nav-arrow",eM="e-nav-right-arrow",LD="e-nav-left-arrow",f0="e-scroll-nav",j2="e-scroll-right-nav",YB="e-scroll-left-nav",qB="e-scroll-device",jD="e-scroll-overlay",_2="e-scroll-right-overlay",z2="e-scroll-left-overlay",QB=40,uxe=(function(r){axe(t,r);function t(e,i){return r.call(this,e,i)||this}return t.prototype.preRender=function(){this.browser=Re.info.name,this.browserCheck=this.browser==="mozilla",this.isDevice=Re.isDevice,this.customStep=!0;var e=this.element;this.ieCheck=this.browser==="edge"||this.browser==="msie",this.initialize(),e.id===""&&(e.id=Ha("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(Om)},t.prototype.render=function(){this.touchModule=new sf(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),se.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(qB),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},t.prototype.setScrollState=function(){v(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=this.createElement("div",{className:cxe}),i=this.createElement("div",{className:lxe});i.setAttribute("tabindex","-1");for(var n=this.element,s=[].slice.call(n.children),a=0,o=s;a<o.length;a++){var l=o[a];e.appendChild(l)}i.appendChild(e),n.appendChild(i),i.style.overflowX="hidden",this.scrollEle=i,this.scrollItems=e},t.prototype.getPersistData=function(){var e=["scrollStep"];return this.addOnPersist(e)},t.prototype.getModuleName=function(){return"hScroll"},t.prototype.destroy=function(){var e=this.element;e.style.display="",e.classList.remove(oxe),e.classList.remove(qB),e.classList.remove(Om);var i=Ei(".e-"+e.id+"_nav."+f0,e),n=Ei("."+jD,e);[].slice.call(n).forEach(function(l){zt(l)});for(var s=0,a=[].slice.call(this.scrollItems.children);s<a.length;s++){var o=a[s];e.appendChild(o)}this.uniqueId&&this.element.removeAttribute("id"),zt(this.scrollEle),i.length>0&&(zt(i[0]),v(i[1])||zt(i[1])),se.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,r.prototype.destroy.call(this)},t.prototype.disable=function(e){var i=Ei(".e-scroll-nav:not(."+km+")",this.element);e?this.element.classList.add(km):this.element.classList.remove(km),[].slice.call(i).forEach(function(n){n.setAttribute("tabindex",e?"-1":"0")})},t.prototype.createOverlay=function(e){var i=e.id.concat("_nav"),n=this.createElement("div",{className:jD+" "+_2}),s="e-"+e.id.concat("_nav "+f0+" "+j2),a=this.createElement("div",{id:i.concat("_right"),className:s}),o=this.createElement("div",{className:eM+" "+Zx+" e-icons"});a.appendChild(o);var l=this.createElement("div",{className:jD+" "+z2});this.ieCheck&&a.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(a),e.insertBefore(l,e.firstChild),this.eventBinding([a])},t.prototype.createNavIcon=function(e){var i=e.id.concat("_nav"),n="e-"+e.id.concat("_nav "+f0+" "+j2),s={role:"button",id:i.concat("_right"),"aria-label":"Scroll right"},a=this.createElement("div",{className:n,attrs:s});a.setAttribute("aria-disabled","false");var o=this.createElement("div",{className:eM+" "+Zx+" e-icons"}),l="e-"+e.id.concat("_nav "+f0+" "+YB),c={role:"button",id:i.concat("_left"),"aria-label":"Scroll left"},u=this.createElement("div",{className:l+" "+km,attrs:c});u.setAttribute("aria-disabled","true");var d=this.createElement("div",{className:LD+" "+Zx+" e-icons"});u.appendChild(d),a.appendChild(o),e.appendChild(a),e.insertBefore(u,e.firstChild),this.ieCheck&&(a.classList.add("e-ie-align"),u.classList.add("e-ie-align")),this.eventBinding([a,u])},t.prototype.onKeyPress=function(e){var i=this;if(e.key==="Enter"){var n=function(){i.keyTimeout=!0,i.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(function(){n()},100)}},t.prototype.onKeyUp=function(e){e.key==="Enter"&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var i=this;[].slice.call(e).forEach(function(n){new sf(n,{tapHold:i.tabHoldHandler.bind(i),tapHoldThreshold:500}),n.addEventListener("keydown",i.onKeyPress.bind(i)),n.addEventListener("keyup",i.onKeyUp.bind(i)),n.addEventListener("mouseup",i.repeatScroll.bind(i)),n.addEventListener("touchend",i.repeatScroll.bind(i)),n.addEventListener("contextmenu",function(s){s.preventDefault()}),se.add(n,"click",i.clickEventHandler,i)})},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var i=this,n=e.originalEvent.target;n=this.contains(n,f0)?n.firstElementChild:n;var s=10,a=function(){i.eleScrolling(s,n,!0)};this.timeout=window.setInterval(function(){a()},50)},t.prototype.contains=function(e,i){return e.classList.contains(i)},t.prototype.eleScrolling=function(e,i,n){var s=this.element,a=i.classList;a.contains(f0)&&(a=i.querySelector("."+Zx).classList),this.contains(s,Om)&&this.browserCheck&&(e=-e),!this.contains(s,Om)||this.browserCheck||this.ieCheck?a.contains(eM)?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n):a.contains(LD)?this.frameScrollRequest(e,"add",n):this.frameScrollRequest(e,"",n)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.swipeHandler=function(e){var i=this.scrollEle,n;e.velocity<=1?n=e.distanceX/(e.velocity*10):n=e.distanceX/e.velocity;var s=.5,a=function(){var o=Math.sin(s);o<=0?window.cancelAnimationFrame(o):(e.swipeDirection==="Left"?i.scrollLeft+=n*o:e.swipeDirection==="Right"&&(i.scrollLeft-=n*o),s-=.5,window.requestAnimationFrame(a))};a()},t.prototype.scrollUpdating=function(e,i){i==="add"?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e,this.enableRtl&&this.scrollEle.scrollLeft>0&&(this.scrollEle.scrollLeft=0)},t.prototype.frameScrollRequest=function(e,i,n){var s=this,a=10;if(n){this.scrollUpdating(e,i);return}this.customStep||[].slice.call(Ei("."+jD,this.element)).forEach(function(l){e-=l.offsetWidth});var o=function(){var l,c;s.contains(s.element,Om)&&s.browserCheck?(l=-e,c=-a):(l=e,c=a),l<a?window.cancelAnimationFrame(c):(s.scrollUpdating(c,i),e-=c,window.requestAnimationFrame(o))};o()},t.prototype.touchHandler=function(e){var i=this.scrollEle,n=e.distanceX;this.ieCheck&&this.contains(this.element,Om)&&(n=-n),e.scrollDirection==="Left"?i.scrollLeft=i.scrollLeft+n:e.scrollDirection==="Right"&&(i.scrollLeft=i.scrollLeft-n)},t.prototype.arrowDisabling=function(e,i){if(this.isDevice){var n=v(e)?i:e,s=n.querySelector("."+Zx);v(e)?No(s,[eM],[LD]):No(s,[LD],[eM])}else e&&i&&(e.classList.add(km),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),i.classList.remove(km),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0"));this.repeatScroll()},t.prototype.scrollHandler=function(e){var i=e.target,n=i.offsetWidth;this.element;var s=this.element.querySelector("."+YB),a=this.element.querySelector("."+j2),o=this.element.querySelector("."+z2),l=this.element.querySelector("."+_2),c=i.scrollLeft;if(c<=0&&(c=-c),this.isDevice&&(this.enableRtl&&!(this.browserCheck||this.ieCheck)&&(o=this.element.querySelector("."+_2),l=this.element.querySelector("."+z2)),c<QB?o.style.width=c+"px":o.style.width="40px",i.scrollWidth-Math.ceil(n+c)<QB?l.style.width=i.scrollWidth-Math.ceil(n+c)+"px":l.style.width="40px"),c===0)this.arrowDisabling(s,a);else if(Math.ceil(n+c+.1)>=i.scrollWidth)this.arrowDisabling(a,s);else{var u=this.element.querySelector("."+f0+"."+km);u&&(u.classList.remove(km),u.setAttribute("aria-disabled","false"),u.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(Om):this.element.classList.remove(Om);break}}},WB([ee(null)],t.prototype,"scrollStep",void 0),t=WB([$n],t),t})(Dl),hxe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),GB=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},dxe="e-vscroll",_D="e-rtl",Lm="e-overlay",fxe="e-vscroll-bar",pxe="e-vscroll-content",tM="e-nav-arrow",zD="e-nav-up-arrow",iM="e-nav-down-arrow",p0="e-scroll-nav",KB="e-scroll-up-nav",R2="e-scroll-down-nav",$B="e-scroll-device",RD="e-scroll-overlay",XB="e-scroll-up-overlay",JB="e-scroll-down-overlay",ZB=40,mxe=(function(r){hxe(t,r);function t(e,i){return r.call(this,e,i)||this}return t.prototype.preRender=function(){this.browser=Re.info.name,this.browserCheck=this.browser==="mozilla",this.isDevice=Re.isDevice,this.customStep=!0;var e=this.element;this.ieCheck=this.browser==="edge"||this.browser==="msie",this.initialize(),e.id===""&&(e.id=Ha("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(_D)},t.prototype.render=function(){this.touchModule=new sf(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),se.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add($B),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),se.add(this.element,"wheel",this.wheelEventHandler,this)},t.prototype.setScrollState=function(){v(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=Be("div",{className:pxe}),i=Be("div",{className:fxe});i.setAttribute("tabindex","-1");for(var n=this.element,s=[].slice.call(n.children),a=0,o=s;a<o.length;a++){var l=o[a];e.appendChild(l)}i.appendChild(e),n.appendChild(i),i.style.overflow="hidden",this.scrollEle=i,this.scrollItems=e},t.prototype.getPersistData=function(){var e=["scrollStep"];return this.addOnPersist(e)},t.prototype.getModuleName=function(){return"vScroll"},t.prototype.destroy=function(){var e=this.element;e.style.display="",Oe([this.element],[dxe,$B,_D]);var i=Ei(".e-"+e.id+"_nav."+p0,e),n=Ei("."+RD,e);[].slice.call(n).forEach(function(l){zt(l)});for(var s=0,a=[].slice.call(this.scrollItems.children);s<a.length;s++){var o=a[s];e.appendChild(o)}this.uniqueId&&this.element.removeAttribute("id"),zt(this.scrollEle),i.length>0&&(zt(i[0]),v(i[1])||zt(i[1])),se.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,r.prototype.destroy.call(this)},t.prototype.disable=function(e){var i=Ei(".e-scroll-nav:not(."+Lm+")",this.element);e?this.element.classList.add(Lm):this.element.classList.remove(Lm),[].slice.call(i).forEach(function(n){n.setAttribute("tabindex",e?"-1":"0")})},t.prototype.createOverlayElement=function(e){var i=e.id.concat("_nav"),n=Be("div",{className:RD+" "+JB}),s="e-"+e.id.concat("_nav "+p0+" "+R2),a=Be("div",{id:i.concat("down"),className:s}),o=Be("div",{className:iM+" "+tM+" e-icons"});a.appendChild(o);var l=Be("div",{className:RD+" "+XB});this.ieCheck&&a.classList.add("e-ie-align"),e.appendChild(n),e.appendChild(a),e.insertBefore(l,e.firstChild),this.eventBinding([a])},t.prototype.createNavIcon=function(e){var i=e.id.concat("_nav"),n="e-"+e.id.concat("_nav "+p0+" "+R2),s=Be("div",{id:i.concat("_down"),className:n});s.setAttribute("aria-disabled","false");var a=Be("div",{className:iM+" "+tM+" e-icons"}),o="e-"+e.id.concat("_nav "+p0+" "+KB),l=Be("div",{id:i.concat("_up"),className:o+" "+Lm});l.setAttribute("aria-disabled","true");var c=Be("div",{className:zD+" "+tM+" e-icons"});l.appendChild(c),s.appendChild(a),s.setAttribute("tabindex","0"),e.appendChild(s),e.insertBefore(l,e.firstChild),this.ieCheck&&(s.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([s,l])},t.prototype.onKeyPress=function(e){var i=this;if(e.key==="Enter"){var n=function(){i.keyTimeout=!0,i.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(function(){n()},100)}},t.prototype.onKeyUp=function(e){e.key==="Enter"&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var i=this;[].slice.call(e).forEach(function(n){new sf(n,{tapHold:i.tabHoldHandler.bind(i),tapHoldThreshold:500}),n.addEventListener("keydown",i.onKeyPress.bind(i)),n.addEventListener("keyup",i.onKeyUp.bind(i)),n.addEventListener("mouseup",i.repeatScroll.bind(i)),n.addEventListener("touchend",i.repeatScroll.bind(i)),n.addEventListener("contextmenu",function(s){s.preventDefault()}),se.add(n,"click",i.clickEventHandler,i)})},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var i=this,n=e.originalEvent.target;n=this.contains(n,p0)?n.firstElementChild:n;var s=10,a=function(){i.eleScrolling(s,n,!0)};this.timeout=window.setInterval(function(){a()},50)},t.prototype.contains=function(e,i){return e.classList.contains(i)},t.prototype.eleScrolling=function(e,i,n){var s=i.classList;s.contains(p0)&&(s=i.querySelector("."+tM).classList),s.contains(iM)?this.frameScrollRequest(e,"add",n):s.contains(zD)&&this.frameScrollRequest(e,"",n)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},t.prototype.swipeHandler=function(e){var i=this.scrollEle,n;e.velocity<=1?n=e.distanceY/(e.velocity*10):n=e.distanceY/e.velocity;var s=.5,a=function(){var o=Math.sin(s);o<=0?window.cancelAnimationFrame(o):(e.swipeDirection==="Up"?i.scrollTop+=n*o:e.swipeDirection==="Down"&&(i.scrollTop-=n*o),s-=.02,window.requestAnimationFrame(a))};a()},t.prototype.scrollUpdating=function(e,i){i==="add"?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},t.prototype.frameScrollRequest=function(e,i,n){var s=this,a=10;if(n){this.scrollUpdating(e,i);return}this.customStep||[].slice.call(Ei("."+RD,this.element)).forEach(function(l){e-=l.offsetHeight});var o=function(){e<a?window.cancelAnimationFrame(a):(s.scrollUpdating(a,i),e-=a,window.requestAnimationFrame(o))};o()},t.prototype.touchHandler=function(e){var i=this.scrollEle,n=e.distanceY;e.scrollDirection==="Up"?i.scrollTop=i.scrollTop+n:e.scrollDirection==="Down"&&(i.scrollTop=i.scrollTop-n)},t.prototype.arrowDisabling=function(e,i){if(this.isDevice){var n=v(e)?i:e,s=n.querySelector("."+tM);v(e)?No(s,[iM],[zD]):No(s,[zD],[iM])}else e.classList.add(Lm),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),i.classList.remove(Lm),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollEventHandler=function(e){var i=e.target,n=i.offsetHeight,s=this.element.querySelector("."+KB),a=this.element.querySelector("."+R2),o=this.element.querySelector("."+XB),l=this.element.querySelector("."+JB),c=i.scrollTop;if(c<=0&&(c=-c),this.isDevice&&(c<ZB?o.style.height=c+"px":o.style.height="40px",i.scrollHeight-Math.ceil(n+c)<ZB?l.style.height=i.scrollHeight-Math.ceil(n+c)+"px":l.style.height="40px"),c===0)this.arrowDisabling(s,a);else if(Math.ceil(n+c+.1)>=i.scrollHeight)this.arrowDisabling(a,s);else{var u=this.element.querySelector("."+p0+"."+Lm);u&&(u.classList.remove(Lm),u.setAttribute("aria-disabled","false"),u.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(_D):this.element.classList.remove(_D);break}}},GB([ee(null)],t.prototype,"scrollStep",void 0),t=GB([$n],t),t})(Dl),di=(function(){function r(t){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="",typeof t=="string"?this.fromTable=t:t&&t instanceof Array&&(this.lookups=t),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}return Object.defineProperty(r.prototype,"moduleName",{get:function(){return"query"},enumerable:!0,configurable:!0}),r.prototype.setKey=function(t){return this.key=t,this},r.prototype.using=function(t){return this.dataManager=t,this},r.prototype.execute=function(t,e,i,n){return t=t||this.dataManager,t?t.executeQuery(this,e,i,n):pt.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},r.prototype.executeLocal=function(t){return t=t||this.dataManager,t?t.executeLocal(this):pt.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},r.prototype.clone=function(){var t=new r;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t.lazyLoad=this.lazyLoad.slice(0),t},r.prototype.from=function(t){return this.fromTable=t,this},r.prototype.addParams=function(t,e){return typeof e=="function"?this.params.push({key:t,fn:e}):this.params.push({key:t,value:e}),this},r.prototype.distinct=function(t){return typeof t=="string"?this.distincts=[].slice.call([t],0):this.distincts=t.slice(0),this},r.prototype.expand=function(t){return typeof t=="string"?this.expands=[].slice.call([t],0):this.expands=t.slice(0),this},r.prototype.where=function(t,e,i,n,s,a){e=e?e.toLowerCase():null;var o=null;return typeof t=="string"?o=new Er(t,e,i,n,s,a):t instanceof Er&&(o=t),this.queries.push({fn:"onWhere",e:o}),this},r.prototype.search=function(t,e,i,n,s){typeof e=="string"&&(e=[e]),(!i||i==="none")&&(i="contains");var a=pt.fnOperators[i];return this.queries.push({fn:"onSearch",e:{fieldNames:e,operator:i,searchKey:t,ignoreCase:n,ignoreAccent:s,comparer:a}}),this},r.prototype.sortBy=function(t,e,i){return this.sortByForeignKey(t,e,i)},r.prototype.sortByForeignKey=function(t,e,i,n){var s=v(n)?"ascending":n,a,o;if(typeof t=="string"&&pt.endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),e="descending"),(!e||typeof e=="string")&&(s=e?e.toLowerCase():"ascending",e=pt.fnSort(e)),i){a=r.filterQueries(this.queries,"onSortBy");for(var l=0;l<a.length;l++)if(o=a[l].e.fieldName,typeof o=="string"){if(o===t)return this}else if(o instanceof Array){for(var c=0;c<o.length;c++)if(o[c]===t||t.toLowerCase()===o[c]+" desc")return this}}return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:e,direction:s}}),this},r.prototype.sortByDesc=function(t){return this.sortBy(t,"descending")},r.prototype.group=function(t,e,i){return this.sortBy(t,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:t,comparer:e||null,format:i||null}}),this},r.prototype.page=function(t,e){return this.queries.push({fn:"onPage",e:{pageIndex:t,pageSize:e}}),this},r.prototype.range=function(t,e){return this.queries.push({fn:"onRange",e:{start:t,end:e}}),this},r.prototype.take=function(t){return this.queries.push({fn:"onTake",e:{nos:t}}),this},r.prototype.skip=function(t){return this.queries.push({fn:"onSkip",e:{nos:t}}),this},r.prototype.select=function(t){return typeof t=="string"&&(t=[].slice.call([t],0)),this.queries.push({fn:"onSelect",e:{fieldNames:t}}),this},r.prototype.hierarchy=function(t,e){return this.subQuerySelector=e,this.subQuery=t,this},r.prototype.foreignKey=function(t){return this.fKey=t,this},r.prototype.requiresCount=function(){return this.isCountRequired=!0,this},r.prototype.aggregate=function(t,e){return this.queries.push({fn:"onAggregates",e:{field:e,type:t}}),this},r.filterQueries=function(t,e){return t.filter(function(i){return i.fn===e})},r.filterQueryLists=function(t,e){for(var i=t.filter(function(a){return e.indexOf(a.fn)!==-1}),n={},s=0;s<i.length;s++)n[i[s].fn]||(n[i[s].fn]=i[s].e);return n},r})(),Er=(function(){function r(t,e,i,n,s,a){return n===void 0&&(n=!1),this.ignoreAccent=!1,this.isComplex=!1,typeof t=="string"?(this.field=t,this.operator=e.toLowerCase(),this.value=i,this.matchCase=a,this.ignoreCase=n,this.ignoreAccent=s,this.isComplex=!1,this.comparer=pt.fnOperators.processOperator(this.operator)):(t instanceof r&&i instanceof r||i instanceof Array)&&(this.isComplex=!0,this.condition=e.toLowerCase(),this.predicates=[t],this.matchCase=t.matchCase,this.ignoreCase=t.ignoreCase,this.ignoreAccent=t.ignoreAccent,i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this}return r.and=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.combinePredicates([].slice.call(t,0),"and")},r.prototype.and=function(t,e,i,n,s){return r.combine(this,t,e,i,"and",n,s)},r.or=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.combinePredicates([].slice.call(t,0),"or")},r.prototype.or=function(t,e,i,n,s){return r.combine(this,t,e,i,"or",n,s)},r.ornot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.combinePredicates([].slice.call(t,0),"or not")},r.prototype.ornot=function(t,e,i,n,s){return r.combine(this,t,e,i,"ornot",n,s)},r.andnot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.combinePredicates([].slice.call(t,0),"and not")},r.prototype.andnot=function(t,e,i,n,s){return r.combine(this,t,e,i,"andnot",n,s)},r.fromJson=function(t){if(t instanceof Array){for(var e=[],i=0,n=t.length;i<n;i++)e.push(this.fromJSONData(t[i]));return e}var s=t;return this.fromJSONData(s)},r.prototype.validate=function(t){var e=this.predicates?this.predicates:[],i,n;if(!this.isComplex&&this.comparer)return this.condition&&this.condition.indexOf("not")!==-1?(this.condition=this.condition.split("not")[0]===""?void 0:this.condition.split("not")[0],!this.comparer.call(this,pt.getObject(this.field,t),this.value,this.ignoreCase,this.ignoreAccent)):this.comparer.call(this,pt.getObject(this.field,t),this.value,this.ignoreCase,this.ignoreAccent);this.condition&&this.condition.indexOf("not")!==-1?n=this.condition.indexOf("and")!==-1:n=this.condition==="and";for(var s=0;s<e.length;s++)if(s>0&&this.condition&&this.condition.indexOf("not")!==-1&&(e[s].condition=e[s].condition?e[s].condition+"not":"not"),i=e[s].validate(t),n){if(!i)return!1}else if(i)return!0;return n},r.prototype.toJson=function(){var t,e;if(this.isComplex){t=[],e=this.predicates;for(var i=0;i<e.length;i++)t.push(e[i].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:t,matchCase:this.matchCase}},r.combinePredicates=function(t,e){if(t.length===1){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new r(t[0],e,t.slice(1))},r.combine=function(t,e,i,n,s,a,o){return e instanceof r?r[s](t,e):typeof e=="string"?r[s](t,new r(e,i,n,a,o)):pt.throwError("Predicate - "+s+" : invalid arguments")},r.fromJSONData=function(t){for(var e=t.predicates||[],i=e.length,n=[],s,a=0;a<i;a++)n.push(this.fromJSONData(e[a]));return t.isComplex?s=new r(n[0],t.condition,n.slice(1)):s=new r(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent),s},r})(),eU={GroupGuid:"{271bbba0-1ee7}"},pt=(function(){function r(){}return r.getValue=function(t,e){return typeof t=="function"?t.call(e||{}):t},r.endsWith=function(t,e){return t.slice&&t.slice(-e.length)===e},r.notEndsWith=function(t,e){return t.slice&&t.slice(-e.length)!==e},r.startsWith=function(t,e){return t.slice(0,e.length)===e},r.notStartsWith=function(t,e){return t.slice(0,e.length)!==e},r.wildCard=function(t,e){var i,n;if(e.indexOf("[")!==-1&&(e=e.split("[").join("[[]")),e.indexOf("(")!==-1&&(e=e.split("(").join("[(]")),e.indexOf(")")!==-1&&(e=e.split(")").join("[)]")),e.indexOf("\\")!==-1&&(e=e.split("\\").join("[\\\\]")),e.indexOf("*")!==-1){e.charAt(0)!=="*"&&(e="^"+e),e.charAt(e.length-1)!=="*"&&(e=e+"$"),i=e.split("*");for(var s=0;s<i.length;s++)i[s].indexOf(".")===-1?i[s]=i[s]+".*":i[s]=i[s]+"*";e=i.join("")}(e.indexOf("%3f")!==-1||e.indexOf("?")!==-1)&&(n=e.indexOf("%3f")!==-1?e.split("%3f"):e.split("?"),e=n.join("."));var a=new RegExp(e,"g");return a.test(t)},r.like=function(t,e){return e.indexOf("%")!==-1?e.charAt(0)==="%"&&e.lastIndexOf("%")<2?(e=e.substring(1,e.length),r.startsWith(r.toLowerCase(t),r.toLowerCase(e))):e.charAt(e.length-1)==="%"&&e.indexOf("%")>e.length-3?(e=e.substring(0,e.length-1),r.endsWith(r.toLowerCase(t),r.toLowerCase(e))):(e.lastIndexOf("%")!==e.indexOf("%")&&e.lastIndexOf("%")>e.indexOf("%")+1&&(e=e.substring(e.indexOf("%")+1,e.lastIndexOf("%"))),t.indexOf(e)!==-1):!1},r.fnSort=function(t){return t=t?r.toLowerCase(t):"ascending",t==="ascending"?this.fnAscending:this.fnDescending},r.fnAscending=function(t,e){return v(t)&&v(e)?0:e==null?-1:typeof t=="string"?t.localeCompare(e):t==null?1:t-e},r.fnDescending=function(t,e){return v(t)&&v(e)?0:e==null?1:typeof t=="string"?t.localeCompare(e)*-1:t==null?-1:e-t},r.extractFields=function(t,e){for(var i={},n=0;n<e.length;n++)i=this.setValue(e[n],this.getObject(e[n],t),i);return i},r.select=function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(this.extractFields(t[n],e));return i},r.group=function(t,e,i,n,s,a,o){n=n||1;var l=t,c="GroupGuid";if(l.GroupGuid===eU[c]){for(var u=function(E){if(v(s))l[E].items=d.group(l[E].items,e,i,l.level+1,null,a,o),l[E].count=l[E].items.length;else{var N=-1,B=s.filter(function(P){return P.key===l[E].key});N=s.indexOf(B[0]),l[E].items=d.group(l[E].items,e,i,l.level+1,s[N].items,a,o),l[E].count=s[N].count}},d=this,p=0;p<l.length;p++)u(p);return l.childLevels+=1,l}var m={},y=[];y.GroupGuid=eU[c],y.level=n,y.childLevels=0,y.records=l;for(var M=function(E){var N=w.getVal(l,E,e);if(v(a)||(N=a(N,e)),!m[N]&&(m[N]={key:N,count:0,items:[],aggregates:{},field:e},y.push(m[N]),!v(s))){var B=s.filter(function(P){return P.key===m[N].key});m[N].count=B[0].count}m[N].count=v(s)?m[N].count+=1:m[N].count,(!o||o&&i.length)&&m[N].items.push(l[E])},w=this,b=0;b<l.length;b++)M(b);if(i&&i.length)for(var D=function(E){for(var N={},B=void 0,P=i,C=0;C<i.length;C++)if(B=r.aggregates[i[C].type],v(s))B&&(N[P[C].field+" - "+P[C].type]=B(y[E].items,P[C].field));else{var k=s.filter(function(_){return _.key===y[E].key});B&&(N[P[C].field+" - "+P[C].type]=B(k[0].items,P[C].field))}y[E].aggregates=N},b=0;b<y.length;b++)D(b);if(o&&y.length&&i.length)for(var b=0;b<y.length;b++)y[b].items=[];return l.length&&y||l},r.buildHierarchy=function(t,e,i,n,s){var a,o={},l;for(n.result&&(n=n.result),n.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),a=0;a<n.length;a++){var c=this.getObject(t,n[a]);l=o[c]||(o[c]=[]),l.push(n[a])}for(a=0;a<i.length;a++){var c=this.getObject(s||t,i[a]);i[a][e]=o[c]}},r.getFieldList=function(t,e,i){if(i===void 0&&(i=""),e==null)return this.getFieldList(t,[],i);for(var n=t,s=Object.keys(t),a=0,o=s;a<o.length;a++){var l=o[a];typeof n[l]=="object"&&!(n[l]instanceof Array)?this.getFieldList(n[l],e,i+l+"."):e.push(i+l)}return e},r.getObject=function(t,e){if(!t)return e;if(e){if(t.indexOf(".")===-1)if(v(e[t])){var i=t.charAt(0).toLowerCase()+t.slice(1),n=t.charAt(0).toUpperCase()+t.slice(1);return v(e[i])?v(e[n])?null:e[n]:e[i]}else return e[t];for(var s=e,a=t.split("."),o=0;o<a.length&&s!=null;o++){if(s=s[a[o]],s===void 0){var l=a[o].charAt(0).toUpperCase()+a[o].slice(1);s=e[l]||e[l.charAt(0).toLowerCase()+l.slice(1)]||null}e=s}return s}},r.setValue=function(t,e,i){var n=t.toString().split("."),s=i||{},a=s,o,l=n.length,c;for(o=0;o<l;o++)c=n[o],o+1===l?a[c]=e===void 0?void 0:e:v(a[c])&&(a[c]={}),a=a[c];return s},r.sort=function(t,e,i){var n=this;return t.length<=1?t:t.slice().sort(function(s,a){return i(n.getVal([s],0,e),n.getVal([a],0,e),s,a)})},r.ignoreDiacritics=function(t){if(typeof t!="string")return t;var e=t.split(""),i=e.map(function(n){return n in r.diacritics?r.diacritics[n]:n});return i.join("")},r.ignoreDiacriticsForArrays=function(t){return Array.isArray(t)?t.map(function(e){return r.ignoreDiacritics(e)}):[]},r.merge=function(t,e,i,n){for(var s=[],a;t.length>0||e.length>0;)t.length>0&&e.length>0?n?a=n(this.getVal(t,0,i),this.getVal(e,0,i),t[0],e[0])<=0?t:e:a=t[0][i]<t[0][i]?t:e:a=t.length>0?t:e,s.push(a.shift());return s},r.getVal=function(t,e,i){return i?this.getObject(i,t[e]):t[e]},r.toLowerCase=function(t){return v(t)?"":typeof t=="string"?t.toLowerCase():t instanceof Date?t.toString().toLowerCase():t.toString()},r.callAdaptorFunction=function(t,e,i,n){if(e in t){var s=t[e](i,n);v(s)||(i=s)}return i},r.getAddParams=function(t,e,i){var n={};return r.callAdaptorFunction(t,"addParams",{dm:e,query:i,params:i?i.params:[],reqParams:n}),n},r.isPlainObject=function(t){return!!t&&t.constructor===Object},r.isCors=function(){var t=null,e="XMLHttpRequest";try{t=new window[e]}catch{}return!!t&&"withCredentials"in t},r.getGuid=function(t){var e="0123456789abcdef",i;return(t||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(n,s){if("crypto"in window&&"getRandomValues"in crypto){var a=new Uint8Array(1);window.crypto.getRandomValues(a),i=a[0]%16|0}return e[s===19?i&3|8:i]})},r.isNull=function(t){return t==null},r.getItemFromComparer=function(t,e,i){var n,s,a,o=0,l=typeof r.getVal(t,0,e)=="string";if(t.length)for(;v(n)&&o<t.length;)n=r.getVal(t,o,e),a=t[o++];for(;o<t.length;o++)s=r.getVal(t,o,e),!v(s)&&(l&&(n=+n,s=+s),i(n,s)>0&&(n=s,a=t[o]));return a},r.distinct=function(t,e,i){i=v(i)?!1:i;var n=[],s,a={};return t.forEach(function(o,l){s=typeof t[l]=="object"?r.getVal(t,l,e):t[l],s in a||(n.push(i?t[l]:s),a[s]=1)}),n},r.processData=function(t,e){var i=this.prepareQuery(t),n=new ut(e);t.requiresCounts&&i.requiresCount();var s=n.executeLocal(i),a={result:t.requiresCounts?s.result:s,count:s.count,aggregates:JSON.stringify(s.aggregates)};return t.requiresCounts?a:s},r.prepareQuery=function(t){var e=this,i=new di;if(t.select&&i.select(t.select),t.where){var n=r.parse.parseJson(t.where);n.filter(function(a){if(v(a.condition))i.where(a.field,a.operator,a.value,a.ignoreCase,a.ignoreAccent);else{var o=[];a.field?o.push(new Er(a.field,a.operator,a.value,a.ignoreCase,a.ignoreAccent)):o=o.concat(e.getPredicate(a.predicates)),a.condition==="or"?i.where(Er.or(o)):a.condition==="and"&&i.where(Er.and(o))}})}if(t.search){var s=r.parse.parseJson(t.search);s.filter(function(a){return i.search(a.key,a.fields,a.operator,a.ignoreCase,a.ignoreAccent)})}return t.aggregates&&t.aggregates.filter(function(a){return i.aggregate(a.type,a.field)}),t.sorted&&t.sorted.filter(function(a){return i.sortBy(a.name,a.direction)}),t.skip&&i.skip(t.skip),t.take&&i.take(t.take),t.group&&t.group.filter(function(a){return i.group(a)}),i},r.getPredicate=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(n.field)e.push(new Er(n.field,n.operator,n.value,n.ignoreCase,n.ignoreAccent));else{for(var s=[],a=this.getPredicate(n.predicates),o=0,l=Object.keys(a);o<l.length;o++){var c=l[o];s.push(a[c])}e.push(n.condition==="or"?Er.or(s):Er.and(s))}}return e},r.serverTimezoneOffset=null,r.timeZoneHandling=!0,r.throwError=function(t){try{throw new Error(t)}catch(e){throw e.message+`
`+e.stack}},r.aggregates={sum:function(t,e){for(var i=0,n,s=typeof r.getVal(t,0,e)!="number",a=0;a<t.length;a++)n=r.getVal(t,a,e),!isNaN(n)&&n!==null&&(s&&(n=+n),i+=n);return i},average:function(t,e){return r.aggregates.sum(t,e)/t.length},min:function(t,e){var i;return typeof e=="function"&&(i=e,e=null),r.getObject(e,r.getItemFromComparer(t,e,i||r.fnAscending))},max:function(t,e){var i;return typeof e=="function"&&(i=e,e=null),r.getObject(e,r.getItemFromComparer(t,e,i||r.fnDescending))},truecount:function(t,e){return new ut(t).executeLocal(new di().where(e,"equal",!0,!0)).length},falsecount:function(t,e){return new ut(t).executeLocal(new di().where(e,"equal",!1,!0)).length},count:function(t,e){return t.length}},r.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},r.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},r.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not substringof",wildcard:"wildcard",like:"like"},r.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not contains",wildcard:"wildcard",like:"like"},r.diacritics={"":"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A","":"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B",:"B",:"B",:"B",:"B","":"B",:"B",:"B","":"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C","":"C","":"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D","":"D",:"DZ",:"DZ",:"Dz",:"Dz","":"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"F",:"F",:"F",:"F","":"F","":"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G","":"G","":"G","":"G","":"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H","":"H","":"H","":"H","":"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"J",:"J",:"J","":"J","":"K",:"K",:"K",:"K",:"K",:"K",:"K",:"K","":"K","":"K","":"K","":"K","":"K","":"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L","":"L","":"L","":"L","":"L",:"LJ",:"Lj","":"M",:"M",:"M",:"M",:"M","":"M",:"M","":"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N","":"N","":"N",:"NJ",:"Nj","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"OI","":"OO",:"OU","":"P",:"P",:"P",:"P",:"P","":"P","":"P","":"P","":"P","":"Q",:"Q","":"Q","":"Q","":"Q","":"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"R","":"R","":"R","":"S",:"S","":"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S","":"S","":"S","":"S","":"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T","":"T","":"T","":"TZ","":"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"U","":"V",:"V",:"V",:"V",:"V","":"V","":"V","":"VY","":"W",:"W",:"W",:"W",:"W",:"W",:"W",:"W","":"W","":"X",:"X",:"X",:"X","":"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y","":"Y","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z","":"Z","":"Z","":"Z","":"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay","":"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b","":"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c","":"c","":"c","":"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d","":"d",:"dz",:"dz","":"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e",:"e","":"f",:"f",:"f",:"f","":"f","":"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g","":"g","":"g","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h","":"h","":"h",:"h",:"hv","":"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"j",:"j",:"j",:"j","":"j","":"k",:"k",:"k",:"k",:"k",:"k",:"k",:"k","":"k","":"k","":"k","":"k","":"k","":"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l","":"l","":"l","":"l","":"l",:"lj","":"m",:"m",:"m",:"m",:"m",:"m",:"m","":"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"nj","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o",:"o",:"oi",:"ou","":"oo","":"p",:"p",:"p",:"p",:"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q","":"q","":"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r","":"r","":"r","":"r","":"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"s","":"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t","":"t","":"t","":"tz","":"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"v",:"v",:"v",:"v",:"v","":"v",:"v","":"vy","":"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w","":"w","":"x",:"x",:"x",:"x","":"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y","":"y","":"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z","":"z","":"z","":"z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},r.fnOperators={equal:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?r.toLowerCase(t)===r.toLowerCase(e):t===e},notequal:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),!r.fnOperators.equal(t,e,i)},lessthan:function(t,e,i){return i?r.toLowerCase(t)<r.toLowerCase(e):(v(t)&&(t=void 0),t<e)},greaterthan:function(t,e,i){return i?r.toLowerCase(t)>r.toLowerCase(e):(v(t)&&(t=void 0),t>e)},lessthanorequal:function(t,e,i){return i?r.toLowerCase(t)<=r.toLowerCase(e):(v(t)&&(t=void 0),t<=e)},greaterthanorequal:function(t,e,i){return i?r.toLowerCase(t)>=r.toLowerCase(e):t>=e},contains:function(t,e,i,n){return e===""?!0:(n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?!v(t)&&!v(e)&&r.toLowerCase(t).indexOf(r.toLowerCase(e))!==-1:!v(t)&&!v(e)&&t.toString().indexOf(e)!==-1)},doesnotcontain:function(t,e,i,n){return e===""?!1:(n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?!v(t)&&!v(e)&&r.toLowerCase(t).indexOf(r.toLowerCase(e))===-1:!v(t)&&!v(e)&&t.toString().indexOf(e)===-1)},isnotnull:function(t){return t!=null},isnull:function(t){return t==null},startswith:function(t,e,i,n){return e===""?!0:(n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.startsWith(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.startsWith(t,e))},doesnotstartwith:function(t,e,i,n){return e===""?!1:(n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.notStartsWith(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.notStartsWith(t,e))},like:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.like(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.like(t,e)},isempty:function(t){return t===void 0||t===""},isnotempty:function(t){return t!==void 0&&t!==""},wildcard:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?(t||typeof t=="boolean")&&e&&typeof t!="object"&&r.wildCard(r.toLowerCase(t),r.toLowerCase(e)):(t||typeof t=="boolean")&&e&&r.wildCard(t,e)},endswith:function(t,e,i,n){return e===""?!0:(n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.endsWith(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.endsWith(t,e))},doesnotendwith:function(t,e,i,n){return e===""?!1:(n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacritics(e)),i?t&&e&&r.notEndsWith(r.toLowerCase(t),r.toLowerCase(e)):t&&e&&r.notEndsWith(t,e))},processSymbols:function(t){var e=r.operatorSymbols[t];if(e){var i=r.fnOperators[e];return i}return r.throwError("Query - Process Operator : Invalid operator")},processOperator:function(t){var e=r.fnOperators[t];return e||r.fnOperators.processSymbols(t)},in:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacriticsForArrays(e)),i?!v(t)&&e&&e.length>0&&e.map(function(s){return r.toLowerCase(s)}).indexOf(r.toLowerCase(t))>-1:t instanceof Date?!v(t)&&e&&e.length>0&&Array.isArray(e)&&e.some(function(s){return s instanceof Date&&s.getTime()===t.getTime()}):!v(t)&&e&&e.length>0&&e.indexOf(t)>-1},notin:function(t,e,i,n){return n&&(t=r.ignoreDiacritics(t),e=r.ignoreDiacriticsForArrays(e)),i?!v(t)&&e&&e.length>0&&e.map(function(s){return r.toLowerCase(s)}).indexOf(r.toLowerCase(t))===-1:t instanceof Date?!v(t)&&e&&e.length>0&&Array.isArray(e)&&e.every(function(s){return!(s instanceof Date)||s.getTime()!==t.getTime()}):!v(t)&&e&&e.length>0&&e.indexOf(t)===-1}},r.parse={parseJson:function(t){return typeof t=="string"&&(/^[\s]*\[|^[\s]*\{[^:]+:/.test(t)||t.indexOf('"')===-1)?t=JSON.parse(t,r.parse.jsonReviver):t instanceof Array?r.parse.iterateAndReviveArray(t):typeof t=="object"&&t!==null&&r.parse.iterateAndReviveJson(t),t},iterateAndReviveArray:function(t){for(var e=0;e<t.length;e++)typeof t[e]=="object"&&t[e]!==null?r.parse.iterateAndReviveJson(t[e]):typeof t[e]=="string"&&(!/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(t[e])||t[e].toString().indexOf('"')===-1)?t[e]=r.parse.jsonReviver("",t[e]):t[e]=r.parse.parseJson(t[e])},iterateAndReviveJson:function(t){for(var e,i=Object.keys(t),n=0,s=i;n<s.length;n++){var a=s[n];r.startsWith(a,"__")||(e=t[a],typeof e=="object"?e instanceof Array?r.parse.iterateAndReviveArray(e):e&&r.parse.iterateAndReviveJson(e):t[a]=r.parse.jsonReviver(t[a],e))}},jsonReviver:function(t,e){if(typeof e=="string"){var i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(e),n=r.timeZoneHandling?r.serverTimezoneOffset:null;if(i)return r.dateParse.toTimeZone(new Date(parseInt(i[1],10)),n,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(e)){var s=e.indexOf("Z")>-1||e.indexOf("z")>-1,a=e.split(/[^0-9.]/);if(s){if(a[5].indexOf(".")>-1){var o=a[5].split(".");a[5]=o[0],a[6]=new Date(e).getUTCMilliseconds().toString()}else a[6]="00";e=r.dateParse.toTimeZone(new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5]?a[5]:"00",10),parseInt(a[6],10)),r.serverTimezoneOffset,!1)}else{var l=new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5]?a[5]:"00",10)),c=parseInt(a[6],10),u=parseInt(a[7],10);if(isNaN(c)&&isNaN(u))return l;e.indexOf("+")>-1?l.setHours(l.getHours()-c,l.getMinutes()-u):l.setHours(l.getHours()+c,l.getMinutes()+u),e=r.dateParse.toTimeZone(l,r.serverTimezoneOffset,!1)}r.serverTimezoneOffset==null&&(e=r.dateParse.addSelfOffset(e))}}return e},isJson:function(t){return typeof t[0]=="string"?t:r.parse.parseJson(t)},isGuid:function(t){var e=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i,i=e.exec(t);return i!=null},replacer:function(t,e){return r.isPlainObject(t)?r.parse.jsonReplacer(t,e):t instanceof Array?r.parse.arrayReplacer(t):t instanceof Date?r.parse.jsonReplacer({val:t},e).val:t},jsonReplacer:function(t,e){for(var i,n=Object.keys(t),s=0,a=n;s<a.length;s++){var o=a[s];if(i=t[o],i instanceof Date){var l=i;r.serverTimezoneOffset==null?t[o]=r.dateParse.toTimeZone(l,null).toJSON():(l=new Date(+l+r.serverTimezoneOffset*36e5),t[o]=r.dateParse.toTimeZone(r.dateParse.addSelfOffset(l),null).toJSON())}}return t},arrayReplacer:function(t){for(var e=0;e<t.length;e++)r.isPlainObject(t[e])?t[e]=r.parse.jsonReplacer(t[e]):t[e]instanceof Date&&(t[e]=r.parse.jsonReplacer({date:t[e]}).date);return t},jsonDateReplacer:function(t,e){if(t==="value"&&e){if(typeof e=="string"){var i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(e);if(i)e=r.dateParse.toTimeZone(new Date(parseInt(i[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(e)){var n=e.split(/[^0-9]/);e=r.dateParse.toTimeZone(new Date(parseInt(n[0],10),parseInt(n[1],10)-1,parseInt(n[2],10),parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10)),null,!0)}}if(e instanceof Date)return e=r.dateParse.addSelfOffset(e),r.serverTimezoneOffset===null?r.dateParse.toTimeZone(r.dateParse.addSelfOffset(e),null).toJSON():(e=r.dateParse.toTimeZone(e,e.getTimezoneOffset()/60-r.serverTimezoneOffset,!1),e.toJSON())}return e}},r.dateParse={addSelfOffset:function(t){return new Date(+t-t.getTimezoneOffset()*6e4)},toUTC:function(t){return new Date(+t+t.getTimezoneOffset()*6e4)},toTimeZone:function(t,e,i){if(e===null)return t;var n=i?r.dateParse.toUTC(t):t;return new Date(+n-e*36e5)},toLocalTime:function(t){var e=t,i=-e.getTimezoneOffset(),n=i>=0?"+":"-",s=function(o){var l=Math.floor(Math.abs(o));return(l<10?"0":"")+l},a=e.getFullYear()+"-"+s(e.getMonth()+1)+"-"+s(e.getDate())+"T"+s(e.getHours())+":"+s(e.getMinutes())+":"+s(e.getSeconds())+n+s(i/60)+":"+s(i%60);return a}},r})(),yf=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),gxe={GroupGuid:"{271bbba0-1ee7}"},rK=(function(){function r(t){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=r,this.dataSource=t,this.pvt={}}return r.prototype.processResponse=function(t,e,i,n){return t},r})(),eS=(function(r){yf(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.processQuery=function(e,i){for(var n=e.dataSource.json.slice(0),s=n.length,a=!0,o,l,c={},u=0,d=[],p=[],m,y=0;y<i.lazyLoad.length;y++)u++,c[i.lazyLoad[y].key]=i.lazyLoad[y].value;var M={},w=!1;if(i.lazyLoad.length){for(var y=0;y<i.queries.length;y++)if(l=i.queries[y],l.fn==="onGroup"&&!v(l.e.format)){w=!0;break}}for(var y=0;y<i.queries.length;y++){if(l=i.queries[y],(l.fn==="onPage"||l.fn==="onGroup"||l.fn==="onSortBy"&&!w)&&i.lazyLoad.length){l.fn==="onGroup"&&d.push(l.e),l.fn==="onPage"&&(m=l.e),l.fn==="onSortBy"&&p.unshift(l.e);continue}o=this[l.fn].call(this,n,l.e,i),l.fn==="onAggregates"?M[l.e.field+" - "+l.e.type]=o:n=o!==void 0?o:n,(l.fn==="onPage"||l.fn==="onSkip"||l.fn==="onTake"||l.fn==="onRange")&&(a=!1),a&&(s=n.length)}if(u){var b={query:i,lazyLoad:c,result:n,group:d,page:m,sort:p},D=this.lazyLoadGroup(b);n=D.result,s=D.count}return i.isCountRequired&&(n={result:n,count:s,aggregates:M}),n},t.prototype.lazyLoadGroup=function(e){var i=0,n=this.getAggregate(e.query),s=e.result;if(v(e.lazyLoad.onDemandGroupInfo)){var u=e.group[0].fieldName;s=pt.group(s,u,n,null,null,e.group[0].comparer,!0),i=s.length;var c=s;if(e.sort.length){var d=e.sort.length>1?e.sort.filter(function(m){return m.fieldName===u})[0]:e.sort[0];s=this.onSortBy(s,d,e.query,!0)}e.page&&(s=this.onPage(s,e.page,e.query)),this.formGroupResult(s,c)}else{for(var a=e.lazyLoad.onDemandGroupInfo,o=a.where.length-1;o>=0;o--)s=this.onWhere(s,a.where[o]);if(e.group.length!==a.level){var l=e.group[a.level].fieldName;s=pt.group(s,l,n,null,null,e.group[a.level].comparer,!0),e.sort.length&&(s=this.onSortBy(s,e.sort[parseInt(a.level.toString(),10)],e.query,!0))}else for(var o=e.sort.length-1;o>=a.level;o--)s=this.onSortBy(s,e.sort[parseInt(o.toString(),10)],e.query,!1);i=s.length;var c=s;s=s.slice(a.skip),s=s.slice(0,a.take),e.group.length!==a.level&&this.formGroupResult(s,c)}return{result:s,count:i}},t.prototype.formGroupResult=function(e,i){if(e.length&&i.length){var n="GroupGuid",s="childLevels",a="level",o="records";e[n]=i[n],e[s]=i[s],e[a]=i[a],e[o]=i[o]}return e},t.prototype.getAggregate=function(e){var i=di.filterQueries(e.queries,"onAggregates"),n=[];if(i.length)for(var s=void 0,a=0;a<i.length;a++)s=i[a].e,n.push({type:s.type,field:pt.getValue(s.field,e)});return n},t.prototype.batchRequest=function(e,i,n){var s,a=i.deletedRecords.length;for(s=0;s<i.addedRecords.length;s++)this.insert(e,i.addedRecords[s]);for(s=0;s<i.changedRecords.length;s++)this.update(e,n.key,i.changedRecords[s]);for(s=0;s<a;s++)this.remove(e,n.key,i.deletedRecords[s]);return i},t.prototype.onWhere=function(e,i){return!e||!e.length?e:e.filter(function(n){if(i)return i.validate(n)})},t.prototype.onAggregates=function(e,i){var n=pt.aggregates[i.type];return!e||!n||e.length===0?null:n(e,i.field)},t.prototype.onSearch=function(e,i){return!e||!e.length?e:(i.fieldNames.length===0&&pt.getFieldList(e[0],i.fieldNames),e.filter(function(n){for(var s=0;s<i.fieldNames.length;s++)if(i.comparer.call(n,pt.getObject(i.fieldNames[s],n),i.searchKey,i.ignoreCase,i.ignoreAccent))return!0;return!1}))},t.prototype.onSortBy=function(e,i,n,s){if(!e||!e.length)return e;var a,o=pt.getValue(i.fieldName,n);if(!o)return e.sort(i.comparer);if(o instanceof Array){o=o.slice(0);for(var l=o.length-1;l>=0;l--)o[l]&&(a=i.comparer,pt.endsWith(o[l]," desc")&&(a=pt.fnSort("descending"),o[l]=o[l].replace(" desc","")),e=pt.sort(e,o[l],a));return e}return pt.sort(e,s?"key":o,i.comparer)},t.prototype.onGroup=function(e,i,n){if(!e||!e.length)return e;var s=this.getAggregate(n);return pt.group(e,pt.getValue(i.fieldName,n),s,null,null,i.comparer)},t.prototype.onPage=function(e,i,n){var s=pt.getValue(i.pageSize,n),a=(pt.getValue(i.pageIndex,n)-1)*s,o=a+s;return!e||!e.length?e:e.slice(a,o)},t.prototype.onRange=function(e,i){return!e||!e.length?e:e.slice(pt.getValue(i.start),pt.getValue(i.end))},t.prototype.onTake=function(e,i){return!e||!e.length?e:e.slice(0,pt.getValue(i.nos))},t.prototype.onSkip=function(e,i){return!e||!e.length?e:e.slice(pt.getValue(i.nos))},t.prototype.onSelect=function(e,i){return!e||!e.length?e:pt.select(e,pt.getValue(i.fieldNames))},t.prototype.insert=function(e,i,n,s,a){return v(a)?e.dataSource.json.push(i):e.dataSource.json.splice(a,0,i)},t.prototype.remove=function(e,i,n,s){var a=e.dataSource.json,o;for(typeof n=="object"&&!(n instanceof Date)&&(n=pt.getObject(i,n)),o=0;o<a.length&&pt.getObject(i,a[o])!==n;o++);return o!==a.length?a.splice(o,1):null},t.prototype.update=function(e,i,n,s){var a=e.dataSource.json,o,l;for(v(i)||(l=Pe(i,n)),o=0;o<a.length&&!(!v(i)&&Pe(i,a[o])===l);o++);return o<a.length?sd(a[o],n):null},t})(rK),uv=(function(r){yf(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.processQuery=function(e,i,n){var s=this.getQueryRequest(i),a=di.filterQueryLists(i.queries,["onSelect","onPage","onSkip","onTake","onRange"]),o=i.params,l=e.dataSource.url,c,u,d=null,p=this.options,m={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in a?(c=a.onPage,u=pt.getValue(c.pageIndex,i),d=pt.getValue(c.pageSize,i),u=(u-1)*d):"onRange"in a&&(c=a.onRange,u=c.start,d=c.end-c.start);for(var y=0;y<s.sorts.length;y++)c=pt.getValue(s.sorts[y].e.fieldName,i),m.sorts.push(pt.callAdaptorFunction(this,"onEachSort",{name:c,direction:s.sorts[y].e.direction},i));n&&(c=this.getFiltersFrom(n,i),c&&m.filters.push(pt.callAdaptorFunction(this,"onEachWhere",c.toJson(),i)));for(var y=0;y<s.filters.length;y++){var M=pt.callAdaptorFunction(this,"onEachWhere",s.filters[y].e.toJson(),i);this.getModuleName&&this.getModuleName()==="ODataV4Adaptor"&&!v(s.filters[y].e.key)&&s.filters.length>1&&(M="("+M+")"),m.filters.push(M);for(var w=typeof m.filters[y]=="object"?Object.keys(m.filters[y]):[],b=0,D=w;b<D.length;b++){var E=D[b];pt.isNull(m[E])&&delete m[E]}}for(var y=0;y<s.searches.length;y++)c=s.searches[y].e,m.searches.push(pt.callAdaptorFunction(this,"onEachSearch",{fields:c.fieldNames,operator:c.operator,key:c.searchKey,ignoreCase:c.ignoreCase,ignoreAccent:c.ignoreAccent},i));for(var y=0;y<s.groups.length;y++)m.groups.push(pt.getValue(s.groups[y].e.fieldName,i));for(var y=0;y<s.aggregates.length;y++)c=s.aggregates[y].e,m.aggregates.push({type:c.type,field:pt.getValue(c.field,i)});var N={};if(this.getRequestQuery(p,i,a,m,N),pt.callAdaptorFunction(this,"addParams",{dm:e,query:i,params:o,reqParams:N}),i.lazyLoad.length)for(var y=0;y<i.lazyLoad.length;y++)N[i.lazyLoad[y].key]=i.lazyLoad[y].value;for(var B=Object.keys(N),P=0,C=B;P<C.length;P++){var E=C[P];(pt.isNull(N[E])||N[E]===""||N[E].length===0)&&delete N[E]}!(p.skip in N&&p.take in N)&&d!==null&&(N[p.skip]=pt.callAdaptorFunction(this,"onSkip",u,i),N[p.take]=pt.callAdaptorFunction(this,"onTake",d,i));var k=this.pvt;return this.pvt={},this.options.requestType==="json"?{data:JSON.stringify(N,pt.parse.jsonDateReplacer),url:l,pvtData:k,type:"POST",contentType:"application/json; charset=utf-8"}:(c=this.convertToQueryString(N,i,e),c=(e.dataSource.url.indexOf("?")!==-1?"&":"/")+c,{type:"GET",url:c.length?l.replace(/\/*$/,c):l,pvtData:k})},t.prototype.getRequestQuery=function(e,i,n,s,a){var o="param",l=a;l[e.from]=i.fromTable,e.apply&&i.distincts.length&&(l[e.apply]="onDistinct"in this?pt.callAdaptorFunction(this,"onDistinct",i.distincts):""),!i.distincts.length&&e.expand&&(l[e.expand]="onExpand"in this&&"onSelect"in n?pt.callAdaptorFunction(this,"onExpand",{selects:pt.getValue(n.onSelect.fieldNames,i),expands:i.expands},i):i.expands),l[e.select]="onSelect"in n&&!i.distincts.length?pt.callAdaptorFunction(this,"onSelect",pt.getValue(n.onSelect.fieldNames,i),i):"",l[e.count]=i.isCountRequired?pt.callAdaptorFunction(this,"onCount",i.isCountRequired,i):"",l[e.search]=s.searches.length?pt.callAdaptorFunction(this,"onSearch",s.searches,i):"",l[e.skip]="onSkip"in n?pt.callAdaptorFunction(this,"onSkip",pt.getValue(n.onSkip.nos,i),i):"",l[e.take]="onTake"in n?pt.callAdaptorFunction(this,"onTake",pt.getValue(n.onTake.nos,i),i):"",l[e.where]=s.filters.length||s.searches.length?pt.callAdaptorFunction(this,"onWhere",s.filters,i):"",l[e.sortBy]=s.sorts.length?pt.callAdaptorFunction(this,"onSortBy",s.sorts,i):"",l[e.group]=s.groups.length?pt.callAdaptorFunction(this,"onGroup",s.groups,i):"",l[e.aggregates]=s.aggregates.length?pt.callAdaptorFunction(this,"onAggregates",s.aggregates,i):"",l[o]=[]},t.prototype.convertToQueryString=function(e,i,n){return""},t.prototype.processResponse=function(e,i,n,s,a,o){if(s&&s.headers.get("Content-Type")&&s.headers.get("Content-Type").indexOf("application/json")!==-1){var l=pt.timeZoneHandling;i&&!i.timeZoneHandling&&(pt.timeZoneHandling=!1),i.enableCache||(e=pt.parse.parseJson(e)),pt.timeZoneHandling=l}var c=a,u=c.pvtData||{},d=e?e.groupDs:[];if(s&&s.headers.get("Content-Type")&&s.headers.get("Content-Type").indexOf("xml")!==-1)return n.isCountRequired?{result:[],count:0}:[];var p=JSON.parse(c.data);if(p&&p.action==="batch"&&e&&e.addedRecords&&!v(o))return o.addedRecords=e.addedRecords,o;e&&e.d&&(e=e.d);var m={};e&&"count"in e&&(m.count=e.count),m.result=e&&e.result?e.result:e;var y=!1;if(Array.isArray(e.result)&&e.result.length){var M="key",w="value",b="level";if(v(e.result[0][M])||(m.result=this.formRemoteGroupedData(m.result,1,u.groups.length-1)),n&&n.lazyLoad.length&&u.groups.length){for(var D=0;D<n.lazyLoad.length;D++)if(n.lazyLoad[D][M]==="onDemandGroupInfo"){var E=n.lazyLoad[D][w][b];u.groups.length===E&&(y=!0)}}}return y||this.getAggregateResult(u,e,m,d,n),pt.isNull(m.count)?m.result:{result:m.result,count:m.count,aggregates:m.aggregates}},t.prototype.formRemoteGroupedData=function(e,i,n){for(var s=0;s<e.length;s++)e[s].items.length&&Object.keys(e[s].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(e[s].items,i+1,n-1);var a="GroupGuid",o="childLevels",l="level",c="records";return e[a]=gxe[a],e[l]=i,e[o]=n,e[c]=e[0].items.length?this.getGroupedRecords(e,!v(e[0].items[c])):[],e},t.prototype.getGroupedRecords=function(e,i){for(var n=[],s="records",a=0;a<e.length;a++)if(i)n=n.concat(e[a].items[s]);else for(var o=0;o<e[a].items.length;o++)n.push(e[a].items[o]);return n},t.prototype.onGroup=function(e){return this.pvt.groups=e,e},t.prototype.onAggregates=function(e){this.pvt.aggregates=e},t.prototype.batchRequest=function(e,i,n,s,a){var o,l;return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(qe({},{changed:i.changedRecords,added:i.addedRecords,deleted:i.deletedRecords,action:"batch",table:n[o],key:n[l]},pt.getAddParams(this,e,s)))}},t.prototype.beforeSend=function(e,i,n){},t.prototype.insert=function(e,i,n,s){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(qe({},{value:i,table:n,action:"insert"},pt.getAddParams(this,e,s)))}},t.prototype.remove=function(e,i,n,s,a){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(qe({},{key:n,keyColumn:i,table:s,action:"remove"},pt.getAddParams(this,e,a)))}},t.prototype.update=function(e,i,n,s,a){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(qe({},{value:n,action:"update",keyColumn:i,key:pt.getObject(i,n),table:s},pt.getAddParams(this,e,a)))}},t.prototype.getFiltersFrom=function(e,i){var n=i.fKey,s,a=n,o=i.key,l=[];typeof e[0]!="object"&&(a=null);for(var c=0;c<e.length;c++)typeof e[0]=="object"?s=pt.getObject(o||a,e[c]):s=e[c],l.push(new Er(n,"equal",s));return Er.or(l)},t.prototype.getAggregateResult=function(e,i,n,s,a){var o=i;if(i&&i.result&&(o=i.result),e&&e.aggregates&&e.aggregates.length){var l=e.aggregates,c=void 0,u=o,d={};i.aggregate&&(u=i.aggregate);for(var p=0;p<l.length;p++)c=pt.aggregates[l[p].type],c&&(d[l[p].field+" - "+l[p].type]=c(u,l[p].field));n.aggregates=d}var m="key",y=Array.isArray(i.result)&&i.result.length&&!v(i.result[0][m]);if(e&&e.groups&&e.groups.length&&!y){for(var M=e.groups,p=0;p<M.length;p++){var w=null;v(s)||(s=pt.group(s,M[p]));var b=di.filterQueries(a.queries,"onGroup")[p].e;o=pt.group(o,M[p],e.aggregates,w,s,b.comparer)}n.result=o}return n},t.prototype.getQueryRequest=function(e){var i={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return i.sorts=di.filterQueries(e.queries,"onSortBy"),i.groups=di.filterQueries(e.queries,"onGroup"),i.filters=di.filterQueries(e.queries,"onWhere"),i.searches=di.filterQueries(e.queries,"onSearch"),i.aggregates=di.filterQueries(e.queries,"onAggregates"),i},t.prototype.addParams=function(e){var i=e.reqParams;e.params.length&&(i.params={});for(var n=0,s=e.params;n<s.length;n++){var a=s[n];if(i[a.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");i[a.key]=a.value,a.fn&&(i[a.key]=a.fn.call(e.query,a.key,e.query,e.dm)),i.params[a.key]=i[a.key]}},t})(rK),u1=(function(r){yf(t,r);function t(e){var i=r.call(this)||this;return i.options=qe({},i.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:`Content-Type: application/http
Content-Transfer-Encoding: binary `,batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),qe(i.options,e||{}),i}return t.prototype.getModuleName=function(){return"ODataAdaptor"},t.prototype.onPredicate=function(e,i,n){var s="",a,o,l=e.value,c=typeof l,u=e.field?t.getField(e.field):null;if(l instanceof Date&&(l="datetime'"+pt.parse.replacer(l)+"'"),c==="string"&&(l=l.replace(/'/g,"''"),e.ignoreCase&&(l=l.toLowerCase()),e.operator!=="like"&&(l=encodeURIComponent(l)),e.operator!=="wildcard"&&e.operator!=="like"&&(l="'"+l+"'"),n&&(u="cast("+u+", 'Edm.String')"),pt.parse.isGuid(l)&&(o="guid"),e.ignoreCase&&(o||(u="tolower("+u+")"),l=l.toLowerCase())),e.operator==="isempty"||e.operator==="isnull"||e.operator==="isnotempty"||e.operator==="isnotnull"?(a=e.operator.indexOf("isnot")!==-1?pt.odBiOperator.notequal:pt.odBiOperator.equal,l=e.operator==="isnull"||e.operator==="isnotnull"?null:"''"):a=pt.odBiOperator[e.operator],a)return s+=u,s+=a,o&&(s+=o),s+l;if(!v(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?a=pt.odv4UniOperator[e.operator]:a=pt.odUniOperator[e.operator],a==="like")l=l,l.indexOf("%")!==-1&&(l.charAt(0)==="%"&&l.lastIndexOf("%")<2?(l=l.substring(1,l.length),a=!v(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?pt.odv4UniOperator.startswith:pt.odUniOperator.startswith):l.charAt(l.length-1)==="%"&&l.indexOf("%")>l.length-3?(l=l.substring(0,l.length-1),a=!v(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?pt.odv4UniOperator.endswith:pt.odUniOperator.endswith):l.lastIndexOf("%")!==l.indexOf("%")&&l.lastIndexOf("%")>l.indexOf("%")+1?(l=l.substring(l.indexOf("%")+1,l.lastIndexOf("%")),a=!v(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?pt.odv4UniOperator.contains:pt.odUniOperator.contains):a=!v(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?pt.odv4UniOperator.contains:pt.odUniOperator.contains),l=encodeURIComponent(l),l="'"+l+"'";else if(a==="wildcard")if(l=l,l.indexOf("*")!==-1){var d=l.split("*"),p=void 0,m=0;if(l.indexOf("*")!==0&&d[0].indexOf("%3f")===-1&&d[0].indexOf("?")===-1&&(p=d[0],p="'"+p+"'",a=!v(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?pt.odv4UniOperator.startswith:pt.odUniOperator.startswith,s+=a+"(",s+=u+",",o&&(s+=o),s+=p+")",m++),l.lastIndexOf("*")!==l.length-1&&d[d.length-1].indexOf("%3f")===-1&&d[d.length-1].indexOf("?")===-1&&(p=d[d.length-1],p="'"+p+"'",a=!v(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?pt.odv4UniOperator.endswith:pt.odUniOperator.endswith,m>0&&(s+=" and "),s+=a+"(",s+=u+",",o&&(s+=o),s+=p+")",m++),d.length>2){for(var y=1;y<d.length-1;y++)if(d[y].indexOf("%3f")===-1&&d[y].indexOf("?")===-1){if(p=d[y],p="'"+p+"'",a=!v(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?pt.odv4UniOperator.contains:pt.odUniOperator.contains,m>0&&(s+=" and "),a==="substringof"||a==="not substringof"){var M=p;p=u,u=M}s+=a+"(",s+=u+",",o&&(s+=o),s+=p+")",m++}}m===0?(a=!v(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?pt.odv4UniOperator.contains:pt.odUniOperator.contains,(l.indexOf("?")!==-1||l.indexOf("%3f")!==-1)&&(l=l.indexOf("?")!==-1?l.split("?").join(""):l.split("%3f").join("")),l="'"+l+"'"):a="wildcard"}else a=!v(this.getModuleName)&&this.getModuleName()==="ODataV4Adaptor"?pt.odv4UniOperator.contains:pt.odUniOperator.contains,(l.indexOf("?")!==-1||l.indexOf("%3f")!==-1)&&(l=l.indexOf("?")!==-1?l.split("?").join(""):l.split("%3f").join("")),l="'"+l+"'";if(a==="substringof"||a==="not substringof"){var M=l;l=u,u=M}return a!=="wildcard"&&(s+=a+"(",s+=u+",",o&&(s+=o),s+=l+")"),s},t.prototype.addParams=function(e){r.prototype.addParams.call(this,e),delete e.reqParams.params},t.prototype.onComplexPredicate=function(e,i,n){for(var s=[],a=0;a<e.predicates.length;a++)s.push("("+this.onEachWhere(e.predicates[a],i,n)+")");return s.join(" "+e.condition+" ")},t.prototype.onEachWhere=function(e,i,n){return e.isComplex?this.onComplexPredicate(e,i,n):this.onPredicate(e,i,n)},t.prototype.onWhere=function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")},t.prototype.onEachSearch=function(e){e.fields&&e.fields.length===0&&pt.throwError("Query() - Search : oData search requires list of field names to search");for(var i=this.pvt.search||[],n=0;n<e.fields.length;n++)i.push(new Er(e.fields[n],e.operator,e.key,e.ignoreCase));this.pvt.search=i},t.prototype.onSearch=function(e){return this.pvt.search=Er.or(this.pvt.search),""},t.prototype.onEachSort=function(e){var i=[];if(e.name instanceof Array)for(var n=0;n<e.name.length;n++)i.push(t.getField(e.name[n])+(e.direction==="descending"?" desc":""));else i.push(t.getField(e.name)+(e.direction==="descending"?" desc":""));return i.join(",")},t.prototype.onSortBy=function(e){return e.reverse().join(",")},t.prototype.onGroup=function(e){return this.pvt.groups=e,[]},t.prototype.onSelect=function(e){for(var i=0;i<e.length;i++)e[i]=t.getField(e[i]);return e.join(",")},t.prototype.onAggregates=function(e){return this.pvt.aggregates=e,""},t.prototype.onCount=function(e){return e===!0?"allpages":""},t.prototype.beforeSend=function(e,i,n){pt.endsWith(n.url,this.options.batch)&&n.type.toLowerCase()==="post"?(i.headers.set("Accept",this.options.multipartAccept),i.headers.set("DataServiceVersion","2.0")):i.headers.set("Accept",this.options.accept),i.headers.set("DataServiceVersion","2.0"),i.headers.set("MaxDataServiceVersion","2.0")},t.prototype.processResponse=function(e,i,n,s,a,o){var l="odata.metadata";if(a&&a.type==="GET"&&!this.rootUrl&&e[l]){var c=e[l].split("/$metadata#");this.rootUrl=c[0],this.resourceTableName=c[1]}var u="pvtData";if(!v(e.d)){var d=n&&n.isCountRequired?e.d.results:e.d,p="__metadata";if(!v(d))for(var m=0;m<d.length;m++)v(d[m][p])||delete d[m][p]}var y=a&&a[u],M=this.processBatchResponse(e,n,s,a,o);if(M)return M;var w=s&&a.fetchRequest.headers.get("DataServiceVersion"),b=null,D=w&&parseInt(w,10)||2;if(n&&n.isCountRequired){var E="__count";(e[E]||e["odata.count"])&&(b=e[E]||e["odata.count"]),e.d&&(e=e.d),(e[E]||e["odata.count"])&&(b=e[E]||e["odata.count"])}D===3&&e.value&&(e=e.value),e.d&&(e=e.d),D<3&&e.results&&(e=e.results);var N={};return N.count=b,N.result=e,this.getAggregateResult(y,e,N,null,n),pt.isNull(b)?N.result:{result:N.result,count:N.count,aggregates:N.aggregates}},t.prototype.convertToQueryString=function(e,i,n){var s=[],a="table",o=e[a]||"",l="$format";delete e[a],n.dataSource.requiresFormat&&(e[l]="json");for(var c=Object.keys(e),u=0,d=c;u<d.length;u++){var p=d[u];s.push(p+"="+e[p])}return s=s.join("&"),n.dataSource.url&&n.dataSource.url.indexOf("?")!==-1&&!o?s:s.length?o+"?"+s:o||""},t.prototype.localTimeReplacer=function(e,i){for(var n=0,s=v(i)?[]:Object.keys(i);n<s.length;n++){var a=s[n];i[a]instanceof Date&&(i[a]=pt.dateParse.toLocalTime(i[a]))}return i},t.prototype.insert=function(e,i,n){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:""),data:JSON.stringify(i,this.options.localTime?this.localTimeReplacer:null)}},t.prototype.remove=function(e,i,n,s){var a;return typeof n=="string"&&!pt.parse.isGuid(n)?a="('"+n+"')":a="("+n+")",{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,s?"/"+s:"")+a}},t.prototype.update=function(e,i,n,s,a,o){this.options.updateType==="PATCH"&&!v(o)&&(n=this.compareAndRemove(n,o,i));var l;return typeof n[i]=="string"&&!pt.parse.isGuid(n[i])?l="('"+n[i]+"')":l="("+n[i]+")",{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,s?"/"+s:"")+l,data:JSON.stringify(n,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},t.prototype.batchRequest=function(e,i,n,s,a){var o=n.guid=pt.getGuid(this.options.batchPre),l=e.dataSource.batchUrl||this.rootUrl?(e.dataSource.batchUrl||this.rootUrl)+"/"+this.options.batch:(e.dataSource.batchUrl||e.dataSource.url).replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;var c={url:n.url,key:n.key,cid:1,cSet:pt.getGuid(this.options.changeSet)},u="--"+o+`
`;return u+="Content-Type: multipart/mixed; boundary="+c.cSet.replace("--","")+`
`,this.pvt.changeSet=0,u+=this.generateInsertRequest(i.addedRecords,c,e),u+=this.generateUpdateRequest(i.changedRecords,c,e,a?a.changedRecords:[]),u+=this.generateDeleteRequest(i.deletedRecords,c,e),u+=c.cSet+`--
`,u+="--"+o+"--",{type:"POST",url:l,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+o,data:u}},t.prototype.generateDeleteRequest=function(e,i,n){if(!e)return"";var s="",a={method:"DELETE ",url:function(o,l,c){var u=pt.getObject(c,o[l]);if(typeof u=="number"||pt.parse.isGuid(u))return"("+u+")";if(u instanceof Date){var d=o[l][c];return"("+d.toJSON()+")"}else return"('"+u+"')"},data:function(o,l){return""}};return s=this.generateBodyContent(e,i,a,n),s+`
`},t.prototype.generateInsertRequest=function(e,i,n){if(!e)return"";var s="",a={method:"POST ",url:function(o,l,c){return""},data:function(o,l){return JSON.stringify(o[l])+`

`}};return s=this.generateBodyContent(e,i,a,n),s},t.prototype.generateUpdateRequest=function(e,i,n,s){var a=this;if(!e)return"";var o="";e.forEach(function(c){return c=a.compareAndRemove(c,s.filter(function(u){return pt.getObject(i.key,u)===pt.getObject(i.key,c)})[0],i.key)});var l={method:this.options.updateType+" ",url:function(c,u,d){if(typeof c[u][d]=="number"||pt.parse.isGuid(c[u][d]))return"("+c[u][d]+")";if(c[u][d]instanceof Date){var p=c[u][d];return"("+p.toJSON()+")"}else return"('"+c[u][d]+"')"},data:function(c,u){return JSON.stringify(c[u])+`

`}};return o=this.generateBodyContent(e,i,l,n),o},t.getField=function(e){return e.replace(/\./g,"/")},t.prototype.generateBodyContent=function(e,i,n,s){for(var a="",o=0;o<e.length;o++)a+=`
`+i.cSet+`
`,a+=this.options.changeSetContent+`

`,a+=n.method,n.method==="POST "?a+=(s.dataSource.insertUrl||s.dataSource.crudUrl||i.url)+n.url(e,o,i.key)+` HTTP/1.1
`:n.method==="PUT "||n.method==="PATCH "?a+=(s.dataSource.updateUrl||s.dataSource.crudUrl||i.url)+n.url(e,o,i.key)+` HTTP/1.1
`:n.method==="DELETE "&&(a+=(s.dataSource.removeUrl||s.dataSource.crudUrl||i.url)+n.url(e,o,i.key)+` HTTP/1.1
`),a+="Accept: "+this.options.accept+`
`,a+="Content-Id: "+this.pvt.changeSet+++`
`,a+=this.options.batchChangeSetContentType+`
`,v(e[o]["@odata.etag"])?a+=`
`:(a+="If-Match: "+e[o]["@odata.etag"]+`

`,delete e[o]["@odata.etag"]),a+=n.data(e,o);return a},t.prototype.processBatchResponse=function(e,i,n,s,a){if(n&&n.headers.get("Content-Type")&&n.headers.get("Content-Type").indexOf("xml")!==-1)return i.isCountRequired?{result:[],count:0}:[];if(s&&this.options.batch&&pt.endsWith(s.url,this.options.batch)&&s.type.toLowerCase()==="post"){var o=n.headers.get("Content-Type"),l=void 0,c=void 0,u=e+"";if(o=o.substring(o.indexOf("=batchresponse")+1),u=u.split(o),u.length<2)return{};u=u[1];var d=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(u);d&&u.replace(d[0],"");var p=d?d[1]:"";u=u.split(p);for(var m=u.length;m>-1;m--)!/\bContent-ID:/i.test(u[m])||!/\bHTTP.+201/.test(u[m])||(l=parseInt(/\bContent-ID: (\d+)/i.exec(u[m])[1],10),a.addedRecords[l]&&(c=pt.parse.parseJson(/^\{.+\}/m.exec(u[m])[0]),qe({},a.addedRecords[l],this.processResponse(c))));return a}return null},t.prototype.compareAndRemove=function(e,i,n){var s=this;return v(i)||Object.keys(e).forEach(function(a){if(a!==n&&a!=="@odata.etag")if(pt.isPlainObject(e[a])){s.compareAndRemove(e[a],i[a]);var o=Object.keys(e[a]).filter(function(l){return l!=="@odata.etag"});o.length===0&&delete e[a]}else(e[a]===i[a]||e[a]&&i[a]&&e[a].valueOf()===i[a].valueOf())&&delete e[a]}),e},t})(uv);(function(r){yf(t,r);function t(e){var i=r.call(this,e)||this;return i.options=qe({},i.options,{requestType:"get",accept:"application/json, text/javascript, */*; q=0.01",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:`Content-Type: application/http
Content-Transfer-Encoding: binary `,batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PATCH",localTime:!1,apply:"$apply"}),qe(i.options,e||{}),i}return t.prototype.getModuleName=function(){return"ODataV4Adaptor"},t.prototype.onCount=function(e){return e===!0?"true":""},t.prototype.onPredicate=function(e,i,n){var s="",a=e.value,o=a instanceof Date;if(i instanceof di)for(var l=this.getQueryRequest(i),c=0;c<l.filters.length;c++)l.filters[c].e.key===e.value&&(n=!0);return s=r.prototype.onPredicate.call(this,e,i,n),o&&(s=s.replace(/datetime'(.*)'$/,"$1")),pt.parse.isGuid(a)&&(s=s.replace("guid","").replace(/'/g,"")),s},t.prototype.onEachSearch=function(e){var i=this.pvt.searches||[];i.push(e.key),this.pvt.searches=i},t.prototype.onSearch=function(e){return this.pvt.searches.join(" OR ")},t.prototype.onExpand=function(e){var i=this,n={},s={},a=e.expands.slice(),o=[],l=e.selects.filter(function(c){return c.indexOf(".")>-1});return l.forEach(function(c){var u=c.split(".");if(u[0]in n||(n[u[0]]=[]),u.length===2)n[u[0]].length&&Object.keys(n).indexOf(u[0])!==-1?n[u[0]][0].indexOf("$expand")!==-1&&n[u[0]][0].indexOf(";$select=")===-1?n[u[0]][0]=n[u[0]][0]+";$select="+u[1]:n[u[0]][0]=n[u[0]][0]+","+u[1]:n[u[0]].push("$select="+u[1]);else{for(var d="$select="+u[u.length-1],p="",m="",y=1;y<u.length-1;y++)p=p+"$expand="+u[y]+"(",m=m+")";var M=p+d+m;if(n[u[0]].length&&Object.keys(n).indexOf(u[0])!==-1&&i.expandQueryIndex(n[u[0]],!0)){var w=i.expandQueryIndex(n[u[0]]);n[u[0]][w]=n[u[0]][w]+M.replace("$expand=",",")}else n[u[0]].push(M)}}),Object.keys(n).forEach(function(c){a.indexOf(c)===-1&&a.push(c)}),a.forEach(function(c){s[c]=c in n?c+"("+n[c].join(";")+")":c}),Object.keys(s).forEach(function(c){return o.push(s[c])}),o.join(",")},t.prototype.expandQueryIndex=function(e,i){for(var n=0;n<e.length;n++)if(e[n].indexOf("$expand")!==-1)return i?!0:n;return i?!1:0},t.prototype.onDistinct=function(e){var i=e.map(function(n){return u1.getField(n)}).join(",");return"groupby(("+i+"))"},t.prototype.onSelect=function(e){return r.prototype.onSelect.call(this,e.filter(function(i){return i.indexOf(".")===-1}))},t.prototype.beforeSend=function(e,i,n){(n.type==="POST"||n.type==="PUT"||n.type==="PATCH")&&i.headers.set("Prefer","return=representation"),i.headers.set("Accept",this.options.accept)},t.prototype.processResponse=function(e,i,n,s,a,o){var l="@odata.context",c="@context";if(a&&a.type==="GET"&&!this.rootUrl&&(e[l]||e[c])){var u=e[l]?e[l].split("/$metadata#"):e[c].split("/$metadata#");this.rootUrl=u[0],this.resourceTableName=u[1]}var d="pvtData",p=a&&a[d],m=r.prototype.processBatchResponse.call(this,e,n,s,a,o);if(m)return m;var y=null,M="@odata.count",w="@count";n&&n.isCountRequired&&(M in e?y=e[M]:w in e&&(y=e[w])),e=v(e.value)?e:e.value;var b={};return b.count=y,b.result=e,this.getAggregateResult(p,e,b,null,n),pt.isNull(y)?b.result:{result:b.result,count:y,aggregates:b.aggregates}},t})(u1);(function(r){yf(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getModuleName=function(){return"WebApiAdaptor"},t.prototype.insert=function(e,i,n){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(i)}},t.prototype.remove=function(e,i,n,s){return{type:"DELETE",url:e.dataSource.url+"/"+n,data:JSON.stringify(n)}},t.prototype.update=function(e,i,n,s){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(n)}},t.prototype.batchRequest=function(e,i,n){var s=this,a=n.guid=pt.getGuid(this.options.batchPre),o=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);n.url=this.resourceTableName?this.resourceTableName:n.url;for(var l=[],c=function(y,M){i.addedRecords.forEach(function(w,b){var D={method:"POST ",url:function(E,N,B){return""},data:function(E,N){return JSON.stringify(E[N])+`

`}};l.push("--"+a),l.push("Content-Type: application/http; msgtype=request",""),l.push("POST /api/"+(e.dataSource.insertUrl||e.dataSource.crudUrl||n.url)+D.url(i.addedRecords,y,n.key)+" HTTP/1.1"),l.push("Content-Type: application/json; charset=utf-8"),l.push("Host: "+location.host),l.push("",w?JSON.stringify(w):"")})},u=0,d=i.addedRecords.length;u<d;u++)c(u);for(var p=function(y,M){i.changedRecords.forEach(function(w,b){var D={method:s.options.updateType+" ",url:function(E,N,B){return""},data:function(E,N){return JSON.stringify(E[N])+`

`}};l.push("--"+a),l.push("Content-Type: application/http; msgtype=request",""),l.push("PUT /api/"+(e.dataSource.updateUrl||e.dataSource.crudUrl||n.url)+D.url(i.changedRecords,y,n.key)+" HTTP/1.1"),l.push("Content-Type: application/json; charset=utf-8"),l.push("Host: "+location.host),l.push("",w?JSON.stringify(w):"")})},u=0,d=i.changedRecords.length;u<d;u++)p(u);for(var m=function(y,M){i.deletedRecords.forEach(function(w,b){var D={mtd:"DELETE ",url:function(E,N,B){var P=pt.getObject(B,E[N]);if(typeof P=="number"||pt.parse.isGuid(P))return"/"+P;if(P instanceof Date){var C=E[N][B];return"/"+C.toJSON()}else return"/'"+P+"'"},data:function(E,N){return""}};l.push("--"+a),l.push("Content-Type: application/http; msgtype=request",""),l.push("DELETE /api/"+(e.dataSource.removeUrl||e.dataSource.crudUrl||n.url)+D.url(i.deletedRecords,y,n.key)+" HTTP/1.1"),l.push("Content-Type: application/json; charset=utf-8"),l.push("Host: "+location.host),l.push("",w?JSON.stringify(w):"")})},u=0,d=i.deletedRecords.length;u<d;u++)m(u);return l.push("--"+a+"--",""),{type:"POST",url:o,contentType:"multipart/mixed; boundary="+a,data:l.join(`\r
`)}},t.prototype.beforeSend=function(e,i,n){i.headers.set("Accept","application/json, text/javascript, */*; q=0.01")},t.prototype.processResponse=function(e,i,n,s,a,o){var l="pvtData",c=a&&a[l],u=null,d={};if(a&&a.type.toLowerCase()!=="post"){var p=s&&a.fetchRequest.headers.get("DataServiceVersion"),m=p&&parseInt(p,10)||2;n&&n.isCountRequired&&(pt.isNull(e.Count)||(u=e.Count)),m<3&&e.Items&&(e=e.Items),d.count=u,d.result=e,this.getAggregateResult(c,e,d,null,n)}return d.result=d.result||e,pt.isNull(u)?d.result:{result:d.result,count:d.count,aggregates:d.aggregates}},t})(u1);(function(r){yf(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.processQuery=function(e,i,n){var s=new uv().processQuery(e,i,n),a="data",o=pt.parse.parseJson(s[a]),l={},c="value";if(o.param)for(var u=0;u<o.param.length;u++){var d=o.param[u],p=Object.keys(d)[0];l[p]=d[p]}l[c]=o;var m="pvtData",y="url";return{data:JSON.stringify(l,pt.parse.jsonDateReplacer),url:s[y],pvtData:s[m],type:"POST",contentType:"application/json; charset=utf-8"}},t})(uv);var vxe=(function(r){yf(t,r);function t(){return r.call(this)||this}return t.prototype.insert=function(e,i,n,s,a){return this.pvt.position=a,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(qe({},{value:i,table:n,action:"insert"},pt.getAddParams(this,e,s)))}},t.prototype.remove=function(e,i,n,s,a){return r.prototype.remove.call(this,e,i,n),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(qe({},{key:n,keyColumn:i,table:s,action:"remove"},pt.getAddParams(this,e,a)))}},t.prototype.update=function(e,i,n,s,a){return this.updateType="update",this.updateKey=i,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(qe({},{value:n,action:"update",keyColumn:i,key:n[i],table:s},pt.getAddParams(this,e,a)))}},t.prototype.processResponse=function(e,i,n,s,a,o,l){var c,u=a?JSON.parse(a.data):e;if(e=u.action==="batch"?pt.parse.parseJson(e):e,this.updateType==="add"&&r.prototype.insert.call(this,i,e,null,null,this.pvt.position),this.updateType==="update"&&r.prototype.update.call(this,i,this.updateKey,e),this.updateType=void 0,e.added)for(c=0;c<e.added.length;c++)r.prototype.insert.call(this,i,e.added[c]);if(e.changed)for(c=0;c<e.changed.length;c++)r.prototype.update.call(this,i,l.key,e.changed[c]);if(e.deleted)for(c=0;c<e.deleted.length;c++)r.prototype.remove.call(this,i,l.key,e.deleted[c]);return e},t.prototype.batchRequest=function(e,i,n,s,a){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(qe({},{changed:i.changedRecords,added:i.addedRecords,deleted:i.deletedRecords,action:"batch",table:n.url,key:n.key},pt.getAddParams(this,e,s)))}},t.prototype.addParams=function(e){var i=new uv;i.addParams(e)},t.prototype.beforeSend=function(e,i,n){},t})(eS),yxe=(function(r){yf(t,r);function t(e){var i=r.call(this)||this;return i.options=qe({},i.options,{getData:function(){},addRecord:function(){},updateRecord:function(){},deleteRecord:function(){},batchUpdate:function(){}}),qe(i.options,e||{}),i}return t.prototype.getModuleName=function(){return"CustomDataAdaptor"},t})(uv);(function(r){yf(t,r);function t(e){var i=r.call(this)||this;return i.opt=e,i.schema=i.opt.response,i.query=i.opt.query,i.getVariables=i.opt.getVariables?i.opt.getVariables:function(){},i.getQuery=function(){return i.query},i}return t.prototype.getModuleName=function(){return"GraphQLAdaptor"},t.prototype.processQuery=function(e,i){var n=r.prototype.processQuery.apply(this,arguments),s=JSON.parse(n.data),a=["skip","take","sorted","table","select","where","search","requiresCounts","aggregates","params"],o={},l="searchwhereparams";a.filter(function(d){o[d]=l.indexOf(d)>-1?JSON.stringify(s[d]):s[d]});var c=this.getVariables()||{};c.datamanager=o;var u=JSON.stringify({query:this.getQuery(),variables:c});return n.data=u,n},t.prototype.processResponse=function(e,i,n,s,a){var o=e,l,c,u=Pe(this.schema.result,o.data);this.schema.count&&(l=Pe(this.schema.count,o.data)),this.schema.aggregates&&(c=Pe(this.schema.aggregates,o.data),c=v(c)?c:pt.parse.parseJson(c));var d=a.pvtData||{},p={result:u,aggregates:c},m=p;return d&&d.groups&&d.groups.length&&this.getAggregateResult(d,m,p,null,n),v(l)?p.result:{result:p.result,count:l,aggregates:c}},t.prototype.insert=function(){var e=r.prototype.insert.apply(this,arguments);return this.generateCrudData(e,"insert")},t.prototype.update=function(){var e=r.prototype.update.apply(this,arguments);return this.generateCrudData(e,"update")},t.prototype.remove=function(){var e=r.prototype.remove.apply(this,arguments);return this.generateCrudData(e,"remove")},t.prototype.batchRequest=function(e,i,n,s,a){var o=r.prototype.batchRequest.apply(this,arguments),l=JSON.parse(o.data);return l.key=n.key,o.data=JSON.stringify(l),this.generateCrudData(o,"batch")},t.prototype.generateCrudData=function(e,i){var n=JSON.parse(e.data);return e.data=JSON.stringify({query:this.opt.getMutation(i),variables:n}),e},t})(uv);var xxe=(function(r){yf(t,r);function t(e,i,n){var s=r.call(this)||this;s.isCrudAction=!1,s.isInsertAction=!1,v(e)||(s.cacheAdaptor=e),s.pageSize=n,s.guidId=pt.getGuid("cacheAdaptor");var a={keys:[],results:[]};window.localStorage.setItem(s.guidId,JSON.stringify(a));var o=s.guidId;return v(i)||setInterval(function(){for(var l=pt.parse.parseJson(window.localStorage.getItem(o)),c=[],u=0;u<l.results.length;u++){var d=+new Date,p=+new Date(l.results[u].timeStamp);l.results[u].timeStamp=d-p,d-p>i&&c.push(u)}for(var u=0;u<c.length;u++)l.results.splice(c[u],1),l.keys.splice(c[u],1);window.localStorage.removeItem(o),window.localStorage.setItem(o,JSON.stringify(l))},i),s}return t.prototype.generateKey=function(e,i){var n=this.getQueryRequest(i),s=di.filterQueryLists(i.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=e,o="onPage";o in s&&(a+=s[o].pageIndex),n.sorts.forEach(function(p){a+=p.e.direction+p.e.fieldName}),n.groups.forEach(function(p){a+=p.e.fieldName}),n.searches.forEach(function(p){a+=p.e.searchKey});for(var l=0;l<n.filters.length;l++){var c=n.filters[l];if(c.e.isComplex){var u=i.clone();u.queries=[];for(var d=0;d<c.e.predicates.length;d++)u.queries.push({fn:"onWhere",e:c.e.predicates[d],filter:i.queries.filter});a+=c.e.condition+this.generateKey(e,u)}else a+=c.e.field+c.e.operator+c.e.value}return a},t.prototype.processQuery=function(e,i,n){var s=this.generateKey(e.dataSource.url,i),a=pt.parse.parseJson(window.localStorage.getItem(this.guidId)),o=a?a.results[a.keys.indexOf(s)]:null;return o!=null&&!this.isCrudAction&&!this.isInsertAction?o:(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0)))},t.prototype.processResponse=function(e,i,n,s,a,o){if(this.isInsertAction||a&&this.cacheAdaptor.options.batch&&pt.endsWith(a.url,this.cacheAdaptor.options.batch)&&a.type.toLowerCase()==="post")return this.cacheAdaptor.processResponse(e,i,n,s,a,o);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var l=n?this.generateKey(i.dataSource.url,n):i.dataSource.url,c={};c=pt.parse.parseJson(window.localStorage.getItem(this.guidId));var u=c.keys.indexOf(l);for(u!==-1&&(c.results.splice(u,1),c.keys.splice(u,1)),c.results[c.keys.push(l)-1]={keys:l,result:e.result,timeStamp:new Date,count:e.count};c.results.length>this.pageSize;)c.results.splice(0,1),c.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(c)),e},t.prototype.beforeSend=function(e,i,n){!v(this.cacheAdaptor.options.batch)&&pt.endsWith(n.url,this.cacheAdaptor.options.batch)&&n.type.toLowerCase()==="post"&&i.headers.set("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||i.headers.set("Accept",this.cacheAdaptor.options.accept)},t.prototype.update=function(e,i,n,s){return this.isCrudAction=!0,this.cacheAdaptor.update(e,i,n,s)},t.prototype.insert=function(e,i,n){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,i,n)},t.prototype.remove=function(e,i,n,s){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,i,n,s)},t.prototype.batchRequest=function(e,i,n){return this.cacheAdaptor.batchRequest(e,i,n)},t})(uv),PD=function(r,t,e,i){return new(e||(e=Promise))(function(n,s){function a(c){try{l(i.next(c))}catch(u){s(u)}}function o(c){try{l(i.throw(c))}catch(u){s(u)}}function l(c){c.done?n(c.value):new e(function(u){u(c.value)}).then(a,o)}l((i=i.apply(r,t||[])).next())})},FD=function(r,t){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,n=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){e.label=c[1];break}if(c[0]===6&&e.label<s[1]){e.label=s[1],s=c;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(c);break}s[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(r,e)}catch(u){c=[6,u],n=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ut=(function(){function r(t,e,i,n){var s=this;this.dateParse=!0,this.timeZoneHandling=!0,this.persistQuery={},this.isInitialLoad=!1,this.requests=[],this.isEnableCache=!1,this.isInitialLoad=!0,this.isEnableCache=!1,n&&n.applyPostRequestMiddlewares&&(this.applyPostRequestMiddlewares=n.applyPostRequestMiddlewares),n&&n.applyPreRequestMiddlewares&&(this.applyPreRequestMiddlewares=n.applyPreRequestMiddlewares),!t&&!this.dataSource&&(t=[]),i=i||t.adaptor,t&&t.timeZoneHandling===!1&&(this.timeZoneHandling=t.timeZoneHandling);var a;if(t instanceof Array?a={json:t,offline:!0}:typeof t=="object"?(t.json||(t.json=[]),t.enablePersistence||(t.enablePersistence=!1),t.id||(t.id=""),t.ignoreOnPersist||(t.ignoreOnPersist=[]),a={url:t.url,insertUrl:t.insertUrl,removeUrl:t.removeUrl,updateUrl:t.updateUrl,crudUrl:t.crudUrl,batchUrl:t.batchUrl,json:t.json,headers:t.headers,accept:t.accept,data:t.data,enableCache:t.enableCache,timeTillExpiration:t.timeTillExpiration,cachingPageSize:t.cachingPageSize,enableCaching:t.enableCaching,requestType:t.requestType,key:t.key,crossDomain:t.crossDomain,jsonp:t.jsonp,dataType:t.dataType,offline:t.offline!==void 0?t.offline:t.adaptor instanceof vxe||t.adaptor instanceof yxe?!1:!t.url,requiresFormat:t.requiresFormat,enablePersistence:t.enablePersistence,id:t.id,ignoreOnPersist:t.ignoreOnPersist}):pt.throwError("DataManager: Invalid arguments"),a.requiresFormat===void 0&&!pt.isCors()&&(a.requiresFormat=v(a.crossDomain)?!0:a.crossDomain),a.dataType===void 0&&(a.dataType="json"),this.isEnableCache=a.enableCache,this.dataSource=a,this.defaultQuery=e,this.dataSource.enablePersistence&&this.dataSource.id&&window.addEventListener("unload",this.setPersistData.bind(this)),a.url&&a.offline&&!a.json.length?(this.isDataAvailable=!1,this.adaptor=i||new u1,this.dataSource.offline=!1,this.ready=this.executeQuery(e||new di),this.ready.then(function(l){s.dataSource.offline=!0,s.isDataAvailable=!0,a.json=l.result,s.adaptor=new eS})):this.adaptor=a.offline?new eS:new u1,!a.jsonp&&this.adaptor instanceof u1&&(a.jsonp="callback"),this.adaptor=i||this.adaptor,this.isEnableCache){this.guidId=pt.getGuid("cacheAdaptor");var o={keys:[],results:[]};window.localStorage.setItem(this.guidId,JSON.stringify(o))}return a.enableCaching&&(this.adaptor=new xxe(this.adaptor,a.timeTillExpiration,a.cachingPageSize)),this}return Object.defineProperty(r.prototype,"moduleName",{get:function(){return"datamanager"},enumerable:!0,configurable:!0}),r.prototype.getPersistedData=function(t){var e=localStorage.getItem(t||this.dataSource.id);return JSON.parse(e)},r.prototype.setPersistData=function(t,e,i){localStorage.setItem(e||this.dataSource.id,JSON.stringify(i||this.persistQuery))},r.prototype.setPersistQuery=function(t){var e=this,i=this.getPersistedData();if(this.isInitialLoad&&i&&Object.keys(i).length){this.persistQuery=i,this.persistQuery.queries=this.persistQuery.queries.filter(function(s){if(e.dataSource.ignoreOnPersist&&e.dataSource.ignoreOnPersist.length&&s.fn&&e.dataSource.ignoreOnPersist.some(function(l){return s.fn===l}))return!1;if(s.fn==="onWhere"){var a=s.e;if(a&&a.isComplex&&a.predicates instanceof Array){var o=a.predicates.map(function(l){if(l.predicates&&l.predicates instanceof Array){var c=l.predicates.map(function(w){var b=w.field,D=w.operator,E=w.value,N=w.ignoreCase,B=w.ignoreAccent,P=w.matchCase;return new Er(b,D,E,N,B,P)});return l.condition==="and"?Er.and(c):Er.or(c)}else{var u=l.field,d=l.operator,p=l.value,m=l.ignoreCase,y=l.ignoreAccent,M=l.matchCase;return new Er(u,d,p,m,y,M)}});s.e=new Er(o[0],a.condition,o.slice(1))}}return!0});var n=qe(new di,this.persistQuery);return this.isInitialLoad=!1,n}else return this.persistQuery=t,this.isInitialLoad=!1,t},r.prototype.setDefaultQuery=function(t){return this.defaultQuery=t,this},r.prototype.executeLocal=function(t){!this.defaultQuery&&!(t instanceof di)&&pt.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||pt.throwError("DataManager - executeLocal() : Json data is required to execute"),this.dataSource.enablePersistence&&this.dataSource.id&&(t=this.setPersistQuery(t)),t=t||this.defaultQuery;var e=this.adaptor.processQuery(this,t);if(t.subQuery){var i=t.subQuery.fromTable,n=t.subQuery.lookups,s=t.isCountRequired?e.result:e;n&&n instanceof Array&&pt.buildHierarchy(t.subQuery.fKey,i,s,n,t.subQuery.key);for(var a=0;a<s.length;a++)s[a][i]instanceof Array&&(s[a]=qe({},{},s[a]),s[a][i]=this.adaptor.processResponse(t.subQuery.using(new r(s[a][i].slice(0))).executeLocal(),this,t))}return this.adaptor.processResponse(e,this,t)},r.prototype.executeQuery=function(t,e,i,n){var s=this,a="makeRequest";this.dataSource.enablePersistence&&this.dataSource.id&&(t=this.setPersistQuery(t)),typeof t=="function"&&(n=i,i=e,e=t,t=null),t||(t=this.defaultQuery),t instanceof di||pt.throwError("DataManager - executeQuery() : A query is required to execute");var o=new Km,l={query:t};if(!this.dataSource.offline&&this.dataSource.url!==void 0&&this.dataSource.url!==""||!v(this.adaptor[a])||this.isCustomDataAdaptor(this.adaptor)){var c=this.isEnableCache?this.processQuery(t):this.adaptor.processQuery(this,t);v(this.adaptor[a])?!v(c.url)||this.isCustomDataAdaptor(this.adaptor)?(this.requests=[],this.makeRequest(c,o,l,t)):(l=r.getDeferedArgs(t,c,l),o.resolve(l)):this.adaptor[a](c,o,l,t)}else r.nextTick(function(){var u=s.executeLocal(t);l=r.getDeferedArgs(t,u,l),o.resolve(l)});return(e||i)&&o.promise.then(e,i),n&&o.promise.then(n,n),o.promise},r.prototype.getQueryRequest=function(t){var e={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return e.sorts=di.filterQueries(t.queries,"onSortBy"),e.groups=di.filterQueries(t.queries,"onGroup"),e.filters=di.filterQueries(t.queries,"onWhere"),e.searches=di.filterQueries(t.queries,"onSearch"),e.aggregates=di.filterQueries(t.queries,"onAggregates"),e},r.prototype.generateKey=function(t,e){var i=this.getQueryRequest(e),n=di.filterQueryLists(e.queries,["onSelect","onPage","onSkip","onTake","onRange"]),s=t,a="onPage";i.sorts.forEach(function(p){s+=p.e.direction+p.e.fieldName}),i.groups.forEach(function(p){s+=p.e.fieldName}),i.searches.forEach(function(p){s+=p.e.searchKey});for(var o=0;o<i.filters.length;o++){var l=i.filters[o];if(l.e.isComplex){var c=e.clone();c.queries=[];for(var u=0;u<l.e.predicates.length;u++)c.queries.push({fn:"onWhere",e:l.e.predicates[u],filter:e.queries.filter});s+=l.e.condition+this.generateKey(t,c)}else s+=l.e.field+l.e.operator+l.e.value}if(!v(this.previousCacheQuery)&&this.previousCacheQuery!==s){var d={keys:[],results:[]};window.localStorage.setItem(this.guidId,JSON.stringify(d))}return this.previousCacheQuery=s,a in n&&(s+=n[a].pageIndex),s},r.prototype.processQuery=function(t){var e=this.generateKey(this.dataSource.url,t),i=JSON.parse(window.localStorage.getItem(this.guidId)),n=i?i.results[i.keys.indexOf(e)]:null;return n!=null?pt.parse.parseJson(n):this.adaptor.processQuery(this,t)},r.getDeferedArgs=function(t,e,i){return t.isCountRequired?(i.result=e.result,i.count=e.count,i.aggregates=e.aggregates):i.result=e,i},r.nextTick=function(t){(window.setImmediate||window.setTimeout)(t,0)},r.prototype.extendRequest=function(t,e,i){return qe({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:e,onFailure:i},t)},r.prototype.makeRequest=function(t,e,i,n){var s=this,a=!!n.subQuerySelector,o=function(w){i.error=w,e.reject(i)},l=function(w,b,D,E,N,B,P){i.xhr=D,i.count=b?parseInt(b.toString(),10):0,i.result=w,i.request=E,i.aggregates=B,i.actual=N,i.virtualSelectRecords=P,e.resolve(i)},c=function(w,b){var D=new Km,E={parent:i};n.subQuery.isChild=!0;var N=s.adaptor.processQuery(s,n.subQuery,w?s.adaptor.processResponse(w):b),B=s.makeRequest(N,D,E,n.subQuery);return a||D.then(function(P){w&&(pt.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,w,P,n.subQuery.key),l(w,P.count,P.xhr))},o),B},u=function(w,b){if(s.isGraphQLAdaptor(s.adaptor)&&!v(w.errors))return o(w.errors);s.isCustomDataAdaptor(s.adaptor)&&(b=qe({},s.fetchReqOption,b)),b.contentType.indexOf("xml")===-1&&s.dateParse&&!s.isEnableCache&&(w=pt.parse.parseJson(w));var D,E=s.afterReponseRequest(w);E.then(function(N){if(D=s.adaptor.processResponse(N,s,n,b.fetchRequest,b),s.isEnableCache){var B=n?s.generateKey(s.dataSource.url,n):s.dataSource.url,P={};P=JSON.parse(window.localStorage.getItem(s.guidId));var C=P.keys.indexOf(B);C!==-1&&(P.results.splice(C,1),P.keys.splice(C,1)),P.results[P.keys.push(B)-1]={keys:B,result:D.result,timeStamp:new Date,count:D.count},window.localStorage.setItem(s.guidId,JSON.stringify(P))}b.contentType.indexOf("xml")===-1&&s.dateParse&&s.isEnableCache&&(D=pt.parse.parseJson(D));var k=0,_=null,H="virtualSelectRecords",j=N[H];if(n.isCountRequired&&(k=D.count,_=D.aggregates,D=D.result),!n.subQuery){l(D,k,b.fetchRequest,b.type,N,_,j);return}a||c(D,b)}).catch(function(N){return s.dataManagerFailure(N,e,i)})},d=this.extendRequest(t,u,o);if(this.isCustomDataAdaptor(this.adaptor)){this.fetchReqOption=d;var y=d;this.adaptor.options.getData({data:y.data,onSuccess:y.onSuccess,onFailure:y.onFailure})}else{var p=this.useMiddleware(d),m;p.then(function(w){m=new gC(d),m.beforeSend=function(){s.beforeSend(m.fetchRequest,m,w)},d=m.send(),d.catch(function(b){return!0}),s.requests.push(m)}).catch(function(w){return s.dataManagerFailure(w,e,i)})}if(a){var p=void 0,M=n.subQuerySelector.call(this,{query:n.subQuery,parent:n});M&&M.length?(p=Promise.all([d,c(null,M)]),p.then(function(){for(var b=[],D=0;D<arguments.length;D++)b[D]=arguments[D];var E=b[0],N=s.adaptor.processResponse(E[0],s,n,s.requests[0].fetchRequest,s.requests[0]),B=0;n.isCountRequired&&(B=N.count,N=N.result);var P=s.adaptor.processResponse(E[1],s,n.subQuery,s.requests[1].fetchRequest,s.requests[1]);B=0,n.subQuery.isCountRequired&&(B=P.count,P=P.result),pt.buildHierarchy(n.subQuery.fKey,n.subQuery.fromTable,N,P,n.subQuery.key),a=!1,l(N,B,s.requests[0].fetchRequest)})):a=!1}return d},r.prototype.dataManagerFailure=function(t,e,i){i.error=t,e.reject(i)},r.prototype.afterReponseRequest=function(t){return PD(this,void 0,void 0,function(){var e,i;return FD(this,function(n){switch(n.label){case 0:return[4,this.applyPostRequestMiddlewares(t)];case 1:return e=n.sent(),i=new Km,i.resolve(e),[2,i.promise]}})})},r.prototype.applyPostRequestMiddlewares=function(t){return PD(this,void 0,void 0,function(){return FD(this,function(e){return[2,t]})})},r.prototype.useMiddleware=function(t){return PD(this,void 0,void 0,function(){var e,i;return FD(this,function(n){switch(n.label){case 0:return[4,this.applyPreRequestMiddlewares(t)];case 1:return e=n.sent(),i=new Km,i.resolve(e),[2,i.promise]}})})},r.prototype.applyPreRequestMiddlewares=function(t){return PD(this,void 0,void 0,function(){return FD(this,function(e){return[2,t]})})},r.prototype.beforeSend=function(t,e,i){this.adaptor.beforeSend(this,t,e);var n=[];this.dataSource.headers&&(n=n.concat(this.dataSource.headers));var s;i&&i.headers&&(n=n.concat(i.headers));for(var a=0;n&&a<n.length;a++){s=[];for(var o=Object.keys(n[a]),l=0,c=o;l<c.length;l++){var u=c[l];s.push(u),t.headers.set(u,n[a][u])}}},r.prototype.saveChanges=function(t,e,i,n,s){var a=this;i instanceof di&&(n=i,i=null);var o={url:i,key:e||this.dataSource.key},l=this.adaptor.batchRequest(this,t,o,n||new di,s),c="dofetchRequest";if(this.dataSource.offline)return l;if(v(this.adaptor[c])){if(this.isCustomDataAdaptor(this.adaptor))return this.dofetchRequest(l,this.adaptor.options.batchUpdate,t);var u=new Km,d=new gC(l);return d.beforeSend=function(){a.beforeSend(d.fetchRequest,d)},d.onSuccess=function(p,m){a.isGraphQLAdaptor(a.adaptor)&&(v(p.errors)||d.onFailure(JSON.stringify(p.errors))),u.resolve(a.adaptor.processResponse(p,a,null,m.fetchRequest,m,t,o))},d.onFailure=function(p){u.reject([{error:p}])},d.send().catch(function(p){return!0}),u.promise}else return this.adaptor[c](l)},r.prototype.insert=function(t,e,i,n){e instanceof di&&(i=e,e=null);var s=this.adaptor.insert(this,t,e,i,n),a="dofetchRequest";return this.dataSource.offline?s:v(this.adaptor[a])?this.dofetchRequest(s,this.adaptor.options.addRecord):this.adaptor[a](s)},r.prototype.remove=function(t,e,i,n){typeof e=="object"&&(e=pt.getObject(t,e)),i instanceof di&&(n=i,i=null);var s=this.adaptor.remove(this,t,e,i,n),a="dofetchRequest";if(this.dataSource.offline)return s;if(v(this.adaptor[a])){var o=this.adaptor.options.deleteRecord;return this.dofetchRequest(s,o)}else return this.adaptor[a](s)},r.prototype.update=function(t,e,i,n,s){i instanceof di&&(n=i,i=null),this.isEnableCache&&(this.cacheQuery=this.generateKey(this.dataSource.url,n));var a=this.adaptor.update(this,t,e,i,n,s),o="dofetchRequest";if(this.dataSource.offline)return a;if(v(this.adaptor[o])){var l=this.adaptor.options.updateRecord;return this.dofetchRequest(a,l)}else return this.adaptor[o](a)},r.prototype.isCustomDataAdaptor=function(t){return this.adaptor.getModuleName&&this.adaptor.getModuleName()==="CustomDataAdaptor"},r.prototype.isGraphQLAdaptor=function(t){return this.adaptor.getModuleName&&this.adaptor.getModuleName()==="GraphQLAdaptor"},r.prototype.successFunc=function(t,e,i){if(this.isGraphQLAdaptor(this.adaptor)){var n=typeof t=="object"?t:JSON.parse(t);v(n.errors)||this.failureFunc(JSON.stringify(n.errors))}this.isCustomDataAdaptor(this.adaptor)&&(e=qe({},this.fetchReqOption,e));try{pt.parse.parseJson(t)}catch{t=[]}if(this.isEnableCache){var s=JSON.parse(e.data);if(s.action==="insert"||s.action==="remove"){var a={keys:[],results:[]};window.localStorage.setItem(this.guidId,JSON.stringify(a))}else if(s.action==="update"){var o=JSON.parse(window.localStorage.getItem(this.guidId)),n=o?o.results[o.keys.indexOf(this.cacheQuery)]:null;if(n&&n.result){for(var l=n.result,c=0;c<l.length;c++)if(l[c][s.keyColumn]===s.key){l[c]=s.value,window.localStorage.setItem(this.guidId,JSON.stringify(o));break}}}}t=this.adaptor.processResponse(pt.parse.parseJson(t),this,null,e.fetchRequest,e,i),this.fetchDeffered.resolve(t)},r.prototype.failureFunc=function(t){this.isEnableCache&&(this.cacheQuery=""),this.fetchDeffered.reject([{error:t}])},r.prototype.dofetchRequest=function(t,e,i){var n=this;if(t=qe({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},t),this.fetchDeffered=new Km,this.isCustomDataAdaptor(this.adaptor))this.fetchReqOption=t,e.call(this,{data:t.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this),changes:i});else{var s=this.useMiddleware(t),a;s.then(function(o){a=new gC(t),a.beforeSend=function(){n.beforeSend(a.fetchRequest,a,o)},a.onSuccess=n.successFunc.bind(n),a.onFailure=n.failureFunc.bind(n),t=a.send(),t.catch(function(l){return!0})}).catch(function(o){return n.dataManagerFailure(o,n.fetchDeffered,{})})}return this.fetchDeffered.promise},r.prototype.clearPersistence=function(){window.removeEventListener("unload",this.setPersistData.bind(this)),this.dataSource.enablePersistence=!1,this.persistQuery={},window.localStorage.setItem(this.dataSource.id,"[]")},r})(),Km=(function(){function r(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}return r})(),Wr={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"},en;(function(r){r.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null,sortBy:null};var t={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},e={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:r.defaultMappedFields,ariaAttributes:t,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function i(j,z,F,X,J){var U=qe({},e,F),W=qe({},t,U.ariaAttributes),re=y(z).typeof;return re==="string"||re==="number"?n(j,z,X,F,J):o(j,z,F,W.level,X,J)}r.createList=i;function n(j,z,F,X,J){var U=s(j,z,F,X,J);return _(j,U,null,X)}r.createListFromArray=n;function s(j,z,F,X,J){var U=[],W=qe({},e,X);Wr=P(W.moduleName);for(var re=E(),Z=0;Z<z.length;Z++)if(!v(z[Z])){var Ee=void 0;if(W.itemCreating&&typeof W.itemCreating=="function"){var ae={dataSource:z,curData:z[Z],text:z[Z],options:W};W.itemCreating(ae)}if(F?Ee=B(j,z[Z],void 0,null,null,[],null,re,Z,X):Ee=k(j,z[Z],void 0,null,null,X,J),W.itemCreated&&typeof W.itemCreated=="function"){var ae={dataSource:z,curData:z[Z],text:z[Z],item:Ee,options:W};W.itemCreated(ae)}U.push(Ee)}return U}r.createListItemFromArray=s;function a(j,z,F,X,J,U){var W=qe({},e,F);Wr=P(W.moduleName);var re=U&&(U.getModuleName()==="listview"||U.getModuleName()==="multiselect")?W.fields:qe({},r.defaultMappedFields,W.fields),Z=qe({},t,W.ariaAttributes),Ee,ae=[];X&&(Z.level=X);var L=[],Y,G;z&&z.length&&!v(y(z).item)&&!Object.prototype.hasOwnProperty.call(y(z).item,re.id)&&(Ee=E());for(var Q=0;Q<z.length;Q++){var te=rM(z[Q],re);if(!v(z[Q])){if(W.itemCreating&&typeof W.itemCreating=="function"){var le={dataSource:z,curData:z[Q],text:te[re.text],options:W,fields:re};W.itemCreating(le)}var Me=z[Q];W.itemCreating&&typeof W.itemCreating=="function"&&(te=rM(z[Q],re)),Object.prototype.hasOwnProperty.call(te,re.id)&&!v(te[re.id])&&(Ee=te[re.id]);var ve=[];if(W.showCheckBox&&(W.itemNavigable&&(te[re.url]||te[re.urlAttributes])?ae.push(j("input",{className:Wr.check,attrs:{type:"checkbox"}})):ve.push(j("input",{className:Wr.check,attrs:{type:"checkbox"}}))),J===!0){if(W.showIcon&&Object.prototype.hasOwnProperty.call(te,re.iconCss)&&!v(te[re.iconCss])&&ve.push(j("span",{className:Wr.icon+" "+te[re.iconCss]})),Y=B(j,Me,te,re,W.itemClass,ve,!!(Object.prototype.hasOwnProperty.call(Me,"isHeader")&&Me.isHeader),Ee,Q,F),G=Y.querySelector("."+Wr.anchorWrap),Object.prototype.hasOwnProperty.call(te,re.tooltip)){var Ie=te[re.tooltip];if(F&&F.enableHtmlSanitizer)Ie=Io.sanitize(Ie);else{var Je=j("span",{innerHTML:Ie});Ie=Je.innerText,Je=null}Y.setAttribute("title",Ie)}W.itemNavigable&&ae.length&&Ln(ae,Y.firstElementChild)}else{if(Y=k(j,Me,te,re,W.itemClass,F,U),Y.classList.add(Wr.level+"-"+Z.level),Y.setAttribute("aria-level",Z.level.toString()),(Z.groupItemRole==="presentation"||Z.itemRole==="presentation")&&Y.removeAttribute("aria-level"),G=Y.querySelector("."+Wr.anchorWrap),Object.prototype.hasOwnProperty.call(te,re.tooltip)){var Ie=te[re.tooltip];if(F&&F.enableHtmlSanitizer)Ie=Io.sanitize(Ie);else{var Je=j("span",{innerHTML:Ie});Ie=Je.innerText,Je=null}Y.setAttribute("title",Ie)}if(Object.prototype.hasOwnProperty.call(te,re.htmlAttributes)&&te[re.htmlAttributes]){var xe=te[re.htmlAttributes];"class"in xe&&typeof xe.class=="string"&&xe.class.trim()===""&&delete xe.class,M(Y,xe)}if(Object.prototype.hasOwnProperty.call(te,re.enabled)&&te[re.enabled]===!1&&Y.classList.add(Wr.disabled),Object.prototype.hasOwnProperty.call(te,re.isVisible)&&te[re.isVisible]===!1&&(Y.style.display="none"),Object.prototype.hasOwnProperty.call(te,re.imageUrl)&&!v(te[re.imageUrl])&&!W.template){var Ot={src:te[re.imageUrl],alt:v(te.name)?"Displaying Image":"Displaying "+te.name+" Image"};sd(Ot,te[re.imageAttributes]);var Ge=j("img",{className:Wr.image,attrs:Ot});G?G.insertAdjacentElement("afterbegin",Ge):Ln([Ge],Y.firstElementChild)}if(W.showIcon&&Object.prototype.hasOwnProperty.call(te,re.iconCss)&&!v(te[re.iconCss])&&!W.template){var Se=j("div",{className:Wr.icon+" "+te[re.iconCss]});G?G.insertAdjacentElement("afterbegin",Se):Ln([Se],Y.firstElementChild)}ve.length&&Ln(ve,Y.firstElementChild),W.itemNavigable&&ae.length&&Ln(ae,Y.firstElementChild),N(j,te,re,z,W,Y,Z.level)}if(G&&pe([Y],[Wr.navigable]),W.itemCreated&&typeof W.itemCreated=="function"){var le={dataSource:z,curData:z[Q],text:te[re.text],item:Y,options:W,fields:re};W.itemCreated(le)}ae=[],L.push(Y)}}return L}r.createListItemFromJson=a;function o(j,z,F,X,J,U){var W=qe({},e,F),re=a(j,z,F,X,J,U);return _(j,re,W.listClass,F)}r.createListFromJson=o;function l(j,z,F){if(Wr=P(e.moduleName),!(!j||!j.length)){var X,J,U=Array.prototype.slice.call(j);for(z?J=c(z,U):J=F===!0?U.length:-1,X=U[J+(F===!0?-1:1)];X&&(!Ra(X)||X.classList.contains(Wr.disabled));)J=J+(F===!0?-1:1),X=U[J];return X}}r.getSiblingLI=l;function c(j,z){if(!(!z||!j)){var F=z;return F=Array.prototype.slice.call(z),F.indexOf(j)}}r.indexOf=c;function u(j,z,F){F===void 0&&(F="None");var X=qe({},r.defaultMappedFields,z),J=new di().group(X.groupBy);J=d(F,"key",J);var U=p(j,J);j=[];for(var W=0;W<U.length;W++){var re=U[W].items,Z={},Ee="isHeader";Z[X.text]=U[W].key,Z[""+Ee]=!0;var ae=X.text;ae==="id"&&(ae="text",Z[""+ae]=U[W].key),Z._id="group-list-item-"+(U[W].key?U[W].key.toString().trim():"undefined"),Z.items=re,j.push(Z);for(var L=0;L<re.length;L++)j.push(re[L])}return j}r.groupDataSource=u;function d(j,z,F){if(F===void 0&&(F=new di),j==="Ascending")F.sortBy(z,"ascending",!0);else if(j==="Descending")F.sortBy(z,"descending",!0);else for(var X=0;X<F.queries.length;X++)F.queries[X].fn==="onSortBy"&&F.queries.splice(X,1);return F}r.addSorting=d;function p(j,z){return new ut(j).executeLocal(z)}r.getDataSource=p;function m(j,z){var F=qe({},e,z),X=qe({},r.defaultMappedFields,F.fields),J=j.cloneNode(!0),U=[];J.classList.add("json-parent");var W=J.querySelectorAll(".json-parent>li");J.classList.remove("json-parent");for(var re=0;re<W.length;re++){for(var Z=W[re],Ee=Z.querySelector("a"),ae=Z.querySelector("ul"),L={},Y=Ee?Ee.childNodes:Z.childNodes,G=Object.keys(Y),Q=0;Q<Y.length;Q++)Y[Number(G[Q])].hasChildNodes()||(L[X.text]=Y[Number(G[Q])].textContent);var te=w(Z);te.id?(L[X.id]=te.id,delete te.id):L[X.id]=E(),Object.keys(te).length&&(L[X.htmlAttributes]=te),Ee&&(te=w(Ee),Object.keys(te).length&&(L[X.urlAttributes]=te)),ae&&(L[X.child]=m(ae,z)),U.push(L)}return U}r.createJsonFromElement=m;function y(j){for(var z={typeof:null,item:null},F=0;F<j.length;F++)if(!v(j[F]))return z={typeof:typeof j[F],item:j[F]};return z}function M(j,z){var F={};sd(F,z),F.class&&(pe([j],F.class.split(" ")),delete F.class),Ht(j,F)}function w(j){for(var z={},F=j.attributes,X=0;X<F.length;X++)z[F[X].nodeName]=F[X].nodeValue;return z}function b(j,z,F,X,J,U){Wr=P(e.moduleName);for(var W=j("ul",{className:Wr.ul,attrs:{role:"presentation"}}),re=qe({},e,J),Z=qe({},r.defaultMappedFields,X),Ee=BD(z),ae=[],L,Y=E(),G=0;G<F.length;G++){var Q=rM(F[G],Z),te=F[G],le=te.isHeader;if(typeof F[G]=="string"||typeof F[G]=="number"?L=te:L=Q[Z.value],re.itemCreating&&typeof re.itemCreating=="function"){var Me={dataSource:F,curData:te,text:L,options:re,fields:Z};re.itemCreating(Me)}re.itemCreating&&typeof re.itemCreating=="function"&&(Q=rM(F[G],Z),typeof F[G]=="string"||typeof F[G]=="number"?L=te:L=Q[Z.value]);var ve=j("li",{id:Y+"-"+G,className:le?Wr.group:Wr.li,attrs:{role:"presentation"}});if(le)typeof F[G]=="string"||typeof F[G]=="number"?ve.innerText=te:ve.innerText=Q[Z.text];else{var Ie=le?re.groupTemplateID:re.templateID;if(le)if(U&&U.getModuleName()!=="listview"){var Je=Ee(te,U,"headerTemplate",Ie,!!re.isStringTemplate,null,ve);Je&&ri(Je,ve)}else ri(Ee(te,U,"headerTemplate",Ie,!!re.isStringTemplate),ve);else if(U&&U.getModuleName()!=="listview"){var Je=Ee(te,U,"template",Ie,!!re.isStringTemplate,null,ve);Je&&ri(Je,ve)}else ri(Ee(te,U,"template",Ie,!!re.isStringTemplate),ve);ve.setAttribute("data-value",v(L)?"null":L),ve.setAttribute("role","option")}if(re.itemCreated&&typeof re.itemCreated=="function"){var Me={dataSource:F,curData:te,text:L,item:ve,options:re,fields:Z};re.itemCreated(Me)}ae.push(ve)}return ri(ae,W),W}r.renderContentTemplate=b;function D(j,z,F,X,J,U){for(var W=BD(j),re=qe({},r.defaultMappedFields,F),Z=qe({},e,J),Ee=re.groupBy,ae=0,L=X;ae<L.length;ae++){var Y=L[ae],G={};if(G[""+Ee]=Y.textContent,Y.innerHTML="",U&&U.getModuleName()!=="listview"){var Q=W(G,U,"groupTemplate",Z.groupTemplateID,!!Z.isStringTemplate,null,Y);Q&&ri(Q,Y)}else ri(W(G,U,"groupTemplate",Z.groupTemplateID,!!Z.isStringTemplate),Y)}return X}r.renderGroupTemplate=D;function E(){var j=new Uint32Array(1);return window.crypto.getRandomValues(j),Math.floor((1+j[0]/4294967296)*65536).toString(16).substring(1)}r.generateId=E;function N(j,z,F,X,J,U,W){var re=z[F.child]||[],Z=z[F.hasChildren];if(re.length&&(Z=!0,U.classList.add(Wr.hasChild),J.processSubChild)){var Ee=o(j,re,J,++W);U.appendChild(Ee)}if(J.expandCollapse&&Z&&!J.template){U.firstElementChild.classList.add(Wr.iconWrapper);var ae=J.expandIconPosition==="Left"?Ln:ri;ae([j("div",{className:"e-icons "+J.expandIconClass})],U.querySelector("."+Wr.textContent))}}function B(j,z,F,X,J,U,W,re,Z,Ee){var ae=qe({},e,Ee),L=qe({},t,ae.ariaAttributes),Y=z,G=z,Q;typeof z!="string"&&typeof z!="number"&&typeof z!="boolean"&&(Q=z,Y=typeof F[X.text]=="boolean"||typeof F[X.text]=="number"?F[X.text]:F[X.text]||"",G=F[X.value]);var te;!v(Q)&&!v(F[X.id])&&F[X.id]!==""?te=re:te=re+"-"+Z;var le=j("li",{className:(W===!0?Wr.group:Wr.li)+" "+(v(J)?"":J),id:te,attrs:L.groupItemRole!==""&&L.itemRole!==""?{role:W===!0?L.groupItemRole:L.itemRole}:{}});return Q&&Object.prototype.hasOwnProperty.call(F,X.enabled)&&F[X.enabled].toString()==="false"&&le.classList.add(Wr.disabled),Ee&&Ee.enableHtmlSanitizer&&(Y=Io.sanitize(Y)),W?le.innerText=Y:(le.setAttribute("data-value",v(G)?"null":G),le.setAttribute("role","option"),Q&&Object.prototype.hasOwnProperty.call(F,X.htmlAttributes)&&F[X.htmlAttributes]&&M(le,F[X.htmlAttributes]),U.length&&!ae.itemNavigable&&ri(U,le),Q&&(F[X.url]||F[X.urlAttributes]&&F[X.urlAttributes].href)?le.appendChild(C(j,Q,X,Y,U,ae.itemNavigable)):(U.length&&ae.itemNavigable&&ri(U,le),le.appendChild(document.createTextNode(Y)))),le}function P(j){return{li:"e-"+j+"-item",ul:"e-"+j+"-parent e-ul",group:"e-"+j+"-group-item",icon:"e-"+j+"-icon",text:"e-"+j+"-text",check:"e-"+j+"-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-"+j+"-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-"+j+"-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function C(j,z,F,X,J,U){var W=rM(z,F),re={href:W[F.url]};Object.prototype.hasOwnProperty.call(W,F.urlAttributes)&&W[F.urlAttributes]&&(sd(re,W[F.urlAttributes]),re.href=W[F.url]?W[F.url]:W[F.urlAttributes].href);var Z;if(!U)Z=j("a",{className:Wr.text+" "+Wr.url,innerHTML:X});else{Z=j("a",{className:Wr.text+" "+Wr.url});var Ee=j("div",{className:Wr.anchorWrap});J&&J.length&&ri(J,Ee),Ee.appendChild(document.createTextNode(X)),ri([Ee],Z)}return M(Z,re),Z}function k(j,z,F,X,J,U,W){var re=qe({},e,U),Z=qe({},t,re.ariaAttributes),Ee=z,ae,L,Y;typeof z!="string"&&typeof z!="number"&&(Y=z,Ee=F[X.text]||"",ae=v(F._id)?F[X.id]:F._id,L=!!(Object.prototype.hasOwnProperty.call(z,"isHeader")&&z.isHeader)),U&&U.enableHtmlSanitizer&&(Ee=Io.sanitize(Ee));var G=j("li",{className:(L===!0?Wr.group:Wr.li)+" "+(v(J)?"":J),attrs:Z.groupItemRole!==""&&Z.itemRole!==""?{role:L===!0?Z.groupItemRole:Z.itemRole}:{}});if(v(ae)?G.setAttribute("data-uid",E()):G.setAttribute("data-uid",ae),L&&U&&U.groupTemplate){var Q=BD(U.groupTemplate);if(W&&W.getModuleName()!=="listview"){var te=Q(z,W,"groupTemplate",re.groupTemplateID,!!re.isStringTemplate,null,G);te&&ri(te,G)}else ri(Q(z,W,"groupTemplate",re.groupTemplateID,!!re.isStringTemplate),G)}else if(!L&&U&&U.template){var Q=BD(U.template);if(W&&W.getModuleName()!=="listview"){var te=Q(z,W,"template",re.templateID,!!re.isStringTemplate,null,G);te&&ri(te,G)}else ri(Q(z,W,"template",re.templateID,!!re.isStringTemplate),G)}else{var le=j("div",{className:Wr.textContent,attrs:Z.wrapperRole!==""?{role:Z.wrapperRole}:{}});if(Y&&(F[X.url]||F[X.urlAttributes]&&F[X.urlAttributes].href))le.appendChild(C(j,Y,X,Ee,null,re.itemNavigable));else{var Me=j("span",{className:Wr.text,attrs:Z.itemText!==""?{role:Z.itemText}:{}});U&&U.enableHtmlSanitizer?Me.innerText=Ee:Me.innerHTML=Ee,le.appendChild(Me)}G.appendChild(le)}return G}function _(j,z,F,X){var J=qe({},e,X),U=qe({},t,J.ariaAttributes);Wr=P(J.moduleName);var W=j("ul",{className:Wr.ul+" "+(v(F)?"":F),attrs:U.listRole!==""?{role:U.listRole}:{}});return ri(z,W),W}r.generateUL=_;function H(j,z,F,X){var J=qe({},e,X);Wr=P(J.moduleName);var U=J.expandIconPosition==="Left"?Ln:ri;return U([j("div",{className:"e-icons "+J.expandIconClass+" "+(v(F)?"":F)})],z.querySelector("."+Wr.textContent)),z}r.generateIcon=H})(en||(en={}));function rM(r,t){var e={};if(v(r)||typeof r=="string"||typeof r=="number"||!v(r.isHeader))return r;for(var i=0,n=Object.keys(t);i<n.length;i++){var s=n[i],a=t[""+s],o=!v(a)&&typeof a=="string"?Pe(a,r):void 0;v(o)||(e[""+a]=o)}return e}function BD(r){if(r)try{return typeof r!="function"&&document.querySelector(r)?jn(document.querySelector(r).innerHTML.trim()):jn(r)}catch{return jn(r)}}var nK=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),gn=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},P2="e-vertical",ms="e-toolbar-items",ss="e-toolbar-item",_d="e-rtl",as="e-separator",UD="e-popup-up-icon",nM="e-popup-down-icon",tU="e-popup-open",iU="e-template",hl="e-overlay",rU="e-toolbar-text",F2="e-popup-text",Hh="e-overflow-show",VD="e-overflow-hide",Mxe="e-tbar-btn",Yc="e-hor-nav",nU="e-scroll-nav",wxe="e-toolbar-right",Txe="e-toolbar-left",sU="e-toolbar-center",Wh="e-tbar-pos",bxe="e-hscroll-content",Dxe="e-vscroll-content",B2="e-hscroll-bar",Exe="e-hor-nav",sM="e-toolbar-pop",jm="e-toolbar-popup",Axe="e-tbar-btn-text",aM="e-nav-active",oM="e-ignore",HD="e-popup-alone",Yh="e-hidden",aU="e-toolbar-multirow",oU="e-multirow-pos",U2="e-multirow-separator",V2="e-extended-separator",lU="e-extended-toolbar",WD="e-toolbar-extended",Sxe="e-expended-nav",H2="e-tbar-extended",Nxe=(function(r){nK(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return gn([ee("")],t.prototype,"id",void 0),gn([ee("")],t.prototype,"text",void 0),gn([ee("auto")],t.prototype,"width",void 0),gn([ee("")],t.prototype,"cssClass",void 0),gn([ee(!1)],t.prototype,"showAlwaysInPopup",void 0),gn([ee(!1)],t.prototype,"disabled",void 0),gn([ee("")],t.prototype,"prefixIcon",void 0),gn([ee("")],t.prototype,"suffixIcon",void 0),gn([ee(!0)],t.prototype,"visible",void 0),gn([ee("None")],t.prototype,"overflow",void 0),gn([ee("")],t.prototype,"template",void 0),gn([ee("Button")],t.prototype,"type",void 0),gn([ee("Both")],t.prototype,"showTextOn",void 0),gn([ee(null)],t.prototype,"htmlAttributes",void 0),gn([ee("")],t.prototype,"tooltipText",void 0),gn([ee("Left")],t.prototype,"align",void 0),gn([Xe()],t.prototype,"click",void 0),gn([ee(-1)],t.prototype,"tabIndex",void 0),t})(fa),Ixe=(function(r){nK(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.resizeContext=n.resize.bind(n),n.orientationChangeContext=n.orientationChange.bind(n),n.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},n}return t.prototype.destroy=function(){var e=this;(this.isReact||this.isAngular)&&this.clearTemplate();var i=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(i).forEach(function(n){!v(n)&&!v(n.ej2_instances)&&!v(n.ej2_instances[0])&&!n.ej2_instances[0].isDestroyed&&n.ej2_instances[0].destroy()}),this.unwireEvents(),this.tempId.forEach(function(n){v(e.element.querySelector(n))||(document.body.appendChild(e.element.querySelector(n)).style.display="none")}),this.destroyItems();this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&(this.element.appendChild(this.ctrlTem),this.trgtEle=null,this.ctrlTem=null),this.popObj&&(this.popObj.destroy(),zt(this.popObj.element)),this.activeEle&&(this.activeEle=null),this.popObj=null,this.tbarAlign=null,this.tbarItemsCol=[],this.remove(this.element,"e-toolpop"),this.cssClass&&Oe([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","role"].forEach(function(n){return e.element.removeAttribute(n)}),r.prototype.destroy.call(this)},t.prototype.preRender=function(){var e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains(P2),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,_d)},t.prototype.wireEvents=function(){se.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),window.addEventListener("orientationchange",this.orientationChangeContext),this.allowKeyboard&&this.wireKeyboardEvent()},t.prototype.wireKeyboardEvent=function(){this.keyModule=new Yl(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),se.add(this.element,"keydown",this.docKeyDown,this),this.updateTabIndex("0")},t.prototype.updateTabIndex=function(e){var i=this.element.querySelector("."+ss+":not(."+hl+" ):not(."+as+" ):not(."+Yh+" )");if(!v(i)&&!v(i.firstElementChild)){var n=i.firstElementChild.getAttribute("data-tabindex");n&&n==="-1"&&i.firstElementChild.tagName!=="INPUT"&&i.firstElementChild.setAttribute("tabindex",e)}},t.prototype.unwireKeyboardEvent=function(){this.keyModule&&(se.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)},t.prototype.docKeyDown=function(e){if(e.target.tagName!=="INPUT"){var i=!v(this.popObj)&&Ra(this.popObj.element)&&this.overflowMode!=="Extended";e.keyCode===9&&e.target.classList.contains("e-hor-nav")===!0&&i&&this.popObj.hide({name:"FadeOut",duration:100});var n=e.keyCode===40||e.keyCode===38||e.keyCode===35||e.keyCode===36;n&&e.preventDefault()}},t.prototype.unwireEvents=function(){se.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),window.removeEventListener("orientationchange",this.orientationChangeContext),document.removeEventListener("scroll",this.clickEvent),document.removeEventListener("click",this.scrollEvent),this.scrollEvent=null,this.clickEvent=null},t.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},t.prototype.docEvent=function(e){var i=Fe(e.target,".e-popup");this.popObj&&Ra(this.popObj.element)&&!i&&this.overflowMode==="Popup"&&this.popObj.hide({name:"FadeOut",duration:100})},t.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,Wh),this.scrollModule.destroy(),this.scrollModule=null)},t.prototype.destroyItems=function(){if(this.element&&[].slice.call(this.element.querySelectorAll("."+ss)).forEach(function(i){zt(i)}),this.tbarAlign){var e=this.element.querySelector("."+ms);e&&(e.children&&[].slice.call(e.children).forEach(function(i){zt(i)}),this.remove(e,Wh)),this.tbarAlign=!1}this.clearProperty()},t.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,_d),this.destroyScroll()),this.remove(this.element,H2),this.remove(this.element,lU);var e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,aU),this.popObj&&this.popupRefresh(this.popObj.element,!0)},t.prototype.add=function(e,i){e.classList.add(i)},t.prototype.remove=function(e,i){e.classList.remove(i)},t.prototype.elementFocus=function(e){var i=e.firstElementChild;i?(i.focus(),this.activeEleSwitch(e)):e.focus()},t.prototype.clstElement=function(e,i){var n;return e&&this.popObj&&Ra(this.popObj.element)?n=this.popObj.element.querySelector("."+ss):this.element===i||e?n=this.element.querySelector("."+ss+":not(."+hl+" ):not(."+as+" ):not(."+Yh+" )"):n=Fe(i,"."+ss),n},t.prototype.getNextFocusableItem=function(e,i){var n="."+ss+":not(."+hl+"):not(."+as+"):not(."+Yh+")",s=Array.from(this.element.querySelectorAll(n)),a=s.indexOf(e);if(a<0)return null;var o;switch(i){case"moveRight":case"moveDown":case"tab":o=(a+1)%s.length;break;case"moveLeft":case"moveUp":o=(a-1+s.length)%s.length;break;case"home":o=0;break;case"end":o=s.length-1;break;default:o=a}return o>=0&&o<s.length?s[parseInt(o.toString(),10)]:null},t.prototype.keyHandling=function(e,i,n,s,a){var o=this.popObj,l=this.element,c={name:"FadeOut",duration:100},u=i.action==="moveUp"?"previous":"next",d,p;switch(i.action){case"moveRight":if(this.isVertical)return;l===n?this.elementFocus(e):s||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;s||this.eleFocus(e,"previous");break;case"home":case"end":if(e){var m=Fe(e,".e-popup"),y=this.element.querySelector("."+WD);this.overflowMode==="Extended"&&y&&y.classList.contains("e-popup-open")&&(m=i.action==="end"?y:null),m?Ra(this.popObj.element)&&(p=[].slice.call(m.children),i.action==="home"?d=this.focusFirstVisibleEle(p):d=this.focusLastVisibleEle(p)):(p=this.element.querySelectorAll("."+ms+" ."+ss+":not(."+as+")"),i.action==="home"?d=this.focusFirstVisibleEle(p):d=this.focusLastVisibleEle(p)),d&&this.elementFocus(d)}break;case"moveUp":case"moveDown":if(this.isVertical)i.action==="moveUp"?this.eleFocus(e,"previous"):this.eleFocus(e,"next");else if(o&&Fe(n,".e-popup")){var M=o.element;if(u==="previous"&&M.firstElementChild===e){var w=this.focusLastVisibleEle([].slice.call(M.children));w&&this.elementFocus(w)}else if(u==="next"&&M.lastElementChild===e){var b=this.focusFirstVisibleEle([].slice.call(M.children));b&&this.elementFocus(b)}else this.eleFocus(e,u)}else if(i.action==="moveDown"&&o&&Ra(o.element)){var D=this.eleContains(e);D?this.eleFocus(e,u):this.elementFocus(e)}break;case"tab":if(!a&&!s){var E=e.firstElementChild;l===n&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(E),E.focus()))}break;case"popupClose":o&&this.overflowMode!=="Extended"&&o.hide(c);break;case"popupOpen":if(!s)return;o&&!Ra(o.element)?(o.element.style.top=l.offsetHeight+"px",o.show({name:"FadeIn",duration:100})):o.hide(c);break}},t.prototype.keyActionHandler=function(e){var i=this,n=e.target;if(!((e.action==="home"||e.action==="end"||e.action==="moveRight"||e.action==="moveLeft"||e.action==="moveUp"||e.action==="moveDown")&&(n.tagName==="INPUT"||n.tagName==="TEXTAREA"||this.element.classList.contains(hl)))){e.preventDefault();var s=n.classList.contains(Yc),a=n.classList.contains(nU),o=this.clstElement(s,n);if(o||a){var l=o,c=this.getNextFocusableItem(l,e.action),u={originalEvent:e,currentItem:l,nextItem:c,cancel:!1};this.trigger("keyDown",u,function(d){d.cancel||i.keyHandling(o,e,n,s,a)})}}},t.prototype.disable=function(e){var i=this.element;e?i.classList.add(hl):i.classList.remove(hl),this.activeEle&&this.activeEle.setAttribute("tabindex",this.activeEle.getAttribute("data-tabindex")),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(Ra(this.popObj.element)&&this.overflowMode!=="Extended"&&this.popObj.hide(),i.querySelector("#"+i.id+"_nav").setAttribute("tabindex",e?"-1":"0"))},t.prototype.eleContains=function(e){return e.classList.contains(as)||e.classList.contains(hl)||e.getAttribute("disabled")||e.classList.contains(Yh)||!Ra(e)||!e.classList.contains(ss)},t.prototype.focusFirstVisibleEle=function(e){for(var i,n=0;n<e.length;){var s=e[parseInt(n.toString(),10)];if(!s.classList.contains(as)&&!s.classList.contains(Yh)&&!s.classList.contains(hl))return s;n++}return i},t.prototype.focusLastVisibleEle=function(e){for(var i,n=e.length-1;n>=0;){var s=e[parseInt(n.toString(),10)];if(!s.classList.contains(as)&&!s.classList.contains(Yh)&&!s.classList.contains(hl))return s;n--}return i},t.prototype.eleFocus=function(e,i){var n=Object(e)[i+"ElementSibling"];if(n){var s=this.eleContains(n);if(s){this.eleFocus(n,i);return}this.elementFocus(n)}else if(this.tbarAlign){var a=Object(e.parentElement)[i+"ElementSibling"];if(!v(a)&&a.children.length===0&&(a=Object(a)[i+"ElementSibling"]),!v(a)&&a.children.length>0)if(i==="next"){var o=a.querySelector("."+ss);this.eleContains(o)?this.eleFocus(o,i):(o.firstElementChild.focus(),this.activeEleSwitch(o))}else{var o=a.lastElementChild;this.eleContains(o)?this.eleFocus(o,i):this.elementFocus(o)}}else if(!v(e)){var l=this.element.querySelectorAll("."+ms+" ."+ss+":not(."+as+"):not(."+hl+"):not(."+Yh+")");i==="next"&&l?this.elementFocus(l[0]):i==="previous"&&l&&this.elementFocus(l[l.length-1])}},t.prototype.clickHandler=function(e){var i=this,n=e.target,s=this.element,a=!v(Fe(n,"."+sM)),o=n.classList,l=Fe(n,"."+Yc);l||(l=n),!s.children[0].classList.contains("e-hscroll")&&!s.children[0].classList.contains("e-vscroll")&&o.contains(Yc)&&(o=n.querySelector(".e-icons").classList),(o.contains(UD)||o.contains(nM))&&this.popupClickHandler(s,l,_d);var c,u=Fe(e.target,"."+ss);if(!((v(u)||u.classList.contains(hl))&&!l.classList.contains(Yc))){if(u){var d=this.items[this.tbarEle.indexOf(u)];c=d}var p={originalEvent:e,item:c},m=c&&!v(c.click)&&typeof c.click=="object"?!v(c.click.observers)&&c.click.observers.length>0:!v(c)&&!v(c.click);m&&this.trigger("items["+this.tbarEle.indexOf(u)+"].click",p),p.cancel||this.trigger("clicked",p,function(y){!v(i.popObj)&&a&&!y.cancel&&i.overflowMode==="Popup"&&y.item&&y.item.type!=="Input"&&i.popObj.hide({name:"FadeOut",duration:100})})}},t.prototype.popupClickHandler=function(e,i,n){var s=this.popObj;Ra(s.element)?(i.classList.remove(aM),s.hide({name:"FadeOut",duration:100})):(e.classList.contains(n)&&(s.enableRtl=!0,s.position={X:"left",Y:"top"}),s.offsetX===0&&!e.classList.contains(n)&&(s.enableRtl=!1,s.position={X:"right",Y:"top"}),this.overflowMode==="Extended"&&(s.element.style.minHeight="0px",s.width=this.getToolbarPopupWidth(this.element)),s.dataBind(),s.refreshPosition(),s.element.style.top=this.getElementOffsetY()+"px",i.classList.add(aM),s.show({name:"FadeIn",duration:100}))},t.prototype.getToolbarPopupWidth=function(e){var i=window.getComputedStyle(e);return parseFloat(i.width)+parseFloat(i.borderRightWidth)*2},t.prototype.render=function(){var e=this;this.initialize(),this.clickEvent=this.docEvent.bind(this),this.scrollEvent=this.docEvent.bind(this),this.renderControl(),this.wireEvents(),this.renderComplete(),this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates(function(){e.refreshOverflow()})},t.prototype.initialize=function(){var e=bt(this.width),i=bt(this.height);(Re.info.name!=="msie"||this.height!=="auto"||this.overflowMode==="MultiRow")&&ui(this.element,{height:i}),ui(this.element,{width:e});var n={role:"toolbar","aria-disabled":"false","aria-orientation":this.isVertical?"vertical":"horizontal"};Ht(this.element,n),this.cssClass&&pe([this.element],this.cssClass.split(" "))},t.prototype.renderControl=function(){var e=this.element;this.trgtEle=e.children.length>0?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()},t.prototype.renderLayout=function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()},t.prototype.itemsAlign=function(e,i){var n,s;this.tbarEle||(this.tbarEle=[]);for(var a=0;a<e.length;a++)n=this.renderSubComponent(e[parseInt(a.toString(),10)],a),this.tbarEle.indexOf(n)===-1&&this.tbarEle.push(n),this.tbarAlign||this.tbarItemAlign(e[parseInt(a.toString(),10)],i,a),s=i.querySelector(".e-toolbar-"+e[parseInt(a.toString(),10)].align.toLowerCase()),s?(e[parseInt(a.toString(),10)].showAlwaysInPopup&&e[parseInt(a.toString(),10)].overflow!=="Show"||this.tbarAlgEle[(e[parseInt(a.toString(),10)].align+"s").toLowerCase()].push(n),s.appendChild(n)):i.appendChild(n);if(this.isReact){var o="portals";this.notify("render-react-toolbar-template",this[""+o]),this.renderReactTemplates()}},t.prototype.changeOrientation=function(){var e=this.element;this.isVertical?(e.classList.remove(P2),this.isVertical=!1,(this.height==="auto"||this.height==="100%")&&(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add(P2),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),ui(this.element,{height:bt(this.height),width:bt(this.width)})),this.destroyMode(),this.refreshOverflow()},t.prototype.initScroll=function(e,i){if(!this.scrollModule&&this.checkOverflow(e,i[0])){this.tbarAlign&&this.element.querySelector("."+ms+" ."+sU).removeAttribute("style"),this.isVertical?this.scrollModule=new mxe({scrollStep:this.scrollStep,enableRtl:this.enableRtl},i[0]):this.scrollModule=new uxe({scrollStep:this.scrollStep,enableRtl:this.enableRtl},i[0]),this.cssClass&&pe([i[0]],this.cssClass.split(" "));var n=this.scrollModule.element.querySelector("."+B2+", .e-vscroll-bar");n&&n.removeAttribute("tabindex"),this.remove(this.scrollModule.element,Wh),ui(this.element,{overflow:"hidden"})}},t.prototype.itemWidthCal=function(e){var i=this,n=0,s;return[].slice.call(Ei("."+ss,e)).forEach(function(a){Ra(a)&&(s=window.getComputedStyle(a),n+=i.isVertical?a.offsetHeight:a.offsetWidth,n+=parseFloat(i.isVertical?s.marginTop:s.marginRight),n+=parseFloat(i.isVertical?s.marginBottom:s.marginLeft))}),n},t.prototype.getScrollCntEle=function(e){var i=this.isVertical?".e-vscroll-content":".e-hscroll-content";return e.querySelector(i)},t.prototype.checkOverflow=function(e,i){if(v(e)||v(i)||!Ra(e))return!1;var n=this.isVertical?e.offsetHeight:e.offsetWidth,s=this.isVertical?i.offsetHeight:i.offsetWidth;(this.tbarAlign||this.scrollModule||n===s)&&(s=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(i):i));var a=e.querySelector("."+Yc),o=e.querySelector("."+nU),l=0;return a?l=this.isVertical?a.offsetHeight:a.offsetWidth:o&&(l=this.isVertical?o.offsetHeight*2:o.offsetWidth*2),n>=s&&o?!1:s>n-l},t.prototype.refreshOverflow=function(){this.resize()},t.prototype.toolbarAlign=function(e){this.tbarAlign&&(this.add(e,Wh),this.itemPositioning())},t.prototype.renderOverflowMode=function(){var e=this.element,i=e.querySelector("."+ms),n=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),Re.info.name==="msie"&&this.height==="auto"&&(e.style.height=""),this.overflowMode){case"Scrollable":v(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(ms)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,i)||n)&&this.setOverflowAttributes(e),this.toolbarAlign(i);break;case"MultiRow":this.add(i,aU),this.checkOverflow(e,i)&&this.tbarAlign&&(this.removePositioning(),this.add(i,oU)),e.style.overflow==="hidden"&&(e.style.overflow=""),(Re.info.name==="msie"||e.style.height!=="auto")&&(e.style.height="auto");break;case"Extended":this.add(this.element,lU),(this.checkOverflow(e,i)||n)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(i)}},t.prototype.setOverflowAttributes=function(e){this.createPopupEle(e,[].slice.call(Ei("."+ms+" ."+ss,e)));var i={tabindex:"0",role:"button","aria-haspopup":"true","aria-label":"overflow"};Ht(this.element.querySelector("."+Yc),i)},t.prototype.separator=function(){var e=this.element,i=[].slice.call(e.querySelectorAll("."+as)),n=e.querySelector("."+U2),s=e.querySelector("."+V2),a=this.overflowMode==="MultiRow"?n:s;a!==null&&(this.overflowMode==="MultiRow"?a.classList.remove(U2):this.overflowMode==="Extended"&&a.classList.remove(V2));for(var o=0;o<=i.length-1;o++)i[parseInt(o.toString(),10)].offsetLeft<30&&i[parseInt(o.toString(),10)].offsetLeft!==0&&(this.overflowMode==="MultiRow"?i[parseInt(o.toString(),10)].classList.add(U2):this.overflowMode==="Extended"&&i[parseInt(o.toString(),10)].classList.add(V2))},t.prototype.createPopupEle=function(e,i){var n=e.querySelector("."+Yc),s=this.isVertical;n||this.createPopupIcon(e),n=e.querySelector("."+Yc);var a=s?n.offsetHeight:n.offsetWidth,o=(s?e.offsetHeight:e.offsetWidth)-a;this.element.classList.remove("e-rtl"),ui(this.element,{direction:"initial"}),this.checkPriority(e,i,o,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},t.prototype.pushingPoppedEle=function(e,i,n,s,a){var o=e.element,l=[].slice.call(Ei("."+jm,o.querySelector("."+ms))),c=Ei("."+Hh,n),u=0,d=0;l.forEach(function(M,w){if(c=Ei("."+Hh,n),M.classList.contains(Hh)&&c.length>0)e.tbResize&&c.length>w?(n.insertBefore(M,c[parseInt(w.toString(),10)]),++d):(n.insertBefore(M,n.children[c.length]),++d);else if(M.classList.contains(Hh))n.insertBefore(M,n.firstChild),++d;else if(e.tbResize&&M.classList.contains(VD)&&n.children.length>0&&c.length===0)n.insertBefore(M,n.firstChild),++d;else if(M.classList.contains(VD))i.push(M);else if(e.tbResize)n.insertBefore(M,n.childNodes[u+d]),++u;else{var b=Array.prototype.slice.call(n.children),D=b.slice(w).find(function(E){return!E.classList.contains(HD)});n.insertBefore(M,D||null)}M.classList.contains(as)?ui(M,{display:"",height:a+"px"}):ui(M,{display:"",height:s+"px"})}),i.forEach(function(M){n.appendChild(M)});for(var p=Ei("."+ss,o.querySelector("."+ms)),m=p.length-1;m>=0;m--){var y=p[parseInt(m.toString(),10)];if(y.classList.contains(as)&&this.overflowMode!=="Extended")ui(y,{display:"none"});else break}},t.prototype.createPopup=function(){var e=this.element,i,n;this.overflowMode==="Extended"&&(n=e.querySelector("."+as),i=e.style.height==="auto"||e.style.height===""?null:n&&n.offsetHeight);var s=e.querySelector("."+ss+":not(."+as+"):not(."+jm+")"),a=e.style.height==="auto"||e.style.height===""?null:s&&s.offsetHeight,o,l=[];if(Et("#"+e.id+"_popup."+sM,e))o=Et("#"+e.id+"_popup."+sM,e);else{var c=this.createElement("div",{id:e.id+"_popup",className:sM+" "+WD}),u=this.createElement("div",{id:e.id+"_popup",className:sM});o=this.overflowMode==="Extended"?c:u}this.pushingPoppedEle(this,l,o,a,i),this.popupInit(e,o)},t.prototype.getElementOffsetY=function(){return this.overflowMode==="Extended"&&window.getComputedStyle(this.element).getPropertyValue("box-sizing")==="border-box"?this.element.clientHeight:this.element.offsetHeight},t.prototype.popupInit=function(e,i){if(this.popObj){if(this.overflowMode!=="Extended"){var a=this.popObj.element;ui(a,{maxHeight:"",display:"block"}),ui(a,{maxHeight:a.offsetHeight+"px",display:""})}}else{e.appendChild(i),this.cssClass&&pe([i],this.cssClass.split(" ")),ui(this.element,{overflow:""});var n=new xh(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if(this.overflowMode==="Extended"&&(n.width=this.getToolbarPopupWidth(this.element),n.offsetX=0),n.appendTo(i),document.addEventListener("scroll",this.clickEvent),document.addEventListener("click",this.scrollEvent),this.overflowMode!=="Extended"&&(n.element.style.maxHeight=n.element.offsetHeight+"px"),this.isVertical&&(n.element.style.visibility="hidden"),this.isExtendedOpen){var s=this.element.querySelector("."+Yc);s.classList.add(aM),No(s.firstElementChild,[UD],[nM]),this.element.querySelector("."+WD).classList.add(tU)}else n.hide();this.popObj=n}},t.prototype.tbarPopupHandler=function(e){this.overflowMode==="Extended"&&(e?this.add(this.element,H2):this.remove(this.element,H2))},t.prototype.popupOpen=function(e){var i=this.popObj;this.isVertical||(i.offsetY=this.getElementOffsetY(),i.dataBind());var n=this.popObj.element,s=this.popObj.element.parentElement,a=s.querySelector("."+Yc);a.setAttribute("aria-expanded","true"),this.overflowMode==="Extended"?i.element.style.minHeight="":(ui(i.element,{height:"auto",maxHeight:""}),i.element.style.maxHeight=i.element.offsetHeight+"px");var o=n.offsetTop+n.offsetHeight+vc(s).top,l=a.firstElementChild;a.classList.add(aM),No(l,[UD],[nM]),this.tbarPopupHandler(!0);var c=v(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+c<o&&this.element.offsetTop<n.offsetHeight){var u=n.offsetHeight-(o-window.innerHeight-c+5);i.height=u+"px";for(var d=0;d<=n.childElementCount;d++){var p=n.children[parseInt(d.toString(),10)];if(p.offsetTop+p.offsetHeight>u){u=p.offsetTop;break}}this.overflowMode!=="Extended"&&ui(i.element,{maxHeight:u+"px"})}else if(this.isVertical&&this.overflowMode!=="Extended"){var m=this.element.getBoundingClientRect();ui(i.element,{maxHeight:m.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(i){var y=n.getBoundingClientRect();y.right>document.documentElement.clientWidth&&y.width>s.getBoundingClientRect().width&&(i.collision={Y:"none"},i.dataBind()),i.refreshPosition()}},t.prototype.popupClose=function(e){var i=this.element,n=i.querySelector("."+Yc);n.setAttribute("aria-expanded","false");var s=n.firstElementChild;n.classList.remove(aM),No(s,[nM],[UD]),this.tbarPopupHandler(!1)},t.prototype.checkPriority=function(e,i,n,s){for(var a=this.popupPriCount>0,o=i.length,l=n,c,u,d=0,p=0,m=0,y=function(P,C){var k=!1;return C.forEach(function(_){P.classList.contains(_)&&(k=!0)}),k},M=o-1;M>=0;M--){var w=void 0,b=window.getComputedStyle(i[parseInt(M.toString(),10)]);this.isVertical?(w=parseFloat(b.marginTop),w+=parseFloat(b.marginBottom)):(w=parseFloat(b.marginRight),w+=parseFloat(b.marginLeft));var D=i[parseInt(M.toString(),10)]===this.tbarEle[0];D&&(this.tbarEleMrgn=w),c=this.isVertical?i[parseInt(M.toString(),10)].offsetHeight:i[parseInt(M.toString(),10)].offsetWidth;var E=D?c+w:c;if(y(i[parseInt(M.toString(),10)],[HD])&&a&&(i[parseInt(M.toString(),10)].classList.add(jm),this.isVertical?ui(i[parseInt(M.toString(),10)],{display:"none",minHeight:E+"px"}):ui(i[parseInt(M.toString(),10)],{display:"none",minWidth:E+"px"}),m++),this.isVertical?u=i[parseInt(M.toString(),10)].offsetTop+i[parseInt(M.toString(),10)].offsetHeight+w>n:u=i[parseInt(M.toString(),10)].offsetLeft+i[parseInt(M.toString(),10)].offsetWidth+w>n,u){if(i[parseInt(M.toString(),10)].classList.contains(as)){if(this.overflowMode==="Extended"){var N=i[parseInt(M.toString(),10)];y(N,[as,oM])&&(i[parseInt(M.toString(),10)].classList.add(jm),m++),p++}else if(this.overflowMode==="Popup"){if(d>0&&p===m){var N=i[M+p+(d-1)];y(N,[as,oM])&&ui(N,{display:"none"})}d++,p=0,m=0}}else p++;i[parseInt(M.toString(),10)].classList.contains(Hh)&&s?n-=(this.isVertical?i[parseInt(M.toString(),10)].offsetHeight:i[parseInt(M.toString(),10)].offsetWidth)+w:y(i[parseInt(M.toString(),10)],[as,oM])?n-=(this.isVertical?i[parseInt(M.toString(),10)].offsetHeight:i[parseInt(M.toString(),10)].offsetWidth)+w:(i[parseInt(M.toString(),10)].classList.add(jm),this.isVertical?ui(i[parseInt(M.toString(),10)],{display:"none",minHeight:E+"px"}):ui(i[parseInt(M.toString(),10)],{display:"none",minWidth:E+"px"}),m++)}}if(s){var B=Ei("."+ss+":not(."+jm+")",this.element);this.checkPriority(e,B,l,!1)}},t.prototype.createPopupIcon=function(e){var i=e.id.concat("_nav"),n="e-"+e.id.concat("_nav "+Exe);n=this.overflowMode==="Extended"?n+" "+Sxe:n;var s=this.createElement("div",{id:i,className:n});(Re.info.name==="msie"||Re.info.name==="edge")&&s.classList.add("e-ie-align");var a=this.createElement("div",{className:nM+" e-icons"});s.appendChild(a),s.setAttribute("tabindex","0"),s.setAttribute("role","button"),e.appendChild(s)},t.prototype.tbarPriRef=function(e,i,n,s,a,o,l,c,u){var d=c,p=this.popObj.element,m="."+ss+":not(."+as+"):not(."+Hh+")",y=Ei("."+jm+":not(."+Hh+")",p).length,M=function(N,B){return N.classList.contains(B)};if(Ei(m,e).length===0){var w=e.children[i-(i-n)-1],b=!v(w)&&M(w,oM);if(!v(w)&&M(w,as)&&!Ra(w)||b){w.style.display="unset";var D=w.offsetWidth+parseFloat(window.getComputedStyle(w).marginRight)*2,E=w.previousElementSibling;o+D<l||a?(e.insertBefore(s,e.children[i+d-(i-n)]),v(E)||(E.style.display="")):(ui(s,u),E.classList.contains(as)&&(E.style.display="none")),w.style.display=""}else e.insertBefore(s,e.children[i+d-(i-n)])}else e.insertBefore(s,e.children[i+d-y])},t.prototype.popupRefresh=function(e,i){var n=this,s=this.element,a=this.isVertical,o=s.querySelector("."+ms),l=s.querySelector("."+Yc);if(!v(l)){o.removeAttribute("style"),e.style.display="block";var c;a?c=s.offsetHeight-(l.offsetHeight+o.offsetHeight):c=s.offsetWidth-(l.offsetWidth+o.offsetWidth);var u=0;[].slice.call(e.children).forEach(function(d){u+=n.popupEleWidth(d),ui(d,{position:""})}),c+(a?l.offsetHeight:l.offsetWidth)>u&&this.popupPriCount===0&&(i=!0),this.popupEleRefresh(c,e,i),e.style.display="",e.children.length===0&&l&&this.popObj&&(zt(l),l=null,this.popObj.destroy(),zt(this.popObj.element),this.popObj=null)}},t.prototype.ignoreEleFetch=function(e,i){var n=[].slice.call(i.querySelectorAll("."+oM)),s=[],a=0;if(n.length>0)n.forEach(function(o){s.push([].slice.call(i.children).indexOf(o))});else return 0;return s.forEach(function(o){o<=e&&a++}),a},t.prototype.checkPopupRefresh=function(e,i){i.style.display="block";var n=this.popupEleWidth(i.firstElementChild);i.firstElementChild.style.removeProperty("Position");var s=e.offsetWidth-e.querySelector("."+Yc).offsetWidth,a=e.querySelector("."+ms).offsetWidth;return i.style.removeProperty("display"),s>n+a},t.prototype.popupEleWidth=function(e){e.style.position="absolute";var i=window.getComputedStyle(e),n=this.isVertical?e.offsetHeight:e.offsetWidth+parseFloat(i.marginLeft)+parseFloat(i.marginRight),s=e.querySelector("."+Axe);if(e.classList.contains("e-tbtn-align")||e.classList.contains(F2)){var a=e.children[0];!v(s)&&e.classList.contains(F2)?s.style.display="none":!v(s)&&e.classList.contains(rU)&&(s.style.display="block"),a.style.minWidth="0%",n=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),a.style.minWidth="",a.style.minHeight="",v(s)||(s.style.display="")}return n},t.prototype.popupEleRefresh=function(e,i,n){for(var s=this.popupPriCount>0,a=this.tbarEle,o,l,c=this.element.querySelector("."+ms),u=0,d=function(D){if(D.classList.contains(HD)&&s&&!n)return"continue";var E=p.popupEleWidth(D);if(D===p.tbarEle[0]&&(E+=p.tbarEleMrgn),D.style.position="",E<e||n){var N={minWidth:D.style.minWidth,height:D.style.height,minHeight:D.style.minHeight};if(ui(D,{minWidth:"",height:"",minHeight:""}),D.classList.contains(VD)||D.classList.remove(jm),l=p.tbarEle.indexOf(D),p.tbarAlign){var B=p.items[parseInt(l.toString(),10)].align;l=p.tbarAlgEle[(B+"s").toLowerCase()].indexOf(D),a=p.tbarAlgEle[(B+"s").toLowerCase()],c=p.element.querySelector("."+ms+" .e-toolbar-"+B.toLowerCase())}var P=0;p.overflowMode!=="Extended"&&a.slice(0,l).forEach(function(C){(C.classList.contains(Hh)||C.classList.contains(as))&&(C.classList.contains(as)&&(C.style.display="",e-=C.offsetWidth),P++)}),u=p.ignoreEleFetch(l,c),D.classList.contains(Hh)?(p.tbarPriRef(c,l,P,D,n,E,e,u,N),e-=D.offsetWidth):l===0?(c.insertBefore(D,c.firstChild),e-=D.offsetWidth):(o=Ei("."+Hh,p.popObj.element).length,c.insertBefore(D,c.children[l+u-o]),e-=D.offsetWidth),D.style.height=""}else return"break"},p=this,m=0,y=[].slice.call(i.children);m<y.length;m++){var M=y[m],w=d(M);if(w==="break")break}var b=this.checkOverflow(this.element,this.element.getElementsByClassName(ms)[0]);b&&!n&&this.renderOverflowMode()},t.prototype.removePositioning=function(){var e=this.element.querySelector("."+ms);if(!(v(e)||!e.classList.contains(Wh))){this.remove(e,Wh);var i=[].slice.call(e.childNodes);i[1].removeAttribute("style"),i[2].removeAttribute("style")}},t.prototype.refreshPositioning=function(){var e=this.element.querySelector("."+ms);this.add(e,Wh),this.itemPositioning()},t.prototype.itemPositioning=function(){var e=this.element.querySelector("."+ms),i;if(!(v(e)||!e.classList.contains(Wh))){var n=this.element.querySelector("."+Yc),s;if(this.scrollModule){var a=this.isVertical?Dxe:bxe;s=[].slice.call(e.querySelector("."+a).children)}else s=[].slice.call(e.childNodes);this.isVertical?i=s[0].offsetHeight+s[2].offsetHeight:i=s[0].offsetWidth+s[2].offsetWidth;var o=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(n){o-=this.isVertical?n.offsetHeight:n.offsetWidth;var l=(this.isVertical?n.offsetHeight:n.offsetWidth)+"px";s[2].removeAttribute("style"),this.isVertical?this.enableRtl?s[2].style.top=l:s[2].style.bottom=l:this.enableRtl?s[2].style.left=l:s[2].style.right=l}if(!(o<=i)){var c=(o-i-(this.isVertical?s[1].offsetHeight:s[1].offsetWidth))/2;s[1].removeAttribute("style");var u=(this.isVertical?s[0].offsetHeight:s[0].offsetWidth)+c+"px";this.isVertical?this.enableRtl?s[1].style.marginBottom=u:s[1].style.marginTop=u:this.enableRtl?s[1].style.marginRight=u:s[1].style.marginLeft=u}}},t.prototype.tbarItemAlign=function(e,i,n){var s=this;if(!(e.showAlwaysInPopup&&e.overflow!=="Show")){var a=[];if(a.push(this.createElement("div",{className:Txe,attrs:{role:"group"}})),a.push(this.createElement("div",{className:sU,attrs:{role:"group"}})),a.push(this.createElement("div",{className:wxe,attrs:{role:"group"}})),n===0&&e.align!=="Left")a.forEach(function(c){i.appendChild(c)}),this.tbarAlign=!0,this.add(i,Wh);else if(e.align!=="Left"){var o=i.childNodes,l=a[0];[].slice.call(o).forEach(function(c){s.tbarAlgEle.lefts.push(c),l.appendChild(c)}),i.appendChild(l),i.appendChild(a[1]),i.appendChild(a[2]),this.tbarAlign=!0,this.add(i,Wh)}}},t.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,ms),this.tbarEle=[];var i=[].slice.call(this.trgtEle.children);i.forEach(function(n){n.tagName==="DIV"&&(e.tbarEle.push(n),v(n.firstElementChild)||n.firstElementChild.setAttribute("aria-disabled","false"),e.add(n,ss))})},t.prototype.renderItems=function(){var e=this.element,i=this.items;if(this.trgtEle!=null)this.ctrlTemplate();else if(e&&i.length>0){var n=void 0;e&&e.children.length>0&&(n=e.querySelector("."+ms)),n||(n=this.createElement("div",{className:ms})),this.itemsAlign(i,n),e.appendChild(n)}},t.prototype.setAttr=function(e,i){for(var n=Object.keys(e),s,a=0;a<n.length;a++)s=n[parseInt(a.toString(),10)],s==="class"?this.add(i,e[""+s]):i.setAttribute(s,e[""+s])},t.prototype.enableItems=function(e,i){var n=this,s=e,a=s.length,o;v(i)&&(i=!0);var l=function(p,m){p?(m.classList.remove(hl),v(m.firstElementChild)||(m.firstElementChild.setAttribute("aria-disabled","false"),n.updateTabIndex("0"))):(m.classList.add(hl),v(m.firstElementChild)||(m.firstElementChild.setAttribute("aria-disabled","true"),m.firstElementChild.setAttribute("tabindex","-1"),n.updateTabIndex("0")))};if(!v(a)&&a>=1){for(var c=0,u=[].slice.call(s);c<a;c++){var d=u[parseInt(c.toString(),10)];if(typeof d=="number"){if(o=this.getElementByIndex(d),v(o))return;s[parseInt(c.toString(),10)]=o}else o=d;l(i,o)}i?Oe(s,hl):pe(s,hl)}else{if(typeof s=="number"){if(o=this.getElementByIndex(s),v(o))return}else o=e;l(i,o)}},t.prototype.getElementByIndex=function(e){return this.tbarEle[parseInt(e.toString(),10)]?this.tbarEle[parseInt(e.toString(),10)]:null},t.prototype.addItems=function(e,i){var n;this.extendedOpen();var s=this.element.querySelector("."+ms);if(v(s)){this.itemsRerender(e);return}var a,o="Left";v(i)&&(i=0),e.forEach(function(m){!v(m.align)&&m.align!=="Left"&&o==="Left"&&(o=m.align)});for(var l=0,c=e;l<c.length;l++){var u=c[l];if(v(u.type)&&(u.type="Button"),n=Ei("."+ss,this.element),u.align=o,a=this.renderSubComponent(u,i),this.tbarEle.length>=i&&n.length>=0){v(this.scrollModule)&&this.destroyMode();var d=u.align[0]==="L"?0:u.align[0]==="C"?1:2,p=void 0;!this.tbarAlign&&o!=="Left"?(this.tbarItemAlign(u,s,1),this.tbarAlign=!0,p=Fe(n[0],"."+ms).children[parseInt(d.toString(),10)],p.appendChild(a),this.tbarAlgEle[(u.align+"s").toLowerCase()].push(a),this.refreshPositioning()):this.tbarAlign?(p=Fe(n[0],"."+ms).children[parseInt(d.toString(),10)],p.insertBefore(a,p.children[parseInt(i.toString(),10)]),this.tbarAlgEle[(u.align+"s").toLowerCase()].splice(i,0,a),this.refreshPositioning()):n.length===0?(n=Ei("."+ms,this.element),n[0].appendChild(a)):n[0].parentNode.insertBefore(a,n[parseInt(i.toString(),10)]),this.items.splice(i,0,u),u.template&&this.tbarEle.splice(this.tbarEle.length-1,1),this.tbarEle.splice(i,0,a),i++,this.offsetWid=s.offsetWidth}}s.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},t.prototype.removeItems=function(e){var i=e,n,s=[].slice.call(Ei("."+ss,this.element));if(typeof i=="number")n=parseInt(e.toString(),10),this.removeItemByIndex(n,s);else if(i&&i.length>1)for(var a=0,o=[].slice.call(i);a<o.length;a++){var l=o[a];n=this.tbarEle.indexOf(l),this.removeItemByIndex(n,s),s=Ei("."+ss,this.element)}else{var l=i&&i.length&&i.length===1?i[0]:e;n=s.indexOf(l),this.removeItemByIndex(n,s)}this.resize()},t.prototype.removeItemByIndex=function(e,i){if(this.tbarEle[parseInt(e.toString(),10)]&&i[parseInt(e.toString(),10)]){var n=this.tbarEle.indexOf(i[parseInt(e.toString(),10)]);if(this.tbarAlign){var s=this.tbarAlgEle[(this.items[parseInt(n.toString(),10)].align+"s").toLowerCase()].indexOf(this.tbarEle[parseInt(n.toString(),10)]);this.tbarAlgEle[(this.items[parseInt(n.toString(),10)].align+"s").toLowerCase()].splice(parseInt(s.toString(),10),1)}this.isReact&&this.clearToolbarTemplate(i[parseInt(e.toString(),10)]);var a=i[parseInt(e.toString(),10)].querySelector(".e-control.e-btn");!v(a)&&!v(a.ej2_instances[0])&&!a.ej2_instances[0].isDestroyed&&a.ej2_instances[0].destroy(),zt(i[parseInt(e.toString(),10)]),this.items.splice(n,1),this.tbarEle.splice(n,1)}},t.prototype.templateRender=function(e,i,n,s){var a=n.type,o=e,l;if(typeof e=="object"&&(l=typeof o.appendTo=="function"),typeof e=="string"||!l){var c=void 0,u=e,d=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);u=typeof e=="string"?e.trim():e;try{if(typeof e=="object"&&!v(e.tagName))i.appendChild(e);else if(typeof e=="string"&&d.test(u))i.innerHTML=u;else if(document.querySelectorAll(u).length){var p=document.querySelector(u),m=p.outerHTML.trim();i.appendChild(p),p.style.display="",v(m)||this.tempId.push(u)}else c=jn(u)}catch{c=jn(u)}var y=void 0;if(!v(c)){var M=this.element.id+s+"_template";y=c({},this,"template",M,this.isStringTemplate,void 0,void 0,this.root)}!v(y)&&y.length>0&&[].slice.call(y).forEach(function(b){v(b.tagName)||(b.style.display=""),i.appendChild(b)})}else if(a==="Input"){var p=this.createElement("input");n.id?p.id=n.id:p.id=Ha("tbr-ipt"),i.appendChild(p),o.appendTo(p)}this.add(i,iU);var w=i.firstElementChild;v(w)||(w.setAttribute("tabindex",v(w.getAttribute("tabIndex"))?"-1":this.getDataTabindex(w)),w.setAttribute("data-tabindex",v(w.getAttribute("tabIndex"))?"-1":this.getDataTabindex(w))),this.tbarEle.push(i)},t.prototype.buttonRendering=function(e,i){var n=this.createElement("button",{className:Mxe});n.setAttribute("type","button");var s=e.text,a,o;e.id?n.id=e.id:n.id=Ha("e-tbr-btn");var l=this.createElement("span",{className:"e-tbar-btn-text"});s?(l.innerHTML=this.enableHtmlSanitizer?Io.sanitize(s):s,n.appendChild(l),n.classList.add("e-tbtn-txt")):this.add(i,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(a=e.prefixIcon+" e-icons",o="Left"):(a=e.suffixIcon+" e-icons",o="Right"));var c=new z1({iconCss:a,iconPosition:o});return c.createElement=this.createElement,c.appendTo(n),e.width&&ui(n,{width:bt(e.width)}),n},t.prototype.renderSubComponent=function(e,i){var n,s=this.createElement("div",{className:ss}),a=this.createElement("div",{innerHTML:this.enableHtmlSanitizer&&!v(e.tooltipText)?Io.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,s),e.tooltipText&&s.setAttribute("title",a.textContent),e.cssClass&&(s.className=s.className+" "+e.cssClass),e.template)this.templateRender(e.template,s,e,i);else switch(e.type){case"Button":n=this.buttonRendering(e,s),n.setAttribute("tabindex",v(e.tabIndex)?"-1":e.tabIndex.toString()),n.setAttribute("data-tabindex",v(e.tabIndex)?"-1":e.tabIndex.toString()),n.setAttribute("aria-label",e.text||e.tooltipText),n.setAttribute("aria-disabled","false"),s.appendChild(n),s.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(s,as);break}if(e.showTextOn){var o=e.showTextOn;o==="Toolbar"?(this.add(s,rU),this.add(s,"e-tbtn-align")):o==="Overflow"&&this.add(s,F2)}if(e.overflow){var l=e.overflow;l==="Show"?this.add(s,Hh):l==="Hide"&&(s.classList.contains(as)||this.add(s,VD))}return e.overflow!=="Show"&&e.showAlwaysInPopup&&!s.classList.contains(as)&&(this.add(s,HD),this.popupPriCount++),e.disabled&&this.add(s,hl),e.visible===!1&&this.add(s,Yh),s},t.prototype.getDataTabindex=function(e){return v(e.getAttribute("data-tabindex"))?"-1":e.getAttribute("data-tabindex")},t.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},t.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},t.prototype.activeEleRemove=function(e){var i=this.element.querySelector("."+ss+":not(."+hl+" ):not(."+as+" ):not(."+Yh+" )");if(v(this.activeEle)||(this.activeEle.setAttribute("tabindex",this.getDataTabindex(this.activeEle)),i&&i.removeAttribute("tabindex"),i=this.activeEle),this.activeEle=e,this.getDataTabindex(this.activeEle)==="-1")if(v(this.trgtEle)&&!e.parentElement.classList.contains(iU)){if(!v(this.element.querySelector(".e-hor-nav"))&&this.element.querySelector(".e-hor-nav").classList.contains("e-nav-active")){this.updateTabIndex("0");var n=this.getDataTabindex(i)==="-1"?"0":this.getDataTabindex(i);i.setAttribute("tabindex",n)}else this.updateTabIndex("-1");e.removeAttribute("tabindex")}else{var s=parseInt(this.getDataTabindex(this.activeEle),10)+1;this.activeEle.setAttribute("tabindex",s.toString())}},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.getModuleName=function(){return"toolbar"},t.prototype.itemsRerender=function(e){this.items=this.tbarItemsCol,(this.isReact||this.isAngular)&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},t.prototype.resize=function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&this.overflowMode==="Popup"&&this.popObj.hide();var i=this.checkOverflow(e,e.getElementsByClassName(ms)[0]);if(!i){this.destroyScroll();var n=e.querySelector("."+ms);v(n)||(this.remove(n,oU),this.tbarAlign&&this.add(n,Wh))}i&&this.scrollModule&&this.offsetWid===e.offsetWidth||((this.offsetWid>e.offsetWidth||i)&&this.renderOverflowMode(),this.popObj&&(this.overflowMode==="Extended"&&(this.popObj.width=this.getToolbarPopupWidth(this.element)),this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()),this.element.querySelector("."+B2)&&(this.scrollStep=this.element.querySelector("."+B2).offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator())},t.prototype.orientationChange=function(){var e=this;setTimeout(function(){e.resize()},500)},t.prototype.extendedOpen=function(){var e=this.element.querySelector("."+WD);this.overflowMode==="Extended"&&e&&(this.isExtendedOpen=e.classList.contains(tU))},t.prototype.updateHideEleTabIndex=function(e,i,n,s,a){n&&(s=a.indexOf(e));for(var o=a[++s];o;){var l=this.eleContains(o);if(!l){var c=o.firstElementChild.getAttribute("data-tabindex");i&&c==="-1"?o.firstElementChild.setAttribute("tabindex","0"):c!==o.firstElementChild.getAttribute("tabindex")&&o.firstElementChild.setAttribute("tabindex",c);break}o=a[++s]}},t.prototype.clearToolbarTemplate=function(e){if(this.registeredTemplate&&this.registeredTemplate.template)for(var i=this.registeredTemplate,n=0;n<i.template.length;n++){var s=i.template[parseInt(n.toString(),10)].rootNodes[0],a=Fe(s,"."+ss);if(!v(a)&&a===e){this.clearTemplate(["template"],[i.template[parseInt(n.toString(),10)]]);break}}else if(this.portals&&this.portals.length>0)for(var o=this.portals,n=0;n<o.length;n++){var l=o[parseInt(n.toString(),10)],a=Fe(l.containerInfo,"."+ss);if(!v(a)&&a===e){this.clearTemplate(["template"],n);break}}},t.prototype.onPropertyChanged=function(e,i){var n=this.element;this.extendedOpen();for(var s=0,a=Object.keys(e);s<a.length;s++){var o=a[s];switch(o){case"items":if(e.items instanceof Array&&i.items instanceof Array)this.itemsRerender(e.items);else for(var l=Object.keys(e.items),c=0;c<l.length;c++){var u=parseInt(Object.keys(e.items)[parseInt(c.toString(),10)],10),d=Object.keys(e.items[parseInt(u.toString(),10)])[0],p=Object(e.items[parseInt(u.toString(),10)])[""+d];if(this.tbarAlign||d==="align"){this.refresh(),this.trigger("created");break}var m=d==="showAlwaysInPopup"&&!p,y=d==="overflow"&&this.popupPriCount!==0;(m||this.items[parseInt(u.toString(),10)].showAlwaysInPopup&&y)&&--this.popupPriCount,v(this.scrollModule)&&this.destroyMode();var M=[].slice.call(Ei("."+ms+" ."+ss,n));this.isReact&&this.items[parseInt(u.toString(),10)].template&&this.clearToolbarTemplate(M[parseInt(u.toString(),10)]),zt(M[parseInt(u.toString(),10)]),this.tbarEle.splice(u,1),this.addItems([this.items[parseInt(u.toString(),10)]],u),this.items.splice(u,1),this.items[parseInt(u.toString(),10)].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":ui(n,{width:bt(e.width)}),this.refreshOverflow();break;case"height":ui(this.element,{height:bt(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(n,_d),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(n,_d):this.remove(n,_d),v(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,_d):this.remove(this.scrollModule.element,_d)),v(this.popObj)||(e.enableRtl?this.add(this.popObj.element,_d):this.remove(this.popObj.element,_d)),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":i.cssClass&&Oe([this.element],i.cssClass.split(" ")),e.cssClass&&pe([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent();break}}},t.prototype.hideItem=function(e,i){var n=typeof e=="object",s=e,a;if(!(!n&&v(s))){var o=[].slice.call(Ei("."+ss,this.element));if(n)a=e;else if(this.tbarEle[parseInt(s.toString(),10)]){var l=[].slice.call(Ei("."+ss,this.element));a=l[parseInt(s.toString(),10)]}a&&(i?(a.classList.add(Yh),a.classList.contains(as)||(v(a.firstElementChild.getAttribute("tabindex"))||a.firstElementChild.getAttribute("tabindex")!=="-1")&&this.updateHideEleTabIndex(a,i,n,s,o)):(a.classList.remove(Yh),a.classList.contains(as)||this.updateHideEleTabIndex(a,i,n,s,o)),this.refreshOverflow())}},gn([ow([],Nxe)],t.prototype,"items",void 0),gn([ee("auto")],t.prototype,"width",void 0),gn([ee("auto")],t.prototype,"height",void 0),gn([ee("")],t.prototype,"cssClass",void 0),gn([ee("Scrollable")],t.prototype,"overflowMode",void 0),gn([ee()],t.prototype,"scrollStep",void 0),gn([ee(!0)],t.prototype,"enableCollision",void 0),gn([ee(!0)],t.prototype,"enableHtmlSanitizer",void 0),gn([ee(!0)],t.prototype,"allowKeyboard",void 0),gn([Xe()],t.prototype,"clicked",void 0),gn([Xe()],t.prototype,"created",void 0),gn([Xe()],t.prototype,"destroyed",void 0),gn([Xe()],t.prototype,"beforeCreate",void 0),gn([Xe()],t.prototype,"keyDown",void 0),t=gn([$n],t),t})(Dl),fi={RTL:"e-rtl",DISABLE:"e-disabled",INPUT:"e-input",TEXTAREA:"e-multi-line-input",INPUTGROUP:"e-input-group",FLOATINPUT:"e-float-input",FLOATLINE:"e-float-line",FLOATTEXT:"e-float-text",FLOATTEXTCONTENT:"e-float-text-content",CLEARICON:"e-clear-icon",CLEARICONHIDE:"e-clear-icon-hide",LABELTOP:"e-label-top",LABELBOTTOM:"e-label-bottom",NOFLOATLABEL:"e-no-float-label",INPUTCUSTOMTAG:"e-input-custom-tag",FLOATCUSTOMTAG:"e-float-custom-tag"},cU=["title","style","class"],Rt;(function(r){var t=!0;function e(he,Ne){he.element.__eventHandlers={};var Ue=v(Ne)?Be:Ne,Ke={container:null,buttons:[],clearButton:null};if(he.floatLabelType,t=he.bindClearAction,v(he.floatLabelType)||he.floatLabelType==="Never"?(Ke.container=J(he,fi.INPUTGROUP,fi.INPUTCUSTOMTAG,"span",Ue),he.element.parentNode.insertBefore(Ke.container,he.element),pe([he.element],fi.INPUT),Ke.container.appendChild(he.element)):M(he,Ke,Ue),a(he),!v(he.properties)&&!v(he.properties.showClearButton)&&he.properties.showClearButton&&(te(he.properties.showClearButton,he.element,Ke,!0,Ue),Ke.clearButton.setAttribute("role","button"),Ke.container.classList.contains(fi.FLOATINPUT)&&pe([Ke.container],fi.INPUTGROUP)),!v(he.buttons))for(var yt=0;yt<he.buttons.length;yt++)Ke.buttons.push(Yt(he.buttons[yt],Ke.container,Ue));return!v(he.element)&&he.element.tagName==="TEXTAREA"&&pe([Ke.container],fi.TEXTAREA),Ri(Ke.container,he.element),Ke=D(he,Ke),Je(Ke.container,Ue),Ke}r.createInput=e;function i(he){var Ne=B(he.element);(Ne.classList.contains("e-input-group")||Ne.classList.contains("e-outline")||Ne.classList.contains("e-filled"))&&Ne.classList.add("e-input-focus"),he.floatLabelType!=="Never"&&setTimeout(function(){r.calculateWidth(he.element,Ne)},80)}function n(he){var Ne=B(he.element);(Ne.classList.contains("e-input-group")||Ne.classList.contains("e-outline")||Ne.classList.contains("e-filled"))&&Ne.classList.remove("e-input-focus"),he.floatLabelType!=="Never"&&setTimeout(function(){r.calculateWidth(he.element,Ne)},80)}function s(he){l(he.floatLabelType,he.element)}function a(he){l(he.floatLabelType,he.element);var Ne=function(){return i(he)},Ue=function(){return n(he)},Ke=function(){return s(he)};he.element.addEventListener("focus",Ne),he.element.addEventListener("blur",Ue),he.element.addEventListener("input",Ke),he.element.__eventHandlers.inputFocusHandler={focusHandler:Ne},he.element.__eventHandlers.inputBlurHandler={blurHandler:Ue},he.element.__eventHandlers.inputHandler={inputHandler:Ke}}r.bindInitialEvent=a;function o(he){if(!v(he.element)&&!v(he.element.__eventHandlers)&&!v(he.element.__eventHandlers.inputFocusHandler)&&!v(he.element.__eventHandlers.inputBlurHandler)&&!v(he.element.__eventHandlers.inputHandler)){var Ne=he.element.__eventHandlers.inputFocusHandler.focusHandler,Ue=he.element.__eventHandlers.inputBlurHandler.blurHandler,Ke=he.element.__eventHandlers.inputHandler.inputHandler;he.element.removeEventListener("focus",Ne),he.element.removeEventListener("blur",Ue),he.element.removeEventListener("input",Ke),delete he.element.__eventHandlers.inputFocusHandler,delete he.element.__eventHandlers.inputBlurHandler,delete he.element.__eventHandlers.inputHandler}}function l(he,Ne){var Ue=Ne.value,Ke=Ne.parentElement,yt=Ke&&Ke.parentElement;Ue!==""&&!v(Ue)?Ke&&Ke.classList.contains("e-input-group")?Ke.classList.add("e-valid-input"):yt&&yt.classList.contains("e-input-group")&&yt.classList.add("e-valid-input"):he!=="Always"&&(Ke&&Ke.classList.contains("e-input-group")?Ke.classList.remove("e-valid-input"):yt&&yt.classList.contains("e-input-group")&&yt.classList.remove("e-valid-input"))}function c(){var he=B(this).getElementsByClassName("e-float-text")[0];v(he)||(pe([he],fi.LABELTOP),he.classList.contains(fi.LABELBOTTOM)&&Oe([he],fi.LABELBOTTOM))}function u(){var he=B(this);if(he.getElementsByTagName("textarea")[0]?he.getElementsByTagName("textarea")[0].value==="":he.getElementsByTagName("input")[0].value===""){var Ne=he.getElementsByClassName("e-float-text")[0];v(Ne)||(Ne.classList.contains(fi.LABELTOP)&&Oe([Ne],fi.LABELTOP),pe([Ne],fi.LABELBOTTOM))}}function d(he){he.addEventListener("focus",c),he.addEventListener("blur",u)}r.wireFloatingEvents=d;function p(he){v(he)||(he.removeEventListener("focus",c),he.removeEventListener("blur",u))}function m(he){X(he.element,he.floatLabelType)}function y(he){X(he.element,he.floatLabelType)}function M(he,Ne,Ue){var Ke=v(Ue)?Be:Ue;he.floatLabelType==="Auto"&&d(he.element),v(Ne.container)?(Ne.container=J(he,fi.FLOATINPUT,fi.FLOATCUSTOMTAG,"div",Ke),Ne.container.classList.add(fi.INPUTGROUP),he.element.parentNode&&he.element.parentNode.insertBefore(Ne.container,he.element)):(v(he.customTag)||Ne.container.classList.add(fi.FLOATCUSTOMTAG),Ne.container.classList.add(fi.FLOATINPUT));var yt=Ke("span",{className:fi.FLOATLINE}),xt=Ke("label",{className:fi.FLOATTEXT});if(!v(he.element.id)&&he.element.id!==""&&(xt.id="label_"+he.element.id.replace(/ /g,"_"),Ht(he.element,{"aria-labelledby":xt.id})),!v(he.element.placeholder)&&he.element.placeholder!==""&&(xt.innerText=U(he.element.placeholder),he.element.removeAttribute("placeholder")),!v(he.properties)&&!v(he.properties.placeholder)&&he.properties.placeholder!==""&&(xt.innerText=U(he.properties.placeholder)),xt.innerText||Ne.container.classList.add(fi.NOFLOATLABEL),Ne.container.classList.contains("e-float-icon-left")){var Nt=Ne.container.querySelector(".e-input-in-wrap");Nt.appendChild(he.element),Nt.appendChild(yt),Nt.appendChild(xt)}else Ne.container.appendChild(he.element),Ne.container.appendChild(yt),Ne.container.appendChild(xt);if(N(he.element.value,xt),he.floatLabelType==="Always"&&(xt.classList.contains(fi.LABELBOTTOM)&&Oe([xt],fi.LABELBOTTOM),pe([xt],fi.LABELTOP)),he.floatLabelType==="Auto"){var hi=function(){return m(he)},bi=function(){return y(he)};he.element.addEventListener("input",hi),he.element.addEventListener("blur",bi),he.element.__eventHandlers.floatInputHandler={inputFloatHandler:hi},he.element.__eventHandlers.floatBlurHandler={blurFloatHandler:bi}}else w(he);v(he.element.getAttribute("id"))||xt.setAttribute("for",he.element.getAttribute("id"))}function w(he){if(!v(he.element)&&!v(he.element.__eventHandlers)&&!v(he.element.__eventHandlers.floatInputHandler)&&!v(he.element.__eventHandlers.floatBlurHandler)){var Ne=he.element.__eventHandlers.floatInputHandler.inputFloatHandler,Ue=he.element.__eventHandlers.floatBlurHandler.blurFloatHandler;he.element.removeEventListener("input",Ne),he.element.removeEventListener("blur",Ue),delete he.element.__eventHandlers.floatInputHandler,delete he.element.__eventHandlers.floatBlurHandler}}function b(he,Ne){he==="Always"&&Ne.classList.contains("e-outline")&&Ne.classList.add("e-valid-input")}function D(he,Ne){if(!v(he.properties))for(var Ue=0,Ke=Object.keys(he.properties);Ue<Ke.length;Ue++){var yt=Ke[Ue];switch(yt){case"cssClass":Z(he.properties.cssClass,[Ne.container]),b(he.floatLabelType,Ne.container);break;case"enabled":Q(he.properties.enabled,he.element,he.floatLabelType,Ne.container);break;case"enableRtl":G(he.properties.enableRtl,[Ne.container]);break;case"placeholder":L(he.properties.placeholder,he.element);break;case"readonly":Y(he.properties.readonly,he.element);break}}return Ne}function E(he,Ne,Ue){v(Ne)||(he&&!Ue?Oe([Ne],fi.CLEARICONHIDE):pe([Ne],fi.CLEARICONHIDE))}function N(he,Ne,Ue){if(Ue===void 0&&(Ue=null),he)pe([Ne],fi.LABELTOP),Ne.classList.contains(fi.LABELBOTTOM)&&Oe([Ne],fi.LABELBOTTOM);else{var Ke=Ue!=null?Ue!==document.activeElement:!0;Ke&&(Ne.classList.contains(fi.LABELTOP)&&Oe([Ne],fi.LABELTOP),pe([Ne],fi.LABELBOTTOM))}}function B(he){var Ne=v(he.parentNode)?he:he.parentNode;return Ne&&Ne.classList.contains("e-input-in-wrap")&&(Ne=Ne.parentNode),Ne}function P(he,Ne,Ue,Ke){var yt=v(Ke)?Be:Ke,xt=yt("span",{className:fi.CLEARICON}),Nt=Ne.container;if(!v(Ue))Nt.appendChild(xt);else{var hi=Ne.container.classList.contains(fi.FLOATINPUT)?Ne.container.querySelector("."+fi.FLOATTEXT):he;hi.insertAdjacentElement("afterend",xt)}return pe([xt],fi.CLEARICONHIDE),j(he,xt),xt.setAttribute("aria-label","close"),xt}function C(he,Ne,Ue){Ne.classList.contains(fi.DISABLE)||Ne.readOnly||(he.preventDefault(),Ne!==document.activeElement&&Ne.focus(),Ne.value="",pe([Ue],fi.CLEARICONHIDE))}function k(he,Ne){E(he.value,Ne)}function _(he,Ne){E(he.value,Ne,he.readOnly)}function H(he,Ne){setTimeout(function(){v(Ne)||(pe([Ne],fi.CLEARICONHIDE),Ne=!v(he)&&he.classList.contains("e-combobox")?null:Ne)},200)}function j(he,Ne,Ue){if(t===void 0||t){var Ke=function(hi){return C(hi,he,Ne)};Ne.addEventListener("click",Ke),he.__eventHandlers.clearClickHandler={clickHandlerEvent:Ke}}var yt=function(){return k(he,Ne)},xt=function(){return _(he,Ne)},Nt=function(){return H(he,Ne)};he.addEventListener("input",yt),he.addEventListener("focus",xt),he.addEventListener("blur",Nt),he.__eventHandlers.clearInputHandler={inputHandlerEvent:yt},he.__eventHandlers.clearFocusHandler={focusHandlerEvent:xt},he.__eventHandlers.clearBlurHandler={blurHandlerEvent:Nt}}r.wireClearBtnEvents=j;function z(he,Ne){if(!v(he)&&!v(he.__eventHandlers)){if(!v(he.__eventHandlers.clearClickHandler)){var Ue=he.__eventHandlers.clearClickHandler.clickHandlerEvent;(t===void 0||t)&&(v(Ne)||Ne.removeEventListener("click",Ue)),delete he.__eventHandlers.clearClickHandler}if(!v(he.__eventHandlers.clearInputHandler)&&!v(he.__eventHandlers.clearFocusHandler)&&!v(he.__eventHandlers.clearBlurHandler)){var Ke=he.__eventHandlers.clearInputHandler.inputHandlerEvent,yt=he.__eventHandlers.clearFocusHandler.focusHandlerEvent,xt=he.__eventHandlers.clearBlurHandler.blurHandlerEvent;he.removeEventListener("input",Ke),he.removeEventListener("focus",yt),he.removeEventListener("blur",xt),delete he.__eventHandlers.clearInputHandler,delete he.__eventHandlers.clearFocusHandler,delete he.__eventHandlers.clearBlurHandler}}}function F(he,Ne){Ne===void 0&&(Ne=null),o(he),he.floatLabelType==="Auto"&&w(he),he.properties.showClearButton&&z(he.element,Ne),v(he.buttons)||Ot(!1,null,he.buttons),p(he.element),v(he.element)||(delete he.element.__eventHandlers,he.element.classList.contains(fi.INPUT)&&he.element.classList.remove(fi.INPUT))}r.destroy=F;function X(he,Ne){var Ue=B(he);if(Ue.classList.contains(fi.FLOATINPUT)&&Ne==="Auto"){var Ke=B(he).getElementsByClassName("e-float-text")[0];N(he.value,Ke,he)}}function J(he,Ne,Ue,Ke,yt){var xt=v(yt)?Be:yt,Nt;return v(he.customTag)?Nt=xt(Ke,{className:Ne}):(Nt=xt(he.customTag,{className:Ne}),Nt.classList.add(Ue)),Nt.classList.add("e-control-wrapper"),Nt}function U(he){if(he==null||he==="")return"";var Ne=W(he);return Ne}function W(he){var Ne={"&amp;":"&","&quot;":'"',"&#39;":"'","&lt;":"<","&gt;":">","&eacute;":""};return he.replace(/&[a-zA-Z#0-9]+;/g,function(Ue){return Ne[Ue]||Ue})}function re(he,Ne,Ue,Ke){if(Ne.value=he,Ue!=="Never"&&Ee(Ne,Ne.parentElement),!v(Ue)&&Ue==="Auto"&&X(Ne,Ue),!v(Ke)&&Ke){var yt=B(Ne);if(!v(yt)){var xt=yt.getElementsByClassName(fi.CLEARICON)[0];v(xt)||(Ne.value&&!v(yt)&&yt.classList.contains("e-input-focus")?Oe([xt],fi.CLEARICONHIDE):pe([xt],fi.CLEARICONHIDE))}}l(Ue,Ne)}r.setValue=re;function Z(he,Ne,Ue){!v(Ue)&&Ue!==""&&Oe(Ne,Ue.split(" ")),!v(he)&&he!==""&&pe(Ne,he.split(" "))}r.setCssClass=Z;function Ee(he,Ne,Ue){if(!(Ue!=="multiselect"&&!Se(he))){var Ke=Ue==="multiselect"?he:he.clientWidth-parseInt(getComputedStyle(he,null).getPropertyValue("padding-left"),10);!v(Ne)&&!v(Ne.getElementsByClassName("e-float-text-content")[0])&&(Ne.getElementsByClassName("e-float-text-content")[0].classList.contains("e-float-text-overflow")&&Ne.getElementsByClassName("e-float-text-content")[0].classList.remove("e-float-text-overflow"),(Ke<Ne.getElementsByClassName("e-float-text-content")[0].clientWidth||Ke===Ne.getElementsByClassName("e-float-text-content")[0].clientWidth)&&Ne.getElementsByClassName("e-float-text-content")[0].classList.add("e-float-text-overflow"))}}r.calculateWidth=Ee;function ae(he,Ne){typeof he=="number"?Ne.style.width=bt(he):typeof he=="string"&&(Ne.style.width=he.match(/px|%|em/)?he:bt(he)),Ee(Ne.firstChild,Ne)}r.setWidth=ae;function L(he,Ne){he=U(he);var Ue=B(Ne);if(Ue.classList.contains(fi.FLOATINPUT))if(!v(he)&&he!==""){var Ke=Ue.getElementsByClassName("e-float-text-content")[0];if(Ke&&Ke.children[0])Ke.children[0].textContent=he;else{var yt=Ue.getElementsByClassName(fi.FLOATTEXT)[0];v(yt)||(yt.textContent=he)}Ue.classList.remove(fi.NOFLOATLABEL),Ne.removeAttribute("placeholder")}else{Ue.classList.add(fi.NOFLOATLABEL);var Ke=Ue.getElementsByClassName("e-float-text-content")[0];if(Ke&&Ke.children[0])Ke.children[0].textContent="";else{var yt=Ue.getElementsByClassName(fi.FLOATTEXT)[0];v(yt)||(yt.textContent="")}}else!v(he)&&he!==""?Ht(Ne,{placeholder:he}):Ne.removeAttribute("placeholder")}r.setPlaceholder=L;function Y(he,Ne,Ue){he?Ht(Ne,{readonly:""}):Ne.removeAttribute("readonly"),v(Ue)||X(Ne,Ue)}r.setReadonly=Y;function G(he,Ne){he?pe(Ne,fi.RTL):Oe(Ne,fi.RTL)}r.setEnableRtl=G;function Q(he,Ne,Ue,Ke){var yt={disabled:"","aria-disabled":"true"},xt=!v(Ke);he?(Ne.classList.remove(fi.DISABLE),le(yt,Ne),xt&&Oe([Ke],fi.DISABLE)):(Ne.classList.add(fi.DISABLE),Me(yt,Ne),xt&&pe([Ke],fi.DISABLE)),v(Ue)||X(Ne,Ue)}r.setEnabled=Q;function te(he,Ne,Ue,Ke,yt){var xt=v(yt)?Be:yt;he?Ue.clearButton=P(Ne,Ue,Ke,xt):(ji(Ue.clearButton),Ue.clearButton=null)}r.setClearButton=te;function le(he,Ne){for(var Ue=0,Ke=Object.keys(he);Ue<Ke.length;Ue++){var yt=Ke[Ue],xt=B(Ne);yt==="disabled"&&Ne.classList.remove(fi.DISABLE),yt==="disabled"&&xt.classList.contains(fi.INPUTGROUP)&&xt.classList.remove(fi.DISABLE),yt==="placeholder"&&xt.classList.contains(fi.FLOATINPUT)?xt.getElementsByClassName(fi.FLOATTEXT)[0].textContent="":Ne.removeAttribute(yt)}}r.removeAttributes=le;function Me(he,Ne){for(var Ue=0,Ke=Object.keys(he);Ue<Ke.length;Ue++){var yt=Ke[Ue],xt=B(Ne);yt==="disabled"&&Ne.classList.add(fi.DISABLE),yt==="disabled"&&xt.classList.contains(fi.INPUTGROUP)&&xt.classList.add(fi.DISABLE),yt==="placeholder"&&xt.classList.contains(fi.FLOATINPUT)?xt.getElementsByClassName(fi.FLOATTEXT)[0].textContent=he[""+yt]:Ne.setAttribute(yt,he[""+yt])}}r.addAttributes=Me;function ve(he){var Ne=he.container;if(!v(Ne)&&Ne.classList.contains(fi.FLOATINPUT)){var Ue=Ne.querySelector("textarea")?Ne.querySelector("textarea"):Ne.querySelector("input"),Ke=Ne.querySelector("."+fi.FLOATTEXT).textContent,yt=Ne.querySelector(".e-clear-icon")!==null;zt(Ne.querySelector("."+fi.FLOATLINE)),zt(Ne.querySelector("."+fi.FLOATTEXT)),No(Ne,[fi.INPUTGROUP],[fi.FLOATINPUT]),p(Ue),Ht(Ue,{placeholder:Ke}),Ue.classList.add(fi.INPUT),!yt&&Ue.tagName==="INPUT"&&Ue.removeAttribute("required")}}r.removeFloating=ve;function Ie(he,Ne,Ue,Ke){var yt=v(Ke)?Be:Ke,xt=Fe(he,"."+fi.INPUTGROUP),Nt=xt.tagName;Nt=Nt!=="DIV"&&Nt!=="SPAN"?Nt:null;var hi={element:he,floatLabelType:Ne,customTag:Nt,properties:{placeholder:Ue}};if(Ne!=="Never"){var bi=xt.querySelector(".e-clear-icon"),vi={container:xt};he.classList.remove(fi.INPUT),M(hi,vi,yt),Je(vi.container,yt),Ee(hi.element,vi.container);var Bi=xt.classList.contains("e-float-icon-left");if(v(bi))if(Bi){var Qi=xt.querySelector(".e-input-in-wrap");bi=Qi.querySelector(".e-input-group-icon")}else bi=xt.querySelector(".e-input-group-icon");if(v(bi))Bi&&(bi=xt.querySelector(".e-input-group-icon"));else{var nn=xt.querySelector("."+fi.FLOATLINE),sn=xt.querySelector("."+fi.FLOATTEXT),Dr=Bi?xt.querySelector(".e-input-in-wrap"):xt;Dr.insertBefore(he,bi),Dr.insertBefore(nn,bi),Dr.insertBefore(sn,bi)}}else w(hi);b(Ne,he.parentElement)}r.addFloating=Ie;function Je(he,Ne){if(he.classList.contains("e-outline")&&he.getElementsByClassName("e-float-text")[0]){var Ue=Ne("span",{className:fi.FLOATTEXTCONTENT});Ue.innerHTML=he.getElementsByClassName("e-float-text")[0].innerHTML,he.getElementsByClassName("e-float-text")[0].innerHTML="",he.getElementsByClassName("e-float-text")[0].appendChild(Ue)}}r.createSpanElement=Je;function xe(he,Ne){for(var Ue=0;Ue<Ne.length;Ue++)Ot(he,Ne[parseInt(Ue.toString(),10)].container)}r.setRipple=xe;function Ot(he,Ne,Ue){var Ke=[];Ke.push(Ue);var yt=v(Ue)?Ne.querySelectorAll(".e-input-group-icon"):Ke;if(he&&yt.length>0)for(var xt=0;xt<yt.length;xt++)yt[parseInt(xt.toString(),10)].addEventListener("mousedown",ti,!1),yt[parseInt(xt.toString(),10)].addEventListener("mouseup",Tt,!1);else if(yt.length>0)for(var xt=0;xt<yt.length;xt++)yt[parseInt(xt.toString(),10)].removeEventListener("mousedown",ti,this),yt[parseInt(xt.toString(),10)].removeEventListener("mouseup",Tt,this)}function Ge(he,Ne){!he.classList.contains("e-disabled")&&!he.querySelector("input").readOnly&&Ne.classList.add("e-input-btn-ripple")}function Se(he){if(!he)return!1;for(var Ne=he;Ne&&Ne!==document.body;){var Ue=window.getComputedStyle(Ne);if(Ue.display==="none")return!1;Ne=Ne.parentElement}return!0}function ti(){for(var he=this,Ne=this.parentElement;!Ne.classList.contains("e-input-group");)Ne=Ne.parentElement;Ge(Ne,he)}function Tt(){var he=this;setTimeout(function(){he.classList.remove("e-input-btn-ripple")},500)}function $t(he,Ne){var Ue=Ne("span",{className:he});return Ue.classList.add("e-input-group-icon"),Ue}function Lt(he,Ne,Ue,Ke,yt){var xt=typeof Ne=="string"?Ne.split(","):Ne;if(he.toLowerCase()==="append")for(var Nt=0,hi=xt;Nt<hi.length;Nt++){var bi=hi[Nt];Yt(bi,Ue,yt)}else for(var vi=0,Bi=xt;vi<Bi.length;vi++){var bi=Bi[vi];ni(bi,Ue,Ke,yt)}Ue.getElementsByClassName("e-input-group-icon")[0]&&Ue.getElementsByClassName("e-float-text-overflow")[0]&&Ue.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon")}r.addIcon=Lt;function ni(he,Ne,Ue,Ke){var yt=v(Ke)?Be:Ke,xt=$t(he,yt);Ne.classList.add("e-float-icon-left");var Nt=Ne.querySelector(".e-input-in-wrap");if(v(Nt)){Nt=yt("span",{className:"e-input-in-wrap"}),Ue.parentNode.insertBefore(Nt,Ue);var hi=Ne.querySelectorAll(Ue.tagName+" ~ *");Nt.appendChild(Ue);for(var bi=0;bi<hi.length;bi++){var vi=hi[parseInt(bi.toString(),10)],Bi=Nt.parentElement;(!vi.classList.contains("e-float-line")||!(Bi&&Bi.classList.contains("e-filled"))&&Bi)&&Nt.appendChild(vi)}}return Nt.parentNode.insertBefore(xt,Nt),Ot(!0,Ne,xt),xt}r.prependSpan=ni;function Yt(he,Ne,Ue){var Ke=v(Ue)?Be:Ue,yt=$t(he,Ke),xt=Ne.classList.contains("e-float-icon-left")?Ne.querySelector(".e-input-in-wrap"):Ne;return xt.appendChild(yt),Ot(!0,Ne,yt),yt}r.appendSpan=Yt;function Ri(he,Ne){Ne.type==="hidden"?he.classList.add("e-hidden"):he.classList.contains("e-hidden")&&he.classList.remove("e-hidden")}r.validateInputType=Ri;function pi(he,Ne){if(!v(he))for(var Ue=0,Ke=Object.keys(he);Ue<Ke.length;Ue++){var yt=Ke[Ue];cU.indexOf(yt)<0&&Ne.setAttribute(yt,he[""+yt])}}r.updateHTMLAttributesToElement=pi;function Mt(he,Ne,Ue){Z(Bt(he),[Ue],Bt(Ne))}r.updateCssClass=Mt;function Bt(he){var Ne=he;return!v(he)&&he!==""&&(Ne=he.replace(/\s+/g," ").trim()),Ne}r.getInputValidClassList=Bt;function Xt(he,Ne){if(!v(he))for(var Ue=0,Ke=Object.keys(he);Ue<Ke.length;Ue++){var yt=Ke[Ue];if(cU.indexOf(yt)>-1)if(yt==="class"){var xt=this.getInputValidClassList(he[""+yt]);xt!==""&&pe([Ne],xt.split(" "))}else if(yt==="style"){var Nt=Ne.getAttribute(yt);Nt=v(Nt)?he[""+yt]:Nt+he[""+yt],Ne.setAttribute(yt,Nt)}else Ne.setAttribute(yt,he[""+yt])}}r.updateHTMLAttributesToWrapper=Xt;function gi(he){return!he||/^\s*$/.test(he)}r.isBlank=gi})(Rt||(Rt={}));var Cxe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),As=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Oxe="e-control-wrapper e-numeric",W2="e-input-group-icon",Y2="e-spin-up",kxe="e-spin-down",uU="e-error",by="increment",lM="decrement",Lxe=new RegExp("^(-)?(\\d*)$"),jxe=".",_xe="e-numerictextbox",zxe="e-control",hU="e-input-focus",Rxe="e-numeric-hidden",dU=["title","style","class"],fU=0,q2=(function(r){Cxe(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.preventChange=!1,n.isDynamicChange=!1,n.numericOptions=e,n}return t.prototype.preRender=function(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;var e=Pe("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),Oe([this.cloneElement],[zxe,_xe,"e-lib"]),this.angularTagName=null,this.formEle=Fe(this.element,"form"),this.element.tagName==="EJS-NUMERICTEXTBOX"){this.angularTagName=this.element.tagName;var i=this.createElement("input"),n=0;for(n;n<this.element.attributes.length;n++){var s=this.element.attributes[n].nodeName;s!=="id"&&s!=="class"?(i.setAttribute(this.element.attributes[n].nodeName,this.element.attributes[n].nodeValue),i.innerHTML=this.element.innerHTML):s==="class"&&i.setAttribute(s,this.element.className.split(" ").filter(function(o){return o.indexOf("ng-")!==0}).join(" "))}this.element.hasAttribute("name")&&this.element.removeAttribute("name"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(i),this.element=i,Yr("ej2_instances",e,this.element)}Ht(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off"});var a={incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:this.placeholder};this.l10n=new Ql("numerictextbox",a,this.locale),this.l10n.getConstant("placeholder")!==""&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",Ha("numerictextbox")),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.prevValue=this.value,this.updateHTMLAttrToElement(),this.checkAttributes(!1),this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),this.placeholder===null&&this.updatePlaceholder()},t.prototype.render=function(){this.element.tagName.toLowerCase()==="input"&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),this.setElementWidth(this.width),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(this.value===null||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),this.value!==null&&!isNaN(this.value)&&this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&(this.element.setAttribute("value",this.element.value),this.hiddenInput.setAttribute("value",this.hiddenInput.value)),this.elementPrevValue=this.element.value,this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),!this.element.hasAttribute("aria-labelledby")&&!this.element.hasAttribute("placeholder")&&!this.element.hasAttribute("aria-label")&&this.element.setAttribute("aria-label","numerictextbox"),!v(Fe(this.element,"fieldset"))&&Fe(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete())},t.prototype.checkAttributes=function(e){for(var i=e?v(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","step","disabled","readonly","style","name","placeholder"],n=0,s=i;n<s.length;n++){var a=s[n];if(!v(this.element.getAttribute(a)))switch(a){case"disabled":if(v(this.numericOptions)||this.numericOptions.enabled===void 0||e){var o=!(this.element.getAttribute(a)==="disabled"||this.element.getAttribute(a)===""||this.element.getAttribute(a)==="true");this.setProperties({enabled:o},!e)}break;case"readonly":if(v(this.numericOptions)||this.numericOptions.readonly===void 0||e){var l=this.element.getAttribute(a)==="readonly"||this.element.getAttribute(a)===""||this.element.getAttribute(a)==="true";this.setProperties({readonly:l},!e)}break;case"placeholder":(v(this.numericOptions)||this.numericOptions.placeholder===void 0||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"value":if(v(this.numericOptions)||this.numericOptions.value===void 0||e){var c=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(a));this.setProperties(Yr(a,c,{}),!e)}break;case"min":if(v(this.numericOptions)||this.numericOptions.min===void 0||e){var u=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(a));u!==null&&!isNaN(u)&&this.setProperties(Yr(a,u,{}),!e)}break;case"max":if(v(this.numericOptions)||this.numericOptions.max===void 0||e){var d=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(a));d!==null&&!isNaN(d)&&this.setProperties(Yr(a,d,{}),!e)}break;case"step":if(v(this.numericOptions)||this.numericOptions.step===void 0||e){var p=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(a));p!==null&&!isNaN(p)&&this.setProperties(Yr(a,p,{}),!e)}break;case"style":this.inputStyle=this.element.getAttribute(a);break;case"name":this.inputName=this.element.getAttribute(a);break;default:{var m=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(a));(m!==null&&!isNaN(m)||a==="value")&&this.setProperties(Yr(a,m,{}),!0)}break}}},t.prototype.updatePlaceholder=function(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)},t.prototype.initCultureFunc=function(){this.instance=new Ns(this.locale)},t.prototype.initCultureInfo=function(){this.cultureInfo.format=this.format,Pe("currency",this)!==null&&(Yr("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))},t.prototype.createWrapper=function(){var e=this.cssClass;!v(this.cssClass)&&this.cssClass!==""&&(e=this.getNumericValidClassList(this.cssClass));var i=Rt.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=i,this.container=i.container,this.container.setAttribute("class",Oxe+" "+this.container.getAttribute("class")),this.updateHTMLAttrToWrapper(),this.readonly&&Ht(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"text","data-validateHidden":"true","aria-label":"hidden",class:Rxe}}),this.inputName=this.inputName!==null?this.inputName:this.element.id,this.element.removeAttribute("name"),this.isAngular&&this.angularTagName==="EJS-NUMERICTEXTBOX"&&this.cloneElement.id.length>0?Ht(this.hiddenInput,{name:this.cloneElement.id}):Ht(this.hiddenInput,{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),this.updateDataAttribute(!1),this.inputStyle!==null&&Ht(this.container,{style:this.inputStyle})},t.prototype.updateDataAttribute=function(e){var i={};if(e)i=this.htmlAttributes;else for(var n=0;n<this.element.attributes.length;n++)i[this.element.attributes[n].name]=this.element.getAttribute(this.element.attributes[n].name);for(var s=0,a=Object.keys(i);s<a.length;s++){var o=a[s];o.indexOf("data")===0&&this.hiddenInput.setAttribute(o,i[""+o])}},t.prototype.updateHTMLAttrToElement=function(){if(!v(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];dU.indexOf(n)<0&&this.element.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateCssClass=function(e,i){Rt.setCssClass(this.getNumericValidClassList(e),[this.container],this.getNumericValidClassList(i))},t.prototype.getNumericValidClassList=function(e){var i=e;return!v(e)&&e!==""&&(i=e.replace(/\s+/g," ").trim()),i},t.prototype.updateHTMLAttrToWrapper=function(){if(!v(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if(dU.indexOf(n)>-1)if(n==="class"){var s=this.getNumericValidClassList(this.htmlAttributes[""+n]);s!==""&&pe([this.container],s.split(" "))}else if(n==="style"){var a=this.container.getAttribute(n);a=v(a)?this.htmlAttributes[""+n]:a+this.htmlAttributes[""+n],this.container.setAttribute(n,a)}else this.container.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.setElementWidth=function(e){v(e)||(typeof e=="number"?this.container.style.width=bt(e):typeof e=="string"&&(this.container.style.width=e.match(/px|%|em/)?e:bt(e)))},t.prototype.spinBtnCreation=function(){this.spinDown=Rt.appendSpan(W2+" "+kxe,this.container,this.createElement),Ht(this.spinDown,{title:this.l10n.getConstant("decrementTitle")}),this.spinUp=Rt.appendSpan(W2+" "+Y2,this.container,this.createElement),Ht(this.spinUp,{title:this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()},t.prototype.validateMinMax=function(){typeof this.min=="number"&&!isNaN(this.min)||this.setProperties({min:-Number.MAX_VALUE},!0),typeof this.max=="number"&&!isNaN(this.max)||this.setProperties({max:Number.MAX_VALUE},!0),this.decimals!==null&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),this.min!==-Number.MAX_VALUE&&Ht(this.element,{"aria-valuemin":this.min.toString()}),this.max!==Number.MAX_VALUE&&Ht(this.element,{"aria-valuemax":this.max.toString()})},t.prototype.formattedValue=function(e,i){return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(i)},t.prototype.validateStep=function(){this.decimals!==null&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)},t.prototype.action=function(e,i){this.isInteract=!0;var n=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(n,this.step,e)),this.raiseChangeEvent(i)},t.prototype.checkErrorClass=function(){this.isValidState?Oe([this.container],uU):pe([this.container],uU),Ht(this.element,{"aria-invalid":this.isValidState?"false":"true"})},t.prototype.bindClearEvent=function(){this.showClearButton&&se.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},t.prototype.resetHandler=function(e){e.preventDefault(),(!this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.inputWrapper.container.classList.contains("e-static-clear"))&&this.clear(e),this.isInteract=!0,this.raiseChangeEvent(e)},t.prototype.clear=function(e){this.setProperties({value:null},!0),this.setElementValue(""),this.hiddenInput.value="";var i=Fe(this.element,"form");if(i){var n=this.element.nextElementSibling,s=document.createEvent("KeyboardEvent");s.initEvent("keyup",!1,!0),n.dispatchEvent(s)}},t.prototype.resetFormHandler=function(){this.element.tagName==="EJS-NUMERICTEXTBOX"?this.updateValue(null):this.updateValue(this.inputEleValue)},t.prototype.setSpinButton=function(){v(this.spinDown)||Ht(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),v(this.spinUp)||Ht(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")})},t.prototype.wireEvents=function(){se.add(this.element,"focus",this.focusHandler,this),se.add(this.element,"blur",this.focusOutHandler,this),se.add(this.element,"keydown",this.keyDownHandler,this),se.add(this.element,"keyup",this.keyUpHandler,this),se.add(this.element,"input",this.inputHandler,this),se.add(this.element,"keypress",this.keyPressHandler,this),se.add(this.element,"change",this.changeHandler,this),se.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&se.add(this.formEle,"reset",this.resetFormHandler,this))},t.prototype.wireSpinBtnEvents=function(){se.add(this.spinUp,Re.touchStartEvent,this.mouseDownOnSpinner,this),se.add(this.spinDown,Re.touchStartEvent,this.mouseDownOnSpinner,this),se.add(this.spinUp,Re.touchEndEvent,this.mouseUpOnSpinner,this),se.add(this.spinDown,Re.touchEndEvent,this.mouseUpOnSpinner,this),se.add(this.spinUp,Re.touchMoveEvent,this.touchMoveOnSpinner,this),se.add(this.spinDown,Re.touchMoveEvent,this.touchMoveOnSpinner,this)},t.prototype.unwireEvents=function(){se.remove(this.element,"focus",this.focusHandler),se.remove(this.element,"blur",this.focusOutHandler),se.remove(this.element,"keyup",this.keyUpHandler),se.remove(this.element,"input",this.inputHandler),se.remove(this.element,"keydown",this.keyDownHandler),se.remove(this.element,"keypress",this.keyPressHandler),se.remove(this.element,"change",this.changeHandler),se.remove(this.element,"paste",this.pasteHandler),this.formEle&&se.remove(this.formEle,"reset",this.resetFormHandler)},t.prototype.unwireSpinBtnEvents=function(){se.remove(this.spinUp,Re.touchStartEvent,this.mouseDownOnSpinner),se.remove(this.spinDown,Re.touchStartEvent,this.mouseDownOnSpinner),se.remove(this.spinUp,Re.touchEndEvent,this.mouseUpOnSpinner),se.remove(this.spinDown,Re.touchEndEvent,this.mouseUpOnSpinner),se.remove(this.spinUp,Re.touchMoveEvent,this.touchMoveOnSpinner),se.remove(this.spinDown,Re.touchMoveEvent,this.touchMoveOnSpinner)},t.prototype.changeHandler=function(e){e.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);var i=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(i,e)},t.prototype.raiseChangeEvent=function(e){if(this.inputValue=v(this.inputValue)||isNaN(this.inputValue)?null:this.inputValue,this.prevValue!==this.value||this.prevValue!==this.inputValue){var i={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:e},e&&(this.changeEventArgs.event=e),this.changeEventArgs.event===void 0&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),sd(i,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.elementPrevValue=this.element.value,this.preventChange=!1,this.trigger("change",i)}},t.prototype.pasteHandler=function(){var e=this;if(!(!this.enabled||this.readonly)){var i=this.element.value;setTimeout(function(){e.numericRegex().test(e.element.value)||e.setElementValue(i)})}},t.prototype.preventHandler=function(){var e=this,i=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout(function(){if(e.element.selectionStart>0){var n=e.element.selectionStart,s=e.element.selectionStart-1,a=0,o=e.element.value.split(""),l=Wx(e.locale),c=Pe("decimal",l),u=c.charCodeAt(0);e.element.value[s]===" "&&e.element.selectionStart>0&&!i?(v(e.prevVal)?e.element.value=e.element.value.trim():s!==0?e.element.value=e.prevVal:s===0&&(e.element.value=e.element.value.trim()),e.element.setSelectionRange(s,s)):isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&e.element.value[e.element.selectionStart-1].charCodeAt(0)!==45?(o.indexOf(e.element.value[e.element.selectionStart-1])!==o.lastIndexOf(e.element.value[e.element.selectionStart-1])&&e.element.value[e.element.selectionStart-1].charCodeAt(0)===u||e.element.value[e.element.selectionStart-1].charCodeAt(0)!==u)&&(e.element.value=e.element.value.substring(0,s)+e.element.value.substring(n,e.element.value.length),e.element.setSelectionRange(s,s),isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&e.element.selectionStart>0&&e.element.value.length&&e.preventHandler()):isNaN(parseFloat(e.element.value[e.element.selectionStart-2]))&&e.element.selectionStart>1&&e.element.value[e.element.selectionStart-2].charCodeAt(0)!==45&&(o.indexOf(e.element.value[e.element.selectionStart-2])!==o.lastIndexOf(e.element.value[e.element.selectionStart-2])&&e.element.value[e.element.selectionStart-2].charCodeAt(0)===u||e.element.value[e.element.selectionStart-2].charCodeAt(0)!==u)&&(e.element.setSelectionRange(s,s),e.nextEle=e.element.value[e.element.selectionStart],e.cursorPosChanged=!0,e.preventHandler()),e.cursorPosChanged===!0&&e.element.value[e.element.selectionStart]===e.nextEle&&isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&(e.element.setSelectionRange(e.element.selectionStart+1,e.element.selectionStart+1),e.cursorPosChanged=!1,e.nextEle=null),e.element.value.trim()===""&&e.element.setSelectionRange(a,a),e.element.selectionStart>0&&(e.element.value[e.element.selectionStart-1].charCodeAt(0)===45&&e.element.selectionStart>1&&(v(e.prevVal)||(e.element.value=e.prevVal),e.element.setSelectionRange(e.element.selectionStart,e.element.selectionStart)),e.element.value[e.element.selectionStart-1]===c&&e.decimals===0&&e.validateDecimalOnType&&(e.element.value=e.element.value.substring(0,s)+e.element.value.substring(n,e.element.value.length))),e.prevVal=e.element.value}})},t.prototype.keyUpHandler=function(){if(!(!this.enabled||this.readonly)){var e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);!e&&Re.isDevice&&this.preventHandler();var i=this.instance.getNumberParser({format:"n"})(this.element.value);i=i===null||isNaN(i)?null:i,this.hiddenInput.value=i||i===0?i.toString():null;var n=Fe(this.element,"form");if(n){var s=this.element.nextElementSibling,a=document.createEvent("KeyboardEvent");a.initEvent("keyup",!1,!0),s.dispatchEvent(a)}}},t.prototype.inputHandler=function(e){var i=this;if(!(!this.enabled||this.readonly)){var n=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),s=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;if((s||n)&&Re.isDevice&&this.preventHandler(),this.isAngular&&this.element.value!==Pe("decimal",Wx(this.locale))&&this.element.value!==Pe("minusSign",Wx(this.locale))&&this.numericRegex().test(this.element.value)){var a=this.instance.getNumberParser({format:"n"})(this.element.value);a=isNaN(a)?null:a,i.localChange({value:a}),this.preventChange=!0}if(this.isVue){var o=this.instance.getNumberParser({format:"n"})(this.element.value),l=this.instance.getNumberParser({format:"n"})(this.elementPrevValue),c=new RegExp("[^0-9]+$");(c.test(this.element.value)||(this.elementPrevValue.indexOf(".")!==-1||this.elementPrevValue.indexOf("-")!==-1)&&this.element.value[this.element.value.length-1]==="0")&&(o=this.value);var u={event:e,value:o===null||isNaN(o)?null:o,previousValue:l===null||isNaN(l)?null:l};this.preventChange=!0,this.elementPrevValue=this.element.value,this.trigger("input",u)}}},t.prototype.keyDownHandler=function(e){if(!this.readonly)switch(e.keyCode){case 38:e.preventDefault(),this.action(by,e);break;case 40:e.preventDefault(),this.action(lM,e);break}},t.prototype.performAction=function(e,i,n){(e===null||isNaN(e))&&(e=0);var s=n===by?e+i:e-i;return s=this.correctRounding(e,i,s),this.strictMode?this.trimValue(s):s},t.prototype.correctRounding=function(e,i,n){var s=new RegExp("[,.](.*)"),a=s.test(e.toString()),o=s.test(i.toString());if(a||o){var l=a?s.exec(e.toString())[0].length:0,c=o?s.exec(i.toString())[0].length:0,u=Math.max(l,c);return e=this.roundValue(n,u)}return n},t.prototype.roundValue=function(e,i){i=i||0;var n=Math.pow(10,i);return e*=n,e=Math.round(e)/n},t.prototype.updateValue=function(e,i){i&&(this.isInteract=!0),e!==null&&!isNaN(e)&&this.decimals&&(e=this.roundNumber(e,this.decimals)),this.inputValue=e,this.isVue&&this.element&&this.element.hasAttribute("modelvalue")&&this.isDynamicChange||this.changeValue(e===null||isNaN(e)?null:this.strictMode?this.trimValue(e):e),this.isDynamicChange||this.raiseChangeEvent(i)},t.prototype.updateCurrency=function(e,i){Yr(e,i,this.cultureInfo),this.updateValue(this.value)},t.prototype.changeValue=function(e){if(!(e||e===0))e=null,this.setProperties({value:e},!0);else{var i=this.getNumberOfDecimals(e);this.setProperties({value:this.roundNumber(e,i)},!0)}this.modifyText(),this.strictMode||this.validateState()},t.prototype.modifyText=function(){if(this.value||this.value===0){var e=this.formatNumber(),i=this.isFocused?e:this.instance.getNumberFormat(this.cultureInfo)(this.value);/[eE]/.test(e)&&(i=this.formatScientificNotation(i)),this.setElementValue(i),Ht(this.element,{"aria-valuenow":e}),v(this.hiddenInput)||(this.hiddenInput.value=this.value.toString(),this.value!==null&&this.serverDecimalSeparator&&(this.hiddenInput.value=this.hiddenInput.value.replace(".",this.serverDecimalSeparator)))}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null},t.prototype.setElementValue=function(e,i){Rt.setValue(e,i||this.element,this.floatLabelType,this.showClearButton)},t.prototype.validateState=function(){this.isValidState=!0,(this.value||this.value===0)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()},t.prototype.getNumberOfDecimals=function(e){var i,n=new RegExp("[eE][-+]?([0-9]+)"),s=e.toString();if(n.test(s))if(/[eE]/.test(s))s=e.toFixed(20).replace(/0+$/,""),s.charAt(s.length-1)==="."&&(s=s.slice(0,s.length-1));else{var a=n.exec(s);v(a)||(s=e.toFixed(Math.min(parseInt(a[1],10),20)))}var o=s.split(".")[1];return i=!o||!o.length?0:o.length,this.decimals!==null&&(i=i<this.decimals?i:this.decimals),i},t.prototype.formatNumber=function(){var e=this.getNumberOfDecimals(this.value);return this.storedValueString=this.value.toString(),this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(this.value)},t.prototype.trimValue=function(e){return e>this.max?this.max:e<this.min?this.min:e},t.prototype.roundNumber=function(e,i){var n=e,s=i||0,a=n.toString().split("e");n=Math.round(+(a[0]+"e"+(a[1]?Number(a[1])+s:s)));var o=n.toString().split("e");return n=+(o[0]+"e"+(o[1]?Number(o[1])-s:-s)),Number(n.toFixed(s))},t.prototype.cancelEvent=function(e){return e.preventDefault(),!1},t.prototype.keyPressHandler=function(e){if(!this.enabled||this.readonly)return!0;if(!Re.isDevice&&Re.info.version==="11.0"&&e.keyCode===13){var i=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(i,e),!0}if(e.which===0||e.metaKey||e.ctrlKey||e.keyCode===8||e.keyCode===13)return!0;var n=String.fromCharCode(e.which),s=Pe("decimal",Wx(this.locale)),a=e.code==="NumpadDecimal"&&n!==s;a&&(n=s);var o=this.element.value;if(o=o.substring(0,this.element.selectionStart)+n+o.substring(this.element.selectionEnd),this.numericRegex().test(o)){if(a){var l=this.element.selectionStart+1;this.element.value=o,this.element.setSelectionRange(l,l),e.preventDefault(),e.stopPropagation()}return!0}else return e.preventDefault(),e.stopPropagation(),!1},t.prototype.numericRegex=function(){var e=Wx(this.locale),i=Pe("decimal",e),n="*";return i===jxe&&(i="\\"+i),this.decimals===0&&this.validateDecimalOnType?Lxe:(this.decimals&&this.validateDecimalOnType&&(n="{0,"+this.decimals+"}"),new RegExp("^\\s*(-)?(((\\d+("+i+"\\d"+n+")?)|("+i+"\\d"+n+")))?$"))},t.prototype.mouseWheel=function(e){e.preventDefault();var i,n=e;n.wheelDelta?i=n.wheelDelta/120:n.detail&&(i=-n.detail/3),i>0?this.action(by,e):i<0&&this.action(lM,e),this.cancelEvent(e)},t.prototype.focusHandler=function(e){var i=this;if(clearTimeout(fU),this.focusEventArgs={event:e,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),!(!this.enabled||this.readonly)){if(this.isFocused=!0,this.prevValue=this.value,this.value||this.value===0){var n=this.formatNumber();if(/[eE]/.test(this.value.toString())&&(n=this.formatScientificNotation(n)),this.setElementValue(n),!this.isPrevFocused)if(!Re.isDevice&&Re.info.version==="11.0")this.element.setSelectionRange(0,n.length);else{var s=Re.isDevice&&Re.isIos?600:0;fU=setTimeout(function(){i.element.setSelectionRange(0,n.length)},s)}}Re.isDevice||se.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}},t.prototype.focusOutHandler=function(e){var i=this;if(this.blurEventArgs={event:e,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),!(!this.enabled||this.readonly)){if(this.isPrevFocused){if(e.preventDefault(),Re.isDevice){var n=this.element.value;this.element.focus(),this.isPrevFocused=!1;var s=this.element;setTimeout(function(){i.setElementValue(n,s)},200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);var a=this.instance.getNumberParser({format:"n"})(this.element.value);/[eE]/.test(this.element.value)&&(a=parseFloat(this.formatScientificNotation(this.element.value))),this.updateValue(a),Re.isDevice||se.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}var o=Fe(this.element,"form");if(o){var l=this.element.nextElementSibling,c=document.createEvent("FocusEvent");c.initEvent("focusout",!1,!0),l.dispatchEvent(c)}}},t.prototype.mouseDownOnSpinner=function(e){var i=this;if(this.isFocused&&(this.isPrevFocused=!0,e.preventDefault()),!!this.getElementData(e)){this.getElementData(e);var n=e.currentTarget,s=n.classList.contains(Y2)?by:lM;se.add(n,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval(function(){i.isCalled=!0,i.action(s,e)},150),se.add(document,"mouseup",this.mouseUpClick,this)}},t.prototype.touchMoveOnSpinner=function(e){var i;if(e.type==="touchmove"){var n=e.touches;i=n.length&&document.elementFromPoint(n[0].pageX,n[0].pageY)}else i=document.elementFromPoint(e.clientX,e.clientY);i.classList.contains(W2)||clearInterval(this.timeOut)},t.prototype.mouseUpOnSpinner=function(e){if(this.prevValue=this.value,this.isPrevFocused&&(this.element.focus(),Re.isDevice||(this.isPrevFocused=!1)),Re.isDevice||e.preventDefault(),!!this.getElementData(e)){var i=e.currentTarget,n=i.classList.contains(Y2)?by:lM;se.remove(i,"mouseleave",this.mouseUpClick),this.isCalled||this.action(n,e),this.isCalled=!1,se.remove(document,"mouseup",this.mouseUpClick);var s=Fe(this.element,"form");if(s){var a=this.element.nextElementSibling,o=document.createEvent("KeyboardEvent");o.initEvent("keyup",!1,!0),a.dispatchEvent(o)}}},t.prototype.getElementData=function(e){return e.which&&e.which===3||e.button&&e.button===2||!this.enabled||this.readonly?!1:(clearInterval(this.timeOut),!0)},t.prototype.floatLabelTypeUpdate=function(){Rt.removeFloating(this.inputWrapper);var e=this.hiddenInput;this.hiddenInput.remove(),Rt.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(e,this.container.childNodes[1])},t.prototype.mouseUpClick=function(e){e.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,this.spinUp&&se.remove(this.spinUp,"mouseleave",this.mouseUpClick),this.spinDown&&se.remove(this.spinDown,"mouseleave",this.mouseUpClick)},t.prototype.formatScientificNotation=function(e){e=this.storedValueString?this.storedValueString:e;var i=e.toLowerCase().split("e"),n=i[0],s=i[1],a=parseInt(s,10),o=this.format.match(/n(\d+)/i),l=o?parseInt(o[1],10):10,c=n.replace(".",""),u;if(a<0){var d=Math.abs(Number(a))-1,p="0".repeat(Math.min(d,l));u="0."+p+c}else{var m=n.split("."),y=m[0],M=m[1],w=M===void 0?"":M,b=a-w.length;if(b>=0)u=y+w+"0".repeat(b);else{var D=w.slice(0,a)+"."+w.slice(a);u=y+D}}var E=u.split("."),N=E[0],B=E[1],P=B===void 0?"":B;if(this.isFocused)return P.slice(0,l),N+"."+P;var C=P.padEnd(l,"0").slice(0,l);return N+"."+C},t.prototype.increment=function(e){e===void 0&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,by)),this.raiseChangeEvent()},t.prototype.decrement=function(e){e===void 0&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,lM)),this.raiseChangeEvent()},t.prototype.destroy=function(){this.unwireEvents(),this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),zt(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),zt(this.spinUp),zt(this.spinDown));for(var e=["aria-labelledby","role","autocomplete","aria-readonly","aria-disabled","autocapitalize","spellcheck","aria-autocomplete","tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-invalid"],i=0;i<e.length;i++)this.element.removeAttribute(e[i]);this.element.classList.remove("e-input"),this.container.insertAdjacentElement("afterend",this.element),zt(this.container),this.spinUp=null,this.spinDown=null,this.container=null,this.hiddenInput=null,this.changeEventArgs=null,this.blurEventArgs=null,this.focusEventArgs=null,this.inputWrapper=null,Rt.destroy({element:this.element,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),r.prototype.destroy.call(this)},t.prototype.getText=function(){return this.element.value},t.prototype.focusIn=function(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),pe([this.container],[hU]))},t.prototype.focusOut=function(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),Oe([this.container],[hU]))},t.prototype.getPersistData=function(){var e=["value"];return this.addOnPersist(e)},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"width":this.setElementWidth(e.width),Rt.calculateWidth(this.element,this.container);break;case"cssClass":this.updateCssClass(e.cssClass,i.cssClass);break;case"enabled":Rt.setEnabled(e.enabled,this.element),this.bindClearEvent();break;case"enableRtl":Rt.setEnableRtl(e.enableRtl,[this.container]);break;case"readonly":Rt.setReadonly(e.readonly,this.element),this.readonly?Ht(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.updateDataAttribute(!0),this.checkAttributes(!0),Rt.validateInputType(this.container,this.element);break;case"placeholder":Rt.setPlaceholder(e.placeholder,this.element),Rt.calculateWidth(this.element,this.container);break;case"step":this.step=e.step,this.validateStep();break;case"showSpinButton":this.updateSpinButton(e);break;case"showClearButton":this.updateClearButton(e);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.isDynamicChange=(this.isAngular||this.isVue)&&this.preventChange,this.updateValue(e.value),this.isDynamicChange&&(this.preventChange=!1,this.isDynamicChange=!1);break;case"min":case"max":Yr(a,Pe(a,e),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=e.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),this.setSpinButton(),this.updatePlaceholder(),Rt.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":{var o=Pe(a,e);this.setProperties({currencyCode:o},!0),this.updateCurrency(a,o)}break;case"currencyCode":{var l=Pe(a,e);this.setProperties({currency:l},!0),this.updateCurrency("currency",l)}break;case"format":Yr(a,Pe(a,e),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=e.decimals,this.updateValue(this.value)}}},t.prototype.updateClearButton=function(e){Rt.setClearButton(e.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent()},t.prototype.updateSpinButton=function(e){e.showSpinButton?this.spinBtnCreation():(zt(this.spinUp),zt(this.spinDown))},t.prototype.getModuleName=function(){return"numerictextbox"},As([ee("")],t.prototype,"cssClass",void 0),As([ee(null)],t.prototype,"value",void 0),As([ee(-Number.MAX_VALUE)],t.prototype,"min",void 0),As([ee(Number.MAX_VALUE)],t.prototype,"max",void 0),As([ee(1)],t.prototype,"step",void 0),As([ee(null)],t.prototype,"width",void 0),As([ee(null)],t.prototype,"placeholder",void 0),As([ee({})],t.prototype,"htmlAttributes",void 0),As([ee(!0)],t.prototype,"showSpinButton",void 0),As([ee(!1)],t.prototype,"readonly",void 0),As([ee(!0)],t.prototype,"enabled",void 0),As([ee(!1)],t.prototype,"showClearButton",void 0),As([ee(!1)],t.prototype,"enablePersistence",void 0),As([ee("n2")],t.prototype,"format",void 0),As([ee(null)],t.prototype,"decimals",void 0),As([ee(null)],t.prototype,"currency",void 0),As([ee(null)],t.prototype,"currencyCode",void 0),As([ee(!0)],t.prototype,"strictMode",void 0),As([ee(!1)],t.prototype,"validateDecimalOnType",void 0),As([ee("Never")],t.prototype,"floatLabelType",void 0),As([Xe()],t.prototype,"created",void 0),As([Xe()],t.prototype,"destroyed",void 0),As([Xe()],t.prototype,"change",void 0),As([Xe()],t.prototype,"focus",void 0),As([Xe()],t.prototype,"blur",void 0),t=As([$n],t),t})(Dl),Pxe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),dl=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Dy={EMAIL:new RegExp("^[A-Za-z0-9._%+-]{1,}@[A-Za-z0-9._%+-]{1,}([.]{1}[a-zA-Z0-9]{2,}|[.]{1}[a-zA-Z0-9]{2,4}[.]{1}[a-zA-Z0-9]{2,4})$"),URL:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/m,DATE_ISO:new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),DIGITS:new RegExp("^[0-9]*$"),PHONE:new RegExp("^[+]?[0-9]{9,13}$"),CREDITCARD:new RegExp("^\\d{13,16}$")},tS;(function(r){r[r.Message=0]="Message",r[r.Label=1]="Label"})(tS||(tS={}));var Fxe=(function(r){Pxe(t,r);function t(i,n){var s=r.call(this,n,i)||this;if(s.validated=[],s.errorRules=[],s.allowSubmit=!1,s.required="required",s.infoElement=null,s.inputElement=null,s.selectQuery="input:not([type=reset]):not([type=button]), select, textarea",s.localyMessage={},s.defaultMessages={required:"This field is required.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateIso:"Please enter a valid date ( ISO ).",creditcard:"Please enter valid card number",number:"Please enter a valid number.",digits:"Please enter only digits.",maxLength:"Please enter no more than {0} characters.",minLength:"Please enter at least {0} characters.",rangeLength:"Please enter a value between {0} and {1} characters long.",range:"Please enter a value between {0} and {1}.",max:"Please enter a value less than or equal to {0}.",min:"Please enter a value greater than or equal to {0}.",regex:"Please enter a correct value.",tel:"Please enter a valid phone number.",pattern:"Please enter a correct pattern value.",equalTo:"Please enter the valid match text"},typeof s.rules>"u"&&(s.rules={}),s.l10n=new Ql("formValidator",s.defaultMessages,s.locale),s.locale&&s.localeFunc(),Hw.on("notifyExternalChange",s.afterLocalization,s),i=typeof i=="string"?Et(i,document):i,s.element!=null)s.element.setAttribute("novalidate",""),s.inputElements=Ei(s.selectQuery,s.element),s.createHTML5Rules(),s.wireEvents();else return;return s}e=t,t.prototype.addRules=function(i,n){i&&(this.rules.hasOwnProperty(i)?qe(this.rules[""+i],n,{}):this.rules[""+i]=n)},t.prototype.removeRules=function(i,n){if(!i&&!n)this.rules={};else if(this.rules[""+i]&&!n)delete this.rules[""+i];else{if(v(this.rules[""+i]&&n))return;for(var s=0;s<n.length;s++)delete this.rules[""+i][n[parseInt(s.toString(),10)]]}},t.prototype.validate=function(i){var n=Object.keys(this.rules);if(i&&n.length)return this.validateRules(i),n.indexOf(i)!==-1&&this.errorRules.filter(function(l){return l.name===i}).length===0;this.errorRules=[];for(var s=0,a=n;s<a.length;s++){var o=a[s];this.validateRules(o)}return this.errorRules.length===0},t.prototype.reset=function(){this.element.reset(),this.clearForm()},t.prototype.getInputElement=function(i){return this.inputElement=Et('[name="'+i+'"]',this.element),this.inputElement},t.prototype.destroy=function(){this.reset(),this.unwireEvents(),this.rules={};for(var i=Ei("."+this.errorClass+", ."+this.validClass,this.element),n=0,s=i;n<s.length;n++){var a=s[n];zt(a)}r.prototype.destroy.call(this),this.infoElement=null,Hw.off("notifyExternalChange",this.afterLocalization)},t.prototype.onPropertyChanged=function(i,n){for(var s=0,a=Object.keys(i);s<a.length;s++){var o=a[s];switch(o){case"locale":this.localeFunc();break}}},t.prototype.localeFunc=function(){for(var i=0,n=Object.keys(this.defaultMessages);i<n.length;i++){var s=n[i];this.l10n.setLocale(this.locale);var a=this.l10n.getConstant(s);this.localyMessage[""+s]=a}},t.prototype.getModuleName=function(){return"formvalidator"},t.prototype.afterLocalization=function(i){this.locale=i.locale,this.localeFunc()},t.prototype.refresh=function(){this.unwireEvents(),this.inputElements=Ei(this.selectQuery,this.element),this.wireEvents()},t.prototype.clearForm=function(){this.errorRules=[],this.validated=[];for(var i=Ei(this.selectQuery,this.element),n=0,s=i;n<s.length;n++){var a=s[n],o=a;o.removeAttribute("aria-invalid");var l=o.parentElement,c=l.parentElement;l.classList.contains("e-control-wrapper")||l.classList.contains("e-wrapper")||o.classList.contains("e-input")&&l.classList.contains("e-input-group")?l.classList.remove(this.errorClass):c!=null&&(c.classList.contains("e-control-wrapper")||c.classList.contains("e-wrapper"))?c.classList.remove(this.errorClass):o.classList.remove(this.errorClass),o.name.length>0&&(this.getInputElement(o.name),this.getErrorElement(o.name),this.hideMessage(o.name)),l.classList.contains("e-control-wrapper")||l.classList.contains("e-wrapper")||o.classList.contains("e-input")&&l.classList.contains("e-input-group")?l.classList.remove(this.validClass):c!=null&&(c.classList.contains("e-control-wrapper")||c.classList.contains("e-wrapper"))?c.classList.remove(this.validClass):o.classList.remove(this.validClass)}},t.prototype.createHTML5Rules=function(){for(var i=["required","validateHidden","regex","rangeLength","maxLength","minLength","dateIso","digits","pattern","data-val-required","type","data-validation","min","max","range","equalTo","data-val-minlength-min","data-val-equalto-other","data-val-maxlength-max","data-val-range-min","data-val-regex-pattern","data-val-length-max","data-val-creditcard","data-val-phone"],n=["hidden","email","url","date","number","tel"],s=0,a=this.inputElements;s<a.length;s++){for(var o=a[s],l={},c=0,u=i;c<u.length;c++){var d=u[c];if(o.getAttribute(d)!==null)switch(d){case"required":this.defRule(o,l,d,o.required);break;case"data-validation":d=o.getAttribute(d),this.defRule(o,l,d,!0);break;case"type":n.indexOf(o.type)!==-1&&this.defRule(o,l,o.type,!0);break;case"rangeLength":case"range":this.defRule(o,l,d,JSON.parse(o.getAttribute(d)));break;case"equalTo":{var p=o.getAttribute(d);this.defRule(o,l,d,p)}break;default:o.getAttribute("data-val")==="true"?this.annotationRule(o,l,d,o.getAttribute(d)):this.defRule(o,l,d,o.getAttribute(d))}}Object.keys(l).length!==0&&this.addRules(o.name,l)}},t.prototype.annotationRule=function(i,n,s,a){var o=s.split("-"),l=["required","creditcard","phone","maxlength","minlength","range","regex","equalto"],c=o[o.length-1],u=o[o.length-2];if(l.indexOf(c)!==-1)switch(c){case"required":this.defRule(i,n,"required",a);break;case"creditcard":this.defRule(i,n,"creditcard",a);break;case"phone":this.defRule(i,n,"tel",a);break}else if(l.indexOf(u)!==-1)switch(u){case"maxlength":this.defRule(i,n,"maxLength",a);break;case"minlength":this.defRule(i,n,"minLength",a);break;case"range":{var d=i.getAttribute("data-val-range-min"),p=i.getAttribute("data-val-range-max");this.defRule(i,n,"range",[d,p])}break;case"equalto":{var m=i.getAttribute(s).split(".");this.defRule(i,n,"equalTo",m[m.length-1])}break;case"regex":this.defRule(i,n,"regex",a);break}},t.prototype.defRule=function(i,n,s,a){var o=i.getAttribute("data-"+s+"-message"),l=i.getAttribute("data-val-"+s),c;this.rules[i.name]&&s!=="validateHidden"&&s!=="hidden"&&(this.getInputElement(i.name),c=this.getErrorMessage(this.rules[i.name][""+s],s)),o?a=[a,o]:l?a=[a,l]:c&&(a=[a,c]),n[""+s]=a},t.prototype.wireEvents=function(){for(var i=0,n=this.inputElements;i<n.length;i++){var s=n[i];e.isCheckable(s)?se.add(s,"click",this.clickHandler,this):s.tagName==="SELECT"?se.add(s,"change",this.changeHandler,this):(se.add(s,"focusout",this.focusOutHandler,this),se.add(s,"keyup",this.keyUpHandler,this))}se.add(this.element,"submit",this.submitHandler,this),se.add(this.element,"reset",this.resetHandler,this)},t.prototype.unwireEvents=function(){for(var i=0,n=this.inputElements;i<n.length;i++){var s=n[i];se.clearEvents(s)}se.remove(this.element,"submit",this.submitHandler),se.remove(this.element,"reset",this.resetHandler)},t.prototype.focusOutHandler=function(i){this.trigger("focusout",i);var n=i.target;this.rules[n.name]&&(this.rules[n.name][this.required]||n.value.length>0?this.validate(n.name):this.validated.indexOf(n.name)===-1&&this.validated.push(n.name))},t.prototype.keyUpHandler=function(i){this.trigger("keyup",i);var n=i.target,s=[16,17,18,20,35,36,37,38,39,40,45,144,225];i.which===9&&(!this.rules[n.name]||this.rules[n.name]&&!this.rules[n.name][this.required])||this.validated.indexOf(n.name)!==-1&&this.rules[n.name]&&s.indexOf(i.which)===-1&&this.validate(n.name)},t.prototype.clickHandler=function(i){this.trigger("click",i);var n=i.target;n.type!=="submit"?this.validate(n.name):n.getAttribute("formnovalidate")!==null&&(this.allowSubmit=!0)},t.prototype.changeHandler=function(i){this.trigger("change",i);var n=i.target;this.validate(n.name)},t.prototype.submitHandler=function(i){this.trigger("submit",i),!this.allowSubmit&&!this.validate()?i.preventDefault():this.allowSubmit=!1},t.prototype.resetHandler=function(){this.clearForm()},t.prototype.validateRules=function(i){if(this.rules[""+i]){var n=Object.keys(this.rules[""+i]),s=!1,a=!1,o=n.indexOf("validateHidden"),l=n.indexOf("hidden");if(this.getInputElement(i),l!==-1&&(s=!0),o!==-1&&(a=!0),!s||s&&a){o!==-1&&n.splice(o,1),l!==-1&&n.splice(l-1,1),this.getErrorElement(i);for(var c=0,u=n;c<u.length;c++){var d=u[c],p=this.getErrorMessage(this.rules[""+i][""+d],d),m={name:i,message:p},y={inputName:i,element:this.inputElement,message:p};if(!this.isValid(i,d)&&!this.inputElement.classList.contains(this.ignore)){this.removeErrorRules(i),this.errorRules.push(m),this.inputElement.setAttribute("aria-invalid","true"),this.inputElement.setAttribute("aria-describedby",this.inputElement.id+"-info");var M=this.inputElement.parentElement,w=M.parentElement;M.classList.contains("e-control-wrapper")||M.classList.contains("e-wrapper")||this.inputElement.classList.contains("e-input")&&M.classList.contains("e-input-group")?(M.classList.add(this.errorClass),M.classList.remove(this.validClass)):w!=null&&(w.classList.contains("e-control-wrapper")||w.classList.contains("e-wrapper"))?(w.classList.add(this.errorClass),w.classList.remove(this.validClass)):(this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass)),this.infoElement?this.showMessage(m):this.createErrorElement(i,m.message,this.inputElement),y.errorElement=this.infoElement,y.status="failure",M.classList.contains("e-control-wrapper")||M.classList.contains("e-wrapper")||this.inputElement.classList.contains("e-input")&&M.classList.contains("e-input-group")?(M.classList.add(this.errorClass),M.classList.remove(this.validClass)):w!=null&&(w.classList.contains("e-control-wrapper")||w.classList.contains("e-wrapper"))?(w.classList.add(this.errorClass),w.classList.remove(this.validClass)):(this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass)),this.optionalValidationStatus(i,y),this.trigger("validationComplete",y),d==="required"&&this.inputElement.setAttribute("aria-required","true");break}else this.hideMessage(i),y.status="success",this.trigger("validationComplete",y)}}else return}},t.prototype.optionalValidationStatus=function(i,n){!this.rules[""+i][this.required]&&!this.inputElement.value.length&&!v(this.infoElement)&&(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),n.status="",this.hideMessage(i))},t.prototype.isValid=function(i,n){var s=this.rules[""+i][""+n],a=s instanceof Array&&typeof s[1]=="string"?s[0]:s,o=this.rules[""+i][""+n],l=(n==="min"||n==="max")&&this.rules[""+i].date&&typeof this.rules[""+i].date=="string"?this.rules[""+i].date:null,c={value:this.inputElement.value,param:a,element:this.inputElement,formElement:this.element,format:l,culture:this.locale};if(this.trigger("validationBegin",c),!c.param&&n==="required")return!0;if(o&&typeof o[0]=="function"){var u=o[0];return u.call(this,{element:this.inputElement,value:this.inputElement.value})}else return e.isCheckable(this.inputElement)?n!=="required"?!0:Ei('input[name="'+i+'"]:checked',this.element).length>0:e.checkValidator[""+n](c)},t.prototype.getErrorMessage=function(i,n){var s=this.inputElement.getAttribute("data-"+n+"-message")?this.inputElement.getAttribute("data-"+n+"-message"):i instanceof Array&&typeof i[1]=="string"?i[1]:Object.keys(this.localyMessage).length!==0?this.localyMessage[""+n]:this.defaultMessages[""+n],a=s.match(/{(\d)}/g);if(!v(a))for(var o=0;o<a.length;o++){var l=i instanceof Array?i[parseInt(o.toString(),10)]:i;s=s.replace(a[parseInt(o.toString(),10)],l)}return s},t.prototype.createErrorElement=function(i,n,s){var a=Be(this.errorElement,{className:this.errorClass,innerHTML:n,attrs:{for:i}});if(this.errorOption===tS.Message&&(a.classList.remove(this.errorClass),a.classList.add("e-message"),a=Be(this.errorContainer,{className:this.errorClass,innerHTML:a.outerHTML})),a.id=this.inputElement.name+"-info",this.element.querySelector('[data-valmsg-for="'+s.id+'"]'))this.element.querySelector('[data-valmsg-for="'+s.id+'"]').appendChild(a);else if(s.hasAttribute("data-msg-containerid")===!0){var o=s.getAttribute("data-msg-containerid"),l=Et("#"+o,this.element);l.appendChild(a)}else if(this.customPlacement!=null)this.customPlacement.call(this,this.inputElement,a);else{var c=this.inputElement.parentElement,u=c.parentElement;c.classList.contains("e-control-wrapper")||c.classList.contains("e-wrapper")?u.insertBefore(a,c.nextSibling):u.classList.contains("e-control-wrapper")||u.classList.contains("e-wrapper")?u.parentElement.insertBefore(a,u.nextSibling):c.insertBefore(a,this.inputElement.nextSibling)}a.style.display="block",this.getErrorElement(i),this.validated.push(i),this.checkRequired(i)},t.prototype.getErrorElement=function(i){return this.infoElement=Et(this.errorElement+"."+this.errorClass,this.inputElement.parentElement),this.infoElement||(this.infoElement=Et(this.errorElement+"."+this.errorClass+'[for="'+i+'"]',this.element)),this.infoElement},t.prototype.removeErrorRules=function(i){for(var n=0;n<this.errorRules.length;n++){var s=this.errorRules[parseInt(n.toString(),10)];s.name===i&&this.errorRules.splice(n,1)}},t.prototype.showMessage=function(i){this.infoElement.style.display="block",this.infoElement.innerHTML=i.message,this.checkRequired(i.name)},t.prototype.hideMessage=function(i){if(this.infoElement){this.infoElement.style.display="none",this.removeErrorRules(i);var n=this.inputElement.parentElement,s=n.parentElement;n.classList.contains("e-control-wrapper")||n.classList.contains("e-wrapper")||this.inputElement.classList.contains("e-input")&&n.classList.contains("e-input-group")?(n.classList.add(this.validClass),n.classList.remove(this.errorClass)):s!=null&&(s.classList.contains("e-control-wrapper")||s.classList.contains("e-wrapper"))?(s.classList.add(this.validClass),s.classList.remove(this.errorClass)):(this.inputElement.classList.add(this.validClass),this.inputElement.classList.remove(this.errorClass)),this.inputElement.setAttribute("aria-invalid","false")}},t.prototype.checkRequired=function(i){!this.rules[""+i][this.required]&&!this.inputElement.value.length&&!v(this.infoElement)&&(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),this.hideMessage(i))},t.isCheckable=function(i){var n=i.getAttribute("type");return n&&(n==="checkbox"||n==="radio"||n==="submit")};var e;return t.checkValidator={required:function(i){return isNaN(Date.parse(i.value))?i.value.toString().length>0:!isNaN(new Date(i.value).getTime())},email:function(i){return Dy.EMAIL.test(i.value)},url:function(i){return Dy.URL.test(i.value)},dateIso:function(i){return Dy.DATE_ISO.test(i.value)},tel:function(i){return Dy.PHONE.test(i.value)},creditcard:function(i){return Dy.CREDITCARD.test(i.value)},number:function(i){return!isNaN(Number(i.value))&&String(i.value).indexOf(" ")===-1},digits:function(i){return Dy.DIGITS.test(i.value)},maxLength:function(i){return i.value.length<=Number(i.param)},minLength:function(i){return i.value.length>=Number(i.param)},rangeLength:function(i){var n=i.param;return i.value.length>=n[0]&&i.value.length<=n[1]},range:function(i){var n=i.param;return!isNaN(Number(i.value))&&Number(i.value)>=n[0]&&Number(i.value)<=n[1]},date:function(i){if(!v(i.param)&&typeof i.param=="string"&&i.param!==""){var n=i.culture&&i.culture!==""?new Ns(i.culture):new Ns,s={format:i.param.toString(),type:"dateTime",skeleton:"yMd"},a=n.parseDate(i.value,s);return!v(a)&&a instanceof Date&&!isNaN(+a)}else return!isNaN(new Date(i.value).getTime())},max:function(i){if(!isNaN(Number(i.value)))return+i.value<=+i.param;if(i.format&&i.format!==""){var n=i.culture&&i.culture!==""?new Ns(i.culture):new Ns,s={format:i.format.toString(),type:"dateTime",skeleton:"yMd"},a=n.parseDate(i.value,s),o=typeof i.param=="string"?n.parseDate(JSON.parse(JSON.stringify(i.param)),s):i.param;return new Date(a).getTime()<=new Date(o).getTime()}else return new Date(i.value).getTime()<=new Date(JSON.parse(JSON.stringify(i.param))).getTime()},min:function(i){if(isNaN(Number(i.value)))if(i.value.indexOf(",")!==-1){var n=i.value.replace(/,/g,"");return parseFloat(n)>=Number(i.param)}else if(i.format&&i.format!==""){var s=i.culture&&i.culture!==""?new Ns(i.culture):new Ns,a={format:i.format.toString(),type:"dateTime",skeleton:"yMd"},o=s.parseDate(i.value,a),l=typeof i.param=="string"?s.parseDate(JSON.parse(JSON.stringify(i.param)),a):i.param;return new Date(o).getTime()>=new Date(l).getTime()}else return new Date(i.value).getTime()>=new Date(JSON.parse(JSON.stringify(i.param))).getTime();else return+i.value>=+i.param},regex:function(i){return new RegExp(i.param).test(i.value)},equalTo:function(i){var n=i.formElement.querySelector("#"+i.param);return i.param=n.value,i.param===i.value}},dl([ee("")],t.prototype,"locale",void 0),dl([ee("e-hidden")],t.prototype,"ignore",void 0),dl([ee()],t.prototype,"rules",void 0),dl([ee("e-error")],t.prototype,"errorClass",void 0),dl([ee("e-valid")],t.prototype,"validClass",void 0),dl([ee("label")],t.prototype,"errorElement",void 0),dl([ee("div")],t.prototype,"errorContainer",void 0),dl([ee(tS.Label)],t.prototype,"errorOption",void 0),dl([Xe()],t.prototype,"focusout",void 0),dl([Xe()],t.prototype,"keyup",void 0),dl([Xe()],t.prototype,"click",void 0),dl([Xe()],t.prototype,"change",void 0),dl([Xe()],t.prototype,"submit",void 0),dl([Xe()],t.prototype,"validationBegin",void 0),dl([Xe()],t.prototype,"validationComplete",void 0),dl([Xe()],t.prototype,"customPlacement",void 0),t=e=dl([$n],t),t})(Ug),ON=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Ti=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Xu="e-treeview",pU="e-control",gs="e-icon-collapsible",kr="e-icon-expandable",Hi="e-list-item",m0="e-list-text",Bxe="e-text-wrap",Uxe="e-ie-wrap",Lr="e-list-parent",YD="e-hover",Vo="e-active",qD="e-icons-spinner",ip="e-process",ja="e-icons",io="e-text-content",QD="e-input",mU="e-input-group",GD="e-tree-input",Q2="e-editing",gU="e-rtl",vU="e-interaction",Vxe="e-drag-item",yU="e-droppable",KD="e-dragging",cM="e-sibling",$D="e-drop-in",uM="e-drop-next",G2="e-drop-out",K2="e-no-drop",Hxe="e-fullrow-wrap",rp="e-fullrow",Ey="e-selected",XD="e-expanded",xU="e-node-collapsed",Ay="e-disable",Wxe="e-drop-count",Ho="e-check",Ju="e-stop",Ol="e-treeview-checkbox",zd="e-frame",Yxe="e-ripple-container",MU="e-ripple",qxe="e-ripple-element",g0="e-node-focus",wU="e-list-img",Qxe="e-bigger",Gxe="e-small",Kxe="e-has-child",JD="e-animation-active",TU="e-disabled",hM="e-prevent",bU={treeRole:"group",itemRole:"treeitem",listRole:"group",itemText:"",wrapperRole:""},$xe=(function(r){ON(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Ti([ee("child")],t.prototype,"child",void 0),Ti([ee([])],t.prototype,"dataSource",void 0),Ti([ee("expanded")],t.prototype,"expanded",void 0),Ti([ee("hasChildren")],t.prototype,"hasChildren",void 0),Ti([ee("htmlAttributes")],t.prototype,"htmlAttributes",void 0),Ti([ee("iconCss")],t.prototype,"iconCss",void 0),Ti([ee("id")],t.prototype,"id",void 0),Ti([ee("imageUrl")],t.prototype,"imageUrl",void 0),Ti([ee("isChecked")],t.prototype,"isChecked",void 0),Ti([ee("parentID")],t.prototype,"parentID",void 0),Ti([ee(null)],t.prototype,"query",void 0),Ti([ee("selectable")],t.prototype,"selectable",void 0),Ti([ee("selected")],t.prototype,"selected",void 0),Ti([ee(null)],t.prototype,"tableName",void 0),Ti([ee("text")],t.prototype,"text",void 0),Ti([ee("tooltip")],t.prototype,"tooltip",void 0),Ti([ee("navigateUrl")],t.prototype,"navigateUrl",void 0),t})(fa),DU=(function(r){ON(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Ti([ee("SlideDown")],t.prototype,"effect",void 0),Ti([ee(400)],t.prototype,"duration",void 0),Ti([ee("linear")],t.prototype,"easing",void 0),t})(fa),Xxe=(function(r){ON(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Ti([Yn({effect:"SlideUp",duration:400,easing:"linear"},DU)],t.prototype,"collapse",void 0),Ti([Yn({effect:"SlideDown",duration:400,easing:"linear"},DU)],t.prototype,"expand",void 0),t})(fa),Jxe=(function(r){ON(t,r);function t(i,n){var s=r.call(this,i,n)||this;return s.isRefreshed=!1,s.preventExpand=!1,s.checkedElement=[],s.disableNode=[],s.validArr=[],s.validNodes=[],s.expandChildren=[],s.isFieldChange=!1,s.changeDataSource=!1,s.hasTemplate=!1,s.isFirstRender=!1,s.batchParentNode=new Set,s.isNodeDropped=!1,s.isInteracted=!1,s.isRightClick=!1,s.mouseDownStatus=!1,s.isDropIn=!1,s.OldCheckedData=[],s.isHiddenItem=!1,s}e=t,t.prototype.getModuleName=function(){return"treeview"},t.prototype.preRender=function(){var i=this;this.checkActionNodes=[],this.parentNodeCheck=[],this.dragStartAction=!1,this.isAnimate=!1,this.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space",shiftSpace:"shift+space",ctrlSpace:"ctrl+space"},this.listBaseOption={expandCollapse:!0,showIcon:!0,expandIconClass:kr,ariaAttributes:bU,expandIconPosition:"Left",itemCreated:function(n){i.beforeNodeCreate(n)},enableHtmlSanitizer:this.enableHtmlSanitizer,itemNavigable:this.fullRowNavigable},this.updateListProp(this.fields),this.aniObj=new fo({}),this.treeList=[],this.isLoaded=!1,this.isInitalExpand=!1,this.expandChildren=[],this.index=0,this.setTouchClass(),this.DDTTreeData=JSON.parse(JSON.stringify(this.fields.dataSource)),v(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),v(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0),v(this.expandedNodes)?this.setProperties({expandedNodes:[]},!0):this.isInitalExpand=!0},t.prototype.getPersistData=function(){var i=["selectedNodes","checkedNodes","expandedNodes"];return this.addOnPersist(i)},t.prototype.render=function(){this.initialRender=!0,this.initialize(),this.setDataBinding(!1),this.setDisabledMode(),this.setExpandOnType(),this.disabled||this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.disabled||this.wireEvents(),this.initialRender=!1,this.renderComplete()},t.prototype.initialize=function(){this.element.setAttribute("role","tree"),!v(this.fields.dataSource)&&Array.isArray(this.fields.dataSource)&&this.fields.dataSource.length!==0&&this.element.setAttribute("aria-activedescendant",this.element.id+"_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect),this.setTextWrap(),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)},t.prototype.setDisabledMode=function(){this.disabled?(this.element.classList.add(TU),this.element.setAttribute("aria-disabled","true")):(this.element.classList.remove(TU),this.element.setAttribute("aria-disabled","false"))},t.prototype.setEnableRtl=function(){(this.enableRtl?pe:Oe)([this.element],gU)},t.prototype.setRipple=function(){var i="."+rp+",."+io,n={selector:i,ignore:"."+io+" > ."+ja+",."+mU+",."+QD+", ."+Ol};this.rippleFn=ed(this.element,n);var s={selector:"."+io+" > ."+ja,isCenterRipple:!0};this.rippleIconFn=ed(this.element,s)},t.prototype.setFullRow=function(i){(i?pe:Oe)([this.element],Hxe)},t.prototype.setMultiSelect=function(i){i?this.element.setAttribute("aria-multiselectable","true"):this.element.setAttribute("aria-multiselectable","false")},t.prototype.templateComplier=function(i){if(i){this.hasTemplate=!0,this.element.classList.add(vU);try{return typeof i!="function"&&document.querySelectorAll(i).length?jn(document.querySelector(i).innerHTML.trim()):jn(i)}catch{return jn(i)}}this.element.classList.remove(vU)},t.prototype.setDataBinding=function(i){var n=this;this.treeList.push("false"),this.fields.dataSource instanceof ut?(this.isOffline=this.fields.dataSource.dataSource.offline,this.fields.dataSource.ready?this.fields.dataSource.ready.then(function(s){n.isOffline=n.fields.dataSource.dataSource.offline,n.fields.dataSource instanceof ut&&n.isOffline&&(n.treeList.pop(),n.treeData=s.result,n.isNumberTypeId=n.getType(),n.setRootData(),n.renderItems(!0),n.treeList.length===0&&!n.isLoaded&&n.finalize())}).catch(function(s){n.trigger("actionFailure",{error:s})}):this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function(s){n.treeList.pop(),n.treeData=s.result,n.isNumberTypeId=n.getType(),n.setRootData(),i&&(n.changeDataSource=!0),n.renderItems(!0),n.changeDataSource=!1,n.treeList.length===0&&!n.isLoaded&&n.finalize()}).catch(function(s){n.trigger("actionFailure",{error:s})})):(this.treeList.pop(),v(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=JSON.parse(JSON.stringify(this.fields.dataSource)),this.setRootData()),this.isNumberTypeId=this.getType(),this.renderItems(!1)),this.treeList.length===0&&!this.isLoaded&&this.finalize()},t.prototype.getQuery=function(i,n){n===void 0&&(n=null);var s=[],a;if(i.query)a=i.query.clone();else{a=new di;for(var o=this.getActualProperties(i),l=0,c=Object.keys(o);l<c.length;l++){var u=c[l];u!=="dataSource"&&u!=="tableName"&&u!=="child"&&i[""+u]&&u!=="url"&&s.indexOf(i[""+u])===-1&&s.push(i[""+u])}a.select(s),Object.prototype.hasOwnProperty.call(o,"tableName")&&a.from(i.tableName)}return en.addSorting(this.sortOrder,i.text,a),!v(n)&&!v(i.parentID)&&a.where(i.parentID,"equal",this.isNumberTypeId?parseFloat(n):n),a},t.prototype.getType=function(){return this.treeData[0]?typeof Pe(this.fields.id,this.treeData[0])=="number":!1},t.prototype.setRootData=function(){if(this.dataType=this.getDataType(this.treeData,this.fields),this.dataType===1){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);var i=this.getChildNodes(this.treeData,void 0,!0);v(i)?this.rootData=[]:this.rootData=i}else this.rootData=this.treeData},t.prototype.isChildObject=function(){return typeof this.fields.child=="object"},t.prototype.renderItems=function(i){this.listBaseOption.ariaAttributes.level=1;var n=this.getSortedData(this.rootData);this.ulElement=en.createList(this.createElement,i?this.rootData:n,this.listBaseOption),this.element.appendChild(this.ulElement);var s=this.ulElement.querySelectorAll(".e-list-item");if(this.loadOnDemand===!1)for(var a=0;a<s.length;)this.renderChildNodes(s[parseInt(a.toString(),10)],!0,null,!0),a++;var o=Ei("."+Lr,this.element);(o.length===1&&s&&s.length!==0||this.loadOnDemand)&&this.finalizeNode(this.element),this.parentNodeCheck=[],this.parentCheckData=[],this.updateCheckedStateFromDS(),this.autoCheck&&this.showCheckBox&&!this.isLoaded&&this.updateParentCheckState()},t.prototype.updateCheckedStateFromDS=function(){if(this.validNodes=[],this.treeData&&this.showCheckBox){if(this.dataType===1){for(var i=this.fields,n=new ut(this.treeData).executeLocal(new di().where(i.isChecked,"equal",!0,!1)),s=0;s<n.length;s++){var a=n[parseInt(s.toString(),10)][this.fields.id]?n[parseInt(s.toString(),10)][this.fields.id].toString():null;if(this.checkedNodes.indexOf(a)===-1&&!this.isLoaded&&this.checkDisabledState(a,n[s]),n[parseInt(s.toString(),10)][this.fields.hasChildren])for(var o=n[parseInt(s.toString(),10)][this.fields.id],l=new ut(this.treeData).executeLocal(new di().where(i.parentID,"equal",o,!1)),c=0;c<l.length;c++){var u=l[parseInt(c.toString(),10)][this.fields.id]?l[parseInt(c.toString(),10)][this.fields.id].toString():null;this.checkedNodes.indexOf(u)===-1&&this.autoCheck&&this.checkDisabledState(u,l[c])}}for(var s=0;s<this.checkedNodes.length;s++){var d=this.fields,p=new ut(this.treeData).executeLocal(new di().where(d.id,"equal",this.checkedNodes[parseInt(s.toString(),10)],!0));if(p[0]&&this.autoCheck&&(this.getCheckedNodeDetails(d,p),this.checkIndeterminateState(p[0])),p.length>0){var m=p[0][this.fields.id]?p[0][this.fields.id].toString():null;this.checkedNodes.indexOf(m)>-1&&this.validNodes.indexOf(m)===-1&&this.validNodes.push(m)}for(var y=new ut(this.treeData).executeLocal(new di().where(d.parentID,"equal",this.checkedNodes[parseInt(s.toString(),10)],!0)),M=0;M<y.length;M++){var m=y[parseInt(M.toString(),10)][this.fields.id]?y[parseInt(M.toString(),10)][this.fields.id].toString():null;this.checkedNodes.indexOf(m)===-1&&this.autoCheck&&this.checkDisabledState(m,y[M]),this.checkedNodes.indexOf(m)>-1&&this.validNodes.indexOf(m)===-1&&this.validNodes.push(m)}}}else if(this.dataType===2||this.fields.dataSource instanceof ut&&this.isOffline){for(var M=0;M<this.treeData.length;M++){var w=this.treeData[parseInt(M.toString(),10)][this.fields.id]?this.treeData[parseInt(M.toString(),10)][this.fields.id].toString():"";this.treeData[parseInt(M.toString(),10)][this.fields.isChecked]&&!this.isLoaded&&this.checkedNodes.indexOf(w)===-1&&this.checkDisabledState(w,this.treeData[M]),this.checkedNodes.indexOf(w)>-1&&this.validNodes.indexOf(w)===-1&&this.validNodes.push(w);var b=Pe(this.fields.child.toString(),this.treeData[parseInt(M.toString(),10)]);b&&this.updateChildCheckState(b,this.treeData[parseInt(M.toString(),10)])}this.validNodes=this.enablePersistence?this.checkedNodes:this.validNodes}this.setProperties({checkedNodes:this.validNodes},!0)}},t.prototype.getCheckedNodeDetails=function(i,n){var s=n[0][this.fields.parentID]?n[0][this.fields.parentID].toString():null,a=0,o=this.element.querySelector('[data-uid="'+n[0][this.fields.id]+'"]'),l=this.element.querySelector('[data-uid="'+n[0][this.fields.parentID]+'"]');if(!o&&!l){this.parentNodeCheck.indexOf(s)===-1&&this.parentNodeCheck.push(s);for(var c=this.getChildNodes(this.treeData,s),u=0;u<c.length;u++){var d=c[parseInt(u.toString(),10)][this.fields.id]?c[parseInt(u.toString(),10)][this.fields.id].toString():null;this.checkedNodes.indexOf(d)!==-1&&a++,a===c.length&&this.checkedNodes.indexOf(s)===-1&&this.checkDisabledState(s)}var p=new ut(this.treeData).executeLocal(new di().where(i.id,"equal",s,!0));this.getCheckedNodeDetails(i,p)}else if(l){var m=Et("."+Ho,l);m||this.changeState(l,"indeterminate",null,!0,!0)}},t.prototype.updateParentCheckState=function(){var i=Ei("."+Ju,this.element),n,s=this.treeData;this.element.classList.contains("e-filtering")&&(s=this.DDTTreeData);for(var a=0;a<i.length;a++){var o=Fe(i[parseInt(a.toString(),10)],"."+Hi),l=o.getAttribute("data-uid").toString(),c=void 0;this.element.classList.contains("e-filtering")&&(c=new ut(this.OldCheckedData).executeLocal(new di().where("parentID","equal",l,!0))),this.dataType===1?n=new ut(s).executeLocal(new di().where(this.fields.parentID,"equal",l,!0)):n=this.getChildNodes(s,l);var u=0;if(n){for(var d=function(M){var w=n[parseInt(M.toString(),10)][p.fields.id].toString();(p.checkedNodes.indexOf(w)!==-1||p.element.classList.contains("e-filtering")&&c.findIndex(function(b){return b.id===w})!==-1)&&u++},p=this,m=0;m<n.length;m++)d(m);if(u===n.length){var y=o.getAttribute("data-uid");this.checkedNodes.indexOf(y)===-1&&this.checkDisabledState(y),this.changeState(o,"check",null,!0,!0)}else u===0&&this.checkedNodes.length===0&&i.length===0&&this.changeState(o,"uncheck",null,!0,!0)}}},t.prototype.checkIndeterminateState=function(i){var n;if(this.dataType===1?n=this.element.querySelector('[data-uid="'+i[this.fields.parentID]+'"]'):n=this.element.querySelector('[data-uid="'+i[this.fields.id]+'"]'),n){var s=n.getAttribute("aria-checked");s!=="true"&&this.changeState(n,"indeterminate",null,!0,!0)}else this.dataType===2&&this.parentNodeCheck.indexOf(i[this.fields.id].toString())===-1&&this.parentNodeCheck.push(i[this.fields.id].toString())},t.prototype.updateChildCheckState=function(i,n){for(var s=0,a=n[this.fields.id]?n[this.fields.id].toString():"",o=0;o<i.length;o++){var l=i[parseInt(o.toString(),10)][this.fields.id]?i[parseInt(o.toString(),10)][this.fields.id].toString():"";i[parseInt(o.toString(),10)][this.fields.isChecked]&&!this.isLoaded&&this.checkedNodes.indexOf(l)===-1&&this.checkDisabledState(l,i[o]),this.checkedNodes.indexOf(a)!==-1&&this.checkedNodes.indexOf(l)===-1&&this.autoCheck&&this.checkDisabledState(l,i[o]),this.checkedNodes.indexOf(l)!==-1&&this.autoCheck&&s++,this.checkedNodes.indexOf(l)>-1&&this.validNodes.indexOf(l)===-1&&this.validNodes.push(l);var c=Pe(this.fields.child.toString(),i[parseInt(o.toString(),10)]);c&&c.length&&(this.parentCheckData.indexOf(n)===-1&&this.parentCheckData.push(n),this.updateChildCheckState(c,i[parseInt(o.toString(),10)])),s===i.length&&this.autoCheck&&this.checkedNodes.indexOf(a)===-1&&this.checkDisabledState(a,n)}if(s!==0&&this.autoCheck){this.checkIndeterminateState(n);for(var u=0;u<this.parentCheckData.length;u++)n!==this.parentCheckData[parseInt(u.toString(),10)]&&this.parentCheckData[parseInt(u.toString(),10)]&&this.checkIndeterminateState(this.parentCheckData[parseInt(u.toString(),10)])}this.parentCheckData=[]},t.prototype.beforeNodeCreate=function(i){if(this.showCheckBox){var n=zye(this.createElement,!0,{cssClass:this.touchClass});n.classList.add(Ol);var s=Et("div."+kr+", div."+gs,i.item),a=i.item.getAttribute("data-uid");i.item.childNodes[0].insertBefore(n,i.item.childNodes[0].childNodes[v(s)?0:1]);var o=Pe(i.fields.isChecked,i.curData);this.checkedNodes.indexOf(a)>-1?(Et("."+zd,n).classList.add(Ho),i.item.setAttribute("aria-checked","true"),this.addCheck(i.item)):!v(o)&&o.toString()==="true"?(Et("."+zd,n).classList.add(Ho),i.item.setAttribute("aria-checked","true"),this.addCheck(i.item)):i.item.setAttribute("aria-checked","false");var l=Et("."+zd,n);se.add(l,"mousedown",this.frameMouseHandler,this),se.add(l,"mouseup",this.frameMouseHandler,this),se.add(l,"mouseleave",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(i.item),this.allowMultiSelection&&!i.item.classList.contains(Ey)&&i.item.setAttribute("aria-selected","false");var c=i.fields;if(this.addActionClass(i,c.selected,Ey),this.addActionClass(i,c.expanded,XD),i.item.setAttribute("tabindex","-1"),se.add(i.item,"focus",this.focusIn,this),!v(this.nodeTemplateFn)){var u=i.item.querySelector("."+m0),d=i.item.getAttribute("data-uid");u.innerHTML="",this.renderNodeTemplate(i.curData,u,d)}var p={node:i.item,nodeData:i.curData,text:i.text};if(!this.isRefreshed&&(this.trigger("drawNode",p),i.curData[this.fields.selectable]===!1&&!this.showCheckBox)){i.item.classList.add(hM);var m=i.item.firstElementChild;m.style.cursor="not-allowed"}},t.prototype.frameMouseHandler=function(i){var n=Et("."+Yxe,i.target.parentElement);q0(i,n)},t.prototype.addActionClass=function(i,n,s){var a=i.curData,o=Pe(n,a);!v(o)&&o.toString()!=="false"&&i.item.classList.add(s)},t.prototype.getDataType=function(i,n){if(this.fields.dataSource instanceof ut){for(var s=0;s<i.length;s++)if(this.isOffline){if(typeof n.child=="string"&&v(Pe(n.child,i[parseInt(s.toString(),10)]))&&!v(Pe(n.parentID,i[parseInt(s.toString(),10)])))return 1}else if(typeof n.child=="string"&&v(Pe(n.child,i[parseInt(s.toString(),10)])))return 1;return 2}for(var s=0,a=i.length;s<a;s++){if(typeof n.child=="string"&&(!v(Pe(n.child,i[parseInt(s.toString(),10)]))||Object.prototype.hasOwnProperty.call(i[parseInt(s.toString(),10)],n.child))||this.isChildObject())return 2;if(!v(Pe(n.parentID,i[parseInt(s.toString(),10)]))||!v(Pe(n.hasChildren,i[parseInt(s.toString(),10)])))return 1}return 1},t.prototype.getGroupedData=function(i,n){for(var s=new di().group(n),a=en.getDataSource(i,s),o=[],l=0;l<a.length;l++){var c=a[parseInt(l.toString(),10)].items;o.push(c)}return o},t.prototype.getSortedData=function(i){return i&&this.sortOrder!=="None"&&(i=en.getDataSource(i,en.addSorting(this.sortOrder,this.fields.text))),i},t.prototype.finalizeNode=function(i,n,s){var a=this;if(n||this.updateAttributes(i),!s){var o=Ei("."+XD,i);if(!this.loadOnDemand&&this.fields.dataSource instanceof ut&&(this.isInitalExpand=this.treeData.filter(function(c){return c[a.fields.expanded]===!0}).length>0?!0:this.isInitalExpand),!this.isInitalExpand)for(var l=0;l<o.length;l++)this.renderChildNodes(o[parseInt(l.toString(),10)]);Oe(o,XD)}n||this.updateList(),this.isLoaded&&this.updateCheckedProp()},t.prototype.updateAttributes=function(i){for(var n=Ei("."+wU,i),s=0;s<n.length;s++)n[parseInt(s.toString(),10)].setAttribute("alt",wU);if(this.isLoaded){for(var a=Ei("."+Ey,i),o=0;o<a.length;o++){this.selectNode(a[parseInt(o.toString(),10)],null);break}Oe(a,Ey)}for(var l=Ei("."+Hi+":not(."+XD+")",i),c=0;c<l.length;c++){var u=Et("div."+ja,l[parseInt(c.toString(),10)]);u&&u.classList.contains(kr)&&this.disableExpandAttr(l[parseInt(c.toString(),10)])}},t.prototype.updateCheckedProp=function(){if(this.showCheckBox){var i=[].concat([],this.checkedNodes);this.setProperties({checkedNodes:i},!0)}},t.prototype.ensureIndeterminate=function(){if(this.autoCheck)for(var i=Ei("li",this.element),n=void 0,s=0;s<i.length;s++)i[parseInt(s.toString(),10)].classList.contains(Hi)&&(n=Et("."+Lr,i[parseInt(s.toString(),10)]),n?this.ensureParentCheckState(i[parseInt(s.toString(),10)]):this.ensureChildCheckState(i[parseInt(s.toString(),10)]));else for(var a=Ei("."+Ju,this.element),s=0;s<a.length;s++)a[parseInt(s.toString(),10)].classList.remove(Ju)},t.prototype.ensureParentCheckState=function(i){var n=this;if(!v(i)){if(i.classList.contains(Xu))return;var s=i;i.classList.contains(Hi)&&(s=Et("."+Lr,i));var a=Ei("."+Ol+" ."+Ho,s),o=Ei("."+Ju,s),l=Ei(this.checkDisabledChildren?"."+Hi:"."+Hi+":not(."+Ay+")",s),c=i.getElementsByClassName(Ol)[0],u=l.length,d=a.length,p=[],m=[],y=i.getAttribute("data-uid"),M=!0,w=!1,b=this.getAllChildNodes(this.DDTTreeData,y),D=0;l.forEach(function(H){if(H instanceof HTMLElement){var j=H.getAttribute("aria-checked");j==="true"?w=!0:M=!1}});var E=!1;if(this.element.classList.contains("e-filtering")){var N=new ut(this.OldCheckedData).executeLocal(new di().where("parentID","equal",y,!0));d=N.length;var B=new ut(this.OldCheckedData).executeLocal(new di().where("hasChildren","equal",!0,!0));B.length>0&&w&&(this.OldCheckedData.some(function(H){return H.id===y})||this.parentNodeCheck.indexOf(y)!==-1)&&(d=B.length,E=!0);var P=[];this.dataType===1?P=new ut(this.DDTTreeData).executeLocal(new di().where(this.fields.parentID,"equal",y,!0)):P=this.getChildNodes(this.DDTTreeData,y),u=P.length,b.forEach(function(H){var j=String(H[n.fields.id]);(n.checkedNodes.indexOf(j)!==-1||n.OldCheckedData.some(function(z){return z.parentID===j}))&&D++})}if(this.autoCheck&&this.showCheckBox&&!(this.fields.dataSource instanceof ut)){var C=this.getSelectedChildNodeDetails(y);p=C,m=new ut(this.checkActionNodes).executeLocal(new di().where("parentID","equal",y,!0))}if(u===0&&d===0)return;u===d||E&&u>0&&(m.length===p.length||m.length!==p.length)&&m.length!==0&&p.length!==0&&M&&this.autoCheck&&this.showCheckBox?this.changeState(c,"check",null,!0,!0):d>0&&!E&&this.autoCheck&&this.showCheckBox?this.changeState(c,"indeterminate",null,!0,!0):d>0||o.length>0||D>0?this.changeState(c,"indeterminate",null,!0,!0):d===0&&this.changeState(c,"uncheck",null,!0,!0);var k=Fe(i,"."+Lr);if(!v(k)){var _=Fe(k,"."+Hi);this.ensureParentCheckState(_)}}},t.prototype.getSelectedChildNodeDetails=function(i){var n=this,s=typeof this.fields.child=="string"?this.fields.child:null,a=this.fields.id,o=this.fields.parentID,l=function(c){if(!v(s)&&s in c&&Array.isArray(c[s])){var u=c[a];if(!v(u))return u.toString()===i}else{var d=c[o];if(!v(d))return d.toString()===i}return!1};return this.checkedNodes.map(function(c){return n.getNodeObject(c)}).filter(function(c){return c&&typeof c=="object"&&s in c||n.dataType!==2&&typeof c=="object"&&(o in c||s in c)?l(c):!1})},t.prototype.getAllChildNodes=function(i,n){if(v(i)||v(n))return[];if(this.dataType===1){var s=this.fields.parentID,a=n.toString();return i.filter(function(p){var m=Pe(s,p);return!v(m)&&m.toString()===a})}if(this.dataType===2){var o=this.fields.id,l=this.fields.child.toString(),c=n.toString(),u=i.find(function(p){var m=Pe(o,p);return!v(m)&&m.toString()===c});if(!u)return[];var d=Pe(l,u);return Array.isArray(d)?d:[]}return[]},t.prototype.ensureChildCheckState=function(i,n,s){var a=this;if(!v(i)){var o=Et("."+Lr,i),l=void 0;if(!v(o)){var c=Array.from(o.querySelectorAll("li"));l=Ei("."+Ol,o),this.isFilter&&(l=Array.from(l).filter(function(w){var b=w.closest("li").getAttribute("data-uid");return b!==null&&a.checkedNodes.indexOf(b)!==-1}),c=Array.from(c).filter(function(w){var b=w.getAttribute("data-uid");return b!==null&&a.checkedNodes.indexOf(b)!==-1}),l.length===0&&(l=Ei("."+Ol,o),c=Array.from(o.querySelectorAll("li"))));for(var u=i.getElementsByClassName(zd)[0].classList.contains(Ho),d=i.getElementsByClassName(zd)[0].classList.contains(Ju),p=void 0,m=0;m<l.length;m++){var y=c[parseInt(m.toString(),10)].getAttribute("data-uid");if(!v(this.currentLoadData)&&!v(Pe(this.fields.isChecked,this.currentLoadData[parseInt(m.toString(),10)])))p=Pe(this.fields.isChecked,this.currentLoadData[parseInt(m.toString(),10)])?"check":"uncheck",this.ele!==-1&&(p=u?"check":"uncheck"),p==="uncheck"&&!Wi(this.parentNodeCheck)&&this.autoCheck&&this.parentNodeCheck.indexOf(y)!==-1&&(this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(y),1),p="indeterminate");else{var M=l[parseInt(m.toString(),10)].getElementsByClassName(zd)[0].classList.contains(Ho);u||M&&!this.isLoaded||this.checkedNodes.indexOf(y)!==-1&&this.isLoaded&&(d||u)?p="check":c[parseInt(m.toString(),10)].classList.contains(Kxe)&&!Wi(this.parentNodeCheck)&&this.autoCheck&&(u||d)&&this.parentNodeCheck.indexOf(y)!==-1?(p="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(y),1)):this.dataType===1&&!Wi(this.parentNodeCheck)&&this.autoCheck&&(u||d)&&this.parentNodeCheck.indexOf(y)!==-1?(p="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(y),1)):p="uncheck"}this.changeState(l[parseInt(m.toString(),10)],p,n,!0,!0)}}this.autoCheck&&this.isLoaded&&!s&&this.updateParentCheckState()}},t.prototype.doCheckBoxAction=function(i,n){var s=this;if(v(i)){var y=Ei("."+Ol,this.element);if(this.loadOnDemand)for(var M=0;M<y.length;M++){var o=Fe(y[parseInt(M.toString(),10)],"."+Hi);this.updateFieldChecked(y[parseInt(M.toString(),10)],n),this.changeState(y[parseInt(M.toString(),10)],n?"check":"uncheck",null,null,null,n),this.updateOldCheckedData([this.getNodeData(o)])}else for(var M=0;M<y.length;M++){var o=Fe(y[parseInt(M.toString(),10)],"."+Hi);this.updateFieldChecked(y[parseInt(M.toString(),10)],n),this.changeState(y[parseInt(M.toString(),10)],n?"check":"uncheck"),this.updateOldCheckedData([this.getNodeData(o)])}}else{i.length>1&&this.autoCheck&&(this.isBatchMode=!0,this.batchParentNode=new Set),i.reverse();for(var a=i.length-1;a>=0;a--){var o=this.getElement(i[parseInt(a.toString(),10)]);if(v(o)){var l=i[a-i.length]?i[a-i.length].toString():i[parseInt(a.toString(),10)]?i[parseInt(a.toString(),10)].toString():null;if(l!==""&&n&&l)this.setValidCheckedNode(l,i),this.dynamicCheckState(l,n);else if(this.checkedNodes.indexOf(l)!==-1&&l!==""&&!n){this.checkedNodes.splice(this.checkedNodes.indexOf(l),1);var c=this.getChildNodes(this.treeData,l);if(c){for(var u=0;u<c.length;u++){var d=c[parseInt(u.toString(),10)][this.fields.id]?c[parseInt(u.toString(),10)][this.fields.id].toString():null;if(this.checkedNodes.indexOf(d)!==-1){this.checkedNodes.splice(this.checkedNodes.indexOf(d),1);var p=this.element.querySelector('[data-uid="'+d+'"]');p&&this.changeState(p,"uncheck",null)}}this.parentNodeCheck.indexOf(l)!==-1&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}l&&this.dynamicCheckState(l,n),this.updateField(this.treeData,this.fields,l,"isChecked",null)}continue}var m=Et("."+Lr+" ."+Ol,o);this.validateCheckNode(m,!n,o,null)}this.isBatchMode&&this.autoCheck&&(this.isBatchMode=!1,Array.from(this.batchParentNode).forEach(function(b){var D=s.getElement(b);D&&s.ensureParentCheckState(D)}),this.batchParentNode.clear())}if(i)for(var w=0;w<i.length-1;w++){var l=i[parseInt(w.toString(),10)]?i[parseInt(w.toString(),10)].toString():"";n||this.updateField(this.treeData,this.fields,l,"isChecked",null)}this.autoCheck&&this.updateParentCheckState()},t.prototype.updateFieldChecked=function(i,n){var s=Fe(i,"."+Hi),a=s.getAttribute("data-uid"),o=this.getNodeData(s);o.isChecked==="true"&&!n&&this.updateField(this.treeData,this.fields,a,"isChecked",null)},t.prototype.dynamicCheckState=function(i,n){if(this.dataType===1){var s=0,a=new ut(this.treeData).executeLocal(new di().where(this.fields.id,"equal",i,!0));if(a[0]){var o=a[0][this.fields.id]?a[0][this.fields.id].toString():null,l=a[0][this.fields.parentID]?a[0][this.fields.parentID].toString():null,c=this.element.querySelector('[data-uid="'+l+'"]'),u=this.element.querySelector('[data-uid="'+o+'"]'),d=this.getChildNodes(this.treeData,l);if(d)for(var p=0;p<d.length;p++){var m=d[parseInt(p.toString(),10)][this.fields.id]?d[parseInt(p.toString(),10)][this.fields.id].toString():null;this.checkedNodes.indexOf(m)!==-1&&s++}this.checkedNodes.indexOf(i)!==-1&&c&&o===i&&this.autoCheck?this.changeState(c,"indeterminate",null):this.checkedNodes.indexOf(i)===-1&&u&&o===i&&!n?this.changeState(u,"uncheck",null):this.checkedNodes.indexOf(i)!==-1&&u&&o===i&&n?this.changeState(u,"check",null):this.checkedNodes.indexOf(i)===-1&&!u&&c&&o===i&&this.autoCheck&&s!==0?this.changeState(c,"indeterminate",null):this.checkedNodes.indexOf(i)===-1&&!u&&c&&o===i&&this.autoCheck&&s===0?this.changeState(c,"uncheck",null):!u&&!c&&o===i&&this.autoCheck&&this.updateIndeterminate(i,n)}}else if(this.dataType===2||this.fields.dataSource instanceof ut&&this.isOffline)for(var o=void 0,c=void 0,y=void 0,p=0;p<this.treeData.length;p++){o=this.treeData[parseInt(p.toString(),10)][this.fields.id]?this.treeData[parseInt(p.toString(),10)][this.fields.id].toString():"",c=this.element.querySelector('[data-uid="'+o+'"]'),y=c?Et("."+Ho,c):null,this.checkedNodes.indexOf(o)===-1&&c&&y&&!n&&this.changeState(c,"uncheck",null);var M=Pe(this.fields.child.toString(),this.treeData[parseInt(p.toString(),10)]);M&&this.updateChildIndeterminate(M,o,i,n,o)}},t.prototype.updateIndeterminate=function(i,n){var s=this.getTreeData(i),a=0,o;this.dataType===1&&(o=s[0][this.fields.parentID]?s[0][this.fields.parentID].toString():null);var l=this.getChildNodes(this.treeData,o);if(l)for(var c=0;c<l.length;c++){var u=l[parseInt(c.toString(),10)][this.fields.id]?l[parseInt(c.toString(),10)][this.fields.id].toString():null;this.checkedNodes.indexOf(u)!==-1&&a++}var d=this.element.querySelector('[data-uid="'+o+'"]');d&&n?this.changeState(d,"indeterminate",null):!n&&d&&this.parentNodeCheck.indexOf(o)===-1&&a!==0?this.changeState(d,"indeterminate",null):!n&&d&&this.parentNodeCheck.indexOf(o)===-1&&a===0?this.changeState(d,"uncheck",null):d||(!n&&this.checkedNodes.indexOf(o)===-1&&this.parentNodeCheck.indexOf(o)!==-1?this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(o),1):n&&this.checkedNodes.indexOf(o)===-1&&this.parentNodeCheck.indexOf(o)===-1?this.parentNodeCheck.push(o):!n&&this.checkedNodes.indexOf(o)!==-1&&this.parentNodeCheck.indexOf(o)===-1&&a!==0&&this.parentNodeCheck.push(o),this.updateIndeterminate(o,n),this.checkedNodes.indexOf(o)!==-1&&!n&&this.checkedNodes.splice(this.checkedNodes.indexOf(o),1))},t.prototype.updateChildIndeterminate=function(i,n,s,a,o){for(var l=0,c=0;c<i.length;c++){var u=i[parseInt(c.toString(),10)][this.fields.id]?i[parseInt(c.toString(),10)][this.fields.id].toString():"";this.checkedNodes.indexOf(u)!==-1&&l++;var d=this.element.querySelector('[data-uid="'+n+'"]'),p=d?Et("."+Ju,d):null,m=d?Et("."+Ho,d):null,y=this.element.querySelector('[data-uid="'+u+'"]'),M=y?Et("."+Ho,y):null;if(this.checkedNodes.indexOf(s)!==-1&&d&&u===s&&this.autoCheck)this.changeState(d,"indeterminate",null);else if(this.checkedNodes.indexOf(s)===-1&&d&&!y&&u===s&&!a)this.autoCheck?this.changeState(d,"uncheck",null):l!==0?this.changeState(d,"indeterminate",null):this.changeState(d,"uncheck",null);else if(this.checkedNodes.indexOf(s)===-1&&y&&u===s&&!a)this.changeState(y,"uncheck",null);else if(this.checkedNodes.indexOf(s)===-1&&p&&u===s&&this.autoCheck&&l===0&&!a)p.classList.remove(Ju);else if(this.checkedNodes.indexOf(s)===-1&&!y&&m&&u===s&&l===0)this.changeState(d,"uncheck",null);else if(this.checkedNodes.indexOf(u)===-1&&y&&M&&l===0)this.changeState(y,"uncheck",null);else if(!y&&!d&&u===s||this.parentNodeCheck.indexOf(n)!==-1&&this.autoCheck){var w=this.element.querySelector('[data-uid="'+o+'"]');a&&l!==0?this.changeState(w,"indeterminate",null):a&&l===i.length&&this.checkedNodes.indexOf(n)===-1?this.checkDisabledState(n):!a&&l===0&&this.parentNodeCheck.indexOf(n)!==-1&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(n)),this.parentNodeCheck.indexOf(n)===-1&&this.parentNodeCheck.push(n)}var b=Pe(this.fields.child.toString(),i[parseInt(c.toString(),10)]);b&&this.updateChildIndeterminate(b,u,s,a,o)}},t.prototype.changeState=function(i,n,s,a,o,l){var c=this,u,d=Fe(i,"."+Hi);!this.checkDisabledChildren&&d&&(d.classList.contains(Ay)||this.disableNode&&this.disableNode.indexOf(d.getAttribute("data-uid"))!==-1)||(i===d&&(i=Et("."+Ol,d)),a?this.nodeCheckAction(i,n,d,u,s,a,o,l):(this.checkActionNodes=[],u=this.getCheckEvent(d,n,s),this.trigger("nodeChecking",u,function(p){p.cancel||c.nodeCheckAction(i,n,d,p,s,a,o,l)})))},t.prototype.nodeCheckAction=function(i,n,s,a,o,l,c,u){var d,p=i.getElementsByClassName(zd)[0];if(n==="check"&&!p.classList.contains(Ho)?(p.classList.remove(Ju),p.classList.add(Ho),this.addCheck(s),d="true"):n==="uncheck"&&(p.classList.contains(Ho)||p.classList.contains(Ju))?(Oe([p],[Ho,Ju]),this.removeCheck(s),d="false"):n==="indeterminate"&&this.autoCheck&&(p.classList.remove(Ho),p.classList.add(Ju),this.removeCheck(s),d="mixed"),d=n==="check"?"true":n==="uncheck"?"false":d,v(d)||s.setAttribute("aria-checked",d),c){var m=[].concat([],this.checkActionNodes);a=this.getCheckEvent(s,n,o),Wi(l)&&(a.data=m)}u!==void 0&&this.ensureStateChange(s,u),l||v(d)||(s.setAttribute("aria-checked",d),a.data[0].checked=d,this.trigger("nodeChecked",a),this.checkActionNodes=[])},t.prototype.addCheck=function(i){var n=i.getAttribute("data-uid");!v(n)&&this.checkedNodes.indexOf(n)===-1&&this.checkDisabledState(n)},t.prototype.removeCheck=function(i){var n=this.checkedNodes.indexOf(i.getAttribute("data-uid"));n>-1&&this.checkedNodes.splice(n,1)},t.prototype.getCheckEvent=function(i,n,s){this.checkActionNodes.push(this.getNodeData(i));var a=this.checkActionNodes;return{action:n,cancel:!1,isInteracted:!v(s),node:i,data:a}},t.prototype.finalize=function(){var i=Et("."+Lr,this.element);v(i)||(i.setAttribute("role",bU.treeRole),this.setMultiSelect(this.allowMultiSelection),this.setNodeFocusable(),this.allowTextWrap&&this.updateWrap(),this.renderReactTemplates(),this.hasPid=this.rootData[0]?Object.prototype.hasOwnProperty.call(this.rootData[0],this.fields.parentID):!1,this.doExpandAction())},t.prototype.setTextWrap=function(){(this.allowTextWrap?pe:Oe)([this.element],Bxe),Re.isIE&&(this.allowTextWrap?pe:Oe)([this.element],Uxe)},t.prototype.updateWrap=function(i){if(this.fullRowSelect)for(var n=i?Ei("."+Hi,i):this.liList,s=n.length,a=0;a<s;a++)this.calculateWrap(n[parseInt(a.toString(),10)])},t.prototype.calculateWrap=function(i){var n=Et("."+rp,i);n&&n.nextElementSibling&&(n.style.height=this.allowTextWrap?n.nextElementSibling.offsetHeight+"px":"")},t.prototype.doExpandAction=function(){var i=this,n=this.expandedNodes;if(!this.loadOnDemand&&this.fields.dataSource instanceof ut&&(this.isInitalExpand=this.treeData.filter(function(l){return l[i.fields.expanded]===!0}).length>0?!0:this.isInitalExpand),this.isInitalExpand&&n.length>0)if(this.setProperties({expandedNodes:[]},!0),this.fields.dataSource instanceof ut)this.expandGivenNodes(n);else{for(var s=0;s<n.length;s++){var a=Et('[data-uid="'+n[parseInt(s.toString(),10)]+'"]',this.element);if(v(a)){n[parseInt(s.toString(),10)]&&this.expandChildren.indexOf(n[parseInt(s.toString(),10)])===-1&&this.expandChildren.push(n[parseInt(s.toString(),10)].toString());continue}else{var o=Et("."+kr,Et("."+io,a));v(o)||this.expandAction(a,o,null)}}this.afterFinalized()}else this.afterFinalized()},t.prototype.expandGivenNodes=function(i){var n=this;this.expandCallback(i[this.index],function(){n.index++,n.index<i.length?n.expandGivenNodes(i):n.afterFinalized()}),this.index>0&&(this.index=0)},t.prototype.expandCallback=function(i,n){var s=Et('[data-uid="'+i+'"]',this.element);if(v(s))n();else{var a=Et("."+kr,Et("."+io,s));v(a)||this.expandAction(s,a,null,!1,n),n()}},t.prototype.afterFinalized=function(){if(this.doSelectionAction(),this.updateCheckedProp(),this.isAnimate=!0,this.isInitalExpand=!1,(!this.isLoaded||this.isFieldChange)&&!this.isNodeDropped){var i={data:this.treeData};this.trigger("dataBound",i)}this.isLoaded=!0,this.isNodeDropped=!1},t.prototype.doSelectionAction=function(){var i=Ei("."+Ey,this.element),n=this.selectedNodes;if(n.length>0){this.setProperties({selectedNodes:[]},!0);for(var s=0;s<n.length;s++){var a=Et('[data-uid="'+n[parseInt(s.toString(),10)]+'"]',this.element);if(a&&!a.classList.contains("e-active")?this.selectNode(a,null,!0):this.selectedNodes.push(n[parseInt(s.toString(),10)]),!this.allowMultiSelection)break}}else this.selectGivenNodes(i);Oe(i,Ey)},t.prototype.selectGivenNodes=function(i){for(var n=0;n<i.length&&(i[parseInt(n.toString(),10)].classList.contains("e-disable")||this.selectNode(i[parseInt(n.toString(),10)],null,!0),!!this.allowMultiSelection);n++);},t.prototype.clickHandler=function(i){var n=Re.isDevice&&i.originalEvent.changedTouches&&!Re.isIos?document.elementFromPoint(i.originalEvent.changedTouches[0].clientX,i.originalEvent.changedTouches[0].clientY):i.originalEvent.target;if(se.remove(this.element,"contextmenu",this.preventContextMenu),!(!n||this.dragStartAction)){var s=n.classList,a=Fe(n,"."+Hi);if(!a||a.classList.contains(hM)&&!(s.contains(kr)||s.contains(gs)))return;if(i.originalEvent.which!==3){var o=Et("."+qxe,a),l=Et("."+ja,a);this.removeHover(),this.setFocusElement(a);var c=s.contains(kr)||s.contains(gs);if(this.showCheckBox&&!a.classList.contains("e-disable")&&!c){var u=this.checkOnClick?Et("."+Ol,a):Fe(n,"."+Ol);if(!v(u)){var d=Et("."+zd,u);this.validateCheckNode(u,d.classList.contains(Ho),a,i.originalEvent),this.triggerClickEvent(i.originalEvent,a);return}}s.contains(kr)?this.expandAction(a,n,i):s.contains(gs)?this.collapseNode(a,n,i):o&&l?l.classList.contains(MU)&&l.classList.contains(kr)?this.expandAction(a,l,i):l.classList.contains(MU)&&l.classList.contains(gs)?this.collapseNode(a,l,i):!s.contains(Lr)&&!s.contains(Hi)&&this.toggleSelect(a,i.originalEvent,!1):!s.contains(Lr)&&!s.contains(Hi)&&this.toggleSelect(a,i.originalEvent,!1)}i.originalEvent.which===3&&(this.isRightClick=!0),this.triggerClickEvent(i.originalEvent,a)}},t.prototype.nodeCheckedEvent=function(i,n,s){var a=this.getCheckEvent(i,n?"uncheck":"check",s);a.data=a.data.splice(0,a.data.length-1),this.trigger("nodeChecked",a)},t.prototype.updateOldCheckedData=function(i){var n=this,s=new ut(i),a=s.executeLocal(new di().where("isChecked","equal","true",!0)),o=s.executeLocal(new di().where("isChecked","equal","false",!0));if(o.length>0){var l=this.OldCheckedData.findIndex(function(u){return u.id===o[0].id});if(l!==-1){this.OldCheckedData.splice(l,1);var c=this.OldCheckedData.filter(function(u){return u.parentID===o[0].id});c.length>0&&c.forEach(function(u){var d=n.OldCheckedData.findIndex(function(p){return p.id===u.id});d!==-1&&n.OldCheckedData.splice(d,1)});return}}if(a.length>0){var l=this.OldCheckedData.findIndex(function(d){return d.id===a[0].id});if(l===-1){this.OldCheckedData.push(a[0]);return}}},t.prototype.triggerClickEvent=function(i,n){var s={event:i,node:n};this.trigger("nodeClicked",s)},t.prototype.expandNode=function(i,n,s){var a=this;if(this.renderReactTemplates(),n.classList.contains(qD)&&this.hideSpinner(n),this.initialRender||n.classList.add("interaction"),s!==!0||s===!0&&i.classList.contains("e-expanded")){if(this.preventExpand!==!0){Oe([n],kr),pe([n],gs);var o=0,l=0,c=Et("."+Lr,i),u=i;if(this.isAnimate&&!this.isRefreshed){this.setHeight(u,c);var d=Et("."+Hi+"."+Vo,i);this.aniObj.animate(c,{name:this.animation.expand.effect,duration:this.animation.expand.duration===0&&Xd==="Enable"?400:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:function(){u.style.overflow="hidden",!v(d)&&d instanceof HTMLElement&&d.classList.add(JD),o=u.offsetHeight;var m=window.getComputedStyle(u),y=parseFloat(m.paddingTop),M=parseFloat(m.paddingBottom);l=Et("."+io,i).offsetHeight+M+y},progress:function(m){m.element.style.display="block",a.animateHeight(m,o,l)},end:function(m){m.element.style.display="block",!v(d)&&d instanceof HTMLElement&&d.classList.remove(JD),a.expandedNode(u,c,n)}})}else this.expandedNode(u,c,n)}}else{var p=Et("."+Lr,i);p.style.display="none",this.fields.dataSource instanceof ut&&(this.preventExpand=!1)}this.initialRender&&n.classList.add("interaction")},t.prototype.expandedNode=function(i,n,s){n.style.display="block",i.style.display="block",i.style.overflow="",i.style.height="",Oe([s],ip),this.addExpand(i),this.allowTextWrap&&this.isLoaded&&this.isFirstRender&&(this.updateWrap(i),this.isFirstRender=!1),this.isLoaded&&this.expandArgs&&!this.isRefreshed&&(this.expandArgs=this.getExpandEvent(i,null),this.expandArgs.isInteracted=this.isInteracted,this.trigger("nodeExpanded",this.expandArgs)),this.isHiddenItem&&this.collapseAll([this.getNodeData(i).id])},t.prototype.addExpand=function(i){i.setAttribute("aria-expanded","true"),Oe([i],xU);var n=i.getAttribute("data-uid");!v(n)&&this.expandedNodes.indexOf(n)===-1&&this.expandedNodes.push(n)},t.prototype.collapseNode=function(i,n,s){var a=this;if(!n.classList.contains(ip)){pe([n],ip);var o;this.isLoaded?(o=this.getExpandEvent(i,s),this.isInteracted=o.isInteracted,this.trigger("nodeCollapsing",o,function(l){l.cancel?Oe([n],ip):a.nodeCollapseAction(i,n,l)})):this.nodeCollapseAction(i,n,o)}},t.prototype.nodeCollapseAction=function(i,n,s){var a=this;Oe([n],gs),pe([n],kr);var o=0,l=0,c=Et("."+Lr,i),u=i,d=Et("."+Hi+"."+Vo,i);this.isAnimate?this.aniObj.animate(c,{name:this.animation.collapse.effect,duration:this.animation.collapse.duration===0&&Xd==="Enable"?400:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:function(){u.style.overflow="hidden",!v(d)&&d instanceof HTMLElement&&d.classList.add(JD),o=Et("."+io,i).offsetHeight,l=u.offsetHeight},progress:function(p){a.animateHeight(p,o,l)},end:function(p){p.element.style.display="none",!v(d)&&d instanceof HTMLElement&&d.classList.remove(JD),a.collapsedNode(u,c,n,s)}}):this.collapsedNode(u,c,n,s)},t.prototype.collapsedNode=function(i,n,s,a){n.style.display="none",i.style.overflow="",i.style.height="",Oe([s],ip),this.removeExpand(i),this.isLoaded&&(a=this.getExpandEvent(i,null),a.isInteracted=this.isInteracted,this.trigger("nodeCollapsed",a))},t.prototype.removeExpand=function(i,n){n?i.removeAttribute("aria-expanded"):this.disableExpandAttr(i);var s=this.expandedNodes.indexOf(i.getAttribute("data-uid"));s>-1&&this.expandedNodes.splice(s,1)},t.prototype.disableExpandAttr=function(i){i.setAttribute("aria-expanded","false"),pe([i],xU)},t.prototype.setHeight=function(i,n){n.style.display="block",n.style.visibility="hidden",i.style.height=i.offsetHeight+"px",n.style.display="none",n.style.visibility=""},t.prototype.animateHeight=function(i,n,s){if(!v(i.element.parentElement)){var a=(i.duration-i.timeStamp)/i.duration,o=(s-n)*a+n;i.element.parentElement.style.height=o+"px"}},t.prototype.renderChildNodes=function(i,n,s,a,o){var l=this,c=Et("div."+ja,i);if(!v(c)){this.showSpinner(c);var u;if(this.fields.dataSource instanceof ut){var d=this.parents(i,"."+Lr).length,p=this.getChildFields(this.fields,d,1);if(v(p)||v(p.dataSource)){zt(c),this.removeExpand(i,!0);return}this.treeList.push("false"),this.fields.dataSource instanceof ut&&this.isOffline?(this.treeList.pop(),u=this.getChildNodes(this.treeData,i.getAttribute("data-uid")),this.loadChild(u,p,c,i,n,s,a)):p.dataSource.executeQuery(this.getQuery(p,i.getAttribute("data-uid"))).then(function(m){l.treeList.pop(),u=m.result,l.dataType===1&&(l.dataType=2),l.loadChild(u,p,c,i,n,s,a)}).catch(function(m){l.trigger("actionFailure",{error:m})})}else if(u=this.getChildNodes(this.treeData,i.getAttribute("data-uid"),!1,parseFloat(i.getAttribute("aria-level"))+1),this.currentLoadData=this.getSortedData(u),v(u)||u.length===0){zt(c),c.classList.contains(qD)&&this.hideSpinner(c),this.removeExpand(i,!0);return}else this.listBaseOption.ariaAttributes.level=parseFloat(i.getAttribute("aria-level"))+1,i.appendChild(en.createList(this.createElement,this.currentLoadData,this.listBaseOption)),this.expandNode(i,c,a),this.setSelectionForChildNodes(u),this.ensureCheckNode(i,o),this.finalizeNode(i,o,n),this.disableTreeNodes(u),this.renderSubChild(i,n,a,o)}},t.prototype.loadChild=function(i,n,s,a,o,l,c){if(this.currentLoadData=i,v(i)||i.length===0)zt(s),this.removeExpand(a,!0);else{if(this.updateListProp(n),this.fields.dataSource instanceof ut&&!this.isOffline){var u=a.getAttribute("data-uid"),d=this.getNodeObject(u);Yr("child",i,d)}this.listBaseOption.ariaAttributes.level=parseFloat(a.getAttribute("aria-level"))+1,a.appendChild(en.createList(this.createElement,i,this.listBaseOption)),this.expandNode(a,s,c),this.setSelectionForChildNodes(i),this.ensureCheckNode(a),this.finalizeNode(a),this.disableTreeNodes(i),this.renderSubChild(a,o,c)}l&&l(),o&&this.expandedNodes.push(a.getAttribute("data-uid")),this.treeList.length===0&&!this.isLoaded&&this.finalize()},t.prototype.disableTreeNodes=function(i){if(!(v(this.disableNode)||this.disableNode.length===0))for(var n=0;n<i.length;){var s=i[parseInt(n.toString(),10)][this.fields.id]?i[parseInt(n.toString(),10)][this.fields.id].toString():null;this.disableNode!==void 0&&this.disableNode.indexOf(s)!==-1&&this.doDisableAction([s]),n++}},t.prototype.setSelectionForChildNodes=function(i){if(!(v(this.selectedNodes)||this.selectedNodes.length===0)){var n;for(n=0;n<i.length;n++){var s=i[parseInt(n.toString(),10)][this.fields.id]?i[parseInt(n.toString(),10)][this.fields.id].toString():null;this.selectedNodes!==void 0&&this.selectedNodes.indexOf(s)!==-1&&this.doSelectionAction()}}},t.prototype.ensureCheckNode=function(i,n){this.showCheckBox&&(this.ele=this.checkedElement?this.checkedElement.indexOf(i.getAttribute("data-uid")):null,this.autoCheck&&(this.ensureChildCheckState(i,null,n),(!n||Et("."+Ho,this.element)||Et("."+Ju,this.element))&&this.ensureParentCheckState(i))),this.currentLoadData=null},t.prototype.getFields=function(i,n,s){return n===s?i:this.getFields(this.getChildMapper(i),n,s+1)},t.prototype.getChildFields=function(i,n,s){return n===s?this.getChildMapper(i):this.getChildFields(this.getChildMapper(i),n,s+1)},t.prototype.getChildMapper=function(i){return typeof i.child=="string"||v(i.child)?i:i.child},t.prototype.getChildNodes=function(i,n,s,a){var o=this;s===void 0&&(s=!1);var l;if(v(i))return l;if(this.dataType===1)return this.getChildGroup(this.groupedData,n,s);if(typeof this.fields.child=="string")return this.findChildNodes(i,this.fields.id,n)||this.findNestedChildNodes(i,n,a)||[];if(this.isChildObject()){for(var c=v(a)?this.fields.child:this.fields,u=1;u<a&&!v(c.child);){c=c.child;u++}this.updateListProp(c);var d=i.findIndex(function(w){return Pe(o.fields.id,w)&&Pe(o.fields.id,w).toString()===n});if(d!==-1)return Pe("child",i[parseInt(d.toString(),10)]);if(d===-1)for(var p=0,m=i.length;p<m;p++){var y=Pe("child",i[parseInt(p.toString(),10)]),M=v(y)?-1:y.findIndex(function(w){return Pe(o.fields.child.id,w)&&Pe(o.fields.child.id,w).toString()===n});if(M!==-1)return Pe("child",y[parseInt(M.toString(),10)]);if(!v(y)&&(l=this.getChildNodes(y,n,!1,a),l!==void 0))break}}return l},t.prototype.findChildNodes=function(i,n,s){var a=i.findIndex(function(o){var l=Pe(n,o);return l&&l.toString()===s});return a!==-1?Pe(this.fields.child,i[a]):null},t.prototype.findNestedChildNodes=function(i,n,s){for(var a=0,o=i;a<o.length;a++){var l=o[a],c=Pe(this.fields.child,l);if(!v(c)){var u=this.findChildNodes(c,this.fields.id,n);if(u)return u;var d=this.getChildNodes(c,n,!1,s);if(d&&d.length>0)return d}}},t.prototype.getChildGroup=function(i,n,s){var a=[];if(v(i))return a;for(var o=0,l=i.length;o<l;o++)if(!v(i[parseInt(o.toString(),10)][0])&&!v(Pe(this.fields.parentID,i[parseInt(o.toString(),10)][0]))){if(Pe(this.fields.parentID,i[parseInt(o.toString(),10)][0]).toString()===n)return i[parseInt(o.toString(),10)]}else if(s)return i[parseInt(o.toString(),10)];return a},t.prototype.renderSubChild=function(i,n,s,a){if(n)for(var o=Ei("."+kr,i),l=0,c=o.length;l<c;l++){var u=o[parseInt(l.toString(),10)];if(i.querySelector(".e-icons")!==o[parseInt(l.toString(),10)]){var d=Fe(u,"."+Hi);this.expandArgs=this.getExpandEvent(d,null),s!==!0&&this.trigger("nodeExpanding",this.expandArgs),this.renderChildNodes(d,n,null,s,a)}}},t.prototype.toggleSelect=function(i,n,s){i.classList.contains("e-disable")||(this.allowMultiSelection&&(n&&n.ctrlKey||s)&&this.isActive(i)?this.unselectNode(i,n):this.selectNode(i,n,s))},t.prototype.isActive=function(i){return!!i.classList.contains(Vo)},t.prototype.selectNode=function(i,n,s){var a=this;if(v(i)||!this.allowMultiSelection&&this.isActive(i)&&!v(n)){if(this.checkOnClick){var o=Et(" ."+zd,i);!v(o)&&o.classList.contains(Ho)?pe([i],Vo):Oe([i],Vo)}this.setFocusElement(i);return}var l;this.isLoaded?(l=this.getSelectEvent(i,"select",n),this.trigger("nodeSelecting",l,function(c){!c.cancel&&!c.node.classList.contains(hM)&&a.nodeSelectAction(i,n,c,s)})):this.nodeSelectAction(i,n,l,s)},t.prototype.nodeSelectAction=function(i,n,s,a){if((!this.allowMultiSelection||!a&&(!n||n&&!(n.ctrlKey||n.metaKey)))&&this.removeSelectAll(),this.allowMultiSelection&&n&&n.shiftKey){this.startNode||(this.startNode=i);var o=this.liList.indexOf(this.startNode),l=this.liList.indexOf(i);if(o>l){var c=o;o=l,l=c}for(var u=o;u<=l;u++){var d=this.liList[parseInt(u.toString(),10)];Ra(d)&&!d.classList.contains("e-disable")&&this.addSelect(d)}}else this.startNode=i,this.addSelect(i);this.isLoaded&&(s.nodeData=this.getNodeData(i),this.trigger("nodeSelected",s),this.isRightClick=!1),this.isRightClick=!1},t.prototype.unselectNode=function(i,n){var s=this,a;this.isLoaded?(a=this.getSelectEvent(i,"un-select",n),this.trigger("nodeSelecting",a,function(o){o.cancel||s.nodeUnselectAction(i,o)})):this.nodeUnselectAction(i,a)},t.prototype.nodeUnselectAction=function(i,n){this.removeSelect(i),this.setFocusElement(i),this.isLoaded&&(n.nodeData=this.getNodeData(i),this.trigger("nodeSelected",n))},t.prototype.setFocusElement=function(i){if(!v(i)){var n=this.getFocusedNode();n&&(Oe([n],g0),n.setAttribute("tabindex","-1")),pe([i],g0),i.setAttribute("tabindex","0"),se.add(i,"blur",this.focusOut,this),this.updateIdAttr(n,i)}},t.prototype.addSelect=function(i){i.setAttribute("aria-selected","true"),pe([i],Vo);var n=i.getAttribute("data-uid");!v(n)&&this.selectedNodes.indexOf(n)===-1&&this.selectedNodes.push(n)},t.prototype.removeSelect=function(i){this.allowMultiSelection?i.setAttribute("aria-selected","false"):i.removeAttribute("aria-selected"),Oe([i],Vo);var n=this.selectedNodes.indexOf(i.getAttribute("data-uid"));n>-1&&this.selectedNodes.splice(n,1)},t.prototype.removeSelectAll=function(){for(var i=this.element.querySelectorAll("."+Vo),n=0,s=i;n<s.length;n++){var a=s[n];this.allowMultiSelection?a.setAttribute("aria-selected","false"):a.removeAttribute("aria-selected")}Oe(i,Vo),this.setProperties({selectedNodes:[]},!0)},t.prototype.getSelectEvent=function(i,n,s){var a=this.getNodeData(i);return{action:n,cancel:!1,isInteracted:!v(s),node:i,nodeData:a}},t.prototype.setExpandOnType=function(){this.expandOnType=this.expandOn==="Auto"?Re.isDevice?"Click":"DblClick":this.expandOn},t.prototype.expandHandler=function(i){var n=Re.isDevice&&i.originalEvent.changedTouches&&!Re.isIos?document.elementFromPoint(i.originalEvent.changedTouches[0].clientX,i.originalEvent.changedTouches[0].clientY):i.originalEvent.target;!n||n.classList.contains(QD)||n.classList.contains(Xu)||n.classList.contains(Lr)||n.classList.contains(Hi)||n.classList.contains(ja)||this.showCheckBox&&Fe(n,"."+Ol)||this.expandCollapseAction(Fe(n,"."+Hi),i)},t.prototype.expandCollapseAction=function(i,n){var s=Et("div."+ja,i);if(!(!s||s.classList.contains(ip))){var a=s.classList;a.contains(kr)?this.expandAction(i,s,n):a.contains(gs)&&this.collapseNode(i,s,n)}},t.prototype.expandAction=function(i,n,s,a,o,l){var c=this;n.classList.contains(ip)||(pe([n],ip),this.isLoaded&&!this.isRefreshed?(this.expandArgs=this.getExpandEvent(i,s),this.isInteracted=this.expandArgs.isInteracted,this.trigger("nodeExpanding",this.expandArgs,function(u){u.cancel?Oe([n],ip):c.nodeExpandAction(i,n,a,o,l)})):this.nodeExpandAction(i,n,a,o,l))},t.prototype.nodeExpandAction=function(i,n,s,a,o){var l=Et("."+Lr,i);if(l&&l.nodeName==="UL")this.expandNode(i,n);else{if(this.isFirstRender=!0,this.renderChildNodes(i,s,a,null,o),v(this.expandChildren)||this.expandChildren.length===0)return;for(var c=Ei("."+Hi,i),u=0;u<c.length;u++){var d=this.getId(c[parseInt(u.toString(),10)]);if(this.expandChildren.indexOf(d)!==-1&&this.expandChildren!==void 0){var p=Et("."+kr,Et("."+io,c[parseInt(u.toString(),10)]));v(p)||this.expandAction(c[parseInt(u.toString(),10)],p,null),this.expandChildren.splice(this.expandChildren.indexOf(d),1)}}}},t.prototype.keyActionHandler=function(i){var n=this,s=i.target,a=this.getFocusedNode();if(s&&s.classList.contains(QD)){var o=s;i.action==="enter"?o.blur():i.action==="escape"&&(o.value=this.oldText,o.blur());return}i.preventDefault();var l={cancel:!1,event:i,node:a};this.trigger("keyPress",l,function(c){if(!c.cancel)switch(i.action){case"space":n.showCheckBox?n.checkNode(i):n.toggleSelect(a,i);break;case"moveRight":n.openNode(!n.enableRtl,i);break;case"moveLeft":n.openNode(!!n.enableRtl,i);break;case"shiftDown":n.shiftKeySelect(!0,i);break;case"moveDown":case"ctrlDown":case"csDown":n.navigateNode(!0);break;case"shiftUp":n.shiftKeySelect(!1,i);break;case"moveUp":case"ctrlUp":case"csUp":n.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":n.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":n.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":case"shiftSpace":case"ctrlSpace":n.toggleSelect(a,i);break;case"f2":n.allowEditing&&!a.classList.contains("e-disable")&&n.createTextbox(a);break;case"ctrlA":if(n.allowMultiSelection){var u=Ei("."+Hi+":not(."+Vo+")",n.element);n.selectGivenNodes(u)}break}})},t.prototype.navigateToFocus=function(i){var n=this.getFocusedNode().querySelector("."+io),s=n.getBoundingClientRect(),a=this.getScrollParent(this.element);if(!v(a)){var o=a.getBoundingClientRect();s.bottom>o.bottom?a.scrollTop+=s.bottom-o.bottom:s.top<o.top&&(a.scrollTop-=o.top-s.top)}var l=this.isVisibleInViewport(n);l||n.scrollIntoView(i)},t.prototype.isVisibleInViewport=function(i){var n=i.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)},t.prototype.getScrollParent=function(i){return v(i)?null:i.scrollHeight>i.clientHeight?i:this.getScrollParent(i.parentElement)},t.prototype.shiftKeySelect=function(i,n){if(this.allowMultiSelection){var s=this.getFocusedNode(),a=i?this.getNextNode(s):this.getPrevNode(s);this.removeHover(),this.setFocusElement(a),this.toggleSelect(a,n,!1),this.navigateToFocus(!i)}else this.navigateNode(i)},t.prototype.checkNode=function(i){var n=this.getFocusedNode(),s=Et("."+Ol,n),a=Et(" ."+zd,s).classList.contains(Ho);n.classList.contains("e-disable")||n.getElementsByClassName("e-checkbox-disabled").length===0&&this.validateCheckNode(s,a,n,i)},t.prototype.validateCheckNode=function(i,n,s,a){var o=this,l=Fe(i,"."+Hi);this.checkActionNodes=[];var c=n?"false":"true";v(c)||l.setAttribute("aria-checked",c);var u=this.getCheckEvent(l,n?"uncheck":"check",a);this.trigger("nodeChecking",u,function(d){d.cancel||o.nodeCheckingAction(i,n,s,d,a)})},t.prototype.nodeCheckingAction=function(i,n,s,a,o){if(this.checkedElement.indexOf(s.getAttribute("data-uid"))===-1&&(this.checkedElement.push(s.getAttribute("data-uid")),this.autoCheck)){var l=this.getChildNodes(this.treeData,s.getAttribute("data-uid"));l!==null?this.allCheckNode(l,this.checkedElement,null,null,!1):l=null}if(this.changeState(i,n?"uncheck":"check",o,!0),this.updateActiveClass(s,n),this.autoCheck){this.ensureChildCheckState(s),this.updateOldCheckedData([this.getNodeData(s)]);var c=Fe(Fe(s,"."+Lr),"."+Hi);if(this.isBatchMode){var u=v(c)?null:c.getAttribute("data-uid");u&&this.batchParentNode.add(u)}else this.ensureParentCheckState(c);var d=void 0;a.action==="check"?d=!0:a.action==="uncheck"&&(d=!1),this.ensureStateChange(s,d)}this.nodeCheckedEvent(i,n,o)},t.prototype.updateActiveClass=function(i,n){this.showCheckBox&&this.checkOnClick&&(n==="check"||n===!1?(this.removeSelectAll(),pe([i],Vo)):(n==="uncheck"||n==="indeterminate"||n===!0)&&Oe([i],Vo))},t.prototype.ensureStateChange=function(i,n){var s=this,a=Et("."+Lr,i),o=i.getAttribute("data-uid"),l=this.fields;if(this.dataType===1&&this.autoCheck){var c=new ut(this.treeData).executeLocal(new di().where(l.parentID,"equal",o,!0)),u=c.filter(function(N){return s.checkedNodes.indexOf(N[l.id].toString())!==-1},this);this.checkedNodes.indexOf(o)!==-1&&u.length!==c.length&&this.isFilter&&u.length>0&&(c=u);for(var d=0;d<c.length;d++){var p=c[parseInt(d.toString(),10)][this.fields.id]?c[parseInt(d.toString(),10)][this.fields.id].toString():null,m=c[parseInt(d.toString(),10)][this.fields.isChecked]?c[parseInt(d.toString(),10)][this.fields.isChecked].toString():null;if(this.checkedNodes.indexOf(o)!==-1&&this.checkedNodes.indexOf(p)===-1){this.checkDisabledState(p,c[d]);var y=this.getChildNodes(this.treeData,p);this.getChildItems(y,n),this.parentNodeCheck.indexOf(p)!==-1&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(p),1)}else if(this.checkedNodes.indexOf(o)===-1&&a===null&&this.checkedNodes.indexOf(p)!==-1){if(this.checkedNodes.splice(this.checkedNodes.indexOf(p),1),m==="true"&&this.updateField(this.treeData,this.fields,p,"isChecked",null),this.checkedNodes.indexOf(o)===-1&&a===null||this.parentNodeCheck.indexOf(p)!==-1){var M=this.getChildNodes(this.treeData,p);this.getChildItems(M,n),this.parentNodeCheck.indexOf(p)!==-1&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(p),1)}}else{var y=this.getChildNodes(this.treeData,p);this.getChildItems(y,n)}}}else if(this.dataType===1&&!this.autoCheck)if(n)for(var d=0;d<this.treeData.length;d++){var D=this.treeData[parseInt(d.toString(),10)][this.fields.id]?this.treeData[parseInt(d.toString(),10)][this.fields.id].toString():null;this.checkedNodes.indexOf(D)===-1&&this.checkDisabledState(D,this.treeData[d])}else{for(var w=new ut(this.treeData).executeLocal(new di().where(l.isChecked,"equal",!0,!1)),d=0;d<w.length;d++){var b=w[parseInt(d.toString(),10)][this.fields.id]?w[parseInt(d.toString(),10)][this.fields.id].toString():null;this.checkedNodes.indexOf(b)!==-1&&this.checkedNodes.splice(this.checkedNodes.indexOf(b),1),this.updateField(this.treeData,this.fields,b,"isChecked",null)}this.checkedNodes=[]}else{var y=this.getChildNodes(this.treeData,o);if(y){var E=y.filter(function(B){var P=String(B[Object.keys(B)[0]]);return s.checkedNodes.indexOf(P)!==-1});E.length>0&&y.length&&this.isFilter&&(y=E),this.childStateChange(y,o,a,n)}}},t.prototype.checkDisabledState=function(i,n){var s=this.checkDisabledChildren;if(!s){var a=!0;if(this.loadOnDemand&&this.fields.htmlAttributes&&(n=v(n)?n:this.getNodeObject(i),!v(n))){var o=n[this.fields.htmlAttributes];o&&!v(o.class)&&o.class.indexOf(Ay)!==-1&&(a=!1)}var l=Et('[data-uid="'+i+'"]',this.element);s=l?!l.classList.contains(Ay):this.disableNode.indexOf(i)===-1&&a}s&&this.checkedNodes.push(i)},t.prototype.getChildItems=function(i,n){for(var s=0;s<i.length;s++){var a=i[parseInt(s.toString(),10)][this.fields.id]?i[parseInt(s.toString(),10)][this.fields.id].toString():null,o=i[parseInt(s.toString(),10)][this.fields.isChecked]?i[parseInt(s.toString(),10)][this.fields.isChecked].toString():null;this.checkedNodes.indexOf(a)!==-1&&!n&&this.checkedNodes.splice(this.checkedNodes.indexOf(a),1),this.checkedNodes.indexOf(a)===-1&&n&&this.checkDisabledState(a,i[s]),o==="true"&&!n&&this.updateField(this.treeData,this.fields,a,"isChecked",null);var l=this.getChildNodes(this.treeData,a);l.length>0&&this.getChildItems(l,n)}},t.prototype.childStateChange=function(i,n,s,a){for(var o=0;o<i.length;o++){var l=i[parseInt(o.toString(),10)][this.fields.id]?i[parseInt(o.toString(),10)][this.fields.id].toString():"",c=i[parseInt(o.toString(),10)][this.fields.isChecked]?i[parseInt(o.toString(),10)][this.fields.isChecked].toString():null;this.autoCheck?this.checkedNodes.indexOf(n)!==-1&&this.checkedNodes.indexOf(l)===-1?(this.checkDisabledState(l,i[o]),this.parentNodeCheck.indexOf(l)!==-1&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)):this.checkedNodes.indexOf(n)===-1&&this.checkedNodes.indexOf(l)!==-1&&!a&&(this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),c==="true"&&this.updateField(this.treeData,this.fields,l,"isChecked",null)):this.autoCheck||(a?this.checkedNodes.indexOf(l)===-1&&this.checkDisabledState(l,i[o]):(this.checkedNodes.indexOf(l)!==-1&&this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),this.updateField(this.treeData,this.fields,l,"isChecked",null),this.checkedNodes=[]));var u=this.getChildNodes([i[parseInt(o.toString(),10)]],l);u&&this.childStateChange(u,n,s,a)}},t.prototype.allCheckNode=function(i,n,s,a,o){if(i)for(var l=0;l<i.length;l++){var c=Pe(this.fields.id,i[parseInt(l.toString(),10)]),u=this.element.querySelector('[data-uid="'+c+'"]');o!==!1&&this.checkedElement.indexOf(c.toString())===-1&&(u===null&&!v(i[parseInt(l.toString(),10)][this.fields.isChecked])&&n.indexOf(c.toString())===-1||a===0||s===2)&&(i[parseInt(l.toString(),10)][this.fields.isChecked]!==!1||s===2?n.push(c.toString()):a=null,a=i[parseInt(l.toString(),10)][this.fields.isChecked]!==!1||s===2?0:null),n.indexOf(c.toString())===-1&&v(s)&&n.push(c.toString());var d=Pe(this.fields.child.toString(),i[parseInt(l.toString(),10)]);if(Pe(this.fields.hasChildren,i[parseInt(l.toString(),10)])===!0||d){var p=Pe(this.fields.id,i[parseInt(l.toString(),10)]),m=void 0;this.dataType===1?m=this.getChildNodes(this.treeData,p.toString()):m=d,m&&(v(o)?this.allCheckNode(m,n,s,a):this.allCheckNode(m,n,s,a,o),a=null)}a=null}},t.prototype.openNode=function(i,n){var s=this.getFocusedNode(),a=Et("div."+ja,s);if(i)if(a)a.classList.contains(kr)?this.expandAction(s,a,n):this.focusNextNode(s,!0);else return;else if(a&&a.classList.contains(gs))this.collapseNode(s,a,n);else{var o=Fe(Fe(s,"."+Lr),"."+Hi);if(o)o.classList.contains("e-disable")||(this.setFocus(s,o),this.navigateToFocus(!0));else return}},t.prototype.navigateNode=function(i){var n=this.getFocusedNode();this.focusNextNode(n,i)},t.prototype.navigateRootNode=function(i){var n=this.getFocusedNode(),s=i?this.getRootNode():this.getEndNode();s.classList.contains("e-disable")||(this.setFocus(n,s),this.navigateToFocus(i))},t.prototype.getFocusedNode=function(){var i,n=Et("."+Hi+'[tabindex="0"]',this.element);if(!v(n)){var s=n.getAttribute("aria-checked");(s==="mixed"||s==="false")&&(this.isFilter=!1)}return v(n)&&(i=Et("."+Hi,this.element)),v(n)?v(i)?this.element.firstElementChild:i:n},t.prototype.focusNextNode=function(i,n){var s=n?this.getNextNode(i):this.getPrevNode(i);if(this.setFocus(i,s),this.navigateToFocus(!n),s.classList.contains("e-disable")){var a=s.lastChild;s.previousSibling==null&&s.classList.contains("e-level-1")?this.focusNextNode(s,!0):s.nextSibling==null&&s.classList.contains("e-node-collapsed")?this.focusNextNode(s,!1):s.nextSibling==null&&a.classList.contains(io)?this.focusNextNode(s,!1):this.focusNextNode(s,n)}},t.prototype.getNextNode=function(i){var n=this.liList.indexOf(i),s;do if(n++,s=this.liList[parseInt(n.toString(),10)],v(s))return i;while(!Ra(s));return s},t.prototype.getPrevNode=function(i){var n=this.liList.indexOf(i),s;do if(n--,s=this.liList[parseInt(n.toString(),10)],v(s))return i;while(!Ra(s));return s},t.prototype.getRootNode=function(){var i=0,n;do n=this.liList[parseInt(i.toString(),10)],i++;while(!Ra(n));return n},t.prototype.getEndNode=function(){var i=this.liList.length-1,n;do n=this.liList[parseInt(i.toString(),10)],i--;while(!Ra(n));return n},t.prototype.setFocus=function(i,n){Oe([i],g0),i.setAttribute("tabindex","-1"),n.classList.contains("e-disable")||(pe([n],g0),n.setAttribute("tabindex","0"),n.focus(),se.add(n,"blur",this.focusOut,this),this.updateIdAttr(i,n))},t.prototype.updateIdAttr=function(i,n){this.element.removeAttribute("aria-activedescendant"),i&&i.removeAttribute("id"),n.setAttribute("id",this.element.id+"_active"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active")},t.prototype.focusIn=function(){if(!this.mouseDownStatus){var i=this.getFocusedNode();i.classList.contains("e-disable")?(i.setAttribute("tabindex","-1"),this.navigateNode(!0)):(i.setAttribute("tabindex","0"),pe([i],g0),se.add(i,"blur",this.focusOut,this)),this.mouseDownStatus=!1}},t.prototype.focusOut=function(i){var n=this.getFocusedNode();i.target===n&&(Oe([n],g0),se.remove(n,"blur",this.focusOut))},t.prototype.onMouseOver=function(i){if(!Re.isDevice){var n=i.target,s=n.classList,a=Fe(n,"."+Hi);if(!a||s.contains(Lr)||s.contains(Hi)){this.removeHover();return}else a&&!a.classList.contains("e-disable")&&this.setHover(a)}},t.prototype.setHover=function(i){!i.classList.contains(YD)&&!i.classList.contains(hM)&&(this.removeHover(),pe([i],YD))},t.prototype.onMouseLeave=function(){this.removeHover()},t.prototype.removeHover=function(){var i=Ei("."+YD,this.element);i&&i.length&&Oe(i,YD)},t.prototype.getNodeData=function(i,n,s){if(!v(i)&&i.classList.contains(Hi)&&!v(Fe(i,"."+pU))&&Fe(i,"."+pU).classList.contains(Xu)){var a=i.getAttribute("data-uid"),o=this.getText(i,n,s),l=Fe(i.parentNode,"."+Hi),c=l?l.getAttribute("data-uid"):null,u=i.classList.contains(Vo),d=!i.classList.contains(hM),p=i.getAttribute("aria-expanded")==="true",m=i.getAttribute("aria-expanded")!==null?!0:(Et("."+kr,i)||Et("."+gs,i))!=null,y=null,M=Et("."+Ol,i);return this.showCheckBox&&M&&(y=i.getAttribute("aria-checked")),{id:a,text:o,parentID:c,selected:u,selectable:d,expanded:p,isChecked:y,hasChildren:m}}return{id:"",text:"",parentID:"",selected:!1,expanded:!1,isChecked:"",hasChildren:!1}},t.prototype.getText=function(i,n,s){if(n){var a=v(s)?this.getNodeObject(i.getAttribute("data-uid")):s,o=parseFloat(i.getAttribute("aria-level")),l=this.getFields(this.fields,o,1);return v(s)?Pe(l.text,a):s.text}return Et("."+m0,i).textContent},t.prototype.getExpandEvent=function(i,n){var s=this.getNodeData(i);return{cancel:!1,isInteracted:!v(n),node:i,nodeData:s,event:n}},t.prototype.renderNodeTemplate=function(i,n,s){var a=this.nodeTemplateFn(i,this,"nodeTemplate"+s,this.element.id+"nodeTemplate",this.isStringTemplate,void 0,n,this.root);a&&(a=Array.prototype.slice.call(a),ri(a,n))},t.prototype.destroyTemplate=function(i){this.clearTemplate(["nodeTemplate"+i.getAttribute("data-uid")])},t.prototype.reRenderNodes=function(){this.updateListProp(this.fields),Re.isIE?(this.ulElement=this.element.querySelector(".e-list-parent.e-ul"),this.ulElement.parentElement.removeChild(this.ulElement)):this.element.innerHTML="",v(this.nodeTemplateFn)||this.clearTemplate(),this.setTouchClass(),this.setProperties({selectedNodes:[],checkedNodes:[],expandedNodes:[]},!0),this.checkedElement=[],this.isLoaded=!1,this.setDataBinding(!0)},t.prototype.setCssClass=function(i,n){!v(i)&&i!==""&&Oe([this.element],i.split(" ")),!v(n)&&n!==""&&pe([this.element],n.split(" "))},t.prototype.editingHandler=function(i){var n=i.target;if(!(!n||n.classList.contains(Xu)||n.classList.contains(Lr)||n.classList.contains(Hi)||n.classList.contains(ja)||n.classList.contains(QD)||n.classList.contains(mU))){var s=Fe(n,"."+Hi);this.createTextbox(s)}},t.prototype.createTextbox=function(i){var n=this,s=Et("."+GD,this.element);s&&s.blur();var a=Et("."+m0,i);this.updateOldText(i);var o=this.createElement("input",{className:GD,attrs:{value:this.oldText}}),l=this.getEditEvent(i,null,o.outerHTML);this.trigger("nodeEditing",l,function(c){if(!c.cancel){var u=a.offsetWidth+5,d=u+"px";pe([i],Q2),v(n.nodeTemplateFn)||n.destroyTemplate(i),n.isReact?setTimeout(function(){n.renderTextBox(l,a,d)},5):n.renderTextBox(l,a,d)}})},t.prototype.renderTextBox=function(i,n,s){n.innerHTML=i.innerHtml;var a=Et("."+GD,n);this.inputObj=Rt.createInput({element:a,properties:{enableRtl:this.enableRtl}},this.createElement),this.inputObj.container.style.width=s,a.focus();var o=a;o.setSelectionRange(0,o.value.length),this.wireInputEvents(a)},t.prototype.updateOldText=function(i){var n=i.getAttribute("data-uid");this.editData=this.getNodeObject(n);var s=parseFloat(i.getAttribute("aria-level"));this.editFields=this.getFields(this.fields,s,1),this.oldText=Pe(this.editFields.text,this.editData)},t.prototype.inputFocusOut=function(i){if(Et("."+GD,this.element)){var n=i.target,s=n.value,a=Fe(n,"."+m0),o=Fe(n,"."+Hi);zt(this.inputObj.container),Rt.destroy({element:n,properties:this.properties}),this.fields.dataSource instanceof ut&&!this.isOffline?this.crudOperation("update",null,o,s,null,null,!0):this.appendNewText(o,a,s,!0),se.remove(n,"blur",this.inputFocusOut),this.inputObj=null,zt(n),n=null}},t.prototype.appendNewText=function(i,n,s,a){var o=this,l=this.getEditEvent(i,s,null);this.trigger("nodeEdited",l,function(c){s=c.cancel?c.oldText:c.newText,o.updateText(i,n,s,a),c.oldText!==s&&o.triggerEvent("nodeEdited",[o.getNode(i)])})},t.prototype.updateText=function(i,n,s,a){var o=Yr(this.editFields.text,s,this.editData);if(v(this.nodeTemplateFn))this.enableHtmlSanitizer?n.innerText=Io.sanitize(s):n.innerHTML=s;else{n.innerText="";var l=i.getAttribute("data-uid");this.renderNodeTemplate(o,n,l),this.renderReactTemplates()}a&&(Oe([i],Q2),i.focus(),se.add(i,"blur",this.focusOut,this),pe([i],g0)),this.allowTextWrap&&this.calculateWrap(i)},t.prototype.getElement=function(i){return v(i)?null:typeof i=="string"?this.element.querySelector('[data-uid="'+i+'"]'):typeof i=="object"?i:null},t.prototype.getId=function(i){return v(i)?null:typeof i=="string"?i:typeof i=="object"?i.getAttribute("data-uid"):null},t.prototype.getEditEvent=function(i,n,s){var a=this.getNodeData(i);return{cancel:!1,newText:n,node:i,nodeData:a,oldText:this.oldText,innerHtml:s}},t.prototype.getNodeObject=function(i){var n;if(v(i))return n;if(this.dataType===1)for(var s=0,a=this.treeData.length;s<a;s++){var o=Pe(this.fields.id,this.treeData[parseInt(s.toString(),10)]);if(!v(this.treeData[parseInt(s.toString(),10)])&&!v(o)&&o.toString()===i)return this.treeData[parseInt(s.toString(),10)]}else return this.getChildNodeObject(this.treeData,this.fields,i);return n},t.prototype.getChildNodeObject=function(i,n,s){var a;if(v(i))return a;for(var o=0,l=i.length;o<l;o++){var c=Pe(n.id,i[parseInt(o.toString(),10)]);if(i[parseInt(o.toString(),10)]&&c&&c.toString()===s)return i[parseInt(o.toString(),10)];if(typeof n.child=="string"&&!v(Pe(n.child,i[parseInt(o.toString(),10)]))){var u=Pe(n.child,i[parseInt(o.toString(),10)]);if(a=this.getChildNodeObject(u,this.getChildMapper(n),s),a!==void 0)break}else if(this.fields.dataSource instanceof ut&&!v(Pe("child",i[parseInt(o.toString(),10)]))){var d="child";if(a=this.getChildNodeObject(Pe(d,i[parseInt(o.toString(),10)]),this.getChildMapper(n),s),a!==void 0)break}else if(this.isChildObject()){var p="child",u=Pe(p,i[parseInt(o.toString(),10)]);if(a=this.getChildNodeObject(u,this.getChildMapper(n),s),a!==void 0)break}}return a},t.prototype.setDragAndDrop=function(i){i&&!this.disabled?this.initializeDrag():this.destroyDrag()},t.prototype.initializeDrag=function(){var i=this,n;this.dragObj=new tL(this.element,{enableTailMode:!0,enableAutoScroll:!0,dragArea:this.dragArea,dragTarget:"."+io,enableTapHold:!0,tapHoldThreshold:100,helper:function(s){i.dragTarget=s.sender.target;var a=Fe(i.dragTarget,"."+Xu),o=Fe(i.dragTarget,"."+io);if(i.dragLi=Fe(i.dragTarget,"."+Hi),i.fullRowSelect&&!o&&i.dragTarget.classList.contains(rp)&&(o=i.dragTarget.nextElementSibling),!i.dragTarget||!s.element.isSameNode(a)||!o||i.dragTarget.classList.contains(Xu)||i.dragTarget.classList.contains(Lr)||i.dragTarget.classList.contains(Hi)||i.dragLi.classList.contains("e-disable"))return!1;var l=o.cloneNode(!0);if(v(Et("div."+ja,l))){var c=i.createElement("div",{className:ja+" "+kr});l.insertBefore(c,l.children[0])}var u=Vxe+" "+Xu+" "+i.cssClass+" "+(i.enableRtl?gU:"");n=i.createElement("div",{className:u}),n.appendChild(l);var d=i.selectedNodes.length;if(d>1&&i.allowMultiSelection&&i.dragLi.classList.contains(Vo)){var p=i.createElement("span",{className:Wxe,innerHTML:""+d});n.appendChild(p)}return document.body.appendChild(n),document.body.style.cursor="",i.dragData=i.getNodeData(i.dragLi),n},dragStart:function(s){pe([i.element],KD);var a=Fe(s.target,".e-list-item"),o;a&&(o=parseInt(a.getAttribute("aria-level"),10));var l=i.getDragEvent(s.event,i,null,s.target,null,n,o);l.draggedNode.classList.contains(Q2)?(i.dragObj.intDestroy(s.event),i.dragCancelAction(n)):i.trigger("nodeDragStart",l,function(c){c.cancel?(i.dragObj.intDestroy(s.event),i.dragCancelAction(n)):i.dragStartAction=!0})},drag:function(s){i.dragObj.setProperties({cursorAt:{top:!v(s.event.targetTouches)||Re.isDevice?60:-20}}),i.dragAction(s,n)},dragStop:function(s){if(!s.target){s.helper&&s.helper.parentNode&&zt(s.helper),document.body.style.cursor="",Oe([i.element],KD),i.dragStartAction=!1;return}Oe([i.element],KD),s.target.classList.contains("e-sibling")||i.removeVirtualEle();var a=s.target,o=!1,l=Fe(a,"."+yU);(!a||!l)&&(zt(s.helper),document.body.style.cursor="");var c=Fe(a,".e-list-item"),u;c&&(u=parseInt(c.getAttribute("aria-level"),10));var d=i.getDragEvent(s.event,i,a,a,null,s.helper,u);d.preventTargetExpand=o,i.trigger("nodeDragStop",d,function(p){i.dragParent=p.draggedParentNode,i.preventExpand=p.preventTargetExpand,p.cancel&&(s.helper.parentNode&&zt(s.helper),document.body.style.cursor="",a.classList.contains("e-sibling")&&i.removeVirtualEle()),i.dragStartAction=!1})}}),this.dropObj=new cne(this.element,{out:function(s){s.target&&!v(s)&&!s.target.classList.contains(cM)&&i.dropObj.dragData.default&&i.dropObj.dragData.default.helper.classList.contains(Xu)&&(document.body.style.cursor="not-allowed")},over:function(){document.body.style.cursor=""},drop:function(s){i.dropAction(s),i.removeVirtualEle()}})},t.prototype.dragCancelAction=function(i){zt(i),Oe([this.element],KD),this.dragStartAction=!1},t.prototype.getOffsetX=function(i,n){var s=i.changedTouches;return s&&s.length>0?s[0].clientX-n.getBoundingClientRect().left:i.offsetX},t.prototype.getOffsetY=function(i,n){var s=i.changedTouches;return s&&s.length>0?s[0].clientY-n.getBoundingClientRect().top:i.offsetY},t.prototype.dragAction=function(i,n){if(i.target){var s=Fe(i.target,"."+yU),a=Fe(i.target,"."+io),o=Et("div."+ja,n);Oe([o],[$D,uM,G2,K2]),this.isDropIn=!1,this.removeVirtualEle(),document.body.style.cursor="";var l=i.target.classList,c=i.event,u=this.getOffsetY(c,i.target),d=this.getOffsetX(c,i.target);if(this.fullRowSelect&&!a&&!v(l)&&l.contains(rp)&&(a=i.target.nextElementSibling),s){var p=Fe(i.target,"."+Hi),m=Fe(i.target,"."+Ol),y=Fe(i.target,"."+gs),M=Fe(i.target,"."+kr);if(!s.classList.contains(Xu)||a&&!p.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,p))if(this.hasTemplate&&p){var w=Et(this.fullRowSelect?"."+rp:"."+io,p);if(i&&!M&&!y&&u<7&&!m||M&&u<5||y&&d<3){var b=this.fullRowSelect?1:0;this.appendIndicator(p,o,b)}else if(i&&!M&&!y&&!m&&w&&u>w.offsetHeight-10||M&&u>19||y&&d>19){var b=this.fullRowSelect?2:1;this.appendIndicator(p,o,b)}else pe([o],$D),this.isDropIn=!0}else if(p&&i&&!M&&!y&&u<7&&!m||M&&u<5||y&&d<3){var b=this.fullRowSelect?1:0;this.appendIndicator(p,o,b)}else if(p&&i&&!M&&!y&&i.target.offsetHeight>0&&u>i.target.offsetHeight-10&&!m||M&&u>19||y&&d>19){var b=this.fullRowSelect?2:1;this.appendIndicator(p,o,b)}else pe([o],$D),this.isDropIn=!0;else i.target.nodeName==="LI"&&!p.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,p)?(pe([o],uM),this.renderVirtualEle(i)):i.target.classList.contains(cM)?pe([o],uM):pe([o],G2)}else pe([o],K2),document.body.style.cursor="not-allowed";var D=Fe(i.target,".e-list-item"),E;D&&(E=parseInt(D.getAttribute("aria-level"),10));var N=this.getDragEvent(i.event,this,i.target,i.target,null,n,E);N.dropIndicator&&Oe([o],N.dropIndicator),this.trigger("nodeDragging",N),N.dropIndicator&&pe([o],N.dropIndicator)}},t.prototype.appendIndicator=function(i,n,s){pe([n],uM);var a=this.createElement("div",{className:cM});i.insertBefore(a,i.children[parseInt(s.toString(),10)])},t.prototype.dropAction=function(i){for(var n=i.event,s=this.getOffsetY(n,i.target),a=i.target,o,l,c=!1,u=[],d=[],p=i.dragData.draggable,m=0;m<p.ej2_instances.length;m++)if(p.ej2_instances[parseInt(m.toString(),10)]instanceof e){o=p.ej2_instances[parseInt(m.toString(),10)];break}if(o&&o.dragTarget){var y=o.dragTarget,M=Fe(y,"."+Hi),w=Fe(a,"."+Hi);if(d.push(M),w==null&&a.classList.contains(Xu)&&(w=a.firstElementChild),zt(i.droppedElement),document.body.style.cursor="",!w||w.isSameNode(M)||this.isDescendant(M,w)){this.fields.dataSource instanceof ut||(this.preventExpand=!1);return}if(o.allowMultiSelection&&M.classList.contains(Vo)){var b=Ei("."+Vo,o.element);if(d=b,i.target.offsetHeight<=33&&s>i.target.offsetHeight-10&&s>6)for(var m=b.length-1;m>=0;m--)w.isSameNode(b[parseInt(m.toString(),10)])||this.isDescendant(b[parseInt(m.toString(),10)],w)||this.appendNode(a,b[parseInt(m.toString(),10)],w,i,o,s);else for(var m=0;m<b.length;m++)w.isSameNode(b[parseInt(m.toString(),10)])||this.isDescendant(b[parseInt(m.toString(),10)],w)||this.appendNode(a,b[parseInt(m.toString(),10)],w,i,o,s)}else this.appendNode(a,M,w,i,o,s);l=parseInt(M.getAttribute("aria-level"),10),c=!0}this.fields.dataSource instanceof ut||(this.preventExpand=!1);for(var D=v(o)?null:o.dragData,m=0;m<d.length;m++)u.push(this.getNodeData(this.getElement(d[parseInt(m.toString(),10)]),!0,D));this.trigger("nodeDropped",this.getDragEvent(i.event,o,a,i.target,i.dragData.draggedElement,null,l,c)),o.element.id!==this.element.id&&(o.triggerEvent("nodeDropped",u),this.isNodeDropped=!0,this.fields.dataSource=this.treeData),this.triggerEvent("nodeDropped",u)},t.prototype.appendNode=function(i,n,s,a,o,l){var c=Fe(i,"."+Ol),u=Fe(a.target,"."+gs),d=Fe(a.target,"."+kr);!n.classList.contains("e-disable")&&!c&&(d&&a.event.offsetY<5||u&&a.event.offsetX<3||d&&a.event.offsetY>19||u&&a.event.offsetX>19||!d&&!u)?i.nodeName==="LI"?this.dropAsSiblingNode(n,s,a,o):i.firstElementChild&&i.classList.contains(Xu)?i.firstElementChild.nodeName==="UL"&&this.dropAsSiblingNode(n,s,a,o):i.classList.contains("e-icon-collapsible")||i.classList.contains("e-icon-expandable")?this.dropAsSiblingNode(n,s,a,o):this.dropAsChildNode(n,s,o,null,a,l,null,i):this.dropAsChildNode(n,s,o,null,a,l,!0,i),this.showCheckBox&&this.ensureIndeterminate()},t.prototype.dropAsSiblingNode=function(i,n,s,a){var o=Fe(n,"."+Lr),l=Fe(i,"."+Lr),c=Fe(l,"."+Hi),u;if(s.target.offsetHeight>0&&s.event.offsetY>s.target.offsetHeight-2?u=!1:s.event.offsetY<2?u=!0:(s.target.classList.contains("e-icon-expandable")||s.target.classList.contains("e-icon-collapsible"))&&(s.event.offsetY<5||s.event.offsetX<3?u=!0:(s.event.offsetY>15||s.event.offsetX>17)&&(u=!1)),s.target.classList.contains("e-icon-expandable")||s.target.classList.contains("e-icon-collapsible")){var d=s.target.closest("li");o.insertBefore(i,u?d:d.nextElementSibling)}else o.insertBefore(i,u?s.target:s.target.nextElementSibling);this.moveData(i,n,o,u,a),this.updateElement(l,c),this.updateAriaLevel(i),a.element.id===this.element.id?this.updateList():(a.updateInstance(),this.updateInstance())},t.prototype.dropAsChildNode=function(i,n,s,a,o,l,c,u){var d=Fe(i,"."+Lr),p=Fe(d,"."+Hi),m=Fe(n,"."+Lr),y;if(o&&o.target&&(y=Et(this.fullRowSelect?"."+rp:"."+io,n)),o&&(l<7&&!u.classList.contains("e-sibling")||u.classList.contains("e-sibling")&&!n.lastChild.classList.contains("e-sibling"))&&!c)m.insertBefore(i,n),this.moveData(i,n,m,!0,s);else if(o&&o.target.offsetHeight>0&&l>o.target.offsetHeight-10&&!c&&!this.hasTemplate)m.insertBefore(i,n.nextElementSibling),this.moveData(i,n,m,!1,s);else if(this.hasTemplate&&y&&l>y.offsetHeight-10&&!c)m.insertBefore(i,n.nextElementSibling),this.moveData(i,n,m,!1,s);else{var M=this.expandParent(n),w=v(a)?null:M.childNodes[parseInt(a.toString(),10)];M.insertBefore(i,w),this.moveData(i,w,M,!0,s)}this.updateElement(d,p),this.updateAriaLevel(i),s.element.id===this.element.id?this.updateList():(s.updateInstance(),this.updateInstance())},t.prototype.moveData=function(i,n,s,a,o){var l=Fe(s,"."+Hi),c=this.getId(i),u=o.updateChildField(o.treeData,o.fields,c,null,null,!0),d=this.getId(n),p=d?this.getDataPos(this.treeData,this.fields,d):null,m=this.getId(l);if(this.dataType===1){this.updateField(this.treeData,this.fields,m,"hasChildren",!0);var y=v(p)?this.treeData.length:a?p:p+1;if(v(m)&&!this.hasPid)delete u[0][this.fields.parentID];else{var M=this.isNumberTypeId?parseFloat(m):m;Yr(this.fields.parentID,M,u[0])}if(this.treeData.splice(y,0,u[0]),o.element.id!==this.element.id){var w=o.removeChildNodes(c);y++;for(var b=0,D=w.length;b<D;b++)this.treeData.splice(y,0,w[parseInt(b.toString(),10)]),y++;o.groupedData=o.getGroupedData(o.treeData,o.fields.parentID)}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.addChildData(this.treeData,this.fields,m,u,a?p:p+1)},t.prototype.expandParent=function(i){var n=Et("div."+kr+", div."+gs,i);n&&n.classList.contains(kr)&&this.preventExpand!==!0&&this.expandAction(i,n,null);var s=Et("."+Lr,i);if(this.preventExpand===!0&&!s&&n&&this.renderChildNodes(i),s=Et("."+Lr,i),!v(s)&&this.preventExpand&&i.getAttribute("aria-expanded")!=="true"&&(s.style.display="none"),!v(s)&&this.preventExpand===!1&&(s.style.display="block"),v(s)&&this.preventExpand===!0){v(n)&&en.generateIcon(this.createElement,i,kr,this.listBaseOption);var a=Et("div."+kr+", div."+gs,i);a&&a.classList.add("e-icon-expandable"),s=en.generateUL(this.createElement,[],null,this.listBaseOption),i.appendChild(s),a?Oe([a],gs):en.generateIcon(this.createElement,i,kr,this.listBaseOption),i.setAttribute("aria-expanded","false"),s.style.display="none"}if(v(s)){var o=this.expandArgs;(v(o)||o&&o.name!=="nodeExpanding")&&this.trigger("nodeExpanding",this.getExpandEvent(i,null)),v(n)&&en.generateIcon(this.createElement,i,gs,this.listBaseOption);var a=Et("div."+kr+", div."+gs,i);a?Oe([a],kr):(en.generateIcon(this.createElement,i,gs,this.listBaseOption),a=Et("div."+ja,i),Oe([a],kr)),s=en.generateUL(this.createElement,[],null,this.listBaseOption),i.appendChild(s),this.addExpand(i),this.trigger("nodeExpanded",this.getExpandEvent(i,null))}var l=Et("div."+gs,i);return!v(s)&&l&&this.preventExpand&&i.getAttribute("aria-expanded")!=="true"&&(Oe([l],gs),i.setAttribute("aria-expanded","false"),pe([l],kr)),s},t.prototype.updateElement=function(i,n){if(n&&i.childElementCount===0){var s=Et("div."+ja,n);zt(i),zt(s);var a=this.getId(n);this.updateField(this.treeData,this.fields,a,"hasChildren",!1),this.removeExpand(n,!0)}},t.prototype.updateAriaLevel=function(i){var n=this.parents(i,"."+Lr).length;i.setAttribute("aria-level",""+n),this.updateChildAriaLevel(Et("."+Lr,i),n+1)},t.prototype.updateChildAriaLevel=function(i,n){if(!v(i))for(var s=i.childNodes,a=0,o=s.length;a<o;a++){var l=s[parseInt(a.toString(),10)];l.setAttribute("aria-level",""+n),this.updateChildAriaLevel(Et("."+Lr,l),n+1)}},t.prototype.renderVirtualEle=function(i){var n,s=i.event,a=this.getOffsetY(s,i.target);a>i.target.offsetHeight-2?n=!1:a<2&&(n=!0);var o=this.createElement("div",{className:cM}),l=this.fullRowSelect?n?1:2:n?0:1;i.target.insertBefore(o,i.target.children[parseInt(l.toString(),10)])},t.prototype.removeVirtualEle=function(){var i=Et("."+cM);i&&zt(i)},t.prototype.destroyDrag=function(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())},t.prototype.getDragEvent=function(i,n,s,a,o,l,c,u){var d=s?Fe(s,"."+Hi):null,p=d?this.getNodeData(d):null,m=n?n.dragLi:o,y=n?n.dragData:null,M=s?this.parents(s,"."+Hi):null,w=n.dragLi.parentElement,b=n.dragLi?Fe(w,"."+Hi):null,D=null,E=null,N=[uM,$D,G2,K2],B=null,P=u===!0?m:d,C=P?Fe(P,".e-list-parent"):null,k=0,_=null;if(b=n.dragLi&&b===null?Fe(w,"."+Xu):b,b=u===!0?this.dragParent:b,l)for(;k<4;){if(Et("."+ja,l).classList.contains(N[parseInt(k.toString(),10)])){B=N[parseInt(k.toString(),10)];break}k++}if(C){var H=0;for(k=0;k<C.childElementCount;k++)if(H=u!==!0&&C.children[parseInt(k.toString(),10)]===m&&d!==m?++H:H,u!==!0&&C.children[parseInt(k.toString(),10)].classList.contains("e-hover")){E=i.offsetY>=23?k+1:k;break}else if(C.children[parseInt(k.toString(),10)]===P){E=(i.offsetY>=23,k);break}E=H!==0?--E:E,_=this.isDropIn?"Inside":i.offsetY<7?"Before":"After"}if(s&&(M.length===0?D=null:s.classList.contains(Hi)?D=M[0]:D=M[1]),d===m&&(D=d),s&&a.offsetHeight<=33&&i.offsetY<a.offsetHeight-10&&i.offsetY>6&&(D=d,u!==!0)){c=++c;var j=D?Et(".e-list-parent",D):null;if(E=j?j.children.length:0,!(this.fields.dataSource instanceof ut)&&j===null&&D){var z=D.hasAttribute("data-uid")?this.getChildNodes(this.fields.dataSource,D.getAttribute("data-uid").toString()):null;E=z?z.length:0}}return{cancel:!1,clonedNode:l,event:i,draggedNode:m,draggedNodeData:y,droppedNode:d,droppedNodeData:p,dropIndex:E,dropLevel:c,draggedParentNode:b,dropTarget:D,dropIndicator:B,target:a,position:_}},t.prototype.addFullRow=function(i){var n=this.liList.length;if(i)for(var s=0;s<n;s++)this.createFullRow(this.liList[parseInt(s.toString(),10)]);else for(var s=0;s<n;s++){var a=Et("."+rp,this.liList[parseInt(s.toString(),10)]);zt(a)}},t.prototype.createFullRow=function(i){var n=this.createElement("div",{className:rp});i.insertBefore(n,i.childNodes[0])},t.prototype.addMultiSelect=function(i){if(i)for(var n=Ei("."+Hi+':not([aria-selected="true"])',this.element),s=0,a=n;s<a.length;s++){var o=a[s];o.setAttribute("aria-selected","false")}else for(var n=Ei("."+Hi+'[aria-selected="false"]',this.element),l=0,c=n;l<c.length;l++){var o=c[l];o.removeAttribute("aria-selected")}},t.prototype.collapseByLevel=function(i,n,s,a){if(a=v(a)?1:a,n>0&&!v(i))for(var o=this.getVisibleNodes(s,i.childNodes),l=0,c=o.length;l<c;l++){var u=o[parseInt(l.toString(),10)],d=Et("."+gs,Et("."+io,u));a>=n&&!v(d)&&this.collapseNode(u,d,null),this.collapseByLevel(Et("."+Lr,u),n,s,a+1)}},t.prototype.collapseAllNodes=function(i){for(var n=this.getVisibleNodes(i,Ei("."+gs,this.element)),s=0,a=n.length;s<a;s++){var o=n[parseInt(s.toString(),10)],l=Fe(o,"."+Hi);this.collapseNode(l,o,null)}},t.prototype.expandByLevel=function(i,n,s){if(n>0&&!v(i))for(var a=this.getVisibleNodes(s,i.childNodes),o=0,l=a.length;o<l;o++){var c=a[parseInt(o.toString(),10)],u=Et("."+kr,Et("."+io,c));v(u)||this.expandAction(c,u,null),this.expandByLevel(Et("."+Lr,c),n-1,s)}},t.prototype.expandAllNodes=function(i){for(var n=this.getVisibleNodes(i,Ei("."+kr,this.element)),s=0,a=n;s<a.length;s++){var o=a[s],l=Fe(o,"."+Hi);this.expandAction(l,o,null,!0,null,!0)}},t.prototype.getVisibleNodes=function(i,n){var s=Array.prototype.slice.call(n);if(i)for(var a=0;a<s.length;a++)Ra(s[parseInt(a.toString(),10)])||(s.splice(a,1),a--);return s},t.prototype.removeNode=function(i){var n=Fe(i,"."+Lr),s=Fe(n,"."+Hi);v(this.nodeTemplateFn)||this.destroyTemplate(i),zt(i),this.updateElement(n,s),this.removeData(i)},t.prototype.updateInstance=function(){this.updateList(),this.updateSelectedNodes(),this.updateExpandedNodes()},t.prototype.updateList=function(){this.liList=Array.prototype.slice.call(Ei("."+Hi,this.element))},t.prototype.updateSelectedNodes=function(){this.setProperties({selectedNodes:[]},!0);var i=Ei("."+Vo,this.element);this.selectGivenNodes(i)},t.prototype.updateExpandedNodes=function(){this.setProperties({expandedNodes:[]},!0);for(var i=Ei('[aria-expanded="true"]',this.element),n=0,s=i.length;n<s;n++)this.addExpand(i[parseInt(n.toString(),10)])},t.prototype.removeData=function(i){if(this.dataType===1){var n=new ut(this.treeData),s=this.getId(i),a={},o=this.isNumberTypeId?parseFloat(s):s;a[this.fields.id]=o,n.remove(this.fields.id,a),this.removeChildNodes(s)}else{var s=this.getId(i);this.updateChildField(this.treeData,this.fields,s,null,null,!0)}},t.prototype.removeChildNodes=function(i){for(var n=this.getChildGroup(this.groupedData,i,!1),s=[],a=0,o=n.length;a<o;a++){var l=new ut(this.treeData),c=Pe(this.fields.id,n[parseInt(a.toString(),10)]).toString(),u={},d=this.isNumberTypeId?parseFloat(c):c;u[this.fields.id]=d;var p=l.remove(this.fields.id,u);s.push(p[0]),this.removeChildNodes(c)}return s},t.prototype.doGivenAction=function(i,n,s){for(var a=0,o=i.length;a<o;a++){var l=this.getElement(i[parseInt(a.toString(),10)]);if(!v(l)){var c=Et("."+n,Et("."+io,l));v(c)||(s?this.expandAction(l,c,null):this.collapseNode(l,c,null))}}},t.prototype.addGivenNodes=function(i,n,s,a,o){if(i.length!==0){var l=this.getSortedData(i),c=n?parseFloat(n.getAttribute("aria-level"))+1:1;a&&this.updateMapper(c);var u=en.createListItemFromJson(this.createElement,l,this.listBaseOption,c),d=this.getId(n),p;v(n)||(p=Et("div."+ja,n)),this.dataType===1&&p&&p.classList.contains(kr)&&this.preventExpand&&!v(this.element.offsetParent)&&!this.element.offsetParent.parentElement.classList.contains("e-filemanager")&&(this.preventExpand=!0),this.dataType!==1&&(this.addChildData(this.treeData,this.fields,d,i,s),this.isFirstRender=!1);var m;o?m=o:m=n?this.expandParent(n):Et("."+Lr,this.element);var y=v(s)?null:m.childNodes[parseInt(s.toString(),10)];if(!this.isFirstRender||this.dataType===1){var M=this.expandArgs;if(y||this.sortOrder==="None"){for(var w=0;w<u.length;w++)m.insertBefore(u[parseInt(w.toString(),10)],y);if(this.dataType===1&&!v(n)&&!this.preventExpand&&!v(this.element.offsetParent)&&!this.element.offsetParent.parentElement.classList.contains("e-filemanager")){this.preventExpand=!1;var b=Et("div."+ja,n);b&&b.classList.contains(kr)&&(v(M)||M.name!=="nodeExpanding")&&this.expandAction(n,b,null)}}if(!y&&(this.sortOrder==="Ascending"||this.sortOrder==="Descending"))if(m.childNodes.length===0){for(var w=0;w<u.length;w++)m.insertBefore(u[parseInt(w.toString(),10)],y);if(this.dataType===1&&!v(n)&&!this.preventExpand&&!v(this.element.offsetParent)&&!this.element.offsetParent.parentElement.classList.contains("e-filemanager")){this.preventExpand=!1;var b=Et("div."+ja,n);b&&b.classList.contains(kr)&&(v(M)||M.name!=="nodeExpanding")&&this.expandAction(n,b,null)}}else for(var D=m.childNodes,w=0;w<u.length;w++)for(var E=0;E<D.length;E++){var N=this.sortOrder==="Ascending"?D[parseInt(E.toString(),10)].textContent.toUpperCase()>u[parseInt(w.toString(),10)].innerText.toUpperCase():D[parseInt(E.toString(),10)].textContent.toUpperCase()<u[parseInt(w.toString(),10)].innerText.toUpperCase();if(N){m.insertBefore(u[parseInt(w.toString(),10)],D[parseInt(E.toString(),10)]);break}m.insertBefore(u[parseInt(w.toString(),10)],D[D.length])}}if(this.dataType===1){this.updateField(this.treeData,this.fields,d,"hasChildren",!0);for(var B=this.getId(y),P=v(B)?this.treeData.length:this.getDataPos(this.treeData,this.fields,B),E=0;E<i.length;E++){if(!v(d)){var C=this.isNumberTypeId?parseFloat(d):d;Yr(this.fields.parentID,C,i[parseInt(E.toString(),10)])}this.treeData.splice(P,0,i[parseInt(E.toString(),10)]),P++}}this.finalizeNode(m)}},t.prototype.updateMapper=function(i){var n=i===1?this.fields:this.getChildFields(this.fields,i-1,1);this.updateListProp(n)},t.prototype.updateListProp=function(i){var n=this.getActualProperties(i);this.listBaseOption.fields=n,this.listBaseOption.fields.url=Object.prototype.hasOwnProperty.call(n,"navigateUrl")?n.navigateUrl:"navigateUrl"},t.prototype.getDataPos=function(i,n,s){for(var a=null,o=0,l=i.length;o<l;o++){var c=Pe(n.id,i[parseInt(o.toString(),10)]);if(i[parseInt(o.toString(),10)]&&c&&c.toString()===s)return o;if(typeof n.child=="string"&&!v(Pe(n.child,i[parseInt(o.toString(),10)]))){var u=Pe(n.child,i[parseInt(o.toString(),10)]);if(a=this.getDataPos(u,this.getChildMapper(n),s),a!==null)break}else if(this.fields.dataSource instanceof ut&&!v(Pe("child",i[parseInt(o.toString(),10)]))){var d=Pe("child",i[parseInt(o.toString(),10)]);if(a=this.getDataPos(d,this.getChildMapper(n),s),a!==null)break}}return a},t.prototype.addChildData=function(i,n,s,a,o){var l;if(v(s)){o=v(o)?i.length:o;for(var c=0,u=a.length;c<u;c++)i.splice(o,0,a[parseInt(c.toString(),10)]),o++;return l}for(var d=0,p=i.length;d<p;d++){var m=Pe(n.id,i[parseInt(d.toString(),10)]);if(i[parseInt(d.toString(),10)]&&m&&m.toString()===s){if(typeof n.child=="string"&&Object.prototype.hasOwnProperty.call(i[parseInt(d.toString(),10)],n.child)&&i[parseInt(d.toString(),10)][n.child]!==null||this.fields.dataSource instanceof ut&&Object.prototype.hasOwnProperty.call(i[parseInt(d.toString(),10)],"child")){var y=typeof n.child=="string"?n.child:"child",M=Pe(y,i[parseInt(d.toString(),10)]);v(M)&&(M=[]),o=v(o)?M.length:o;for(var c=0,u=a.length;c<u;c++)M.splice(o,0,a[parseInt(c.toString(),10)]),o++}else{var y=typeof n.child=="string"?n.child:"child";i[parseInt(d.toString(),10)][""+y]=a}return!0}else if(typeof n.child=="string"&&!v(Pe(n.child,i[parseInt(d.toString(),10)]))){var w=Pe(n.child,i[parseInt(d.toString(),10)]);if(l=this.addChildData(w,this.getChildMapper(n),s,a,o),l!==void 0)break}else if(this.fields.dataSource instanceof ut&&!v(Pe("child",i[parseInt(d.toString(),10)]))){var M=Pe("child",i[parseInt(d.toString(),10)]);if(l=this.addChildData(M,this.getChildMapper(n),s,a,o),l!==void 0)break}}return l},t.prototype.doDisableAction=function(i){var n=this.nodeType(i),s=this.checkValidId(n);this.validArr=[];for(var a=0,o=s.length;a<o;a++){var l=s[parseInt(a.toString(),10)][this.fields.id].toString();l&&this.disableNode.indexOf(l)===-1&&this.disableNode.push(l);var c=this.getElement(l);c&&(c.setAttribute("aria-disabled","true"),pe([c],Ay))}},t.prototype.doEnableAction=function(i){for(var n=this.nodeType(i),s=0,a=n.length;s<a;s++){var o=this.getElement(n[parseInt(s.toString(),10)]),l=n[parseInt(s.toString(),10)];l&&this.disableNode.indexOf(l)!==-1&&this.disableNode.splice(this.disableNode.indexOf(l),1),o&&(o.removeAttribute("aria-disabled"),Oe([o],Ay))}},t.prototype.nodeType=function(i){for(var n=[],s=0,a=i.length;s<a;s++){var o=void 0;typeof i[parseInt(s.toString(),10)]=="string"?o=i[parseInt(s.toString(),10)]?i[parseInt(s.toString(),10)].toString():null:typeof i[parseInt(s.toString(),10)]=="object"&&(o=i[parseInt(s.toString(),10)]?i[parseInt(s.toString(),10)].getAttribute("data-uid").toString():null),n.indexOf(o)===-1&&n.push(o)}return n},t.prototype.checkValidId=function(i){var n=this;if(this.dataType===1)this.validArr=this.treeData.filter(function(l){return i.indexOf(l[n.fields.id]?l[n.fields.id].toString():null)!==-1});else if(this.dataType===2)for(var s=0;s<this.treeData.length;s++){var a=this.treeData[parseInt(s.toString(),10)][this.fields.id]?this.treeData[parseInt(s.toString(),10)][this.fields.id].toString():null;i.indexOf(a)!==-1&&this.validArr.push(this.treeData[parseInt(s.toString(),10)]);var o=Pe(this.fields.child.toString(),this.treeData[parseInt(s.toString(),10)]);o&&this.filterNestedChild(o,i)}return this.validArr},t.prototype.filterNestedChild=function(i,n){for(var s=0;s<i.length;s++){var a=i[parseInt(s.toString(),10)][this.fields.id]?i[parseInt(s.toString(),10)][this.fields.id].toString():null;n.indexOf(a)!==-1&&this.validArr.push(i[parseInt(s.toString(),10)]);var o=Pe(this.fields.child.toString(),i[parseInt(s.toString(),10)]);o&&this.filterNestedChild(o,n)}},t.prototype.setTouchClass=function(){var i=Fe(this.element,"."+Qxe);this.touchClass=v(i)?"":Gxe},t.prototype.updatePersistProp=function(){this.removeField(this.treeData,this.fields,["selected","expanded"]);for(var i=this.selectedNodes,n=0,s=i.length;n<s;n++)this.updateField(this.treeData,this.fields,i[parseInt(n.toString(),10)],"selected",!0);for(var a=this.expandedNodes,o=0,l=a.length;o<l;o++)this.updateField(this.treeData,this.fields,a[parseInt(o.toString(),10)],"expanded",!0);if(this.showCheckBox){this.removeField(this.treeData,this.fields,["isChecked"]);for(var c=this.checkedNodes,u=0,l=c.length;u<l;u++)this.updateField(this.treeData,this.fields,c[parseInt(u.toString(),10)],"isChecked",!0)}},t.prototype.removeField=function(i,n,s){if(!(v(i)||v(n)))for(var a=0,o=i.length;a<o;a++){for(var l=0;l<s.length;l++){var c=this.getMapperProp(n,s[parseInt(l.toString(),10)]);v(i[parseInt(a.toString(),10)][""+c])||delete i[parseInt(a.toString(),10)][""+c]}typeof n.child=="string"&&!v(Pe(n.child,i[parseInt(a.toString(),10)]))?this.removeField(Pe(n.child,i[parseInt(a.toString(),10)]),this.getChildMapper(n),s):this.fields.dataSource instanceof ut&&!v(Pe("child",i[parseInt(a.toString(),10)]))&&this.removeField(Pe("child",i[parseInt(a.toString(),10)]),this.getChildMapper(n),s)}},t.prototype.getMapperProp=function(i,n){switch(n){case"selected":return v(i.selected)?"selected":i.selected;case"expanded":return v(i.expanded)?"expanded":i.expanded;case"isChecked":return v(i.isChecked)?"isChecked":i.isChecked;case"hasChildren":return v(i.hasChildren)?"hasChildren":i.hasChildren;default:return n}},t.prototype.updateField=function(i,n,s,a,o){if(!v(s))if(this.dataType===1){var l=this.isNumberTypeId?parseFloat(s):s,c=new ut(this.treeData).executeLocal(new di().where(n.id,"equal",l,!1));Yr(this.getMapperProp(n,a),o,c[0])}else this.updateChildField(i,n,s,a,o)},t.prototype.updateChildField=function(i,n,s,a,o,l){var c;if(v(i))return c;for(var u=0,d=i.length;u<d;u++){var p=Pe(n.id,i[parseInt(u.toString(),10)]);if(i[parseInt(u.toString(),10)]&&!v(p)&&p.toString()===s)return l?c=i.splice(u,1):(Yr(this.getMapperProp(n,a),o,i[parseInt(u.toString(),10)]),c=[]),c;if(typeof n.child=="string"&&!v(Pe(n.child,i[parseInt(u.toString(),10)]))){var m=Pe(n.child,i[parseInt(u.toString(),10)]);if(c=this.updateChildField(m,this.getChildMapper(n),s,a,o,l),c!==void 0)break}else if(this.fields.dataSource instanceof ut&&!v(Pe("child",i[parseInt(u.toString(),10)]))){var y=Pe("child",i[parseInt(u.toString(),10)]);if(c=this.updateChildField(y,this.getChildMapper(n),s,a,o,l),c!==void 0)break}}return c},t.prototype.triggerEvent=function(i,n){if(this.renderReactTemplates(),i==="addNodes"){for(var s=[],a=0;a<n.length;a++)s.push(this.getNode(this.getElement(v(n[parseInt(a.toString(),10)][this.fields.id])?Pe(this.fields.id,n[parseInt(a.toString(),10)]).toString():null)));n=s}var o={data:this.treeData,action:i,nodeData:n};this.trigger("dataSourceChanged",o)},t.prototype.wireInputEvents=function(i){se.add(i,"blur",this.inputFocusOut,this)},t.prototype.wireEditingEvents=function(i){var n=this;i&&!this.disabled?this.touchEditObj=new sf(this.element,{tap:function(s){n.isDoubleTapped(s)&&s.tapCount===2&&(s.originalEvent.preventDefault(),n.editingHandler(s.originalEvent))}}):this.touchEditObj&&this.touchEditObj.destroy()},t.prototype.wireClickEvent=function(i){var n=this;i?this.touchClickObj=new sf(this.element,{tap:function(s){n.clickHandler(s)}}):this.touchClickObj&&this.touchClickObj.destroy()},t.prototype.wireExpandOnEvent=function(i){var n=this;i?this.touchExpandObj=new sf(this.element,{tap:function(s){(n.expandOnType==="Click"||n.expandOnType==="DblClick"&&n.isDoubleTapped(s)&&s.tapCount===2)&&s.originalEvent.which!==3&&n.expandHandler(s)}}):this.touchExpandObj&&this.touchExpandObj.destroy()},t.prototype.mouseDownHandler=function(i){this.mouseDownStatus=!0,(i.shiftKey||i.ctrlKey)&&i.preventDefault(),i.ctrlKey&&this.allowMultiSelection&&se.add(this.element,"contextmenu",this.preventContextMenu,this)},t.prototype.preventContextMenu=function(i){i.preventDefault()},t.prototype.wireEvents=function(){se.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),this.expandOnType!=="None"&&this.wireExpandOnEvent(!0),se.add(this.element,"mouseover",this.onMouseOver,this),se.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new Yl(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},t.prototype.unWireEvents=function(){se.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),se.remove(this.element,"mouseover",this.onMouseOver),se.remove(this.element,"mouseout",this.onMouseLeave),this.disabled||this.keyboardModule.destroy()},t.prototype.parents=function(i,n){for(var s=[],a=i.parentNode;!v(a);)Zk(a,n)&&s.push(a),a=a.parentNode;return s},t.prototype.isDoubleTapped=function(i){var n=i.originalEvent.target,s;return n&&i.tapCount&&(i.tapCount===1?this.firstTap=Fe(n,"."+Hi):i.tapCount===2&&(s=Fe(n,"."+Hi))),this.firstTap===s},t.prototype.isDescendant=function(i,n){for(var s=n.parentNode;!v(s);){if(s===i)return!0;s=s.parentNode}return!1},t.prototype.showSpinner=function(i){pe([i],qD),NN({target:i,width:Re.isDevice?16:14},this.createElement),IN(i)},t.prototype.hideSpinner=function(i){CN(i),i.innerHTML="",Oe([i],qD)},t.prototype.setCheckedNodes=function(i){i=JSON.parse(JSON.stringify(i)),i.length>1&&typeof this.nodeChecked=="function"&&this.nodeChecked.length>0&&(this.isFilter=!0),this.uncheckAll(this.checkedNodes),this.setIndeterminate(i),i.length>0&&this.checkAll(i)},t.prototype.setValidCheckedNode=function(i,n){if(n===void 0&&(n=[]),this.dataType===1){var s=this.fields,a=new ut(this.treeData).executeLocal(new di().where(s.id,"equal",i,!0));if(a[0]&&(this.setChildCheckState(a,i,a[0],n),this.autoCheck)){for(var o=a[0][this.fields.parentID]?a[0][this.fields.parentID].toString():null,l=this.getChildNodes(this.treeData,o),c=0,u=0;u<l.length;u++){var d=l[parseInt(u.toString(),10)][this.fields.id].toString();this.checkedNodes.indexOf(d)!==-1&&c++}c===l.length&&this.checkedNodes.indexOf(o)===-1&&o&&this.checkDisabledState(o)}}else if(this.dataType===2)for(var p=0;p<this.treeData.length;p++){var m=this.treeData[parseInt(p.toString(),10)][this.fields.id]?this.treeData[parseInt(p.toString(),10)][this.fields.id].toString():"";if(m===i&&this.checkedNodes.indexOf(i)===-1){this.checkDisabledState(i);break}var y=Pe(this.fields.child.toString(),this.treeData[parseInt(p.toString(),10)]);y&&this.setChildCheckState(y,i,this.treeData[parseInt(p.toString(),10)],n)}},t.prototype.setChildCheckState=function(i,n,s,a){a===void 0&&(a=[]);var o,l=0;if(this.dataType===1){s&&(o=s[this.fields.id]?s[this.fields.id].toString():null);for(var c=0;c<i.length;c++){var u=i[parseInt(c.toString(),10)][this.fields.id]?i[parseInt(c.toString(),10)][this.fields.id].toString():null;s&&o&&this.autoCheck&&this.checkedNodes.indexOf(o)!==-1&&this.checkedNodes.indexOf(u)===-1&&this.checkDisabledState(u,i[c]),u===n&&this.checkedNodes.indexOf(n)===-1&&this.checkDisabledState(n);var d=this.getChildNodes(this.treeData,u),p=a.length===1&&a[0]===u;(d.length===n.length||p)&&this.setChildCheckState(d,n,s)}}else{s&&(o=s[this.fields.id]?s[this.fields.id].toString():"");for(var c=0;c<i.length;c++){var m=i[parseInt(c.toString(),10)][this.fields.id]?i[parseInt(c.toString(),10)][this.fields.id].toString():"",p=[n].length===1&&a.length===0;s&&o&&this.autoCheck&&this.checkedNodes.indexOf(o)!==-1&&this.checkedNodes.indexOf(m)===-1&&(m===n||p)&&this.checkDisabledState(m,i[c]),m===n&&this.checkedNodes.indexOf(n)===-1&&this.checkDisabledState(n);var d=Pe(this.fields.child.toString(),i[parseInt(c.toString(),10)]);d&&this.setChildCheckState(d,n,i[parseInt(c.toString(),10)]),this.checkedNodes.indexOf(m)!==-1&&this.autoCheck&&l++,l===i.length&&this.checkedNodes.indexOf(o)===-1&&this.autoCheck&&this.checkDisabledState(o,s)}}},t.prototype.setIndeterminate=function(i){for(var n=0;n<i.length;n++)this.setValidCheckedNode(i[parseInt(n.toString(),10)],i)},t.prototype.updatePosition=function(i,n,s,a){if(this.dataType===1){var o=this.getDataPos(this.treeData,this.fields,i);if(this.treeData.splice(o,1,n),s){this.removeChildNodes(i);for(var l=0;l<a.length;l++)this.treeData.splice(o,0,a[parseInt(l.toString(),10)]),o++}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.updateChildPosition(this.treeData,this.fields,i,[n],void 0)},t.prototype.updateChildPosition=function(i,n,s,a,o){for(var l,c=0,u=i.length;c<u;c++){var d=Pe(n.id,i[parseInt(c.toString(),10)]);if(i[parseInt(c.toString(),10)]&&d&&d.toString()===s)return i[parseInt(c.toString(),10)]=a[0],!0;if(typeof n.child=="string"&&!v(Pe(n.child,i[parseInt(c.toString(),10)]))){var p=Pe(n.child,i[parseInt(c.toString(),10)]);if(l=this.updateChildPosition(p,this.getChildMapper(n),s,a,o),l!==void 0)break}else if(this.fields.dataSource instanceof ut&&!v(Pe("child",i[parseInt(c.toString(),10)]))){var m=Pe("child",i[parseInt(c.toString(),10)]);if(l=this.updateChildPosition(m,this.getChildMapper(n),s,a,o),l!==void 0)break}}return l},t.prototype.dynamicState=function(){this.setDragAndDrop(this.allowDragAndDrop),this.wireEditingEvents(this.allowEditing),this.disabled?(this.unWireEvents(),this.rippleFn(),this.rippleIconFn()):(this.wireEvents(),this.setRipple())},t.prototype.crudOperation=function(i,n,s,a,o,l,c){var u=this,d=this.fields.dataSource,p=[],m=this.getQuery(this.fields),y=this.fields.id,M,w={addedRecords:[],deletedRecords:[],changedRecords:[]},b=[];n?b=this.nodeType(n):s&&(typeof s=="string"?b[0]=s.toString():typeof s=="object"&&(b[0]=s.getAttribute("data-uid").toString()));for(var D=0,E=b.length;D<E;D++){var N=this.getElement(b[parseInt(D.toString(),10)]);if(!v(N)){var B=this.getNodeObject(b[parseInt(D.toString(),10)]);p.push(B)}}switch(i){case"delete":n.length===1?M=d.remove(y,p[0],m.fromTable,m):(w.deletedRecords=p,M=d.saveChanges(w,y,m.fromTable,m)),M.then(function(){return u.deleteSuccess(b)}).catch(function(C){return u.dmFailure(C)});break;case"update":p[0][this.fields.text]=a,M=d.update(y,p[0],m.fromTable,m),M.then(function(){return u.editSucess(s,a,c)}).catch(function(C){return u.dmFailure(C,s,c)});break;case"insert":if(o.length===1)M=d.insert(o[0],m.fromTable,m);else{for(var P=[],D=0,E=o.length;D<E;D++)P.push(o[parseInt(D.toString(),10)]);w.addedRecords=P,M=d.saveChanges(w,y,m.fromTable,m)}M.then(function(){var C=u.getElement(s);u.addSuccess(o,C,l),u.preventExpand=!1}).catch(function(C){return u.dmFailure(C)});break}},t.prototype.deleteSuccess=function(i){for(var n=[],s=0,a=i.length;s<a;s++){var o=this.getElement(i[parseInt(s.toString(),10)]);n.push(this.getNode(o)),!v(o)&&this.removeNode(o)}this.updateInstance(),this.dataType===1&&(this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)),this.triggerEvent("removeNode",n)},t.prototype.editSucess=function(i,n,s){var a=this.getElement(i),o=Et("."+m0,a);this.appendNewText(a,o,n,s)},t.prototype.addSuccess=function(i,n,s){var a=this,o,l=n?n.querySelector("."+ja):null;n&&l&&l.classList.contains(kr)&&n.querySelector("."+Lr)===null?this.renderChildNodes(n,null,function(){o=n.querySelector("."+Lr),a.addGivenNodes(i,n,s,!0,o),a.triggerEvent("addNodes",i)}):(this.addGivenNodes(i,n,s,!0),this.triggerEvent("addNodes",i))},t.prototype.dmFailure=function(i,n,s){n&&this.updatePreviousText(n,s),this.trigger("actionFailure",{error:i})},t.prototype.updatePreviousText=function(i,n){var s=this.getElement(i),a=Et("."+m0,s);this.updateText(s,a,this.oldText,n)},t.prototype.getHierarchicalParentId=function(i,n,s){var a=this,o=n.findIndex(function(u){return u[a.fields.id]&&u[a.fields.id].toString()===i});if(o===-1)for(var l=0;l<n.length;l++){var c=Pe(this.fields.child.toString(),n[parseInt(l.toString(),10)]);if(!v(c))if(o=c.findIndex(function(u){return u[a.fields.id]&&u[a.fields.id].toString()===i}),o===-1)this.getHierarchicalParentId(i,c,s);else{s.push(n[parseInt(l.toString(),10)][this.fields.id].toString()),this.getHierarchicalParentId(n[parseInt(l.toString(),10)][this.fields.id].toString(),this.treeData,s);break}}return s},t.prototype.onPropertyChanged=function(i,n){for(var s=0,a=Object.keys(i);s<a.length;s++){var o=a[s];switch(o){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"dragArea":this.allowDragAndDrop&&(this.dragObj.dragArea=this.dragArea);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){var l=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(l,null),this.isLoaded=!0}this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"allowTextWrap":this.setTextWrap(),this.updateWrap();break;case"checkedNodes":JSON.stringify(n.checkedNodes)!==JSON.stringify(i.checkedNodes)&&this.showCheckBox&&(this.checkedNodes=n.checkedNodes,this.setCheckedNodes(i.checkedNodes));break;case"autoCheck":this.showCheckBox&&(this.autoCheck=i.autoCheck,this.ensureIndeterminate());break;case"cssClass":this.setCssClass(n.cssClass,i.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandedNodes":this.isAnimate=!1,this.setProperties({expandedNodes:[]},!0),this.collapseAll(),this.isInitalExpand=!0,this.setProperties({expandedNodes:v(i.expandedNodes)?[]:i.expandedNodes},!0),this.doExpandAction(),this.isInitalExpand=!1,this.isAnimate=!0;break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),this.expandOnType!=="None"&&!this.disabled&&this.wireExpandOnEvent(!0);break;case"disabled":this.setDisabledMode(),this.dynamicState();break;case"fields":this.isAnimate=!1,this.isFieldChange=!0,this.initialRender=!0,(!this.isReact||this.isReact&&!(this.fields.dataSource instanceof ut))&&(this.element.classList.contains("e-filtering")||(this.DDTTreeData=JSON.parse(JSON.stringify(this.fields.dataSource))),this.reRenderNodes()),this.initialRender=!1,this.isAnimate=!0,this.isFieldChange=!1;break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect),this.allowTextWrap&&(this.setTextWrap(),this.updateWrap());break;case"loadOnDemand":if(this.loadOnDemand===!1&&!this.onLoaded){for(var c=this.element.querySelectorAll("li"),u=0;u<c.length;)c[parseInt(u.toString(),10)].getAttribute("aria-expanded")!=="true"&&this.renderChildNodes(c[parseInt(u.toString(),10)],!0,null,!0),u++;this.onLoaded=!0}break;case"nodeTemplate":this.hasTemplate=!1,this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:i.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"checkDisabledChildren":this.reRenderNodes();break;case"sortOrder":this.reRenderNodes();break;case"fullRowNavigable":this.setProperties({fullRowNavigable:i.fullRowNavigable},!0),this.listBaseOption.itemNavigable=i.fullRowNavigable,this.reRenderNodes();break}}},t.prototype.destroy=function(){this.clearTemplate(),this.element.removeAttribute("aria-activedescendant"),this.unWireEvents(),this.wireEditingEvents(!1),this.disabled||(this.rippleFn(),this.rippleIconFn()),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.ulElement&&this.ulElement.parentElement&&this.ulElement.parentElement.removeChild(this.ulElement),this.ulElement=null,this.liList=null,this.startNode=null,this.firstTap=null,this.expandArgs=null,this.dragLi=null,this.dragTarget=null,this.dragParent=null,this.dragObj=null,this.dropObj=null,this.inputObj=null,this.touchEditObj=null,this.touchExpandObj=null,this.touchClickObj=null,r.prototype.destroy.call(this)},t.prototype.addNodes=function(i,n,s,a){if(!v(i)){i=JSON.parse(JSON.stringify(i));var o=this.getElement(n);if(this.preventExpand=a,this.fields.dataSource instanceof ut)this.isOffline?this.addSuccess(i,o,s):this.crudOperation("insert",null,n,null,i,s,this.preventExpand);else if(this.dataType===2)this.addGivenNodes(i,o,s);else{if(o)this.addGivenNodes(i,o,s);else{i=this.getSortedData(i);for(var l=0;l<i.length;l++){var c=Pe(this.fields.parentID,i[parseInt(l.toString(),10)]);o=c&&this.getElement(c.toString()),!v(c)&&v(o)&&(this.isHiddenItem=!0,this.preventExpand=!1,this.ensureVisible(c),this.preventExpand=a,this.isHiddenItem=!1,o=this.getElement(c.toString())),this.addGivenNodes([i[parseInt(l.toString(),10)]],o,s)}}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}var u=Et("."+Hi+'[tabindex="0"]',this.element);v(u)&&this.setNodeFocusable(),this.updateCheckedStateFromDS(),this.showCheckBox&&o&&this.ensureParentCheckState(o),this.fields.dataSource instanceof ut||(this.preventExpand=!1,this.triggerEvent("addNodes",i))}},t.prototype.beginEdit=function(i){var n=this.getElement(i);v(n)||this.disabled||this.createTextbox(n)},t.prototype.checkAll=function(i){this.showCheckBox&&this.doCheckBoxAction(i,!0)},t.prototype.collapseAll=function(i,n,s){v(i)?n>0?this.collapseByLevel(Et("."+Lr,this.element),n,s):this.collapseAllNodes(s):this.doGivenAction(i,gs,!1)},t.prototype.disableNodes=function(i){v(i)||this.doDisableAction(i)},t.prototype.enableNodes=function(i){v(i)||this.doEnableAction(i)},t.prototype.ensureVisible=function(i){var n=[];if(this.dataType===1)for(var s=this.getTreeData(i);s.length!==0&&!v(s[0][this.fields.parentID]);)n.push(s[0][this.fields.parentID].toString()),s=this.getTreeData(s[0][this.fields.parentID].toString());else this.dataType===2&&(n=this.getHierarchicalParentId(i,this.treeData,n));this.expandAll(n.reverse(),null,null,this.isHiddenItem);var a=this.getElement(i);if(!v(a)){if(typeof i=="object"){var o=this.parents(a,"."+Hi);this.expandAll(o)}setTimeout(function(){a.scrollIntoView({behavior:"smooth"})},450)}},t.prototype.expandAll=function(i,n,s,a){this.isAnimate=!a,v(i)?n>0?this.expandByLevel(Et("."+Lr,this.element),n,s):(this.expandAllNodes(s),(!this.loadOnDemand||this.element.classList.contains("e-filtering"))&&(this.updateAttributes(this.element),this.updateList())):this.doGivenAction(i,kr,!0),this.isAnimate=!0},t.prototype.getAllCheckedNodes=function(){var i=this.checkedNodes;return i},t.prototype.getDisabledNodes=function(){var i=this.disableNode;return i},t.prototype.getNode=function(i){var n=this.getElement(i);return this.getNodeData(n,!0)},t.prototype.getTreeData=function(i){var n=this.getId(i);if(this.updatePersistProp(),v(n))return this.treeData;var s=this.getNodeObject(n);return v(s)?[]:[s]},t.prototype.moveNodes=function(i,n,s,a){if(!(v(i)||i.length===0)){var o=this.getElement(n),l=[];v(o)&&(this.isHiddenItem=!0,this.ensureVisible(n),this.isHiddenItem=!1,o=this.getElement(n));for(var c=0;c<i.length;c++){var u=this.getElement(i[parseInt(c.toString(),10)]);l.push(this.getNode(u)),!(v(u)||o.isSameNode(u)||this.isDescendant(u,o))&&(this.preventExpand=a,this.dropAsChildNode(u,o,this,s,null,null,null,o))}this.fields.dataSource instanceof ut||(this.preventExpand=!1),this.triggerEvent("moveNodes",l)}},t.prototype.refreshNode=function(i,n){if(!(v(i)||v(n))){var s=!1;if(this.dataType===1&&n.length>1)s=!0;else if(this.dataType===2&&n.length===1){var a=Pe(this.fields.child.toString(),n[0]);v(a)||(s=!0)}var o=this.getElement(i),l=o?o.getAttribute("data-uid"):i?i.toString():null;this.refreshData=this.getNodeObject(l),n=JSON.parse(JSON.stringify(n));var c,u;if(this.dataType===1&&s){for(var d=0;d<n.length;d++)if(v(n[parseInt(d.toString(),10)][this.fields.parentID])){u=n[parseInt(d.toString(),10)],n.splice(d,1);break}c=qe({},this.refreshData,u)}else c=qe({},this.refreshData,n[0]);if(v(o)){this.updatePosition(l,c,s,n);return}this.isRefreshed=!0;var p=parseFloat(o.getAttribute("aria-level")),m=en.createListItemFromJson(this.createElement,[c],this.listBaseOption,p),y=Et("."+Lr,o),M=Pe(this.fields.child.toString(),c);if(s&&y||s&&!v(M)){var w=o.parentElement,b=Array.prototype.indexOf.call(w.childNodes,o);ji(o),w.insertBefore(m[0],w.childNodes[parseInt(b.toString(),10)]),this.updatePosition(l,c,s,n),s&&y&&this.expandAll([l])}else{var D=Et("."+io,o),E=Et("."+io,m[0]),N=Et("div."+ja,D),B=Et("div."+ja,E);N&&B&&(B.classList.contains(kr)&&N.classList.contains(gs)?(Oe([B],kr),pe([B],gs)):B.classList.contains(gs)&&N.classList.contains(kr)?(Oe([B],gs),pe([B],kr)):N.classList.contains("interaction")&&pe([B],"interaction")),ji(D);var P=Et("."+rp,o);P.parentNode.insertBefore(E,P.nextSibling),this.updatePosition(l,c,s,n)}if(o=this.getElement(i),c[this.fields.tooltip]&&o.setAttribute("title",c[this.fields.tooltip]),Object.prototype.hasOwnProperty.call(c,this.fields.htmlAttributes)&&c[this.fields.htmlAttributes]){var C={};sd(C,c[this.fields.htmlAttributes]),C.class?(pe([o],C.class.split(" ")),delete C.class):Ht(o,C)}this.selectedNodes.indexOf(l)!==-1&&(o.setAttribute("aria-selected","true"),pe([o],Vo)),this.isRefreshed=!1,this.triggerEvent("refreshNode",[this.getNode(o)])}},t.prototype.removeNodes=function(i){v(i)||(this.fields.dataSource instanceof ut&&!this.isOffline?this.crudOperation("delete",i):this.deleteSuccess(i))},t.prototype.updateNode=function(i,n){var s=this;if(!(v(i)||v(n)||!this.allowEditing)){var a=this.getElement(i);if(!v(a)){var o=Et("."+m0,a);this.updateOldText(a);var l=this.getEditEvent(a,null,null);this.trigger("nodeEditing",l,function(c){c.cancel||(s.fields.dataSource instanceof ut&&!s.isOffline?s.crudOperation("update",null,i,n,null,null,!1):s.appendNewText(a,o,n,!1))})}}},t.prototype.uncheckAll=function(i){this.showCheckBox&&this.checkedNodes.length>0&&this.doCheckBoxAction(i,!1)},t.prototype.setNodeFocusable=function(){var i=Et("."+Hi,this.element);i&&(i.setAttribute("tabindex","0"),this.updateIdAttr(null,i))};var e;return Ti([ee(!1)],t.prototype,"allowDragAndDrop",void 0),Ti([ee(!1)],t.prototype,"allowEditing",void 0),Ti([ee(!1)],t.prototype,"allowMultiSelection",void 0),Ti([ee(!1)],t.prototype,"allowTextWrap",void 0),Ti([Yn({},Xxe)],t.prototype,"animation",void 0),Ti([ee()],t.prototype,"checkedNodes",void 0),Ti([ee(!0)],t.prototype,"checkDisabledChildren",void 0),Ti([ee("")],t.prototype,"cssClass",void 0),Ti([ee(!1)],t.prototype,"disabled",void 0),Ti([ee(null)],t.prototype,"dragArea",void 0),Ti([ee(!0)],t.prototype,"enableHtmlSanitizer",void 0),Ti([ee(!1)],t.prototype,"enablePersistence",void 0),Ti([ee()],t.prototype,"expandedNodes",void 0),Ti([ee("Auto")],t.prototype,"expandOn",void 0),Ti([Yn({},$xe)],t.prototype,"fields",void 0),Ti([ee(!0)],t.prototype,"fullRowSelect",void 0),Ti([ee(!0)],t.prototype,"loadOnDemand",void 0),Ti([ee()],t.prototype,"locale",void 0),Ti([ee()],t.prototype,"nodeTemplate",void 0),Ti([ee()],t.prototype,"selectedNodes",void 0),Ti([ee("None")],t.prototype,"sortOrder",void 0),Ti([ee(!1)],t.prototype,"showCheckBox",void 0),Ti([ee(!1)],t.prototype,"checkOnClick",void 0),Ti([ee(!0)],t.prototype,"autoCheck",void 0),Ti([ee(!1)],t.prototype,"fullRowNavigable",void 0),Ti([Xe()],t.prototype,"actionFailure",void 0),Ti([Xe()],t.prototype,"created",void 0),Ti([Xe()],t.prototype,"dataBound",void 0),Ti([Xe()],t.prototype,"dataSourceChanged",void 0),Ti([Xe()],t.prototype,"drawNode",void 0),Ti([Xe()],t.prototype,"destroyed",void 0),Ti([Xe()],t.prototype,"keyPress",void 0),Ti([Xe()],t.prototype,"nodeChecked",void 0),Ti([Xe()],t.prototype,"nodeChecking",void 0),Ti([Xe()],t.prototype,"nodeClicked",void 0),Ti([Xe()],t.prototype,"nodeCollapsed",void 0),Ti([Xe()],t.prototype,"nodeCollapsing",void 0),Ti([Xe()],t.prototype,"nodeDragging",void 0),Ti([Xe()],t.prototype,"nodeDragStart",void 0),Ti([Xe()],t.prototype,"nodeDragStop",void 0),Ti([Xe()],t.prototype,"nodeDropped",void 0),Ti([Xe()],t.prototype,"nodeEdited",void 0),Ti([Xe()],t.prototype,"nodeEditing",void 0),Ti([Xe()],t.prototype,"nodeExpanded",void 0),Ti([Xe()],t.prototype,"nodeExpanding",void 0),Ti([Xe()],t.prototype,"nodeSelected",void 0),Ti([Xe()],t.prototype,"nodeSelecting",void 0),t=e=Ti([$n],t),t})(Dl),sK=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Fs=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},oh="e-other-month",$2="e-other-year",dM="e-calendar",EU="e-device",Zxe="e-header",AU="e-rtl",eMe="e-content",tMe="e-calendar-content-table",X2="e-year",J2="e-month",SU="e-decade",NU="e-icons",iMe="e-prev",rMe="e-next",nMe="e-date-icon-prev",sMe="e-date-icon-next ",aMe="e-icon-container",vs="e-disabled",_m="e-overlay",oMe="e-weekend",fM="e-week-number",Wo="e-selected",qc="e-focused-date",v0="e-focused-cell",ZD="e-month-hide",IU="e-today",lMe="e-title",CU="e-day",OU="e-cell",cMe="e-week-header",eE="e-zoomin",uMe="e-footer-container",hMe="e-btn",dMe="e-flat",fMe="e-css",pMe="e-primary",kU="e-calendar-day-header-lg",Z2=864e5,mMe=6e4,gMe=(function(r){sK(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.effect="",n.isPopupClicked=!1,n.isDateSelected=!0,n.isTodayClicked=!1,n.preventChange=!1,n.previousDates=!1,n}return t.prototype.render=function(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),this.calendarMode==="Islamic"&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1941,12,18)),+this.max==+new Date(2099,11,31)&&(this.max=new Date(2068,2,4))),this.globalize=new Ns(this.locale),(v(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date(new Date().setHours(0,0,0,0)),this.getModuleName()==="calendar"?(this.element.classList.add(dM),this.enableRtl&&this.element.classList.add(AU),Re.isDevice&&this.element.classList.add(EU),Ht(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(dM),this.enableRtl&&this.calendarElement.classList.add(AU),Re.isDevice&&this.calendarElement.classList.add(EU),Ht(this.calendarElement,{"data-role":"calendar"})),!v(Fe(this.element,"fieldset"))&&Fe(this.element,"fieldset").disabled&&(this.enabled=!1),this.createHeader(),this.createContent(),this.wireEvents()},t.prototype.rangeValidation=function(e,i){v(e)&&this.setProperties({min:new Date(1900,0,1)},!0),v(i)&&this.setProperties({max:new Date(2099,11,31)},!0)},t.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultKeyConfigs},t.prototype.validateDate=function(e){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date(new Date().setHours(0,0,0,0)),!v(e)&&this.min<=this.max&&e>=this.min&&e<=this.max&&(this.currentDate=new Date(this.checkValue(e)))},t.prototype.setOverlayIndex=function(e,i,n,s){if(s&&!v(i)&&!v(n)&&!v(e)){var a=parseInt(i.style.zIndex,10)?parseInt(i.style.zIndex,10):1e3;n.style.zIndex=(a-1).toString(),e.style.zIndex=a.toString()}},t.prototype.minMaxUpdate=function(e){this.min=v(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=v(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max?Oe([this.element],_m):(this.setProperties({min:this.min},!0),pe([this.element],_m)),+this.min<=+this.max&&e&&+e<=+this.max&&+e>=+this.min?this.currentDate=new Date(this.checkValue(e)):+this.min<=+this.max&&!e&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))},t.prototype.createHeader=function(){var e={"aria-disabled":"false","aria-label":"previous month"},i={"aria-disabled":"false","aria-label":"next month"},n={"aria-atomic":"true","aria-live":"assertive"},s={tabindex:"0"};this.headerElement=this.createElement("div",{className:Zxe});var a=this.createElement("div",{className:aMe});this.previousIcon=this.createElement("button",{className:""+iMe,attrs:{type:"button"}}),ed(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),Ht(this.previousIcon,e),Ht(this.previousIcon,s),this.nextIcon=this.createElement("button",{className:""+rMe,attrs:{type:"button"}}),ed(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),this.getModuleName()==="daterangepicker"&&(Ht(this.previousIcon,{tabIndex:"-1"}),Ht(this.nextIcon,{tabIndex:"-1"})),Ht(this.nextIcon,i),Ht(this.nextIcon,s),this.headerTitleElement=this.createElement("div",{className:""+CU+" "+lMe}),Ht(this.headerTitleElement,n),Ht(this.headerTitleElement,s),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:""+nMe+" "+NU})),this.nextIcon.appendChild(this.createElement("span",{className:""+sMe+" "+NU})),a.appendChild(this.previousIcon),a.appendChild(this.nextIcon),this.headerElement.appendChild(a),this.getModuleName()==="calendar"?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement),this.adjustLongHeaderSize()},t.prototype.createContent=function(){this.contentElement=this.createElement("div",{className:eMe}),this.table=this.createElement("table",{attrs:{class:tMe,tabIndex:"0",role:"grid","aria-activedescendant":"","aria-labelledby":this.element.id}}),this.getModuleName()==="calendar"?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter(),this.getModuleName()!=="daterangepicker"&&(se.add(this.table,"focus",this.addContentFocus,this),se.add(this.table,"blur",this.removeContentFocus,this))},t.prototype.addContentFocus=function(e){var i=this.tableBodyElement.querySelector("tr td.e-focused-date"),n=this.tableBodyElement.querySelector("tr td.e-selected");v(n)?v(i)||i.classList.add(v0):n.classList.add(v0)},t.prototype.removeContentFocus=function(e){var i=v(this.tableBodyElement)?null:this.tableBodyElement.querySelector("tr td.e-focused-date"),n=v(this.tableBodyElement)?null:this.tableBodyElement.querySelector("tr td.e-selected");v(n)?v(i)||i.classList.remove(v0):n.classList.remove(v0)},t.prototype.getCultureValues=function(){var e=[],i,n=v(this.dayHeaderFormat)?null:"days.stand-alone."+this.dayHeaderFormat.toLowerCase();if((this.locale==="en"||this.locale==="en-US")&&!v(n)?i=Pe(n,yl()):i=this.getCultureObjects(ws,""+this.locale),!v(i))for(var s=0,a=Object.keys(i);s<a.length;s++){var o=a[s];e.push(Pe(o,i))}return e},t.prototype.toCapitalize=function(e){return!v(e)&&e.length?e[0].toUpperCase()+e.slice(1):e},t.prototype.createContentHeader=function(){this.getModuleName()==="calendar"?v(this.element.querySelectorAll(".e-content .e-week-header")[0])||zt(this.element.querySelectorAll(".e-content .e-week-header")[0]):v(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||zt(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);var e=6,i="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:cMe}),this.weekNumber&&(i+='<th class="e-week-number" aria-hidden="true"></th>',this.getModuleName()==="calendar"?pe([this.element],""+fM):pe([this.calendarElement],""+fM));var n=this.getCultureValues().length>0&&this.getCultureValues()?this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek):null;if(!v(n))for(var s=0;s<=e;s++)i+='<th  class="">'+this.toCapitalize(n[s])+"</th>";i="<tr>"+i+"</tr>",this.tableHeadElement.innerHTML=i,this.table.appendChild(this.tableHeadElement)},t.prototype.createContentBody=function(){switch(this.getModuleName()==="calendar"?v(this.element.querySelectorAll(".e-content tbody")[0])||zt(this.element.querySelectorAll(".e-content tbody")[0]):v(this.calendarElement.querySelectorAll(".e-content tbody")[0])||zt(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}},t.prototype.updateFooter=function(){this.todayElement.textContent=this.l10.getConstant("today"),this.todayElement.setAttribute("aria-label",this.l10.getConstant("today")),this.todayElement.setAttribute("tabindex","0")},t.prototype.createContentFooter=function(){if(this.showTodayButton){var e=new Date(+this.min),i=new Date(+this.max),n={today:"Today"};this.globalize=new Ns(this.locale),this.l10=new Ql(this.getModuleName(),n,this.locale),this.todayElement=this.createElement("button",{attrs:{role:"button"}}),ed(this.todayElement),this.updateFooter(),pe([this.todayElement],[hMe,IU,dMe,pMe,fMe]),(!(+new Date(e.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(i.setHours(0,0,0,0)))||this.todayDisabled)&&pe([this.todayElement],vs),this.footer=this.createElement("div",{className:uMe}),this.footer.appendChild(this.todayElement),this.getModuleName()==="calendar"&&this.element.appendChild(this.footer),this.getModuleName()==="datepicker"&&this.calendarElement.appendChild(this.footer),this.getModuleName()==="datetimepicker"&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains(vs)||se.add(this.todayElement,"click",this.todayButtonClick,this)}},t.prototype.wireEvents=function(e,i,n,s){se.add(this.headerTitleElement,"click",this.navigateTitle,this),this.defaultKeyConfigs=qe(this.defaultKeyConfigs,this.keyConfigs),this.getModuleName()==="calendar"?this.keyboardModule=new Yl(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}):this.keyboardModule=new Yl(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.dateWireEvents=function(e,i,n,s){this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=qe(this.defaultKeyConfigs,n),this.serverModuleName=s},t.prototype.todayButtonClick=function(e,i,n){this.showTodayButton&&(this.currentView()===this.depth?this.effect="":this.effect="e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(i)),n):this.navigateTo("Month",new Date(this.checkValue(i)),n))},t.prototype.resetCalendar=function(){this.calendarElement&&zt(this.calendarElement),this.tableBodyElement&&zt(this.tableBodyElement),this.table&&zt(this.table),this.tableHeadElement&&zt(this.tableHeadElement),this.nextIcon&&zt(this.nextIcon),this.previousIcon&&zt(this.previousIcon),this.footer&&zt(this.footer),this.todayElement=null,this.renderDayCellArgs=null,this.calendarElement=this.tableBodyElement=this.footer=this.tableHeadElement=this.nextIcon=this.previousIcon=this.table=null},t.prototype.keyActionHandle=function(e,i,n){if(!(this.calendarElement===null&&e.action==="escape")){var s=this.tableBodyElement.querySelector("tr td.e-focused-date"),a;n?!v(s)&&+i===parseInt(s.getAttribute("id").split("_")[0],10)?a=s:a=this.tableBodyElement.querySelector("tr td.e-selected"):a=this.tableBodyElement.querySelector("tr td.e-selected");var o=this.getViewNumber(this.currentView()),l=this.getViewNumber(this.depth),c=o===l&&this.getViewNumber(this.start)>=l;switch(this.effect="",e.action){case"moveLeft":this.getModuleName()!=="daterangepicker"&&!v(e.target)&&(this.keyboardNavigate(-1,o,e,this.max,this.min),e.preventDefault());break;case"moveRight":this.getModuleName()!=="daterangepicker"&&!v(e.target)&&(this.keyboardNavigate(1,o,e,this.max,this.min),e.preventDefault());break;case"moveUp":this.getModuleName()!=="daterangepicker"&&!v(e.target)&&(o===0?this.keyboardNavigate(-7,o,e,this.max,this.min):this.keyboardNavigate(-4,o,e,this.max,this.min),e.preventDefault());break;case"moveDown":this.getModuleName()!=="daterangepicker"&&!v(e.target)&&(o===0?this.keyboardNavigate(7,o,e,this.max,this.min):this.keyboardNavigate(4,o,e,this.max,this.min),e.preventDefault());break;case"select":if(e.target===this.headerTitleElement)this.navigateTitle(e);else if(e.target===this.previousIcon&&!e.target.className.includes(vs))this.navigatePrevious(e);else if(e.target===this.nextIcon&&!e.target.className.includes(vs))this.navigateNext(e);else if(e.target===this.todayElement&&!e.target.className.includes(vs))this.todayButtonClick(e,i),(this.getModuleName()==="datepicker"||this.getModuleName()==="datetimepicker")&&(this.isAngular?this.inputElement.focus():this.element.focus());else{var u=v(s)?a:s;if(!v(u)&&!u.classList.contains(vs))if(c){var d=new Date(parseInt(""+u.id,0));this.selectDate(e,d,u),(this.getModuleName()==="datepicker"||this.getModuleName()==="datetimepicker")&&(this.isAngular?this.inputElement.focus():this.element.focus())}else e.target.className.includes(vs)||this.contentClick(null,--o,u,i)}break;case"controlUp":this.title(),e.preventDefault();break;case"controlDown":(!v(s)&&!c||!v(a)&&!c)&&this.contentClick(null,--o,s||a,i),e.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),zt(this.tableBodyElement),o===0?this.renderMonths(e):o===1?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,o),zt(this.tableBodyElement),o===0?this.renderMonths(e):o===1?this.renderYears(e):this.renderDecades(e),e.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),e.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),e.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),e.preventDefault();break;case"tab":(this.getModuleName()==="datepicker"||this.getModuleName()==="datetimepicker")&&e.target===this.todayElement&&(e.preventDefault(),this.isAngular?this.inputElement.focus():this.element.focus(),this.hide());break;case"shiftTab":(this.getModuleName()==="datepicker"||this.getModuleName()==="datetimepicker")&&e.target===this.headerTitleElement&&(e.preventDefault(),this.isAngular?this.inputElement.focus():this.element.focus(),this.hide());break;case"escape":(this.getModuleName()==="datepicker"||this.getModuleName()==="datetimepicker")&&(e.target===this.headerTitleElement||e.target===this.previousIcon||e.target===this.nextIcon||e.target===this.todayElement)&&this.hide();break}}},t.prototype.keyboardNavigate=function(e,i,n,s,a){var o=new Date(this.checkValue(this.currentDate));switch(i){case 2:this.addYears(this.currentDate,e),this.isMonthYearRange(this.currentDate)?(zt(this.tableBodyElement),this.renderDecades(n)):this.currentDate=o;break;case 1:this.addMonths(this.currentDate,e),this.calendarMode==="Gregorian"?this.isMonthYearRange(this.currentDate)?(zt(this.tableBodyElement),this.renderYears(n)):this.currentDate=o:this.isMonthYearRange(this.currentDate)?(zt(this.tableBodyElement),this.renderYears(n)):this.currentDate=o;break;case 0:this.addDay(this.currentDate,e,n,s,a),this.isMinMaxRange(this.currentDate)?(zt(this.tableBodyElement),this.renderMonths(n)):this.currentDate=o;break}},t.prototype.preRender=function(e){var i=this;this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.navigateHandler=function(n){i.triggerNavigate(n)}},t.prototype.minMaxDate=function(e){var i=new Date(new Date(+e).setHours(0,0,0,0)),n=new Date(new Date(+this.min).setHours(0,0,0,0)),s=new Date(new Date(+this.max).setHours(0,0,0,0));return(+i==+n||+i==+s)&&(+e<+this.min&&(e=new Date(+this.min)),+e>+this.max&&(e=new Date(+this.max))),e},t.prototype.renderMonths=function(e,i,n){var s=this.weekNumber?8:7,a;this.calendarMode==="Gregorian"?a=this.renderDays(this.currentDate,i,null,null,n,e):a=v(this.islamicModule)?null:this.islamicModule.islamicRenderDays(this.currentDate,i),this.createContentHeader(),this.calendarMode==="Gregorian"?this.renderTemplate(a,s,J2,e,i):v(this.islamicModule)||this.islamicModule.islamicRenderTemplate(a,s,J2,e,i)},t.prototype.renderDays=function(e,i,n,s,a,o){var l=[],c=42,u=a?new Date(+e):this.getDate(new Date,this.timezone),d=new Date(this.checkValue(e)),p,m=d.getMonth();this.titleUpdate(e,"days");var y=d;for(d=new Date(y.getFullYear(),y.getMonth(),0,y.getHours(),y.getMinutes(),y.getSeconds(),y.getMilliseconds());d.getDay()!==this.firstDayOfWeek;)this.setStartDate(d,-1*Z2);for(var M=0;M<c;++M){var w=this.createElement("td",{className:OU}),b=this.createElement("span");if(M%7===0&&this.weekNumber){var D=this.weekRule==="FirstDay"?6:this.weekRule==="FirstFourDayWeek"?3:0,E=new Date(d.getFullYear(),d.getMonth(),d.getDate()+D);b.textContent=""+this.getWeek(E),w.appendChild(b),pe([w],""+fM),l.push(w)}p=new Date(+d),d=this.minMaxDate(d);var N={type:"dateTime",skeleton:"full"},B=this.globalize.parseDate(this.globalize.formatDate(d,N),N),P=this.dayCell(d),C=this.globalize.formatDate(d,{type:"date",skeleton:"full"}),k=this.createElement("span");k.textContent=this.globalize.formatDate(d,{format:"d",type:"date",skeleton:"yMd"});var _=this.min>d||this.max<d;_?(pe([P],vs),pe([P],_m)):k.setAttribute("title",""+C),m!==d.getMonth()&&(pe([P],oh),k.setAttribute("aria-disabled","true")),(d.getDay()===0||d.getDay()===6)&&pe([P],oMe),P.appendChild(k),this.renderDayCellArgs={date:d,isDisabled:!1,element:P,isOutOfRange:_};var H=this.renderDayCellArgs;if(this.renderDayCellEvent(H),H.isDisabled){var j=new Date(this.checkValue(i)),z=new Date(this.checkValue(H.date));if(n){if(!v(s)&&s.length>0)for(var F=0;F<s.length;F++){var X=+new Date(this.globalize.formatDate(H.date,{type:"date",skeleton:"yMd"})),J=+new Date(this.globalize.formatDate(s[F],{type:"date",skeleton:"yMd"}));X===J&&(s.splice(F,1),F=-1)}}else j&&+j==+z&&this.setProperties({value:null},!0)}this.renderDayCellArgs.isDisabled&&!P.classList.contains(Wo)&&(pe([P],vs),pe([P],_m),k.setAttribute("aria-disabled","true"),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));var U=P.classList.contains(oh),W=P.classList.contains(vs);W||se.add(P,"click",this.clickHandler,this);var re=void 0;if(!v(o)&&o.type==="click"&&(re=o.currentTarget),n&&!v(s)&&!W){for(var Z=0;Z<s.length;Z++){var Ee=this.calendarMode==="Gregorian"?"gregorian":"islamic",ae={format:null,type:"date",skeleton:"short",calendar:Ee},X=this.globalize.formatDate(d,ae),J=this.globalize.formatDate(s[Z],ae);if((X===J&&this.getDateVal(d,s[Z])||this.getDateVal(d,i))&&pe([P],Wo),!v(re)&&re.innerText===P.innerText&&this.previousDates&&P.classList.contains(Wo)&&re.classList.contains(Wo)){Oe([P],Wo),this.previousDates=!1;for(var L=this.copyValues(s),Y=0;Y<L.length;Y++){var G=this.calendarMode==="Gregorian"?"gregorian":"islamic",Q={format:null,type:"date",skeleton:"short",calendar:G},te=this.globalize.formatDate(B,Q),le=this.globalize.formatDate(L[Y],Q);if(te===le){var F=L.indexOf(L[Y]);L.splice(F,1),s.splice(F,1)}}this.setProperties({values:L},!0)}else this.updateFocus(U,W,d,P,e)}s.length<=0&&this.updateFocus(U,W,d,P,e)}else!W&&this.getDateVal(d,i)&&pe([P],Wo);this.updateFocus(U,W,d,P,e),!v(B)&&B.getFullYear()===u.getFullYear()&&B.getMonth()===u.getMonth()&&B.getDate()===u.getDate()&&pe([P],IU),l.push(this.renderDayCellArgs.element),d=new Date(+p),this.addDay(d,1,null,this.max,this.min)}return l},t.prototype.updateFocus=function(e,i,n,s,a){a.getDate()===n.getDate()&&!e&&!i?pe([s],qc):(a>=this.max&&parseInt(s.id,0)===+this.max&&!e&&!i&&pe([s],qc),a<=this.min&&parseInt(s.id,0)===+this.min&&!e&&!i&&pe([s],qc))},t.prototype.renderYears=function(e,i){this.removeTableHeadElement();var n=4,s=[],a=v(i),o=new Date(this.checkValue(this.currentDate)),l=o.getMonth(),c=o.getFullYear(),u=o,d=u.getFullYear(),p=new Date(this.checkValue(this.min)).getFullYear(),m=new Date(this.checkValue(this.min)).getMonth(),y=new Date(this.checkValue(this.max)).getFullYear(),M=new Date(this.checkValue(this.max)).getMonth();u.setMonth(0),this.titleUpdate(this.currentDate,"months"),u.setDate(1);for(var w=0;w<12;++w){var b=this.dayCell(u),D=this.createElement("span"),E=i&&i.getMonth()===u.getMonth(),N=i&&i.getFullYear()===c&&E,B=this.globalize.formatDate(u,{type:"date",format:"MMM y"});D.textContent=this.toCapitalize(this.globalize.formatDate(u,{format:null,type:"dateTime",skeleton:"MMM"})),this.min&&(d<p||w<m&&d===p)||this.max&&(d>y||w>M&&d>=y)?pe([b],vs):!a&&N?pe([b],Wo):u.getMonth()===l&&this.currentDate.getMonth()===l&&pe([b],qc),u.setDate(1),u.setMonth(u.getMonth()+1),b.classList.contains(vs)||(se.add(b,"click",this.clickHandler,this),D.setAttribute("title",""+B)),b.appendChild(D),s.push(b)}this.renderTemplate(s,n,X2,e,i)},t.prototype.renderDecades=function(e,i){this.removeTableHeadElement();var n=4,s=12,a=[],o=new Date(this.checkValue(this.currentDate));o.setMonth(0),o.setDate(1);var l=o.getFullYear(),c=new Date(o.setFullYear(l-l%10)),u=new Date(o.setFullYear(l-l%10+9)),d=c.getFullYear(),p=u.getFullYear(),m=this.globalize.formatDate(c,{format:null,type:"dateTime",skeleton:"y"}),y=this.globalize.formatDate(u,{format:null,type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=m+" - "+y;for(var M=new Date(l-l%10-1,0,1),w=M.getFullYear(),b=0;b<s;++b){var D=w+b;o.setFullYear(D);var E=this.dayCell(o),N=this.createElement("span");N.textContent=this.globalize.formatDate(o,{format:null,type:"dateTime",skeleton:"y"}),D<d||D>p?(pe([E],$2),N.setAttribute("aria-disabled","true"),!v(i)&&o.getFullYear()===i.getFullYear()&&pe([E],Wo),(D<new Date(this.checkValue(this.min)).getFullYear()||D>new Date(this.checkValue(this.max)).getFullYear())&&pe([E],vs)):D<new Date(this.checkValue(this.min)).getFullYear()||D>new Date(this.checkValue(this.max)).getFullYear()?pe([E],vs):!v(i)&&o.getFullYear()===i.getFullYear()?pe([E],Wo):o.getFullYear()===this.currentDate.getFullYear()&&!E.classList.contains(vs)&&pe([E],qc),E.classList.contains(vs)||(se.add(E,"click",this.clickHandler,this),N.setAttribute("title",""+N.textContent)),E.appendChild(N),a.push(E)}this.renderTemplate(a,n,"e-decade",e,i)},t.prototype.dayCell=function(e){var i=this.calendarMode==="Gregorian"?"gregorian":"islamic",n={skeleton:"full",type:"dateTime",calendar:i},s=this.globalize.parseDate(this.globalize.formatDate(e,n),n),a;v(s)||(a=s.valueOf());var o={className:OU,attrs:{id:""+Ha(""+a)}};return this.createElement("td",o)},t.prototype.firstDay=function(e){var i=this.currentView()!=="Decade"?this.tableBodyElement.querySelectorAll("td:not(."+oh+"):not(."+fM+")"):this.tableBodyElement.querySelectorAll("td:not(."+$2);if(i.length){for(var n=0;n<i.length;n++)if(!i[n].classList.contains(vs)){e=new Date(parseInt(i[n].id,0));break}}return e},t.prototype.lastDay=function(e,i){var n=new Date(e.getFullYear(),e.getMonth()+1,0);if(i!==2){var s=Math.abs(n.getTimezoneOffset()-this.firstDay(e).getTimezoneOffset());return s&&n.setHours(this.firstDay(e).getHours()+s/60),this.findLastDay(n)}else return this.findLastDay(this.firstDay(n))},t.prototype.checkDateValue=function(e){return!v(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.findLastDay=function(e){var i=this.currentView()==="Decade"?this.tableBodyElement.querySelectorAll("td:not(."+$2):this.tableBodyElement.querySelectorAll("td:not(."+oh+"):not(."+fM+")");if(i.length){for(var n=i.length-1;n>=0;n--)if(!i[n].classList.contains(vs)){e=new Date(parseInt(i[n].id,0));break}}return e},t.prototype.removeTableHeadElement=function(){this.getModuleName()==="calendar"?v(this.element.querySelectorAll(".e-content table thead")[0])||zt(this.tableHeadElement):v(this.calendarElement.querySelectorAll(".e-content table thead")[0])||zt(this.tableHeadElement)},t.prototype.renderTemplate=function(e,i,n,s,a){var o=this.getViewNumber(this.currentView()),l;this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),Oe([this.contentElement,this.headerElement],[J2,SU,X2]),pe([this.contentElement,this.headerElement],[n]);for(var c=41,u=35,d=6,p=i,m=0,y=0;y<e.length/i;++y){for(l=this.createElement("tr"),m=0+m;m<p;m++)!e[m].classList.contains("e-week-number")&&!v(e[m].children[0])&&(pe([e[m].children[0]],[CU]),ed(e[m].children[0],{duration:600,isCenterRipple:!0})),l.appendChild(e[m]),this.weekNumber&&m===d+1&&e[d+1].classList.contains(oh)&&pe([l],ZD),!this.weekNumber&&m===d&&e[d].classList.contains(oh)&&pe([l],ZD),this.weekNumber?m===c&&e[c].classList.contains(oh)&&pe([l],ZD):m===u&&e[u].classList.contains(oh)&&pe([l],ZD);p=p+i,m=m+0,this.tableBodyElement.appendChild(l)}this.table.querySelector("tbody").className=this.effect,this.calendarMode==="Gregorian"?this.iconHandler():this.islamicModule.islamicIconHandler(),(o!==this.getViewNumber(this.currentView())||o===0&&o!==this.getViewNumber(this.currentView()))&&this.navigateHandler(s),this.setAriaActiveDescendant()},t.prototype.clickHandler=function(e,i){this.clickEventEmitter(e);var n=e.currentTarget,s=this.getViewNumber(this.currentView());n.classList.contains(oh)?this.contentClick(e,0,null,i):s===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.contentClick(e,1,null,i):s===2?this.contentClick(e,1,null,i):!n.classList.contains(oh)&&s===0?this.selectDate(e,this.getIdValue(e,null),null):this.contentClick(e,0,n,i),this.getModuleName()==="calendar"&&this.table.focus()},t.prototype.clickEventEmitter=function(e){e.preventDefault()},t.prototype.contentClick=function(e,i,n,s){var a=this.getViewNumber(this.currentView()),o=this.getIdValue(e,n);switch(i){case 0:a===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(zt(this.tableBodyElement),this.currentDate=o,this.effect=eE,this.renderMonths(e)):(this.calendarMode==="Gregorian"?(this.currentDate.setMonth(o.getMonth()),o.getMonth()>0&&this.currentDate.getMonth()!==o.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(o.getFullYear())):this.currentDate=o,this.effect=eE,zt(this.tableBodyElement),this.renderMonths(e));break;case 1:if(a===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(e,o,null);else{if(this.calendarMode==="Gregorian")this.currentDate.setFullYear(o.getFullYear());else{this.islamicPreviousHeader=this.headerElement.textContent;var l=this.islamicModule.getIslamicDate(o);this.currentDate=this.islamicModule.toGregorian(l.year,l.month,1)}this.effect=eE,zt(this.tableBodyElement),this.renderYears(e)}}},t.prototype.switchView=function(e,i,n,s){switch(e){case 0:zt(this.tableBodyElement),this.renderMonths(i,null,s);break;case 1:zt(this.tableBodyElement),this.renderYears(i);break;case 2:zt(this.tableBodyElement),this.renderDecades(i)}},t.prototype.getModuleName=function(){return"calendar"},t.prototype.requiredModules=function(){var e=[];return this.calendarMode==="Islamic"&&e.push({args:[this],member:"islamic",name:"Islamic"}),e},t.prototype.getPersistData=function(){var e=["value"];return this.addOnPersist(e)},t.prototype.onPropertyChanged=function(e,i,n,s){this.effect="";for(var a=0,o=Object.keys(e);a<o.length;a++){var l=o[a];switch(l){case"enableRtl":e.enableRtl?this.getModuleName()==="calendar"?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):this.getModuleName()==="calendar"?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"dayHeaderFormat":this.getCultureValues(),this.getModuleName()!=="datepicker"?this.createContentHeader():this.calendarElement&&this.createContentHeader(),this.adjustLongHeaderSize();break;case"min":case"max":this.rangeValidation(this.min,this.max),l==="min"?this.setProperties({min:this.checkDateValue(new Date(this.checkValue(e.min)))},!0):this.setProperties({max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.setProperties({start:this.currentView()},!0),this.tableBodyElement&&zt(this.tableBodyElement),this.minMaxUpdate(),n&&this.validateValues(n,s),this.getModuleName()!=="datepicker"?this.createContentBody():this.calendarElement&&this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(zt(this.todayElement),zt(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(Oe([this.todayElement],vs),zt(this.todayElement),zt(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":case"weekRule":this.checkView(),this.getModuleName()!=="datepicker"?(this.createContentHeader(),this.createContentBody()):this.calendarElement&&(this.createContentHeader(),this.createContentBody());break;case"locale":if(this.globalize=new Ns(this.locale),this.getModuleName()!=="datepicker"?(this.createContentHeader(),this.createContentBody()):this.calendarElement&&(this.createContentHeader(),this.createContentBody()),this.getModuleName()==="calendar"){var c={today:"Today"};this.l10=new Ql(this.getModuleName(),c,this.locale)}this.l10.setLocale(this.locale),this.showTodayButton&&this.updateFooter();break;case"showTodayButton":e.showTodayButton?this.createContentFooter():!v(this.todayElement)&&!v(this.footer)&&(zt(this.todayElement),zt(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:e.showTodayButton},!0);break}}},t.prototype.validateValues=function(e,i){if(e&&!v(i)&&i.length>0){for(var n=this.copyValues(i),s=0;s<n.length;s++){var a=n[s],o=this.calendarMode==="Gregorian"?"gregorian":"islamic",l=void 0,c=void 0,u=void 0;this.calendarMode==="Gregorian"?(l={type:"date",skeleton:"yMd"},c=this.globalize.formatDate(a,l),u=this.globalize.parseDate(c,l)):(l={type:"date",skeleton:"yMd",calendar:"islamic"},c=this.globalize.formatDate(a,l),u=this.globalize.parseDate(c,l));var d={type:"date",skeleton:"yMd",calendar:o},p=this.globalize.formatDate(this.min,d),m=p,y={type:"date",skeleton:"yMd",calendar:o},M=this.globalize.formatDate(this.max,y),w=M,b=this.globalize.parseDate(m,d),D=this.globalize.parseDate(w,y);(+u<+b||+u>+D)&&(n.splice(s,1),s=-1)}this.setProperties({values:n},!0)}},t.prototype.setValueUpdate=function(){v(this.tableBodyElement)||(zt(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody())},t.prototype.copyValues=function(e){var i=[];if(!v(e)&&e.length>0)for(var n=0;n<e.length;n++)i.push(new Date(+e[n]));return i},t.prototype.titleUpdate=function(e,i){var n=new Ns(this.locale),s,a,o=this.calendarMode==="Gregorian"?"gregorian":"islamic";switch(this.calendarMode==="Gregorian"?(s=n.formatDate(e,{type:"dateTime",skeleton:"yMMMM",calendar:o}),a=n.formatDate(e,{format:null,type:"dateTime",skeleton:"y",calendar:o})):(s=n.formatDate(e,{type:"dateTime",format:"MMMM y",calendar:o}),a=n.formatDate(e,{type:"dateTime",format:"y",calendar:o})),i){case"days":this.headerTitleElement.textContent=this.toCapitalize(s);break;case"months":this.headerTitleElement.textContent=a}},t.prototype.setActiveDescendant=function(){var e,i=this.tableBodyElement.querySelector("tr td.e-focused-date"),n=this.tableBodyElement.querySelector("tr td.e-selected"),s=this.calendarMode==="Gregorian"?"gregorian":"islamic",a,o=this.currentView();return o==="Month"?a=this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"full",calendar:s}):o==="Year"?s!=="islamic"?a=this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"yMMMM",calendar:s}):a=this.globalize.formatDate(this.currentDate,{type:"date",skeleton:"GyMMM",calendar:s}):a=this.globalize.formatDate(this.currentDate,{format:null,type:"date",skeleton:"y",calendar:s}),(n||i)&&(v(n)||n.setAttribute("aria-selected","true"),(i||n).setAttribute("aria-label",a),e=(i||n).getAttribute("id")),e},t.prototype.iconHandler=function(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}},t.prototype.destroy=function(){this.getModuleName()==="calendar"&&this.element?Oe([this.element],[dM]):this.calendarElement&&this.element&&Oe([this.element],[dM]),this.getModuleName()==="calendar"&&this.element&&(v(this.headerTitleElement)||se.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&se.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),v(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element&&(this.element.innerHTML=""),this.todayElement=null,this.tableBodyElement=null,this.todayButtonEvent=null,this.renderDayCellArgs=null,this.headerElement=null,this.nextIcon=null,this.table=null,this.tableHeadElement=null,this.previousIcon=null,this.headerTitleElement=null,this.footer=null,this.contentElement=null,r.prototype.destroy.call(this)},t.prototype.title=function(e){var i=this.getViewNumber(this.currentView());this.effect=eE,this.switchView(++i,e)},t.prototype.getViewNumber=function(e){return e==="Month"?0:e==="Year"?1:2},t.prototype.navigateTitle=function(e){e.preventDefault(),this.title(e)},t.prototype.previous=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(e);break}},t.prototype.navigatePrevious=function(e){!Re.isDevice&&e.preventDefault(),this.calendarMode==="Gregorian"?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(e)},t.prototype.next=function(){this.effect="";var e=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(e);break;case"Year":this.addYears(this.currentDate,1),this.switchView(e);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(e);break}},t.prototype.navigateNext=function(e){!Re.isDevice&&e.preventDefault(),this.calendarMode==="Gregorian"?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(e)},t.prototype.navigateTo=function(e,i,n){+i>=+this.min&&+i<=+this.max&&(this.currentDate=i),+i<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+i>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(e)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(e))&&(e=this.depth),this.switchView(this.getViewNumber(e),null,null,n)},t.prototype.currentView=function(){return!v(this.contentElement)&&this.contentElement.classList.contains(X2)?"Year":!v(this.contentElement)&&this.contentElement.classList.contains(SU)?"Decade":"Month"},t.prototype.getDateVal=function(e,i){return!v(i)&&e.getDate()===i.getDate()&&e.getMonth()===i.getMonth()&&e.getFullYear()===i.getFullYear()},t.prototype.getCultureObjects=function(e,i){var n=v(this.dayHeaderFormat)?null:".dates.calendars.gregorian.days.format."+this.dayHeaderFormat.toLowerCase(),s=v(this.dayHeaderFormat)?null:".dates.calendars.islamic.days.format."+this.dayHeaderFormat.toLowerCase(),a="main.";return this.calendarMode==="Gregorian"?Pe(a+""+this.locale+n,e):Pe("main."+this.locale+s,e)},t.prototype.getWeek=function(e){var i=new Date(this.checkValue(e)).valueOf(),n=new Date(e.getFullYear(),0,1).valueOf();return Math.ceil((i-n+Z2)/Z2/7)},t.prototype.setStartDate=function(e,i){var n=e.getTimezoneOffset(),s=new Date(e.getTime()+i),a=s.getTimezoneOffset()-n;e.setTime(s.getTime()+a*mMe)},t.prototype.addMonths=function(e,i){if(this.calendarMode==="Gregorian"){var n=e.getDate();e.setDate(1),e.setMonth(e.getMonth()+i),e.setDate(Math.min(n,this.getMaxDays(e)))}else{var s=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(s.year,s.month+i,1)}},t.prototype.addYears=function(e,i){if(this.calendarMode==="Gregorian"){var n=e.getDate();e.setDate(1),e.setFullYear(e.getFullYear()+i),e.setDate(Math.min(n,this.getMaxDays(e)))}else{var s=this.islamicModule.getIslamicDate(e);this.currentDate=this.islamicModule.toGregorian(s.year+i,s.month,1)}},t.prototype.getIdValue=function(e,i){var n;e?n=e.currentTarget:n=i;var s=this.calendarMode==="Gregorian"?"gregorian":"islamic",a={type:"dateTime",skeleton:"full",calendar:s},o=this.globalize.formatDate(new Date(parseInt(""+n.getAttribute("id"),0)),a),l=this.globalize.parseDate(o,a),c=l.valueOf()-l.valueOf()%1e3;return new Date(c)},t.prototype.adjustLongHeaderSize=function(){Oe([this.element],kU),this.dayHeaderFormat==="Wide"&&pe([this.getModuleName()==="calendar"?this.element:this.calendarElement],kU)},t.prototype.selectDate=function(e,i,n,s,a){var o=n||e.currentTarget;if(this.isDateSelected=!1,this.currentView()==="Decade")this.setDateDecade(this.currentDate,i.getFullYear());else if(this.currentView()==="Year")this.setDateYear(this.currentDate,i);else{if(s&&!this.checkPresentDate(i,a)){var l=this.copyValues(a);!v(a)&&l.length>0?(l.push(new Date(this.checkValue(i))),this.setProperties({values:l},!0),this.setProperties({value:a[a.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(i))]},!0)}else this.setProperties({value:new Date(this.checkValue(i))},!0);this.currentDate=new Date(this.checkValue(i))}var c=Fe(o,"."+dM);if(v(c)&&(c=this.tableBodyElement),!s&&!v(c.querySelector("."+Wo))&&Oe([c.querySelector("."+Wo)],Wo),!s&&!v(c.querySelector("."+qc))&&Oe([c.querySelector("."+qc)],qc),!s&&!v(c.querySelector("."+v0))&&Oe([c.querySelector("."+v0)],v0),s){for(var l=this.copyValues(a),u=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td")),d=0;d<u.length;d++){var p=c.querySelectorAll("td."+qc)[0],m=c.querySelectorAll("td."+Wo)[0];u[d]===p&&Oe([u[d]],qc),u[d]===m&&!this.checkPresentDate(new Date(parseInt(m.getAttribute("id").split("_")[0],10)),a)&&Oe([u[d]],Wo)}if(o.classList.contains(Wo)){Oe([o],Wo);for(var y=0;y<l.length;y++){var M=this.calendarMode==="Gregorian"?"gregorian":"islamic",w={format:null,type:"date",skeleton:"short",calendar:M},b=this.globalize.formatDate(i,w),D=this.globalize.formatDate(l[y],w);if(b===D){var d=l.indexOf(l[y]);l.splice(d,1),pe([o],qc)}}this.setProperties({values:l},!0)}else pe([o],Wo)}else pe([o],Wo);this.isDateSelected=!0},t.prototype.checkPresentDate=function(e,i){var n=!1;if(!v(i))for(var s=0;s<i.length;s++){var a=this.calendarMode==="Gregorian"?"gregorian":"islamic",o=this.globalize.formatDate(e,{format:null,type:"date",skeleton:"short",calendar:a}),l=this.globalize.formatDate(i[s],{format:null,type:"date",skeleton:"short",calendar:a});o===l&&(n=!0)}return n},t.prototype.setAriaActiveDescendant=function(){Ht(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})},t.prototype.previousIconHandler=function(e){e?v(this.previousIcon)||(se.remove(this.previousIcon,"click",this.navigatePreviousHandler),pe([this.previousIcon],""+vs),pe([this.previousIcon],""+_m),this.previousIcon.setAttribute("aria-disabled","true")):(se.add(this.previousIcon,"click",this.navigatePreviousHandler),Oe([this.previousIcon],""+vs),Oe([this.previousIcon],""+_m),this.previousIcon.setAttribute("aria-disabled","false"))},t.prototype.renderDayCellEvent=function(e){qe(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)},t.prototype.navigatedEvent=function(e){qe(this.navigatedArgs,{name:"navigated",event:e}),this.trigger("navigated",this.navigatedArgs)},t.prototype.triggerNavigate=function(e){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(e)},t.prototype.nextIconHandler=function(e){e?v(this.previousIcon)||(se.remove(this.nextIcon,"click",this.navigateNextHandler),pe([this.nextIcon],vs),pe([this.nextIcon],_m),this.nextIcon.setAttribute("aria-disabled","true")):(se.add(this.nextIcon,"click",this.navigateNextHandler),Oe([this.nextIcon],vs),Oe([this.nextIcon],_m),this.nextIcon.setAttribute("aria-disabled","false"))},t.prototype.compare=function(e,i,n){var s=i.getFullYear(),a,o;return a=s,o=0,n&&(s=s-s%n,a=s-s%n+n-1),e.getFullYear()>a?o=1:e.getFullYear()<s&&(o=-1),o},t.prototype.isMinMaxRange=function(e){return+e>=+this.min&&+e<=+this.max},t.prototype.isMonthYearRange=function(e){if(this.calendarMode==="Gregorian")return e.getMonth()>=this.min.getMonth()&&e.getFullYear()>=this.min.getFullYear()&&e.getMonth()<=this.max.getMonth()&&e.getFullYear()<=this.max.getFullYear();var i=this.islamicModule.getIslamicDate(e);return i.month>=this.islamicModule.getIslamicDate(new Date(1941,12,18)).month&&i.year>=this.islamicModule.getIslamicDate(new Date(1941,12,18)).year&&i.month<=this.islamicModule.getIslamicDate(new Date(2068,2,4)).month&&i.year<=this.islamicModule.getIslamicDate(new Date(2068,2,4)).year},t.prototype.compareYear=function(e,i){return this.compare(e,i,0)},t.prototype.compareDecade=function(e,i){return this.compare(e,i,10)},t.prototype.shiftArray=function(e,i){return e.slice(i).concat(e.slice(0,i))},t.prototype.addDay=function(e,i,n,s,a){var o=i,l=new Date(+e);if(!v(this.tableBodyElement)&&!v(n)){for(;this.findNextTD(new Date(+e),o,s,a);)o+=i;var c=new Date(l.setDate(l.getDate()+o));o=+c>+s||+c<+a?o===i?i-i:i:o}e.setDate(e.getDate()+o)},t.prototype.findNextTD=function(e,i,n,s){var a=new Date(e.setDate(e.getDate()+i)),o=[],l=!1;if((!v(a)&&a.getMonth())===(!v(this.currentDate)&&this.currentDate.getMonth())){var c=void 0;this.calendarMode==="Gregorian"?c=this.renderDays(a):c=this.islamicModule.islamicRenderDays(this.currentDate,a),o=c.filter(function(d){return d.classList.contains(vs)})}else o=this.tableBodyElement.querySelectorAll("td."+vs);if(+a<=+n&&+a>=+s&&o.length)for(var u=0;u<o.length&&(l=+a==+new Date(parseInt(o[u].id,0)),!l);u++);return l},t.prototype.getMaxDays=function(e){var i,n=new Date(this.checkValue(e));i=28;for(var s=n.getMonth();n.getMonth()===s;)++i,n.setDate(i);return i-1},t.prototype.setDateDecade=function(e,i){e.setFullYear(i),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.setDateYear=function(e,i){e.setFullYear(i.getFullYear(),i.getMonth(),e.getDate()),i.getMonth()!==e.getMonth()&&(e.setDate(0),this.currentDate=new Date(this.checkValue(i))),this.setProperties({value:new Date(this.checkValue(e))},!0)},t.prototype.compareMonth=function(e,i){var n;return e.getFullYear()>i.getFullYear()?n=1:e.getFullYear()<i.getFullYear()?n=-1:n=e.getMonth()===i.getMonth()?0:e.getMonth()>i.getMonth()?1:-1,n},t.prototype.checkValue=function(e){return e instanceof Date?e.toUTCString():""+e},t.prototype.checkView=function(){this.start!=="Decade"&&this.start!=="Year"&&this.setProperties({start:"Month"},!0),this.depth!=="Decade"&&this.depth!=="Year"&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)},t.prototype.getDate=function(e,i){return i&&(e=new Date(e.toLocaleString("en-US",{timeZone:i}))),e},Fs([ee(new Date(1900,0,1))],t.prototype,"min",void 0),Fs([ee(!0)],t.prototype,"enabled",void 0),Fs([ee(null)],t.prototype,"cssClass",void 0),Fs([ee(new Date(2099,11,31))],t.prototype,"max",void 0),Fs([ee(null)],t.prototype,"firstDayOfWeek",void 0),Fs([ee("Gregorian")],t.prototype,"calendarMode",void 0),Fs([ee("Month")],t.prototype,"start",void 0),Fs([ee("Month")],t.prototype,"depth",void 0),Fs([ee(!1)],t.prototype,"weekNumber",void 0),Fs([ee("FirstDay")],t.prototype,"weekRule",void 0),Fs([ee(!0)],t.prototype,"showTodayButton",void 0),Fs([ee("Short")],t.prototype,"dayHeaderFormat",void 0),Fs([ee(!1)],t.prototype,"enablePersistence",void 0),Fs([ee(null)],t.prototype,"keyConfigs",void 0),Fs([ee(null)],t.prototype,"serverTimezoneOffset",void 0),Fs([Xe()],t.prototype,"created",void 0),Fs([Xe()],t.prototype,"destroyed",void 0),Fs([Xe()],t.prototype,"navigated",void 0),Fs([Xe()],t.prototype,"renderDayCell",void 0),t=Fs([$n],t),t})(Dl),aK=(function(r){sK(t,r);function t(e,i){return r.call(this,e,i)||this}return t.prototype.render=function(){if(this.calendarMode==="Islamic"&&this.islamicModule===void 0&&i1("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&typeof this.values=="object"&&!v(this.values)&&this.values.length>0){for(var e=[],i=[],n=0;n<this.values.length;n++)e.indexOf(+this.values[n])===-1&&(e.push(+this.values[n]),i.push(this.values[n]));this.setProperties({values:i},!0);for(var s=0;s<this.values.length;s++)if(!this.checkDateValue(this.values[s]))if(typeof this.values[s]=="string"&&this.checkDateValue(new Date(this.checkValue(this.values[s])))){var a=new Date(this.checkValue(this.values[s]));this.values.splice(s,1),this.values.splice(s,0,a)}else this.values.splice(s,1);this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}if(this.validateDate(),this.minMaxUpdate(),this.getModuleName()==="calendar"&&(this.setEnable(this.enabled),this.setClass(this.cssClass)),r.prototype.render.call(this),this.getModuleName()==="calendar"){var o=Fe(this.element,"form");o&&se.add(o,"reset",this.formResetHandler.bind(this)),this.setTimeZone(this.serverTimezoneOffset)}this.renderComplete()},t.prototype.setEnable=function(e){e?Oe([this.element],vs):pe([this.element],vs)},t.prototype.setClass=function(e,i){v(i)||(i=i.replace(/\s+/g," ").trim()),v(e)||(e=e.replace(/\s+/g," ").trim()),!v(i)&&i!==""&&Oe([this.element],i.split(" ")),v(e)||pe([this.element],e.split(" "))},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),6,1).getTimezoneOffset(),i=new Date(this.value.getFullYear(),0,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(i,e)},t.prototype.setTimeZone=function(e){if(!v(this.serverTimezoneOffset)&&this.value){var i=e,n=new Date().getTimezoneOffset()/60,s=i+n;s=this.isDayLightSaving()?s--:s,this.value=new Date(this.value.getTime()+s*60*60*1e3)}},t.prototype.formResetHandler=function(){this.setProperties({value:null},!0)},t.prototype.validateDate=function(){typeof this.value=="string"&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),r.prototype.validateDate.call(this,this.value),!v(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)},t.prototype.minMaxUpdate=function(){this.getModuleName()==="calendar"&&(!v(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!v(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),this.getModuleName()!=="calendar"&&!v(this.value)?!v(this.value)&&this.value<this.min&&this.min<=this.max?r.prototype.minMaxUpdate.call(this,this.min):!v(this.value)&&this.value>this.max&&this.min<=this.max&&r.prototype.minMaxUpdate.call(this,this.max):r.prototype.minMaxUpdate.call(this,this.value)},t.prototype.generateTodayVal=function(e){var i=new Date;return v(this.timezone)||(i=r.prototype.getDate.call(this,i,this.timezone)),e&&v(this.timezone)?(i.setHours(e.getHours()),i.setMinutes(e.getMinutes()),i.setSeconds(e.getSeconds()),i.setMilliseconds(e.getMilliseconds())):i=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0),i},t.prototype.todayButtonClick=function(e){if(this.showTodayButton){var i=this.generateTodayVal(this.value);if(this.setProperties({value:i},!0),this.isTodayClicked=!0,this.todayButtonEvent=e,this.isMultiSelection){var n=this.copyValues(this.values);r.prototype.checkPresentDate.call(this,i,this.values)||(n.push(i),this.setProperties({values:n}))}r.prototype.todayButtonClick.call(this,e,new Date(+this.value))}},t.prototype.keyActionHandle=function(e){r.prototype.keyActionHandle.call(this,e,this.value,this.isMultiSelection)},t.prototype.preRender=function(){var e=this;this.changeHandler=function(i){e.triggerChange(i)},this.checkView(),r.prototype.preRender.call(this,this.value)},t.prototype.createContent=function(){this.previousDate=this.value,this.previousDateTime=this.value,r.prototype.createContent.call(this)},t.prototype.minMaxDate=function(e){return r.prototype.minMaxDate.call(this,e)},t.prototype.renderMonths=function(e,i,n){r.prototype.renderMonths.call(this,e,this.value,n)},t.prototype.renderDays=function(e,i,n,s,a,o){var l=r.prototype.renderDays.call(this,e,this.value,this.isMultiSelection,this.values,a,o);return this.isMultiSelection&&r.prototype.validateValues.call(this,this.isMultiSelection,this.values),l},t.prototype.renderYears=function(e){this.calendarMode==="Gregorian"?r.prototype.renderYears.call(this,e,this.value):this.islamicModule.islamicRenderYears(e,this.value)},t.prototype.renderDecades=function(e){this.calendarMode==="Gregorian"?r.prototype.renderDecades.call(this,e,this.value):this.islamicModule.islamicRenderDecade(e,this.value)},t.prototype.renderTemplate=function(e,i,n,s){this.calendarMode==="Gregorian"?r.prototype.renderTemplate.call(this,e,i,n,s,this.value):this.islamicModule.islamicRenderTemplate(e,i,n,s,this.value),this.changedArgs={value:this.value,values:this.values},s&&s.type==="click"&&s.currentTarget.classList.contains(oh)?this.changeHandler(s):this.changeHandler()},t.prototype.clickHandler=function(e){var i=e.currentTarget;if(this.isPopupClicked=!0,i.classList.contains(oh))if(this.isMultiSelection){var n=this.copyValues(this.values);n.toString().indexOf(this.getIdValue(e,null).toString())===-1?(n.push(this.getIdValue(e,null)),this.setProperties({values:n},!0),this.setProperties({value:this.values[this.values.length-1]},!0)):this.previousDates=!0}else this.setProperties({value:this.getIdValue(e,null)},!0);var s=this.currentView();r.prototype.clickHandler.call(this,e,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!v(this.tableBodyElement.querySelectorAll("."+qc)[0])&&s==="Year"&&this.tableBodyElement.querySelectorAll("."+qc)[0].classList.remove(qc)},t.prototype.switchView=function(e,i,n,s){r.prototype.switchView.call(this,e,i,this.isMultiSelection,s)},t.prototype.getModuleName=function(){return r.prototype.getModuleName.call(this),"calendar"},t.prototype.getPersistData=function(){r.prototype.getPersistData.call(this);var e=["value","values"];return this.addOnPersist(e)},t.prototype.onPropertyChanged=function(e,i){this.effect="",this.rangeValidation(this.min,this.max);for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"value":this.isDateSelected&&(typeof e.value=="string"?this.setProperties({value:new Date(this.checkValue(e.value))},!0):e.value=new Date(this.checkValue(e.value)),isNaN(+this.value)&&this.setProperties({value:i.value},!0),this.update());break;case"values":if(this.isDateSelected){if(typeof e.values=="string"||typeof e.values=="number")this.setProperties({values:null},!0);else{for(var o=this.copyValues(this.values),l=0;l<o.length;l++){var c=o[l];this.checkDateValue(c)&&!r.prototype.checkPresentDate.call(this,c,o)&&o.push(c)}this.setProperties({values:o},!0),this.values.length>0&&this.setProperties({value:e.values[e.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update()}break;case"isMultiSelection":this.isDateSelected&&(this.setProperties({isMultiSelection:e.isMultiSelection},!0),this.update());break;case"enabled":this.setEnable(this.enabled);break;case"cssClass":this.getModuleName()==="calendar"&&this.setClass(e.cssClass,i.cssClass);break;default:r.prototype.onPropertyChanged.call(this,e,i,this.isMultiSelection,this.values)}}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange},t.prototype.destroy=function(){if(r.prototype.destroy.call(this),this.getModuleName()==="calendar"){this.changedArgs=null;var e=Fe(this.element,"form");e&&se.remove(e,"reset",this.formResetHandler.bind(this))}},t.prototype.navigateTo=function(e,i,n){this.minMaxUpdate(),r.prototype.navigateTo.call(this,e,i,n)},t.prototype.currentView=function(){return r.prototype.currentView.call(this)},t.prototype.addDate=function(e){if(typeof e!="string"&&typeof e!="number"){var i=this.copyValues(this.values);if(typeof e=="object"&&e.length>0)for(var n=e,s=0;s<n.length;s++)this.checkDateValue(n[s])&&!r.prototype.checkPresentDate.call(this,n[s],i)&&(!v(i)&&i.length>0?i.push(n[s]):i=[new Date(+n[s])]);else this.checkDateValue(e)&&!r.prototype.checkPresentDate.call(this,e,i)&&(!v(i)&&i.length>0?i.push(e):i=[new Date(+e)]);this.setProperties({values:i},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,i),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},t.prototype.removeDate=function(e){if(typeof e!="string"&&typeof e!="number"&&!v(this.values)&&this.values.length>0){var i=this.copyValues(this.values);if(typeof e=="object"&&e.length>0)for(var n=e,s=0;s<n.length;s++)for(var a=0;a<i.length;a++)+i[a]==+n[s]&&i.splice(a,1);else for(var a=0;a<i.length;a++)+i[a]==+e&&i.splice(a,1);this.setProperties({values:i},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}},t.prototype.setTodayDate=function(e){var i=new Date(+e);this.setProperties({value:i},!0),r.prototype.todayButtonClick.call(this,null,i,!0)},t.prototype.update=function(){this.validateDate(),this.minMaxUpdate(),r.prototype.setValueUpdate.call(this)},t.prototype.selectDate=function(e,i,n){r.prototype.selectDate.call(this,e,i,n,this.isMultiSelection,this.values),this.isMultiSelection&&!v(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(e)},t.prototype.changeEvent=function(e){((this.value&&this.value.valueOf())!==(this.previousDate&&+this.previousDate.valueOf())||this.isMultiSelection)&&(this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value))},t.prototype.triggerChange=function(e){!v(this.todayButtonEvent)&&this.isTodayClicked&&(e=this.todayButtonEvent,this.isTodayClicked=!1),this.changedArgs.event=e||null,this.changedArgs.isInteracted=!v(e),v(this.value)||this.setProperties({value:this.value},!0),!this.isMultiSelection&&+this.value!==Number.NaN&&(!v(this.value)&&!v(this.previousDate)||this.previousDate===null&&!isNaN(+this.value))?this.changeEvent(e):!v(this.values)&&this.previousValues!==this.values.length&&(this.changeEvent(e),this.previousValues=this.values.length)},Fs([ee(null)],t.prototype,"value",void 0),Fs([ee(null)],t.prototype,"values",void 0),Fs([ee(!1)],t.prototype,"isMultiSelection",void 0),Fs([Xe()],t.prototype,"change",void 0),t=Fs([$n],t),t})(gMe),vMe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),On=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},yMe="e-date-wrapper",tE="e-datepicker",xMe="e-lib",MMe="e-control",LU="e-popup-wrapper",wMe="e-input-group-icon",TMe="e-popup",bMe="e-input-group",e4="e-input-focus",DMe="e-input",jU="e-error",iE="e-active",_U="e-date-overflow",EMe="e-date-icon",AMe="e-icons",SMe=300,NMe=4,rE="e-selected",IMe="e-focused-date",t4="e-non-edit",zU=["title","class","style"],oK=(function(r){vMe(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.isDateIconClicked=!1,n.isAltKeyPressed=!1,n.isInteracted=!0,n.invalidValueString=null,n.checkPreviousValue=null,n.maskedDateValue="",n.preventChange=!1,n.isIconClicked=!1,n.isDynamicValueChanged=!1,n.moduleName=n.getModuleName(),n.isFocused=!1,n.isBlur=!1,n.isKeyAction=!1,n.datepickerOptions=e,n}return t.prototype.render=function(){this.initialize(),this.bindEvents(),this.floatLabelType!=="Never"&&Rt.calculateWidth(this.inputElement,this.inputWrapper.container),!v(this.inputWrapper.buttons[0])&&!v(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&this.floatLabelType!=="Never"&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),!v(Fe(this.element,"fieldset"))&&Fe(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete(),this.setTimeZone(this.serverTimezoneOffset)},t.prototype.setTimeZone=function(e){if(!v(this.serverTimezoneOffset)&&this.value){var i=new Date().getTimezoneOffset()/60,n=e,s=n+i;s=this.isDayLightSaving()?s--:s,this.value=new Date(this.value.getTime()+s*60*60*1e3),this.updateInput(),this.changeTrigger(null)}},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),i=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,i)},t.prototype.setAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Ht(this.inputElement,{readonly:""}),this.updateIconState()},t.prototype.updateIconState=function(){!this.allowEdit&&this.inputWrapper&&!this.readonly?this.inputElement.value===""?Oe([this.inputWrapper.container],[t4]):pe([this.inputWrapper.container],[t4]):this.inputWrapper&&Oe([this.inputWrapper.container],[t4])},t.prototype.initialize=function(){this.checkInvalidValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setAllowEdit(),this.enableMask&&!this.value&&this.maskedDateValue&&(this.floatLabelType==="Always"||!this.floatLabelType||!this.placeholder)?(this.updateInput(!0),this.updateInputValue(this.maskedDateValue)):this.enableMask||this.updateInput(!0),this.previousElementValue=this.inputElement.value,this.previousDate=v(this.value)?null:new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value},t.prototype.createInput=function(){var e={"aria-atomic":"true","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false"};if(this.getModuleName()==="datepicker"){var i={placeholder:this.placeholder};this.globalize=new Ns(this.locale),this.l10n=new Ql("datepicker",i,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)}this.fullScreenMode&&Re.isDevice&&(this.cssClass+=" e-popup-expand");var n=this.cssClass;!v(this.cssClass)&&this.cssClass!==""&&(n=this.cssClass.replace(/\s+/g," ").trim());var s=!this.enableMask;this.inputWrapper=Rt.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,bindClearAction:s,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:n,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[wMe+" "+EMe+" "+AMe]},this.createElement),this.setWidth(this.width),this.inputElement.name!==""?this.inputElement.setAttribute("name",""+this.inputElement.getAttribute("name")):this.inputElement.setAttribute("name",""+this.element.id),Ht(this.inputElement,e),this.inputElement.hasAttribute("aria-label")||this.inputElement.setAttribute("aria-label",this.getModuleName()),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),Rt.addAttributes({"aria-label":"select",role:"button"},this.inputWrapper.buttons[0]),pe([this.inputWrapper.container],yMe)},t.prototype.updateInput=function(e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var n;if(this.value&&!this.isCalendar()&&this.disabledDates(e,i),isNaN(+new Date(this.checkValue(this.value)))&&this.setProperties({value:null},!0),this.strictMode&&(r.prototype.validateDate.call(this),this.minMaxUpdates(),r.prototype.minMaxUpdate.call(this)),!v(this.value)){var s=this.value,a=void 0,o=v(this.formatString)?this.dateTimeFormat:this.formatString;if(this.getModuleName()==="datetimepicker"?this.calendarMode==="Gregorian"?a=this.globalize.formatDate(this.value,{format:o,type:"dateTime",skeleton:"yMd"}):a=this.globalize.formatDate(this.value,{format:o,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(this.calendarMode==="Gregorian"?n={format:this.formatString,type:"dateTime",skeleton:"yMd"}:n={format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},a=this.globalize.formatDate(this.value,n)),+s<=+this.max&&+s>=+this.min)this.updateInputValue(a);else{var l=+s>=+this.max||!+this.value||!+this.value||+s<=+this.min;!this.strictMode&&l&&this.updateInputValue(a)}}v(this.value)&&this.strictMode&&(this.enableMask?(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime"})):this.updateInputValue("")),!this.strictMode&&v(this.value)&&this.invalidValueString&&this.updateInputValue(this.invalidValueString),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()},t.prototype.minMaxUpdates=function(){!v(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!v(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})},t.prototype.checkStringValue=function(e){var i=null,n=null,s=null;if(this.getModuleName()==="datetimepicker"){var a=new Ns(this.locale);this.calendarMode==="Gregorian"?(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},s={format:a.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(n={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},s={format:a.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else this.calendarMode==="Gregorian"?n={format:this.formatString,type:"dateTime",skeleton:"yMd"}:n={format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};return i=this.checkDateValue(this.globalize.parseDate(this.getAmPmValue(e),n)),v(i)&&this.getModuleName()==="datetimepicker"&&(i=this.checkDateValue(this.globalize.parseDate(this.getAmPmValue(e),s))),i},t.prototype.checkInvalidValue=function(e){if(!(e instanceof Date)&&!v(e)){var i=null,n=e;if(typeof e=="number"&&(n=e.toString()),this.getModuleName()==="datetimepicker"){var s=new Ns(this.locale);this.calendarMode==="Gregorian"?(this.dateTimeFormat,s.getDatePattern({skeleton:"yMd"})):(this.dateTimeFormat,s.getDatePattern({skeleton:"yMd"}))}else this.calendarMode==="Gregorian"?this.formatString:this.formatString;var a=!1;if(typeof n!="string")n=null,a=!0;else if(typeof n=="string"&&(n=n.trim()),i=this.checkStringValue(n),!i){var o=null,l=null;o=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,l=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!o.test(n)&&!l.test(n)||/^[a-zA-Z0-9- ]*$/.test(n)||isNaN(+new Date(this.checkValue(n)))?a=!0:i=new Date(n)}a?(this.strictMode||(this.invalidValueString=n),this.setProperties({value:null},!0)):this.setProperties({value:i},!0)}},t.prototype.bindInputEvent=function(){(!v(this.formatString)||this.enableMask)&&(this.enableMask||this.formatString.indexOf("y")===-1?se.add(this.inputElement,"input",this.inputHandler,this):se.remove(this.inputElement,"input",this.inputHandler))},t.prototype.bindEvents=function(){se.add(this.inputWrapper.buttons[0],"mousedown",this.dateIconHandler,this),se.add(this.inputElement,"mouseup",this.mouseUpHandler,this),se.add(this.inputElement,"focus",this.inputFocusHandler,this),se.add(this.inputElement,"blur",this.inputBlurHandler,this),se.add(this.inputElement,"keyup",this.keyupHandler,this),this.enableMask&&se.add(this.inputElement,"keydown",this.keydownHandler,this),this.bindInputEvent(),se.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&se.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&se.add(this.formElement,"reset",this.resetFormHandler,this),this.defaultKeyConfigs=qe(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModules=new Yl(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.keydownHandler=function(e){switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"Home":case"End":case"Backspace":case"Delete":this.enableMask&&!this.popupObj&&!this.readonly&&(e.code!=="Delete"&&e.code!=="Backspace"&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}));break}},t.prototype.unBindEvents=function(){v(this.inputWrapper)||se.remove(this.inputWrapper.buttons[0],"mousedown",this.dateIconHandler),se.remove(this.inputElement,"mouseup",this.mouseUpHandler),se.remove(this.inputElement,"focus",this.inputFocusHandler),se.remove(this.inputElement,"blur",this.inputBlurHandler),se.remove(this.inputElement,"change",this.inputChangeHandler),se.remove(this.inputElement,"keyup",this.keyupHandler),this.enableMask&&se.remove(this.inputElement,"keydown",this.keydownHandler),this.showClearButton&&this.inputWrapper.clearButton&&se.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&se.remove(this.formElement,"reset",this.resetFormHandler)},t.prototype.resetFormHandler=function(){if(this.enabled&&!this.inputElement.disabled){var e=this.inputElement.getAttribute("value");(this.element.tagName==="EJS-DATEPICKER"||this.element.tagName==="EJS-DATETIMEPICKER")&&(e="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement&&(this.updateInputValue(e),this.errorClass())}},t.prototype.restoreValue=function(){this.currentDate=this.value?this.value:new Date,this.previousDate=this.value,this.previousElementValue=v(this.inputValueCopy)?"":this.globalize.formatDate(this.inputValueCopy,{format:this.formatString,type:"dateTime",skeleton:"yMd"})},t.prototype.inputChangeHandler=function(e){this.enabled&&e.stopPropagation()},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&se.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},t.prototype.resetHandler=function(e){this.enabled&&(e.preventDefault(),this.clear(e))},t.prototype.mouseUpHandler=function(e){this.enableMask&&(e.preventDefault(),this.notify("setMaskSelection",{module:"MaskedDateTime"}))},t.prototype.clear=function(e){this.setProperties({value:null},!0),this.enableMask||this.updateInputValue(""),v(this.value)&&(this.currentDate=new Date(new Date().setHours(0,0,0,0)));var i={event:e};if(this.trigger("cleared",i),this.invalidValueString="",this.updateInput(),this.popupUpdate(),this.changeEvent(e),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}),Fe(this.element,"form")){var n=this.element,s=document.createEvent("KeyboardEvent");s.initEvent("keyup",!1,!0),n.dispatchEvent(s)}},t.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnDateIconClick")},t.prototype.updateInputValue=function(e){Rt.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.dateIconHandler=function(e){this.enabled&&(this.isIconClicked=!0,Re.isDevice&&(this.inputElement.setAttribute("readonly",""),this.inputElement.blur()),e.preventDefault(),this.readonly||(this.isCalendar()?this.hide(e):(this.isDateIconClicked=!0,this.show(null,e),this.getModuleName()==="datetimepicker"&&this.inputElement.focus(),this.inputElement.focus(),pe([this.inputWrapper.container],[e4]),pe(this.inputWrapper.buttons,iE))),this.isIconClicked=!1)},t.prototype.updateHtmlAttributeToWrapper=function(){if(!v(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if(!v(this.htmlAttributes[""+n])&&zU.indexOf(n)>-1)if(n==="class"){var s=this.htmlAttributes[""+n].replace(/\s+/g," ").trim();s!==""&&pe([this.inputWrapper.container],s.split(" "))}else if(n==="style"){var a=this.inputWrapper.container.getAttribute(n);v(a)?a=this.htmlAttributes[""+n]:a.charAt(a.length-1)===";"?a=a+this.htmlAttributes[""+n]:a=a+";"+this.htmlAttributes[""+n],this.inputWrapper.container.setAttribute(n,a)}else this.inputWrapper.container.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateHtmlAttributeToElement=function(){if(!v(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];zU.indexOf(n)<0&&this.inputElement.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateCssClass=function(e,i){v(i)||(i=i.replace(/\s+/g," ").trim()),v(e)||(e=e.replace(/\s+/g," ").trim()),Rt.setCssClass(e,[this.inputWrapper.container],i),this.popupWrapper&&Rt.setCssClass(e,[this.popupWrapper],i)},t.prototype.calendarKeyActionHandle=function(e){switch(e.action){case"escape":this.isCalendar()?this.hide(e):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value!=+this.currentDate&&!this.isCalendar()&&this.inputWrapper.container.children[this.index].focus():this.show(null,e),this.getModuleName()==="datetimepicker"&&this.inputElement.focus();break}},t.prototype.inputFocusHandler=function(){if(this.isFocused=!0,!!this.enabled){this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&(this.floatLabelType==="Auto"||this.floatLabelType==="Never"||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length),this.enableMask&&this.showClearButton&&this.inputElement&&this.inputElement.value===this.maskedDateValue&&this.inputWrapper&&this.inputWrapper.clearButton&&!this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")&&this.inputWrapper.clearButton.classList.add("e-clear-icon-hide");var e={model:this};this.isDateIconClicked=!1,this.trigger("focus",e),this.updateIconState(),this.openOnFocus&&!this.isIconClicked&&this.show()}},t.prototype.inputHandler=function(e){this.isPopupClicked=!1,this.enableMask&&(!v(e)&&!v(e.inputType)&&e.inputType==="insertFromPaste"?this.notify("maskPasteInputHandler",{module:"MaskedDateTime"}):this.notify("inputHandler",{module:"MaskedDateTime"}))},t.prototype.inputBlurHandler=function(e){var i=this.inputElement.value===this.previousElementValue,n=this.value&&this.previousDate?this.value.getTime()===this.previousDate.getTime():this.value===this.previousDate;if(!(!this.enabled||i&&n)){if(this.strictModeUpdate(),this.inputElement.value===""&&v(this.value)&&(this.invalidValueString=null,this.updateInputValue("")),this.isBlur=!0,this.updateInput(!1,!0),this.isBlur=!1,this.popupUpdate(),this.changeTrigger(e),this.enableMask&&this.maskedDateValue&&this.placeholder&&this.floatLabelType!=="Always"&&this.inputElement.value===this.maskedDateValue&&!this.value&&(this.floatLabelType==="Auto"||this.floatLabelType==="Never"||this.placeholder)&&this.updateInputValue(""),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),this.getModuleName()==="datepicker"){var s={model:this};this.trigger("blur",s)}this.isCalendar()&&(this.defaultKeyConfigs=qe(this.defaultKeyConfigs,this.keyConfigs),this.calendarKeyboardModules=new Yl(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})),this.isPopupClicked=!1}},t.prototype.documentHandler=function(e){!v(this.popupObj)&&!v(this.inputWrapper)&&(this.inputWrapper.container.contains(e.target)&&e.type!=="mousedown"||this.popupObj.element&&this.popupObj.element.contains(e.target))&&e.type!=="touchstart"&&e.preventDefault();var i=e.target;!Fe(i,".e-datepicker.e-popup-wrapper")&&!v(this.inputWrapper)&&Fe(i,"."+bMe)!==this.inputWrapper.container&&!i.classList.contains("e-day")?(this.hide(e),i.classList.contains("e-dlg-overlay")?e.preventDefault():this.focusOut()):Fe(i,".e-datepicker.e-popup-wrapper")&&(i.classList.contains("e-day")&&!v(e.target.parentElement)&&e.target.parentElement.classList.contains("e-selected")&&Fe(i,".e-content")&&Fe(i,".e-content").classList.contains("e-"+this.depth.toLowerCase())?this.hide(e):Fe(i,".e-footer-container")&&i.classList.contains("e-today")&&i.classList.contains("e-btn")&&+new Date(+this.value)==+r.prototype.generateTodayVal.call(this,this.value)&&this.hide(e))},t.prototype.inputKeyActionHandle=function(e){var i=this.currentView();switch(e.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(e),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.strictModeUpdate(),this.updateInput(),this.changeTrigger(e),this.getModuleName()==="datepicker"&&this.show(null,e);break;case"escape":this.hide(e);break;case"enter":{var n=this.inputElement.value===this.previousElementValue,s=this.value instanceof Date&&this.previousDate instanceof Date?this.value.getTime()===this.previousDate.getTime():this.value===this.previousDate;n&&s||(this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass()),!this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),this.isCalendar()&&(e.preventDefault(),e.stopPropagation());break}case"tab":case"shiftTab":{var a=this.inputElement.selectionStart,o=this.inputElement.selectionEnd;if(this.enableMask&&!this.popupObj&&!this.readonly){var l=this.inputElement.value.length;(a===0&&o===l||o!==l&&e.action==="tab"||a!==0&&e.action==="shiftTab")&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}),a=this.inputElement.selectionStart,o=this.inputElement.selectionEnd}this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),this.enableMask&&(this.inputElement.selectionStart=a,this.inputElement.selectionEnd=o),e.action==="tab"&&e.target===this.inputElement&&this.isCalendar()&&document.activeElement===this.inputElement&&(e.preventDefault(),this.headerTitleElement.focus()),e.action==="shiftTab"&&e.target===this.inputElement&&this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e);break}default:this.defaultAction(e),e.action==="select"&&i===this.depth&&this.hide(e)}},t.prototype.defaultAction=function(e){this.previousDate=!v(this.value)&&new Date(+this.value)||null,this.isCalendar()&&(r.prototype.keyActionHandle.call(this,e),this.isCalendar()&&Ht(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()}))},t.prototype.popupUpdate=function(){if((v(this.value)&&!v(this.previousDate)||this.getModuleName()!=="datetimepicker"&&+this.value!=+this.previousDate||this.getModuleName()==="datetimepicker"&&+this.value!=+this.previousDateTime)&&(this.popupObj&&this.popupObj.element.querySelectorAll("."+rE).length>0&&Oe(this.popupObj.element.querySelectorAll("."+rE),[rE]),!v(this.value)&&+this.value>=+this.min&&+this.value<=+this.max)){var e=new Date(this.checkValue(this.value));r.prototype.navigateTo.call(this,"Month",e)}},t.prototype.strictModeUpdate=function(){var e,i=/^y/,n=/[^a-zA-Z]/,s;if(this.getModuleName()==="datetimepicker"?e=v(this.formatString)?this.dateTimeFormat:this.formatString:(!i.test(this.formatString)||n.test(this.formatString))&&(e=v(this.formatString)?this.formatString:this.formatString.replace("dd","d")),v(e))e=this.formatString;else{var a=e.split("M").length-1;a<3&&(e=e.replace("MM","M"))}var o;this.getModuleName()==="datetimepicker"?this.calendarMode==="Gregorian"?o={format:v(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:o={format:v(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:(this.calendarMode==="Gregorian"?s={format:e,type:"dateTime",skeleton:"yMd"}:s={format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},o=s);var l;if(typeof this.inputElement.value=="string"&&(this.inputElement.value=this.inputElement.value.trim()),this.getModuleName()==="datetimepicker"){if(this.checkDateValue(this.globalize.parseDate(this.getAmPmValue(this.inputElement.value),o))?l=this.globalize.parseDate(this.getAmPmValue(this.inputElement.value),o):(this.calendarMode==="Gregorian"?s={format:e,type:"dateTime",skeleton:"yMd"}:s={format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},l=this.globalize.parseDate(this.getAmPmValue(this.inputElement.value),s)),(v(l)||typeof l=="object"&&isNaN(l.getTime()))&&!v(this.inputFormatsString))for(var c=0,u=this.inputFormatsString;c<u.length;c++){var d=u[c],p=void 0;if(this.calendarMode==="Gregorian"?p={format:d,type:"dateTime",skeleton:"yMd"}:p={format:d,type:"dateTime",skeleton:"yMd",calendar:"islamic"},l=this.globalize.parseDate(this.getAmPmValue(this.inputElement.value),p),!v(l)&&l instanceof Date&&!isNaN(l.getTime()))break}}else{if(l=this.globalize.parseDate(this.getAmPmValue(this.inputElement.value),o),(v(l)||typeof l=="object"&&isNaN(l.getTime()))&&!v(this.inputFormatsString))for(var m=0,y=this.inputFormatsString;m<y.length;m++){var M=y[m],p=void 0;if(this.calendarMode==="Gregorian"?p={format:M,type:"dateTime",skeleton:"yMd"}:p={format:M,type:"dateTime",skeleton:"yMd",calendar:"islamic"},l=this.globalize.parseDate(this.getAmPmValue(this.inputElement.value),p),!v(l)&&l instanceof Date&&!isNaN(l.getTime()))break}l=!v(l)&&isNaN(+l)?null:l,!v(this.formatString)&&this.inputElement.value!==""&&this.strictMode&&(this.isPopupClicked||!this.isPopupClicked&&this.inputElement.value===this.previousElementValue)&&this.formatString.indexOf("y")===-1&&l.setFullYear(this.value.getFullYear())}this.getModuleName()==="datepicker"&&this.value&&!isNaN(+this.value)&&l&&l.setHours(this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds()),this.strictMode&&l?(this.updateInputValue(this.globalize.formatDate(l,o)),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:l},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:l},!0),this.strictMode&&!l&&this.inputElement.value===(this.enableMask?this.maskedDateValue:"")&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),v(this.value)&&(this.currentDate=new Date(new Date().setHours(0,0,0,0)))},t.prototype.createCalendar=function(){var e=this;this.popupWrapper=this.createElement("div",{className:""+tE+" "+LU,id:this.inputElement.id+"_options"}),this.popupWrapper.setAttribute("aria-label",this.element.id),this.popupWrapper.setAttribute("role","dialog"),v(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),Re.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className=""+tE+" e-date-modal",document.body.className+=" "+_U,this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new xh(this.popupWrapper,{content:this.calendarElement,relateTo:Re.isDevice?document.body:this.inputWrapper.container,position:Re.isDevice?{X:"center",Y:"center"}:this.enableRtl?{X:"right",Y:"bottom"}:{X:"left",Y:"bottom"},offsetY:NMe,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:Re.isDevice?{X:"fit",Y:"fit"}:this.enableRtl?{X:"fit",Y:"flip"}:{X:"flip",Y:"flip"},open:function(){Re.isDevice&&e.fullScreenMode&&(e.iconRight=parseInt(window.getComputedStyle(e.calendarElement.querySelector(".e-header.e-month .e-prev")).marginRight,10)>16,e.touchModule=new sf(e.calendarElement.querySelector(".e-content.e-month"),{swipe:e.CalendarSwipeHandler.bind(e)}),se.add(e.calendarElement.querySelector(".e-content.e-month"),"touchstart",e.TouchStartHandler,e)),e.getModuleName()!=="datetimepicker"&&document.activeElement!==e.inputElement&&(e.defaultKeyConfigs=qe(e.defaultKeyConfigs,e.keyConfigs),e.calendarElement.children[1].firstElementChild.focus(),e.calendarKeyboardModules=new Yl(e.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:e.calendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs}),e.calendarKeyboardModules=new Yl(e.inputWrapper.container.children[e.index],{eventName:"keydown",keyAction:e.calendarKeyActionHandle.bind(e),keyConfigs:e.defaultKeyConfigs})),Re.isDevice&&e.allowEdit&&!e.readonly&&Re.isIos&&e.inputElement.blur()},close:function(){e.isDateIconClicked&&e.inputWrapper.container.children[e.index].focus(),e.value&&e.disabledDates(),e.popupObj&&e.popupObj.destroy(),e.resetCalendar(),zt(e.popupWrapper),e.popupObj=e.popupWrapper=null,e.preventArgs=null,e.calendarKeyboardModules=null,e.setAriaAttributes()},targetExitViewport:function(){Re.isDevice||e.hide()}}),this.popupObj.element.className+=" "+this.cssClass,this.setAriaAttributes()},t.prototype.getAmPmValue=function(e){try{return typeof e=="string"&&e.trim()!==""?e.replace(/(am|pm|Am|aM|pM|Pm)/g,function(i){return i.toLocaleUpperCase()}):""}catch(i){return console.error("Error occurred while processing date:",i),""}},t.prototype.CalendarSwipeHandler=function(e){var i=0;if(this.iconRight)switch(e.swipeDirection){case"Left":i=1;break;case"Right":i=-1;break}else switch(e.swipeDirection){case"Up":i=1;break;case"Down":i=-1;break}this.touchStart&&(i===1?this.navigateNext(e):i===-1&&this.navigatePrevious(e),this.touchStart=!1)},t.prototype.TouchStartHandler=function(e){this.touchStart=!0},t.prototype.setAriaDisabled=function(){this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1)},t.prototype.modelHeader=function(){var e,i=this.createElement("div",{className:"e-model-header"}),n=this.createElement("h1",{className:"e-model-year"}),s=this.createElement("div"),a=this.createElement("span",{className:"e-model-day"}),o=this.createElement("span",{className:"e-model-month"});if(this.calendarMode==="Gregorian"?e={format:"y",skeleton:"dateTime"}:e={format:"y",skeleton:"dateTime",calendar:"islamic"},n.textContent=""+this.globalize.formatDate(this.value||new Date,e),this.calendarMode==="Gregorian"?e={format:"E",skeleton:"dateTime"}:e={format:"E",skeleton:"dateTime",calendar:"islamic"},a.textContent=""+this.globalize.formatDate(this.value||new Date,e)+", ",this.calendarMode==="Gregorian"?e={format:"MMM d",skeleton:"dateTime"}:e={format:"MMM d",skeleton:"dateTime",calendar:"islamic"},o.textContent=""+this.globalize.formatDate(this.value||new Date,e),this.fullScreenMode){var l=this.createElement("span",{className:"e-popup-close"});se.add(l,"mousedown touchstart",this.modelCloseHandler,this);var c=this.calendarElement.querySelector("button.e-today");s.classList.add("e-day-wrapper"),c.classList.add("e-outline"),i.appendChild(l),i.appendChild(c)}this.fullScreenMode||i.appendChild(n),s.appendChild(a),s.appendChild(o),i.appendChild(s),this.calendarElement.insertBefore(i,this.calendarElement.firstElementChild)},t.prototype.modelCloseHandler=function(e){this.hide()},t.prototype.changeTrigger=function(e){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.isDynamicValueChanged&&this.isCalendar()&&this.popupUpdate(),this.changedArgs.value=this.value,this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!v(e),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)),this.isInteracted=!0),this.isKeyAction=!1},t.prototype.navigatedEvent=function(e){qe(this.navigatedArgs,{name:"navigated",event:e}),this.trigger("navigated",this.navigatedArgs)},t.prototype.keyupHandler=function(e){this.isKeyAction=this.inputElement.value!==this.previousElementValue,this.enableMask&&this.showClearButton&&this.inputElement&&this.inputElement.value===this.maskedDateValue&&this.inputWrapper&&this.inputWrapper.clearButton&&!this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")&&this.inputWrapper.clearButton.classList.add("e-clear-icon-hide")},t.prototype.changeEvent=function(e){!this.isIconClicked&&!(this.isBlur||this.isKeyAction)&&this.selectCalendar(e),(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())?(this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=this.isInteracted,this.isDynamicValueChanged||(this.isAngular&&(this.previousDate=this.value&&new Date(+this.value)),this.trigger("change",this.changedArgs)),this.previousDate=this.value&&new Date(+this.value),this.isDynamicValueChanged||this.hide(e),this.previousElementValue=this.inputElement.value,this.errorClass()):e&&this.hide(e),this.isKeyAction=!1},t.prototype.requiredModules=function(){var e=[];return this.calendarMode==="Islamic"&&e.push({args:[this],member:"islamic",name:"Islamic"}),this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e},t.prototype.selectCalendar=function(e){var i,n,s;this.getModuleName()==="datetimepicker"?n=v(this.formatString)?this.dateTimeFormat:this.formatString:n=this.formatString,this.value&&(this.getModuleName()==="datetimepicker"?(this.calendarMode==="Gregorian"?s={format:n,type:"dateTime",skeleton:"yMd"}:s={format:n,type:"dateTime",skeleton:"yMd",calendar:"islamic"},i=this.globalize.formatDate(this.changedArgs.value,s)):(this.calendarMode==="Gregorian"?s={format:this.formatString,type:"dateTime",skeleton:"yMd"}:s={format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},i=this.globalize.formatDate(this.changedArgs.value,s)),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})),v(i)||(this.updateInputValue(i),this.enableMask&&this.notify("setMaskSelection",{module:"MaskedDateTime"}))},t.prototype.isCalendar=function(){return!!(this.popupWrapper&&this.popupWrapper.classList.contains(""+LU))},t.prototype.setWidth=function(e){typeof e=="number"?this.inputWrapper.container.style.width=bt(this.width):typeof e=="string"?this.inputWrapper.container.style.width=e.match(/px|%|em/)?this.width:bt(this.width):this.inputWrapper.container.style.width="100%"},t.prototype.show=function(e,i){var n=this;if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj)){var s=!0,a=void 0;!v(this.value)&&!(+this.value>=+new Date(this.checkValue(this.min))&&+this.value<=+new Date(this.checkValue(this.max)))?(a=new Date(this.checkValue(this.value)),this.setProperties({value:null},!0)):a=this.value||null,this.isCalendar()||(r.prototype.render.call(this),this.setProperties({value:a||null},!0),this.previousDate=a,this.createCalendar()),Re.isDevice&&(this.mobilePopupWrapper=this.createElement("div",{className:"e-datepick-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),this.preventArgs={preventDefault:function(){s=!1},popup:this.popupObj,event:i||null,cancel:!1,appendTo:Re.isDevice?this.mobilePopupWrapper:document.body};var o=this.preventArgs;this.trigger("open",o,function(l){if(n.preventArgs=l,s&&!n.preventArgs.cancel){pe(n.inputWrapper.buttons,iE),n.preventArgs.appendTo.appendChild(n.popupWrapper),n.popupObj.refreshPosition(n.inputElement);var c={name:"FadeIn",duration:Re.isDevice?0:SMe};if(n.zIndex===1e3?n.popupObj.show(new fo(c),n.element):n.popupObj.show(new fo(c),null),r.prototype.setOverlayIndex.call(n,n.mobilePopupWrapper,n.popupObj.element,n.modal,Re.isDevice),n.setAriaAttributes(),Re.isDevice){var u=n.createElement("div",{className:"e-dlg-overlay"});u.style.zIndex=(n.zIndex-1).toString(),n.mobilePopupWrapper.appendChild(u)}}else n.popupObj.destroy(),n.popupWrapper=n.popupObj=null;!v(n.inputElement)&&n.inputElement.value===""&&!v(n.tableBodyElement)&&n.tableBodyElement.querySelectorAll("td.e-selected").length>0&&(pe([n.tableBodyElement.querySelector("td.e-selected")],IMe),Oe(n.tableBodyElement.querySelectorAll("td.e-selected"),rE)),se.add(document,"mousedown touchstart",n.documentHandler,n)})}},t.prototype.hide=function(e){var i=this;if(v(this.popupWrapper))Re.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit();else{var n=!0;this.preventArgs={preventDefault:function(){n=!1},popup:this.popupObj,event:e||null,cancel:!1},Oe(this.inputWrapper.buttons,iE),Oe([document.body],_U);var s=this.preventArgs;this.isCalendar()?this.trigger("close",s,function(a){i.closeEventCallback(n,a)}):this.closeEventCallback(n,s)}},t.prototype.closeEventCallback=function(e,i){var n=this;this.preventArgs=i,this.isCalendar()&&e&&!this.preventArgs.cancel&&(this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy(),Oe(this.inputWrapper.buttons,iE)),this.setAriaAttributes(),Re.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),Re.isDevice&&!v(this.mobilePopupWrapper)&&e&&(v(this.preventArgs)||!this.preventArgs.cancel)&&(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null),se.remove(document,"mousedown touchstart",this.documentHandler),Re.isDevice&&this.allowEdit&&!this.readonly&&(this.inputElement.removeAttribute("readonly"),Re.isIos&&setTimeout(function(){n.inputElement.focus()},1)),this.setAllowEdit()},t.prototype.focusIn=function(e){document.activeElement!==this.inputElement&&this.enabled&&(this.inputElement.focus(),pe([this.inputWrapper.container],[e4]))},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&(Oe([this.inputWrapper.container],[e4]),this.inputElement.blur())},t.prototype.currentView=function(){var e;return this.calendarElement&&(e=r.prototype.currentView.call(this)),e},t.prototype.navigateTo=function(e,i){this.calendarElement&&r.prototype.navigateTo.call(this,e,i)},t.prototype.destroy=function(){this.unBindEvents(),this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),r.prototype.destroy.call(this),Rt.destroy({element:this.inputElement,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),v(this.keyboardModules)||this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains(TMe)&&r.prototype.destroy.call(this);var e={"aria-atomic":"true","aria-disabled":"true","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"};this.inputElement.hasAttribute("aria-label")&&this.inputElement.removeAttribute("aria-label"),this.inputElement&&(Rt.removeAttributes(e,this.inputElement),v(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),se.remove(this.inputElement,"blur",this.inputBlurHandler),se.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&zt(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy()),this.ngTag===null&&(this.inputElement&&(v(this.inputWrapper)||this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),Oe([this.inputElement],[DMe])),Oe([this.element],[tE]),v(this.inputWrapper)||zt(this.inputWrapper.container)),this.formElement&&se.remove(this.formElement,"reset",this.resetFormHandler),this.inputWrapper=null,this.keyboardModules=null},t.prototype.ensureInputAttribute=function(){for(var e=[],i=0;i<this.inputElement.attributes.length;i++)e[i]=this.inputElement.attributes[i].name;for(var i=0;i<e.length;i++)v(this.inputElementCopy.getAttribute(e[i]))?(e[i].toLowerCase()==="value"&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[i])):(e[i].toLowerCase()==="value"&&(this.inputElement.value=this.inputElementCopy.getAttribute(e[i])),this.inputElement.setAttribute(e[i],this.inputElementCopy.getAttribute(e[i])))},t.prototype.preRender=function(){this.inputElementCopy=this.element.cloneNode(!0),Oe([this.inputElementCopy],[tE,MMe,xMe]),this.inputElement=this.element,this.formElement=Fe(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.ngTag=null,(this.element.tagName==="EJS-DATEPICKER"||this.element.tagName==="EJS-DATETIMEPICKER")&&(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?this.ngTag!==null&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):this.getModuleName()==="datetimepicker"?(this.element.id=Ha("ej2-datetimepicker"),this.ngTag!==null&&Ht(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=Ha("ej2-datepicker"),this.ngTag!==null&&Ht(this.inputElement,{id:this.element.id+"_input"})),this.ngTag!==null&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.checkHtmlAttributes(!1),this.inputFormats&&this.checkInputFormats(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),r.prototype.preRender.call(this)},t.prototype.getDefaultKeyConfig=function(){return this.defaultKeyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",shiftTab:"shift+tab",tab:"tab"},this.defaultKeyConfigs},t.prototype.validationAttribute=function(e,i){var n=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");i.setAttribute("name",n),e.removeAttribute("name");for(var s=["required","aria-required","form"],a=0;a<s.length;a++)if(!v(e.getAttribute(s[a]))){var o=e.getAttribute(s[a]);i.setAttribute(s[a],o),e.removeAttribute(s[a])}},t.prototype.checkFormat=function(){var e=new Ns(this.locale);if(this.format)if(typeof this.format=="string")this.formatString=this.format;else if(this.format.skeleton!==""&&!v(this.format.skeleton)){var i=this.format.skeleton;this.getModuleName()==="datetimepicker"?this.formatString=e.getDatePattern({skeleton:i,type:"dateTime"}):this.formatString=e.getDatePattern({skeleton:i,type:"date"})}else this.getModuleName()==="datetimepicker"?this.formatString=this.dateTimeFormat:this.formatString=null;else this.formatString=null},t.prototype.checkInputFormats=function(){var e=new Ns(this.locale);if(this.inputFormatsString=[],this.inputFormats){for(var i=0,n=this.inputFormats;i<n.length;i++){var s=n[i],a="";if(typeof s=="string")a=s;else if(s.skeleton!==""&&!v(s.skeleton)){var o=s.skeleton;this.getModuleName()==="datetimepicker"?a=e.getDatePattern({skeleton:o,type:"dateTime"}):a=e.getDatePattern({skeleton:o,type:"date"})}a&&this.inputFormatsString.push(a)}this.inputFormatsString.length===0&&(this.inputFormatsString=null)}else this.inputFormatsString=null},t.prototype.checkHtmlAttributes=function(e){this.globalize=new Ns(this.locale),this.checkFormat(),this.checkView();var i=e?v(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","disabled","readonly","style","name","placeholder","type"],n;this.getModuleName()==="datetimepicker"?this.calendarMode==="Gregorian"?n={format:v(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:n={format:v(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:this.calendarMode==="Gregorian"?n={format:this.formatString,type:"dateTime",skeleton:"yMd"}:n={format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};for(var s=0,a=i;s<a.length;s++){var o=a[s];if(!v(this.inputElement.getAttribute(o)))switch(o){case"disabled":if(v(this.datepickerOptions)||this.datepickerOptions.enabled===void 0||e){var l=!(this.inputElement.getAttribute(o)==="disabled"||this.inputElement.getAttribute(o)===""||this.inputElement.getAttribute(o)==="true");this.setProperties({enabled:l},!e)}break;case"readonly":if(v(this.datepickerOptions)||this.datepickerOptions.readonly===void 0||e){var c=this.inputElement.getAttribute(o)==="readonly"||this.inputElement.getAttribute(o)===""||this.inputElement.getAttribute(o)==="true";this.setProperties({readonly:c},!e)}break;case"placeholder":(v(this.datepickerOptions)||this.datepickerOptions.placeholder===void 0||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(o)},!e);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(o));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(o));break;case"value":if(v(this.datepickerOptions)||this.datepickerOptions.value===void 0||e){var u=this.inputElement.getAttribute(o);this.setProperties(Yr(o,this.globalize.parseDate(this.getAmPmValue(u),n),{}),!e)}break;case"min":if(+this.min==+new Date(1900,0,1)||e){var d=this.inputElement.getAttribute(o);this.setProperties(Yr(o,this.globalize.parseDate(this.getAmPmValue(d),n),{}),!e)}break;case"max":if(+this.max==+new Date(2099,11,31)||e){var p=this.inputElement.getAttribute(o);this.setProperties(Yr(o,this.globalize.parseDate(this.getAmPmValue(p),n),{}),!e)}break;case"type":this.inputElement.getAttribute(o)!=="text"&&this.inputElement.setAttribute("type","text");break}}},t.prototype.getModuleName=function(){return"datepicker"},t.prototype.disabledDates=function(e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var n,s,a=this.checkDateValue(this.value)?new Date(+this.value):new Date(this.checkValue(this.value)),o=this.previousDate;this.minMaxUpdates(),(!e||e&&!v(this.renderDayCell))&&r.prototype.render.call(this),this.previousDate=o;var l=a&&+a,c='*[id^="/id"]'.replace("/id",""+l);this.strictMode||(typeof this.value=="string"||typeof this.value=="object"&&+this.value!=+a)&&this.setProperties({value:a},!0),!v(this.calendarElement)&&!v(this.calendarElement.querySelectorAll(c)[0])&&this.calendarElement.querySelectorAll(c)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date(new Date().setHours(0,0,0,0))));var u;this.getModuleName()==="datetimepicker"?(this.calendarMode==="Gregorian"?s=this.globalize.formatDate(a,{format:v(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}):s=this.globalize.formatDate(a,{format:v(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),u=s):(this.calendarMode==="Gregorian"?n={format:this.formatString,type:"dateTime",skeleton:"yMd"}:n={format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},u=this.globalize.formatDate(a,n)),this.popupObj||(this.updateInputValue(u),this.enableMask&&(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime",isBlur:i})))},t.prototype.setAriaAttributes=function(){this.isCalendar()?(Rt.addAttributes({"aria-expanded":"true"},this.inputElement),Ht(this.inputElement,{"aria-owns":this.inputElement.id+"_options"}),Ht(this.inputElement,{"aria-controls":this.inputElement.id}),this.value&&Ht(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(Rt.addAttributes({"aria-expanded":"false"},this.inputElement),this.inputElement.removeAttribute("aria-owns"),this.inputElement.removeAttribute("aria-controls"),this.inputElement.removeAttribute("aria-activedescendant"))},t.prototype.errorClass=function(){var e='*[id^="/id"]'.replace("/id",""+ +this.value),i=this.calendarElement&&this.calendarElement.querySelectorAll(e)[0]&&this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled");!v(this.value)&&!v(this.min)&&!v(this.max)&&!(new Date(this.value).setMilliseconds(0)>=new Date(this.min).setMilliseconds(0)&&new Date(this.value).setMilliseconds(0)<=new Date(this.max).setMilliseconds(0))||!this.strictMode&&this.inputElement.value!==""&&this.inputElement.value!==this.maskedDateValue&&v(this.value)||i||!this.isValidTime(this.value)?(pe([this.inputWrapper.container],jU),Ht(this.inputElement,{"aria-invalid":"true"})):v(this.inputWrapper)||(Oe([this.inputWrapper.container],jU),Ht(this.inputElement,{"aria-invalid":"false"}))},t.prototype.isValidTime=function(e){return!0},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n],o=["blur","change","cleared","close","created","destroyed","focus","navigated","open","renderDayCell"];switch(o.indexOf(a)>0&&this.isReact&&(this.isDynamicValueChanged=!0),a){case"value":this.isDynamicValueChanged=!0,this.isInteracted=!1,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.previousElementValue=this.inputElement.value,v(this.value)&&(this.enableMask?this.updateInputValue(this.maskedDateValue):this.updateInputValue(""),this.currentDate=new Date(new Date().setHours(0,0,0,0))),this.updateInput(!0),+this.previousDate!=+this.value&&this.changeTrigger(null),this.isInteracted=!0,this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"format":this.checkFormat(),this.bindInputEvent(),this.updateInput(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||this.updateInputValue(this.maskedDateValue));break;case"inputFormats":this.checkInputFormats();break;case"allowEdit":this.setAllowEdit();break;case"placeholder":Rt.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":Rt.setReadonly(this.readonly,this.inputElement);break;case"enabled":Rt.setEnabled(this.enabled,this.inputElement),this.setAriaDisabled();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkHtmlAttributes(!0);break;case"locale":this.globalize=new Ns(this.locale),this.l10n.setLocale(this.locale),this.datepickerOptions&&this.datepickerOptions.placeholder==null&&(this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),Rt.setPlaceholder(this.placeholder,this.inputElement)),this.updateInput(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"enableRtl":Rt.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&r.prototype.onPropertyChanged.call(this,e,i);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"cssClass":this.updateCssClass(e.cssClass,i.cssClass);break;case"showClearButton":Rt.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent(),this.index=this.showClearButton?2:1;break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width),Rt.calculateWidth(this.inputElement,this.inputWrapper.container),!v(this.inputWrapper.buttons[0])&&!v(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&this.floatLabelType!=="Never"&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"floatLabelType":this.floatLabelType=e.floatLabelType,Rt.removeFloating(this.inputWrapper),Rt.addFloating(this.inputElement,this.floatLabelType,this.placeholder),!v(this.inputWrapper.buttons[0])&&!v(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&this.floatLabelType!=="Never"&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue),this.bindInputEvent()):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("");break;default:this.calendarElement&&this.isCalendar()&&r.prototype.onPropertyChanged.call(this,e,i),a==="min"&&v(this.min)&&(this.min=new Date(1900,0,1)),a==="max"&&v(this.max)&&(this.max=new Date(2099,11,31));break}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}},t.prototype.addDate=function(e){},On([ee(null)],t.prototype,"width",void 0),On([ee(null)],t.prototype,"value",void 0),On([ee(null)],t.prototype,"cssClass",void 0),On([ee(!1)],t.prototype,"strictMode",void 0),On([ee(null)],t.prototype,"format",void 0),On([ee(null)],t.prototype,"inputFormats",void 0),On([ee(!0)],t.prototype,"enabled",void 0),On([ee(!1)],t.prototype,"fullScreenMode",void 0),On([ee({})],t.prototype,"htmlAttributes",void 0),On([ee(null)],t.prototype,"values",void 0),On([ee(!1)],t.prototype,"isMultiSelection",void 0),On([ee(!0)],t.prototype,"showClearButton",void 0),On([ee(!0)],t.prototype,"allowEdit",void 0),On([ee(null)],t.prototype,"keyConfigs",void 0),On([ee(!1)],t.prototype,"enablePersistence",void 0),On([ee(1e3)],t.prototype,"zIndex",void 0),On([ee(!1)],t.prototype,"readonly",void 0),On([ee(null)],t.prototype,"placeholder",void 0),On([ee("Never")],t.prototype,"floatLabelType",void 0),On([ee(null)],t.prototype,"serverTimezoneOffset",void 0),On([ee(!1)],t.prototype,"openOnFocus",void 0),On([ee(!1)],t.prototype,"enableMask",void 0),On([ee({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),On([Xe()],t.prototype,"open",void 0),On([Xe()],t.prototype,"cleared",void 0),On([Xe()],t.prototype,"close",void 0),On([Xe()],t.prototype,"blur",void 0),On([Xe()],t.prototype,"focus",void 0),On([Xe()],t.prototype,"created",void 0),On([Xe()],t.prototype,"destroyed",void 0),t=On([$n],t),t})(aK),lK=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Ir=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},CMe="e-time-wrapper",OMe="e-popup",RU="e-error",PU="240px",FU=new Date().getDate(),BU=new Date().getMonth(),UU=new Date().getFullYear(),nE="e-timepicker",kMe="e-lib",LMe="e-control",jMe="e-content",y0="e-active",i4="e-hover",r4="e-navigation",qh="e-disabled",_Me="e-icon-anim",n4="e-input-focus",np="e-list-item",VU=2,HU=50,WU="e-time-overflow",zMe=4,s4="e-non-edit",YU=["title","class","style"],PO;(function(r){function t(e,i,n,s,a,o){this.calendarMode;var l,c=o*6e4,u=[],d=[];l=+i.setMilliseconds(0);for(var p=+n.setMilliseconds(0);p>=l;)d.push(l),u.push(s.formatDate(new Date(l),{format:a,type:"time"})),l+=c;var m=en.createList(e,u,null,!0);return{collection:d,list:m}}r.createListItems=t})(PO||(PO={}));(function(r){lK(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Ir([ee("day")],t.prototype,"day",void 0),Ir([ee("month")],t.prototype,"month",void 0),Ir([ee("year")],t.prototype,"year",void 0),Ir([ee("day of the week")],t.prototype,"dayOfTheWeek",void 0),Ir([ee("hour")],t.prototype,"hour",void 0),Ir([ee("minute")],t.prototype,"minute",void 0),Ir([ee("second")],t.prototype,"second",void 0),t})(fa);(function(r){lK(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.liCollections=[],n.timeCollections=[],n.disableItemCollection=[],n.invalidValueString=null,n.preventChange=!1,n.maskedDateValue="",n.moduleName=n.getModuleName(),n.timeOptions=e,n}return t.prototype.preRender=function(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.cloneElement=this.element.cloneNode(!0),Oe([this.cloneElement],[nE,LMe,kMe]),this.inputElement=this.element,this.angularTag=null,this.formElement=Fe(this.element,"form"),this.element.tagName==="EJS-TIMEPICKER"&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.openPopupEventArgs={appendTo:document.body}},t.prototype.render=function(){this.initialize(),this.createInputElement(),this.updateHtmlAttributeToWrapper(),this.setTimeAllowEdit(),this.setEnable(),this.validateInterval(),this.bindEvents(),this.validateDisable(),this.setTimeZone(),this.setValue(this.getFormattedValue(this.value)),this.enableMask&&!this.value&&this.maskedDateValue&&(this.floatLabelType==="Always"||!this.floatLabelType||!this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.checkErrorState(this.maskedDateValue)),this.anchor=this.inputElement,this.inputElement.setAttribute("value",this.inputElement.value),this.inputEleValue=this.getDateObject(this.inputElement.value),!v(this.inputWrapper.buttons[0])&&!v(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&this.floatLabelType!=="Never"&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon"),!v(Fe(this.element,"fieldset"))&&Fe(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete()},t.prototype.setTimeZone=function(){if(!v(this.serverTimezoneOffset)&&this.value){var e=new Date().getTimezoneOffset()/60,i=this.serverTimezoneOffset,n=i+e;n=this.isDayLightSaving()?n--:n,this.value=new Date(this.value.getTime()+n*60*60*1e3)}},t.prototype.isDayLightSaving=function(){var e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),i=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,i)},t.prototype.setTimeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):Ht(this.inputElement,{readonly:""}),this.clearIconState()},t.prototype.clearIconState=function(){!this.allowEdit&&this.inputWrapper&&!this.readonly?this.inputElement.value===""?Oe([this.inputWrapper.container],[s4]):pe([this.inputWrapper.container],[s4]):this.inputWrapper&&Oe([this.inputWrapper.container],[s4])},t.prototype.validateDisable=function(){this.setMinMax(this.initMin,this.initMax),v(this.value)||(this.popupCreation(),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null),!isNaN(+this.value)&&this.value!==null&&(this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax)))},t.prototype.validationAttribute=function(e,i){var n=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");i.setAttribute("name",n),e.removeAttribute("name");for(var s=["required","aria-required","form"],a=0;a<s.length;a++)if(!v(e.getAttribute(s[a]))){var o=e.getAttribute(s[a]);i.setAttribute(s[a],o),e.removeAttribute(s[a])}},t.prototype.initialize=function(){this.globalize=new Ns(this.locale),this.defaultCulture=new Ns("en"),this.checkTimeFormat(),this.checkInvalidValue(this.value),this.setProperties({value:this.checkDateValue(new Date(this.checkInValue(this.value)))},!0),this.setProperties({min:this.checkDateValue(new Date(this.checkInValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkInValue(this.max)))},!0),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))},!0),this.angularTag!==null&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.checkAttributes(!1);var e={placeholder:this.placeholder};this.l10n=new Ql("timepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=this.isTextSelected=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,v(this.element.getAttribute("id"))?(this.element.id=Ha("ej2_timepicker"),this.angularTag!==null&&Ht(this.inputElement,{id:this.element.id+"_input"})):this.angularTag!==null&&(this.inputElement.id=this.element.getAttribute("id")+"_input"),v(this.inputElement.getAttribute("name"))&&Ht(this.inputElement,{name:this.element.id}),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})},t.prototype.checkTimeFormat=function(){if(this.format)if(typeof this.format=="string")this.formatString=this.format;else if(!v(this.format.skeleton)&&this.format.skeleton!==""){var e=this.format.skeleton;this.formatString=this.globalize.getDatePattern({type:"time",skeleton:e})}else this.formatString=this.globalize.getDatePattern({type:"time",skeleton:"short"});else this.formatString=null},t.prototype.checkDateValue=function(e){return!v(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.createInputElement=function(){this.fullScreenMode&&Re.isDevice&&(this.cssClass+=" e-popup-expand");var e=this.cssClass,i=!this.enableMask;!v(this.cssClass)&&this.cssClass!==""&&(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=Rt.createInput({element:this.inputElement,bindClearAction:i,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]},this.createElement),this.inputWrapper.container.style.width=this.setWidth(this.width),Ht(this.inputElement,{"aria-autocomplete":"list",tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"}),this.isNullOrEmpty(this.inputStyle)||Rt.addAttributes({style:this.inputStyle},this.inputElement),pe([this.inputWrapper.container],CMe)},t.prototype.getCldrDateTimeFormat=function(){var e=new Ns(this.locale),i,n=e.getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?i=n+" "+this.cldrFormat("time"):i=this.formatString,i},t.prototype.checkInvalidValue=function(e){var i=!1;if(typeof e!="object"&&!v(e)){var n=e;typeof n=="string"&&(n=n.trim());var s=null,a=null;if(typeof e=="number"?n=e.toString():typeof e=="string"&&(/^[a-zA-Z0-9- ]*$/.test(e)||(s=this.setCurrentDate(this.getDateObject(e)),v(s)&&(s=this.checkDateValue(this.globalize.parseDate(this.getAmPmValue(n),{format:this.getCldrDateTimeFormat(),type:"datetime"})),v(s)&&(s=this.checkDateValue(this.globalize.parseDate(this.getAmPmValue(n),{format:this.formatString,type:"dateTime",skeleton:"yMd"})))))),a=this.globalize.parseDate(this.getAmPmValue(n),{format:this.getCldrDateTimeFormat(),type:"datetime"}),s=!v(a)&&a instanceof Date&&!isNaN(+a)?a:null,v(s)&&n.replace(/\s/g,"").length){var o=null,l=null;o=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,l=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!o.test(n)&&!l.test(n)||/^[a-zA-Z0-9- ]*$/.test(e)||isNaN(+new Date(""+n))?i=!0:s=new Date(""+n)}i?(this.strictMode||(this.invalidValueString=n),this.setProperties({value:null},!0),this.initValue=null):(this.setProperties({value:s},!0),this.initValue=this.value)}},t.prototype.requiredModules=function(){var e=[];return this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e},t.prototype.getAmPmValue=function(e){try{return typeof e=="string"&&e.trim()!==""?e.replace(/(am|pm|Am|aM|pM|Pm)/g,function(i){return i.toLocaleUpperCase()}):""}catch(i){return console.error("Error occurred while processing date:",i),""}},t.prototype.cldrFormat=function(e){var i;return this.locale==="en"||this.locale==="en-US"?i=Pe("timeFormats.short",yl()):i=this.getCultureTimeObject(ws,""+this.locale),i},t.prototype.destroy=function(){this.hide(),this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),this.unBindEvents();var e={"aria-autocomplete":"list",tabindex:"0","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"};this.inputElement&&(Rt.removeAttributes(e,this.inputElement),this.angularTag===null&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),v(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),v(this.cloneElement.getAttribute("disabled"))&&Rt.setEnabled(!0,this.inputElement,this.floatLabelType)),this.inputWrapper.container&&zt(this.inputWrapper.container),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],v(this.rippleFn)||this.rippleFn(),Rt.destroy({element:this.inputElement,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),r.prototype.destroy.call(this),this.formElement&&se.remove(this.formElement,"reset",this.formResetHandler),this.rippleFn=null,this.openPopupEventArgs=null,this.selectedElement=null,this.listTag=null,this.liCollections=null},t.prototype.ensureInputAttribute=function(){for(var e=[],i=0;i<this.inputElement.attributes.length;i++)e[i]=this.inputElement.attributes[i].name;for(var i=0;i<e.length;i++)v(this.cloneElement.getAttribute(e[i]))?(this.inputElement.removeAttribute(e[i]),e[i].toLowerCase()==="value"&&(this.inputElement.value="")):(this.inputElement.setAttribute(e[i],this.cloneElement.getAttribute(e[i])),e[i].toLowerCase()==="value"&&(this.inputElement.value=this.cloneElement.getAttribute(e[i])))},t.prototype.popupCreation=function(){this.popupWrapper=this.createElement("div",{className:nE+" "+OMe,attrs:{id:this.element.id+"_popup"}}),this.popupWrapper.style.visibility="hidden",this.popupWrapper.setAttribute("aria-label",this.element.id),this.popupWrapper.setAttribute("role","dialog"),v(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),!v(this.step)&&this.step>0&&(this.generateList(),ri([this.listWrapper],this.popupWrapper)),this.addSelection(),this.renderPopup(),zt(this.popupWrapper)},t.prototype.getPopupHeight=function(){var e=parseInt(PU,10),i=this.popupWrapper.getBoundingClientRect().height;return i>e?e:i},t.prototype.generateList=function(){this.createListItems(),this.wireListEvents();var e={duration:300,selector:"."+np};this.rippleFn=ed(this.listWrapper,e),this.liCollections=this.listWrapper.querySelectorAll("."+np)},t.prototype.renderPopup=function(){var e=this;if(this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),this.popupObj=new xh(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",position:Re.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},collision:Re.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},enableRtl:this.enableRtl,relateTo:Re.isDevice?document.body:this.inputWrapper.container,offsetY:zMe,open:function(){e.popupWrapper.style.visibility="visible",pe([e.inputWrapper.buttons[0]],y0)},close:function(){Oe([e.inputWrapper.buttons[0]],y0),e.unWireListEvents(),e.inputElement.removeAttribute("aria-activedescendant"),ji(e.popupObj.element),e.popupObj.destroy(),e.popupWrapper.innerHTML="",e.listWrapper=e.popupWrapper=e.listTag=void 0},targetExitViewport:function(){Re.isDevice||e.hide()}}),Re.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),Re.isDevice&&this.fullScreenMode?(this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%"):this.popupObj.element.style.maxHeight=PU,Re.isDevice&&this.fullScreenMode){var i=this.createElement("div",{className:"e-model-header"}),n=this.createElement("span",{className:"e-model-title"});n.textContent="Select time";var s=this.createElement("span",{className:"e-popup-close"});se.add(s,"mousedown touchstart",this.timePopupCloseHandler,this),i.appendChild(s),i.appendChild(n),this.popupWrapper.insertBefore(i,this.popupWrapper.firstElementChild)}},t.prototype.timePopupCloseHandler=function(e){this.hide()},t.prototype.getFormattedValue=function(e){return v(this.checkDateValue(e))?null:this.globalize.formatDate(e,{skeleton:"medium",type:"time"})},t.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var i=this.createDateObj(e),n=!this.isNullOrEmpty(this.initValue);if(this.checkDateValue(i)){var s=n?this.initValue.getDate():FU,a=n?this.initValue.getMonth():BU,o=n?this.initValue.getFullYear():UU;return new Date(o,a,s,i.getHours(),i.getMinutes(),i.getSeconds())}}return null},t.prototype.updateHtmlAttributeToWrapper=function(){if(!v(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if(YU.indexOf(n)>-1)if(n==="class"){var s=this.htmlAttributes[""+n].replace(/\s+/g," ").trim();s!==""&&pe([this.inputWrapper.container],s.split(" "))}else if(n==="style"){var a=this.inputWrapper.container.getAttribute(n);a=v(a)?this.htmlAttributes[""+n]:a+this.htmlAttributes[""+n],this.inputWrapper.container.setAttribute(n,a)}else this.inputWrapper.container.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateHtmlAttributeToElement=function(){if(!v(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];YU.indexOf(n)<0&&this.inputElement.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.updateCssClass=function(e,i){v(i)||(i=i.replace(/\s+/g," ").trim()),v(e)||(e=e.replace(/\s+/g," ").trim()),Rt.setCssClass(e,[this.inputWrapper.container],i),this.popupWrapper&&Rt.setCssClass(e,[this.popupWrapper],i)},t.prototype.removeErrorClass=function(){Oe([this.inputWrapper.container],RU),Ht(this.inputElement,{"aria-invalid":"false"})},t.prototype.checkErrorState=function(e){var i=this.getDateObject(e);this.validateState(i)&&!this.invalidValueString||this.enableMask&&this.inputElement.value===this.maskedDateValue?this.removeErrorClass():(pe([this.inputWrapper.container],RU),Ht(this.inputElement,{"aria-invalid":"true"}))},t.prototype.validateInterval=function(){!v(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()},t.prototype.disableTimeIcon=function(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()},t.prototype.disableElement=function(e){pe(e,qh)},t.prototype.enableElement=function(e){Oe(e,qh)},t.prototype.selectInputText=function(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)},t.prototype.setCursorToEnd=function(){this.inputElement.setSelectionRange(this.inputElement.value.length,this.inputElement.value.length)},t.prototype.getMeridianText=function(){var e;if(this.locale==="en"||this.locale==="en-US")e=Pe("dayPeriods.format.wide",yl());else{var i=".dates.calendars.gregorian.dayPeriods.format.abbreviated",n="main.";e=Pe(n+""+this.locale+i,ws)}return e},t.prototype.getCursorSelection=function(){var e=this.inputElement,i=0,n=0;return isNaN(e.selectionStart)||(i=e.selectionStart,n=e.selectionEnd),{start:Math.abs(i),end:Math.abs(n)}},t.prototype.getActiveElement=function(){return v(this.popupWrapper)?null:this.popupWrapper.querySelectorAll("."+y0)},t.prototype.isNullOrEmpty=function(e){return!!(v(e)||typeof e=="string"&&e.trim()==="")},t.prototype.setWidth=function(e){return typeof e=="number"?e=bt(e):typeof e=="string"?e=e.match(/px|%|em/)?e:bt(e):e="100%",e},t.prototype.setPopupWidth=function(e){if(e=this.setWidth(e),e.indexOf("%")>-1){var i=this.containerStyle.width*parseFloat(e)/100;e=i.toString()+"px"}return e},t.prototype.setScrollPosition=function(){var e=this.selectedElement;v(e)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},t.prototype.findScrollTop=function(e){var i=this.getPopupHeight(),n=e.nextElementSibling,s=n?n.offsetTop:e.offsetTop,a=e.getBoundingClientRect().height;s+e.offsetTop>i?this.popupWrapper.scrollTop=n?s-(i/VU+a/VU):s:this.popupWrapper.scrollTop=0},t.prototype.setScrollTo=function(){var e;if(v(this.popupWrapper))this.popupWrapper.scrollTop=0;else{var i=this.popupWrapper.querySelectorAll("."+np);if(i.length){var n=this.timeCollections[0],s=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=i[Math.round((s-n)/(this.step*6e4))]}}v(e)?this.popupWrapper.scrollTop=0:this.findScrollTop(e)},t.prototype.getText=function(){return v(this.checkDateValue(this.value))?"":this.getValue(this.value)},t.prototype.getValue=function(e){return v(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.cldrDateFormat=function(){var e;return this.locale==="en"||this.locale==="en-US"?e=Pe("dateFormats.short",yl()):e=this.getCultureDateObject(ws,""+this.locale),e},t.prototype.cldrTimeFormat=function(){var e;return this.isNullOrEmpty(this.formatString)?this.locale==="en"||this.locale==="en-US"?e=Pe("timeFormats.short",yl()):e=this.getCultureTimeObject(ws,""+this.locale):e=this.formatString,e},t.prototype.dateToNumeric=function(){var e;return this.locale==="en"||this.locale==="en-US"?e=Pe("timeFormats.medium",yl()):e=Pe("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",ws),e},t.prototype.getExactDateTime=function(e){return v(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.dateToNumeric(),type:"time"})},t.prototype.setValue=function(e){var i=this.checkValue(e);!this.strictMode&&!this.validateState(i)?(this.checkDateValue(this.valueWithMinutes)===null&&(this.initValue=this.valueWithMinutes=null),this.validateMinMax(this.value,this.min,this.max)):this.isNullOrEmpty(i)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(i),this.updateInput(!0,this.initValue)},t.prototype.compareFormatChange=function(e){return v(e)?null:e!==this.getText()?this.getDateObject(e):this.getDateObject(this.value)},t.prototype.updatePlaceHolder=function(){Rt.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)},t.prototype.updateInputValue=function(e){Rt.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnTimeIconClick")},t.prototype.popupHandler=function(e){this.enabled&&(Re.isDevice&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.isPopupOpen()?this.closePopup(0,e):(this.inputElement.focus(),this.show(e)))},t.prototype.mouseDownHandler=function(){this.enabled&&(this.readonly||(this.inputElement.setSelectionRange(0,0),se.add(this.inputElement,"mouseup",this.mouseUpHandler,this)))},t.prototype.mouseUpHandler=function(e){if(!this.readonly)if(e.preventDefault(),this.enableMask){e.preventDefault(),this.notify("setMaskSelection",{module:"MaskedDateTime"});return}else{se.remove(this.inputElement,"mouseup",this.mouseUpHandler);var i=this.getCursorSelection();i.start===0&&i.end===this.inputElement.value.length||(this.inputElement.value.length>0&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}},t.prototype.focusSelection=function(){var e=new RegExp("^[a-zA-Z0-9]+$"),i=this.inputElement.value.split("");i.push(" ");var n=this.getCursorSelection(),s=0,a=0,o=!1;if(this.isTextSelected)s=n.start,a=n.end,this.isTextSelected=!1;else for(var l=0;l<i.length;l++)if(e.test(i[l])||(a=l,o=!0),o)if(n.start>=s&&n.end<=a){a=a,this.isTextSelected=!0;break}else s=l+1,o=!1;return{start:s,end:a}},t.prototype.inputHandler=function(e){if(!this.readonly&&this.enabled)switch(e.action==="right"||e.action==="left"||e.action==="tab"||(e.action==="home"||e.action==="end"||e.action==="up"||e.action==="down")&&!this.isPopupOpen()&&!this.enableMask||e.preventDefault(),e.action){case"home":case"end":case"up":case"down":this.isPopupOpen()||(this.popupCreation(),this.popupObj.destroy(),this.popupObj=this.popupWrapper=null),this.enableMask&&!this.readonly&&!this.isPopupOpen()&&(e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e})),this.isPopupOpen()&&this.keyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,e)):this.updateValue(this.inputElement.value,e),this.hide(),this.isNavigate=!1,this.isPopupOpen()&&e.stopPropagation();break;case"open":this.show(e);break;case"escape":this.updateInputValue(this.objToString(this.value)),this.enableMask&&(this.value||this.updateInputValue(this.maskedDateValue),this.createMask()),this.previousState(this.value),this.hide();break;case"close":this.hide();break;case"right":case"left":case"tab":case"shiftTab":!this.isPopupOpen()&&this.enableMask&&!this.readonly&&((this.inputElement.selectionStart===0&&this.inputElement.selectionEnd===this.inputElement.value.length||this.inputElement.selectionEnd!==this.inputElement.value.length&&e.action==="tab"||this.inputElement.selectionStart!==0&&e.action==="shiftTab"||e.action==="left"||e.action==="right")&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}));break;default:this.isNavigate=!1;break}},t.prototype.onMouseClick=function(e){var i=e.target,n=this.selectedElement=Fe(i,"."+np);this.setSelection(n,e),n&&n.classList.contains(np)&&this.hide()},t.prototype.closePopup=function(e,i){var n=this;if(this.isPopupOpen()&&this.popupWrapper){var s={popup:this.popupObj,event:i||null,cancel:!1,name:"open"};Oe([document.body],WU),this.trigger("close",s,function(a){if(!a.cancel){var o={name:"FadeOut",duration:HU,delay:e||0};n.popupObj.hide(new fo(o)),Oe([n.inputWrapper.container],[_Me]),Ht(n.inputElement,{"aria-expanded":"false"}),n.inputElement.removeAttribute("aria-owns"),n.inputElement.removeAttribute("aria-controls"),n.inputElement.removeAttribute("aria-activedescendant"),se.remove(document,"mousedown touchstart",n.documentClickHandler)}Re.isDevice&&n.modal&&(n.modal.style.display="none",n.modal.outerHTML="",n.modal=null),Re.isDevice&&(v(n.mobileTimePopupWrap)||(n.mobileTimePopupWrap.remove(),n.mobileTimePopupWrap=null)),Re.isDevice&&n.allowEdit&&!n.readonly&&n.inputElement.removeAttribute("readonly")})}else Re.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")},t.prototype.disposeServerPopup=function(){this.popupWrapper&&(this.popupWrapper.style.visibility="hidden",this.popupWrapper.style.top="-9999px",this.popupWrapper.style.left="-9999px",this.popupWrapper.style.width="0px",this.popupWrapper.style.height="0px")},t.prototype.checkValueChange=function(e,i){if(!this.strictMode&&!this.validateState(this.valueWithMinutes))this.checkDateValue(this.valueWithMinutes)===null&&(this.initValue=this.valueWithMinutes=null),this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.initValue=this.valueWithMinutes=this.compareFormatChange(this.inputElement.value),this.prevValue=this.inputElement.value,+this.prevDate!=+this.value&&this.changeEvent(e);else if(i){var n=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!=+n&&this.valueProcess(e,n)}else{var n=this.compareFormatChange(this.inputElement.value);(+this.prevDate!=+n||v(this.checkDateValue(this.value)))&&this.valueProcess(e,n)}},t.prototype.onMouseOver=function(e){var i=Fe(e.target,"."+np);this.setHover(i,i4)},t.prototype.setHover=function(e,i){this.enabled&&this.isValidLI(e)&&!e.classList.contains(i)&&(this.removeHover(i),pe([e],i),i===r4&&e.setAttribute("aria-selected","true"))},t.prototype.setSelection=function(e,i){this.isValidLI(e)&&(this.checkValue(e.getAttribute("data-value")),this.enableMask&&this.createMask(),this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),pe([this.selectedElement],y0),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(i,!0))},t.prototype.onMouseLeave=function(){this.removeHover(i4)},t.prototype.scrollHandler=function(){this.getModuleName()==="timepicker"&&Re.isDevice||this.hide()},t.prototype.setMinMax=function(e,i){v(this.checkDateValue(e))&&(this.initMin=this.getDateObject("12:00:00 AM")),v(this.checkDateValue(i))&&(this.initMax=this.getDateObject("11:59:59 PM"))},t.prototype.validateMinMax=function(e,i,n){var s=e instanceof Date?e:this.getDateObject(e);return v(this.checkDateValue(s))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():e=this.strictOperation(this.initMin,this.initMax,e,s),this.strictMode&&(e=this.valueIsDisable(e)?e:null),this.checkErrorState(e),e},t.prototype.valueIsDisable=function(e){if(!v(this.disableItemCollection)&&this.disableItemCollection.length>0){if(this.disableItemCollection.length===this.timeCollections.length)return!1;for(var i=e instanceof Date?this.objToString(e):e,n=0;n<this.disableItemCollection.length;n++)if(i===this.disableItemCollection[n])return!1}return!0},t.prototype.validateState=function(e){if(!this.strictMode)if(this.valueIsDisable(e)){var i=typeof e=="string"?this.setCurrentDate(this.getDateObject(e)):this.setCurrentDate(this.getDateObject(e)),n=this.setCurrentDate(this.getDateObject(this.initMax)),s=this.setCurrentDate(this.getDateObject(this.initMin));if(v(this.checkDateValue(i))){if(+n<+s||this.inputElement.value!=="")return!1}else if(+i>+n||+i<+s)return!1}else return!1;return!0},t.prototype.strictOperation=function(e,i,n,s){var a=this.createDateObj(this.getFormattedValue(i)),o=this.createDateObj(this.getFormattedValue(e)),l=this.createDateObj(this.getFormattedValue(s));if(this.strictMode){if(+o>+a)return this.disableTimeIcon(),this.initValue=this.getDateObject(a),this.updateInputValue(this.getValue(this.initValue)),this.enableMask&&this.createMask(),this.inputElement.value;if(+o>=+l)return this.getDateObject(o);if(+l>=+a||+o==+a)return this.getDateObject(a)}else if(+o>+a&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(n))))return n;return n},t.prototype.bindEvents=function(){se.add(this.inputWrapper.buttons[0],"mousedown",this.popupHandler,this),se.add(this.inputElement,"blur",this.inputBlurHandler,this),se.add(this.inputElement,"focus",this.inputFocusHandler,this),se.add(this.inputElement,"change",this.inputChangeHandler,this),se.add(this.inputElement,"input",this.inputEventHandler,this),this.enableMask&&(se.add(this.inputElement,"keydown",this.keydownHandler,this),se.add(this.inputElement,"keyup",this.keyupHandler,this)),this.showClearButton&&this.inputWrapper.clearButton&&se.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this),this.formElement&&se.add(this.formElement,"reset",this.formResetHandler,this),Re.isDevice||(this.keyConfigure=qe(this.keyConfigure,this.keyConfigs),this.inputEvent=new Yl(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.inputElement&&(this.showClearButton||this.enableMask)&&se.add(this.inputElement,"mousedown",this.mouseDownHandler,this))},t.prototype.keydownHandler=function(e){switch(e.code){case"Delete":this.enableMask&&!this.popupObj&&!this.readonly&&this.notify("keyDownHandler",{module:"MaskedDateTime",e});break}},t.prototype.keyupHandler=function(e){(e.code==="Backspace"||e.code==="Delete")&&this.enableMask&&this.showClearButton&&this.inputElement&&this.inputElement.value===this.maskedDateValue&&this.inputWrapper&&this.inputWrapper.clearButton&&!this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")&&this.inputWrapper.clearButton.classList.add("e-clear-icon-hide")},t.prototype.formResetHandler=function(){if(this.enabled&&!this.inputElement.disabled){var e=this.inputElement.getAttribute("value"),i=this.checkDateValue(this.inputEleValue);this.element.tagName==="EJS-TIMEPICKER"&&(i=null,e="",this.inputElement.setAttribute("value","")),this.setProperties({value:i},!0),this.prevDate=this.value,this.valueWithMinutes=this.value,this.initValue=this.value,this.inputElement&&(this.updateInputValue(e),this.enableMask&&(e||this.updateInputValue(this.maskedDateValue),this.createMask()),this.checkErrorState(e),this.prevValue=this.inputElement.value)}},t.prototype.inputChangeHandler=function(e){this.enabled&&e.stopPropagation()},t.prototype.inputEventHandler=function(){this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})},t.prototype.unBindEvents=function(){this.inputWrapper&&se.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.popupHandler),se.remove(this.inputElement,"blur",this.inputBlurHandler),se.remove(this.inputElement,"focus",this.inputFocusHandler),se.remove(this.inputElement,"change",this.inputChangeHandler),se.remove(this.inputElement,"input",this.inputEventHandler),this.enableMask&&se.remove(this.inputElement,"keyup",this.keyupHandler),this.inputEvent&&this.inputEvent.destroy(),se.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler),this.showClearButton&&!v(this.inputWrapper)&&!v(this.inputWrapper.clearButton)&&se.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler),this.formElement&&se.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&se.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this)},t.prototype.raiseClearedEvent=function(e){var i={event:e};this.trigger("cleared",i)},t.prototype.clearHandler=function(e){if(this.enabled&&(e.preventDefault(),v(this.value)?(this.resetState(),this.raiseClearedEvent(e)):this.clear(e),this.popupWrapper&&(this.popupWrapper.scrollTop=0),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}),Fe(this.element,"form"))){var i=this.element,n=document.createEvent("KeyboardEvent");n.initEvent("keyup",!1,!0),i.dispatchEvent(n)}},t.prototype.clear=function(e){this.setProperties({value:null},!0),this.initValue=null,this.resetState(),this.raiseClearedEvent(e),this.changeEvent(e)},t.prototype.setZIndex=function(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())},t.prototype.checkAttributes=function(e){for(var i=e?v(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["step","disabled","readonly","style","name","value","min","max","placeholder"],n,s=0,a=i;s<a.length;s++){var o=a[s];if(!v(this.inputElement.getAttribute(o)))switch(o){case"disabled":if(v(this.timeOptions)||this.timeOptions.enabled===void 0||e){var l=!(this.inputElement.getAttribute(o)==="disabled"||this.inputElement.getAttribute(o)===""||this.inputElement.getAttribute(o)==="true");this.setProperties({enabled:l},!e)}break;case"style":this.inputStyle=this.inputElement.getAttribute(o);break;case"readonly":if(v(this.timeOptions)||this.timeOptions.readonly===void 0||e){var c=this.inputElement.getAttribute(o)==="readonly"||this.inputElement.getAttribute(o)===""||this.inputElement.getAttribute(o)==="true";this.setProperties({readonly:c},!e)}break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(o));break;case"step":this.step=parseInt(this.inputElement.getAttribute(o),10);break;case"placeholder":(v(this.timeOptions)||this.timeOptions.placeholder===void 0||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(o)},!e);break;case"min":(v(this.timeOptions)||this.timeOptions.min===void 0||e)&&(n=new Date(this.inputElement.getAttribute(o)),v(this.checkDateValue(n))||this.setProperties({min:n},!e));break;case"max":(v(this.timeOptions)||this.timeOptions.max===void 0||e)&&(n=new Date(this.inputElement.getAttribute(o)),v(this.checkDateValue(n))||this.setProperties({max:n},!e));break;case"value":(v(this.timeOptions)||this.timeOptions.value===void 0||e)&&(n=new Date(this.inputElement.getAttribute(o)),v(this.checkDateValue(n))||(this.initValue=n,this.updateInput(!1,this.initValue),this.setProperties({value:n},!e)));break}}},t.prototype.setCurrentDate=function(e){return v(this.checkDateValue(e))?null:new Date(UU,BU,FU,e.getHours(),e.getMinutes(),e.getSeconds())},t.prototype.getTextFormat=function(){var e=0;if(this.cldrTimeFormat().split(" ")[0]==="a"||this.cldrTimeFormat().indexOf("a")===0)e=1;else if(this.cldrTimeFormat().indexOf("a")<0){for(var i=this.cldrTimeFormat().split(" "),n=0;n<i.length;n++)if(i[n].toLowerCase().indexOf("h")>=0){e=n;break}}return e},t.prototype.updateValue=function(e,i){var n;if(this.isNullOrEmpty(e))this.resetState();else if(n=this.checkValue(e),this.strictMode){var s=n===null&&e.trim().length>0?this.previousState(this.prevDate):this.inputElement.value;this.updateInputValue(s),this.enableMask&&(s||this.updateInputValue(this.maskedDateValue),v(n)&&e!==this.maskedDateValue&&this.createMask(),v(n)&&e===this.maskedDateValue&&this.updateInputValue(this.maskedDateValue))}this.checkValueChange(i,typeof e!="string")},t.prototype.previousState=function(e){for(var i=this.getDateObject(e),n=0;n<this.timeCollections.length;n++)if(+i===this.timeCollections[n]){this.activeIndex=n,this.selectedElement=this.liCollections[n],this.valueWithMinutes=new Date(this.timeCollections[n]);break}return this.getValue(e)},t.prototype.resetState=function(){this.removeSelection(),Rt.setValue("",this.inputElement,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.checkErrorState(null)},t.prototype.objToString=function(e){return v(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.checkValue=function(e){if(!this.isNullOrEmpty(e)){var i=e instanceof Date?e:this.getDateObject(e);return this.validateValue(i,e)}return this.resetState(),this.valueWithMinutes=null},t.prototype.validateValue=function(e,i){var n,s=this.validateMinMax(i,this.min,this.max),a=this.getDateObject(s);if(this.getFormattedValue(a)!==this.getFormattedValue(this.value)?(this.valueWithMinutes=v(a)?null:a,n=this.objToString(this.valueWithMinutes)):(this.strictMode&&(e=a),this.valueWithMinutes=this.checkDateValue(e),n=this.objToString(this.valueWithMinutes)),!this.strictMode&&v(n)){var o=s.trim().length>0?s:"";this.updateInputValue(o),this.enableMask&&(o||this.updateInputValue(this.maskedDateValue))}else this.updateInputValue(n),this.enableMask&&(n===""&&this.updateInputValue(this.maskedDateValue),v(n)&&i!==this.maskedDateValue&&this.createMask(),v(n)&&i===this.maskedDateValue&&this.updateInputValue(this.maskedDateValue));return n},t.prototype.createMask=function(){this.notify("createMask",{module:"MaskedDateTime"})},t.prototype.findNextElement=function(e){var i=this.inputElement.value,n=v(this.valueWithMinutes)?this.createDateObj(i):this.getDateObject(this.valueWithMinutes),s=null,a=this.liCollections.length,o=this.timeCollections;if(!v(this.checkDateValue(n))||!v(this.activeIndex)){if(e.action==="home"){var l=this.validLiElement(0);s=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l}else if(e.action==="end"){var l=this.validLiElement(o.length-1,!0);s=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l}else if(e.action==="down"){for(var c=0;c<a;c++)if(+n<this.timeCollections[c]){var l=this.validLiElement(c);s=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l;break}else if(c===a-1){var l=this.validLiElement(0);s=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l;break}}else for(var c=a-1;c>=0;c--)if(+n>this.timeCollections[c]){var l=this.validLiElement(c,!0);s=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l;break}else if(c===0){var l=this.validLiElement(a-1);s=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l;break}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(v(s)?null:new Date(s))}else this.selectNextItem(e)},t.prototype.selectNextItem=function(e){var i=this.validLiElement(0,e.action!=="down");this.activeIndex=i,this.selectedElement=this.liCollections[i],this.elementValue(new Date(this.timeCollections[i]))},t.prototype.elementValue=function(e){v(this.checkDateValue(e))||this.checkValue(e)},t.prototype.validLiElement=function(e,i){var n=null,s=v(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll("."+np),a=!0;if(s.length)if(i)for(var o=e;o>=0;o--)if(s[o].classList.contains(qh))o===0&&a&&(e=o=s.length,a=!1);else{n=o;break}else for(var o=e;o<=s.length-1;o++)if(s[o].classList.contains(qh))o===s.length-1&&a&&(e=o=-1,a=!1);else{n=o;break}return n},t.prototype.keyHandler=function(e){if(!(v(this.step)||this.step<=0||!v(this.inputWrapper)&&this.inputWrapper.buttons[0].classList.contains(qh))){var i=this.timeCollections.length;if(v(this.getActiveElement())||this.getActiveElement().length===0)if(this.liCollections.length>0)if(v(this.value)&&v(this.activeIndex)){var n=this.validLiElement(0,e.action!=="down");this.activeIndex=n,this.selectedElement=this.liCollections[n],this.elementValue(new Date(this.timeCollections[n]))}else this.findNextElement(e);else this.findNextElement(e);else{var s=void 0;if(e.keyCode>=37&&e.keyCode<=40){var n=e.keyCode===40||e.keyCode===39?++this.activeIndex:--this.activeIndex;this.activeIndex=n=this.activeIndex===i?0:this.activeIndex,this.activeIndex=n=this.activeIndex<0?i-1:this.activeIndex,this.activeIndex=n=this.validLiElement(this.activeIndex,!(e.keyCode===40||e.keyCode===39)),s=v(this.timeCollections[n])?this.timeCollections[0]:this.timeCollections[n]}else if(e.action==="home"){var n=this.validLiElement(0);this.activeIndex=n,s=this.timeCollections[n]}else if(e.action==="end"){var n=this.validLiElement(i-1,!0);this.activeIndex=n,s=this.timeCollections[n]}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(s))}this.isNavigate=!0,this.setHover(this.selectedElement,r4),this.setActiveDescendant(),this.enableMask&&this.selectInputText(),this.isPopupOpen()&&this.selectedElement!==null&&(!e||e.type!=="click")&&this.setScrollPosition()}},t.prototype.getCultureTimeObject=function(e,i){return Pe("main."+i+".dates.calendars.gregorian.timeFormats.short",e)},t.prototype.getCultureDateObject=function(e,i){return Pe("main."+i+".dates.calendars.gregorian.dateFormats.short",e)},t.prototype.wireListEvents=function(){se.add(this.listWrapper,"click",this.onMouseClick,this),Re.isDevice||(se.add(this.listWrapper,"mouseover",this.onMouseOver,this),se.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},t.prototype.unWireListEvents=function(){this.listWrapper&&(se.remove(this.listWrapper,"click",this.onMouseClick),Re.isDevice||(se.remove(this.listWrapper,"mouseover",this.onMouseOver),se.remove(this.listWrapper,"mouseout",this.onMouseLeave)))},t.prototype.valueProcess=function(e,i){var n=v(this.checkDateValue(i))?null:i;+this.prevDate!=+n&&(this.initValue=n,this.changeEvent(e))},t.prototype.changeEvent=function(e){this.addSelection(),this.updateInput(!0,this.initValue);var i={event:e||null,value:this.value,text:this.inputElement.value,isInteracted:!v(e),element:this.element};i.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",i),this.invalidValueString=null,this.checkErrorState(this.value)},t.prototype.updateInput=function(e,i){e&&(this.prevValue=this.getValue(this.prevDate)),this.prevDate=this.valueWithMinutes=i,(typeof i!="number"||(this.value&&+new Date(+this.value).setMilliseconds(0))!==+i)&&(this.setProperties({value:i},!0),this.enableMask&&this.value&&this.createMask()),!this.strictMode&&v(this.value)&&this.invalidValueString&&(this.checkErrorState(this.invalidValueString),this.updateInputValue(this.invalidValueString)),this.clearIconState()},t.prototype.setActiveDescendant=function(){!v(this.selectedElement)&&this.value?Ht(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")}):this.inputElement.removeAttribute("aria-activedescendant")},t.prototype.removeSelection=function(){if(this.removeHover(i4),!v(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll("."+y0);e.length&&(Oe(e,y0),e[0].removeAttribute("aria-selected"))}},t.prototype.removeHover=function(e){var i=this.getHoverItem(e);i&&i.length&&(Oe(i,e),e===r4&&i[0].removeAttribute("aria-selected"))},t.prototype.getHoverItem=function(e){var i;return v(this.popupWrapper)||(i=this.popupWrapper.querySelectorAll("."+e)),i},t.prototype.setActiveClass=function(){if(!v(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll("."+np);if(e.length){for(var i=0;i<e.length;i++)if(this.timeCollections[i]===+this.getDateObject(this.valueWithMinutes)){e[i].setAttribute("aria-selected","true"),this.selectedElement=e[i],this.activeIndex=i;break}}}},t.prototype.addSelection=function(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),v(this.selectedElement)||(pe([this.selectedElement],y0),this.selectedElement.setAttribute("aria-selected","true"))},t.prototype.isValidLI=function(e){return e&&e.classList.contains(np)&&!e.classList.contains(qh)},t.prototype.createDateObj=function(e){var i=null,n=this.globalize.formatDate(new Date,{format:i,skeleton:"short",type:"date"}),s=null;return typeof e=="string"&&!(this.enableMask&&this.maskedDateValue&&this.inputElement.value===this.maskedDateValue&&!this.value)?e.toUpperCase().indexOf("AM")>-1||e.toUpperCase().indexOf("PM")>-1?(n=this.defaultCulture.formatDate(new Date,{format:i,skeleton:"short",type:"date"}),s=isNaN(+new Date(n+" "+e))?null:new Date(new Date(n+" "+e).setMilliseconds(0)),v(s)&&(s=this.timeParse(n,e))):s=this.timeParse(n,e):e instanceof Date&&(s=e),s},t.prototype.timeParse=function(e,i){var n;return n=this.globalize.parseDate(this.getAmPmValue(e+" "+i),{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}),n=v(n)?this.globalize.parseDate(this.getAmPmValue(e+" "+i),{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):n,n=v(n)?n:new Date(n.setMilliseconds(0)),n},t.prototype.createListItems=function(){var e=this;this.listWrapper=this.createElement("div",{className:jMe,attrs:{tabindex:"-1"}});var i,n=this.step*6e4,s=[];this.timeCollections=[],this.disableItemCollection=[],i=+this.getDateObject(this.initMin).setMilliseconds(0);for(var a=+this.getDateObject(this.initMax).setMilliseconds(0);a>=i;)this.timeCollections.push(i),s.push(this.globalize.formatDate(new Date(i),{format:this.cldrTimeFormat(),type:"time"})),i+=n;var o={itemCreated:function(l){var c={element:l.item,text:l.text,value:e.getDateObject(l.text),isDisabled:!1};e.trigger("itemRender",c,function(u){u.isDisabled&&u.element.classList.add(qh),u.element.classList.contains(qh)&&e.disableItemCollection.push(u.element.getAttribute("data-value"))})}};this.listTag=en.createList(this.createElement,s,o,!0),Ht(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options",tabindex:"0"}),ri([this.listTag],this.listWrapper)},t.prototype.documentClickHandler=function(e){var i=e.target;!v(this.popupObj)&&!v(this.inputWrapper)&&(this.inputWrapper.container.contains(i)&&e.type!=="mousedown"||this.popupObj.element&&this.popupObj.element.contains(i))&&e.type!=="touchstart"&&e.preventDefault(),!Fe(i,'[id="'+this.popupObj.element.id+'"]')&&i!==this.inputElement&&i!==(this.inputWrapper&&this.inputWrapper.buttons[0])&&i!==(this.inputWrapper&&this.inputWrapper.clearButton)&&i!==(this.inputWrapper&&this.inputWrapper.container)?this.isPopupOpen()&&(this.hide(),i.classList.contains("e-dlg-overlay")?e.preventDefault():this.focusOut()):i!==this.inputElement&&(Re.isDevice||(this.isPreventBlur=(Re.isIE||Re.info.name==="edge")&&document.activeElement===this.inputElement&&i===this.popupWrapper))},t.prototype.setEnableRtl=function(){Rt.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},t.prototype.setEnable=function(){Rt.setEnabled(this.enabled,this.inputElement,this.floatLabelType),this.enabled?(Oe([this.inputWrapper.container],qh),Ht(this.inputElement,{"aria-disabled":"false"}),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.hide(),pe([this.inputWrapper.container],qh),Ht(this.inputElement,{"aria-disabled":"true"}),this.inputElement.tabIndex=-1)},t.prototype.getProperty=function(e,i){i==="min"?(this.initMin=this.checkDateValue(new Date(this.checkInValue(e.min))),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(this.checkInValue(e.max))),this.setProperties({max:this.initMax},!0)),this.inputElement.value===""?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value),this.checkValueChange(null,!1)},t.prototype.inputBlurHandler=function(e){if(this.enabled){if(this.isPreventBlur&&this.isPopupOpen()){this.inputElement.focus();return}this.closePopup(0,e),this.enableMask&&this.maskedDateValue&&this.placeholder&&this.floatLabelType!=="Always"&&this.inputElement.value===this.maskedDateValue&&!this.value&&(this.floatLabelType==="Auto"||this.floatLabelType==="Never"||this.placeholder)&&this.updateInputValue(""),Oe([this.inputWrapper.container],[n4]),this.getText()!==this.inputElement.value?this.updateValue(this.inputElement.value,e):this.inputElement.value.trim().length===0&&this.resetState(),this.cursorDetails=null,this.isNavigate=!1,this.inputElement.value===""&&(this.invalidValueString=null);var i={model:this};this.trigger("blur",i)}},t.prototype.focusOut=function(){if(document.activeElement===this.inputElement){this.inputElement.blur(),Oe([this.inputWrapper.container],[n4]);var e={model:this};this.trigger("blur",e)}},t.prototype.isPopupOpen=function(){return!!(this.popupWrapper&&this.popupWrapper.classList.contains(""+nE))},t.prototype.inputFocusHandler=function(){if(this.enabled){var e={model:this};!this.readonly&&!Re.isDevice&&!this.enableMask&&this.selectInputText(),this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&(this.floatLabelType==="Auto"||this.floatLabelType==="Never"||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length),this.enableMask&&this.showClearButton&&this.inputElement&&this.inputElement.value===this.maskedDateValue&&this.inputWrapper&&this.inputWrapper.clearButton&&!this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")&&this.inputWrapper.clearButton.classList.add("e-clear-icon-hide"),this.trigger("focus",e),this.clearIconState(),this.openOnFocus&&this.show()}},t.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()},t.prototype.hide=function(){this.closePopup(100,null),this.clearIconState()},t.prototype.show=function(e){var i=this;if(!(this.enabled&&this.readonly||!this.enabled||this.popupWrapper)){this.popupCreation(),Re.isDevice&&this.listWrapper&&(this.modal=this.createElement("div"),this.modal.className=""+nE+" e-time-modal",document.body.className+=" "+WU,document.body.appendChild(this.modal)),Re.isDevice&&(this.mobileTimePopupWrap=this.createElement("div",{className:"e-timepicker-mob-popup-wrap"}),document.body.appendChild(this.mobileTimePopupWrap)),this.openPopupEventArgs={popup:this.popupObj||null,cancel:!1,event:e||null,name:"open",appendTo:Re.isDevice?this.mobileTimePopupWrap:document.body};var n=this.openPopupEventArgs;this.trigger("open",n,function(s){if(i.openPopupEventArgs=s,!i.openPopupEventArgs.cancel&&!i.inputWrapper.buttons[0].classList.contains(qh)){i.openPopupEventArgs.appendTo.appendChild(i.popupWrapper),i.popupAlignment(i.openPopupEventArgs),i.setScrollPosition(),Re.isDevice||i.inputElement.focus();var a={name:"FadeIn",duration:HU};if(i.popupObj.refreshPosition(i.anchor),i.zIndex===1e3?i.popupObj.show(new fo(a),i.element):i.popupObj.show(new fo(a),null),i.setActiveDescendant(),Ht(i.inputElement,{"aria-expanded":"true"}),Ht(i.inputElement,{"aria-owns":i.inputElement.id+"_options"}),Ht(i.inputElement,{"aria-controls":i.inputElement.id}),pe([i.inputWrapper.container],n4),se.add(document,"mousedown touchstart",i.documentClickHandler,i),i.setOverlayIndex(i.mobileTimePopupWrap,i.popupObj.element,i.modal,Re.isDevice),Re.isDevice){var o=i.createElement("div",{className:"e-dlg-overlay"});o.style.zIndex=(i.zIndex-1).toString(),i.mobileTimePopupWrap.appendChild(o)}}else i.popupObj.destroy(),i.popupWrapper=i.listTag=void 0,i.liCollections=i.timeCollections=i.disableItemCollection=[],i.popupObj=null})}},t.prototype.setOverlayIndex=function(e,i,n,s){if(s&&!v(i)&&!v(n)&&!v(e)){var a=parseInt(i.style.zIndex,10)?parseInt(i.style.zIndex,10):1e3;n.style.zIndex=(a-1).toString(),e.style.zIndex=a.toString()}},t.prototype.formatValues=function(e){var i;return typeof e=="number"?i=bt(e):typeof e=="string"&&(i=e.match(/px|%|em/)||isNaN(parseInt(e,10))?e:bt(e)),i},t.prototype.popupAlignment=function(e){if(e.popup.position.X=this.formatValues(e.popup.position.X),e.popup.position.Y=this.formatValues(e.popup.position.Y),(!isNaN(parseFloat(e.popup.position.X))||!isNaN(parseFloat(e.popup.position.Y)))&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.targetType="container"),isNaN(parseFloat(e.popup.position.X))||(this.popupObj.offsetX=parseFloat(e.popup.position.X)),isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.offsetY=parseFloat(e.popup.position.Y)),Re.isDevice)e.popup.position.X==="center"&&e.popup.position.Y==="center"&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.offsetY=0,this.popupObj.targetType="container",this.popupObj.collision={X:"fit",Y:"fit"});else{switch(e.popup.position.X){case"left":break;case"right":e.popup.offsetX=this.containerStyle.width;break;case"center":e.popup.offsetX=-(this.containerStyle.width/2);break}switch(e.popup.position.Y){case"top":break;case"bottom":break;case"center":e.popup.offsetY=-(this.containerStyle.height/2);break}e.popup.position.X==="center"&&e.popup.position.Y==="center"&&(this.popupObj.relateTo=this.inputWrapper.container,this.anchor=this.inputElement,this.popupObj.targetType="relative")}},t.prototype.getPersistData=function(){var e=["value"];return this.addOnPersist(e)},t.prototype.getModuleName=function(){return"timepicker"},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"placeholder":Rt.setPlaceholder(e.placeholder,this.inputElement);break;case"readonly":Rt.setReadonly(this.readonly,this.inputElement,this.floatLabelType),this.readonly&&this.hide(),this.setTimeAllowEdit();break;case"enabled":this.setProperties({enabled:e.enabled},!0),this.setEnable();break;case"allowEdit":this.setTimeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl();break;case"cssClass":this.updateCssClass(e.cssClass,i.cssClass);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"min":case"max":this.getProperty(e,a);break;case"showClearButton":Rt.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"locale":this.setProperties({locale:e.locale},!0),this.globalize=new Ns(this.locale),this.l10n.setLocale(this.locale),this.timeOptions&&this.timeOptions.placeholder==null&&this.updatePlaceHolder(),this.setValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"width":ui(this.inputWrapper.container,{width:this.setWidth(e.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),Rt.calculateWidth(this.inputElement,this.inputWrapper.container),!v(this.inputWrapper.buttons[0])&&!v(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&this.floatLabelType!=="Never"&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"format":this.setProperties({format:e.format},!0),this.checkTimeFormat(),this.setValue(this.value),this.enableMask&&(this.createMask(),this.value||this.updateInputValue(this.maskedDateValue));break;case"value":this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.invalidValueString?(this.updateInputValue(this.invalidValueString),this.checkErrorState(this.invalidValueString)):(typeof e.value=="string"?(this.setProperties({value:this.checkDateValue(new Date(e.value))},!0),e.value=this.value):(e.value&&+new Date(+e.value).setMilliseconds(0))!==+this.value&&(e.value=this.checkDateValue(new Date(""+e.value))),this.initValue=e.value,e.value=this.compareFormatChange(this.checkValue(e.value))),this.enableMask&&v(e.value)&&(this.updateInputValue(this.maskedDateValue),this.checkErrorState(this.maskedDateValue)),this.checkValueChange(null,!1),this.isPopupOpen()&&this.setScrollPosition(),this.isAngular&&this.preventChange&&(this.preventChange=!1),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"floatLabelType":this.floatLabelType=e.floatLabelType,Rt.removeFloating(this.inputWrapper),Rt.addFloating(this.inputElement,this.floatLabelType,this.placeholder),!v(this.inputWrapper.buttons[0])&&!v(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&this.floatLabelType!=="Never"&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"strictMode":this.invalidValueString=null,e.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:e.strictMode},!0),this.checkValue(this.inputElement.value),this.checkValueChange(null,!1);break;case"scrollTo":this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue)):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("");break}}},t.prototype.checkInValue=function(e){return e instanceof Date?e.toUTCString():""+e},Ir([ee(null)],t.prototype,"width",void 0),Ir([ee(null)],t.prototype,"cssClass",void 0),Ir([ee(!1)],t.prototype,"strictMode",void 0),Ir([ee(null)],t.prototype,"keyConfigs",void 0),Ir([ee(null)],t.prototype,"format",void 0),Ir([ee(!0)],t.prototype,"enabled",void 0),Ir([ee(!1)],t.prototype,"fullScreenMode",void 0),Ir([ee(!1)],t.prototype,"readonly",void 0),Ir([ee({})],t.prototype,"htmlAttributes",void 0),Ir([ee("Never")],t.prototype,"floatLabelType",void 0),Ir([ee(null)],t.prototype,"placeholder",void 0),Ir([ee(1e3)],t.prototype,"zIndex",void 0),Ir([ee(!1)],t.prototype,"enablePersistence",void 0),Ir([ee(!0)],t.prototype,"showClearButton",void 0),Ir([ee(30)],t.prototype,"step",void 0),Ir([ee(null)],t.prototype,"scrollTo",void 0),Ir([ee(null)],t.prototype,"value",void 0),Ir([ee(null)],t.prototype,"min",void 0),Ir([ee(null)],t.prototype,"max",void 0),Ir([ee(!0)],t.prototype,"allowEdit",void 0),Ir([ee(!1)],t.prototype,"openOnFocus",void 0),Ir([ee(!1)],t.prototype,"enableMask",void 0),Ir([ee({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),Ir([ee(null)],t.prototype,"serverTimezoneOffset",void 0),Ir([Xe()],t.prototype,"change",void 0),Ir([Xe()],t.prototype,"created",void 0),Ir([Xe()],t.prototype,"destroyed",void 0),Ir([Xe()],t.prototype,"open",void 0),Ir([Xe()],t.prototype,"itemRender",void 0),Ir([Xe()],t.prototype,"close",void 0),Ir([Xe()],t.prototype,"cleared",void 0),Ir([Xe()],t.prototype,"blur",void 0),Ir([Xe()],t.prototype,"focus",void 0),t=Ir([$n],t),t})(Dl);var RMe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Pr=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},PMe="e-date-wrapper",FMe="e-datepicker",BMe="e-datetime-wrapper",UMe=new Date().getDate(),VMe=new Date().getMonth(),HMe=new Date().getFullYear(),WMe=new Date().getHours(),YMe=new Date().getMinutes(),qMe=new Date().getSeconds(),QMe=new Date().getMilliseconds(),pM="e-datetimepicker",qU="e-datetimepopup-wrapper",GMe="e-input-group-icon",QU="e-popup",KMe="e-time-icon",mM="e-input-focus",GU="250px",KU="e-icon-anim",a4="e-disabled",$U="e-error",$Me="e-content",XMe="e-navigation",zm="e-active",o4="e-hover",JMe="e-icons",sE=2,Rm="e-list-item",XU=100,JU="e-time-overflow",ZMe=(function(r){RMe(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.valueWithMinutes=null,n.scrollInvoked=!1,n.moduleName=n.getModuleName(),n.formatRegex=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yyy|yy|y|'[^']*'|'[^']*'/g,n.dateFormatString="",n.dateTimeOptions=e,n}return t.prototype.focusHandler=function(){this.enabled&&pe([this.inputWrapper.container],mM)},t.prototype.focusIn=function(){r.prototype.focusIn.call(this)},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),Oe([this.inputWrapper.container],[mM]))},t.prototype.blurHandler=function(e){if(this.enabled){if(this.isTimePopupOpen()&&this.isPreventBlur){this.inputElement.focus();return}Oe([this.inputWrapper.container],mM);var i={model:this};this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",i)}},t.prototype.destroy=function(){this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),this.popupObject&&this.popupObject.element.classList.contains(QU)&&(this.popupObject.destroy(),zt(this.dateTimeWrapper),this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],v(this.rippleFn)||this.rippleFn());var e={"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-expanded":"false",role:"combobox",autocomplete:"off"};this.inputElement&&Rt.removeAttributes(e,this.inputElement),this.isCalendar()&&(this.popupWrapper&&zt(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),this.liCollections=null,this.rippleFn=null,this.selectedElement=null,this.listTag=null,this.timeIcon=null,this.popupObject=null,this.preventArgs=null,this.keyboardModule=null,Rt.destroy({element:this.inputElement,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),r.prototype.destroy.call(this)},t.prototype.render=function(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,typeof this.min=="string"&&(this.min=this.checkDateValue(new Date(this.min))),typeof this.max=="string"&&(this.max=this.checkDateValue(new Date(this.max))),typeof this.minTime=="string"&&(this.minTime=this.checkDateValue(new Date(this.minTime))),typeof this.maxTime=="string"&&(this.maxTime=this.checkDateValue(new Date(this.maxTime))),!v(Fe(this.element,"fieldset"))&&Fe(this.element,"fieldset").disabled&&(this.enabled=!1),r.prototype.updateHtmlAttributeToElement.call(this),this.checkAttributes(!1);var e={placeholder:this.placeholder};this.l10n=new Ql("datetimepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),r.prototype.render.call(this),this.createInputElement(),r.prototype.updateHtmlAttributeToWrapper.call(this),this.bindInputEvents(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.setValue(!0),this.enableMask&&!this.value&&this.maskedDateValue&&(this.floatLabelType==="Always"||!this.floatLabelType||!this.placeholder)&&Rt.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(this.scrollTo)))},!0),this.previousDateTime=this.value&&new Date(+this.value),this.element.tagName==="EJS-DATETIMEPICKER"&&(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1)),this.floatLabelType!=="Never"&&Rt.calculateWidth(this.inputElement,this.inputWrapper.container),!v(this.inputWrapper.buttons[0])&&!v(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&this.floatLabelType!=="Never"&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon"),this.renderComplete()},t.prototype.setValue=function(e){if(e===void 0&&(e=!1),this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){var i=this.validateMinMaxRange(this.initValue);Rt.setValue(this.getFormattedValue(i),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:i},!0)}else v(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,r.prototype.updateInput.call(this,e)},t.prototype.validateMinMaxRange=function(e){var i=e;return this.isDateObject(e)?i=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(i),i},t.prototype.checkValidState=function(e){this.isValidState=!0,this.strictMode||(+e>+this.max||+e<+this.min||!this.isValidTime(e))&&(this.isValidState=!1),this.checkErrorState()},t.prototype.checkErrorState=function(){this.isValidState?Oe([this.inputWrapper.container],$U):pe([this.inputWrapper.container],$U),Ht(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})},t.prototype.isValidTime=function(e){if(e!=null&&(this.minTime||this.maxTime)){var i=void 0,n=void 0,s=void 0,a=void 0,o=e.getHours()*36e5+e.getMinutes()*6e4+e.getSeconds()*1e3+e.getMilliseconds();if(this.minTime&&(i=this.minTime.getHours()*36e5+this.minTime.getMinutes()*6e4+this.minTime.getSeconds()*1e3+this.minTime.getMilliseconds()),this.maxTime&&(n=this.maxTime.getHours()*36e5+this.maxTime.getMinutes()*6e4+this.maxTime.getSeconds()*1e3+this.maxTime.getMilliseconds()),this.min&&+e.getDate()==+this.min.getDate()&&+e.getMonth()==+this.min.getMonth()&&+e.getFullYear()==+this.min.getFullYear()&&(a=this.min.getHours()*36e5+this.min.getMinutes()*6e4+this.min.getSeconds()*1e3+this.min.getMilliseconds(),i=i<a?a:i),this.max&&+e.getDate()==+this.max.getDate()&&+e.getMonth()==+this.max.getMonth()&&+this.max.getFullYear()==+this.max.getFullYear()&&(s=this.max.getHours()*36e5+this.max.getMinutes()*6e4+this.max.getSeconds()*1e3+this.max.getMilliseconds(),n=n>s?s:n),this.strictMode){var l=void 0;return i&&o<i?(l=new Date(e.getFullYear(),e.getMonth(),e.getDate(),this.minTime.getHours(),this.minTime.getMinutes(),this.minTime.getSeconds(),this.minTime.getMilliseconds()),this.setProperties({value:l},!0),this.changedArgs={value:this.value}):n&&o>n&&(l=new Date(e.getFullYear(),e.getMonth(),e.getDate(),this.maxTime.getHours(),this.maxTime.getMinutes(),this.maxTime.getSeconds(),this.maxTime.getMilliseconds()),this.setProperties({value:l},!0),this.changedArgs={value:this.value}),!0}else return!(i&&o<i||n&&o>n)}return!0},t.prototype.validateValue=function(e){var i=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),i=this.max):+e<+this.min?i=this.min:+e>+this.max&&(i=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),i=e),i},t.prototype.disablePopupButton=function(e){e?(pe([this.inputWrapper.buttons[0],this.timeIcon],a4),this.hide()):Oe([this.inputWrapper.buttons[0],this.timeIcon],a4)},t.prototype.getFormattedValue=function(e){var i;return v(e)?null:(this.calendarMode==="Gregorian"?i={format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"}:i={format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(e,i))},t.prototype.isDateObject=function(e){return!v(e)&&!isNaN(+e)},t.prototype.createInputElement=function(){Oe([this.inputElement],FMe),Oe([this.inputWrapper.container],PMe),pe([this.inputWrapper.container],BMe),pe([this.inputElement],pM),this.renderTimeIcon()},t.prototype.renderTimeIcon=function(){this.timeIcon=Rt.appendSpan(GMe+" "+KMe+" "+JMe,this.inputWrapper.container)},t.prototype.bindInputEvents=function(){se.add(this.timeIcon,"mousedown",this.timeHandler,this),se.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),se.add(this.inputElement,"blur",this.blurHandler,this),se.add(this.inputElement,"focus",this.focusHandler,this),this.defaultKeyConfigs=qe(this.defaultKeyConfigs,this.keyConfigs),this.keyboardHandler=new Yl(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.defaultKeyConfigs})},t.prototype.unBindInputEvents=function(){se.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),se.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(se.remove(this.inputElement,"blur",this.blurHandler),se.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()},t.prototype.cldrTimeFormat=function(){var e;return this.isNullOrEmpty(this.timeFormat)?this.locale==="en"||this.locale==="en-US"?e=Pe("timeFormats.short",yl()):e=this.getCultureTimeObject(ws,""+this.locale):e=this.timeFormat,e},t.prototype.cldrDateTimeFormat=function(){var e,i=new Ns(this.locale),n=i.getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.formatString)?e=n+" "+this.getCldrFormat("time"):e=this.formatString,e},t.prototype.getCldrFormat=function(e){var i;return this.locale==="en"||this.locale==="en-US"?i=Pe("timeFormats.short",yl()):i=this.getCultureTimeObject(ws,""+this.locale),i},t.prototype.isNullOrEmpty=function(e){return!!(v(e)||typeof e=="string"&&e.trim()==="")},t.prototype.getCultureTimeObject=function(e,i){return this.calendarMode==="Gregorian"?Pe("main."+this.locale+".dates.calendars.gregorian.timeFormats.short",e):Pe("main."+this.locale+".dates.calendars.islamic.timeFormats.short",e)},t.prototype.timeHandler=function(e){this.enabled&&(this.isIconClicked=!0,Re.isDevice&&this.inputElement.setAttribute("readonly",""),e.currentTarget===this.timeIcon&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&r.prototype.hide.call(this,e),this.isTimePopupOpen()?this.closePopup(e):(this.inputElement.focus(),this.popupCreation("time",e),pe([this.inputWrapper.container],[mM]))),this.isIconClicked=!1)},t.prototype.dateHandler=function(e){this.enabled&&(e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(e),v(this.popupWrapper)||this.popupCreation("date",e)))},t.prototype.show=function(e,i){this.enabled&&this.readonly||!this.enabled||(e==="time"&&!this.dateTimeWrapper?(this.isDatePopupOpen()&&this.hide(i),this.popupCreation("time",i)):this.popupObj||(this.isTimePopupOpen()&&this.hide(i),r.prototype.show.call(this),this.popupCreation("date",i)))},t.prototype.toggle=function(e){this.isDatePopupOpen()?(r.prototype.hide.call(this,e),this.show("time",null)):this.isTimePopupOpen()?(this.hide(e),r.prototype.show.call(this,null,e),this.popupCreation("date",null)):this.show(null,e)},t.prototype.listCreation=function(){var e;this.calendarMode==="Gregorian"?(this.cldrDateTimeFormat().replace(this.formatRegex,this.TimePopupFormat()),this.dateFormatString===""&&(this.dateFormatString=this.cldrDateTimeFormat()),e=this.globalize.parseDate(this.getAmPmValue(this.inputElement.value),{format:this.dateFormatString,type:"datetime"})):e=this.globalize.parseDate(this.getAmPmValue(this.inputElement.value),{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"});var i=v(this.value)?this.inputElement.value!==""?e:new Date:this.value;this.valueWithMinutes=i,this.listWrapper=Be("div",{className:$Me,attrs:{tabindex:"0"}});var n=this.startTime(i),s=this.endTime(i),a=PO.createListItems(this.createElement,n,s,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=a.collection,this.listTag=a.list,Ht(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),ri([a.list],this.listWrapper),this.wireTimeListEvents();var o={duration:300,selector:"."+Rm};this.rippleFn=ed(this.listWrapper,o),this.liCollections=this.listWrapper.querySelectorAll("."+Rm)},t.prototype.popupCreation=function(e,i){if(Re.isDevice&&this.element.setAttribute("readonly","readonly"),e==="date")!this.readonly&&this.popupWrapper&&(pe([this.popupWrapper],qU),Ht(this.popupWrapper,{id:this.element.id+"_options"}));else if(!this.readonly){var n=Be("div",{className:pM+" "+QU,attrs:{id:this.element.id+"_timepopup"}});n.style.cssText="visibility: hidden; display: block;",this.dateTimeWrapper=n,v(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!v(this.step)&&this.step>0&&(this.listCreation(),ri([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(i),(!Re.isDevice||Re.isDevice&&!this.fullScreenMode)&&this.popupObject.refreshPosition(this.inputElement),Re.isDevice&&(this.modelWrapper.style.zIndex=(this.popupObject.zIndex-1).toString(),this.fullScreenMode&&(this.dateTimeWrapper.style.left="0px"))}},t.prototype.openPopup=function(e){var i=this;this.preventArgs={cancel:!1,popup:this.popupObject,event:e||null};var n=this.preventArgs;this.trigger("open",n,function(s){if(i.preventArgs=s,!i.preventArgs.cancel&&!i.readonly){var a={name:"FadeIn",duration:XU};i.zIndex===1e3?i.popupObject.show(new fo(a),i.element):i.popupObject.show(new fo(a),null),pe([i.inputWrapper.container],[KU]),Ht(i.inputElement,{"aria-expanded":"true"}),Ht(i.inputElement,{"aria-owns":i.inputElement.id+"_options"}),Ht(i.inputElement,{"aria-controls":i.inputElement.id}),se.add(document,"mousedown touchstart",i.documentClickHandler,i)}})},t.prototype.documentClickHandler=function(e){var i=e.target;!v(this.popupObject)&&(this.inputWrapper.container.contains(i)&&e.type!=="mousedown"||this.popupObject.element&&this.popupObject.element.contains(i))&&e.type!=="touchstart"&&e.preventDefault(),!Fe(i,'[id="'+(this.popupObject&&this.popupObject.element.id+'"]'))&&i!==this.inputElement&&i!==this.timeIcon&&!v(this.inputWrapper)&&i!==this.inputWrapper.container?this.isTimePopupOpen()&&(this.hide(e),i.classList.contains("e-dlg-overlay")?e.preventDefault():this.focusOut()):i!==this.inputElement&&(Re.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(Re.isIE||Re.info.name==="edge")&&i===this.popupObject.element))},t.prototype.isTimePopupOpen=function(){return!!(this.dateTimeWrapper&&this.dateTimeWrapper.classList.contains(""+pM))},t.prototype.isDatePopupOpen=function(){return!!(this.popupWrapper&&this.popupWrapper.classList.contains(""+qU))},t.prototype.renderPopup=function(){var e=this;if(this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),Re.isDevice&&(this.timeModal=Be("div"),this.timeModal.className=""+pM+" e-time-modal",document.body.className+=" "+JU,this.timeModal.style.display="block",document.body.appendChild(this.timeModal)),Re.isDevice){this.modelWrapper=Be("div",{className:"e-datetime-mob-popup-wrap"}),this.modelWrapper.appendChild(this.dateTimeWrapper);var i=Be("div",{className:"e-dlg-overlay"});i.style.zIndex=(this.zIndex-1).toString(),this.modelWrapper.appendChild(i),document.body.appendChild(this.modelWrapper)}var n=4;if(this.popupObject=new xh(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:Re.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:Re.isDevice?document.body:this.inputWrapper.container,position:Re.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:n,open:function(){e.dateTimeWrapper.style.visibility="visible",pe([e.timeIcon],zm),Re.isDevice||(e.timekeyConfigure=qe(e.timekeyConfigure,e.keyConfigs),e.inputEvent=new Yl(e.inputWrapper.container,{keyAction:e.timeKeyActionHandle.bind(e),keyConfigs:e.timekeyConfigure,eventName:"keydown"}))},close:function(){Oe([e.timeIcon],zm),e.unWireTimeListEvents(),e.inputElement.removeAttribute("aria-activedescendant"),ji(e.popupObject.element),e.popupObject.destroy(),e.dateTimeWrapper.innerHTML="",e.modelWrapper&&ji(e.modelWrapper),e.listWrapper=e.dateTimeWrapper=void 0,e.inputEvent&&e.inputEvent.destroy()},targetExitViewport:function(){Re.isDevice||e.hide()}}),Re.isDevice&&this.fullScreenMode?(this.popupObject.element.style.maxHeight="100%",this.popupObject.element.style.width="100%"):this.popupObject.element.style.maxHeight=GU,Re.isDevice&&this.fullScreenMode){var s=this.createElement("div",{className:"e-model-header"}),a=this.createElement("span",{className:"e-model-title"});a.textContent="Select time";var o=this.createElement("span",{className:"e-popup-close"});se.add(o,"mousedown touchstart",this.dateTimeCloseHandler,this),s.appendChild(o),s.appendChild(a),this.dateTimeWrapper.insertBefore(s,this.dateTimeWrapper.firstElementChild)}},t.prototype.dateTimeCloseHandler=function(e){this.hide()},t.prototype.setDimension=function(e){return typeof e=="number"?e=bt(e):typeof e=="string"?e=e:e="100%",e},t.prototype.setPopupWidth=function(){var e=this.setDimension(this.width);if(e.indexOf("%")>-1){var i=this.containerStyle.width*parseFloat(e)/100;e=i.toString()+"px"}return e},t.prototype.wireTimeListEvents=function(){se.add(this.listWrapper,"click",this.onMouseClick,this),Re.isDevice||(se.add(this.listWrapper,"mouseover",this.onMouseOver,this),se.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},t.prototype.unWireTimeListEvents=function(){this.listWrapper&&(se.remove(this.listWrapper,"click",this.onMouseClick),se.remove(document,"mousedown touchstart",this.documentClickHandler),Re.isDevice||(se.add(this.listWrapper,"mouseover",this.onMouseOver,this),se.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))},t.prototype.onMouseOver=function(e){var i=Fe(e.target,"."+Rm);this.setTimeHover(i,o4)},t.prototype.onMouseLeave=function(){this.removeTimeHover(o4)},t.prototype.setTimeHover=function(e,i){this.enabled&&this.isValidLI(e)&&!e.classList.contains(i)&&(this.removeTimeHover(i),pe([e],i))},t.prototype.getPopupHeight=function(){var e=parseInt(GU,10),i=this.dateTimeWrapper.getBoundingClientRect().height;return Re.isDevice&&this.fullScreenMode?i:i>e?e:i},t.prototype.changeEvent=function(e){r.prototype.changeEvent.call(this,e),(this.value&&this.value.valueOf())!==(this.previousDateTime&&+this.previousDateTime.valueOf())&&(this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))},t.prototype.updateValue=function(e){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:e||null,isInteracted:!v(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.previousDate=this.value)},t.prototype.setTimeScrollPosition=function(){var e=this.selectedElement;v(e)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},t.prototype.findScrollTop=function(e){var i=this.getPopupHeight(),n=e.nextElementSibling,s=n?n.offsetTop:e.offsetTop,a=e.getBoundingClientRect().height;if(s+e.offsetTop>i)if(Re.isDevice&&this.fullScreenMode){var o=this.dateTimeWrapper.querySelector(".e-content");o.scrollTop=n?s-(i/sE+a/sE):s}else this.dateTimeWrapper.scrollTop=n?s-(i/sE+a/sE):s;else this.dateTimeWrapper.scrollTop=0},t.prototype.setScrollTo=function(){var e,i=this.dateTimeWrapper.querySelectorAll("."+Rm);if(i.length>=0){this.scrollInvoked=!0;var n=this.timeCollections[0],s=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=i[Math.round((s-n)/(this.step*6e4))]}else this.dateTimeWrapper.scrollTop=0;v(e)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(e)},t.prototype.setInputValue=function(e){if(e==="date")this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{var i=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));Rt.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0),this.enableMask&&this.createMask()}this.updateIconState()},t.prototype.getFullDateTime=function(){var e=null;return this.isDateObject(this.valueWithMinutes)?e=this.combineDateTime(this.valueWithMinutes):e=this.previousDate,this.validateMinMaxRange(e)},t.prototype.createMask=function(){this.notify("createMask",{module:"MaskedDateTime"})},t.prototype.combineDateTime=function(e){if(this.isDateObject(e)){var i=this.previousDate.getDate(),n=this.previousDate.getMonth(),s=this.previousDate.getFullYear(),a=e.getHours(),o=e.getMinutes(),l=e.getSeconds();return new Date(s,n,i,a,o,l)}else return this.previousDate},t.prototype.onMouseClick=function(e){var i=e.target,n=this.selectedElement=Fe(i,"."+Rm);n&&n.classList.contains(Rm)&&(this.timeValue=n.getAttribute("data-value"),this.hide(e)),this.setSelection(n,e)},t.prototype.setSelection=function(e,i){if(this.isValidLI(e)&&!e.classList.contains(zm)){this.selectedElement=e;var n=Array.prototype.slice.call(this.liCollections).indexOf(e);this.activeIndex=n,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),pe([this.selectedElement],zm),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(i)}},t.prototype.setTimeActiveClass=function(){var e=v(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!v(e)){var i=e.querySelectorAll("."+Rm);if(i.length){for(var n=0;n<i.length;n++)if(this.timeCollections[n]===+this.valueWithMinutes){i[n].setAttribute("aria-selected","true"),this.selectedElement=i[n],this.activeIndex=n,this.setTimeActiveDescendant();break}}}},t.prototype.setTimeActiveDescendant=function(){!v(this.selectedElement)&&this.value?Ht(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")}):this.inputElement.removeAttribute("aria-activedescendant")},t.prototype.addTimeSelection=function(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),v(this.selectedElement)||(pe([this.selectedElement],zm),this.selectedElement.setAttribute("aria-selected","true"))},t.prototype.removeTimeSelection=function(){if(this.removeTimeHover(o4),!v(this.dateTimeWrapper)){var e=this.dateTimeWrapper.querySelectorAll("."+zm);e.length&&(Oe(e,zm),e[0].removeAttribute("aria-selected"))}},t.prototype.removeTimeHover=function(e){var i=this.getTimeHoverItem(e);i&&i.length&&Oe(i,e)},t.prototype.getTimeHoverItem=function(e){var i=v(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper,n;return v(i)||(n=i.querySelectorAll("."+e)),n},t.prototype.isValidLI=function(e){return e&&e.classList.contains(Rm)&&!e.classList.contains(a4)},t.prototype.calculateStartEnd=function(e,i,n){var s=e.getDate(),a=e.getMonth(),o=e.getFullYear(),l=e.getHours(),c=e.getMinutes(),u=e.getSeconds(),d=e.getMilliseconds();return i?n==="starttime"?new Date(o,a,s,0,0,0):new Date(o,a,s,23,59,59):new Date(o,a,s,l,c,u,d)},t.prototype.startTime=function(e){var i,n,s=this.min,a=this.max,o=e===null?new Date:e,l=!1,c;return this.minTime?(c=new Date(o.getFullYear(),o.getMonth(),o.getDate(),this.minTime.getHours(),this.minTime.getMinutes(),this.minTime.getSeconds(),this.minTime.getMilliseconds()),l=!0):c=o,+c.getDate()==+s.getDate()&&+c.getMonth()==+s.getMonth()&&+c.getFullYear()==+s.getFullYear()||+new Date(c.getFullYear(),c.getMonth(),c.getDate())<=+new Date(s.getFullYear(),s.getMonth(),s.getDate())?(n=!1,i=s,l&&+new Date(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds())>=+new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())&&i.setHours(c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds())):+c<+a&&+c>+s?(n=!l,i=c):+c>=+a&&(n=!0,i=a),this.calculateStartEnd(i,n,"starttime")},t.prototype.TimePopupFormat=function(){var e="",i=0,n=this;function s(a){switch(a){case"d":case"dd":case"ddd":case"dddd":case"M":case"MM":case"MMM":case"MMMM":case"y":case"yy":case"yyy":case"yyyy":e===""?e=e+a:e=e+"/"+a,i=i+1;break}return i>2&&(n.dateFormatString=e),e}return s},t.prototype.endTime=function(e){var i,n,s=this.max,a=e===null?new Date:e,o=!1,l;return this.maxTime?(l=new Date(a.getFullYear(),a.getMonth(),a.getDate(),this.maxTime.getHours(),this.maxTime.getMinutes(),this.maxTime.getSeconds(),this.maxTime.getMilliseconds()),o=!0):l=a,+l.getDate()==+s.getDate()&&+l.getMonth()==+s.getMonth()&&+l.getFullYear()==+s.getFullYear()||+new Date(l.getUTCFullYear(),l.getMonth(),l.getDate())>=+new Date(s.getFullYear(),s.getMonth(),s.getDate())?(n=!1,i=this.max,o&&+new Date(l.getUTCFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds())<=+new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())&&i.setHours(l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds())):+l<+this.max&&+l>+this.min?(n=!o,i=l):+l<=+this.min&&(n=!0,i=this.min),this.calculateStartEnd(i,n,"endtime")},t.prototype.hide=function(e){var i=this;if(this.popupObj||this.dateTimeWrapper){this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:e||null};var n=this.preventArgs;v(this.popupObj)?this.trigger("close",n,function(s){i.dateTimeCloseEventCallback(e,s)}):this.dateTimeCloseEventCallback(e,n)}else Re.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.dateTimeCloseEventCallback=function(e,i){this.preventArgs=i,this.preventArgs.cancel||(this.isDatePopupOpen()?r.prototype.hide.call(this,e):this.isTimePopupOpen()&&(this.closePopup(e),Oe([document.body],JU),Re.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())),Re.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()},t.prototype.closePopup=function(e){if(this.isTimePopupOpen()&&this.popupObject){var i={name:"FadeOut",duration:XU,delay:0};this.popupObject.hide(new fo(i)),this.inputWrapper.container.classList.remove(KU),Ht(this.inputElement,{"aria-expanded":"false"}),this.inputElement.removeAttribute("aria-owns"),this.inputElement.removeAttribute("aria-controls"),se.remove(document,"mousedown touchstart",this.documentClickHandler)}},t.prototype.preRender=function(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),r.prototype.preRender.call(this),Oe([this.inputElementCopy],[pM])},t.prototype.getProperty=function(e,i){i==="min"?this.setProperties({min:this.validateValue(e.min)},!0):this.setProperties({max:this.validateValue(e.max)},!0)},t.prototype.checkAttributes=function(e){for(var i=e?v(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["style","name","step","disabled","readonly","value","min","max","placeholder","type"],n,s=0,a=i;s<a.length;s++){var o=a[s];if(!v(this.inputElement.getAttribute(o)))switch(o){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(o));break;case"step":this.step=parseInt(this.inputElement.getAttribute(o),10);break;case"readonly":if(v(this.dateTimeOptions)||this.dateTimeOptions.readonly===void 0||e){var l=this.inputElement.getAttribute(o)==="disabled"||this.inputElement.getAttribute(o)===""||this.inputElement.getAttribute(o)==="true";this.setProperties({readonly:l},!e)}break;case"placeholder":(v(this.dateTimeOptions)||this.dateTimeOptions.placeholder===void 0||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(o)},!e);break;case"min":(v(this.dateTimeOptions)||this.dateTimeOptions.min===void 0||e)&&(n=new Date(this.inputElement.getAttribute(o)),!this.isNullOrEmpty(n)&&!isNaN(+n)&&this.setProperties({min:n},!e));break;case"disabled":if(v(this.dateTimeOptions)||this.dateTimeOptions.enabled===void 0||e){var c=!(this.inputElement.getAttribute(o)==="disabled"||this.inputElement.getAttribute(o)==="true"||this.inputElement.getAttribute(o)==="");this.setProperties({enabled:c},!e)}break;case"value":(v(this.dateTimeOptions)||this.dateTimeOptions.value===void 0||e)&&(n=new Date(this.inputElement.getAttribute(o)),!this.isNullOrEmpty(n)&&!isNaN(+n)&&this.setProperties({value:n},!e));break;case"max":(v(this.dateTimeOptions)||this.dateTimeOptions.max===void 0||e)&&(n=new Date(this.inputElement.getAttribute(o)),!this.isNullOrEmpty(n)&&!isNaN(+n)&&this.setProperties({max:n},!e));break}}},t.prototype.requiredModules=function(){var e=[];return this.calendarMode==="Islamic"&&e.push({args:[this],member:"islamic",name:"Islamic"}),this.enableMask&&e.push(this.maskedDateModule()),e},t.prototype.maskedDateModule=function(){var e={args:[this],member:"MaskedDateTime"};return e},t.prototype.getTimeActiveElement=function(){return v(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll("."+zm)},t.prototype.createDateObj=function(e){return e instanceof Date?e:null},t.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var i=this.createDateObj(e),n=this.valueWithMinutes,s=!v(n);if(this.checkDateValue(i)){var a=s?n.getDate():UMe,o=s?n.getMonth():VMe,l=s?n.getFullYear():HMe,c=s?n.getHours():WMe,u=s?n.getMinutes():YMe,d=s?n.getSeconds():qMe,p=s?n.getMilliseconds():QMe;return this.scrollInvoked?(this.scrollInvoked=!1,new Date(l,o,a,i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):new Date(l,o,a,c,u,d,p)}}return null},t.prototype.findNextTimeElement=function(e){var i=this.inputElement.value,n=v(this.valueWithMinutes)?this.createDateObj(i):this.getDateObject(this.valueWithMinutes),s=null,a=this.liCollections.length;if(!v(this.activeIndex)||!v(this.checkDateValue(n))){if(e.action==="home")s=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if(e.action==="end")s=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if(e.action==="down"){for(var o=0;o<a;o++)if(+n<this.timeCollections[o]){s=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}}else for(var o=a-1;o>=0;o--)if(+n>this.timeCollections[o]){s=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(v(s)?null:new Date(s))}},t.prototype.setTimeValue=function(e,i){var n,s,a=this.validateMinMaxRange(i),o=this.createDateObj(a);return this.getFormattedValue(o)!==(v(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=v(o)?null:o,s=new Date(+this.valueWithMinutes)):(this.strictMode&&(e=o),this.valueWithMinutes=this.checkDateValue(e),s=new Date(+this.valueWithMinutes)),this.calendarMode==="Gregorian"?n=this.globalize.formatDate(s,{format:v(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd"}):n=this.globalize.formatDate(s,{format:v(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),!this.strictMode&&v(s)?Rt.setValue(n,this.inputElement,this.floatLabelType,this.showClearButton):Rt.setValue(n,this.inputElement,this.floatLabelType,this.showClearButton),s},t.prototype.timeElementValue=function(e){if(!v(this.checkDateValue(e))&&!this.isNullOrEmpty(e)){var i=e instanceof Date?e:this.getDateObject(e);return this.setTimeValue(i,e)}return null},t.prototype.timeKeyHandler=function(e){if(!(v(this.step)||this.step<=0)){var i=this.timeCollections.length;if(v(this.getTimeActiveElement())||this.getTimeActiveElement().length===0)this.liCollections.length>0&&(v(this.value)&&v(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e));else{var n=void 0;if(e.keyCode>=37&&e.keyCode<=40){var s=e.keyCode===40||e.keyCode===39?++this.activeIndex:--this.activeIndex;this.activeIndex=s=this.activeIndex===i?0:this.activeIndex,this.activeIndex=s=this.activeIndex<0?i-1:this.activeIndex,n=v(this.timeCollections[s])?this.timeCollections[0]:this.timeCollections[s]}else e.action==="home"?(this.activeIndex=0,n=this.timeCollections[0]):e.action==="end"&&(this.activeIndex=i-1,n=this.timeCollections[i-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(n))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,XMe),this.setTimeActiveDescendant(),this.isTimePopupOpen()&&this.selectedElement!==null&&(!e||e.type!=="click")&&this.setTimeScrollPosition()}},t.prototype.timeKeyActionHandle=function(e){if(this.enabled)switch(e.action!=="right"&&e.action!=="left"&&e.action!=="tab"&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),pe([this.inputWrapper.container],mM),this.isNavigate=!1,e.stopPropagation();break;case"escape":this.hide(e);break;default:this.isNavigate=!1;break}},t.prototype.inputKeyAction=function(e){switch(e.action){case"altDownArrow":this.strictModeUpdate(),this.updateInput(),this.toggle(e);break}},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n],o=["blur","change","cleared","close","created","destroyed","focus","navigated","open","renderDayCell"];switch(o.indexOf(a)>0&&this.isReact&&(this.isDynamicValueChanged=!0),a){case"value":this.isDynamicValueChanged=!0,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,e.value=this.validateValue(e.value),this.enableMask?Rt.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton):Rt.setValue(this.getFormattedValue(e.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=e.value,this.setProperties({value:e.value},!0),this.popupObj&&this.popupUpdate(),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.value&&this.notify("createMask",{module:"MaskedDateTime"});break;case"min":case"max":this.getProperty(e,a),this.updateInput();break;case"enableRtl":Rt.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":v(i.cssClass)||(i.cssClass=i.cssClass.replace(/\s+/g," ").trim()),v(e.cssClass)||(e.cssClass=e.cssClass.replace(/\s+/g," ").trim()),Rt.setCssClass(e.cssClass,[this.inputWrapper.container],i.cssClass),this.dateTimeWrapper&&Rt.setCssClass(e.cssClass,[this.dateTimeWrapper],i.cssClass);break;case"locale":this.globalize=new Ns(this.locale),this.l10n.setLocale(this.locale),this.dateTimeOptions&&this.dateTimeOptions.placeholder==null&&(this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),Rt.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)),this.dateTimeFormat=this.cldrDateTimeFormat(),r.prototype.updateInput.call(this);break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||Rt.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;case"placeholder":Rt.setPlaceholder(e.placeholder,this.inputElement);break;case"enabled":Rt.setEnabled(this.enabled,this.inputElement),this.enabled?this.inputElement.setAttribute("tabindex",this.tabIndex):this.inputElement.tabIndex=-1;break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width),Rt.calculateWidth(this.inputElement,this.inputWrapper.container),!v(this.inputWrapper.buttons[0])&&!v(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&this.floatLabelType!=="Never"&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon");break;case"readonly":Rt.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,Rt.removeFloating(this.inputWrapper),Rt.addFloating(this.inputElement,this.floatLabelType,this.placeholder),!v(this.inputWrapper.buttons[0])&&!v(this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0])&&this.floatLabelType!=="Never"&&this.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-date-time-icon");break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(e.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),Rt.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton)):this.inputElement.value===this.maskedDateValue&&(this.maskedDateValue="",Rt.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;default:r.prototype.onPropertyChanged.call(this,e,i);break}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}},t.prototype.getModuleName=function(){return"datetimepicker"},t.prototype.restoreValue=function(){this.previousDateTime=this.previousDate,this.currentDate=this.value?this.value:new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.previousElementValue=v(this.inputValueCopy)?"":this.getFormattedValue(this.inputValueCopy)},Pr([ee(null)],t.prototype,"timeFormat",void 0),Pr([ee(30)],t.prototype,"step",void 0),Pr([ee(null)],t.prototype,"scrollTo",void 0),Pr([ee(1e3)],t.prototype,"zIndex",void 0),Pr([ee(null)],t.prototype,"value",void 0),Pr([ee(null)],t.prototype,"keyConfigs",void 0),Pr([ee({})],t.prototype,"htmlAttributes",void 0),Pr([ee(!1)],t.prototype,"enablePersistence",void 0),Pr([ee(!0)],t.prototype,"allowEdit",void 0),Pr([ee(!1)],t.prototype,"isMultiSelection",void 0),Pr([ee(null)],t.prototype,"values",void 0),Pr([ee(!0)],t.prototype,"showClearButton",void 0),Pr([ee(null)],t.prototype,"placeholder",void 0),Pr([ee(!1)],t.prototype,"strictMode",void 0),Pr([ee(!1)],t.prototype,"fullScreenMode",void 0),Pr([ee(null)],t.prototype,"serverTimezoneOffset",void 0),Pr([ee(new Date(1900,0,1))],t.prototype,"min",void 0),Pr([ee(new Date(2099,11,31))],t.prototype,"max",void 0),Pr([ee(null)],t.prototype,"minTime",void 0),Pr([ee(null)],t.prototype,"maxTime",void 0),Pr([ee(null)],t.prototype,"firstDayOfWeek",void 0),Pr([ee("Gregorian")],t.prototype,"calendarMode",void 0),Pr([ee("Month")],t.prototype,"start",void 0),Pr([ee("Month")],t.prototype,"depth",void 0),Pr([ee(!1)],t.prototype,"weekNumber",void 0),Pr([ee(!0)],t.prototype,"showTodayButton",void 0),Pr([ee("Short")],t.prototype,"dayHeaderFormat",void 0),Pr([ee(!1)],t.prototype,"openOnFocus",void 0),Pr([ee(!1)],t.prototype,"enableMask",void 0),Pr([ee({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],t.prototype,"maskPlaceholder",void 0),Pr([Xe()],t.prototype,"open",void 0),Pr([Xe()],t.prototype,"close",void 0),Pr([Xe()],t.prototype,"cleared",void 0),Pr([Xe()],t.prototype,"blur",void 0),Pr([Xe()],t.prototype,"focus",void 0),Pr([Xe()],t.prototype,"created",void 0),Pr([Xe()],t.prototype,"destroyed",void 0),t=Pr([$n],t),t})(oK),Yp="cellClick",ewe="cellDoubleClick",twe="moreEventsClick",Mw="select",iwe="hover",dc="actionBegin",qp="actionComplete",gM="actionFailure",FO="navigating",Eu="renderCell",h1="eventClick",rwe="eventDoubleClick",P1="eventRendered",nwe="dataBinding",swe="dataBound",ww="popupOpen",iS="popupClose",awe="dragStart",owe="drag",lwe="dragStop",cwe="resizeStart",uwe="resizing",hwe="resizeStop",F1="inlineClick",ZU="cellSelect",l4="virtualScrollStart",eV="virtualScrollStop",BO="noEvents",cK="agendaCells",dwe="resourceHeader",uK="dateHeader",fwe="beforePaste",pwe="tooltipOpen",mwe="print",hd="data-ready",Wj="events-loaded",Mc="content-ready",tV="scroll",rS="virtual-scroll",dd="scroll-ui-update",UO="ui-update",Qp="document-click",VO="document-paste",HO="cell-mouse-down",uh=7,iV=6,cs=864e5,ls=6e4;function gwe(r,t,e){var i=0,n=Be("div",{className:t}).cloneNode();return n.style.visibility="hidden",n.style.position="absolute",r.appendChild(n),i=dK(n,e),ji(n),i}function vwe(r,t,e){var i=0,n=Be("div",{className:t}).cloneNode();return n.style.visibility="hidden",n.style.position="absolute",r.appendChild(n),i=Qj(n,e),ji(n),i}function hK(r){var t=getComputedStyle(r);return window.WebKitCSSMatrix?new WebKitCSSMatrix(t.webkitTransform).m42:0}function rV(r){var t=getComputedStyle(r);return window.WebKitCSSMatrix?new WebKitCSSMatrix(t.webkitTransform).m41:0}function dh(r,t){var e=new Date(r.getTime());return t=(t-e.getDay()+-7)%7,new Date(e.setDate(e.getDate()+(isNaN(t)?0:t)))}function WO(r,t){var e=dh(r,t),i=new Date(e.getFullYear(),e.getMonth(),e.getDate()+6);return new Date(i.getTime())}function YO(r){return new Date(r.getFullYear(),r.getMonth(),1)}function B1(r){return new Date(r.getFullYear(),r.getMonth()+1,0)}function c4(r){var t=new Date(r.getFullYear(),0,1).valueOf(),e=new Date(r.getFullYear(),r.getMonth(),r.getDate()).valueOf(),i=(e-t+cs)/cs;return Math.ceil(i/7)}function ywe(r,t){return new Date(t.valueOf()-(t.valueOf()-r.valueOf())/2)}function xwe(r,t){var e=r.getTimezoneOffset(),i=new Date(r.getTime()+t),n=i.getTimezoneOffset()-e;return r.setTime(i.getTime()+n*ls),r}function Ze(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate())}function lg(r){var t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0).getTimezoneOffset(),e=r.getTimezoneOffset(),i=e-t;return r.getTime()-new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0).getTime()-i*60*1e3}function Mwe(r,t){return Math.ceil((t.getTime()-r.getTime())/cs)}function Zt(r,t){return r=new Date(""+r),new Date(r.setDate(r.getDate()+t))}function cg(r,t){r=new Date(""+r);var e=r.getDate();return r.setDate(1),r.setMonth(r.getMonth()+t),r.setDate(Math.min(e,wwe(r))),r}function fc(r,t,e){var i=new Date(r.getTime());i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),i.setSeconds(t.getSeconds());var n=new Date(r.getTime());return e.getHours()===0?n=Zt(n,1):(n.setHours(e.getHours()),n.setMinutes(e.getMinutes()),n.setSeconds(e.getSeconds())),{startHour:i,endHour:n}}function wwe(r){return B1(r).getDate()}function qO(r,t){var e=Ze(new Date(r)),i=Ze(new Date(t));return Math.round((i.getTime()-e.getTime())/cs)}function nV(r){return r.indexOf("Date")!==-1?new Date(parseInt(r.match(/\d+/g).toString(),10)):r.indexOf("T")!==-1?new Date(r):new Date(r.replace(/-/g,"/"))}var eA=null,Tw=null;function Yj(){if(eA!==null)return eA;Tw===null&&(Tw=window.devicePixelRatio||window.screen.availWidth/document.documentElement.clientWidth);var r=Be("div"),t=0;r.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(r);var e=devicePixelRatio?devicePixelRatio.toFixed(2)==="1.10"||devicePixelRatio<=1?Math.ceil(devicePixelRatio%1):Math.floor(devicePixelRatio%1):0;return t=r.offsetWidth-r.clientWidth-e|0,document.body.removeChild(r),eA=t}function Twe(){var r=window.devicePixelRatio||window.screen.availWidth/document.documentElement.clientWidth;Tw&&Tw!==r&&(eA=null,Tw=r)}function lT(r,t,e,i,n){for(var s=0,a=r.length;s<a;s++)if(r[parseInt(s.toString(),10)][""+t]===e)if(i){var o=n.slice(-2)[0].field,l=i[""+o]instanceof Array?i[""+o]:[i[""+o]],c=l.join(",");if(c.includes(r[parseInt(s.toString(),10)][n.slice(-1)[0].groupIDField]))return s}else return s;return-1}function qj(r){var t=getComputedStyle(r);return r.offsetHeight+(parseInt(t.marginTop,10)||0)+(parseInt(t.marginBottom,10)||0)}function df(r){for(var t=[].slice.call(r.children),e=0,i=t;e<i.length;e++){var n=i[e];r.removeChild(n)}}function bwe(r){var t=new Date(r.getFullYear(),0,1),e=new Date(r.getFullYear(),6,1);return r.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())}function Ss(r){var t=r.getFullYear(),e=r.getMonth(),i=r.getDate(),n=r.getHours(),s=r.getMinutes(),a=r.getSeconds(),o=r.getMilliseconds();return Date.UTC(t,e,i,n,s,a,o)}function Dwe(){return window.navigator.userAgent.toLowerCase().indexOf("mobi")>-1}function Ewe(){return window.navigator.userAgent.toLowerCase().indexOf("ipad")>-1}function Rn(r,t){if(t==="multiple")r=r.split(" ").map(function(i){return i.charAt(0).toLocaleUpperCase()+i.substring(1)}).join(" ");else if(t==="single"){if(r[0]>="0"&&r[0]<="9"){var e=r.match(/[a-zA-Z]/);r=v(e)?r:r.slice(0,e.index)+r[e.index].toLocaleUpperCase()+r.slice(e.index+1)}r=r[0].toLocaleUpperCase()+r.slice(1)}return r}function Qj(r,t){return t?r.offsetWidth:r.getBoundingClientRect().width}function dK(r,t){return t?r.offsetHeight:r.getBoundingClientRect().height}function Awe(r,t){return t?r.offsetTop:r.getBoundingClientRect().top}var nS="e-schedule",u4="e-rtl",d1="e-device",sV="e-adaptive",h4="e-multi-drag",xs="e-icons",ug="e-enable",hn="e-disable",fh="e-table-container",fK="e-schedule-table",tn="e-all-day-cells",Swe="e-header-popup",Nwe="e-header-calendar",ef="e-all-day-row",_n="e-content-table",ci="e-work-cells",Xy="e-work-hours",la="e-popup-open",Iwe="e-popup-close",Au="e-date-header-wrap",Gj="e-date-header-container",Co="e-header-cells",Cwe="e-header-week-cell",Owe="e-header-month-cell",kwe="e-header-year-cell",Lwe="e-work-days",Ps="e-other-month",pK="e-current-day",QO="e-current-date",GO="e-current-panel",KO="e-previous-panel",aV="e-next-panel",jwe="e-prev",_we="e-next",Sy="e-translate",zwe="e-left-indent",mK="e-left-indent-wrap",wg="e-event-table",Rwe="e-resource-left-td",f1="e-resource-group-cells",tA="e-resource-text",id="e-resource-column-wrap",Tg="e-resource-column-table",oV="e-child-node",fp="e-parent-node",O0="e-resource-expand",Vd="e-resource-collapse",Jy="e-resource-tree-icon",$c="e-resource-cells",$O="e-time-cells-wrap",Pwe="e-time-cells",sS="e-time-slots",Fwe="e-alternate-cells",lV="e-current-time",aS="e-current-timeline",cV="e-previous-timeline",d4="e-hide-childs",uV="e-scroll-container",gK="e-timeline-wrapper",kn="e-appointment-wrapper",tw="e-appointment-wrapper-hidden",oS="e-day-wrapper",Bwe="e-schedule-toolbar-container",cT="e-schedule-resource-toolbar-container",hV="e-schedule-toolbar",vK="e-schedule-resource-toolbar",p1="e-selected-cell",lS="e-week-number-wrapper",kN="e-week-number",f4="e-wrapper-container",Dp="e-appointment-container",Ni="e-appointment",U1="e-block-appointment",cS="e-block-indicator",ng="e-appointment-border",LN="e-appointment-details",uS="e-subject-wrap",yK="e-resource-name",tf="e-time",Kj="e-table-wrap",$j="e-outer-table",lr="e-content-wrap",uT="e-virtual-track",Gd="e-agenda-cells",xK="e-current-day",hS="e-active-appointment-agenda",MK="e-month-header",dV="e-day-date-header",Uwe="e-resource-column",fV="e-date-column",V1="e-navigate",hT="e-date-header",pV="e-day-border",Vwe="e-date-border",Hwe="e-day-padding",XO="e-date-time",Wwe="e-date-time-wrapper",Ywe="e-empty-event",mV="e-no-event",dS="e-indicator",qwe="e-up-icon",Qwe="e-down-icon",wK="e-left-icon",TK="e-right-icon",qd="e-event-action",fS="e-new-event",sg="e-schedule-event-clone",Gwe="e-month-event",p4="e-clone-time-indicator",bK="e-drag-clone",dT="e-event-resize",Xj="e-resize-clone",pS="e-left-handler",mS="e-right-handler",JO="e-top-handler",ZO="e-bottom-handler",fT="e-recurrence-icon",pT="e-recurrence-edit-icon",Jj="e-header-row",gu="e-all-day-appointment-wrapper",qo="e-all-day-appointment",gV="e-appointment-hide",vM="e-row-count-wrapper",bw="e-all-day-appointment-section",iA="e-appointment-expand",vV="e-appointment-collapse",Gl="e-more-indicator",m4="e-cell-popup",g4="e-event-popup",Kwe="e-multiple-event-popup",v4="e-popup-header",yV="e-header-icon-wrapper",$we="e-popup-content",ek="e-popup-footer",xV="e-date-time-details",Xwe="e-recurrence-summary",gS="e-event-details",vS="e-event-create",_0="e-event-edit",vp="e-event-delete",pl="e-text-ellipsis",Kd="e-more-popup-wrapper",Q0="e-more-event-popup",Jwe="e-more-event-header",y4="e-more-event-date-header",MV="e-header-day",Fy="e-header-date",tk="e-more-event-close",aE="e-more-event-content",x4="e-more-appointment-wrapper",wV="e-quick-dialog",M4="e-quick-dialog-occurrence-event",w4="e-quick-dialog-series-event",TV="e-quick-dialog-following-events",bV="e-following-events-dialog",T4="e-quick-dialog-delete",yM="e-quick-dialog-cancel",Pm="e-quick-alertok",Rd="e-quick-alertcancel",DV="e-quick-alertfollowing",EV="e-quick-dialog-alert-btn",sp="e-schedule-dialog",Zwe="e-form-container",pp="e-schedule-form",eTe="e-all-day-time-zone-row",xM="e-all-day",Ym="e-time-zone",tTe="e-time-zone-icon",iTe="e-time-zone-details",rTe="e-repeat-parent-row",MM="e-repeat",nTe="e-title-location-row",Bs="e-subject",G0="e-location",sTe="e-location-icon",AV="e-location-details",aTe="e-start-end-row",Fm="e-start",x0="e-end",oTe="e-resources-row",By="e-description",lTe="e-description-icon",SV="e-description-details",wM="e-time-zone-row",TM="e-start-time-zone",bM="e-end-time-zone",cTe="e-back-icon",NV="e-save-icon",DK="e-event-cancel",oE="e-event-save",uTe="e-dialog-parent",IV="e-title-text",CV="e-icon-disable",qm="e-edit",DM="e-edit-icon",iw="e-delete",OV="e-delete-icon",k0="e-close",lE="e-close-icon",kV="e-schedule-error",hTe="e-schedule-event-tooltip",b4="e-tooltip-hidden",D4="e-animate",dTe="e-timescale-disable",fTe="e-disable-date",gl="e-hidden",mT="e-disable-dates",Zh="e-quick-popup-wrapper",pTe="e-popup-table",LV="e-resource-menu",jV="e-icon-menu",_V="e-resource-level-title",mTe="e-resource-tree",zV="e-resource-tree-popup-overlay",EM="e-resource-tree-popup",RV="e-resource",PV="e-resource-icon",E4="e-resource-details",FV="e-date-time-icon",EK="e-virtual-scroll",BV="e-icon-disable",AK="e-auto-height",SK="e-ignore-whitespace",gTe="e-template",Dw="e-read-only",A4="e-month-header-wrapper",Gc="e-inline-subject",Ew="e-inline-appointment",Aw="e-inline-edit",UV="e-scroll-hidden",gT="e-all-day-scroll",rA="e-all-day-auto",vTe="e-clipboard",$m=function(){return $m=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},$m.apply(this,arguments)},S4=(function(){function r(t){this.parent=t,this.l10n=this.parent.localeObj,this.renderHeader(),this.addEventListener()}return r.prototype.addEventListener=function(){this.parent.on(Qp,this.closeHeaderPopup,this)},r.prototype.removeEventListener=function(){this.parent.off(Qp,this.closeHeaderPopup)},r.prototype.closeHeaderPopup=function(t){var e=Fe(t.event.target,".e-date-range,.e-header-popup,.e-day,.e-selected"),i=Fe(t.event.target,".e-hor-nav,.e-toolbar-pop"),n=this.parent.element.querySelector("."+lr),s=this.parent.element.querySelector(".e-toolbar-pop");if(this.parent.isAdaptive)if(!v(i)&&(i.classList.contains("e-toolbar-pop")||i.classList.contains("e-hor-nav"))&&!(i.classList.contains("e-hor-nav")&&s&&s.classList.contains(la)))pe([n],UV);else{Oe([n],UV);var a=this.element.querySelector(".e-toolbar-pop");if(!v(a)){var o=a.ej2_instances[0];o&&!(!v(i)&&i.classList.contains("e-hor-nav")&&a.classList.contains(la))&&o.hide()}}v(e)&&this.hideHeaderPopup()},r.prototype.hideHeaderPopup=function(){this.headerPopup&&this.headerPopup.hide()},r.prototype.renderHeader=function(){this.element=Be("div",{className:Bwe});var t=Be("div",{className:hV});this.element.appendChild(t),this.parent.element.insertBefore(this.element,this.parent.element.firstElementChild),this.renderToolbar()},r.prototype.renderToolbar=function(){var t=this,e=this.parent.toolbarItems&&this.parent.toolbarItems.length>0?this.getToolbarItems():this.getItems();this.parent.trigger(dc,{requestType:"toolbarItemRendering",items:e},function(i){t.toolbarObj=new Ixe({items:i.items,overflowMode:"Popup",clicked:t.toolbarClickHandler.bind(t),created:t.toolbarCreateHandler.bind(t),enableRtl:t.parent.enableRtl,enableHtmlSanitizer:t.parent.enableHtmlSanitizer,locale:t.parent.locale}),t.toolbarObj.isStringTemplate=!0,t.toolbarObj.root=t.parent.root?t.parent.root:t.parent,t.toolbarObj.appendTo(t.parent.element.querySelector("."+hV)),t.toolbarObj.element.setAttribute("aria-label","Scheduler");var n=t.toolbarObj.element.querySelector(".e-prev");n&&n.firstElementChild.setAttribute("title",t.l10n.getConstant("previous"));var s=t.toolbarObj.element.querySelector(".e-next");s&&s.firstElementChild.setAttribute("title",t.l10n.getConstant("next")),t.updateAddIcon(),t.updateActiveView(),t.parent.trigger(qp,{requestType:"toolBarItemRendered",items:t.toolbarObj.items})})},r.prototype.updateItems=function(){var t=this;if(this.toolbarObj){var e=this.getItems();this.parent.trigger(dc,{requestType:"toolbarItemRendering",items:e},function(i){t.toolbarObj.items=i.items,t.toolbarObj.dataBind(),t.parent.trigger(qp,{requestType:"toolBarItemRendered",items:t.toolbarObj.items})})}},r.prototype.getPopUpRelativeElement=function(){return this.parent.isAdaptive?this.toolbarObj.element:this.element.querySelector(".e-date-range")},r.prototype.setDayOfWeek=function(t){this.headerCalendar&&(this.headerCalendar.firstDayOfWeek=t,this.headerCalendar.dataBind())},r.prototype.setCalendarDate=function(t){this.headerCalendar&&(this.headerCalendar.value=t,this.headerCalendar.dataBind())},r.prototype.setCalendarMinMaxDate=function(){this.headerCalendar&&(this.headerCalendar.min=this.parent.minDate,this.headerCalendar.max=this.parent.maxDate,this.headerCalendar.dataBind())},r.prototype.getCalendarView=function(){return["Month","MonthAgenda","TimelineMonth"].indexOf(this.parent.currentView)>-1?"Year":["Year","TimelineYear"].indexOf(this.parent.currentView)>-1?"Decade":"Month"},r.prototype.setCalendarView=function(){if(this.headerCalendar){var t=this.getCalendarView();this.headerCalendar.depth=t,this.headerCalendar.start=t,this.headerCalendar.refresh()}},r.prototype.updateActiveView=function(){var t=[].slice.call(this.toolbarObj.element.querySelectorAll(".e-views"));Oe(t,["e-active-view"]),t.length>0&&t[this.parent.viewIndex]&&pe([t[this.parent.viewIndex]],["e-active-view"])},r.prototype.updateDateRange=function(t){var e=this.toolbarObj.element.querySelector(".e-date-range");if(e){e.firstElementChild.setAttribute("aria-haspopup","true");var i=e.querySelector(".e-tbar-btn-text");if(this.parent.activeViewOptions.dateRangeTemplate){i.textContent="";var n={startDate:this.parent.activeView.getStartDate(),endDate:this.parent.activeView.getEndDate(),currentView:this.parent.currentView},s=this.parent.activeViewOptions.dateRangeTemplateName,a=this.parent.element.id+"_"+s+"dateRangeTemplate",o=[].slice.call(this.parent.getDateRangeTemplate()(n,this.parent,"dateRangeTemplate",a,!1,void 0,void 0,this.parent.root));ri(o,i)}else{var l=this.parent.activeView.getDateRangeText(t);e.firstElementChild.setAttribute("aria-label",l),i.textContent=l}this.refresh()}},r.prototype.refresh=function(){this.toolbarObj&&this.toolbarObj.refreshOverflow()},r.prototype.updateAddIcon=function(){var t=this.toolbarObj.element.querySelector(".e-add");t&&(this.parent.eventSettings.allowAdding?Oe([t],gl):pe([t],gl))},r.prototype.getDateRangeText=function(){var t=this.parent.globalize.formatDate(this.parent.selectedDate,{format:"MMMM y",calendar:this.parent.getCalendarMode()});return Rn(t,"single")},r.prototype.getItemModel=function(t){var e={};return t.id&&(e.id=t.id),t.text&&(e.text=t.text),t.tooltipText&&(e.tooltipText=t.tooltipText),t.prefixIcon&&(e.prefixIcon=t.prefixIcon),t.cssClass&&(e.cssClass=t.cssClass),t.showTextOn!=="Both"&&(e.showTextOn=t.showTextOn),t.template&&(e.template=t.template),t.disabled&&(e.disabled=t.disabled),t.width!=="auto"&&(e.width=t.width),t.suffixIcon&&(e.suffixIcon=t.suffixIcon),t.align!=="Left"&&(e.align=t.align),t.overflow!=="None"&&(e.overflow=t.overflow),t.htmlAttributes&&(e.htmlAttributes=t.htmlAttributes),t.type!=="Button"&&(e.type=t.type),t.visible!==!0&&(e.visible=t.visible),t.showAlwaysInPopup&&(e.showAlwaysInPopup=t.showAlwaysInPopup),t.tabIndex!==-1&&(e.tabIndex=t.tabIndex),e},r.prototype.getToolbarItems=function(){for(var t=[],e,i=0,n=this.parent.toolbarItems;i<n.length;i++){var s=n[i];e=this.getItemModel(s);var a=void 0;if(s.name)switch(s.name){case"Today":a={showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-today",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"},a.align=e.align?e.align:s.align,t.push($m({},a,e));break;case"Previous":a={prefixIcon:"e-icon-prev",tooltipText:"Previous",overflow:"Show",cssClass:"e-prev",htmlAttributes:{role:"navigation"}},a.align=e.align?e.align:s.align,t.push($m({},a,e));break;case"Next":a={prefixIcon:"e-icon-next",tooltipText:"Next",overflow:"Show",cssClass:"e-next",htmlAttributes:{role:"navigation"}},a.align=e.align?e.align:s.align,t.push($m({},a,e));break;case"DateRangeText":a={text:this.getDateRangeText(),suffixIcon:"e-icon-down-arrow",cssClass:"e-date-range",overflow:"Show",htmlAttributes:{"aria-atomic":"true","aria-live":"assertive",role:"navigation"}},a.align=e.align?e.align:s.align,t.push($m({},a,e));break;case"NewEvent":a={showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-add",text:this.l10n.getConstant("newEvent"),cssClass:"e-add",overflow:"Show"},a.align=e.align?e.align:s.align,t.push($m({},a,e));break;case"Views":if(!v(this.parent.views)&&this.parent.views.length>1)for(var o=0,l=this.parent.views;o<l.length;o++){var c=l[o];a=this.getItemObject(c),a.align=e.align?e.align:s.align,t.push($m({},a,e))}break;case"Custom":t.push(s);break}else t.push(s)}return t},r.prototype.getItems=function(){var t=[];if(t.push({align:"Left",prefixIcon:"e-icon-prev",tooltipText:"Previous",overflow:"Show",cssClass:"e-prev"}),t.push({align:"Left",prefixIcon:"e-icon-next",tooltipText:"Next",overflow:"Show",cssClass:"e-next"}),t.push({align:"Left",text:this.getDateRangeText(),suffixIcon:"e-icon-down-arrow",cssClass:"e-date-range",overflow:"Show",htmlAttributes:{"aria-atomic":"true","aria-live":"assertive"}}),this.parent.isAdaptive||this.parent.enableAdaptiveUI?(t.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-add",text:this.l10n.getConstant("newEvent"),cssClass:"e-add",overflow:"Show"}),t.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-today",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"})):(t.push({align:"Right",showAlwaysInPopup:this.parent.isAdaptive||this.parent.enableAdaptiveUI,prefixIcon:"e-icon-today",text:this.l10n.getConstant("today"),cssClass:"e-today",overflow:"Show"}),!v(this.parent.views)&&this.parent.views.length>1&&t.push({align:"Right",type:"Separator",cssClass:"e-schedule-seperator"})),!v(this.parent.views)&&this.parent.views.length>1)for(var e=0,i=this.parent.views;e<i.length;e++){var n=i[e];t.push(this.getItemObject(n))}return t},r.prototype.getItemObject=function(t){var e,i;typeof t=="string"?(e=t.toLowerCase(),i=null):(e=t.option.toLowerCase(),i=t.displayName);var n,s,a=this.parent.isAdaptive||this.parent.enableAdaptiveUI;switch(e){case"day":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-day",text:i||this.l10n.getConstant("day"),cssClass:"e-views e-day"};break;case"week":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-week",text:i||this.l10n.getConstant("week"),cssClass:"e-views e-week"};break;case"workweek":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-workweek",text:i||this.l10n.getConstant("workWeek"),cssClass:"e-views e-work-week"};break;case"month":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-month",text:i||this.l10n.getConstant("month"),cssClass:"e-views e-month"};break;case"year":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-year",text:i||this.l10n.getConstant("year"),cssClass:"e-views e-year"};break;case"agenda":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-agenda",text:i||this.l10n.getConstant("agenda"),cssClass:"e-views e-agenda"};break;case"monthagenda":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-month-agenda",text:i||this.l10n.getConstant("monthAgenda"),cssClass:"e-views e-month-agenda"};break;case"timelineday":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-day",text:i||this.l10n.getConstant("timelineDay"),cssClass:"e-views e-timeline-day"};break;case"timelineweek":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-week",text:i||this.l10n.getConstant("timelineWeek"),cssClass:"e-views e-timeline-week"};break;case"timelineworkweek":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-workweek",text:i||this.l10n.getConstant("timelineWorkWeek"),cssClass:"e-views e-timeline-work-week"};break;case"timelinemonth":n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-month",text:i||this.l10n.getConstant("timelineMonth"),cssClass:"e-views e-timeline-month"};break;case"timelineyear":s=t.orientation==="Vertical"?"vertical":"horizontal",n={align:"Right",showAlwaysInPopup:a,prefixIcon:"e-icon-timeline-year-"+s,text:i||this.l10n.getConstant("timelineYear"),cssClass:"e-views e-timeline-year"};break}return n},r.prototype.renderHeaderPopup=function(){var t=Be("div",{className:Swe}),e=Be("div",{className:Nwe});t.appendChild(e),this.element.appendChild(t),this.headerPopup=new xh(t,{actionOnScroll:"hide",targetType:"relative",relateTo:this.getPopUpRelativeElement(),position:{X:"left",Y:"bottom"},collision:{X:"fit"},viewPortElement:this.element,enableRtl:this.parent.enableRtl});var i=this.getCalendarView(),n=this.parent.currentView==="Month"&&!v(this.parent.activeViewOptions.displayDate)&&!this.hasSelectedDate();this.headerCalendar=new aK({value:n?this.parent.activeViewOptions.displayDate:this.parent.selectedDate,min:this.parent.minDate,max:this.parent.maxDate,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,weekNumber:this.parent.activeViewOptions.showWeekNumber,enableRtl:this.parent.enableRtl,locale:this.parent.locale,depth:i,start:i,calendarMode:this.parent.calendarMode,change:this.calendarChange.bind(this)}),this.setCalendarTimezone(),this.headerCalendar.appendTo(e),this.headerPopup.hide()},r.prototype.calendarChange=function(t){if(t.value.getTime()!==this.parent.selectedDate.getTime()){var e=Ze(new Date(t.value));this.parent.changeDate(e)}this.headerPopup.hide()},r.prototype.setCalendarTimezone=function(){this.headerCalendar&&(this.headerCalendar.timezone=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName())},r.prototype.calculateViewIndex=function(t){var e=Fe(t.originalEvent.target,".e-views"),i=[].slice.call(this.element.querySelectorAll(".e-views"));return i.indexOf(e)},r.prototype.toolbarCreateHandler=function(){this.parent&&this.parent.portals&&this.toolbarObj&&this.toolbarObj.portals&&(this.parent.portals=this.parent.portals.concat(this.toolbarObj.portals),this.parent.renderReactTemplates())},r.prototype.toolbarClickHandler=function(t){if(t.item){var e=t.item.cssClass.replace("e-views ",""),i,n,s;switch(e){case"e-date-range":this.headerPopup||this.renderHeaderPopup(),this.headerPopup.element.classList.contains(la)?this.headerPopup.hide():this.headerPopup.show();break;case"e-day":this.parent.changeView("Day",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-week":this.parent.changeView("Week",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-work-week":this.parent.changeView("WorkWeek",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-month":this.parent.changeView("Month",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-year":this.parent.changeView("Year",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-agenda":this.parent.changeView("Agenda",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-month-agenda":this.parent.changeView("MonthAgenda",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-timeline-day":this.parent.changeView("TimelineDay",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-timeline-week":this.parent.changeView("TimelineWeek",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-timeline-work-week":this.parent.changeView("TimelineWorkWeek",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-timeline-month":this.parent.changeView("TimelineMonth",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-timeline-year":this.parent.changeView("TimelineYear",t.originalEvent,void 0,this.calculateViewIndex(t));break;case"e-today":s=Ze(this.parent.getCurrentTime()),(this.parent.currentView==="Agenda"||this.parent.currentView==="MonthAgenda"||!this.parent.isSelectedDate(s)||this.parent.currentView==="Month"&&this.parent.activeViewOptions.displayDate&&!this.hasSelectedDate()&&Ze(this.parent.activeViewOptions.displayDate)!==s||this.parent.currentView==="Month"&&this.parent.activeViewOptions.numberOfWeeks>0&&!this.hasSelectedDate()&&Ze(YO(this.parent.selectedDate))!==s)&&this.parent.changeDate(s,t.originalEvent);break;case"e-prev":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("Previous"),t.originalEvent);break;case"e-next":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("Next"),t.originalEvent);break;case"e-add":if(n=this.parent.activeCellsData.startTime.getTime()===this.parent.activeCellsData.endTime.getTime(),this.parent.activeCellsData&&!n)i=this.parent.activeCellsData;else{var a=this.parent.activeViewOptions.timeScale.interval,o=this.parent.activeViewOptions.timeScale.slotCount,l=a*ls/o,c=new Date(this.parent.selectedDate.getTime()),u=this.parent.getCurrentTime();c.setHours(u.getHours(),Math.round(c.getMinutes()/l)*l,0);var d=new Date(new Date(c.getTime()).setMilliseconds(c.getMilliseconds()+l));i={startTime:c,endTime:d,isAllDay:!1}}this.parent.eventWindow.openEditor(qe(i,{cancel:!1,event:t.originalEvent}),"Add");break}if(!v(this.toolbarObj)){var p=this.toolbarObj.element.querySelector(".e-toolbar-pop");p&&t.item.type!=="Input"&&p.ej2_instances[0].hide({name:"SlideUp",duration:100})}}},r.prototype.hasSelectedDate=function(){var t=Ze(this.parent.selectedDate).getTime();return t>=this.parent.activeView.getStartDate().getTime()&&t<=this.parent.activeView.getEndDate().getTime()},r.prototype.getHeaderElement=function(){return this.toolbarObj.element},r.prototype.updateHeaderItems=function(t){var e=this.toolbarObj.element.querySelector(".e-prev"),i=this.toolbarObj.element.querySelector(".e-next"),n=this.toolbarObj.element.querySelector(".e-date-range");e&&(t==="add"?pe([e],gl):Oe([e],gl)),i&&(t==="add"?pe([i],gl):Oe([i],gl)),n&&(t==="add"?pe([n],pl):Oe([n],pl))},r.prototype.previousNextIconHandler=function(){var t=this.parent.currentView==="Agenda"?[this.parent.getCurrentViewDates()[0]]:this.parent.getCurrentViewDates(),e=this.toolbarObj.element.querySelector("."+jwe),i=this.toolbarObj.element.querySelector("."+_we),n=new Date(t[0].getTime()),s=new Date(t[t.length-1].getTime());if(this.parent.currentView==="WorkWeek"||this.parent.currentView==="TimelineWorkWeek")n=dh(Ze(this.parent.selectedDate),this.parent.activeViewOptions.firstDayOfWeek),s=Zt(n,7*this.parent.activeViewOptions.interval);else if(this.parent.currentView==="Month"){var a=!v(this.parent.activeViewOptions.displayDate)||this.parent.activeViewOptions.numberOfWeeks>0;n=a?this.parent.activeView.getStartDate():YO(this.parent.selectedDate),s=a?this.parent.activeView.getEndDate():B1(cg(n,this.parent.activeViewOptions.interval-1))}v(e)||this.toolbarObj.enableItems(e,n>Ze(this.parent.minDate)),v(i)||this.toolbarObj.enableItems(i,s<Ze(this.parent.maxDate)),this.setCalendarMinMaxDate()},r.prototype.getModuleName=function(){return"headerbar"},r.prototype.destroy=function(){this.headerPopup&&!this.headerPopup.isDestroyed&&(this.headerPopup.destroy(),this.headerPopup=null),this.headerCalendar&&!this.headerCalendar.isDestroyed&&(this.headerCalendar.destroy(),this.headerCalendar=null),this.toolbarObj&&!this.toolbarObj.isDestroyed&&(this.toolbarObj.destroy(),this.removeEventListener(),ji(this.element),this.toolbarObj=null),this.element=null,this.parent=null,this.l10n=null},r})(),yTe=(function(){function r(t){this.parent=t,this.addEventListener()}return r.prototype.getModuleName=function(){return"scroll"},r.prototype.setWidth=function(){this.parent.element.style.width=bt(this.parent.width)},r.prototype.setHeight=function(){this.parent.element.style.height=bt(this.parent.height)},r.prototype.addEventListener=function(){this.parent.on(Mc,this.setDimensions,this),this.parent.on(UO,this.onPropertyChanged,this)},r.prototype.removeEventListener=function(){this.parent.off(Mc,this.setDimensions),this.parent.off(UO,this.onPropertyChanged)},r.prototype.setDimensions=function(){this.setWidth(),this.setHeight();var t={cssProperties:this.parent.getCssProperties(),module:this.getModuleName()};this.parent.notify(dd,t)},r.prototype.onPropertyChanged=function(){this.setDimensions()},r.prototype.destroy=function(){this.removeEventListener()},r})(),xTe=(function(){function r(t){this.parent=t,this.element=this.parent.element.querySelector("."+fh),this.touchObj=new sf(this.element,{scroll:this.scrollHandler.bind(this),swipe:this.swipeHandler.bind(this),tapHold:this.tapHoldHandler.bind(this),swipeSettings:{swipeThresholdDistance:1}}),se.add(this.element,"transitionend",this.onTransitionEnd,this),this.touchLeftDirection=this.parent.enableRtl?"Right":"Left",this.touchRightDirection=this.parent.enableRtl?"Left":"Right"}return r.prototype.scrollHandler=function(t){v(this.parent.eventTooltip)||this.parent.eventTooltip.close();var e=!this.parent.isAdaptive&&t.originalEvent&&t.originalEvent.target&&!v(Fe(t.originalEvent.target,"."+Ni));if(this.parent.uiStateValues.isTouchScroll=e&&t.originalEvent.type==="touchmove"&&!this.parent.uiStateValues.action,!(e||this.parent.currentView==="Agenda"||this.parent.uiStateValues.action||!this.parent.allowSwiping||this.parent.uiStateValues.isTapHold)){if(this.parent.uiStateValues.isSwipeScroll=!0,this.timeStampStart||(this.timeStampStart=Date.now()),this.element.classList.contains(Sy)&&this.onTransitionEnd(),t.scrollDirection==="Left"||t.scrollDirection==="Right"){var i={requestType:"dateNavigate",cancel:!1,event:t.originalEvent};if(this.parent.trigger(dc,i),i.cancel)return;var n=this.element.querySelector("."+lr);if(n&&n.scrollWidth>n.clientWidth)return;this.isScrollTriggered=!0,t.originalEvent.preventDefault(),t.originalEvent.stopPropagation()}if(t.scrollDirection===this.touchLeftDirection){this.nextPanel||(this.renderPanel(aV,"Next"),this.nextPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime()),renderDates:this.parent.activeView.renderDates,colLevels:this.parent.activeView.colLevels},this.setDimensions(this.nextPanel.element));var s=this.parent.enableRtl?t.distanceX:-t.distanceX;this.element.style.transform="translatex("+(this.getTranslateX(this.element)+s)+"px)"}else if(t.scrollDirection===this.touchRightDirection){var a=0;this.previousPanel||(this.renderPanel(KO,"Previous"),this.previousPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime()),renderDates:this.parent.activeView.renderDates,colLevels:this.parent.activeView.colLevels},this.setDimensions(this.previousPanel.element),a=this.previousPanel.element.offsetWidth);var s=this.parent.enableRtl?a-t.distanceX:-a+t.distanceX;this.element.style.transform="translatex("+(this.getTranslateX(this.element)+s)+"px)"}}},r.prototype.swipeHandler=function(t){if(!(!this.isScrollTriggered||this.parent.uiStateValues.action||!this.parent.allowSwiping||this.parent.uiStateValues.isTapHold)){this.isScrollTriggered=!1;var e=t.swipeDirection==="Left"?this.parent.activeView.renderDates[0]:this.parent.activeView.renderDates.slice(-1)[0];if(t.swipeDirection==="Left"&&e<this.parent.maxDate||t.swipeDirection==="Right"&&e>=this.parent.minDate){var i=Date.now()-this.timeStampStart,n=t.distanceX*(Re.isDevice?6:1.66);n>i||t.distanceX>this.parent.element.offsetWidth/2?(this.swapPanels(t.swipeDirection),n>i&&t.distanceX>this.parent.element.offsetWidth/2&&(this.element.style.transitionDuration=(Re.isDevice?t.distanceX:n)/i/10+"s"),this.confirmSwipe(t.swipeDirection)):this.cancelSwipe();var s={requestType:"dateNavigate",cancel:!1,event:t.originalEvent};this.parent.trigger(qp,s)}else this.cancelSwipe();this.timeStampStart=null}},r.prototype.tapHoldHandler=function(t){var e=Fe(t.originalEvent.target,"."+Ni);v(e)||(this.parent.uiStateValues.isTapHold=!0,this.parent.isAdaptive?(Re.isIos&&se.add(this.element,"touchend",this.preventEventClick,this),this.parent.quickPopup.tapHoldEventPopup(t.originalEvent),this.triggerResizeStart(t.originalEvent)):["Agenda","MonthAgenda","Year"].indexOf(this.parent.currentView)<0&&(this.parent.selectedElements=[],this.parent.eventBase.getSelectedEventElements(e),this.triggerResizeStart(t.originalEvent)))},r.prototype.triggerResizeStart=function(t){this.parent.resizeModule&&Fe(t.target,"."+dT)&&this.parent.resizeModule.resizeStart(t)},r.prototype.preventEventClick=function(t){t.preventDefault(),se.remove(this.element,"touchend",this.preventEventClick)},r.prototype.renderPanel=function(t,e){this.currentPanel?this.parent.setProperties({selectedDate:this.currentPanel.selectedDate},!0):(this.currentPanel={element:this.parent.activeView.getPanel(),selectedDate:new Date(this.parent.selectedDate.getTime()),renderDates:this.parent.activeView.renderDates,colLevels:this.parent.activeView.colLevels},this.setDimensions(this.currentPanel.element)),this.parent.setProperties({selectedDate:this.parent.activeView.getNextPreviousDate(e)},!0),this.parent.headerModule&&this.parent.headerModule.setCalendarDate(this.parent.selectedDate),this.parent.activeView.getRenderDates(),this.parent.activeView.renderLayout(t)},r.prototype.swapPanels=function(t){if(t===this.touchLeftDirection){var e=this.nextPanel;this.nextPanel=this.currentPanel,this.currentPanel=e}else{var e=this.previousPanel;this.previousPanel=this.currentPanel,this.currentPanel=e}},r.prototype.confirmSwipe=function(t){var e=this,i=t===this.touchLeftDirection?this.nextPanel.selectedDate:this.previousPanel.selectedDate,n={action:"date",cancel:!1,previousDate:i,currentDate:this.currentPanel.selectedDate};this.parent.trigger(FO,n,function(s){if(s.cancel)e.swapPanels(t),e.cancelSwipe();else{e.parent.activeView.setPanel(e.currentPanel.element),e.parent.setProperties({selectedDate:e.currentPanel.selectedDate},!0);var a=void 0;e.parent.enableRtl?a=t===e.touchLeftDirection?e.previousPanel?e.previousPanel.element.offsetLeft:e.currentPanel.element.offsetWidth:0:a=t===e.touchLeftDirection?-e.currentPanel.element.offsetLeft:0,e.parent.activeView.renderDates=e.currentPanel.renderDates,e.parent.activeView.colLevels=e.currentPanel.colLevels,pe([e.element],Sy),e.element.style.transform="translatex("+a+"px)",e.parent.headerModule&&e.parent.headerModule.updateDateRange(),e.parent.renderTemplates(),e.parent.crudModule.refreshDataManager()}})},r.prototype.cancelSwipe=function(){var t=this;if(this.parent.activeView.setPanel(this.currentPanel.element),this.parent.setProperties({selectedDate:this.currentPanel.selectedDate},!0),this.parent.activeView.renderDates=this.currentPanel.renderDates,this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0){var e=this.parent.resourceBase.resourceCollection[0].workDaysField;this.parent.resourceBase.lastResourceLevel.forEach(function(n){if(e){var s=n[e],a=Array.isArray(s)&&(!t.parent.showWeekend||t.parent.currentView==="WorkWeek");n.renderDates=a?t.calculateResourceSpecificDates(n,e):t.currentPanel.renderDates}else n.renderDates=t.currentPanel.renderDates})}this.parent.activeView.colLevels=this.currentPanel.colLevels,pe([this.element],Sy);var i=this.previousPanel?this.previousPanel.element.offsetWidth:0;this.element.style.transform="translatex("+(this.parent.enableRtl?i:-this.currentPanel.element.offsetLeft)+"px)"},r.prototype.calculateResourceSpecificDates=function(t,e){var i=[],n=t[e];return this.currentPanel.renderDates.forEach(function(s){Array.isArray(n)&&n.indexOf(s.getDay())!==-1&&i.push(s)}),i},r.prototype.onTransitionEnd=function(){!v(this.element)&&!this.element.classList.contains(Sy)||(this.parent.uiStateValues.isSwipeScroll=!1,Oe([this.element],Sy),this.element.style.transitionDuration="",this.element.style.transform="",this.previousPanel&&(ji(this.previousPanel.element),this.previousPanel=null,Oe([this.currentPanel.element],KO),pe([this.currentPanel.element],GO)),this.nextPanel&&(ji(this.nextPanel.element),this.nextPanel=null,Oe([this.currentPanel.element],aV),pe([this.currentPanel.element],GO)),this.currentPanel=null,this.parent.activeView.getPanel().style.width="")},r.prototype.getTranslateX=function(t){var e=window.getComputedStyle(t);return new WebKitCSSMatrix(e.webkitTransform).m41},r.prototype.setDimensions=function(t){t.style.width=this.parent.element.clientWidth+"px"},r.prototype.resetValues=function(){this.currentPanel=null,this.previousPanel=null,this.nextPanel=null,this.timeStampStart=null,this.element.style.transform="",this.element.style.transitionDuration="",df(this.element),Oe([this.element],Sy)},r.prototype.destroy=function(){this.touchObj&&(this.touchObj.destroy(),this.touchObj=null),se.remove(this.element,"transitionend",this.onTransitionEnd),this.resetValues()},r})(),yS=function(){return yS=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},yS.apply(this,arguments)},VV=(function(){function r(t){this.selectedCells=[],this.isCutContentPasted=!1,this.isCutAction=!1,this.keyConfigs={downArrow:"downarrow",upArrow:"uparrow",rightArrow:"rightarrow",leftArrow:"leftarrow",shiftDownArrow:"shift+downarrow",shiftUpArrow:"shift+uparrow",shiftRightArrow:"shift+rightarrow",shiftLeftArrow:"shift+leftarrow",ctrlLeftArrow:"ctrl+leftarrow",ctrlRightArrow:"ctrl+rightarrow",altOne:"alt+1",altTwo:"alt+2",altThree:"alt+3",altFour:"alt+4",altFive:"alt+5",altSix:"alt+6",altSeven:"alt+7",altEight:"alt+8",altNine:"alt+9",enter:"enter",escape:"escape",delete:"delete",backspace:"backspace",home:"home",pageUp:"pageup",pageDown:"pagedown",tab:"tab",shiftTab:"shift+tab",ctrlShiftUpArrow:"ctrl+shift+uparrow",ctrlShiftDownArrow:"ctrl+shift+downarrow",ctrlShiftLeftArrow:"ctrl+shift+leftarrow",ctrlShiftRightArrow:"ctrl+shift+rightarrow",shiftAltY:"shift+alt+y",shiftAltN:"shift+alt+n",cut:"ctrl+x",copy:"ctrl+c",cmdCut:"cmd+x",cmdCopy:"cmd+c"},this.parent=t,this.parent.element.tabIndex=this.parent.element.tabIndex===-1?0:this.parent.element.tabIndex,this.keyboardModule=new Yl(this.parent.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.addEventListener(),this.createClipboardElement()}return r.prototype.keyActionHandler=function(t){var e=t.target;if(!(t.action==="home"&&e&&["INPUT","TEXTAREA","SELECT"].indexOf(e.tagName)>-1&&e.closest(".e-quick-popup-wrapper")))switch(t.action){case"downArrow":case"shiftDownArrow":this.processDown(t,t.shiftKey);break;case"upArrow":case"shiftUpArrow":this.processUp(t,t.shiftKey);break;case"leftArrow":case"shiftLeftArrow":this.processLeft(t,t.shiftKey);break;case"rightArrow":case"shiftRightArrow":this.processRight(t,t.shiftKey);break;case"ctrlLeftArrow":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("Previous"),t),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-prev button").focus();break;case"ctrlRightArrow":this.parent.changeDate(this.parent.activeView.getNextPreviousDate("Next"),t),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-next button").focus();break;case"altOne":case"altTwo":case"altThree":case"altFour":case"altFive":case"altSix":case"altSeven":case"altEight":case"altNine":this.processViewNavigation(t);break;case"enter":this.processEnter(t);break;case"home":this.focusFirstCell();break;case"tab":case"shiftTab":this.processTab(t,t.shiftKey);break;case"delete":case"backspace":this.processDelete(t);break;case"ctrlShiftUpArrow":case"ctrlShiftDownArrow":case"ctrlShiftLeftArrow":case"ctrlShiftRightArrow":this.processCtrlShiftNavigationArrows(t);break;case"escape":this.processEscape(t);break;case"fTwelve":this.parent.allowInline&&this.parent.inlineModule&&(t.preventDefault(),this.processFTwelve(t));break;case"shiftAltY":this.parent.changeDate(new Date,t);break;case"shiftAltN":if(this.parent.currentView==="Agenda"||this.parent.currentView==="MonthAgenda"||this.parent.currentView==="Year")return;this.processShiftAltN(t);break;case"cut":case"cmdCut":(t.ctrlKey||t.metaKey)&&this.processClipboardAction(!0,void 0,t);break;case"copy":case"cmdCopy":(t.ctrlKey||t.metaKey)&&this.processClipboardAction(!1,void 0,t);break}},r.prototype.processShiftAltN=function(t){var e=this.parent.getSelectedCells(),i=t.target,n=qe({},null,!0);if(e.length>0&&(Fe(i,"."+ci)||Fe(i,"."+tn)||Fe(i,"."+Co)))n=this.getSelectedElements(i);else if(Fe(i,"."+Ni)&&!v(this.parent.activeEventData.event)){var s=this.parent.activeEventData.event;n.startTime=s.StartTime,n.endTime=s.EndTime,n.isAllDay=s.IsAllDay}else{var a=this.parent.getStartEndTime(this.parent.workHours.start),o=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount;n.startTime=new Date(this.parent.selectedDate),n.startTime.setHours(a.getHours(),a.getMinutes(),0,0),n.endTime=new Date(n.startTime.getTime()+o*6e4)}var l=qe(n,{cancel:!1,event:t});l!=null&&this.parent.eventWindow.openEditor(l,"Add")},r.prototype.processFTwelve=function(t){var e=t.target;if(e.classList.contains(ci)||e.classList.contains(tn)){this.parent.activeCellsData=this.getSelectedElements(e);var i=qe(this.parent.activeCellsData,{cancel:!1,event:t}),n={element:i.element,groupIndex:i.groupIndex,type:"Cell"};this.parent.notify(F1,n)}if(e.classList.contains(Ni)){e.click();return}},r.prototype.addEventListener=function(){this.parent.on(HO,this.onCellMouseDown,this),this.parent.allowClipboard&&this.parent.on(VO,this.pasteHandler,this)},r.prototype.removeEventListener=function(){this.parent.off(HO,this.onCellMouseDown),this.parent.off(VO,this.pasteHandler)},r.prototype.onCellMouseDown=function(t){if(!t.event.shiftKey&&(this.initialTarget=this.getClosestCell(t.event),!(this.parent.activeViewOptions.readonly||this.parent.currentView==="MonthAgenda"||!this.initialTarget)&&(t.event.target.classList.contains(ci)&&t.event.which!==3&&(this.parent.removeSelectedClass(),se.add(this.parent.getContentTable(),"mousemove",this.onMouseSelection,this),se.add(this.parent.getContentTable(),"mouseup mouseleave",this.onMoveUp,this)),t.event.target.classList.contains(tn)&&t.event.which!==3))){this.parent.removeSelectedClass();var e=this.parent.getAllDayRow();se.add(e,"mousemove",this.onMouseSelection,this),se.add(e,"mouseup mouseleave",this.onMoveUp,this)}},r.prototype.onMouseSelection=function(t){var e=[].slice.call(this.parent.element.querySelectorAll("."+Ni));pe(e,"e-allow-select");var i=this.parent.boundaryValidation(t.pageY,t.pageX);if(i.bottom||i.top||i.left||i.right){var n=this.parent.element.querySelector("."+lr),s=n.offsetHeight<=n.scrollHeight&&n.scrollTop>=0&&n.scrollTop+n.offsetHeight<=n.scrollHeight,a=n.offsetWidth<=n.scrollWidth&&n.scrollLeft>=0&&n.scrollLeft+n.offsetWidth<=n.scrollWidth;s&&(i.top||i.bottom)&&(n.scrollTop+=i.top?-t.target.offsetHeight:t.target.offsetHeight),a&&(i.left||i.right)&&(n.scrollLeft+=i.left?-t.target.offsetWidth:t.target.offsetWidth)}var o=this.getClosestCell(t);o&&this.selectCells(!0,o)},r.prototype.getClosestCell=function(t){return Fe(t.target,"."+ci+",."+tn)},r.prototype.onMoveUp=function(t){var e=this,i=[].slice.call(this.parent.element.querySelectorAll("."+Ni));if(Oe(i,"e-allow-select"),se.remove(this.parent.getContentTable(),"mousemove",this.onMouseSelection),se.remove(this.parent.getContentTable(),"mouseup mouseleave",this.onMoveUp),t.target.classList.contains(tn)){var n=this.parent.getAllDayRow();se.remove(n,"mousemove",this.onMouseSelection),se.remove(n,"mouseup mouseleave",this.onMoveUp)}if(!this.isPreventAction(t)){var s="."+ci+",."+tn+",."+Co,a=Fe(t.target,s);if(a){var o=this.parent.getSelectedCells();if(o.length>0&&o.indexOf(a)===-1&&(a=o[o.length-1]),!(this.parent.currentView==="TimelineYear"&&a.classList.contains(Ps))){this.parent.activeCellsData=this.getSelectedElements(a);var l={};this.parent.eventWindow&&this.parent.eventWindow.convertToEventData(this.parent.activeCellsData,l);var c={data:l,element:this.parent.activeCellsData.element,event:t,requestType:ZU,showQuickPopup:!1};this.parent.trigger(Mw,c,function(u){var d=u.showQuickPopup||e.parent.quickInfoOnSelectionEnd;if(d&&o.length>1){var p=qe(e.parent.activeCellsData,{cancel:!1,event:t,name:"cellClick"});e.parent.notify(Yp,p)}})}}}},r.prototype.processEnter=function(t){if(!(this.parent.activeViewOptions.readonly&&!t.target.classList.contains(Ni)||this.isPreventAction(t))&&!(this.parent.currentView==="TimelineYear"&&t.target.classList.contains(Ps))){var e=t.target;if(Fe(e,"."+Zh)){e.classList.contains(gS)||e.classList.contains(vS)||e.classList.contains(_0)||e.classList.contains(vp)||e.classList.contains(k0)?(e.click(),t.preventDefault()):e.classList.contains(Bs)&&(this.parent.element.querySelector("."+vS).click(),t.preventDefault());return}if(e.classList.contains($c)&&e.classList.contains(fp)){var i=e.querySelector("."+Jy);i&&i.click();return}if(e.classList.contains(ci)||e.classList.contains(tn)){this.parent.activeCellsData=this.getSelectedElements(e);var n=qe(this.parent.activeCellsData,{cancel:!1,event:t});if(this.parent.allowInline){var s={element:n.element,groupIndex:n.groupIndex,type:"Cell"};this.parent.notify(F1,s)}else this.parent.currentView==="Year"?e.click():this.parent.notify(Yp,n);return}if(e.classList.contains(Gc)&&this.parent.inlineModule){this.parent.inlineModule.inlineCrudActions(e);return}if(e.classList.contains(Ni)||e.classList.contains(tk)||e.classList.contains(bw)||e.classList.contains(Gl)){e.click();return}if(e.classList.contains(Fy)){this.parent.setProperties({selectedDate:this.parent.getDateFromElement(e)},!0),this.parent.changeView(this.parent.getNavigateView(),t),this.processEscape(t);return}}},r.prototype.getSelectedElements=function(t){var e;if(this.selectedCells.length>1&&t.classList.contains(p1)){var i=this.parent.getCellDetails(this.selectedCells[0]),n=this.parent.getCellDetails(this.selectedCells.slice(-1)[0]);i.endTime=n.endTime,i.element=t,e=i}else e=this.parent.getCellDetails(t);return e},r.prototype.getCells=function(t,e,i){var n=this.parent.getContentTable(),s=this.parent.currentView==="TimelineYear",a=s&&!t?"."+ci+":not(."+Ps+")":"td",o=[].slice.call(n.querySelectorAll(a)),l=n.rows.length,c=n.rows[0].cells.length;if(e&&e.classList.contains(tn)){var u=this.parent.getAllDayRow();o=[].slice.call(u.cells),l=1,c=u.cells.length}var d=o.indexOf(e),p=o.indexOf(i),m=[];if(t){for(var y=0;y<c;y++)for(var M=0;M<l;M++){var w=o[c*M+y];s&&w.classList.contains(Ps)||m.push(w)}d=m.indexOf(e),p=m.indexOf(i)}if(d>p){var b=d;d=p,p=b}var D=t?m:o;return D.slice(d,p+1)},r.prototype.focusFirstCell=function(){if(this.parent.currentView==="Agenda"){var t=this.parent.getContentTable().querySelector("."+Gd);t.setAttribute("tabindex","0"),t.focus();return}if(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.activeView.isTimelineView()&&this.parent.currentView!=="TimelineYear"){var e=this.parent.element.querySelector("."+_n+" tr:not(."+gl+") ."+ci+":not(."+f1+")");this.selectCells(!1,e)}else if(this.parent.currentView.indexOf("Year")>-1){var i="."+ci+":not(."+Ps+"):not(."+f1+")",n=this.parent.currentView==="TimelineYear"&&this.parent.activeViewOptions.orientation==="Vertical";i+=n?'[data-date="'+this.parent.activeView.startDate().getTime()+'"]':"",this.selectCells(!1,this.parent.element.querySelector(i))}else this.selectCells(!1,this.parent.getWorkCellElements()[0])},r.prototype.isInverseTableSelect=function(){return this.parent.activeView.isInverseTableSelect},r.prototype.selectCells=function(t,e){var i=this;this.parent.removeSelectedClass();var n=e instanceof Array?e.slice(-1)[0]:e;if(t){var s,a=["Day","Week","WorkWeek","TimelineDay","TimelineWeek","TimelineWorkWeek","TimelineMonth","TimelineYear"],o={element:e,requestType:"mousemove",allowMultipleRow:!0};this.parent.inlineModule.removeInlineAppointmentElement(),this.parent.trigger(Mw,o,function(l){var c=!l.allowMultipleRow||!i.parent.allowMultiRowSelection;if(c){var u=i.parent.currentView==="TimelineYear";if(u&&i.parent.activeViewOptions.orientation==="Horizontal"||i.parent.currentView==="Month"){var d=u&&i.parent.activeViewOptions.group.resources.length>0;n=d?i.initialTarget:i.initialTarget.parentElement.children[n.cellIndex]}else a.indexOf(i.parent.currentView)>-1&&(n=n.parentElement.children[i.initialTarget.cellIndex])}var p=i.getCells(i.isInverseTableSelect(),i.initialTarget,n);if(i.parent.activeViewOptions.group.resources.length>0){s=i.initialTarget.getAttribute("data-group-index");for(var m=[],y=0,M=p;y<M.length;y++){var w=M[y];w.getAttribute("data-group-index")===s&&m.push(w)}p=m}if(i.parent.allowMultiCellSelection||(p=[i.initialTarget]),i.selectedCells=p,p.length>2&&!n.classList.contains(tn)){var b=i.getAllDayCells(p);if(i.parent.activeViewOptions.group.resources.length>0){for(var D=[],E=0,N=b;E<N.length;E++){var w=N[E];w.getAttribute("data-group-index")===s&&D.push(w)}b=D}p=p.concat(b)}n.getAttribute("data-group-index")!==s&&i.parent.activeViewOptions.group.resources.length>0&&(n=i.selectedCells[i.selectedCells.length-1]),i.parent.addSelectedClass(p,n)})}else{var o={element:n,requestType:ZU};this.parent.trigger(Mw,o,function(){i.initialTarget=n,i.selectedCells=[n],i.parent.addSelectedClass([n],n)})}},r.prototype.selectAppointment=function(t,e){var i=this.getAppointmentElements();if(!(i.length<0)){this.parent.eventBase.removeSelectedAppointmentClass();var n;if(e.classList.contains(Ni)){var s=i.indexOf(e);n=i[t?s-1:s+1]}else n=t?i[i.length-1]:i[0];n&&(this.parent.eventBase.addSelectedAppointments([n],!0),n.focus(),pe([n],hS))}},r.prototype.selectAppointmentElementFromWorkCell=function(t,e){var i=this;if(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.removeSelectedClass(),e.classList.contains(ci)||e.classList.contains(tn)){var n=this.getUniqueAppointmentElements(),s=[],a=this.parent.getDateFromElement(e).getTime(),o=this.parent.eventsProcessed.filter(function(u){return t?u[i.parent.eventFields.startTime].getTime()<=a:u[i.parent.eventFields.startTime].getTime()>=a});if(o.filter(function(u){n.filter(function(d){JSON.stringify(u.Guid)===JSON.stringify(d.getAttribute("data-guid"))&&s.push(d)})}),s.length>0){var l=t?s[s.length-1]:s[0],c=this.getAppointmentElementsByGuid(l.getAttribute("data-guid"));this.parent.eventBase.addSelectedAppointments(c,!0),c[c.length-1].focus()}}},r.prototype.getAllDayCells=function(t){var e=this.parent.getAllDayRow();if(!e)return[];var i=t[0],n=t[t.length-1],s=this.parent.getCellDetails(i),a=this.parent.getCellDetails(n);if(a.endTime.getTime()-s.startTime.getTime()>=cs){var o=[].slice.call(e.cells);return o.slice(i.cellIndex,n.cellIndex+1)}return[]},r.prototype.getAppointmentElements=function(){return[].slice.call(this.parent.element.querySelectorAll("."+Ni))},r.prototype.getAppointmentElementsByGuid=function(t){return[].slice.call(this.parent.element.querySelectorAll('div[data-guid="'+t+'"]'))},r.prototype.getUniqueAppointmentElements=function(){var t=this.getAppointmentElements(),e=[];return t.map(function(i){return i.getAttribute("data-guid")}).filter(function(i,n,s){s.indexOf(i)===n&&e.push(t[parseInt(n.toString(),10)])}),e},r.prototype.getWorkCellFromAppointmentElement=function(t){var e=this.parent.eventBase.getEventByGuid(t.getAttribute("data-guid"));return this.parent.eventBase.selectWorkCellByTime([e])},r.prototype.processViewNavigation=function(t){if(!v(t.code)){var e=parseInt(t.code.slice(t.code.length-1),10)-1;if(!isNaN(e)&&!v(this.parent.views)&&e<this.parent.views.length){var i=this.parent.viewCollections[parseInt(e.toString(),10)].option;this.parent.changeView(i,t,void 0,e),this.parent.headerModule&&this.parent.headerModule.element.querySelector(".e-active-view button").focus()}}},r.prototype.isCalendarTarget=function(t){var e=t.currentTarget||t.target;return!!(e&&!v(e.querySelector(".e-header-popup.e-popup-open")))},r.prototype.cancelUpDownAction=function(t){var e=t&&this.parent.activeViewOptions.orientation==="Vertical",i=this.parent.activeViewOptions.group.resources.length>0;return!!(e&&i||t&&this.initialTarget.classList.contains(Ps)||this.parent.activeView.isTimelineView()&&!t||this.parent.currentView==="MonthAgenda")},r.prototype.processUp=function(t,e){var i=this.parent.currentView==="TimelineYear";if(!(e&&this.cancelUpDownAction(i)||this.isCalendarTarget(t))){var n=t.target,s=this.parent.getSelectedCells(),a=this.parent.eventBase.getSelectedAppointments(),o=this.parent.element.querySelector("."+Kd),l=this.getQuickPopupElement();if(s.length>0&&!t.target.classList.contains(ci)&&(n=s[s.length-1]),a.length>0&&!o.classList.contains(la)&&!l.classList.contains(la)&&["Day","Week","WorkWeek","Month"].indexOf(this.parent.currentView)!==-1&&(n=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass()),!!n)if(n.classList.contains(ci)&&!this.parent.element.querySelector("."+la)){var c=this.parent.getTableRows(),u=c.indexOf(n.parentElement),d=void 0;if(i&&e&&this.parent.activeViewOptions.group.resources.length===0&&(d=this.isInverseTableSelect()?this.getVerticalUpDownCell(c,n,u,!0):this.getHorizontalUpDownCell(c,n,u,!0)),(u>0||d)&&u<c.length){if(d=d||c[u-1].cells[n.cellIndex],this.parent.currentView==="Year"&&d.classList.contains(Ps))if(this.parent.activeView.getStartDate().getTime()<+d.getAttribute("data-date"))d=this.getYearUpDownCell(c,u-1,n.cellIndex,!0);else return;t.preventDefault(),this.selectCells(e,d)}}else(this.parent.currentView==="Agenda"||this.parent.currentView==="MonthAgenda")&&this.selectAppointment(!0,n)}},r.prototype.processDown=function(t,e){var i=this.parent.currentView==="TimelineYear";if(!(e&&this.cancelUpDownAction(i)||this.isCalendarTarget(t))){var n=t.target,s=this.parent.getSelectedCells(),a=this.parent.eventBase.getSelectedAppointments(),o=this.parent.element.querySelector("."+Kd),l=this.getQuickPopupElement();s.length>0&&!t.target.classList.contains(ci)&&(n=s[s.length-1]),a.length>0&&!o.classList.contains(la)&&!l.classList.contains(la)&&["Day","Week","WorkWeek","Month"].indexOf(this.parent.currentView)!==-1&&(n=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass());var c=this.parent.getTableRows();if(n)if(n.classList.contains(ci)&&!this.parent.element.querySelector("."+la)){var u=c.indexOf(n.parentElement),d=void 0;if(i&&e&&this.parent.activeViewOptions.group.resources.length===0&&(d=this.isInverseTableSelect()?this.getVerticalUpDownCell(c,n,u,!1):this.getHorizontalUpDownCell(c,n,u,!1)),u>=0&&(u<c.length-1||d)){if(d=d||c[u+1].cells[n.cellIndex],this.parent.currentView==="Year"&&d.classList.contains(Ps))if(this.parent.activeView.getEndDate().getTime()>+d.getAttribute("data-date"))d=this.getYearUpDownCell(c,u+1,n.cellIndex,!1);else return;t.preventDefault(),this.selectCells(e,d)}}else(this.parent.currentView==="Agenda"||this.parent.currentView==="MonthAgenda")&&this.selectAppointment(!1,n)}},r.prototype.getYearUpDownCell=function(t,e,i,n){for(;t[parseInt(e.toString(),10)]&&t[parseInt(e.toString(),10)].cells[parseInt(i.toString(),10)].classList.contains(Ps);)e=e+(n?-1:1);return t[parseInt(e.toString(),10)].cells[parseInt(i.toString(),10)]},r.prototype.getHorizontalUpDownCell=function(t,e,i,n){var s=t[i+(n?-1:1)],a=s?s.cells[e.cellIndex]:e;if(a.classList.contains(Ps)){var o=s.querySelector("."+ci+":not(."+Ps+")"),l=new Date(+o.getAttribute("data-date")),c='[data-date="'+new Date(l.getFullYear(),l.getMonth()+1,0).getTime()+'"]';a=a.cellIndex<o.cellIndex?o:s.querySelector(c)}return a},r.prototype.getVerticalUpDownCell=function(t,e,i,n){var s=n&&i>0||!n&&i<t.length-1,a=s?t[i+(n?-1:1)].cells[e.cellIndex]:void 0;if(!a||a.classList.contains(Ps)){var o=t[parseInt(i.toString(),10)].cells[e.cellIndex-(n?1:-1)];if(o){var l=+e.getAttribute("data-date")-(n?cs:-864e5);return this.parent.getContentTable().querySelector("."+ci+'[data-date="'+l+'"]')}a=e}return a},r.prototype.processLeftRight=function(t){var e=this.parent.currentView==="Year"?t.closest("tbody"):this.parent.getContentTable(),i=t.parentNode.sectionRowIndex,n={element:e,rowIndex:i,columnIndex:t.cellIndex,maxIndex:e.rows[parseInt(i.toString(),10)].cells.length};return n},r.prototype.getQuickPopupElement=function(){return(this.parent.isAdaptive?document.body:this.parent.element).querySelector("."+Zh)},r.prototype.isCancelLeftRightAction=function(t,e,i){var n=this.parent.currentView==="MonthAgenda"||i&&this.initialTarget.classList.contains(Ps);if(this.parent.currentView==="Agenda"||e&&n||this.isPreventAction(t)&&e)return!0;var s=this.parent.element.querySelector("."+Kd),a=this.getQuickPopupElement();return!!(s.classList.contains(la)||a.classList.contains(la))},r.prototype.processRight=function(t,e){var i=this.parent.currentView==="TimelineYear";if(!(this.isCancelLeftRightAction(t,e,i)||this.isCalendarTarget(t))){var n=this.parent.getSelectedCells(),s,a=this.parent.eventBase.getSelectedAppointments(),o=t.target;if(n.length>0&&!o.classList.contains(ci)&&!o.classList.contains(tn)&&(o=n[n.length-1]),!(a.length>0&&(o=this.getWorkCellFromAppointmentElement(a[a.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),!o))){if(o.classList.contains(ci)&&t.target.classList.contains(ci)){var l=this.processLeftRight(o),c=new Date(+o.getAttribute("data-date")),u=this.parent.currentView==="Year"&&c.getTime()===B1(c).getTime();if(l.columnIndex>=0&&l.columnIndex<l.maxIndex-1&&!u)s=this.calculateNextPrevDate(o,l.element.rows[l.rowIndex].cells[o.cellIndex+1],"right"),i&&e&&s.classList.contains(Ps)&&(s=this.getTimelineYearTargetCell(l,o,!0)),v(s)||this.selectCells(e,s);else if(l.columnIndex===l.maxIndex-1||u){if(!this.isInverseTableSelect()&&l.rowIndex<l.element.rows.length-1&&!u){s=this.calculateNextPrevDate(o,l.element.rows[l.rowIndex+1].cells[0],"right");var d=i&&e&&s.classList.contains(Ps);s=d?this.getHorizontalLeftRightCell(l,o,!0):s,v(s)||this.selectCells(e,s)}else if(!e){if(u&&c.getTime()!==this.parent.activeView.getEndDate().getTime()){this.selectCells(e,this.parent.element.querySelector(":not(."+Ps+')[data-date="'+(c.getTime()+cs)+'"]'));return}var p=this.isInverseTableSelect()?l.rowIndex:0;this.parent.changeDate(this.parent.activeView.getNextPreviousDate("Next"),t);var m=this.parent.getContentTable(),y=u?m.rows[parseInt(p.toString(),10)].querySelector("."+ci+":not(."+Ps+")"):m.rows[parseInt(p.toString(),10)].cells[0];this.selectCells(!1,y)}}}else if(o.classList.contains(tn)){var M=o.cellIndex,w=this.parent.getAllDayRow(),b=w.cells.length;if(M>=0&&M<b-1)this.selectCells(e,w.cells[M+1]);else if(M===b-1&&!e){this.parent.changeDate(this.parent.activeView.getNextPreviousDate("Next"),t);var D=this.parent.getAllDayRow();this.selectCells(!1,D.cells[0])}}}}},r.prototype.processLeft=function(t,e){var i=this.parent.currentView==="TimelineYear";if(!(this.isCancelLeftRightAction(t,e,i)||this.isCalendarTarget(t))){var n=t.target,s=this.parent.getSelectedCells(),a;s.length>0&&!n.classList.contains(ci)&&!n.classList.contains(tn)&&(n=s[s.length-1]);var o=this.parent.eventBase.getSelectedAppointments();if(!(o.length>0&&(n=this.getWorkCellFromAppointmentElement(o[o.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),!n))){if(t.target.classList.contains(ci)&&n.classList.contains(ci)){var l=this.processLeftRight(n),c=new Date(+n.getAttribute("data-date")),u=this.parent.currentView==="Year"&&c.getTime()===YO(c).getTime();if(l.columnIndex>0&&l.columnIndex<l.maxIndex&&!u)a=this.calculateNextPrevDate(n,l.element.rows[l.rowIndex].cells[n.cellIndex-1],"left"),i&&e&&a.classList.contains(Ps)&&(a=this.getTimelineYearTargetCell(l,n,!1)),v(a)||this.selectCells(e,a);else if(l.columnIndex===0||u){if(!this.isInverseTableSelect()&&l.rowIndex>0){a=this.calculateNextPrevDate(n,l.element.rows[l.rowIndex-1].cells[l.maxIndex-1],"left");var d=i&&e&&a.classList.contains(Ps);a=d?this.getHorizontalLeftRightCell(l,n,!1):a,v(a)||this.selectCells(e,a)}else if(!e){if(u&&c.getTime()!==this.parent.activeView.getStartDate().getTime()){this.selectCells(e,this.parent.element.querySelector('[data-date="'+(c.getTime()-cs)+'"]'));return}this.parent.changeDate(this.parent.activeView.getNextPreviousDate("Previous"),t);var p=this.parent.getContentTable(),m=this.isInverseTableSelect()?l.rowIndex:p.rows.length-1,y=p.rows[parseInt(m.toString(),10)].cells[l.maxIndex-1];if(u){var M=this.parent.element.querySelectorAll("."+_n+" tbody");y=M.item(M.length-1).querySelector(":not(."+Ps+')[data-date="'+this.parent.activeView.getEndDate().getTime()+'"]')}this.selectCells(!1,y)}}}else if(n.classList.contains(tn)){var w=n.cellIndex,b=this.parent.getAllDayRow(),D=b.cells.length;if(w>0&&w<D)this.selectCells(e,b.cells[w-1]);else if(w===0&&!e){this.parent.changeDate(this.parent.activeView.getNextPreviousDate("Previous"),t);var E=this.parent.getAllDayRow();this.selectCells(!1,E.cells[D-1])}}}}},r.prototype.getTimelineYearTargetCell=function(t,e,i){return this.isInverseTableSelect()?this.getVerticalLeftRightCell(e,i):this.getHorizontalLeftRightCell(t,e,i)},r.prototype.getHorizontalLeftRightCell=function(t,e,i){var n=t.element.rows[e.parentNode.sectionRowIndex+(i?1:-1)];if(n){var s=i?"."+ci+":not(."+Ps+")":'[data-date="'+(+e.getAttribute("data-date")-cs)+'"]';return n.querySelector(s)}return e},r.prototype.getVerticalLeftRightCell=function(t,e){var i=new Date(+t.getAttribute("data-date")),n=new Date(i.getFullYear(),i.getMonth()+(e?1:-1),1),s=this.parent.getContentTable(),a=s.querySelector('[data-date="'+n.getTime()+'"]');return a.parentNode.sectionRowIndex>t.parentNode.sectionRowIndex?a:s.querySelector('[data-date="'+new Date(n.getFullYear(),n.getMonth()+1,0).getTime()+'"]')},r.prototype.calculateNextPrevDate=function(t,e,i){var n=this.initialTarget.getAttribute("data-group-index");if(this.parent.activeViewOptions.group.resources.length>0&&this.parent.currentView==="Month"&&t&&e&&e.getAttribute("data-group-index")!==n){var s=this.parent.getDateFromElement(t),a=i==="right"?new Date(s.setDate(s.getDate()+1)):new Date(s.setDate(s.getDate()-1));e=[].slice.call(this.parent.element.querySelectorAll('td[data-date="'+a.getTime().toString()+'"][data-group-index="'+n+'"]'))[0]}return e},r.prototype.getFocusableElements=function(t){var e='a[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),[contentEditable=true]:not([tabindex="-1"])';return[].slice.call(t.querySelectorAll(e))},r.prototype.processTabOnPopup=function(t,e){var i=this,n=this.getFocusableElements(e);n=n.filter(function(o){var l=i.parent.element.querySelector("."+ek);return l&&l.offsetParent?!(o.classList.contains(qm)||o.classList.contains(iw)):!(o.classList.contains(_0)||o.classList.contains(vp))});var s=n[0],a=n[n.length-1];!v(a)&&document.activeElement===a&&!t.shiftKey&&(t.preventDefault(),s.focus()),!v(s)&&document.activeElement===s&&t.shiftKey&&(t.preventDefault(),a.focus())},r.prototype.processTab=function(t,e){var i=t.target;if(i.classList.contains(Gc)&&this.parent.inlineModule&&(i=i.closest(".e-appointment"),this.parent.inlineModule.inlineCrudActions(t.target)),this.parent.currentView==="TimelineYear"&&i.classList.contains(Ps)){i.classList.contains(p1)&&this.parent.removeSelectedClass();return}var n=Fe(i,"."+Zh+",."+Kd);if(n&&n.classList.contains(la)){n.classList.contains(Kd)&&this.parent.eventBase.removeSelectedAppointmentClass(),this.processTabOnPopup(t,n);return}if(i.classList.contains(nS)){this.parent.eventBase.removeSelectedAppointmentClass();return}if(i.classList.contains($c)&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0){var s=parseInt(i.getAttribute("data-group-index"),10),a="."+Ni+'[data-group-index="'+(e?s-1:s)+'"]',o=[].slice.call(this.parent.element.querySelectorAll(a));if(o.length>0){this.parent.eventBase.removeSelectedAppointmentClass();var l=e?o.slice(-1)[0]:o[0];this.parent.eventBase.addSelectedAppointments([l],!0),l.focus(),t.preventDefault()}else if(s+1===this.parent.resourceBase.lastResourceLevel.length)this.parent.element.focus(),t.preventDefault();else if(this.parent.virtualScrollModule){var c=this.parent.element.querySelector("."+uT),u=Math.round(c.offsetHeight/this.parent.resourceBase.expandedResources.length);this.parent.element.querySelector(".e-content-wrap").scrollTop=(e?s-1:s+1)*u,this.parent.virtualScrollModule.virtualScrolling()}else this.setScrollPosition(s);return}if(i.classList.contains(Ni)){var o=[].slice.call(this.parent.element.querySelectorAll("."+Ni)),d=this.parent.currentView==="TimelineYear",p=this.parent.activeView.isTimelineView()&&!d;if((p||d&&this.parent.activeViewOptions.orientation==="Vertical")&&this.parent.activeViewOptions.group.resources.length>0){var s=parseInt(i.getAttribute("data-group-index"),10);o=[].slice.call(this.parent.element.querySelectorAll("."+Ni+'[data-group-index="'+s+'"]'));var m="."+$c+'[data-group-index="'+(e?s:s+1)+'"]',y=this.parent.element.querySelector(m);if(y&&(e&&i.getAttribute("data-guid")===o[0].getAttribute("data-guid")||!e&&i.getAttribute("data-guid")===o.slice(-1)[0].getAttribute("data-guid"))){this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.virtualScrollModule?y.focus({preventScroll:!0}):y.focus(),this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&v(this.parent.virtualScrollModule)&&this.setScrollPosition(s),t.preventDefault();return}}var M=this.parent.eventBase.getSelectedAppointments();if(M.length>0&&(i=M[M.length-1]),this.parent.eventBase.removeSelectedAppointmentClass(),!e&&i.getAttribute("data-guid")===o[o.length-1].getAttribute("data-guid")||e&&i.getAttribute("data-guid")===o[0].getAttribute("data-guid"))return;(this.parent.currentView==="Agenda"||this.parent.currentView==="MonthAgenda")&&(this.selectAppointment(e,i),t.preventDefault());return}var w=this.parent.getSelectedCells();if(w.length>0&&!i.classList.contains(Ni)){i=w[w.length-1],this.selectAppointmentElementFromWorkCell(e,i),t.preventDefault();return}i&&!i.classList.contains($c)&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&this.processTabOnResourceCells(i,e)},r.prototype.processDelete=function(t){var e=document.activeElement;if(this.parent.currentView==="MonthAgenda"||!v(e)&&Fe(e,"."+Zh)){var i=this.parent.eventBase.getSelectedEvents().element;e=i&&v(i.length)?i:i[0]}if(e&&e.classList.contains(Ni)){if(pe([e],ng),this.parent.activeEventData=this.parent.eventBase.getSelectedEvents(),this.parent.activeViewOptions.readonly||e.classList.contains(Dw)||!this.parent.eventSettings.allowDeleting)return;this.parent.quickPopup.deleteClick(t)}},r.prototype.processCtrlShiftNavigationArrows=function(t){if(this.parent.activeViewOptions.group.resources.length>0&&document.activeElement.classList.contains(Ni)){var e=parseInt(document.activeElement.getAttribute("data-group-index"),10),i=t.action==="ctrlShiftLeftArrow"||t.action==="ctrlShiftUpArrow"?e-1:e+1;i=i<0?0:i>this.parent.resourceBase.lastResourceLevel.length?this.parent.resourceBase.lastResourceLevel.length:i;for(var n=[];n.length===0&&i>=0&&i<=this.parent.resourceBase.lastResourceLevel.length;)n=[].slice.call(this.parent.element.querySelectorAll("."+Ni+'[data-group-index="'+i+'"]')),i=t.action==="ctrlShiftLeftArrow"||t.action==="ctrlShiftUpArrow"?i-1:i+1;var s=n[0];s&&(this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.eventBase.addSelectedAppointments([s],!0),s.focus())}else if(this.parent.activeViewOptions.group.resources.length>0&&!document.activeElement.classList.contains(Ni)){var i=this.parent.resourceBase.renderedResources[0].groupIndex,a="."+Ni+'[data-group-index="'+i+'"]',o=[].slice.call(this.parent.element.querySelectorAll(a));if(o.length>0){this.parent.eventBase.removeSelectedAppointmentClass();var l=o[0];this.parent.eventBase.addSelectedAppointments([l],!0),l.focus(),t.preventDefault()}}},r.prototype.processEscape=function(t){this.parent.quickPopup.onClosePopup(t),this.parent.quickPopup.morePopup.hide(),this.parent.headerModule&&this.parent.headerModule.hideHeaderPopup(),this.parent.inlineModule&&this.parent.inlineModule.removeInlineAppointmentElement()},r.prototype.isPreventAction=function(t){var e=Fe(t.target,"."+f1);return!!(this.parent.activeView.isTimelineView()&&!v(e))},r.prototype.processTabOnResourceCells=function(t,e){var i=[].slice.call(this.parent.element.querySelectorAll('[tabIndex="0"]')),n=i.indexOf(t),s=e?i[n-1]:i[n+1];if(s&&s.classList.contains($c)){var a=parseInt(s.getAttribute("data-group-index"),10);if(this.parent.virtualScrollModule){var o=this.parent.element.querySelector("."+id),l=[].slice.call(this.parent.element.querySelectorAll("."+$c));l.forEach(function(c){c.getBoundingClientRect().top<o.getBoundingClientRect().top&&c.setAttribute("tabindex","-1")})}else this.setScrollPosition(a)}},r.prototype.setScrollPosition=function(t){var e=this.parent.element.querySelector("."+ci+'[data-group-index="'+t+'"]');e&&(this.parent.element.querySelector("."+lr).scrollTop=e.offsetTop)},r.prototype.createClipboardElement=function(){this.parent.allowClipboard&&(this.clipBoardTextArea=this.parent.createElement("textarea",{className:vTe,attrs:{tabindex:"-1"}}),this.parent.element.appendChild(this.clipBoardTextArea))},r.prototype.setCopy=function(t,e){var i=this;if(window.getSelection().toString()===""){this.clipBoardTextArea.value="";var n={eventDatas:[]};if(t){var s=this.filterReadOnlyEvent(t);n.eventDatas=s}else{if(!this.parent||!this.parent.eventBase)return;var a=this.parent.eventBase.getSelectedEvents();a.event=a&&a.event?Array.isArray(a.event)?this.filterReadOnlyEvent(a.event):this.filterReadOnlyEvent([a.event]):void 0,a.element&&a.event?n={elements:a.element,eventDatas:a.event}:(n.element=[e.target],n.eventDatas=[this.parent.getEventDetails(e.target)])}this.clipBoardTextArea.value=JSON.stringify(n.eventDatas,void 0,2),/ipad|ipod|iphone/i.test(Re.userAgent)?this.clipBoardTextArea.setSelectionRange(0,this.clipBoardTextArea.value.length):this.clipBoardTextArea.select(),v(navigator.clipboard)||navigator.clipboard.writeText(this.clipBoardTextArea.value).then(function(){if(i.clipBoardTextArea.blur(),window.getSelection().removeAllRanges(),e){var o=e.target.closest("."+Ni);o&&o.focus()}}).catch(function(o){throw o})}},r.prototype.filterReadOnlyEvent=function(t){var e=this;return t.filter(function(i){return!i[e.parent.eventFields.isReadonly]})},r.prototype.processClipboardAction=function(t,e,i){this.parent.allowClipboard&&(this.isCutAction=t,this.isCutContentPasted=!1,this.parent.closeQuickInfoPopup(),this.setCopy(e||void 0,i))},r.prototype.pasteHandler=function(t,e){var i=this;if(!(!this.parent.allowClipboard||this.isCutContentPasted)){var n=this.parent.getSelectedCells().length>0?this.parent.getSelectedCells():e?[e]:[];if(!(n.length===0||this.parent.eventWindow.dialogObject.visible||this.parent.quickPopup.quickPopup.element.classList.contains(la))){var s=t.clipboardData||t.event.clipboardData||window.clipboardData,a=s.getData("text");if(!(a==="[]"||a==="")){var o;try{o=JSON.parse(a)}catch{o=a}var l={cancel:!1,data:o,element:n};this.parent.trigger(fwe,l,function(c){if(c.cancel){i.parent.closeQuickInfoPopup();return}else{if(!Array.isArray(c.data)||!c.data.every(function(u){return typeof u=="object"})){i.clipBoardTextArea.value="";return}i.processPaste(c.data,e),i.isCutAction&&(i.isCutContentPasted=!0)}})}}}},r.prototype.processPaste=function(t,e){if(!(!this.parent||!this.parent.eventWindow||!this.parent.eventBase||!t||!t.length)){var i=this.getTargetElements(e),n=this.parent.getCellDetails(i),s={};this.parent.eventWindow.convertToEventData(n,s);var a=this.isAllDayEvent(i),o=this.parent.getResourcesByIndex(n.groupIndex),l=this.processEventData(t,a,n,o),c=this.parent.eventBase.sortByDateTime(l),u=this.prepareEventData(c,s);Oe(i,p1),u.length>0&&(this.isCutAction?this.parent.saveEvent(u):this.parent.addEvent(u))}},r.prototype.getTargetElements=function(t){return this.parent.getSelectedCells().length>0?this.parent.getSelectedCells():t?[t]:[]},r.prototype.isAllDayEvent=function(t){return!t.some(function(e){return e.classList.contains(ci)})},r.prototype.processEventData=function(t,e,i,n){var s=this;return t.map(function(a){var o,l=yS({},a,(o={},o[s.parent.eventFields.startTime]=new Date(a[s.parent.eventFields.startTime]),o[s.parent.eventFields.endTime]=new Date(a[s.parent.eventFields.endTime]),o[s.parent.eventFields.recurrenceID]=null,o[s.parent.eventFields.isAllDay]=e,o));return s.adjustEventTime(l,e,a.IsAllDay,i),n&&n.groupData&&Object.assign(l,n.groupData),l})},r.prototype.adjustEventTime=function(t,e,i,n){var s=this.parent.activeViewOptions.timeScale.enable;["Day","Week","WorkWeek"].indexOf(this.parent.currentView)!==-1&&s?e?(t[this.parent.eventFields.endTime]=new Date(t[this.parent.eventFields.startTime]),t[this.parent.eventFields.endTime].setDate(t[this.parent.eventFields.startTime].getDate()+1)):i&&(t[this.parent.eventFields.startTime]=new Date(t[this.parent.eventFields.startTime].setHours(0,0,0,0)),t[this.parent.eventFields.endTime]=new Date(t[this.parent.eventFields.startTime].getTime()+(n.endTime.getTime()-n.startTime.getTime()))):i&&(t[this.parent.eventFields.isAllDay]=!0,t[this.parent.eventFields.startTime]=new Date(t[this.parent.eventFields.startTime].setHours(0,0,0,0)),t[this.parent.eventFields.endTime]=new Date(t[this.parent.eventFields.startTime].getTime()+(t[this.parent.eventFields.endTime].getTime()-t[this.parent.eventFields.startTime].getTime())))},r.prototype.prepareEventData=function(t,e){var i=this,n=new Date(t[0][this.parent.eventFields.startTime]),s=this.parent.getEventMaxID();return t.map(function(a){var o=i.calculateTotalDuration(a,e,n),l=i.isCutAction?a:yS({},a);return a[i.parent.eventFields.recurrenceRule]||(l[i.parent.eventFields.startTime]=new Date(new Date(l[i.parent.eventFields.startTime]).setMilliseconds(o)),l[i.parent.eventFields.endTime]=new Date(new Date(l[i.parent.eventFields.endTime]).setMilliseconds(o))),i.isCutAction||(l[i.parent.eventFields.id]=s++),l})},r.prototype.calculateTotalDuration=function(t,e,i){if(["Month","TimelineMonth","TimelineYear"].indexOf(this.parent.currentView)!==-1||!this.parent.activeViewOptions.timeScale.enable){var n=new Date(t[this.parent.eventFields.startTime]);return e[this.parent.eventFields.startTime].getTime()-i.getTime()+(n.getHours()*36e5+n.getMinutes()*6e4+n.getSeconds()*1e3)}else return e[this.parent.eventFields.startTime].getTime()-i.getTime()},r.prototype.getModuleName=function(){return"keyboard"},r.prototype.destroy=function(){this.removeEventListener(),this.selectedCells=[],this.clipBoardTextArea=null,this.keyboardModule.destroy()},r})(),NK=(function(){function r(t,e,i){this.parent=t,this.initDataManager(e,i)}return r.prototype.initDataManager=function(t,e){this.dataManager=t instanceof ut?t:new ut(t),this.query=e instanceof di?e:new di},r.prototype.generateQuery=function(t,e){var i=this.query.clone();if(this.parent&&t&&e){if(this.parent.activeViewOptions&&this.parent.activeViewOptions.enableLazyLoading&&!v(this.parent.activeViewOptions.group.resources)&&this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase&&this.parent.resourceBase.resourceCollection.length>0&&this.parent.resourceBase.renderedResources.length>0){var n=[];this.parent.resourceBase.resourceCollection.forEach(function(){return n.push([])}),this.parent.resourceBase.renderedResources.forEach(function(o){n.forEach(function(l,c){var u=o.groupOrder[parseInt(c.toString(),10)];u&&l.indexOf(u)<0&&l.push(u)})}),this.parent.resourceBase.resourceCollection.forEach(function(o,l){i.addParams(o.field,n[parseInt(l.toString(),10)].toString())})}if(this.parent.timezone&&(t=this.parent.tzModule.remove(new Date(+t.getTime()),this.parent.timezone),e=this.parent.tzModule.remove(new Date(+e.getTime()),this.parent.timezone)),this.parent.eventSettings.includeFiltersInQuery){var s=this.getStartEndQuery(t,e),a=new Er(this.parent.eventFields.recurrenceRule,"notequal",null).and(new Er(this.parent.eventFields.recurrenceRule,"notequal",""));return i.where(s.or(a))}i.addParams("StartDate",t.toISOString()),i.addParams("EndDate",e.toISOString())}return i},r.prototype.getStartEndQuery=function(t,e){var i=this.parent.eventFields,n=new Er(i.startTime,"greaterthanorequal",t).and(new Er(i.endTime,"greaterthanorequal",t)).and(new Er(i.startTime,"lessthan",e)).or(new Er(i.startTime,"lessthanorequal",t).and(new Er(i.endTime,"greaterthan",t)));return n},r.prototype.getData=function(t){return this.dataManager.executeQuery(t)},r.prototype.destroy=function(){this.dataManager=null,this.query=null},r})(),IK=(function(){function r(){}return r.prototype.firstDateOfMonth=function(t){return new Date(t.getFullYear(),t.getMonth())},r.prototype.lastDateOfMonth=function(t){return new Date(t.getFullYear(),t.getMonth()+1,0)},r.prototype.isMonthStart=function(t){return t.getDate()===1},r.prototype.getLeapYearDaysCount=function(){return 366},r.prototype.getYearDaysCount=function(t,e){return(t.getFullYear()+e)%4===0?366:365},r.prototype.getDate=function(t){return t.getDate()},r.prototype.getMonth=function(t){return t.getMonth()+1},r.prototype.getFullYear=function(t){return t.getFullYear()},r.prototype.getYearLastDate=function(t,e){return new Date(t.getFullYear()+e,0,0)},r.prototype.getMonthDaysCount=function(t){return this.lastDateOfMonth(t).getDate()},r.prototype.getMonthStartDate=function(t){return new Date(t.getFullYear(),t.getMonth(),1,t.getHours(),t.getMinutes())},r.prototype.getMonthEndDate=function(t){return t.setDate(1),new Date(t.setMonth(t.getMonth()+1))},r.prototype.getExpectedDays=function(t,e){return e},r.prototype.setDate=function(t,e){t.setDate(e)},r.prototype.setValidDate=function(t,e,i,n,s){v(s)?t.setMonth(t.getMonth()+e,i):t.setMonth((s?n:t.getMonth())+e)},r.prototype.setMonth=function(t,e,i){t.setDate(1),t.setFullYear(t.getFullYear()),t.setMonth(e-1);var n=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();t.setDate(Math.min(i,n))},r.prototype.addYears=function(t,e){t.setFullYear(t.getFullYear()+e)},r.prototype.isSameMonth=function(t,e){return t.getMonth()===e.getMonth()},r.prototype.checkMonth=function(t,e){return e.indexOf(t.getMonth()+1)===-1},r.prototype.compareMonth=function(t,e){return t.getMonth()>e.getMonth()},r.prototype.isSameYear=function(t,e){return t.getFullYear()===e.getFullYear()},r.prototype.isLastMonth=function(t){return t.getMonth()===11},r.prototype.isLeapYear=function(t,e){return(t+e)%4===0},r})(),CK=(function(){function r(){}return r.prototype.firstDateOfMonth=function(t){var e=this.getHijriDate(t),i=Qc.toGregorian(e.year,e.month,1);return i},r.prototype.lastDateOfMonth=function(t){var e=this.getHijriDate(t),i=this.getDaysInMonth(e.month,e.year),n=Qc.toGregorian(e.year,e.month,i),s=new Date(n.getTime());s=new Date(s.setDate(s.getDate()+1));var a=this.getHijriDate(s);return e.month===a.month?s:(a=this.getHijriDate(n),e.month===a.month?n:new Date(n.setDate(n.getDate()-1)))},r.prototype.isMonthStart=function(t){var e=this.getHijriDate(t);return e.date===1},r.prototype.getLeapYearDaysCount=function(){return 355},r.prototype.getYearDaysCount=function(t,e){var i=this.getHijriDate(t);return this.isLeapYear(i.year,e)?355:354},r.prototype.getDate=function(t){var e=this.getHijriDate(t);return e.date},r.prototype.getMonth=function(t){var e=this.getHijriDate(t);return e.month},r.prototype.getFullYear=function(t){var e=this.getHijriDate(t);return e.year},r.prototype.getYearLastDate=function(t,e){var i=this.getHijriDate(t),n=Qc.toGregorian(i.year+e,1,0);return n},r.prototype.getMonthDaysCount=function(t){var e=this.lastDateOfMonth(t),i=this.getHijriDate(e);return i.date},r.prototype.getMonthStartDate=function(t){var e=this.firstDateOfMonth(t);return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes())},r.prototype.getMonthEndDate=function(t){var e=this.lastDateOfMonth(t);return e.setDate(e.getDate()+1),new Date(e.setMonth(e.getMonth()))},r.prototype.getExpectedDays=function(t,e){for(var i=this.getHijriDate(t),n=[],s=0;s<e.length;s++){var a=Qc.toGregorian(i.year,i.month,e[parseInt(s.toString(),10)]);n.push(a.getDate())}return n},r.prototype.setDate=function(t,e){var i=this.getHijriDate(t),n=Qc.toGregorian(i.year,i.month,e);this.updateDateObj(t,n)},r.prototype.setValidDate=function(t,e,i,n,s){var a=v(s)?t:this.firstDateOfMonth(s),o=this.getHijriDate(a),l=Qc.toGregorian(o.year,o.month+e,i);this.updateDateObj(t,l)},r.prototype.setMonth=function(t,e,i){var n=this.getHijriDate(t),s=Qc.toGregorian(n.year,e,i);this.updateDateObj(t,s)},r.prototype.addYears=function(t,e,i){var n=this.getHijriDate(t),s=Qc.toGregorian(n.year+e,i,1);this.updateDateObj(t,s)},r.prototype.isSameMonth=function(t,e){var i=this.getHijriDate(t),n=this.getHijriDate(e);return i.month===n.month},r.prototype.checkMonth=function(t,e){var i=this.getHijriDate(t);return e.indexOf(i.month)===-1},r.prototype.compareMonth=function(t,e){var i=this.getHijriDate(t),n=this.getHijriDate(e);return i.month>n.month},r.prototype.isSameYear=function(t,e){var i=this.getHijriDate(t),n=this.getHijriDate(e);return i.year===n.year},r.prototype.isLastMonth=function(t){var e=this.getHijriDate(t);return e.month===12},r.prototype.updateDateObj=function(t,e){t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())},r.prototype.isLeapYear=function(t,e){return(14+11*(t+e))%30<11},r.prototype.getDaysInMonth=function(t,e){var i=0;return i=29+(t+1)%2,t===11&&this.isLeapYear(e,0)&&i++,i},r.prototype.getHijriDate=function(t){return Qc.getHijriDate(t)},r})(),OK=(function(){function r(){this.timezoneData=[],this.timezoneData=this.getTimezoneData()}return r.prototype.offset=function(t,e){var i=t.getTimezoneOffset();try{var n=new Date(t.toLocaleString("en-US",{timeZone:e}));return isNaN(n.getTime())?0:(t.getTime()-n.getTime())/6e4+i}catch{return 0}},r.prototype.convert=function(t,e,i){typeof e=="string"&&(e=this.offset(t,e)),typeof i=="string"&&(i=this.offset(t,i));var n=t.getTimezoneOffset();t=new Date(t.getTime()+(e-i)*6e4);var s=t.getTimezoneOffset();return new Date(t.getTime()+(s-n)*6e4)},r.prototype.add=function(t,e){return this.convert(t,t.getTimezoneOffset(),e)},r.prototype.remove=function(t,e){return this.convert(t,e,t.getTimezoneOffset())},r.prototype.removeLocalOffset=function(t){return new Date(t.getTime()-t.getTimezoneOffset()*6e4)},r.prototype.getLocalTimezoneName=function(){return window.Intl&&Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC"},r.prototype.getTimezoneData=function(){return kK},r})(),kK=[{Value:"Pacific/Niue",Text:"(UTC-11:00) Niue"},{Value:"Pacific/Pago_Pago",Text:"(UTC-11:00) Pago Pago"},{Value:"Pacific/Honolulu",Text:"(UTC-10:00) Hawaii Time"},{Value:"Pacific/Rarotonga",Text:"(UTC-10:00) Rarotonga"},{Value:"Pacific/Tahiti",Text:"(UTC-10:00) Tahiti"},{Value:"Pacific/Marquesas",Text:"(UTC-09:30) Marquesas"},{Value:"America/Anchorage",Text:"(UTC-09:00) Alaska Time"},{Value:"Pacific/Gambier",Text:"(UTC-09:00) Gambier"},{Value:"America/Los_Angeles",Text:"(UTC-08:00) Pacific Time"},{Value:"America/Tijuana",Text:"(UTC-08:00) Pacific Time - Tijuana"},{Value:"America/Vancouver",Text:"(UTC-08:00) Pacific Time - Vancouver"},{Value:"America/Whitehorse",Text:"(UTC-08:00) Pacific Time - Whitehorse"},{Value:"Pacific/Pitcairn",Text:"(UTC-08:00) Pitcairn"},{Value:"America/Denver",Text:"(UTC-07:00) Mountain Time"},{Value:"America/Phoenix",Text:"(UTC-07:00) Mountain Time - Arizona"},{Value:"America/Mazatlan",Text:"(UTC-07:00) Mountain Time - Chihuahua, Mazatlan"},{Value:"America/Dawson_Creek",Text:"(UTC-07:00) Mountain Time - Dawson Creek"},{Value:"America/Edmonton",Text:"(UTC-07:00) Mountain Time - Edmonton"},{Value:"America/Hermosillo",Text:"(UTC-07:00) Mountain Time - Hermosillo"},{Value:"America/Yellowknife",Text:"(UTC-07:00) Mountain Time - Yellowknife"},{Value:"America/Belize",Text:"(UTC-06:00) Belize"},{Value:"America/Chicago",Text:"(UTC-06:00) Central Time"},{Value:"America/Mexico_City",Text:"(UTC-06:00) Central Time - Mexico City"},{Value:"America/Regina",Text:"(UTC-06:00) Central Time - Regina"},{Value:"America/Tegucigalpa",Text:"(UTC-06:00) Central Time - Tegucigalpa"},{Value:"America/Winnipeg",Text:"(UTC-06:00) Central Time - Winnipeg"},{Value:"America/Costa_Rica",Text:"(UTC-06:00) Costa Rica"},{Value:"America/El_Salvador",Text:"(UTC-06:00) El Salvador"},{Value:"Pacific/Galapagos",Text:"(UTC-06:00) Galapagos"},{Value:"America/Guatemala",Text:"(UTC-06:00) Guatemala"},{Value:"America/Managua",Text:"(UTC-06:00) Managua"},{Value:"America/Cancun",Text:"(UTC-05:00) America Cancun"},{Value:"America/Bogota",Text:"(UTC-05:00) Bogota"},{Value:"Pacific/Easter",Text:"(UTC-05:00) Easter Island"},{Value:"America/New_York",Text:"(UTC-05:00) Eastern Time"},{Value:"America/Iqaluit",Text:"(UTC-05:00) Eastern Time - Iqaluit"},{Value:"America/Toronto",Text:"(UTC-05:00) Eastern Time - Toronto"},{Value:"America/Guayaquil",Text:"(UTC-05:00) Guayaquil"},{Value:"America/Havana",Text:"(UTC-05:00) Havana"},{Value:"America/Jamaica",Text:"(UTC-05:00) Jamaica"},{Value:"America/Lima",Text:"(UTC-05:00) Lima"},{Value:"America/Nassau",Text:"(UTC-05:00) Nassau"},{Value:"America/Panama",Text:"(UTC-05:00) Panama"},{Value:"America/Port-au-Prince",Text:"(UTC-05:00) Port-au-Prince"},{Value:"America/Rio_Branco",Text:"(UTC-05:00) Rio Branco"},{Value:"America/Halifax",Text:"(UTC-04:00) Atlantic Time - Halifax"},{Value:"America/Barbados",Text:"(UTC-04:00) Barbados"},{Value:"Atlantic/Bermuda",Text:"(UTC-04:00) Bermuda"},{Value:"America/Boa_Vista",Text:"(UTC-04:00) Boa Vista"},{Value:"America/Caracas",Text:"(UTC-04:00) Caracas"},{Value:"America/Curacao",Text:"(UTC-04:00) Curacao"},{Value:"America/Grand_Turk",Text:"(UTC-04:00) Grand Turk"},{Value:"America/Guyana",Text:"(UTC-04:00) Guyana"},{Value:"America/La_Paz",Text:"(UTC-04:00) La Paz"},{Value:"America/Manaus",Text:"(UTC-04:00) Manaus"},{Value:"America/Martinique",Text:"(UTC-04:00) Martinique"},{Value:"America/Port_of_Spain",Text:"(UTC-04:00) Port of Spain"},{Value:"America/Porto_Velho",Text:"(UTC-04:00) Porto Velho"},{Value:"America/Puerto_Rico",Text:"(UTC-04:00) Puerto Rico"},{Value:"America/Santo_Domingo",Text:"(UTC-04:00) Santo Domingo"},{Value:"America/Thule",Text:"(UTC-04:00) Thule"},{Value:"America/St_Johns",Text:"(UTC-03:30) Newfoundland Time - St. Johns"},{Value:"America/Araguaina",Text:"(UTC-03:00) Araguaina"},{Value:"America/Asuncion",Text:"(UTC-03:00) Asuncion"},{Value:"America/Belem",Text:"(UTC-03:00) Belem"},{Value:"America/Argentina/Buenos_Aires",Text:"(UTC-03:00) Buenos Aires"},{Value:"America/Campo_Grande",Text:"(UTC-03:00) Campo Grande"},{Value:"America/Cayenne",Text:"(UTC-03:00) Cayenne"},{Value:"America/Cuiaba",Text:"(UTC-03:00) Cuiaba"},{Value:"America/Fortaleza",Text:"(UTC-03:00) Fortaleza"},{Value:"America/Godthab",Text:"(UTC-03:00) Godthab"},{Value:"America/Maceio",Text:"(UTC-03:00) Maceio"},{Value:"America/Miquelon",Text:"(UTC-03:00) Miquelon"},{Value:"America/Montevideo",Text:"(UTC-03:00) Montevideo"},{Value:"Antarctica/Palmer",Text:"(UTC-03:00) Palmer"},{Value:"America/Paramaribo",Text:"(UTC-03:00) Paramaribo"},{Value:"America/Punta_Arenas",Text:"(UTC-03:00) Punta Arenas"},{Value:"America/Recife",Text:"(UTC-03:00) Recife"},{Value:"Antarctica/Rothera",Text:"(UTC-03:00) Rothera"},{Value:"America/Bahia",Text:"(UTC-03:00) Salvador"},{Value:"America/Santiago",Text:"(UTC-03:00) Santiago"},{Value:"Atlantic/Stanley",Text:"(UTC-03:00) Stanley"},{Value:"America/Noronha",Text:"(UTC-02:00) Noronha"},{Value:"America/Sao_Paulo",Text:"(UTC-02:00) Sao Paulo"},{Value:"Atlantic/South_Georgia",Text:"(UTC-02:00) South Georgia"},{Value:"Atlantic/Azores",Text:"(UTC-01:00) Azores"},{Value:"Atlantic/Cape_Verde",Text:"(UTC-01:00) Cape Verde"},{Value:"America/Scoresbysund",Text:"(UTC-01:00) Scoresbysund"},{Value:"Africa/Abidjan",Text:"(UTC+00:00) Abidjan"},{Value:"Africa/Accra",Text:"(UTC+00:00) Accra"},{Value:"Africa/Bissau",Text:"(UTC+00:00) Bissau"},{Value:"Atlantic/Canary",Text:"(UTC+00:00) Canary Islands"},{Value:"Africa/Casablanca",Text:"(UTC+00:00) Casablanca"},{Value:"America/Danmarkshavn",Text:"(UTC+00:00) Danmarkshavn"},{Value:"Europe/Dublin",Text:"(UTC+00:00) Dublin"},{Value:"Africa/El_Aaiun",Text:"(UTC+00:00) El Aaiun"},{Value:"Atlantic/Faroe",Text:"(UTC+00:00) Faeroe"},{Value:"Etc/UTC",Text:"(UTC+00:00) UTC (no daylight saving)"},{Value:"Europe/Lisbon",Text:"(UTC+00:00) Lisbon"},{Value:"Europe/London",Text:"(UTC+00:00) London"},{Value:"Africa/Monrovia",Text:"(UTC+00:00) Monrovia"},{Value:"Atlantic/Reykjavik",Text:"(UTC+00:00) Reykjavik"},{Value:"UTC",Text:"UTC"},{Value:"Africa/Algiers",Text:"(UTC+01:00) Algiers"},{Value:"Europe/Amsterdam",Text:"(UTC+01:00) Amsterdam"},{Value:"Europe/Andorra",Text:"(UTC+01:00) Andorra"},{Value:"Europe/Berlin",Text:"(UTC+01:00) Berlin"},{Value:"Europe/Brussels",Text:"(UTC+01:00) Brussels"},{Value:"Europe/Budapest",Text:"(UTC+01:00) Budapest"},{Value:"Europe/Belgrade",Text:"(UTC+01:00) Central European Time - Belgrade"},{Value:"Europe/Prague",Text:"(UTC+01:00) Central European Time - Prague"},{Value:"Africa/Ceuta",Text:"(UTC+01:00) Ceuta"},{Value:"Europe/Copenhagen",Text:"(UTC+01:00) Copenhagen"},{Value:"Europe/Gibraltar",Text:"(UTC+01:00) Gibraltar"},{Value:"Africa/Lagos",Text:"(UTC+01:00) Lagos"},{Value:"Europe/Luxembourg",Text:"(UTC+01:00) Luxembourg"},{Value:"Europe/Madrid",Text:"(UTC+01:00) Madrid"},{Value:"Europe/Malta",Text:"(UTC+01:00) Malta"},{Value:"Europe/Monaco",Text:"(UTC+01:00) Monaco"},{Value:"Africa/Ndjamena",Text:"(UTC+01:00) Ndjamena"},{Value:"Europe/Oslo",Text:"(UTC+01:00) Oslo"},{Value:"Europe/Paris",Text:"(UTC+01:00) Paris"},{Value:"Europe/Rome",Text:"(UTC+01:00) Rome"},{Value:"Europe/Stockholm",Text:"(UTC+01:00) Stockholm"},{Value:"Europe/Tirane",Text:"(UTC+01:00) Tirane"},{Value:"Africa/Tunis",Text:"(UTC+01:00) Tunis"},{Value:"Europe/Vienna",Text:"(UTC+01:00) Vienna"},{Value:"Europe/Warsaw",Text:"(UTC+01:00) Warsaw"},{Value:"Europe/Zurich",Text:"(UTC+01:00) Zurich"},{Value:"Asia/Amman",Text:"(UTC+02:00) Amman"},{Value:"Europe/Athens",Text:"(UTC+02:00) Athens"},{Value:"Asia/Beirut",Text:"(UTC+02:00) Beirut"},{Value:"Europe/Bucharest",Text:"(UTC+02:00) Bucharest"},{Value:"Africa/Cairo",Text:"(UTC+02:00) Cairo"},{Value:"Europe/Chisinau",Text:"(UTC+02:00) Chisinau"},{Value:"Asia/Damascus",Text:"(UTC+02:00) Damascus"},{Value:"Asia/Gaza",Text:"(UTC+02:00) Gaza"},{Value:"Europe/Helsinki",Text:"(UTC+02:00) Helsinki"},{Value:"Asia/Jerusalem",Text:"(UTC+02:00) Jerusalem"},{Value:"Africa/Johannesburg",Text:"(UTC+02:00) Johannesburg"},{Value:"Africa/Khartoum",Text:"(UTC+02:00) Khartoum"},{Value:"Europe/Kiev",Text:"(UTC+02:00) Kiev"},{Value:"Africa/Maputo",Text:"(UTC+02:00) Maputo"},{Value:"Europe/Kaliningrad",Text:"(UTC+02:00) Moscow-01 - Kaliningrad"},{Value:"Asia/Nicosia",Text:"(UTC+02:00) Nicosia"},{Value:"Europe/Riga",Text:"(UTC+02:00) Riga"},{Value:"Europe/Sofia",Text:"(UTC+02:00) Sofia"},{Value:"Europe/Tallinn",Text:"(UTC+02:00) Tallinn"},{Value:"Africa/Tripoli",Text:"(UTC+02:00) Tripoli"},{Value:"Europe/Vilnius",Text:"(UTC+02:00) Vilnius"},{Value:"Africa/Windhoek",Text:"(UTC+02:00) Windhoek"},{Value:"Asia/Baghdad",Text:"(UTC+03:00) Baghdad"},{Value:"Europe/Istanbul",Text:"(UTC+03:00) Istanbul"},{Value:"Europe/Minsk",Text:"(UTC+03:00) Minsk"},{Value:"Europe/Moscow",Text:"(UTC+03:00) Moscow+00 - Moscow"},{Value:"Africa/Nairobi",Text:"(UTC+03:00) Nairobi"},{Value:"Asia/Qatar",Text:"(UTC+03:00) Qatar"},{Value:"Asia/Riyadh",Text:"(UTC+03:00) Riyadh"},{Value:"Antarctica/Syowa",Text:"(UTC+03:00) Syowa"},{Value:"Asia/Tehran",Text:"(UTC+03:30) Tehran"},{Value:"Asia/Baku",Text:"(UTC+04:00) Baku"},{Value:"Asia/Dubai",Text:"(UTC+04:00) Dubai"},{Value:"Indian/Mahe",Text:"(UTC+04:00) Mahe"},{Value:"Indian/Mauritius",Text:"(UTC+04:00) Mauritius"},{Value:"Europe/Samara",Text:"(UTC+04:00) Moscow+01 - Samara"},{Value:"Indian/Reunion",Text:"(UTC+04:00) Reunion"},{Value:"Asia/Tbilisi",Text:"(UTC+04:00) Tbilisi"},{Value:"Asia/Yerevan",Text:"(UTC+04:00) Yerevan"},{Value:"Asia/Kabul",Text:"(UTC+04:30) Kabul"},{Value:"Asia/Aqtau",Text:"(UTC+05:00) Aqtau"},{Value:"Asia/Aqtobe",Text:"(UTC+05:00) Aqtobe"},{Value:"Asia/Ashgabat",Text:"(UTC+05:00) Ashgabat"},{Value:"Asia/Dushanbe",Text:"(UTC+05:00) Dushanbe"},{Value:"Asia/Karachi",Text:"(UTC+05:00) Karachi"},{Value:"Indian/Kerguelen",Text:"(UTC+05:00) Kerguelen"},{Value:"Indian/Maldives",Text:"(UTC+05:00) Maldives"},{Value:"Antarctica/Mawson",Text:"(UTC+05:00) Mawson"},{Value:"Asia/Yekaterinburg",Text:"(UTC+05:00) Moscow+02 - Yekaterinburg"},{Value:"Asia/Tashkent",Text:"(UTC+05:00) Tashkent"},{Value:"Asia/Colombo",Text:"(UTC+05:30) Colombo"},{Value:"Asia/Kolkata",Text:"(UTC+05:30) India Standard Time"},{Value:"Asia/Katmandu",Text:"(UTC+05:45) Katmandu"},{Value:"Asia/Almaty",Text:"(UTC+06:00) Almaty"},{Value:"Asia/Bishkek",Text:"(UTC+06:00) Bishkek"},{Value:"Indian/Chagos",Text:"(UTC+06:00) Chagos"},{Value:"Asia/Dhaka",Text:"(UTC+06:00) Dhaka"},{Value:"Asia/Omsk",Text:"(UTC+06:00) Moscow+03 - Omsk"},{Value:"Asia/Thimphu",Text:"(UTC+06:00) Thimphu"},{Value:"Antarctica/Vostok",Text:"(UTC+06:00) Vostok"},{Value:"Indian/Cocos",Text:"(UTC+06:30) Cocos"},{Value:"Asia/Yangon",Text:"(UTC+06:30) Rangoon"},{Value:"Asia/Bangkok",Text:"(UTC+07:00) Bangkok"},{Value:"Indian/Christmas",Text:"(UTC+07:00) Christmas"},{Value:"Antarctica/Davis",Text:"(UTC+07:00) Davis"},{Value:"Asia/Saigon",Text:"(UTC+07:00) Hanoi"},{Value:"Asia/Hovd",Text:"(UTC+07:00) Hovd"},{Value:"Asia/Jakarta",Text:"(UTC+07:00) Jakarta"},{Value:"Asia/Krasnoyarsk",Text:"(UTC+07:00) Moscow+04 - Krasnoyarsk"},{Value:"Asia/Brunei",Text:"(UTC+08:00) Brunei"},{Value:"Asia/Shanghai",Text:"(UTC+08:00) China Time - Beijing"},{Value:"Asia/Choibalsan",Text:"(UTC+08:00) Choibalsan"},{Value:"Asia/Hong_Kong",Text:"(UTC+08:00) Hong Kong"},{Value:"Asia/Kuala_Lumpur",Text:"(UTC+08:00) Kuala Lumpur"},{Value:"Asia/Macau",Text:"(UTC+08:00) Macau"},{Value:"Asia/Makassar",Text:"(UTC+08:00) Makassar"},{Value:"Asia/Manila",Text:"(UTC+08:00) Manila"},{Value:"Asia/Irkutsk",Text:"(UTC+08:00) Moscow+05 - Irkutsk"},{Value:"Asia/Singapore",Text:"(UTC+08:00) Singapore"},{Value:"Asia/Taipei",Text:"(UTC+08:00) Taipei"},{Value:"Asia/Ulaanbaatar",Text:"(UTC+08:00) Ulaanbaatar"},{Value:"Australia/Perth",Text:"(UTC+08:00) Western Time - Perth"},{Value:"Asia/Pyongyang",Text:"(UTC+08:30) Pyongyang"},{Value:"Asia/Dili",Text:"(UTC+09:00) Dili"},{Value:"Asia/Jayapura",Text:"(UTC+09:00) Jayapura"},{Value:"Asia/Yakutsk",Text:"(UTC+09:00) Moscow+06 - Yakutsk"},{Value:"Pacific/Palau",Text:"(UTC+09:00) Palau"},{Value:"Asia/Seoul",Text:"(UTC+09:00) Seoul"},{Value:"Asia/Tokyo",Text:"(UTC+09:00) Tokyo"},{Value:"Australia/Darwin",Text:"(UTC+09:30) Central Time - Darwin"},{Value:"Antarctica/DumontDUrville",Text:'(UTC+10:00) Dumont D"Urville'},{Value:"Australia/Brisbane",Text:"(UTC+10:00) Eastern Time - Brisbane"},{Value:"Pacific/Guam",Text:"(UTC+10:00) Guam"},{Value:"Asia/Vladivostok",Text:"(UTC+10:00) Moscow+07 - Vladivostok"},{Value:"Pacific/Port_Moresby",Text:"(UTC+10:00) Port Moresby"},{Value:"Pacific / Chuuk",Text:"(UTC+10:00) Truk"},{Value:"Australia/Adelaide",Text:"(UTC+10:30) Central Time - Adelaide"},{Value:"Antarctica/Casey",Text:"(UTC+11:00) Casey"},{Value:"Australia/Hobart",Text:"(UTC+11:00) Eastern Time - Hobart"},{Value:"Australia/Sydney",Text:"(UTC+11:00) Eastern Time - Melbourne, Sydney"},{Value:"Pacific/Efate",Text:"(UTC+11:00) Efate"},{Value:"Pacific/Guadalcanal",Text:"(UTC+11:00) Guadalcanal"},{Value:"Pacific/Kosrae",Text:"(UTC+11:00) Kosrae"},{Value:"Asia/Magadan",Text:"(UTC+11:00) Moscow+08 - Magadan"},{Value:"Pacific / Norfolk",Text:"(UTC+11:00) Norfolk"},{Value:"Pacific/Noumea",Text:"(UTC+11:00) Noumea"},{Value:"Pacific/Pohnpei",Text:"(UTC+11:00) Ponape"},{Value:"Pacific/Funafuti",Text:"(UTC+12:00) Funafuti"},{Value:"Pacific/Kwajalein",Text:"(UTC+12:00) Kwajalein"},{Value:"Pacific/Majuro",Text:"(UTC+12:00) Majuro"},{Value:"Asia/Kamchatka",Text:"(UTC+12:00) Moscow+09 - Petropavlovsk - Kamchatskiy"},{Value:"Pacific / Nauru",Text:"(UTC+12:00) Nauru"},{Value:"Pacific/Tarawa",Text:"(UTC+12:00) Tarawa"},{Value:"Pacific/Wake",Text:"(UTC+12:00) Wake"},{Value:"Pacific/Wallis",Text:"(UTC+12:00) Wallis"},{Value:"Pacific/Auckland",Text:"(UTC+13:00) Auckland"},{Value:"Pacific/Enderbury",Text:"(UTC+13:00) Enderbury"},{Value:"Pacific/Fakaofo",Text:"(UTC+13:00) Fakaofo"},{Value:"Pacific/Fiji",Text:"(UTC+13:00) Fiji"},{Value:"Pacific/Tongatapu",Text:"(UTC+13:00) Tongatapu"},{Value:"Pacific/Apia",Text:"(UTC+14:00) Apia"},{Value:"Pacific/Kiritimati",Text:"(UTC+14:00) Kiritimati"}];function MTe(r,t,e,i){i===void 0&&(i="Gregorian");var n=n3(r),s=t.getConstant(WTe)+" ",a,o,l=i.toLowerCase();if(e==="en"||e==="en-US"){var c="months.stand-alone.abbreviated",u="days.stand-alone.abbreviated";o=Pe(c,yl(l)),a=Pe(u,yl(l))}else{var c="main."+e+".dates.calendars."+l+".months.stand-alone.abbreviated",u="main."+e+".dates.calendars."+l+".days.stand-alone.abbreviated";o=Pe(c,ws),a=Pe(u,ws)}switch(n.interval>1&&(s+=n.interval+" "),n.freq){case"DAILY":s+=t.getConstant(qTe);break;case"WEEKLY":s+=t.getConstant(QTe)+" "+t.getConstant(I4)+" ",n.day.forEach(function(p,m){s+=Rn(Pe(UK[""+p],a),"single"),s+=n.day.length-1===m?"":", "});break;case"MONTHLY":s+=t.getConstant(GTe)+" "+t.getConstant(I4)+" ",s+=HV(n,a,t);break;case"YEARLY":s+=t.getConstant(KTe)+" "+t.getConstant(I4)+" ",s+=Rn(Pe(n.month[0].toString(),o),"single")+" ",s+=HV(n,a,t);break}if(n.count)s+=", "+n.count+" "+t.getConstant(HTe);else if(n.until){var d=n.until;s+=", "+t.getConstant(YTe)+" "+d.getDate()+" "+Rn(Pe((d.getMonth()+1).toString(),o),"single")+" "+d.getFullYear()}return s}function HV(r,t,e){var i="";if(r.monthDay.length)i+=r.monthDay[0];else if(r.day){var n=r.setPosition-1;i+=e.getConstant(WV[n>-1?n:WV.length-1])+" "+Rn(Pe(UK[r.day[0]],t),"single")}return i}function Zj(r,t,e,i,n,s,a,o){n===void 0&&(n=VTe),s===void 0&&(s=null),a===void 0&&(a="Gregorian"),o===void 0&&(o=null);var l=n3(t),c;Ii=nk(a);var u=[],d=new Date(r.getTime());nA=[];var p=v(e)?[]:e.split(","),m=new OK;if(p.forEach(function(M){var w=e3(M);o&&(w=m.add(new Date(w.getTime()),o)),nA.push(new Date(w.getTime()).setHours(0,0,0,0))}),l.recExceptionCount=v(l.count)?0:nA.length,s&&s>r&&!l.count?z0=new Date(new Date(s.getTime()).setHours(0,0,0)):z0=null,!l.until&&z0&&(c=new Date(z0.getTime()),c.setDate(z0.getDate()+n*l.interval),l.until=c),l.until&&r>l.until)return u;if(BK=n,i=i||0,UTe(Fa[parseInt(i.toString(),10)]),l.until){var y=Ze(l.until);l.until=new Date(y.getFullYear(),y.getMonth(),y.getDate(),23,59,59)}switch(l.freq){case"DAILY":wTe(d,l.until,u,l);break;case"WEEKLY":TTe(d,l.until,u,l,i);break;case"MONTHLY":LK(d,l.until,u,l);break;case"YEARLY":bTe(d,l.until,u,l)}return u}function e3(r){return new Date(r.substr(0,4)+"-"+r.substr(4,2)+"-"+r.substr(6,5)+":"+r.substr(11,2)+":"+r.substr(13))}function t3(r,t){var e=new Date(t).setHours(0,0,0,0);nA.indexOf(e)===-1&&(!z0||e>=z0.getTime())&&r.push(t)}function xf(r,t){var e=BK;return t.count?e=t.count:t.until&&(t.freq==="DAILY"||t.freq==="WEEKLY"?e=Math.floor((t.until.getTime()-r.getTime())/cs)+1:(t.freq==="MONTHLY"||t.freq==="YEARLY")&&(e=Math.floor((t.until.getMonth()+12*t.until.getFullYear()-(r.getMonth()+12*r.getFullYear()))/t.interval)+(t.day.length>1?Math.floor((t.until.getTime()-r.getTime())/cs)+1:1),t.freq==="YEARLY"&&(e=t.month.length>1?e*t.month.length:e))),e}function wTe(r,t,e,i){for(var n=new Date(r.getTime()),s=i.interval,a=xf(r,i),o,l=i.day;Mh(n,t)&&(o=!0,o=jN(n,i),!(o&&(l.indexOf(Fa[n.getDay()])>-1||l.length===0)&&(t3(e,n.getTime()),a&&e.length+i.recExceptionCount>=a)));)n.setDate(n.getDate()+s),n.getHours()!==r.getHours()&&n.setHours(r.getHours())}function TTe(r,t,e,i,n){var s=new Date(r.getTime());i.day.length||i.day.push(Fa[r.getDay()]);var a=i.interval,o=i.day,l=xf(r,i),c=!0,u,d=[];if(o.length>1)for((v(i.wkst)||i.wkst==="")&&(i.wkst=Ep[0]),u=Fa.indexOf(i.wkst);Mh(s,t);){var p=Fa.indexOf(Fa[s.getDay()])-u;p=p===-1?6:p;var m=Zt(s,-p),y=Zt(m,6),M=new Date(s.getTime());for(y=Ze(y),M=Ze(M);y>=M&&(o.indexOf(Fa[s.getDay()])>-1&&d.push([s.getTime()]),!(l&&e.length+i.recExceptionCount>=l));)s.setDate(s.getDate()+1),s.getHours()!==r.getHours()&&s.setHours(r.getHours()),M=new Date(s.getTime()),M=Ze(M);if(s.setDate(s.getDate()-1),l&&e.length+i.recExceptionCount>=l)break;s.setDate(s.getDate()+1+(a-1)*7),ik(d,c,r,t,e,i),d=[]}else{for(s=co(r,i.day),a>1&&Ep.indexOf(i.day[0])<r.getDay()-n&&s.setDate(s.getDate()+(a-1)*7);Mh(s,t)&&(c=jN(s,i),c&&o.indexOf(Fa[s.getDay()])>-1&&t3(e,s.getTime()),!(l&&e.length+i.recExceptionCount>=l));)s.setDate(s.getDate()+a*7);ik(d,c,r,t,e,i),d=[]}}function LK(r,t,e,i){!i.month.length&&!i.day.length&&!i.monthDay.length?(i.monthDay.push(r.getDate()),i.freq==="YEARLY"&&i.month.push(r.getMonth()+1)):i.month.length>0&&!i.day.length&&!i.monthDay.length&&i.monthDay.push(r.getDate());var n=FTe(i);switch(n){case"day":switch(i.freq){case"MONTHLY":RK(r,t,e,i);break;case"YEARLY":ITe(r,t,e,i);break}break;case"both":case"date":switch(i.freq){case"MONTHLY":_K(r,t,e,i);break;case"YEARLY":STe(r,t,e,i);break}break}}function bTe(r,t,e,i){var n=ATe(i);switch(n){case"MONTH":LK(r,t,e,i);break;case"WEEKNO":DTe(r,t,e,i);break;case"YEARDAY":ETe(r,t,e,i);break}}function DTe(r,t,e,i){for(var n=Ii.getYearLastDate(r,0),s,a=xf(r,i),o,l,c,u=i.weekNo,d,p,m,y=[],M=i.day;Mh(n,t);){l=Ep.indexOf(Fa[n.getDay()]),c=6-l+1;for(var w=0;w<u.length;w++)for(d=u[parseInt(w.toString(),10)],d=d>0?d:53+d+1,p=d===1?c:c+(d-1)*7,m=d===1?c-7:c+(d-2)*7;m<p;)s=new Date(n.getTime()+cs*m),(M.length===0||M.indexOf(Fa[s.getDay()])>-1)&&(v(i.setPosition)?ob(o,r,t,e,i,s.getTime()):y.push([s.getTime()])),m++;if(v(i.setPosition)||kg(y,o,r,t,e,i),a&&e.length+i.recExceptionCount>=a)return;n=Ii.getYearLastDate(s,i.interval),y=[]}}function ETe(r,t,e,i){for(var n=Ii.getYearLastDate(r,0),s,a=xf(r,i),o,l=[],c,u=i.day;Mh(n,t);){for(var d=0;d<i.yearDay.length;d++){if(c=i.yearDay[parseInt(d.toString(),10)],s=new Date(n.getTime()),(c===Ii.getLeapYearDaysCount()||c===-Ii.getLeapYearDaysCount())&&!Ii.isLeapYear(Ii.getFullYear(s),1)){s.setDate(s.getDate()+1);continue}s.setDate(s.getDate()+(c<0?Ii.getYearDaysCount(s,1)+1+c:c)),(u.length===0||u.indexOf(Fa[s.getDay()])>-1)&&(i.setPosition==null?ob(o,r,t,e,i,s.getTime()):l.push([s.getTime()]))}if(v(i.setPosition)||kg(l,o,r,t,e,i),a&&e.length+i.recExceptionCount>=a)return;n=Ii.getYearLastDate(s,i.interval),l=[]}}function ATe(r){return r.yearDay.length?"YEARDAY":r.weekNo.length?"WEEKNO":"MONTH"}function jK(r,t){var e={monthCollection:[],index:0,tempDate:new Date(r.getTime()),mainDate:new Date(r.getTime()),expectedCount:xf(r,t),monthInit:0,dateCollection:[]};return t.month.length&&Ii.setMonth(e.tempDate,t.month[0],e.tempDate.getDate()),e}function STe(r,t,e,i){if(i.month.length){_K(r,t,e,i);return}var n=jK(r,i),s;for(n.tempDate=n.mainDate=Ii.getMonthStartDate(n.tempDate);Mh(n.tempDate,t);){for(s=new Date(n.tempDate.getTime());Ii.isSameYear(s,n.tempDate)&&n.expectedCount&&e.length+i.recExceptionCount<=n.expectedCount;)if(i.month.length===0||i.month.length>0&&!Ii.checkMonth(n.tempDate,i.month))zK(i,n,t,!1),n.beginDate=new Date(n.tempDate.getTime()),n.monthInit=hv(n.tempDate,i,n.monthInit,n.beginDate);else{Ii.setValidDate(n.tempDate,1,1),n.tempDate=co(n.tempDate,i.day);break}if(n.tempDate.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),ik(n.dateCollection,n.state,r,t,e,i),Ii.isLastMonth(n.tempDate)&&(Ii.setValidDate(n.tempDate,1,1),n.tempDate=co(n.tempDate,i.day)),n.expectedCount&&e.length+i.recExceptionCount>=n.expectedCount)return;n.tempDate.setFullYear(n.tempDate.getFullYear()+i.interval-1),n.tempDate=co(n.tempDate,i.day),n.monthInit=hv(n.tempDate,i,n.monthInit,n.beginDate),n.dateCollection=[]}}function _K(r,t,e,i){var n=jK(r,i);if(n.tempDate=n.mainDate=Ii.getMonthStartDate(n.tempDate),!((i.freq==="MONTHLY"&&i.interval===12||i.freq==="YEARLY")&&Ii.getMonthDaysCount(r)<i.monthDay[0]))for(;Mh(n.tempDate,t);){if(n.beginDate=new Date(n.tempDate.getTime()),zK(i,n,t,!0,r,e),v(i.setPosition)||kg(n.dateCollection,n.state,r,t,e,i),n.expectedCount&&e.length+i.recExceptionCount>=n.expectedCount)return;n.monthInit=hv(n.tempDate,i,n.monthInit,n.beginDate),n.dateCollection=[]}}function zK(r,t,e,i,n,s){for(var a=0;a<r.monthDay.length;a++){t.date=r.monthDay[parseInt(a.toString(),10)],t.tempDate=Ii.getMonthStartDate(t.tempDate);var o=Ii.getMonthDaysCount(t.tempDate);if(t.date=t.date>0?t.date:o+t.date+1,jTe(t.tempDate,t.date,t.mainDate)&&t.date>0){if(Ii.setDate(t.tempDate,t.date),e&&t.tempDate>e)return;(r.day.length===0||r.day.indexOf(Fa[t.tempDate.getDay()])>-1)&&(i&&v(r.setPosition)&&t.expectedCount&&s.length+r.recExceptionCount<t.expectedCount?ob(t.state,n,e,s,r,t.tempDate.getTime()):t.dateCollection.push([t.tempDate.getTime()]))}}}function hv(r,t,e,i,n){i===void 0&&(i=null);var s=i?i.getMonth():0,a=Ii.getMonthStartDate(r);return n=v(n)?t.interval:n,r.setFullYear(a.getFullYear()),r.setMonth(a.getMonth()),r.setDate(a.getDate()),t.month.length?(e++,e=e%t.month.length,Ii.setMonth(r,t.month[parseInt(e.toString(),10)],1),e===0&&Ii.addYears(r,n,t.month[0])):(i&&i.getFullYear()<r.getFullYear()&&(s=r.getMonth()-1),Ii.setValidDate(r,n,1,s,i)),e}function NTe(r,t,e,i){var n=i.day,s=new Date(r.getTime());s=Ii.getMonthStartDate(s);var a=[],o=[],l=[],c,u,d=xf(r,i),p=0,m;for(i.month.length&&Ii.setMonth(s,i.month[0],1),s=co(s,i.day);Mh(s,t)&&d&&e.length+i.recExceptionCount<d;){var y=new Date(s.getTime()),M=n.map(function(_){return s3.test(_)});if(M.indexOf(!0)>-1){for(var w=0;w<=n.length-1;w++){var b=n[parseInt(w.toString(),10)].match(_N),D=parseInt(b[0],10);for(s=new Date(s.getTime()),s=Ii.getMonthStartDate(s),s=co(s,n),y.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());Ii.isSameYear(y,s)&&Ii.isSameMonth(y,s);)b[b.length-1]===Fa[y.getDay()]&&a.push([y.getTime()]),y.setDate(y.getDate()+1);if(y.setDate(y.getDate()-1),b[0].indexOf("-")>-1?c=a.length- -1*D:c=D-1,c=isNaN(c)?0:c,a.length>0&&(v(i.setPosition)?kg(a,u,r,t,e,i,c):o=[i3(a,c,l)]),d&&e.length+i.recExceptionCount>=d)return;a=[]}v(i.setPosition)||(r3(o,u,r,t,e,i),l=[]),p=hv(s,i,p,m),s=co(s,i.day),a=[]}else{var E=[],N=_Te(n);y.setFullYear(s.getFullYear(),s.getMonth(),s.getDate());var B=new Date(s.getTime());for(m=new Date(s.getTime());Ii.isSameMonth(B,s);)E.push(s.getTime()),n.indexOf(Fa[s.getDay()])>-1&&(a.push(E),E=[]),s.setDate(s.getDate()+N[Fa[s.getDay()]]);if(c=i.setPosition<1?a.length+i.setPosition:i.setPosition-1,v(i.setPosition)){c=0;for(var P=[],C=0;C<a.length;C++)for(var k=0;k<a[parseInt(C.toString(),10)].length;k++)P.push(a[parseInt(C.toString(),10)][parseInt(k.toString(),10)]);a=[P]}if(a.length>0&&kg(a,u,r,t,e,i,c),d&&e.length+i.recExceptionCount>=d)return;p=hv(s,i,p,m),s=co(s,i.day),a=[]}}}function RK(r,t,e,i){var n=i.day;if(n.length>1){NTe(r,t,e,i);return}var s=new Date(r.getTime()),a=xf(r,i),o=[],l,c=0;for(s=Ii.getMonthStartDate(s),i.month.length&&Ii.setMonth(s,i.month[0],1),s=co(s,i.day);Mh(s,t)&&a&&e.length+i.recExceptionCount<a;){l=new Date(s.getTime());for(var u=new Date(s.getTime());Ii.isSameMonth(s,u);)o.push([u.getTime()]),u.setDate(u.getDate()+7);PK(o,r,t,e,i),c=hv(s,i,c,l),s=co(s,i.day),o=[]}}function ITe(r,t,e,i){var n=i.day,s=n.map(function(p){return s3.test(p)});if(n.length>1&&s.indexOf(!0)>-1){CTe(r,t,e,i);return}else if(i.month.length&&n.length===1&&s.indexOf(!0)>-1){RK(r,t,e,i);return}var a=new Date(r.getTime()),o,l=xf(r,i),c=i.interval,u=[];for(i.month.length&&Ii.setMonth(a,i.month[0],a.getDate()),v(i.setPosition)&&i.month.length===0&&i.weekNo.length===0&&a.setFullYear(r.getFullYear(),0,1),a=Ii.getMonthStartDate(a),a=co(a,i.day);Mh(a,t);){for(o=new Date(a.getTime());Ii.isSameYear(o,a)&&l&&e.length+i.recExceptionCount<=l;)for(o=new Date(a.getTime());Ii.isSameYear(o,a);)if(i.month.length===0||i.month.length>0&&!Ii.checkMonth(a,i.month))if(n.length>1){if(Ii.compareMonth(o,a)){Ii.setValidDate(a,1,1),a=co(a,i.day);break}n.indexOf(Fa[o.getDay()])>-1&&u.push([o.getTime()]),o.setDate(o.getDate()+1)}else{if(o.getFullYear()>a.getFullYear()){Ii.setValidDate(a,1,1),a=co(a,i.day);break}var d=FK(n[0]);Fa[o.getDay()]===d&&new Date(o.getFullYear(),o.getMonth(),0)>new Date(r.getFullYear())&&u.push([o.getTime()]),o.setDate(o.getDate()+7)}else{Ii.setValidDate(a,1,1),a=co(a,i.day);break}if(a.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),PK(u,r,t,e,i),Ii.isLastMonth(a)&&(Ii.setValidDate(a,1,1),a=co(a,i.day)),a.setFullYear(a.getFullYear()+c-1),l&&e.length+i.recExceptionCount>=l)return;a=co(a,i.day),u=[]}}function CTe(r,t,e,i){var n=i.day,s=xf(r,i),a=new Date(r.getTime()),o=i.interval,l=[],c=[],u,d,p=0,m,y,M;a=Ii.getMonthStartDate(a);var w=[];for(i.month.length&&Ii.setMonth(a,i.month[0],1),a=co(a,i.day);Mh(a,t);){m=new Date(a.getTime());for(var b=0;b<=i.month.length;b++)for(var D=0;D<=n.length-1;D++){for(a=Ii.getMonthStartDate(a),a=co(a,i.day),l=[];Ii.isSameYear(m,a)&&s&&e.length+i.recExceptionCount<=s;)for(;Ii.isSameYear(m,a);){if(m=new Date(a.getTime()),i.month.length===0||i.month.length>0&&i.month[parseInt(b.toString(),10)]===Ii.getMonth(m)){var E=n[parseInt(D.toString(),10)].match(_N),N=parseInt(E[0],10);for(y=new Date(a.getTime());Ii.isSameYear(y,a)&&Ii.isSameMonth(y,a);)E[E.length-1]===Fa[y.getDay()]&&l.push([y.getTime()]),y.setDate(y.getDate()+1);y.setDate(y.getDate()-1),E[0].indexOf("-")>-1?u=l.length- -1*N:u=N-1,u=isNaN(u)?0:u}p=hv(a,i,p,M,1),a=co(a,i.day)}if(a=D===0&&y?new Date(y.getTime()):new Date(m.getTime()),l.length>0&&(v(i.setPosition)?kg(l,d,r,t,e,i,u):c=[i3(l,u,w)]),s&&e.length+i.recExceptionCount>=s)return}v(i.setPosition)||(r3(c,d,r,t,e,i),w=[]),Ii.isLastMonth(a)?(Ii.setValidDate(a,1,1),a.setFullYear(a.getFullYear()+o-1)):a.setFullYear(a.getFullYear()+o),a=co(a,i.day),i.month.length&&Ii.setMonth(a,i.month[0],a.getDate())}}function OTe(r,t){var e,i={monthCollection:[],index:0};if(t.length===1){var n=t[0].match(_N),s=void 0;n.length>1?(s=parseInt(n[0],10),e=s<1?r.length+s:s-1):(e=0,r=rk(r))}else e=0,r=rk(r);return i.monthCollection=r,i.index=e,i}function ik(r,t,e,i,n,s){var a=s.setPosition<1?r.length+s.setPosition:s.setPosition-1;v(s.setPosition)&&(a=0,r=rk(r)),r.length>0&&kg(r,t,e,i,n,s,a)}function rk(r){for(var t=[],e=0;e<r.length;e++)for(var i=0;i<r[parseInt(e.toString(),10)].length;i++)t.push(new Date(r[parseInt(e.toString(),10)][parseInt(i.toString(),10)]).getTime());return r=t.length>0?[t]:[],r}function PK(r,t,e,i,n){var s=n.day,a,o=[],l=[],c=OTe(r,s);r=c.monthCollection;var u=c.index;n.setPosition!=null?(l=[i3(r,u,o)],r3(l,a,t,e,i,n)):r.length>0&&kg(r,a,t,e,i,n,u),o=[]}function i3(r,t,e){for(var i=0;i<r[parseInt(t.toString(),10)].length;i++)e.push(r[parseInt(t.toString(),10)][parseInt(i.toString(),10)]);return e}function ob(r,t,e,i,n,s){var a=xf(t,n),o=new Date(s);r=jN(o,n),o>=t&&Mh(o,e)&&r&&a&&i.length+n.recExceptionCount<a&&t3(i,s)}function kTe(r,t,e,i,n){var s=0,a=new Date(r,n.month[0]-1,1),o=new Date(r,n.month[0],0),l=o.getDate(),c=(a.getDay()-s+7)%7,u=c+l,d=Math.ceil(u/7)-1,p=e[parseInt(i.toString(),10)][parseInt(d.toString(),10)],m=new Date(p),y=jN(m,n);return y?d:d-1}function r3(r,t,e,i,n,s){if(r.length>0)for(var a=0;a<r.length;a++){r[parseInt(a.toString(),10)].sort();var o=s.day,l=o.map(function(p){return s3.test(p)}),c=s.freq==="YEARLY"&&s.validRules.indexOf("BYMONTH")>-1&&!(l.indexOf(!0)>-1)?kTe(new Date(r[0][0]).getFullYear(),0,r,a,s):r[parseInt(a.toString(),10)].length+s.setPosition,u=s.setPosition<1?c:s.setPosition-1,d=r[parseInt(a.toString(),10)][parseInt(u.toString(),10)];ob(t,e,i,n,s,d)}}function kg(r,t,e,i,n,s,a){if(r.length>0){a=v(a)?s.setPosition<1?r.length+s.setPosition:s.setPosition-1:a,r[parseInt(a.toString(),10)].sort();for(var o=0;o<r[parseInt(a.toString(),10)].length;o++){var l=r[parseInt(a.toString(),10)][parseInt(o.toString(),10)];ob(t,e,i,n,s,l)}}}function Mh(r,t){return t?r<=t:!0}function FK(r){var t=r.replace($Te,"");return t}function LTe(r,t){var e=[];return t.forEach(function(i){var n=i.match(_N);n.length===2?e.push(n[1]):e.push(n[0])}),e.indexOf(Fa[parseInt(r.toString(),10)])===-1}function co(r,t){var e=new Date(r.getTime()),i;if(t.length>0){for(var n=[],s=0;s<=t.length-1;s++)i=FK(t[parseInt(s.toString(),10)]),n.push(i);if(n.indexOf(Fa[e.getDay()])===-1)do e.setDate(e.getDate()+1);while(n.indexOf(Fa[e.getDay()])===-1)}return e}function n3(r){var t={freq:null,interval:1,count:null,until:null,day:[],wkst:null,month:[],weekNo:[],monthDay:[],yearDay:[],setPosition:null,validRules:[]},e=r.split(";"),i=[],n;if(e.forEach(function(a){switch(i=a.split("="),i[0]){case"UNTIL":n=i[1],t.until=e3(n);break;case"BYDAY":t.day=i[1].split(","),t.validRules.push(i[0]);break;case"BYMONTHDAY":t.monthDay=i[1].split(",").map(Number),t.validRules.push(i[0]);break;case"BYMONTH":t.month=i[1].split(",").map(Number),t.validRules.push(i[0]);break;case"BYYEARDAY":t.yearDay=i[1].split(",").map(Number),t.validRules.push(i[0]);break;case"BYWEEKNO":t.weekNo=i[1].split(",").map(Number),t.validRules.push(i[0]);break;case"INTERVAL":t.interval=parseInt(i[1],10);break;case"COUNT":t.count=parseInt(i[1],10);break;case"BYSETPOS":t.setPosition=parseInt(i[1],10)>4?-1:parseInt(i[1],10);break;case"FREQ":t.freq=i[1];break;case"WKST":t.wkst=i[1];break}}),t.freq==="MONTHLY"&&t.monthDay.length===0){var s=t.validRules.indexOf("BYDAY");t.validRules.splice(s,1)}return t}function jTe(r,t,e){var i=Ii.getMonthDaysCount(r);return t<=i&&r>=e}function _Te(r){var t={};return r.forEach(function(e,i){if(i===r.length-1){for(var n=Ep.indexOf(e),s=n;s%7!==Ep.indexOf(r[0]);)s++;t[""+e]=s-n}else t[""+e]=Ep.indexOf(r[i+1])-Ep.indexOf(e)}),t}function zTe(r,t){var e=t.slice(0),i,n=Ii.getMonthDaysCount(r);for(i=e.shift();i;){if(i<0&&(i=i+n+1),i===r.getDate())return!1;i=e.shift()}return!0}function RTe(r,t){var e=t.slice(0),i,n=PTe(r);for(i=e.shift();i;){if(i<0&&(i=i+Ii.getYearDaysCount(r,0)+1),i===n)return!1;i=e.shift()}return!0}function PTe(r){N4[Ii.getFullYear(r)]||(N4[Ii.getFullYear(r)]=Ii.getYearLastDate(r,0));var t=N4[Ii.getFullYear(r)],e=r.getTime()-t.getTime();return Math.ceil(e/cs)}function FTe(r){return r.monthDay.length&&!r.day.length?"date":!r.monthDay.length&&r.day.length?"day":"both"}function BTe(r){var t=r.shift();r.push(t)}function UTe(r){for(;Ep[0]!==r;)BTe(Ep)}function jN(r,t){var e=!0,i=t.day,n=t.month,s=Ii.getExpectedDays(r,t.monthDay),a=t.yearDay;return t.validRules.forEach(function(o){switch(o){case"BYDAY":LTe(r.getDay(),i)&&(e=!1);break;case"BYMONTH":Ii.checkMonth(r,n)&&(e=!1);break;case"BYMONTHDAY":zTe(r,s)&&(e=!1);break;case"BYYEARDAY":RTe(r,a)&&(e=!1);break}}),e}function nk(r){return r==="Islamic"?new CK:new IK}var N4={},nA,Ep=["SU","MO","TU","WE","TH","FR","SA"],BK,z0,Ii,Fa=["SU","MO","TU","WE","TH","FR","SA"],VTe=43,WV=["first","second","third","fourth","last"],HTe="summaryTimes",I4="summaryOn",WTe="every",YTe="summaryUntil",qTe="summaryDay",QTe="summaryWeek",GTe="summaryMonth",KTe="summaryYear",UK={SU:"sun",MO:"mon",TU:"tue",WE:"wed",TH:"thu",FR:"fri",SA:"sat"},s3=/\d/,$Te=/[^A-Z]+/,_N=/[a-z]+|[^a-z]+/gi;function Uy(r){return[r.getUTCFullYear(),AM(r.getUTCMonth()+1),AM(r.getUTCDate()),"T",AM(r.getUTCHours()),AM(r.getUTCMinutes()),AM(r.getUTCSeconds()),"Z"].join("")}function AM(r){return("0"+r).slice(-2)}var a3=(function(){function r(t){this.slots=[],this.processedData=[],this.isDoubleTapped=!1,this.parent=t}return r.prototype.processData=function(t,e,i){var n=this,s=this.parent.activeView.startDate(),a=this.parent.activeView.endDate(),o=this.parent.eventFields,l=[],c=1,u=!1,d=this.parent.resourceBase?this.parent.resourceBase.resourceCollection:[];t.length>0&&v(t[0][o.id])&&(u=!0);for(var p=function(U){u&&(U[o.id]=c++),U=m.updateEventDateTime(U),e?m.processTimezoneChange(U,i):!m.parent.isPrinting&&!m.parent.uiStateValues.isPreventTimezone&&(U=m.processTimezone(U));for(var W=0;W<d.length;W++)(U[d[parseInt(W.toString(),10)].field]===null||U[d[parseInt(W.toString(),10)].field]===0)&&(U[d[parseInt(W.toString(),10)].field]=void 0);if(!v(U[o.recurrenceRule])&&U[o.recurrenceRule]===""&&(U[o.recurrenceRule]=null),!v(U[o.recurrenceRule])&&v(U[o.recurrenceID])&&!(m.parent.crudModule&&m.parent.crudModule.crudObj.isCrudAction))l=l.concat(m.generateOccurrence(U,null,!0));else if(m.parent.crudModule&&m.parent.crudModule.crudObj.isCrudAction)if(!v(U[o.recurrenceRule])&&v(U[o.recurrenceID]))for(var re=m.generateOccurrence(U,null,!0),Z=function(G){var Q=m.parent.eventsProcessed.filter(function(te){return te[o.startTime].getTime()-G[o.startTime].getTime()===0&&te[o.id]===G[o.id]});G.Guid=Q.length>0?Q[0].Guid:m.generateGuid(),l.push(G)},Ee=0,ae=re;Ee<ae.length;Ee++){var L=ae[Ee];Z(L)}else{var Y=m.parent.eventsProcessed.filter(function(G){return G[n.parent.eventFields.id]===U[n.parent.eventFields.id]});U.Guid=Y.length>0?Y[0].Guid:m.generateGuid(),l.push(U)}else U.Guid=m.generateGuid(),l.push(U)},m=this,y=0,M=t;y<M.length;y++){var w=M[y];p(w)}this.parent.eventsProcessed=[];var b=l.filter(function(U){return!U[n.parent.eventFields.isBlock]});if(this.parent.eventsProcessed=this.filterEvents(s,a,b),!this.parent.activeViewOptions.allowOverlap&&this.parent.eventsProcessed.length>0){this.processedData=this.parent.eventsProcessed;for(var D=[],E=this.parent.eventFields,N=0,B=this.parent.eventsProcessed;N<B.length;N++){var P=B[N],C=this.findOverlappingData(P,D);if(!C)D.push(P);else if(!this.parent.eventSettings.sortComparer){var k=new Date(P[E.endTime]).getTime()-new Date(P[E.startTime]).getTime(),_=new Date(C[E.endTime]).getTime()-new Date(C[E.startTime]).getTime();if(k>_&&P[E.startTime]===C[E.startTime]||P[E.isAllDay]===!0){var H=D.indexOf(C);H!==-1&&D.splice(H,1),D.push(P)}}}this.parent.eventsProcessed=D}for(var j=l.filter(function(U){return U[n.parent.eventFields.isBlock]}),z=0,F=j;z<F.length;z++){var X=F[z];if(X[o.isAllDay]){var J=Ze(new Date(X[o.startTime].getTime()))<Ze(new Date(X[o.endTime].getTime()));J||(X[o.startTime]=Ze(X[o.startTime]),X[o.endTime]=Zt(Ze(X[o.endTime]),1))}}return this.parent.blockProcessed=j,b},r.prototype.findOverlappingData=function(t,e){for(var i=this.parent.activeViewOptions.group.resources.length>0,n=i?this.parent.resourceBase.resourceCollection:[],s=i?n[n.length-1].field:null,a=this.parent.eventFields,o=new Date(t[a.startTime]),l=new Date(t[a.endTime]),c=0,u=e;c<u.length;c++){var d=u[c];if(o<d[a.endTime]&&l>d[a.startTime]&&d[a.id]!==t[a.id]&&(!i||v(s)||this.compareResourceValues(d[""+s],t[""+s])))return d}},r.prototype.isOverlapRange=function(t,e){var i=this;e===void 0&&(e=null);for(var n=this.parent.activeViewOptions.group.resources.length>0,s=n?this.parent.resourceBase.resourceCollection:[],a=n?s[s.length-1].field:null,o=Array.isArray(t)?t:[t],l=this.parent.eventFields,c=function(N){return i.processedData.filter(function(B){return N[l.startTime]<B[l.endTime]&&N[l.endTime]>B[l.startTime]&&B[l.id]!==N[l.id]&&(!n||v(a)||i.compareResourceValues(B[""+a],N[""+a]))})},u=[],d=!1,p=0,m=o;p<m.length;p++)for(var y=m[p],M=!v(y[l.recurrenceRule])&&(v(y[l.recurrenceID])||y[l.recurrenceID]===y[l.id])&&(v(y[l.recurrenceID])||e==="EditSeries")?this.generateOccurrence(y):[y],w=0,b=M;w<b.length;w++){var D=b[w],E=c(D);E.length>0&&u.push.apply(u,E),this.findOverlappingData(D,this.parent.eventsProcessed)&&(d=!0)}return this.parent.overlapAppointments=u,d},r.prototype.compareResourceValues=function(t,e){var i=function(n){return Array.isArray(n)?n[0]:n};return i(t)===i(e)},r.prototype.checkOverlap=function(t){return!this.parent.activeViewOptions.allowOverlap&&this.isOverlapRange(t)?(this.parent.quickPopup.openValidationError("overlapAlert",t),!0):!1},r.prototype.updateEventDateTime=function(t){return typeof t[this.parent.eventFields.startTime]=="string"&&(t[this.parent.eventFields.startTime]=nV(t[this.parent.eventFields.startTime])),typeof t[this.parent.eventFields.endTime]=="string"&&(t[this.parent.eventFields.endTime]=nV(t[this.parent.eventFields.endTime])),t},r.prototype.getProcessedEvents=function(t){t===void 0&&(t=this.parent.eventsData);for(var e=[],i=0,n=t;i<n.length;i++){var s=n[i];!v(s[this.parent.eventFields.recurrenceRule])&&v(s[this.parent.eventFields.recurrenceID])?e=e.concat(this.generateOccurrence(s)):e.push(s)}return e},r.prototype.timezonePropertyChange=function(t){var e=this.parent.eventsData.concat(this.parent.blockData),i=this.processData(e,!0,t);this.parent.notify(hd,{processedData:i})},r.prototype.timezoneConvert=function(t){var e=this.parent.eventFields;if(t[e.startTimezone]=t[e.startTimezone]||t[e.endTimezone],t[e.endTimezone]=t[e.endTimezone]||t[e.startTimezone],this.parent.timezone){var i=t[e.startTimezone],n=t[e.endTimezone];t[e.startTime]=this.parent.tzModule.convert(t[e.startTime],this.parent.timezone,i),t[e.endTime]=this.parent.tzModule.convert(t[e.endTime],this.parent.timezone,n)}},r.prototype.processTimezoneChange=function(t,e){var i=this.parent.eventFields;t[i.isAllDay]||(e&&this.parent.timezone?(t[i.startTime]=this.parent.tzModule.convert(t[i.startTime],e,this.parent.timezone),t[i.endTime]=this.parent.tzModule.convert(t[i.endTime],e,this.parent.timezone)):!e&&this.parent.timezone?(t[i.startTime]=this.parent.tzModule.add(t[i.startTime],this.parent.timezone),t[i.endTime]=this.parent.tzModule.add(t[i.endTime],this.parent.timezone)):e&&!this.parent.timezone&&(t[i.startTime]=this.parent.tzModule.remove(t[i.startTime],e),t[i.endTime]=this.parent.tzModule.remove(t[i.endTime],e)))},r.prototype.processTimezone=function(t,e){e===void 0&&(e=!1);var i=this.parent.eventFields;if(t[i.isAllDay])return t;if(t[i.startTimezone]||t[i.endTimezone]){var n=t[i.startTimezone]||t[i.endTimezone],s=t[i.endTimezone]||t[i.startTimezone];e?this.parent.timezone?(t[i.startTime]=this.parent.tzModule.convert(t[i.startTime],n,this.parent.timezone),t[i.endTime]=this.parent.tzModule.convert(t[i.endTime],s,this.parent.timezone),t[i.startTime]=this.parent.tzModule.remove(t[i.startTime],this.parent.timezone),t[i.endTime]=this.parent.tzModule.remove(t[i.endTime],this.parent.timezone)):(t[i.startTime]=this.parent.tzModule.remove(t[i.startTime],n),t[i.endTime]=this.parent.tzModule.remove(t[i.endTime],s)):(t[i.startTime]=this.parent.tzModule.add(t[i.startTime],n),t[i.endTime]=this.parent.tzModule.add(t[i.endTime],s),this.parent.timezone&&(t[i.startTime]=this.parent.tzModule.convert(t[i.startTime],n,this.parent.timezone),t[i.endTime]=this.parent.tzModule.convert(t[i.endTime],s,this.parent.timezone)))}else this.parent.timezone&&(e?(t[i.startTime]=this.parent.tzModule.remove(t[i.startTime],this.parent.timezone),t[i.endTime]=this.parent.tzModule.remove(t[i.endTime],this.parent.timezone)):(t[i.startTime]=this.parent.tzModule.add(t[i.startTime],this.parent.timezone),t[i.endTime]=this.parent.tzModule.add(t[i.endTime],this.parent.timezone)));return t},r.prototype.filterBlockEvents=function(t){var e=this.parent.eventFields,i=t[e.startTime],n=t[e.endTime],s;if(this.parent.activeViewOptions.group.resources.length>0){var a=this.getGroupIndexFromEvent(t);s=this.parent.resourceBase.lastResourceLevel[parseInt(a.toString(),10)]}for(var o=qe([],this.parent.blockProcessed,null,!0),l=0,c=o;l<c.length;l++){var u=c[l];if(u[e.isAllDay]){var d=u[e.endTime].getTime()>Ze(new Date(u[e.endTime].getTime())).getTime();d&&(u[e.startTime]=Ze(u[e.startTime]),u[e.endTime]=Zt(Ze(u[e.endTime]),1))}}return this.filterEvents(i,n,o,s)},r.prototype.filterEvents=function(t,e,i,n){i===void 0&&(i=this.parent.eventsProcessed);var s=this.parent.dataModule.getStartEndQuery(t,e),a=new ut({json:i}).executeLocal(new di().where(s));return n&&(a=this.filterEventsByResource(n,a)),this.sortByTime(a)},r.prototype.filterEventsByRange=function(t,e,i){var n=this,s=[];return e&&i?s=this.filterEvents(e,i,t):e&&!i?s=t.filter(function(a){return a[n.parent.eventFields.startTime]>=e}):!e&&i?s=t.filter(function(a){return a[n.parent.eventFields.endTime]<=i}):s=t,this.sortByTime(s)},r.prototype.filterEventsByResource=function(t,e){e===void 0&&(e=this.parent.eventsProcessed);for(var i={},n=this.parent.resourceBase.resourceCollection,s=0;s<n.length;s++)i[n[parseInt(s.toString(),10)].field]=t.groupOrder[parseInt(s.toString(),10)];var a=Object.keys(i),o=e.filter(function(l){return a.every(function(c){return l[""+c]instanceof Array?l[""+c].indexOf(i[""+c])>-1:l[""+c]===i[""+c]})});return o},r.prototype.sortByTime=function(t){if(this.parent.eventSettings.sortComparer&&(typeof this.parent.eventSettings.sortComparer=="function"||typeof this.parent.eventSettings.sortComparer=="string"))t=this.customSorting(t);else{var e=this.parent.eventFields;t.sort(function(i,n){var s=i[e.startTime],a=n[e.startTime];return s.getTime()-a.getTime()})}return t},r.prototype.sortByDateTime=function(t){if(this.parent.eventSettings.sortComparer&&(typeof this.parent.eventSettings.sortComparer=="function"||typeof this.parent.eventSettings.sortComparer=="string"))t=this.customSorting(t);else{var e=this.parent.eventFields;t.sort(function(i,n){var s=i[e.startTime],a=n[e.startTime],o=i[e.endTime],l=n[e.endTime],c=o.getTime()-s.getTime(),u=l.getTime()-a.getTime();return s.getTime()-a.getTime()||u-c})}return t},r.prototype.customSorting=function(t){if(typeof this.parent.eventSettings.sortComparer=="function")return this.parent.eventSettings.sortComparer.call(this.parent,t);if(typeof this.parent.eventSettings.sortComparer=="string"){var e=this.parent.eventSettings.sortComparer.split("."),i=void 0;if(v(window)||(i=window[e[e.length-1]]),i)return i(t)}return t},r.prototype.getSmallestMissingNumber=function(t){for(var e=Math.max.apply(Math,t),i=0;i<e;i++)if(t.indexOf(i)===-1)return i;return e+1},r.prototype.splitEventByDay=function(t){var e=this.parent.eventFields,i=[],n=t[e.startTime],s=t[e.endTime],a=Ze(new Date(n.getTime()))<Ze(new Date(s.getTime()));if(a)for(var o=new Date(n.getTime()),l=Zt(Ze(new Date(n.getTime())),1),c=s.getHours()===0&&s.getMinutes()===0?s:Zt(s,1),u=1,d=qO(n.getTime(),c.getTime());l<=s&&o.getTime()!==l.getTime();){var p=qe({},t);p[e.startTime]=o,p[e.endTime]=l,p.data={index:u,count:d},p.Guid=this.generateGuid(),p.isSpanned=!0,i.push(p),o=l,Ze(new Date(o.getTime())).getTime()===Ze(new Date(s.getTime())).getTime()&&l.getTime()!==s.getTime()?(l=new Date(o.getTime()),l=new Date(l.setHours(s.getHours(),s.getMinutes(),s.getSeconds()))):l=Zt(Ze(new Date(o.getTime())),1),u++}else i.push(t);return i},r.prototype.splitEvent=function(t,e){var i=this.parent.eventFields,n=Ze(t[i.startTime]).getTime(),s=Ze(t[i.endTime]).getTime();if(lg(t[i.endTime])<=0){var a=Zt(Ze(t[i.endTime]),-1).getTime();s=n>a?n:a}var o=n,l=s,c=[];if(n!==s){n<e[0].getTime()&&(n=e[0].getTime()),s>e[e.length-1].getTime()&&(s=e[e.length-1].getTime());for(var u=n,d=0;d<this.slots.length;d++){var p=this.slots[parseInt(d.toString(),10)];if(this.parent.currentView==="WorkWeek"||this.parent.currentView==="TimelineWorkWeek"||this.parent.activeViewOptions.group.byDate||this.parent.activeViewOptions.showWeekend){for(var m=[],y=0,M=p;y<M.length;y++){var w=M[y];m.push(new Date(w))}var b=this.getRenderedDates(m);if(!v(b)&&b.length>0){p=[];for(var D=0,E=b;D<E.length;D++){var N=E[D];p.push(N.getTime())}}}if(typeof p=="number"){var a=p;p=[],p.push(a)}var B=p[0];if(u=u<=B&&s>=B?B:u,u>s||B>s)break;if(!this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.showWeekend&&this.parent.currentView!=="WorkWeek"&&this.parent.currentView!=="TimelineWorkWeek"){var P=p.indexOf(u);if(P!==-1){var C=p.indexOf(s),k=C!==-1;C=k?C:p.length-1;var _=C-P+1,H=p[parseInt(P.toString(),10)]!==o,j=p[parseInt(C.toString(),10)]!==l;if(c.push(this.cloneEventObject(t,p[parseInt(P.toString(),10)],p[parseInt(C.toString(),10)],_,H,j)),k)break}}else if(this.dateInRange(u,p[0],p[p.length-1])){for(var z=[],F=0;F<p.length;F++)this.dateInRange(p[parseInt(F.toString(),10)],o,l)&&z.push(p[parseInt(F.toString(),10)]);if(z.length>0)if(this.parent.activeViewOptions.group.byDate)for(var X=0,J=z;X<J.length;X++){var U=J[X];c.push(this.cloneEventObject(t,U,U,1,U!==o,U!==l))}else{var H=z[0]!==o,j=z[z.length-1]!==l;c.push(this.cloneEventObject(t,z[0],z[z.length-1],z.length,H,j))}}}}else c.push(this.cloneEventObject(t,n,s,1,!1,!1));return c},r.prototype.cloneEventObject=function(t,e,i,n,s,a){var o=this.parent.eventFields,l=qe({},t,null,!0),c={count:n,isLeft:s,isRight:a};return c[o.startTime]=t[o.startTime],c[o.endTime]=t[o.endTime],l.data=c,l[o.startTime]=new Date(e),l[o.endTime]=new Date(i),l},r.prototype.dateInRange=function(t,e,i){return e<=t&&t<=i},r.prototype.getSelectedEventElements=function(t){if(this.removeSelectedAppointmentClass(),this.parent.selectedElements.length<=0)this.parent.selectedElements.push(t);else{var e=this.parent.selectedElements.filter(function(c){return c.getAttribute("data-guid")===t.getAttribute("data-guid")});if(e.length<=0)for(var i='div[data-guid="'+t.getAttribute("data-guid")+'"]',n=[].slice.call(this.parent.element.querySelectorAll(i)),s=0,a=n;s<a.length;s++){var o=a[s];this.parent.selectedElements.push(o)}else{var l=this.parent.selectedElements.filter(function(c){return c.getAttribute("data-guid")!==t.getAttribute("data-guid")});this.parent.selectedElements=l}}return t&&this.parent.selectedElements.length>0&&this.addSelectedAppointments(this.parent.selectedElements,!1),this.parent.selectedElements},r.prototype.getSelectedEvents=function(){var t=this,e=[],i=[],n=[].slice.call(this.parent.element.querySelectorAll("."+ng));return n.filter(function(s){var a=e.filter(function(o){return o.Guid===s.getAttribute("data-guid")});a.length===0&&e.push(t.getEventByGuid(s.getAttribute("data-guid"))),i.push(s)}),{event:e.length>1?e:e[0],element:i.length>1?i:i[0]}},r.prototype.removeSelectedAppointmentClass=function(){var t=this.getSelectedAppointments();Oe(t,ng),(this.parent.currentView==="Agenda"||this.parent.currentView==="MonthAgenda")&&Oe(t,hS)},r.prototype.addSelectedAppointments=function(t,e){this.parent.currentView!=="MonthAgenda"&&this.parent.removeSelectedClass(),pe(t,ng),t.length>0&&!e&&t[t.length-1].focus()},r.prototype.getSelectedAppointments=function(){return[].slice.call(this.parent.element.querySelectorAll("."+ng+",."+Ni+":focus"))},r.prototype.focusElement=function(t){if(!(this.parent.eventWindow.dialogObject&&this.parent.eventWindow.dialogObject.visible)){var e=document.activeElement,i=this.parent.getSelectedCells();if(i.length>0&&(e&&(this.parent.element.contains(e)||i.indexOf(e)!==-1)||t)){if(this.parent.keyboardInteractionModule){var n=!v(this.parent.activeCellsData)&&this.parent.activeCellsData.element||i[i.length-1];this.parent.keyboardInteractionModule.selectCells(n instanceof Array,n)}return}var s=this.getSelectedAppointments();if(s.length>0){if(this.parent.activeEventData&&this.parent.activeEventData.element&&s.indexOf(this.parent.activeEventData.element)>-1){this.parent.activeEventData.element.focus();return}s[s.length-1].focus();return}}},r.prototype.selectWorkCellByTime=function(t){var e;if(this.parent.currentView==="Agenda"||this.parent.currentView==="MonthAgenda")return e;if(t.length>0){var i=t[t.length-1],n=i[this.parent.eventFields.startTime],s=void 0,a=this.isAllDayAppointment(i);this.parent.currentView==="Month"||a||!this.parent.activeViewOptions.timeScale.enable?s=new Date(+n).setHours(0,0,0,0):s=this.findNearestSlot(n);var o=void 0;a&&["Day","Week","WorkWeek"].indexOf(this.parent.currentView)!==-1?o=this.parent.getAllDayRow():o=this.parent.getContentTable();var l='[data-date="'+new Date(s).getTime()+'"]';if(!v(this.parent.activeViewOptions.group.resources)&&this.parent.activeViewOptions.group.resources.length>0&&(l+='[data-group-index="'+this.getGroupIndexFromEvent(i)+'"]'),e=o.querySelector(l),e)return this.parent.activeCellsData=this.parent.getCellDetails(e),this.parent.keyboardInteractionModule&&this.parent.keyboardInteractionModule.selectCells(!1,e),e}return e},r.prototype.findNearestSlot=function(t){var e=this.parent.activeViewOptions.timeScale.interval*ls,i=e/this.parent.activeViewOptions.timeScale.slotCount,n=Math.round(cs/i),s=new Date(t);s.setHours(0,0,0,0);var a=Array.from({length:n},function(l,c){var u=new Date(s.getTime()+c*i);return u}),o=a.reduce(function(l,c){var u=Math.abs(t.getTime()-c.getTime());return!l||u<Math.abs(t.getTime()-l.getTime())?c:l},null);return Math.trunc(o.getTime()/1e3)*1e3},r.prototype.getGroupIndexFromEvent=function(t){for(var e,i,n,s,a=this.parent.resourceBase.resourceCollection.length-1;a>=0;a--){var o=t[this.parent.resourceBase.resourceCollection[parseInt(a.toString(),10)].field];if(!v(o)){i=this.parent.resourceBase.resourceCollection[parseInt(a.toString(),10)],e=a,n=i.name,s=i.field;break}}v(n)&&v(e)&&(n=this.parent.resourceCollection.slice(-1)[0].name,e=this.parent.resourceCollection.length-1,s=this.parent.resourceCollection.slice(-1)[0].field,i=this.parent.resourceCollection.filter(function(u,d){return u.name===n?(e=d,u):null})[0]);var l=t[""+s]instanceof Array?t[""+s][0]:t[""+s];if(e>0){var c=this.parent.resourceCollection[e-1].field;return this.parent.resourceBase.getIndexFromResourceId(l,n,i,t,c)}else return this.parent.resourceBase.getIndexFromResourceId(l,n,i)},r.prototype.isAllDayAppointment=function(t){var e=this.parent.eventFields,i=t[e.isAllDay],n=(Ss(t[e.endTime])-Ss(t[e.startTime]))/cs>=1;return!!(i||this.parent.eventSettings.spannedEventPlacement!=="TimeSlot"&&n)},r.prototype.addEventListener=function(){this.parent.on(Qp,this.appointmentBorderRemove,this)},r.prototype.removeEventListener=function(){this.parent.off(Qp,this.appointmentBorderRemove)},r.prototype.appointmentBorderRemove=function(t){var e=t.event.target;if(Fe(e,"."+Ni))this.parent.currentView!=="MonthAgenda"&&this.parent.removeSelectedClass();else if(!Fe(e,"."+la)){if(this.parent.uiStateValues.isTapHold&&Fe(e,"."+ci+",."+tn))return;this.parent.uiStateValues.isTapHold=!1,this.removeSelectedAppointmentClass(),this.parent.selectedElements=[]}},r.prototype.wireAppointmentEvents=function(t,e,i){i===void 0&&(i=!1);var n=v(e)?!1:e[this.parent.eventFields.isReadonly];se.add(t,"click",this.eventClick,this),!this.parent.isAdaptive&&!this.parent.activeViewOptions.readonly&&!n&&(se.add(t,"touchend",this.eventTouchClick,this),se.add(t,"dblclick",this.eventDoubleClick,this)),!this.parent.activeViewOptions.readonly&&!n&&!i&&(this.parent.resizeModule&&this.parent.resizeModule.wireResizeEvent(t),this.parent.dragAndDropModule&&this.parent.dragAndDropModule.wireDragEvent(t))},r.prototype.eventTouchClick=function(t){var e=this;if(this.parent.uiStateValues.isTouchScroll||this.parent.uiStateValues.isTapHold||this.parent.uiStateValues.action){this.parent.uiStateValues.isTouchScroll=this.parent.uiStateValues.isTapHold=!1;return}setTimeout(function(){return e.isDoubleTapped=!1},250),t.preventDefault(),this.isDoubleTapped?this.eventDoubleClick(t):this.isDoubleTapped||(this.isDoubleTapped=!0,this.eventClick(t))},r.prototype.renderResizeHandler=function(t,e,i){if(!(!this.parent.resizeModule||!this.parent.allowResizing||this.parent.activeViewOptions.readonly||i))for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n],o=Be("div",{className:dT});switch(a){case"isLeft":e.isLeft||(o.appendChild(Be("div",{className:"e-left-right-resize"})),pe([o],this.parent.enableRtl?mS:pS),Ln([o],t));break;case"isRight":e.isRight||(o.appendChild(Be("div",{className:"e-left-right-resize"})),pe([o],this.parent.enableRtl?pS:mS),ri([o],t));break;case"isTop":e.isTop||(o.appendChild(Be("div",{className:"e-top-bottom-resize"})),pe([o],JO),Ln([o],t));break;case"isBottom":e.isBottom||(o.appendChild(Be("div",{className:"e-top-bottom-resize"})),pe([o],ZO),ri([o],t));break}}},r.prototype.eventClick=function(t){var e=this,i=t.target;if(!(i.classList.contains(bK)||i.classList.contains(Xj)||i.classList.contains(Gc)))if((t.ctrlKey||t.metaKey)&&t.which===1&&this.parent.keyboardInteractionModule){this.parent.quickPopup.quickPopup.hide(),this.parent.selectedElements=[].slice.call(this.parent.element.querySelectorAll("."+ng));var n=Fe(t.target,"."+Ni);this.getSelectedEventElements(n),this.activeEventData(t,!1);var s={data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:t,requestType:"eventSelect"};this.parent.trigger(Mw,s);var a=qe(this.parent.activeEventData,{cancel:!1,originalEvent:t});this.parent.trigger(h1,a)}else{this.removeSelectedAppointmentClass(),this.activeEventData(t,!0);var o={data:this.parent.activeEventData.event,element:this.parent.activeEventData.element,event:t,requestType:"eventSelect"};this.parent.trigger(Mw,o);var a=qe(this.parent.activeEventData,{cancel:!1,originalEvent:t});this.parent.trigger(h1,a,function(c){if(c.cancel)e.removeSelectedAppointmentClass(),e.parent.selectedElements=[],e.parent.quickPopup&&e.parent.quickPopup.quickPopupHide();else if((e.parent.currentView==="Agenda"||e.parent.currentView==="MonthAgenda")&&pe([e.parent.activeEventData.element],hS),e.parent.allowInline){var u={data:c.event,element:c.element,type:"Event"};e.parent.notify(F1,u)}else e.parent.notify(h1,c)})}},r.prototype.eventDoubleClick=function(t){var e=this;if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),t.type==="touchend"&&this.activeEventData(t,!0),this.removeSelectedAppointmentClass(),this.parent.selectedElements=[],!(this.parent.activeEventData.element.classList.contains(Ew)||this.parent.activeEventData.element.querySelector("."+Gc))){var i=qe(this.parent.activeEventData,{cancel:!1,originalEvent:t});this.parent.trigger(rwe,i,function(n){!n.cancel&&e.parent.eventSettings.allowEditing&&(!v(e.parent.activeEventData.event)&&v(e.parent.activeEventData.event[e.parent.eventFields.recurrenceID])?e.parent.eventWindow.openEditor(e.parent.activeEventData.event,"Save"):(e.parent.currentAction="EditOccurrence",e.parent.quickPopup.openRecurrenceAlert()))})}},r.prototype.getEventByGuid=function(t){return this.parent.eventsProcessed.filter(function(e){return e.Guid===t})[0]},r.prototype.getEventById=function(t){var e=this;return this.parent.eventsData.filter(function(i){return i[e.parent.eventFields.id]===t})[0]},r.prototype.generateGuid=function(){var t=new Uint8Array(32);window.crypto.getRandomValues(t);var e=0;return"xyxxxxyx-xxxy-yxxx-xyxx-xxyxxxxyyxxx".replace(/[xy]/g,function(i){var n=t[e++]&15,s=i==="x"?n:n&3|8;return s.toString(16)})},r.prototype.getEventIDType=function(){return this.parent.eventsData.length!==0?typeof this.parent.eventsData[0][this.parent.eventFields.id]:this.parent.blockData.length!==0?typeof this.parent.blockData[0][this.parent.eventFields.id]:"string"},r.prototype.getEventMaxID=function(t){var e=this;if(this.parent.eventsData.length<1&&this.parent.blockData.length<1)return 1;var i,n=this.getEventIDType();if(n==="string"&&(i=this.generateGuid()),n==="number"){var s=this.parent.eventsData.concat(this.parent.blockData),a=s.map(function(l){return l[e.parent.eventFields.id]}),o=a.reduce(function(l,c){return Math.max(l,c)});o=v(t)?o:o+t,i=o+1}return i},r.prototype.activeEventData=function(t,e){var i=this,n=Fe(t.target,"."+Ni),s=n.getAttribute("data-guid");e&&(this.addSelectedAppointments([].slice.call(this.parent.element.querySelectorAll('div[data-guid="'+s+'"]')),!0),n.focus());var a=this.getEventByGuid(s);a&&a.isSpanned&&(a=this.parent.eventsData.filter(function(o){return o[i.parent.eventFields.id]===a[i.parent.eventFields.id]})[0]),this.parent.activeEventData={event:a,element:n}},r.prototype.generateOccurrence=function(t,e,i){var n=this,s=t[this.parent.eventFields.startTime],a=t[this.parent.eventFields.endTime],o=t[this.parent.eventFields.recurrenceRule],l=a.getTimezoneOffset()-s.getTimezoneOffset(),c=a.getTime()-s.getTime()-l*6e4;e=new Date((e||this.parent.activeView.startDate()).getTime()-c);var u=t[this.parent.eventFields.recurrenceException],d;this.parent.currentView!=="Agenda"&&i&&(d=Mwe(e,this.parent.activeView.endDate())+1);var p=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName(),m=this.parent.activeViewOptions.firstDayOfWeek,y=this.parent.calendarMode;t[this.parent.eventFields.recurrenceRule]&&this.isDayBasedRecurrence(t)&&this.parent.timezone&&t[this.parent.eventFields.startTimezone]&&t[this.parent.eventFields.endTimezone]&&(s=this.parent.tzModule.convert(t[this.parent.eventFields.startTime],this.parent.timezone,t[this.parent.eventFields.startTimezone]));var M=Zj(s,o,u,m,d,e,y,p);this.parent.currentView==="Agenda"&&o.indexOf("COUNT")===-1&&o.indexOf("UNTIL")===-1&&(v(t.generatedDates)?t.generatedDates={start:new Date(M[0]),end:new Date(M[M.length-1])}:(M[0]<t.generatedDates.start.getTime()&&(t.generatedDates.start=new Date(M[0])),M[M.length-1]>t.generatedDates.end.getTime()&&(t.generatedDates.end=new Date(M[M.length-1]))));var w=!1,b=[];t[this.parent.eventFields.recurrenceRule]&&this.isDayBasedRecurrence(t)&&this.parent.timezone&&t[this.parent.eventFields.startTimezone]&&t[this.parent.eventFields.endTimezone]&&(w=!0,b.push.apply(b,M.map(function(C){return n.parent.tzModule.convert(new Date(C),t[n.parent.eventFields.startTimezone],n.parent.timezone).getTime()}))),b=b.length>0?b:M;for(var D=[],E=0,N=b;E<N.length;E++){var B=N[E],P=qe({},t,null,!0);B=w?B:this.getDSTAdjustedTime(B,P),P[this.parent.eventFields.startTime]=new Date(B),P[this.parent.eventFields.endTime]=new Date(new Date(B).setMilliseconds(c)),P[this.parent.eventFields.recurrenceID]=P[this.parent.eventFields.id],delete P[this.parent.eventFields.recurrenceException],delete P[this.parent.eventFields.followingID],P.Guid=this.generateGuid(),D.push(P)}return D},r.prototype.isDayBasedRecurrence=function(t){return t[this.parent.eventFields.recurrenceRule].includes("BYMONTHDAY")||t[this.parent.eventFields.recurrenceRule].includes("BYDAY")},r.prototype.getDSTAdjustedTime=function(t,e){var i=t;if(this.parent.timezone&&(e[this.parent.eventFields.startTimezone]||e[this.parent.eventFields.endTimezone])){var n=this.getDSTDiff(e[this.parent.eventFields.startTime],new Date(t),e[this.parent.eventFields.startTimezone]),s=this.getDSTDiff(e[this.parent.eventFields.startTime],new Date(t),this.parent.timezone);i=new Date(t).getTime()-(n-s)*6e4}return i},r.prototype.getDSTDiff=function(t,e,i){var n=this.parent.tzModule.offset(new Date(t),i),s=this.parent.tzModule.offset(new Date(e),i);return n-s},r.prototype.getParentEvent=function(t,e){e===void 0&&(e=!1);var i;do t=this.getFollowingEvent(t),t&&(i=qe({},t,null,!0));while(t&&e);if(e&&i){var n=this.getEventCollections(i),s=n.follow.slice(-1)[0];n.occurrence.length>0&&!i[this.parent.eventFields.recurrenceException]&&(s=n.occurrence.slice(-1)[0]),s&&(i[this.parent.eventFields.recurrenceRule]=s[this.parent.eventFields.recurrenceRule])}return i},r.prototype.getEventCollections=function(t,e){var i=[],n=[],s=t;do s=this.getFollowingEvent(s,!0),s&&i.push(s),n=n.concat(this.getOccurrenceEvent(s||t));while(s);var a={};if(e){var o=this.parent.eventFields;a={follow:i.filter(function(l){return l[o.startTime]>=e[o.startTime]}),occurrence:n.filter(function(l){return l[o.startTime]>=e[o.startTime]})}}else a={follow:i,occurrence:n};return a},r.prototype.getFollowingEvent=function(t,e){var i=this.parent.eventFields,n;e?n=t[i.id]:n=t[i.recurrenceID]||t[i.followingID];var s=this.parent.eventsData.filter(function(a){return a[e?i.followingID:i.id]===n});return s.shift()},r.prototype.isFollowingEvent=function(t,e){var i=t[this.parent.eventFields.startTime],n=e[this.parent.eventFields.startTime];return i.getHours()===n.getHours()&&i.getMinutes()===n.getMinutes()&&i.getSeconds()===n.getSeconds()},r.prototype.getOccurrenceEvent=function(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var n=e?"Guid":i?this.parent.eventFields.followingID:this.parent.eventFields.recurrenceID,s=e?"Guid":this.parent.eventFields.id,a=e?this.parent.eventsProcessed:this.parent.eventsData;return a.filter(function(o){return o[""+n]===t[""+s]})},r.prototype.getOccurrencesByID=function(t){for(var e=this.parent.eventFields,i=[],n=this.parent.eventsData.filter(function(l){return l[e.id]===t}),s=0,a=n;s<a.length;s++){var o=a[s];v(o[e.recurrenceRule])||(i=i.concat(this.generateOccurrence(o)))}return i},r.prototype.getOccurrencesByRange=function(t,e){for(var i=this.parent.eventFields,n=[],s=0,a=this.parent.eventsData;s<a.length;s++){var o=a[s];v(o[i.recurrenceRule])||(n=n.concat(this.generateOccurrence(o)))}var l=n.filter(function(c){return c[i.startTime]>=t&&c[i.endTime]<=e&&!v(c[i.recurrenceID])});return l},r.prototype.getDeletedOccurrences=function(t){var e=this.parent.eventFields,i,n=[];if(typeof t=="string"||typeof t=="number"?i=this.parent.eventsData.filter(function(u){return u[e.id]===t})[0]:i=qe({},t,null,!0),i[e.recurrenceException])for(var s=i[e.recurrenceException].split(","),a=function(u,d){var p=o.parent.eventsData.filter(function(D){return D[e.recurrenceID]===i[e.id]&&D[e.recurrenceException]===s[parseInt(u.toString(),10)]});if(p.length===0){var m=e3(s[parseInt(u.toString(),10)]),y=qe({},t,null,!0);y[e.recurrenceID]=i[e.id],delete y[e.followingID],y[e.recurrenceException]=s[parseInt(u.toString(),10)];var M=new Date(m.getTime()),w=i[e.endTime].getTime()-i[e.startTime].getTime(),b=new Date(M.getTime());b.setMilliseconds(w),y[e.startTime]=new Date(M.getTime()),y[e.endTime]=new Date(b.getTime()),n.push(y)}},o=this,l=0,c=s.length;l<c;l++)a(l,c);return n},r.prototype.applyResourceColor=function(t,e,i,n,s){if(this.parent.resourceBase){var a=function(l,c){l=l.replace("#","");var u=parseInt(l.substring(0,l.length/3),16),d=parseInt(l.substring(l.length/3,2*l.length/3),16),p=parseInt(l.substring(2*l.length/3,3*l.length/3),16);return"rgba("+u+", "+d+", "+p+", "+c+")"},o=this.parent.resourceBase.getResourceColor(e,n);o&&(t.style[i]=v(s)?o:a(o,s))}},r.prototype.createBlockAppointmentElement=function(t,e,i){var n=t[this.parent.eventFields.subject]||this.parent.eventSettings.fields.subject.default,s=Be("div",{className:U1,attrs:{"data-id":"Appointment_"+t[this.parent.eventFields.id],"aria-disabled":"true"}}),a;if(v(this.parent.activeViewOptions.eventTemplate)){var d=Be("div",{className:Bs});this.parent.sanitize(n,d),a=[d]}else{var o=this.parent.element.id+"_",l=this.parent.activeViewOptions.eventTemplateName,c=o+l+"eventTemplate",u=i&&this.parent.currentView.indexOf("Year")===-1?this.parent.getEventTemplateName(e):"eventTemplate";a=this.parent.getAppointmentTemplate()(t,this.parent,u,c,!1,void 0,void 0,this.parent.root)}return ri(a,s),this.setWrapperAttributes(s,e),s},r.prototype.setWrapperAttributes=function(t,e){v(this.cssClass)||pe([t],this.cssClass),this.parent.activeViewOptions.group.resources.length>0&&t.setAttribute("data-group-index",e.toString())},r.prototype.getReadonlyAttribute=function(t){return(t[this.parent.eventFields.isReadonly]||this.parent.readonly).toString()},r.prototype.isBlockRange=function(t){for(var e=t instanceof Array?t:[t],i=!1,n=this.parent.eventFields,s=0,a=e;s<a.length;s++){var o=a[s],l=[];!v(o[n.recurrenceRule])&&(v(o[n.recurrenceID])||o[n.id]===o[n.recurrenceID])?l=this.generateOccurrence(o):l.push(o);for(var c=0,u=l;c<u.length;c++){var d=u[c],p=this.filterBlockEvents(d);if(p.length>0){i=!0;break}}}return this.parent.uiStateValues.isBlock=i,i},r.prototype.getFilterEventsList=function(t,e){return new ut(t).executeLocal(new di().where(e))},r.prototype.getSeriesEvents=function(t,e){var i=this.parent.eventFields;e=v(e)?t[i.startTime]:e;var n,s,a=[],o=t[i.id],l=t[i.followingID],c,u=this.parent.currentAction==="EditSeries"?"greaterthan":"greaterthanorequal";do c=new Er(i.followingID,"equal",o).and(new Er(i.startTime,u,e)),s=this.getFilterEventsList(this.parent.eventsData,c),n=s.slice(-1)[0],!v(n)&&n[i.id]!==l?(a.push(n),o=n[i.id],l=n[i.followingID]):l=null;while(s.length===1&&!v(n[i.followingID]));return a},r.prototype.getEditedOccurrences=function(t,e){for(var i=this.parent.eventFields,n=[],s,a=0,o=t;a<o.length;a++){var l=o[a],c=new Er(i.recurrenceID,"equal",l[i.id]).or(new Er(i.recurrenceID,"equal",l[i.followingID]).and(new Er(i.recurrenceID,"notequal",void 0)).and(new Er(i.recurrenceID,"notequal",null)));(this.parent.currentAction==="EditFollowingEvents"||this.parent.currentAction==="DeleteFollowingEvents")&&(c=c.and(new Er(i.startTime,"greaterthanorequal",e))),s=this.getFilterEventsList(this.parent.eventsData,c),n=n.concat(s)}return n},r.prototype.getRenderedDates=function(t){var e=0,i=t.length,n,s=v(this.parent.maxDate)?new Date(2099,11,31):this.parent.maxDate,a=v(this.parent.minDate)?new Date(1900,0,1):this.parent.minDate;if(t[0]<a&&t[t.length-1]>s){for(var o=0;o<t.length;o++)Ze(t[parseInt(o.toString(),10)]).getTime()===Ze(new Date(a)).getTime()&&(e=o),Ze(t[parseInt(o.toString(),10)]).getTime()===Ze(new Date(s)).getTime()&&(i=o);n=t.filter(function(l){return l>=t[parseInt(e.toString(),10)]&&l<=t[parseInt(i.toString(),10)]})}return n},r.prototype.isValidEvent=function(t,e,i,n){var s=i.getTime()>n.startHour.getTime()&&e.getTime()<n.endHour.getTime(),a=n.startHour.getTime()<=e.getTime()&&t[this.parent.eventFields.startTime].getTime()>=n.startHour.getTime()&&t[this.parent.eventFields.endTime].getTime()<n.endHour.getTime()&&e.getTime()===i.getTime();return s||a},r.prototype.allDayExpandScroll=function(t){var e=0,i=[].slice.call(this.parent.element.querySelectorAll("."+Jj));i.forEach(function(n){var s=[].slice.call(n.children);s.forEach(function(a){a.style.top=e+"px"}),e+=n.offsetHeight}),e=t.offsetHeight-e,this.parent.element.querySelector("."+tn).style.height=e/12+"em",this.parent.uiStateValues.expand?pe([t],gT):Oe([t],gT)},r.prototype.updateEventMinimumDuration=function(t,e,i){if(e.getTime()<i.getTime()||e.getTime()===i.getTime()&&t.startHour.getTime()<i.getTime()&&t.endHour.getTime()>e.getTime()&&this.parent.currentView.indexOf("Timeline")===-1){var n=(Ss(i)-Ss(e))/ls;if(n<this.parent.eventSettings.minimumEventDuration){var s=new Date(e);if(s.setMinutes(s.getMinutes()+this.parent.eventSettings.minimumEventDuration),i=s,i.getTime()>t.endHour.getTime()){var a=new Date(t.endHour.getTime());a.setMinutes(a.getMinutes()-this.parent.eventSettings.minimumEventDuration),e=a,i=t.endHour}}}return{startDate:e,endDate:i}},r.prototype.createEventWrapper=function(t,e){t===void 0&&(t=""),e===void 0&&(e=0);for(var i=Be("tr"),n=this.parent.activeView.colLevels.slice(-1)[0],s=this.parent.isReact&&this.parent.activeViewOptions.eventTemplate?" "+tw:"",a=0,o=n.length;a<o;a++){var l=n[parseInt(a.toString(),10)],c=Be("td",{className:t==="allDay"?gu+s:t==="timeIndicator"?gK:oS+s,attrs:{"data-date":l.date.getTime().toString()}});if(v(l.groupIndex)||c.setAttribute("data-group-index",l.groupIndex.toString()),t===""){var u=Be("div",{id:kn+"-"+e.toString(),className:kn});c.appendChild(u)}i.appendChild(c),e=e+1}return i},r.prototype.getPageCoordinates=function(t){if(v(t))return t;var e=t.event;return e&&e.changedTouches?e.changedTouches[0]:t.changedTouches?t.changedTouches[0]:e||t},r.prototype.renderSpannedIcon=function(t,e){var i=Be("div",{className:dS+" "+xs});if(e.isLeft){var n=i.cloneNode();pe([n],wK),Ln([n],t)}if(e.isRight){var s=i.cloneNode();pe([s],TK),ri([s],t)}if(e.isTop){var a=i.cloneNode();pe([a],qwe),Ln([a],t)}if(e.isBottom){var o=i.cloneNode();pe([o],Qwe),ri([o],t)}},r.prototype.addCellHeight=function(t,e,i,n,s,a){if(a===void 0&&(a=!0),this.parent.activeViewOptions.maxEventsPerRow&&!this.parent.rowAutoHeight){for(var o=[].slice.call(this.parent.element.querySelectorAll(t)),l=this.parent.showWeekNumber?[].slice.call(this.parent.element.querySelectorAll("."+lS+" tbody tr")):[],c=0,u=o;c<u.length;c++){var d=u[c],p=this.parent.activeViewOptions.maxEventsPerRow*(e+(this.parent.currentView==="Month"?i:2))+n+s;l.length>0&&ui(l[o.indexOf(d)].firstElementChild,{height:p+"px"}),ui(d.firstElementChild,{height:p+"px"})}!this.parent.enablePersistence&&!this.parent.activeViewOptions.allowVirtualScrolling&&a&&this.parent.notify(Mc,{})}},r.prototype.unWireEvents=function(){for(var t=[].slice.call(this.parent.element.querySelectorAll("."+Ni)),e=0,i=t;e<i.length;e++){var n=i[e];se.clearEvents(n)}},r.prototype.destroy=function(){this.unWireEvents(),this.parent=null},r})(),XTe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),o3=(function(r){XTe(t,r);function t(e){var i=r.call(this,e)||this;return i.dateRender=[],i.renderedEvents=[],i.renderedAllDayEvents=[],i.overlapEvents=[],i.moreEvents=[],i.overlapList=[],i.allDayEvents=[],i.slotCount=i.parent.activeViewOptions.timeScale.slotCount,i.interval=i.parent.activeViewOptions.timeScale.interval,i.allDayLevel=0,i.startHour=i.getStartEndHours(i.parent.activeViewOptions.startHour),i.endHour=i.getStartEndHours(i.parent.activeViewOptions.endHour),i.element=i.parent.activeView.getPanel(),i.fields=i.parent.eventFields,i.animation=new fo({progress:i.animationUiUpdate.bind(i)}),i.addEventListener(),i}return t.prototype.renderAppointments=function(){var e=this;if(!v(this.parent)){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.isResourceEventTemplate=this.parent.isSpecificResourceEvents();for(var i=[].slice.call(this.parent.element.querySelectorAll("."+U1+",."+Ni+",."+vM)),n=!!(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction),s=function(m){if(e.parent.isReact&&!v(e.parent.activeViewOptions.eventTemplate)){var y=Fe(m,"."+oS+",."+gu);y&&!y.classList.contains(tw)&&pe([y],tw)}},a=0,o=i;a<o.length;a++){var l=o[a];if(n&&!(l.classList.contains(qo)||l.classList.contains(vM)))for(var c=parseInt(l.getAttribute("data-group-index"),10),u=0,d=this.parent.crudModule.crudObj.sourceEvent.length;u<d;u++)(c===this.parent.crudModule.crudObj.sourceEvent[parseInt(u.toString(),10)].groupIndex||c===this.parent.crudModule.crudObj.targetEvent[parseInt(u.toString(),10)].groupIndex)&&(s(l),ji(l));else s(l),ji(l)}if(this.element.querySelector("."+ci)&&(this.parent.virtualScrollModule&&this.parent.virtualScrollModule.updateFocusedWorkCell(),this.allDayElement=[].slice.call(this.element.querySelectorAll("."+tn)),this.setAllDayRowHeight(0),!(this.parent.eventsProcessed.length===0&&this.parent.blockProcessed.length===0))){var p=this.element.querySelector("."+bw);se.remove(p,"click",this.rowExpandCollapse),se.add(p,"click",this.rowExpandCollapse,this),this.renderedEvents=[],this.renderedAllDayEvents=[],this.initializeValues(),this.processBlockEvents(),this.renderEvents("normalEvents"),this.allDayEvents.length>0&&(this.allDayEvents=this.allDayEvents.filter(function(m,y,M){return y===M.map(function(w){return w.Guid}).indexOf(m.Guid)}),Oe(this.allDayElement,D4),this.slots.push(this.parent.activeView.renderDates.map(function(m){return+m})),this.renderEvents("allDayEvents"),this.animation.animate(this.allDayElement[0])),this.parent.notify(Mc,{}),pe(this.allDayElement,D4),n&&(this.parent.crudModule.crudObj.isCrudAction=!1),this.parent.renderTemplates(function(){if(e.parent&&e.parent.isReact&&e.parent.activeViewOptions.eventTemplate){var m=[].slice.call(e.parent.element.querySelectorAll("."+tw));Oe(m,tw)}})}}},t.prototype.initializeValues=function(){if(this.resources=this.parent.activeViewOptions.group.resources.length>0?this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.lastResourceLevel:[],this.resources.length>0&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.virtualScrollModule&&(this.resources=this.parent.resourceBase.renderedResources),this.cellHeight=parseFloat(this.parent.getElementHeight(this.parent.element.querySelector(".e-content-wrap tbody tr")).toFixed(2)),this.dateRender[0]=this.parent.activeView.renderDates,this.parent.activeViewOptions.group.resources.length>0)for(var e=0,i=this.resources.length;e<i;e++)this.dateRender[parseInt(e.toString(),10)]=this.resources[parseInt(e.toString(),10)].renderDates},t.prototype.getHeight=function(e,i){var n=(Ss(i)-Ss(e))/ls*(this.cellHeight*this.slotCount)/this.interval;return n=n<=0?this.cellHeight:n,n},t.prototype.appendEvent=function(e,i,n,s){var a=this.element.querySelector("."+kn+'[id="'+kn+"-"+n+'"]');this.parent.enableRtl?ui(i,{right:s}):ui(i,{left:s});var o=i.classList.contains(U1)?"blockEvent":"event",l={data:qe({},e,null,!0),element:i,cancel:!1,type:o};this.parent.trigger(P1,l,function(c){c.cancel||a.appendChild(i)})},t.prototype.processBlockEvents=function(){for(var e=this.getResourceList(),i=this.getStartCount(),n=0,s=e;n<s.length;n++)for(var a=s[n],o=this.dateRender[parseInt(a.toString(),10)],l=0,c=o.length;l<c;l++){for(var u=new Date(o[parseInt(l.toString(),10)].getTime()),d=Ze(Zt(o[parseInt(l.toString(),10)],1)),p=this.filterEvents(u,d,this.parent.blockProcessed,this.resources[parseInt(a.toString(),10)]),m=0,y=p;m<y.length;m++){var M=y[m];this.parent.resourceBase&&this.setValues(M,a),this.renderBlockEvents(M,l,a,i),this.cssClass=null,this.groupOrder=null}i+=1}},t.prototype.renderBlockEvents=function(e,i,n,s){var a=this.isSpannedEvent(e,i,n),o=a[this.fields.startTime],l=a[this.fields.endTime],c=Ze(new Date(this.dateRender[parseInt(n.toString(),10)][parseInt(i.toString(),10)].getTime())),u=fc(c,this.startHour,this.endHour);if(o<=l&&this.isValidEvent(e,o,l,u)&&this.isWorkDayAvailable(n,o)){var d=void 0,p=void 0;if(a[this.fields.isAllDay]){var m=this.parent.element.querySelector("."+lr+" table");p=bt(m.offsetHeight),d=bt(0)}else p=bt(this.getHeight(o,l)),d=bt(this.getTopValue(o));e.IsBlock&&(p=bt(parseInt(p,10)-1));var y=this.createBlockAppointmentElement(e,n,this.isResourceEventTemplate),M=e.IsBlock?"99%":"100%";ui(y,{width:M,height:p,top:d});var w=this.getDayIndex(i,n,s),b=e.IsBlock?"0.5px":"0px";this.appendEvent(e,y,w,b)}},t.prototype.renderEvents=function(e){Oe(this.allDayElement,D4);for(var i=e==="allDayEvents"?this.sortByDateTime(this.allDayEvents):void 0,n=this.getResourceList(),s=this.getStartCount(),a,o=e==="allDayEvents"?this.parent.getElementHeightFromClass(this.element.querySelector("."+gu),Ni):0,l=e==="allDayEvents"&&this.allDayElement.length>0?this.allDayElement[0].offsetTop:0,c=function(y){a=!0,u.parent.crudModule&&u.parent.crudModule.crudObj.isCrudAction&&e!=="allDayEvents"&&!u.parent.uiStateValues.isGroupAdaptive&&u.parent.crudModule.crudObj.sourceEvent.filter(function(z){return z.groupIndex===y}).length===0&&u.parent.crudModule.crudObj.targetEvent.filter(function(z){return z.groupIndex===y}).length===0&&(a=!1),u.slots=[];var M=u.dateRender[parseInt(y.toString(),10)],w=u.getRenderedDates(M)||M;u.slots.push(M.map(function(z){return+z}));for(var b=0,D=M.length;b<D&&M[parseInt(b.toString(),10)]<=w[w.length-1];b++){u.renderedEvents=[];var E=new Date(M[parseInt(b.toString(),10)].getTime()),N=Ze(Zt(M[parseInt(b.toString(),10)],1)),B=u.filterEvents(E,N,i,u.resources[parseInt(y.toString(),10)]);if(a)for(var P=0,C=B;P<C.length;P++){var k=C[P];if(u.parent.resourceBase&&u.setValues(k,y),e==="allDayEvents")u.renderAllDayEvents(k,b,y,s,!1,l,o);else if(u.isAllDayAppointment(k))u.allDayEvents.push(qe({},k,null,!0));else{if(u.parent.eventSettings.enableMaxHeight&&u.getOverlapIndex(k,b,!1,y)>0)continue;u.renderNormalEvents(k,b,y,s)}u.cssClass=null,u.groupOrder=null}else for(var _=0,H=B;_<H.length;_++){var j=H[_];u.isAllDayAppointment(j)&&u.allDayEvents.push(qe({},j,null,!0))}s+=1}},u=this,d=0,p=n;d<p.length;d++){var m=p[d];c(m)}},t.prototype.getStartCount=function(){return this.parent.virtualScrollModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.timeScale.enable?parseInt(this.element.querySelector("."+kn).getAttribute("id").split("-").slice(-1)[0],10):0},t.prototype.getDayIndex=function(e,i,n){var s=this;if(!this.parent.activeViewOptions.group.byDate)return n;if(this.parent.activeViewOptions.group.byDate&&!this.parent.activeViewOptions.group.hideNonWorkingDays){var a=this.parent.resourceBase.lastResourceLevel[0].renderDates.indexOf(this.dateRender[parseInt(i.toString(),10)][parseInt(e.toString(),10)]);return this.resources.length*a+i}for(var o=0,l=this.parent.activeView.colLevels[0],c=this.dateRender[parseInt(i.toString(),10)][parseInt(e.toString(),10)].getTime(),u=[],d=0;d<l.length&&(u=this.parent.resourceBase.resourceDateTree[parseInt(d.toString(),10)],c!==l[parseInt(d.toString(),10)].date.getTime());d++)o=o+l[parseInt(d.toString(),10)].colSpan;var p=u.findIndex(function(m){return m.groupOrder.toString()===s.resources[parseInt(i.toString(),10)].groupOrder.toString()});return p<0?o:o+p},t.prototype.setValues=function(e,i){this.parent.activeViewOptions.group.resources.length>0?(this.cssClass=this.resources[parseInt(i.toString(),10)].cssClass,this.groupOrder=this.resources[parseInt(i.toString(),10)].groupOrder):this.cssClass=this.parent.resourceBase.getCssClass(e)},t.prototype.getResourceList=function(){var e=Array.apply(null,{length:this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.resources.length:1}).map(function(i,n){return n});return e},t.prototype.createAppointmentElement=function(e,i,n,s){var a=this.parent.eventFields,o=e[a.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),l=Be("div",{className:Ni,attrs:{"data-id":"Appointment_"+e[a.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-disabled":this.parent.eventBase.getReadonlyAttribute(e),"aria-label":this.parent.getAnnouncementString(e)}});e[this.fields.isReadonly]&&pe([l],"e-read-only");var c=Be("div",{className:LN});if(l.appendChild(c),this.parent.activeViewOptions.group.resources.length>0){var u=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:s;l.setAttribute("data-group-index",u.toString())}var d,p=n;if(v(this.parent.activeViewOptions.eventTemplate)){var D=Be("div",{className:Bs});if(this.parent.sanitize(o,D),i)if(e[a.isAllDay])d=[D];else{d=[];var E=Be("div",{className:tf+(this.parent.isAdaptive?" "+hn:""),innerHTML:this.parent.getTimeString(e[a.startTime])}),N=Be("div",{className:tf+(this.parent.isAdaptive?" "+hn:""),innerHTML:this.parent.getTimeString(e[a.endTime])});pe([D],"e-text-center"),p.isLeft||d.push(E),d.push(D),p.isRight||d.push(N)}else{var B=this.parent.getTimeString(e[a.startTime])+" - "+this.parent.getTimeString(e[a.endTime]),P=Be("div",{className:tf+(this.parent.isAdaptive?" "+hn:""),innerHTML:B}),C=Be("div",{className:G0});this.parent.sanitize(e[a.location]||this.parent.eventSettings.fields.location.default||"",C),d=[D,P,C]}}else{var m=this.parent.element.id+"_",y=this.parent.activeViewOptions.eventTemplateName,M=m+y+"eventTemplate",w=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:s,b=this.isResourceEventTemplate?this.parent.getEventTemplateName(w):"eventTemplate";d=this.parent.getAppointmentTemplate()(e,this.parent,b,M,!1,void 0,void 0,this.parent.root)}if(ri(d,c),!this.parent.isAdaptive&&(!v(e[a.recurrenceRule])||!v(e[a.recurrenceID]))){var k=e[a.id]===e[a.recurrenceID]?fT:pT,_=Be("div",{className:xs+" "+k});i?c.appendChild(_):l.appendChild(_)}return this.parent.eventBase.renderSpannedIcon(i?c:l,p),v(this.cssClass)||pe([l],this.cssClass),this.applyResourceColor(l,e,"backgroundColor",this.groupOrder),this.renderResizeHandler(l,p,e[this.fields.isReadonly]),l},t.prototype.createMoreIndicator=function(e,i,n){var s=n+i,a=e[parseInt(s.toString(),10)];if(a.childElementCount<=0){var o=Be("div",{className:vM,id:vM+"-"+s.toString()}),l=Be("div",{className:Gl,attrs:{tabindex:"0","data-index":s.toString(),"data-count":"1"},innerHTML:"+1&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))});o.appendChild(l),a.appendChild(o),se.add(l,"click",this.rowExpandCollapse,this)}else{var c=a.querySelector("."+Gl),u=parseInt(c.getAttribute("data-count"),10)+1;c.setAttribute("data-count",u.toString()),c.innerHTML="+"+this.parent.globalize.formatNumber(u)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))}},t.prototype.isSpannedEvent=function(e,i,n){var s=Ze(this.dateRender[parseInt(n.toString(),10)][parseInt(i.toString(),10)]),a=this.getRenderedDates(this.dateRender[parseInt(n.toString(),10)])||[s],o=a.filter(function(p){return p.getDay()===i});o.length===0&&(s=Ze(a[0]));var l=this.parent.eventFields,c=fc(s,this.startHour,this.endHour),u=qe({},e,null,!0);u.isSpanned={isBottom:!1,isTop:!1,isSameDuration:u[l.startTime].getTime()===u[l.endTime].getTime()},e[l.startTime].getTime()<c.startHour.getTime()&&(u[l.startTime]=c.startHour,u.isSpanned.isTop=!0),e[l.endTime].getTime()>c.endHour.getTime()&&(u[l.endTime]=c.endHour,u.isSpanned.isBottom=!0);var d=this.updateEventMinimumDuration(c,u[l.startTime],u[l.endTime]);return u[l.startTime]=d.startDate,u[l.endTime]=d.endDate,u},t.prototype.isWorkDayAvailable=function(e,i){if(this.parent.activeViewOptions.group.hideNonWorkingDays&&this.resources.length>0){var n=this.resources[parseInt(e.toString(),10)].resourceData[this.resources[parseInt(e.toString(),10)].resource.workDaysField]||this.parent.activeViewOptions.workDays;return n&&n.indexOf(i.getDay())>=0}return!0},t.prototype.renderAllDayEvents=function(e,i,n,s,a,o,l){var c=this,u=this.getRenderedDates(this.dateRender[parseInt(n.toString(),10)])||this.dateRender[parseInt(n.toString(),10)];this.parent.activeViewOptions.group.byDate&&(this.slots[0]=[this.dateRender[parseInt(n.toString(),10)][parseInt(i.toString(),10)].getTime()],u=[this.dateRender[parseInt(n.toString(),10)][parseInt(i.toString(),10)]]);var d=this.splitEvent(e,u)[0],p=new Date(d[this.parent.eventFields.startTime].getTime()),m=new Date(d[this.parent.eventFields.endTime].getTime());if(!(p.getTime()<this.parent.minDate.getTime()||m.getTime()>this.parent.maxDate.getTime())){var y=0,M=1,w=u[0].getTime()<=p.getTime()&&Zt(u.slice(-1)[0],1).getTime()>=p.getTime();if(p<=m&&w&&this.isWorkDayAvailable(n,p)){var b=[];if(this.renderedAllDayEvents[parseInt(n.toString(),10)]&&(b=this.renderedAllDayEvents[parseInt(n.toString(),10)].filter(function(j){return j.Guid===e.Guid}),this.parent.activeViewOptions.group.byDate&&(b=b.filter(function(j){return j[c.parent.eventFields.startTime]>=u[parseInt(i.toString(),10)]&&j[c.parent.eventFields.endTime]<=Zt(new Date(+u[parseInt(i.toString(),10)]),1)}))),b.length===0){var D=d.data.count,E=this.getOverlapIndex(d,i,!0,n);d.Index=E,this.allDayLevel=this.allDayLevel<E?E:this.allDayLevel;var N=d.data.isRight?0:this.parent.currentView==="Day"?4:7;D>=0&&(y=D*100-(this.parent.activeViewOptions.allowOverlap?N:0)),v(this.renderedAllDayEvents[parseInt(n.toString(),10)])&&(this.renderedAllDayEvents[parseInt(n.toString(),10)]=[]),this.renderedAllDayEvents[parseInt(n.toString(),10)].push(qe({},d,null,!0));var B=[].slice.call(this.element.querySelector("."+ef).children),P=this.getDayIndex(i,n,s),C=this.element.querySelector("."+gu+":nth-child("+(P+1)+")"),k;a?k=this.parent.inlineModule.createInlineAppointmentElement(e):k=this.createAppointmentElement(e,!0,d.data,n),pe([k],qo);var _=qe({},d.data,null,!0);e.data=_;var H={data:e,element:k,cancel:!1};this.parent.trigger(P1,H,function(j){if(!j.cancel){if(C.appendChild(k),M+=(E===0?o:o+E*l)+1,ui(k,{width:y+"%",top:bt(M)}),E>1){c.moreEvents.push(k);for(var z=0,F=D;z<F;z++)c.createMoreIndicator(B,z,P)}c.allDayElement[0].setAttribute("data-count",c.allDayLevel.toString());var X=(!c.parent.uiStateValues.expand&&c.allDayLevel>2?3*l:(c.allDayLevel+1)*l)+4;c.setAllDayRowHeight(X),c.addOrRemoveClass(),c.wireAppointmentEvents(k,e)}})}}}},t.prototype.renderNormalEvents=function(e,i,n,s,a){var o=this.isSpannedEvent(e,i,n),l=o[this.fields.startTime],c=o[this.fields.endTime],u="0%",d="0%",p=0,m=Ze(new Date(this.dateRender[parseInt(n.toString(),10)][parseInt(i.toString(),10)].getTime())),y=fc(m,this.startHour,this.endHour),M=this.isValidEvent(e,l,c,y);if(!(l.getTime()<this.parent.minDate.getTime()||c.getTime()>Zt(this.parent.maxDate,1).getTime())&&l<=c&&M&&this.isWorkDayAvailable(n,l)){var w=o.isSpanned.isSameDuration?this.cellHeight:this.getHeight(l,c);l.getTime()>=y.startHour.getTime()&&(p=this.getTopValue(l));var b=this.getOverlapIndex(o,i,!1,n);o.Index=b,this.overlapList.push(o),this.overlapList.length>1?(v(this.overlapEvents[parseInt(b.toString(),10)])&&(this.overlapEvents[parseInt(b.toString(),10)]=[]),this.overlapEvents[parseInt(b.toString(),10)].push(o)):(this.overlapEvents=[],this.overlapEvents.push([o])),u=this.getEventWidth();var D={index:b,left:d,width:u,day:s,dayIndex:i,record:o,resource:n},E=this.adjustOverlapElements(D);u=E.appWidth,v(this.renderedEvents[parseInt(n.toString(),10)])&&(this.renderedEvents[parseInt(n.toString(),10)]=[]),this.renderedEvents[parseInt(n.toString(),10)].push(qe({},o,null,!0));var N=void 0;a?N=this.parent.inlineModule.createInlineAppointmentElement(e):N=this.createAppointmentElement(e,!1,o.isSpanned,n),ui(N,{width:this.parent.eventSettings.enableMaxHeight||!this.parent.activeViewOptions.allowOverlap?"100%":E.appWidth,height:w+"px",top:p+"px"});var B=N.querySelectorAll("."+dS).length*15,P=w-40-B,C=N.querySelector("."+Bs);!this.parent.isAdaptive&&C&&(C.style.maxHeight=bt(P));var k=this.getDayIndex(i,n,s),_={};_[this.fields.startTime]=e[this.fields.startTime],_[this.fields.endTime]=e[this.fields.endTime],o.data=_,this.appendEvent(o,N,k,E.appLeft),this.wireAppointmentEvents(N,e)}},t.prototype.getEventWidth=function(){var e=this.parent.currentView==="Day"?97:94,i=(e-this.overlapEvents.length)/this.overlapEvents.length;return(i<0?0:i)+"%"},t.prototype.getEventLeft=function(e,i){var n=(parseFloat(e)+1)*i;return(n>99?99:n)+"%"},t.prototype.getStartEndHours=function(e){if(!v(e)&&e!==""){var i=new Date(2e3,0,0,0),n=e.split(":");return n.length===2&&i.setHours(parseInt(n[0],10),parseInt(n[1],10),0),i}return null},t.prototype.getTopValue=function(e){var i=this.getStartEndHours(this.parent.activeViewOptions.startHour),n=(e.getHours()-i.getHours())*60+(e.getMinutes()-i.getMinutes());return this.parent.activeViewOptions.timeScale.enable?n*this.cellHeight*this.slotCount/this.interval:0},t.prototype.getOverlapIndex=function(e,i,n,s){var a=this,o=this.parent.eventFields,l=[],c=-1;if(this.overlapEvents=[],n){if(!v(this.renderedAllDayEvents[parseInt(s.toString(),10)])){var u=Ze(new Date(this.dateRender[parseInt(s.toString(),10)][parseInt(i.toString(),10)].getTime()));l=this.renderedAllDayEvents[parseInt(s.toString(),10)].filter(function(k){return Ze(k[o.startTime]).getTime()<=u.getTime()&&Ze(k[o.endTime]).getTime()>=u.getTime()}),this.parent.activeViewOptions.group.resources.length>0&&(l=this.filterEventsByResource(this.resources[parseInt(s.toString(),10)],l))}}else{var d=v(this.renderedEvents[parseInt(s.toString(),10)])?[]:this.renderedEvents[parseInt(s.toString(),10)],p=[],m=e[o.startTime],y=e[o.endTime];this.overlapList=d.filter(function(k){return k[o.endTime]>m&&k[o.startTime]<=y||k[o.startTime]>=y&&k[o.endTime]<=m||k[o.endTime].getTime()===k[o.startTime].getTime()&&k[o.startTime].getTime()===m.getTime()&&k[o.endTime]<y}),this.parent.activeViewOptions.group.resources.length>0&&(this.overlapList=this.filterEventsByResource(this.resources[parseInt(s.toString(),10)],this.overlapList));var M=[];this.overlapList.forEach(function(k){var _=[],H=new Set;for(M.push(k),H.add(k[o.id]),_.push(k);M.length>0;)for(var j=M.shift(),z=j[o.endTime].getTime(),F=j[o.startTime].getTime(),X=0,J=d;X<J.length;X++){var U=J[X],W=U[o.startTime].getTime(),re=U[o.endTime].getTime();if(W>=z)break;H.has(U[o.id])||re>F&&W<z&&(_.push(U),H.add(U[o.id]),M.push(U))}a.parent.activeViewOptions.group.resources.length>0&&(_=a.filterEventsByResource(a.resources[parseInt(s.toString(),10)],_));var Z=_.filter(function(Ee){return a.overlapList.indexOf(Ee)===-1});Z.length>0&&(p=p.concat(Z))});for(var w=0;w<p.length-1;w++)for(var b=w+1;b<p.length;b++)p[parseInt(w.toString(),10)][o.id]===p[parseInt(b.toString(),10)][o.id]&&(p.splice(b,1),b--);this.overlapList=this.overlapList.concat(p),l=this.overlapList;for(var D=0,E=l;D<E.length;D++){var N=E[D],B=N,P=B.Index;v(this.overlapEvents[parseInt(P.toString(),10)])?this.overlapEvents[parseInt(P.toString(),10)]=[N]:this.overlapEvents[parseInt(P.toString(),10)].push(N)}}if(n||(l=l.filter(function(k){return k[o.startTime]===e[o.startTime]&&k[o.endTime]>e[o.endTime]||k[o.endTime]>e[o.startTime]&&k[o.startTime]<e[o.endTime]||k[o.endTime]===e[o.startTime]&&k[o.startTime]===e[o.endTime]||k[o.startTime].getTime()===e[o.startTime].getTime()&&k[o.endTime].getTime()===e[o.endTime].getTime()||k[o.startTime].getTime()===e[o.startTime].getTime()&&k[o.endTime].getTime()<e[o.endTime].getTime()||k[o.endTime].getTime()>e[o.endTime].getTime()})),l.length>0){var C=l.map(function(k){return k.Index});c=C.length>0?this.getSmallestMissingNumber(C):0}return c===-1?0:c},t.prototype.adjustOverlapElements=function(e){for(var i={appWidth:e.width,appLeft:e.left},n=0,s=this.overlapEvents.length;n<s;n++)if(!v(this.overlapEvents[parseInt(n.toString(),10)]))for(var a=0,o=this.overlapEvents[parseInt(n.toString(),10)].length;a<o;a++){var l=this.getDayIndex(e.dayIndex,e.resource,e.day),c=this.element.querySelector("#e-appointment-wrapper-"+l);if(c&&c.childElementCount>0){var u=this.overlapEvents[parseInt(n.toString(),10)][parseInt(a.toString(),10)].Guid;if(c.querySelectorAll('div[data-guid="'+u+'"]').length>0&&u!==e.record.Guid){var d=c.querySelector('div[data-guid="'+u+'"]');parseFloat(e.width)<=parseFloat(d.style.width)&&(this.parent.enableRtl?d.style.right=this.getEventLeft(e.width,n):d.style.left=this.getEventLeft(e.width,n),d.style.width=parseFloat(e.width)+"%"),i.appWidth=d.style.width}else{var p=e.width;v(this.overlapEvents[n-1])&&(p=this.getEventWidth()),i.appWidth=p,i.appLeft=this.getEventLeft(p,e.index)}}}return i},t.prototype.setAllDayRowHeight=function(e){var i=this.parent.element.querySelector("."+Au);(this.parent.height==="auto"||!this.parent.enableAllDayScroll)&&pe([i],rA);var n=this.parent.element.querySelector("."+ef);if(n.style.height="",this.parent.uiStateValues.expand&&this.parent.height!=="auto"&&this.parent.enableAllDayScroll)n.style.height=e/12+"em",this.parent.eventBase.allDayExpandScroll(i);else{for(var s=0,a=this.allDayElement;s<a.length;s++){var o=a[s];o.style.height=e/12+"em"}Oe([i],gT)}},t.prototype.addOrRemoveClass=function(){var e=this;this.moreEvents.filter(function(s){!e.parent.uiStateValues.expand&&e.allDayLevel>2?(pe([s],gV),s.setAttribute("tabindex","-1")):(Oe([s],gV),s.setAttribute("tabindex","0"))});var i=this.element.querySelector("."+bw);this.parent.uiStateValues.expand?(Oe([i],iA),pe([i],vV)):(Oe([i],vV),pe([i],iA)),this.allDayLevel>2?Oe([i],hn):pe([i],hn);var n=[].slice.call(this.element.querySelectorAll("."+vM));n.forEach(function(s){!e.parent.uiStateValues.expand&&e.allDayLevel>2?Oe([s],hn):pe([s],hn)})},t.prototype.getEventHeight=function(){var e=Be("div",{className:Ni,styles:"visibility:hidden"}),i=this.element.querySelector("."+gu+":first-child");i.appendChild(e);var n=e.offsetHeight;return ji(e),n},t.prototype.rowExpandCollapse=function(){var e=this.element.querySelector("."+bw);this.parent.uiStateValues.expand=e.classList.contains(iA);var i;this.parent.uiStateValues.expand?(e.setAttribute("title",this.parent.localeObj.getConstant("collapseAllDaySection")),e.setAttribute("aria-label",this.parent.localeObj.getConstant("collapseAllDaySection")),i=(this.allDayLevel+1)*this.getEventHeight()+4):(e.setAttribute("title",this.parent.localeObj.getConstant("expandAllDaySection")),e.setAttribute("aria-label",this.parent.localeObj.getConstant("expandAllDaySection")),i=3*this.getEventHeight()+4,this.parent.element.querySelector("."+Au).scrollTop=0),this.setAllDayRowHeight(i),this.animation.animate(this.allDayElement[0]),this.addOrRemoveClass(),this.animation.animate(e)},t.prototype.animationUiUpdate=function(){this.parent.notify(Mc,{})},t.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.removeEventListener(),this.allDayElement=null,this.renderedAllDayEvents=null,this.renderedEvents=null,this.slotCount=null,this.interval=null,this.startHour=null,this.endHour=null,this.element=null,this.fields=null,this.animation=null,r.prototype.destroy.call(this))},t})(a3),JTe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),C4=0,ex=(function(r){JTe(t,r);function t(e){var i=r.call(this,e)||this;return i.renderedEvents=[],i.monthHeaderHeight=0,i.moreIndicatorHeight=19,i.renderType="day",i.element=i.parent.activeView.getPanel(),i.fields=i.parent.eventFields,i.maxHeight=i.parent.eventSettings.enableMaxHeight&&!i.parent.eventSettings.enableIndicator&&!i.parent.rowAutoHeight,i.withIndicator=i.parent.eventSettings.enableMaxHeight&&i.parent.eventSettings.enableIndicator&&!i.parent.rowAutoHeight,i.maxOrIndicator=i.maxHeight||i.withIndicator,i.moreIndicatorHeight=i.parent.rowAutoHeight&&i.parent.eventSettings.ignoreWhitespace?0:i.moreIndicatorHeight,i.addEventListener(),i}return t.prototype.removeEventWrapper=function(e){if(e.length>0){e=this.parent.currentView==="Month"||!this.parent.activeView.isTimelineView()&&!this.parent.activeViewOptions.timeScale.enable?e:[e[0]];for(var i=0,n=e;i<n.length;i++){var s=n[i];s.parentElement&&s.parentElement.parentNode&&ji(s.parentElement)}}},t.prototype.renderAppointments=function(){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.isResourceEventTemplate=this.parent.isSpecificResourceEvents();var e=this.parent.element.querySelector("."+lr);this.parent.rowAutoHeight&&(this.parent.uiStateValues.top=e.scrollTop,this.parent.uiStateValues.left=e.scrollLeft);var i=[].slice.call(this.element.querySelectorAll("."+kn));if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction)for(var n=0,s=this.parent.crudModule.crudObj.sourceEvent.length;n<s;n++){var a=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.sourceEvent[parseInt(n.toString(),10)].groupIndex+'"]'));if(this.removeEventWrapper(a),this.parent.crudModule.crudObj.targetEvent[parseInt(n.toString(),10)]&&this.parent.crudModule.crudObj.sourceEvent[parseInt(n.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(n.toString(),10)].groupIndex){var o=[].slice.call(this.element.querySelectorAll('.e-appointment-wrapper [data-group-index="'+this.parent.crudModule.crudObj.targetEvent[parseInt(n.toString(),10)].groupIndex+'"]'));this.removeEventWrapper(o)}}else for(var l=0,c=i;l<c.length;l++){var u=c[l];ji(u)}if(this.removeHeightProperty(_n),!!this.element.querySelector("."+ci)){if(this.parent.currentView==="Month"){var d=Be("div",{className:kn}),p=this.parent.element.querySelector("."+ci);p.appendChild(d),this.monthHeaderHeight=d.offsetTop-p.offsetTop,p.removeChild(d)}this.eventHeight=this.parent.getElementHeightFromClass(this.element,Ni);var m="."+_n+" tbody tr";this.addCellHeight(m,this.eventHeight,this.parent.currentView==="Month"?C4:2,this.monthHeaderHeight,this.moreIndicatorHeight);var y=e.scrollTop;if(this.parent.rowAutoHeight&&this.parent.virtualScrollModule&&!this.parent.virtualScrollModule.isHorizontalScroll&&!v(this.parent.currentAction)&&(e.scrollTop=e.scrollTop-1),this.parent.activeViewOptions.group.resources.length>0?(this.renderResourceEvents(),this.parent.virtualScrollModule&&this.parent.virtualScrollModule.updateFocusedWorkCell()):this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays),this.parent.rowAutoHeight){this.updateBlockElements();var M={cssProperties:this.parent.getCssProperties(),module:this.parent.getModuleName(),isPreventScrollUpdate:!0,scrollPosition:{left:this.parent.uiStateValues.left,top:this.parent.uiStateValues.top}};if(this.parent.virtualScrollModule&&!this.parent.virtualScrollModule.isHorizontalScroll&&(this.parent.currentAction?(e.scrollTop=y,this.parent.currentAction=null):this.parent.virtualScrollModule.updateVirtualScrollHeight()),this.parent.enablePersistence||this.parent.notify(Mc,{}),this.parent.notify(dd,M),this.parent.currentView==="Month"&&this.parent.showWeekNumber){var w=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child")),b=[].slice.call(this.parent.element.querySelectorAll("td."+kN));b.forEach(function(E,N){var B=w[parseInt(N.toString(),10)].offsetHeight;ui(E,{height:B+"px"})});var D=this.parent.element.querySelector("."+lS);v(D)||(D.scrollTop=this.parent.element.querySelector("."+lr).scrollTop)}}this.parent.renderTemplates()}},t.prototype.renderEventsHandler=function(e,i,n){this.renderedEvents=[];var s,a,o=0;if(n?(o=n.groupIndex,this.cssClass=n.cssClass,this.groupOrder=n.groupOrder,s=this.parent.eventBase.filterEventsByResource(n,this.parent.eventsProcessed),a=this.parent.eventBase.filterEventsByResource(n,this.parent.blockProcessed),this.workCells=[].slice.call(this.element.querySelectorAll("."+ci+'[data-group-index="'+o+'"]'))):(s=this.parent.eventsProcessed,a=this.parent.blockProcessed,this.workCells=[].slice.call(this.element.querySelectorAll("."+ci))),this.sortByDateTime(s),this.sortByDateTime(a),this.parent.currentView==="Month"&&this.parent.rowAutoHeight&&this.parent.activeViewOptions.group.resources.length===0){var l=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap table tr td:first-child")),c=this.parent.element.querySelector("."+_n).clientHeight/l.length;l.forEach(function(k){ui(k,{height:c+"px"})})}var u=this.workCells[this.parent.activeView.isTimelineView()?0:this.workCells.length-1];this.cellWidth=this.parent.getElementWidth(u),this.cellHeight=this.parent.getElementHeight(u),this.dateRender=e;var d=this.getRenderedDates(e);this.getSlotDates(i||this.parent.activeViewOptions.workDays),this.processBlockEvents(a,o,n);for(var p=[],m=0,y=s;m<y.length;m++){var M=y[m];this.parent.resourceBase&&!n&&(this.cssClass=this.parent.resourceBase.getCssClass(M)),p=p.concat(this.splitEvent(M,d||this.dateRender))}for(var w=0;w<this.slots.length;w++){this.renderedEvents=[];for(var b=this.slots[parseInt(w.toString(),10)],D=Zt(new Date(b[b.length-1]),1),E=this.filterEvents(new Date(b[0]),D,p),N=0,B=E;N<B.length;N++){var P=B[N];if(this.maxHeight){var C=this.parent.currentView==="Month"?P[this.fields.startTime]:this.getStartTime(P,P.data);if(this.getIndex(C)>0)continue}this.updateIndicatorIcon(P),this.renderEvents(P,o,s)}}this.cssClass=null,this.groupOrder=null},t.prototype.processBlockEvents=function(e,i,n){for(var s=0,a=e;s<a.length;s++){var o=a[s];this.parent.resourceBase&&!n&&(this.cssClass=this.parent.resourceBase.getCssClass(o));var l=[];if(this.renderType==="day"&&!o[this.fields.isAllDay]){var c=qe({},o,null,!0),u=this.isSameDate(c[this.fields.startTime],c[this.fields.endTime]);if(c.isBlockIcon=u,!u&&lg(c[this.fields.startTime])>0){var d=qe({},o,null,!0);d[this.fields.endTime]=Zt(Ze(new Date(o[this.fields.startTime]+"")),1),d.isBlockIcon=!0,c[this.fields.startTime]=d[this.fields.endTime],l.push(d)}if(u=this.isSameDate(c[this.fields.startTime],c[this.fields.endTime]),!u&&lg(c[this.fields.endTime])>0){var d=qe({},o,null,!0);d[this.fields.startTime]=Ze(new Date(o[this.fields.endTime]+"")),d.isBlockIcon=!0,l.push(d),c[this.fields.endTime]=d[this.fields.startTime]}l.push(c)}else l.push(o);for(var p=0,m=l;p<m.length;p++)for(var y=m[p],M=this.splitEvent(y,this.dateRender),w=0,b=M;w<b.length;w++){var D=b[w];this.renderBlockEvents(D,i,!!y.isBlockIcon)}}},t.prototype.isSameDate=function(e,i){return new Date(+e).setHours(0,0,0,0)===new Date(+i).setHours(0,0,0,0)},t.prototype.renderBlockEvents=function(e,i,n){var s=e.data,a=this.getStartTime(e,s),o=this.getEndTime(e,s),l=this.parent.getIndexOfDate(this.dateRender,Ze(new Date(a.getTime())));if(!(l<0||a>o)){var c=this.getCellTd(l),u=this.getPosition(a,o,e[this.fields.isAllDay],l);if(n)this.renderBlockIndicator(c,u,i);else{var d=s.count,p=this.getEventWidth(a,o,e[this.fields.isAllDay],d);p=p<=0?this.cellWidth:p,p=e.IsBlock?p-1:p;var m=this.parent.enableRtl?0:e.IsBlock?u+1:u,y=this.parent.enableRtl?e.IsBlock?u+1:u:0,M=this.cellHeight-this.monthHeaderHeight;M=e.IsBlock?M-1:M;var w=this.getRowTop(i),b=this.createBlockAppointmentElement(e,i,this.isResourceEventTemplate);ui(b,{width:p+"px",height:M+"px",left:m+"px",right:y+"px",top:w+"px"}),this.renderEventElement(e,b,c)}}},t.prototype.renderBlockIndicator=function(e,i,n){var s=Be("div",{className:"e-icons "+cS});v(e.querySelector("."+cS))&&e.appendChild(s)},t.prototype.getStartTime=function(e,i){return e[this.fields.startTime]},t.prototype.getEndTime=function(e,i){return e[this.fields.endTime]},t.prototype.getCellTd=function(e){return this.workCells[parseInt(e.toString(),10)]},t.prototype.getEventWidth=function(e,i,n,s){return s*this.cellWidth-1},t.prototype.getPosition=function(e,i,n,s){return 0},t.prototype.getRowTop=function(e){return 0},t.prototype.updateIndicatorIcon=function(e){if(!(this.parent.currentView.indexOf("Timeline")===-1||this.parent.currentView==="TimelineMonth"||e[this.fields.isAllDay])){var i=e.data,n=this.parent.activeView.getStartHour(),s=this.parent.activeView.getEndHour(),a=fc(e[this.fields.startTime],n,s),o=fc(e[this.fields.endTime],n,s),l=i[this.fields.startTime],c=i[this.fields.endTime];if(i.isLeft=i.isLeft||l.getTime()<a.startHour.getTime(),i.isRight=i.isRight||c.getTime()>o.endHour.getTime(),Ze(l).getTime()!==Ze(c).getTime()){var u=a.startHour,d=o.endHour,p=new Date(Ze(l));if(p.setHours(d.getHours(),d.getMinutes(),d.getSeconds()),i.isLeft=i.isLeft||l.getTime()>=(u.getDate()===a.endHour.getDate()?p.getTime():Zt(p,1).getTime()),c.getTime()!==Ze(c).getTime()){var m=new Date(Ze(c));i.isRight=i.isRight||c.getTime()<=m.setHours(u.getHours(),u.getMinutes(),u.getSeconds())}}}},t.prototype.renderResourceEvents=function(){var e=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.renderedResources;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(var i=0,n=this.parent.crudModule.crudObj.sourceEvent.length;i<n;i++){var s=this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(),10)];if((!this.parent.uiStateValues.isGroupAdaptive||this.parent.uiStateValues.groupIndex===s.groupIndex&&this.parent.uiStateValues.isGroupAdaptive)&&this.renderEventsHandler(s.renderDates,s.workDays,s),this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(),10)].groupIndex){var a=this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(),10)];this.renderEventsHandler(a.renderDates,a.workDays,a)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(var o=0,l=e;o<l.length;o++){var c=l[o];this.renderEventsHandler(c.renderDates,c.workDays,c)}},t.prototype.getSlotDates=function(e){this.slots=[];for(var i=this.dateRender.map(function(s){return+s}),n=!this.parent.activeViewOptions.showWeekend||this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.group.hideNonWorkingDays?e.length:uh;i.length>0;)this.slots.push(i.splice(0,n))},t.prototype.createAppointmentElement=function(e,i,n){n===void 0&&(n=!1);var s=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),a=qe({},e,e.data,!0),o={"data-id":"Appointment_"+e[this.fields.id],role:"button",tabindex:"0","aria-disabled":this.parent.eventBase.getReadonlyAttribute(e),"aria-label":this.parent.getAnnouncementString(a,s)};n||(o["data-guid"]=e.Guid),this.parent.activeViewOptions.group.resources.length>0&&(o["data-group-index"]=i.toString());var l=Be("div",{className:Ni,attrs:o});v(this.cssClass)||pe([l],this.cssClass),e[this.fields.isReadonly]&&pe([l],"e-read-only");var c=Be("div",{className:LN});l.appendChild(c);var u,d=e.data,p=this.getEventData(e);if(v(this.parent.activeViewOptions.eventTemplate)){var b=e[this.fields.location]||this.parent.eventSettings.fields.location.default||"",D=Be("div",{className:Bs});this.parent.sanitize(s+(b?"; "+b:""),D);var E=Be("div",{className:tf+(this.parent.isAdaptive?" "+hn:""),innerHTML:this.parent.getTimeString(d[this.fields.startTime])}),N=Be("div",{className:tf+(this.parent.isAdaptive?" "+hn:""),innerHTML:this.parent.getTimeString(d[this.fields.endTime])});if(this.parent.currentView==="Month")e[this.fields.isAllDay]?(u=[D],pe([D],"e-text-center")):d.count<=1&&!d.isLeft&&!d.isRight?u=[E,D]:(u=[],pe([D],"e-text-center"),d.isLeft||u.push(E),u.push(D),d.isRight||u.push(N));else{var B=void 0;if(e[this.fields.isAllDay]){var P=Be("div",{className:tf,innerHTML:this.parent.localeObj.getConstant("allDay")});B=[D,P]}else{var C=this.parent.getTimeString(d[this.fields.startTime])+" - "+this.parent.getTimeString(d[this.fields.endTime]),k=Be("div",{className:tf+(this.parent.isAdaptive?" "+hn:""),innerHTML:C}),_=Be("div",{className:G0});this.parent.sanitize(b,_),B=[D,k,_]}var H=Be("div",{className:"e-inner-wrap"});ri(B,H),u=[H]}}else{var m=this.parent.element.id+"_",y=this.parent.activeViewOptions.eventTemplateName,M=m+y+"eventTemplate",w=this.isResourceEventTemplate?this.parent.getEventTemplateName(i):"eventTemplate";u=this.parent.getAppointmentTemplate()(p,this.parent,w,M,!1,void 0,void 0,this.parent.root)}return ri(u,c),this.appendEventIcons(e,c),this.renderResizeHandler(l,e.data,e[this.fields.isReadonly]),l},t.prototype.appendEventIcons=function(e,i){var n=e.data;if(!v(e[this.fields.recurrenceRule])||!v(e[this.fields.recurrenceID])){var s=e[this.fields.id]===e[this.fields.recurrenceID]?fT:pT;i.appendChild(Be("div",{className:xs+" "+s+(this.parent.isAdaptive?" "+hn:"")}))}if(n.isLeft){var a=Be("div",{className:dS+" "+xs+" "+wK});Ln([a],i)}if(n.isRight){var o=Be("div",{className:dS+" "+xs+" "+TK});ri([o],i)}},t.prototype.renderEvents=function(e,i,n){var s=e[this.fields.startTime],a=e[this.fields.endTime],o=this.parent.getIndexOfDate(this.dateRender,Ze(s));if(!(o<0||s.getTime()<this.parent.minDate.getTime()||a.getTime()>this.parent.maxDate.getTime())){var l=this.parent.rowAutoHeight?1:this.parent.activeViewOptions.maxEventsPerRow,c=this.getIndex(s);e.Index=c;var u=e.data.count;if(s.getTime()<=a.getTime()){var d=u*this.cellWidth-5,p=this.workCells[parseInt(o.toString(),10)],m=c*(this.eventHeight+C4),y=this.monthHeaderHeight+(c+1)*(this.eventHeight+C4)+this.moreIndicatorHeight,M=this.parent.activeViewOptions.maxEventsPerRow&&!this.parent.rowAutoHeight&&!this.parent.eventSettings.enableIndicator?c<l:this.maxOrIndicator?c<1:this.cellHeight>y;if(this.parent.rowAutoHeight||M){this.renderedEvents.push(qe({},e,null,!0));var w=void 0;if(this.inlineValue?w=this.parent.inlineModule.createInlineAppointmentElement():w=this.createAppointmentElement(e,i),this.applyResourceColor(w,e,"backgroundColor",this.groupOrder),this.wireAppointmentEvents(w,e),ui(w,{width:d+"px",top:m+"px"}),this.renderEventElement(e,w,p),this.parent.rowAutoHeight){var b=this.parent.element.querySelector("."+lr),D=this.parent.getElementWidth(b),E=b.offsetHeight===b.clientHeight&&b.offsetWidth===b.clientWidth,N=p.parentElement.firstElementChild;this.updateCellHeight(N,y),E&&(b.offsetWidth>b.clientWidth||D!==this.parent.getElementWidth(b))&&this.adjustAppointments(D)}}else for(var B=0;B<u;B++)if(this.workCells[o+B]){var P=this.workCells[o+B].querySelector("."+Gl);if(P){var C=parseInt(P.getAttribute("data-count"),10)+1;P.setAttribute("data-count",C.toString()),P.setAttribute("aria-label",C+" "+this.parent.localeObj.getConstant("moreEvents")),P.innerHTML=this.getMoreIndicatorText(C)}else{var k=new Date(this.dateRender[o+B].getTime()),_=Zt(this.dateRender[o+B],1),H=this.workCells[o+B].getAttribute("data-group-index"),j=this.getMoreIndicatorElement(1,k,_);v(H)||j.setAttribute("data-group-index",H),j.style.top=this.cellHeight-this.monthHeaderHeight-this.moreIndicatorHeight+"px",j.style.width=this.cellWidth-2+"px",this.renderElement(this.workCells[o+B],j),se.add(j,"click",this.moreIndicatorClick,this)}}}}},t.prototype.adjustAppointments=function(e){var i=this,n=this.parent.element.querySelector("."+_n+" tbody tr"),s=this.parent.getElementWidth(this.workCells[0]);this.cellWidth=s/+(this.workCells[0].getAttribute("colspan")||1);var a=s*n.children.length/(e/100),o=[].slice.call(this.parent.element.querySelectorAll("."+Ni));o.forEach(function(l){i.parent.enableRtl&&l.style.right!=="0px"?l.style.right=parseFloat(l.style.right)/100*a+"px":l.style.left!=="0px"&&(l.style.left=parseFloat(l.style.left)/100*a+"px"),l.style.width=parseFloat(l.style.width)/100*a+"px"})},t.prototype.updateCellHeight=function(e,i){i>e.offsetHeight&&ui(e,{height:i+"px"})},t.prototype.updateBlockElements=function(){for(var e=[].slice.call(this.element.querySelectorAll("."+U1)),i=0,n=e;i<n.length;i++){var s=n[i],a=Fe(s,"tr");this.monthHeaderHeight=s.offsetParent.offsetTop-a.offsetTop,s.style.height=a.offsetHeight-1-this.monthHeaderHeight+"px";var o=a.firstElementChild,l=Math.round(s.offsetWidth/o.offsetWidth);s.style.width=o.offsetWidth*l+"px"}},t.prototype.getFilteredEvents=function(e,i,n,s){var a;if(v(n))a=this.filterEvents(e,i);else{var o=this.parent.resourceBase.lastResourceLevel[parseInt(n,10)];a=this.filterEvents(e,i,v(s)?void 0:s,o)}return a},t.prototype.getOverlapEvents=function(e,i){for(var n=[],s=Ze(e).getTime(),a=0,o=i;a<o.length;a++){var l=o[a];Ze(l[this.fields.startTime]).getTime()<=s&&Ze(l[this.fields.endTime]).getTime()>=s&&n.push(l)}return n},t.prototype.getIndex=function(e){var i=-1,n=this.renderedEvents;if(n.length>0){var s=this.getOverlapEvents(e,n),a=s.map(function(o){return o.Index});i=a.length>0?this.getSmallestMissingNumber(a):0}return i===-1?0:i},t.prototype.moreIndicatorClick=function(e){var i=this,n=Fe(e.target,"."+Gl),s=new Date(parseInt(n.getAttribute("data-start-date"),10)),a=new Date(parseInt(n.getAttribute("data-end-date"),10)),o=n.getAttribute("data-group-index"),l={cancel:!1,event:e,element:n,isPopupOpen:!0,startTime:s,endTime:a,viewName:this.parent.getNavigateView()};o&&(l.groupIndex=parseInt(o,10)),this.parent.trigger(twe,l,function(c){if(!c.cancel)if(c.isPopupOpen){var u=i.getFilteredEvents(s,a,o),d={date:s,event:u,element:e.target};i.parent.quickPopup.moreEventClick(d,a,o)}else i.parent.setProperties({selectedDate:s},!0),i.parent.changeView(c.viewName,e)})},t.prototype.renderEventElement=function(e,i,n){var s=this,a=i.classList.contains(U1)?"blockEvent":"event",o=i.classList.contains(Ni),l=this.parent.currentView==="Month"?this.getSpannedTime(e):this.getEventData(e),c={data:l,element:i,cancel:!1,type:a};this.parent.trigger(P1,c,function(u){u.cancel?s.renderedEvents.pop():s.renderElement(n,i,o)})},t.prototype.getSpannedTime=function(e){var i=qe({},e,null,!0);return i[this.fields.startTime].getDate()===i.data[this.fields.startTime].getDate()&&(i[this.fields.startTime]=i.data[this.fields.startTime]),i[this.fields.endTime].getDate()===i.data[this.fields.endTime].getDate()&&(i[this.fields.endTime]=i.data[this.fields.endTime]),i},t.prototype.getEventData=function(e){var i=qe({},e,null,!0);return i[this.fields.startTime]=e.data[this.fields.startTime],i[this.fields.endTime]=e.data[this.fields.endTime],i},t.prototype.renderElement=function(e,i,n){n===void 0&&(n=!1),this.maxOrIndicator&&n&&this.setMaxEventHeight(i,e);var s=e.querySelector("."+kn);if(s)s.appendChild(i);else{var a=Be("div",{className:kn});a.appendChild(i),e.appendChild(a)}},t.prototype.getMoreIndicatorElement=function(e,i,n){var s=Be("div",{className:Gl,innerHTML:this.getMoreIndicatorText(e),attrs:{role:"button",tabindex:"0","aria-label":this.parent.globalize.formatNumber(e)+" "+this.parent.localeObj.getConstant("moreEvents"),"data-count":e.toString(),"data-start-date":i.getTime().toString(),"data-end-date":n.getTime().toString()}});return s},t.prototype.getMoreIndicatorText=function(e){return"+"+this.parent.globalize.formatNumber(e)+"&nbsp;"+(this.parent.isAdaptive?"":this.parent.localeObj.getConstant("more"))},t.prototype.removeHeightProperty=function(e){for(var i=[].slice.call(this.element.querySelectorAll("."+e+" tbody tr")),n=0,s=i;n<s.length;n++){var a=s[n];a.firstElementChild.style.height=""}},t.prototype.setMaxEventHeight=function(e,i){var n=qj(i.querySelector("."+hT)),s=i.offsetHeight-n-(this.maxHeight?0:this.moreIndicatorHeight);ui(e,{height:s+"px","align-items":"center"})},t.prototype.destroy=function(){this.element=null,this.fields=null,this.maxHeight=null,this.withIndicator=null,this.maxOrIndicator=null,this.moreIndicatorHeight=null,this.removeEventListener(),r.prototype.destroy.call(this)},t})(a3),ZTe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),M0=2,ebe=22,YV=18,xS=(function(r){ZTe(t,r);function t(e,i){var n=r.call(this,e)||this;n.startHour=n.parent.activeView.getStartHour(),n.endHour=n.parent.activeView.getEndHour(),n.slotCount=n.parent.activeViewOptions.timeScale.slotCount,n.interval=n.parent.activeViewOptions.timeScale.interval,n.day=0,n.rowIndex=0,n.cellTops=[],n.renderType=i,n.eventContainers=[].slice.call(n.element.querySelectorAll("."+Dp));var s=[].slice.call(n.element.querySelectorAll("."+_n+" tbody tr"));return n.dayLength=s.length===0?0:s[0].children.length,n.content=n.parent.element.querySelector("."+fK+"."+_n),n}return t.prototype.getSlotDates=function(){if(this.slots=[],this.slots.push(this.parent.activeView.renderDates.map(function(i){return+i})),this.parent.activeViewOptions.headerRows.length>0&&this.parent.activeViewOptions.headerRows.slice(-1)[0].option!=="Hour"){this.renderType="day";var e=this.content.querySelector("."+ci);this.cellWidth=this.parent.getElementWidth(e)/+(e.getAttribute("colspan")||1),this.slotsPerDay=1}else this.slotsPerDay=this.dayLength/this.dateRender.length},t.prototype.getOverlapEvents=function(e,i){var n=[];if(this.renderType==="day")for(var s=0,a=i;s<a.length;s++){var o=a[s];Ze(o[this.fields.startTime]).getTime()<=Ze(new Date(e.getTime())).getTime()&&Ze(o[this.fields.endTime]).getTime()>=Ze(new Date(e.getTime())).getTime()&&n.push(o)}else for(var l=0,c=i;l<c.length;l++){var o=c[l],u=o.data;(u.trimStartTime.getTime()<=e.getTime()&&u.trimEndTime.getTime()>e.getTime()||u.trimStartTime.getTime()===e.getTime()&&u.trimEndTime.getTime()===e.getTime())&&n.push(o)}return n},t.prototype.getSortComparerIndex=function(e,i){var n=-1,s=this.renderedEvents;if(s.length>0){var a=this.getOverlapSortComparerEvents(e,i,s),o=a.map(function(l){return l.Index});n=o.length>0?this.getSmallestMissingNumber(o):0}return n===-1?0:n},t.prototype.getOverlapSortComparerEvents=function(e,i,n){for(var s=[],a=function(d){if(o.renderType==="day"){var p=Ze(e).getTime(),m=Ze(i).getTime(),y=Ze(d[o.fields.startTime]).getTime(),M=Ze(d[o.fields.endTime]).getTime(),w=function(){var D=m-(lg(i)<=0?cs:0);return D=p>D?p:D,M>=D&&y<=D};(y<=p&&M>=p||w()||y>p&&M<m)&&s.push(d)}else{var b=d.data;(b.trimStartTime.getTime()<=e.getTime()&&e.getTime()<b.trimEndTime.getTime()||e.getTime()<=b.trimStartTime.getTime()&&b.trimStartTime.getTime()<i.getTime())&&s.push(d)}},o=this,l=0,c=n;l<c.length;l++){var u=c[l];a(u)}return s},t.prototype.renderResourceEvents=function(){this.removeHeightProperty(Tg);var e="."+Tg+" tbody tr";this.addCellHeight(e,this.eventHeight,M0,this.moreIndicatorHeight,0,!1);var i=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.resourceBase.renderedResources;if(this.parent.crudModule&&this.parent.crudModule.crudObj.isCrudAction){for(var n=0,s=this.parent.crudModule.crudObj.sourceEvent.length;n<s;n++){var a=this.parent.crudModule.crudObj.sourceEvent[parseInt(n.toString(),10)];if(this.rowIndex=a.groupIndex,(!this.parent.uiStateValues.isGroupAdaptive||this.parent.uiStateValues.groupIndex===a.groupIndex&&this.parent.uiStateValues.isGroupAdaptive)&&this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,a),this.parent.crudModule.crudObj.targetEvent[parseInt(n.toString(),10)]&&this.parent.crudModule.crudObj.sourceEvent[parseInt(n.toString(),10)].groupIndex!==this.parent.crudModule.crudObj.targetEvent[parseInt(n.toString(),10)].groupIndex){var o=this.parent.crudModule.crudObj.targetEvent[parseInt(n.toString(),10)];this.rowIndex=o.groupIndex,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,o)}}this.parent.crudModule.crudObj.isCrudAction=!1}else for(var n=0;n<i.length;n++)this.rowIndex=n,this.renderEventsHandler(this.parent.activeView.renderDates,this.parent.activeViewOptions.workDays,i[parseInt(n.toString(),10)])},t.prototype.renderEvents=function(e,i,n){var s=e[this.fields.startTime],a=e[this.fields.endTime];if(!(s.getTime()<this.parent.minDate.getTime()||a.getTime()>this.parent.maxDate.getTime())){var o=e.data;s=this.getStartTime(e,o),a=this.getEndTime(e,o);var l=fc(e[this.fields.startTime],this.startHour,this.endHour),c=this.updateEventMinimumDuration(l,s,a);if(s=c.startDate,a=c.endDate,this.day=this.parent.getIndexOfDate(this.dateRender,Ze(new Date(s.getTime()))),!(this.day<0)){var u=this.getCellTd(),d=this.parent.rowAutoHeight?1:this.parent.activeViewOptions.maxEventsPerRow,p=v(this.parent.eventSettings.sortComparer)?this.getIndex(s):this.getSortComparerIndex(s,a);e.Index=p;var m=this.eventHeight,y=o.count,M=qe({},e,null,!0);M[this.fields.startTime]=o[this.fields.startTime],M[this.fields.endTime]=o[this.fields.endTime];var w=Ze(new Date(this.dateRender[this.day].getTime())),b=fc(w,this.startHour,this.endHour),D=!0;if(this.isDayProcess()||M[this.fields.isAllDay]?D=!0:D=this.isValidEvent(M,s,a,b),s<=a&&D){var E=this.getEventWidth(s,a,e[this.fields.isAllDay],y);E=this.renderType==="day"?E-2:E;var N=0,B=0,P=this.getPosition(s,a,e[this.fields.isAllDay],this.day);E=E<=0?this.cellWidth:E,this.renderedEvents.push(qe({},e,null,!0)),v(this.cellTops[parseInt(i.toString(),10)])&&(this.cellTops[parseInt(i.toString(),10)]=this.getRowTop(i));var C=this.cellTops[parseInt(i.toString(),10)],k=C+(this.maxHeight?0:M0)+p*(m+M0);N=this.parent.enableRtl?0:P,B=this.parent.enableRtl?P:0;var _=(p+1)*(m+M0)+this.moreIndicatorHeight,H=this.parent.activeViewOptions.maxEventsPerRow&&!this.parent.rowAutoHeight&&!this.parent.eventSettings.enableIndicator?p<d:this.maxOrIndicator?p<1:this.cellHeight>_;if(this.parent.rowAutoHeight||H){var j=void 0;if(v(this.inlineValue)?j=this.createAppointmentElement(e,i):j=this.parent.inlineModule.createInlineAppointmentElement(),this.applyResourceColor(j,e,"backgroundColor",this.groupOrder),ui(j,{width:E+"px",left:N+"px",right:B+"px",top:k+"px"}),this.wireAppointmentEvents(j,e),this.parent.rowAutoHeight){var z=this.parent.element.querySelector("."+lr),F=this.parent.getElementWidth(z),X=z.offsetHeight===z.clientHeight&&z.offsetWidth===z.clientWidth;this.renderEventElement(e,j,u);var J=this.getFirstChild(i);this.updateCellHeight(J,_),X&&(z.offsetWidth>z.clientWidth||F!==this.parent.getElementWidth(z))&&this.adjustAppointments(F)}else this.renderEventElement(e,j,u)}else for(var U=0;U<y;U++){var W=u.querySelector("."+Gl),re=this.parent.enableRtl?B:N;re=Math.floor(re/this.cellWidth)*this.cellWidth;var Z=this.interval/this.slotCount,Ee=this.parent.activeViewOptions.option==="TimelineMonth"||this.renderType==="day"||U!==0?new Date(this.dateRender[this.day+U].getTime()):new Date(s),ae=Zt(this.dateRender[this.day+U],1);if(this.parent.activeViewOptions.option==="TimelineMonth"||this.renderType==="day"){var L=this.getPosition(Ee,ae,e[this.fields.isAllDay],this.day+U);this.renderTimelineMoreIndicator(s,Ee,ae,m,Z,i,n,C,N,B,u,W,re,L)}else for(var Y=(Ss(a)-Ss(s))/ls*this.slotCount/this.interval,G=0;G<Y&&(Ee=G===0?new Date(Ee.getTime()):new Date(Ee.getTime()+6e4*Z),Y<1&&(Ee=this.adjustToNearestTimeSlot(Ee,Z)),ae=new Date(Ee.getTime()+6e4*Z),!(Y>=1&&ae.getTime()>a.getTime()));G++){var Q=this.getPosition(Ee,ae,!1,this.day+U);if(re>Q)break;re=Q,this.renderTimelineMoreIndicator(s,Ee,ae,m,Z,i,n,C,N,B,u,W,re,Q)}}}this.parent.renderTemplates()}}},t.prototype.adjustToNearestTimeSlot=function(e,i){var n=new Date(e),s=n.getHours()*60*60*1e3+n.getMinutes()*60*1e3,a=Math.floor(s/(i*60*1e3))*(i*60*1e3),o=new Date(n.getTime());return o.setHours(a/(3600*1e3)%24),o.setMinutes(a%(3600*1e3)/(60*1e3)),o},t.prototype.renderTimelineMoreIndicator=function(e,i,n,s,a,o,l,c,u,d,p,m,y,M){if(u=this.parent.enableRtl?d=M:M,y=this.parent.enableRtl?d:u,y=Math.floor(y/this.cellWidth)*this.cellWidth,p&&v(m)||!this.isAlreadyAvail(y,p)){var w=this.parent.activeViewOptions.option==="TimelineMonth"||this.renderType==="day"?new Date(+e):i,b=new Date(w.setMinutes(Math.floor(w.getMinutes()/a)*a)),D=new Date(b.getTime()+6e4*a),E=void 0;this.parent.activeViewOptions.group.resources.length>0&&!v(o)&&(E=o.toString());var N=this.getFilterEvents(i,n,b,D,E,l),B=this.cellHeight-this.moreIndicatorHeight;s=this.withIndicator?B-M0:s;var P=Math.floor(B/(s+M0)),C=this.parent.activeViewOptions.maxEventsPerRow&&!this.parent.eventSettings.enableIndicator?N.length-this.parent.activeViewOptions.maxEventsPerRow:N.length-P<=0?1:N.length-P,k=void 0;this.renderType==="day"?k=this.getMoreIndicatorElement(C,i,n):k=this.getMoreIndicatorElement(C,b,D),v(E)||k.setAttribute("data-group-index",E),k.style.top=c+B+"px",k.style.width=this.cellWidth+"px",k.style.left=Math.floor(u/this.cellWidth)*this.cellWidth+"px",k.style.right=Math.floor(d/this.cellWidth)*this.cellWidth+"px",this.renderElement(p,k),se.add(k,"click",this.moreIndicatorClick,this)}},t.prototype.updateCellHeight=function(e,i){var n=e.style.height===""?this.cellHeight:parseInt(e.style.height,10);if(i>n){if(ui(e,{height:i+"px"}),this.parent.activeViewOptions.group.resources.length>0){var s=this.parent.element.querySelector("."+Tg+' tbody td[data-group-index="'+e.getAttribute("data-group-index")+'"]');s&&ui(s,{height:i+"px"})}var a=this.parent.element.querySelector(".e-month-header-wrapper table tr:nth-child("+(e.parentElement.rowIndex+1)+") td");a&&ui(a,{height:i+"px"})}},t.prototype.getFirstChild=function(e){var i="."+_n+" tbody td",n="";this.parent.activeViewOptions.group.resources.length>0&&(n='[data-group-index="'+e.toString()+'"]');var s=this.parent.element.querySelector(i+n);return s},t.prototype.updateBlockElements=function(){for(var e=[].slice.call(this.element.querySelectorAll("."+U1)),i=0,n=e;i<n.length;i++){var s=n[i],a=parseInt(s.getAttribute("data-group-index"),10),o=this.getFirstChild(a);s.style.height=o.offsetHeight-1+"px";var l=s.offsetWidth/o.offsetWidth;s.style.width=o.offsetWidth*l+"px"}for(var c=[].slice.call(this.element.querySelectorAll("."+cS)),u=0,d=c;u<d.length;u++){var s=d[u],a=parseInt(s.getAttribute("data-group-index"),10);s.style.top=this.getRowTop(a)+this.getFirstChild(a).offsetHeight-YV+"px"}},t.prototype.getStartTime=function(e,i){var n=e[this.fields.startTime],s=fc(n,this.startHour,this.endHour);return this.isDayProcess()?n=e[this.fields.startTime]:s.startHour.getTime()>=i[this.fields.startTime]?n=s.startHour:s.endHour.getTime()<=i[this.fields.startTime]?n=this.getNextDay(s.startHour,i):n=i[this.fields.startTime],i.trimStartTime=e[this.fields.isAllDay]?s.startHour:i[this.fields.startTime],n},t.prototype.getNextDay=function(e,i){for(var n,s=1;s<=this.dateRender.length;s++)if(n=Zt(e,s),this.parent.getIndexOfDate(this.dateRender,Ze(new Date(e.getTime())))!==-1)return i.count=i.count-1,n;return n},t.prototype.getEndTime=function(e,i){var n=e[this.fields.endTime],s=fc(n,this.startHour,this.endHour);return this.isDayProcess()?n=i[this.fields.endTime]:(n=i[this.fields.endTime],(s.endHour.getTime()<=i[this.fields.endTime]||e[this.fields.isAllDay])&&(n=s.endHour),s.startHour.getTime()>=i[this.fields.endTime].getTime()&&!e[this.fields.isAllDay]&&(n=this.getPreviousDay(s.startHour,s.endHour,i))),i.trimEndTime=e[this.fields.isAllDay]?s.endHour:i[this.fields.endTime],n},t.prototype.getPreviousDay=function(e,i,n){for(var s=1;s<=this.dateRender.length;s++){var a=Zt(i,-s);if(this.parent.getIndexOfDate(this.dateRender,Ze(new Date(e.getTime())))!==-1){a=Ze(new Date(a.getTime())),a.setHours(i.getHours(),i.getMinutes(),i.getSeconds());var o=n.count,l=n[this.fields.endTime];return n.count=l.getHours()!==0||l.getMinutes()!==0?o-1:o,a}}return n[this.fields.endTime]},t.prototype.getEventWidth=function(e,i,n,s){return this.renderType==="day"||n?s*this.slotsPerDay*this.cellWidth:this.isSameDay(e,i)?this.getSameDayEventsWidth(e,i):this.getSpannedEventsWidth(e,i,s)},t.prototype.getSameDayEventsWidth=function(e,i){return(Ss(i)-Ss(e))/ls*(this.cellWidth*this.slotCount)/this.getIntervalInMinutes(e)},t.prototype.getSpannedEventsWidth=function(e,i,n){var s=n*this.slotsPerDay*this.cellWidth,a,o=fc(Ze(new Date(e.getTime())),this.startHour,this.endHour),l=this.getSameDayEventsWidth(o.startHour,e);if(this.parent.getIndexOfDate(this.dateRender,Ze(new Date(i.getTime())))===-1)a=0;else{var c=fc(Ze(new Date(i.getTime())),this.startHour,this.endHour),u=c.startHour,d=c.endHour,p=this.interval/this.slotCount,m=this.getEndTimeOfLastSlot(u,d,p),y=d<m?d:m;a=this.getSameDayEventsWidth(i,y),a=this.slotsPerDay*this.cellWidth===a?0:a}var M=l+a;return s>M?s-M:s-l},t.prototype.getEndTimeOfLastSlot=function(e,i,n){var s=(i.getTime()-e.getTime())/6e4,a=Math.floor(s/n)*n,o=new Date(e);return o.setMinutes(a),o},t.prototype.isSameDay=function(e,i){var n=this.parent.getIndexOfDate(this.dateRender,Ze(new Date(e.getTime()))),s=this.parent.getIndexOfDate(this.dateRender,Ze(new Date(i.getTime())));return n===s},t.prototype.getAppointmentLeft=function(e,i,n){var s=this.isSameDay(i,e.startHour)?(Ss(i)-Ss(e.startHour))/(ls*this.getIntervalInMinutes(i))*this.slotCount:0;if(n===0)return s;var a=Math.round((Ss(e.endHour)-Ss(e.startHour))/this.interval/ls*this.slotCount);return a*n+s},t.prototype.getPosition=function(e,i,n,s){if(this.renderType==="day"||n)return s*this.slotsPerDay*this.cellWidth;var a=Ze(new Date(this.dateRender[parseInt(s.toString(),10)].getTime())),o=fc(a,this.startHour,this.endHour),l;return o.endHour.getTime()<=i.getTime()&&o.startHour.getTime()>=e.getTime()?l=this.getAppointmentLeft(o,o.startHour,s):o.endHour.getTime()<=i.getTime()?l=this.getAppointmentLeft(o,e,s):o.startHour.getTime()>=e.getTime()?l=this.getAppointmentLeft(o,o.startHour,s):l=this.getAppointmentLeft(o,e,s),l*this.cellWidth},t.prototype.getFilterEvents=function(e,i,n,s,a,o){return this.renderType==="day"?this.getFilteredEvents(e,i,a,o):this.getFilteredEvents(n,s,a,o)},t.prototype.getIntervalInMinutes=function(e){if(this.slotsPerDay!==1)return this.interval;var i=fc(Ze(new Date(e.getTime())),this.startHour,this.endHour);return(i.endHour.getTime()-i.startHour.getTime())/ls},t.prototype.isAlreadyAvail=function(e,i){for(var n=[].slice.call(i.querySelectorAll("."+Gl)),s=0;s<n.length;s++){var a=void 0;if(n&&(a=this.parent.enableRtl?n[parseInt(s.toString(),10)].style.right:n[parseInt(s.toString(),10)].style.left),parseInt(a,10)===Math.floor(e))return!0}return!1},t.prototype.getRowTop=function(e){return this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?this.parent.element.querySelector("."+lr+' tbody td[data-group-index="'+e.toString()+'"]').offsetTop:0},t.prototype.getCellTd=function(){var e=this.parent.uiStateValues.isGroupAdaptive?0:this.rowIndex;return this.eventContainers[parseInt(e.toString(),10)]},t.prototype.renderBlockIndicator=function(e,i,n){if(!(this.parent.headerRows.length>0&&(this.parent.headerRows[this.parent.headerRows.length-1].option!=="Hour"||this.parent.headerRows[this.parent.headerRows.length-1].option!=="Date"))&&(i=Math.floor(i/this.cellWidth)*this.cellWidth+this.cellWidth-ebe,!this.isAlreadyAvail(i,e))){var s=Be("div",{className:"e-icons "+cS});this.parent.activeViewOptions.group.resources.length>0&&s.setAttribute("data-group-index",n.toString()),this.parent.enableRtl?s.style.right=i+"px":s.style.left=i+"px",s.style.top=this.getRowTop(n)+this.cellHeight-YV+"px",this.renderElement(e,s)}},t.prototype.setMaxEventHeight=function(e,i){ui(e,{height:this.cellHeight-(this.maxHeight?0:M0)-(this.maxHeight?0:this.moreIndicatorHeight)+"px"})},t.prototype.isDayProcess=function(){return this.parent.currentView==="TimelineMonth"||!this.parent.activeViewOptions.timeScale.enable||this.parent.activeViewOptions.headerRows.length>0&&this.parent.activeViewOptions.headerRows.slice(-1)[0].option!=="Hour"},t.prototype.destroy=function(){this.renderType=null,this.eventContainers=null,this.dayLength=null,this.content=null,r.prototype.destroy.call(this),this.parent=null},t})(ex),tbe=(function(){function r(t){this.parent=t,this.parent.on(F1,this.inlineEdit,this)}return r.prototype.inlineEdit=function(t){if(this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),t.type==="Cell"){var e=this.parent.element.querySelector("."+Kd);e&&e.classList.contains(la)&&this.parent.quickPopup.morePopup.hide(),this.removeInlineAppointmentElement(),this.cellEdit(t)}else this.parent.element.querySelector("."+Gc)!==t.element.querySelector("."+Gc)&&this.removeInlineAppointmentElement(),this.eventEdit(t)},r.prototype.cellEdit=function(t){var e=this.generateEventData(),i=t.element.cellIndex,n=this.getEventDaysCount(e);n>1&&(n=Math.round(n),n--,i=i-n);var s=Ze(new Date(""+e[this.parent.eventFields.startTime])).getTime(),a=Ze(new Date(""+e[this.parent.eventFields.endTime])).getTime(),o=t.groupIndex||0,l=this.parent.currentView==="Day"||this.parent.currentView==="Week"||this.parent.currentView==="WorkWeek";if(this.parent.activeViewOptions.timeScale.enable&&l){var c=e[this.parent.eventFields.startTime].getDay();this.createVerticalViewInline(e,c,o,i)}else this.parent.currentView==="Month"||!this.parent.activeViewOptions.timeScale.enable&&l?this.createMonthViewInline(e,o,s,a):this.createTimelineViewInline(e,s,a,o);var u=this.parent.element.querySelector("."+Gc);u&&u.focus()},r.prototype.eventEdit=function(t){var e=t.element.querySelector("."+Gc),i;if(pe([t.element],Aw),e)i=e.value;else{var n=t.element.querySelector("."+Bs);if(v(n)||pe([n],hn),i=!v(t.data)&&t.data[this.parent.eventFields.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),e=this.inlineInputEle=Be("input",{className:Gc,attrs:{value:i}}),Fe(t.element,"."+Kd))t.element.insertBefore(e,n);else if(["Agenda","MonthAgenda"].indexOf(this.parent.currentView)>-1){var s=t.element.querySelector("."+uS);v(s)&&(s=Be("div",{className:uS}),t.element.prepend(s)),s.insertBefore(e,s.firstChild)}else{var a=["TimelineDay","TimelineWeek","TimelineWorkWeek","TimelineMonth"].indexOf(this.parent.currentView)>-1?".e-inner-wrap":".e-appointment-details",o=t.element.querySelector(a);v(o)?t.element.querySelector(".e-appointment-details").prepend(e):n&&this.parent.activeViewOptions&&!this.parent.activeViewOptions.eventTemplate?o.insertBefore(e,n):o.prepend(e)}e.focus()}e.setSelectionRange(i.length,i.length)},r.prototype.createVerticalViewInline=function(t,e,i,n){var s,a=this.getEventDaysCount(t),o=new o3(this.parent);o.initializeValues();var l=o.dateRender[parseInt(i.toString(),10)].map(function(m){return m.getDay()}).indexOf(e);if(a>=1){o.allDayElement=[].slice.call(this.parent.element.querySelectorAll("."+tn)),(s=o.slots).push.apply(s,this.parent.activeView.renderDates.map(function(m){return+m}));var c=[].slice.call(this.parent.element.querySelectorAll("."+qo)),u=0;c.length>0&&(u=Math.floor(this.parent.getElementHeight(this.parent.element.querySelector("."+ef))/c[0].offsetHeight)-1),o.allDayLevel=u;var d=this.parent.getElementHeightFromClass(this.parent.element.querySelector("."+gu),Ni),p=o.allDayElement.length>0?o.allDayElement[0].offsetTop:0;o.renderAllDayEvents(t,l,i,n,this.parent.allowInline,p,d)}else o.renderNormalEvents(t,l,i,n,this.parent.allowInline)},r.prototype.createMonthViewInline=function(t,e,i,n){var s=this.getEventDaysCount(t),a=this.parent.eventBase.cloneEventObject(t,i,n,s,!1,!1),o=new ex(this.parent);o.dateRender=this.parent.activeView.renderDates,o.inlineValue=this.parent.allowInline;var l=this.parent.activeView.renderDates,c=this.parent.activeViewOptions.workDays,u="."+ci;if(this.parent.activeViewOptions.group.resources.length>0){u+='[data-group-index="'+e+'"]';var d=this.parent.resourceBase.lastResourceLevel[parseInt(e.toString(),10)];l=d.renderDates,c=d.workDays}o.dateRender=l,o.workCells=[].slice.call(this.parent.element.querySelectorAll(u)),o.cellWidth=o.workCells[0].offsetWidth,o.cellHeight=o.workCells[0].offsetHeight,o.eventHeight=this.parent.getElementHeightFromClass(this.parent.monthModule.element||o.element,Ni),o.getSlotDates(c);for(var p=o.getRenderedDates(l),m=o.splitEvent(a,p||l),y=0,M=m;y<M.length;y++){var w=M[y];o.renderEvents(w,e)}var b=this.parent.element.querySelector("."+Gc);b.focus()},r.prototype.createTimelineViewInline=function(t,e,i,n){var s=this.getEventDaysCount(t),a=this.parent.eventBase.cloneEventObject(t,e,i,s,!1,!1),o=new xS(this.parent,this.parent.activeViewOptions.timeScale.enable?"hour":"day");o.dateRender=this.parent.activeView.renderDates,o.eventContainers=[].slice.call(this.parent.element.querySelectorAll("."+Dp));var l=this.parent.element.querySelector("."+ci);o.inlineValue=this.parent.allowInline,o.cellWidth=l.offsetWidth,o.cellHeight=l.offsetHeight;var c=this.parent.element.querySelectorAll("."+_n+" tbody tr").length===0?0:this.parent.element.querySelectorAll("."+_n+" tbody tr")[0].children.length;o.slotsPerDay=c/o.dateRender.length,o.eventHeight=this.parent.getElementHeightFromClass(o.element,Ni),o.renderEvents(a,n)},r.prototype.getEventDaysCount=function(t){var e=t[this.parent.eventFields.startTime],i=t[this.parent.eventFields.endTime],n=Math.abs(i.getTime()-e.getTime())/cs;return n},r.prototype.generateEventData=function(t){var e=this.parent.element.querySelector("."+Gc),i=e?e.value:t?t.innerHTML:"",n={};return n[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID(),n[this.parent.eventFields.subject]=i,n[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,n[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,n[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.eventWindow.setDefaultValueToObject(n),this.parent.resourceBase&&this.parent.resourceBase.setResourceValues(n,this.parent.activeCellsData.groupIndex),n},r.prototype.documentClick=function(t){t&&t.value!==""?this.inlineCrudActions(t):this.removeInlineAppointmentElement()},r.prototype.inlineCrudActions=function(t){if(Fe(t,"."+Ew)){var e=this.generateEventData(t);this.parent.addEvent(e)}else{var i=Fe(t,"."+Ni),n=this.parent.getEventDetails(i);n[this.parent.eventFields.subject]=t.value;var s=void 0;n[this.parent.eventFields.id]===n[this.parent.eventFields.recurrenceID]&&(s="EditOccurrence",n[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID()),this.parent.saveEvent(n,s)}this.removeInlineAppointmentElement()},r.prototype.createInlineAppointmentElement=function(t){var e=Be("div",{className:Ni+" "+Ew+" "+Aw}),i=Be("div",{className:LN});e.appendChild(i);var n=this.inlineInputEle=Be("input",{className:Gc});return i.appendChild(n),t&&this.parent.eventBase.applyResourceColor(e,t,"backgroundColor"),e},r.prototype.removeInlineAppointmentElement=function(){var t=[].slice.call(this.parent.element.querySelectorAll("."+Ew));t.length>0&&t.forEach(function(s){var a=s.querySelector("."+Gc);v(a)||a.blur(),ji(s)});var e=this.getInlineElement();if(e){var i=Fe(e,"."+Ni);Oe([i],Aw);var n=i.querySelector("."+Bs);v(n)||Oe([n],hn),ji(e)}this.inlineInputEle=null},r.prototype.getInlineElement=function(){return this.inlineInputEle},r.prototype.destroy=function(){this.inlineInputEle=null,this.parent.off(F1,this.inlineEdit)},r})(),VK=(function(){function r(){}return r.prototype.renderFormValidator=function(t,e,i,n){var s=this;this.element=i,this.formObj=new Fxe(t,{locale:n,customPlacement:function(a,o){s.errorPlacement(a,o)},rules:e,validationComplete:function(a){s.validationComplete(a)},focusout:function(a){s.focusOut(a)}})},r.prototype.focusOut=function(t){var e=t.relatedTarget;e&&(e.classList.contains("e-dlg-closeicon-btn")||e.classList.contains("e-close")||e.classList.contains(tn)||e.classList.contains(Co)||e.classList.contains(gS)||e.classList.contains(ci)||e.classList.contains(DK))?this.ignoreError=!0:this.ignoreError=!1},r.prototype.validationComplete=function(t){var e=this.element.querySelector("#"+t.inputName+"_Error");e&&(e.style.display=t.status==="failure"?"":"none")},r.prototype.errorPlacement=function(t,e){var i=e.getAttribute("for"),n=this.element.querySelector("#"+i+"_Error");!n&&!this.ignoreError&&this.createTooltip(t,e,i,""),v(n)||(n.querySelector(".e-error").innerHTML=e.innerHTML)},r.prototype.createTooltip=function(t,e,i,n){var s,a,o=t.getBoundingClientRect();this.element.classList.contains(Zh)?(s=this.element,a=this.element.getBoundingClientRect()):(s=this.element.querySelector(".e-schedule-dialog .e-dlg-content"),a=s.getBoundingClientRect());var l=Be("div",{className:"e-tooltip-wrap e-popup "+kV,id:i+"_Error",styles:"display:"+n+";top:"+(o.bottom-a.top+s.scrollTop+9)+"px;left:"+(o.left-a.left+s.scrollLeft+o.width/2)+"px;"}),c=Be("div",{className:"e-tip-content"});c.appendChild(e);var u=Be("div",{className:"e-arrow-tip e-tip-top"});u.appendChild(Be("div",{className:"e-arrow-tip-outer e-tip-top"})),u.appendChild(Be("div",{className:"e-arrow-tip-inner e-tip-top"})),l.appendChild(c),l.appendChild(u),s.appendChild(l),l.style.left=parseInt(l.style.left,10)-l.offsetWidth/2+"px"},r.prototype.destroyToolTip=function(){if(this.element)for(var t=[].slice.call(this.element.querySelectorAll("."+kV)),e=0,i=t;e<i.length;e++){var n=i[e];ji(n)}this.formObj&&this.formObj.element&&this.formObj.reset()},r.prototype.destroy=function(){this.formObj&&this.formObj.element&&!this.formObj.isDestroyed&&this.formObj.destroy(),this.formObj=null,this.element=null},r})(),ibe="e-field",qV=(function(){function r(t){this.isMultipleEventSelect=!1,this.isCrudAction=!1,this.parent=t,this.l10n=this.parent.localeObj,this.fieldValidator=new VK,this.render(),this.addEventListener()}return r.prototype.render=function(){this.renderQuickPopup(),this.renderMorePopup(),this.renderQuickDialog()},r.prototype.renderQuickPopup=function(){var t=Be("div",{className:Zh+" e-popup-close",attrs:{role:"dialog"}});this.parent.isAdaptive?(document.body.appendChild(t),pe([t],d1)):this.parent.element.appendChild(t),this.quickPopup=new xh(t,{targetType:this.parent.isAdaptive?"container":"relative",enableRtl:this.parent.enableRtl,open:this.quickPopupOpen.bind(this),close:this.quickPopupClose.bind(this),hideAnimation:this.parent.isAdaptive?{name:"ZoomOut"}:{name:"FadeOut",duration:150},showAnimation:this.parent.isAdaptive?{name:"ZoomIn"}:{name:"FadeIn",duration:150},collision:this.parent.isAdaptive?{X:"fit",Y:"fit"}:this.parent.enableRtl?{X:"flip",Y:"fit"}:{X:"none",Y:"fit"},position:this.parent.isAdaptive||this.parent.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"},viewPortElement:this.parent.isAdaptive?document.body:this.parent.element,zIndex:this.parent.isAdaptive?1004:3})},r.prototype.renderMorePopup=function(){var t='<div class="'+Q0+'"><div class="'+Jwe+'">'+('<div class="'+tk+'" title="'+this.l10n.getConstant("close")+'" tabindex="0" role="button"></div>')+('<div class="'+y4+'"><div class="'+MV+'" id="'+this.parent.element.id+'_more_popup"></div>')+('<div class="'+Fy+" "+V1+'" tabindex="0" role="link"></div></div></div></div>'),e=Be("div",{className:Kd+" e-popup-close",innerHTML:t});this.parent.isAdaptive?(document.body.appendChild(e),pe([e],d1)):this.parent.element.appendChild(e),this.morePopup=new xh(e,{targetType:this.parent.isAdaptive?"container":"relative",enableRtl:this.parent.enableRtl,hideAnimation:{name:"ZoomOut",duration:300},showAnimation:{name:"ZoomIn",duration:300},open:this.morePopupOpen.bind(this),close:this.morePopupClose.bind(this),collision:this.parent.isAdaptive?{X:"fit",Y:"fit"}:this.parent.enableRtl?{X:"flip",Y:"fit"}:{X:"flip",Y:"flip"},viewPortElement:this.parent.isAdaptive?document.body:this.parent.element,zIndex:this.parent.isAdaptive?1002:2}),this.morePopup.element.setAttribute("role","dialog"),this.morePopup.element.setAttribute("aria-labelledby",this.parent.element.id+"_more_popup");var i=this.morePopup.element.querySelector("."+tk);this.renderButton("e-round",xs+" "+lE,!1,i,this.closeClick),se.add(this.morePopup.element.querySelector("."+Fy),"click",this.navigationClick,this)},r.prototype.renderQuickDialog=function(){var t=[{buttonModel:{cssClass:"e-quick-alertok e-flat",isPrimary:!0},click:this.dialogButtonClick.bind(this)},{buttonModel:{cssClass:"e-quick-alertcancel e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)},{buttonModel:{cssClass:"e-quick-dialog-cancel e-disable e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)}];if(this.parent.eventSettings.editFollowingEvents){var e={buttonModel:{cssClass:"e-quick-alertfollowing e-flat",isPrimary:!1},click:this.dialogButtonClick.bind(this)};t.splice(1,0,e)}this.quickDialog=new ZA({animationSettings:{effect:"Zoom"},buttons:t,cssClass:wV,closeOnEscape:!0,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,beforeClose:this.beforeQuickDialogClose.bind(this),isModal:!0,position:{X:"center",Y:"center"},showCloseIcon:!0,target:document.body,visible:!1,width:"auto"});var i=Be("div",{id:this.parent.element.id+"QuickDialog"});this.parent.element.appendChild(i),this.quickDialog.appendTo(i);var n=this.quickDialog.element.querySelector("."+Pm);n&&(n.setAttribute("aria-label",this.l10n.getConstant("occurrence")),n.setAttribute("aria-label",n.innerHTML));var s=this.quickDialog.element.querySelector("."+Rd);s&&(s.setAttribute("aria-label",this.l10n.getConstant("series")),s.setAttribute("aria-label",s.innerHTML)),this.quickDialog.element.querySelector(".e-dlg-closeicon-btn")&&this.quickDialog.element.querySelector(".e-dlg-closeicon-btn").setAttribute("title",this.l10n.getConstant("close"))},r.prototype.renderButton=function(t,e,i,n,s){var a=new z1({cssClass:t,disabled:i,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,iconCss:e});a.appendTo(n),se.add(n,"click",s,this),Oe([n],xs)},r.prototype.quickDialogClass=function(t){var e=[M4,w4,T4,yM,EV,hn],i=this.quickDialog.element.querySelector("."+Pm),n=this.quickDialog.element.querySelector("."+Rd),s=this.quickDialog.element.querySelector("."+DV);switch(Oe([i,n],e),pe([this.quickDialog.element.querySelector("."+yM)],hn),this.parent.eventSettings.editFollowingEvents&&(pe([s],hn),Oe([this.quickDialog.element],bV)),t){case"Recurrence":pe([i],M4),pe([n],w4),this.parent.eventSettings.editFollowingEvents&&(Oe([s],hn),pe([this.quickDialog.element],bV),pe([s],TV));break;case"Delete":pe([i],T4),pe([n],yM);break;case"Alert":pe([i],[Pm,EV]),pe([n],[Rd,hn]);break}},r.prototype.applyFormValidation=function(){var t=this.quickPopup.element.querySelector("."+pp),e={};e[this.parent.eventSettings.fields.subject.name]=this.parent.eventSettings.fields.subject.validation,this.fieldValidator.renderFormValidator(t,e,this.quickPopup.element,this.parent.locale)},r.prototype.openRecurrenceAlert=function(){var t=this.quickDialog.element.querySelector("."+Pm);t&&(t.innerHTML=this.l10n.getConstant(this.parent.currentAction==="Delete"?"deleteEvent":"editEvent"),t.setAttribute("aria-label",t.innerHTML));var e=this.quickDialog.element.querySelector("."+DV);e&&(e.innerHTML=this.l10n.getConstant("editFollowingEvent"),e.setAttribute("aria-label",e.innerHTML));var i=this.quickDialog.element.querySelector("."+Rd);i&&(i.innerHTML=this.l10n.getConstant(this.parent.currentAction==="Delete"?"deleteSeries":"editSeries"),i.setAttribute("aria-label",i.innerHTML)),this.quickDialog.content=this.l10n.getConstant("editContent"),this.quickDialog.header=this.l10n.getConstant(this.parent.currentAction==="Delete"?"deleteTitle":"editTitle"),this.quickDialogClass("Recurrence"),this.showQuickDialog("RecurrenceAlert")},r.prototype.openRecurrenceValidationAlert=function(t){this.quickDialogClass("Alert");var e=this.quickDialog.element.querySelector("."+Pm);e.innerHTML=this.l10n.getConstant("ok"),e.setAttribute("aria-label",e.innerHTML);var i=this.quickDialog.element.querySelector("."+Rd);i.innerHTML=this.l10n.getConstant("cancel"),i.setAttribute("aria-label",i.innerHTML),this.quickDialog.header=this.l10n.getConstant("alert");var n;switch(t){case"wrongPattern":pe([i],hn),this.quickDialog.content=this.l10n.getConstant("wrongPattern");break;case"createError":pe([i],hn),this.quickDialog.content=this.l10n.getConstant("createError");break;case"sameDayAlert":pe([i],hn),this.quickDialog.content=this.l10n.getConstant("sameDayAlert");break;case"seriesChangeAlert":n=this.quickDialog.element.querySelector("."+yM),Oe([i,n],hn),this.quickDialog.content=this.l10n.getConstant("seriesChangeAlert"),e.innerHTML=this.l10n.getConstant("yes"),i.innerHTML=this.l10n.getConstant("no"),n.innerHTML=this.l10n.getConstant("cancel");break;case"occurrenceAlert":pe([i],hn),this.quickDialog.content=this.l10n.getConstant("occurenceAlert");break}(!this.parent.enableRecurrenceValidation&&t==="wrongPattern"||this.parent.enableRecurrenceValidation)&&this.showQuickDialog("RecurrenceValidationAlert")},r.prototype.openDeleteAlert=function(){if(!this.parent.activeViewOptions.readonly){var t=this.quickDialog.element.querySelector("."+Pm);t&&(t.innerHTML=this.l10n.getConstant("delete"),t.setAttribute("aria-label",t.innerHTML));var e=this.quickDialog.element.querySelector("."+Rd);e&&(e.innerHTML=this.l10n.getConstant("cancel"),e.setAttribute("aria-label",e.innerHTML)),this.quickDialog.content=this.parent.activeEventData.event.length>1?this.l10n.getConstant("deleteMultipleContent"):this.l10n.getConstant("deleteContent"),this.quickDialog.header=this.parent.activeEventData.event.length>1?this.l10n.getConstant("deleteMultipleEvent"):this.l10n.getConstant("deleteEvent"),this.quickDialogClass("Delete"),this.showQuickDialog("DeleteAlert")}},r.prototype.openValidationError=function(t,e){this.quickDialog.header=this.l10n.getConstant("alert"),this.quickDialog.content=this.l10n.getConstant(t);var i=this.quickDialog.element.querySelector("."+Pm);i&&(i.innerHTML=this.l10n.getConstant("ok"),i.setAttribute("aria-label",i.innerHTML));var n=this.quickDialog.element.querySelector("."+Rd);n&&(n.innerHTML=this.l10n.getConstant("cancel"),i.setAttribute("aria-label",n.innerHTML)),this.quickDialogClass("Alert"),this.showQuickDialog(t==="overlapAlert"?"OverlapAlert":"ValidationAlert",e)},r.prototype.showQuickDialog=function(t,e){var i=this;this.quickDialog.dataBind();var n={type:t,cancel:!1,element:this.quickDialog.element,data:qe({},e||this.parent.activeEventData.event,null,!0)};this.parent.activeViewOptions.allowOverlap||(n.overlapEvents=this.parent.overlapAppointments),this.parent.trigger(ww,n,function(s){s.cancel||i.quickDialog.show()})},r.prototype.createMoreEventList=function(t,e,i){var n=this,s=this.parent.eventFields,a=Be("div",{className:aE}),o=Be("div",{className:x4});if(t.length===0)o=Be("div",{className:aE,innerHTML:this.l10n.getConstant("emptyContainer")});else for(var l=function(m){var y=m[s.subject]||c.parent.eventSettings.fields.subject.default||c.parent.localeObj.getConstant("addTitle"),M=Be("div",{className:Ni,attrs:{"data-id":""+m[s.id],"data-guid":m.Guid,role:"button",tabindex:"0","aria-disabled":c.parent.eventBase.getReadonlyAttribute(m),"aria-label":c.parent.getAnnouncementString(m)}});m[s.isReadonly]&&pe([M],"e-read-only");var w=void 0;if(v(c.parent.activeViewOptions.eventTemplate))M.appendChild(Be("div",{className:Bs})),c.parent.sanitize(y,M.firstElementChild);else{var b=c.parent.element.id+"_"+c.parent.activeViewOptions.eventTemplateName+"eventTemplate";w=c.parent.getAppointmentTemplate()(m,c.parent,"eventTemplate",b,!1,void 0,void 0,c.parent.root),ri(w,M)}if(v(i)||M.setAttribute("data-group-index",i),!v(m[s.recurrenceRule])){var D=m[s.id]===m[s.recurrenceID]?fT:pT;M.appendChild(Be("div",{className:xs+" "+D}))}var E={data:qe({},m,null,!0),element:M,cancel:!1};c.parent.trigger(P1,E,function(N){if(!N.cancel){o.appendChild(M);var B=n.parent.isAdaptive||n.parent.currentView==="Year";n.parent.eventBase.wireAppointmentEvents(M,m,B),n.parent.eventBase.applyResourceColor(M,m,"backgroundColor",e)}})},c=this,u=0,d=t;u<d.length;u++){var p=d[u];l(p)}return a.appendChild(o),a},r.prototype.tapHoldEventPopup=function(t){var e=Fe(t.target,"."+Ni);this.parent.selectedElements=[],this.isMultipleEventSelect=!0,this.parent.eventBase.getSelectedEventElements(e),this.parent.activeEventData=this.parent.eventBase.getSelectedEvents();var i=e.getAttribute("data-guid"),n=this.parent.eventBase.getEventByGuid(i);if(!v(n)){var s=n[this.parent.eventFields.subject]||this.l10n.getConstant("noTitle"),a='<div class="'+Kwe+'"><div class="'+v4+'">'+('<button class="'+k0+'" title="'+this.l10n.getConstant("close")+'"></button>')+('<div class="'+Bs+'">'+s+"</div>")+('<button class="'+qm+'" title="'+this.l10n.getConstant("edit")+'"></button>')+('<button class="'+iw+'" title="'+this.l10n.getConstant("delete")+'"></button></div></div>');this.quickPopup.element.innerHTML=a;var o=this.quickPopup.element.querySelector("."+k0);this.renderButton("e-flat e-round e-small",xs+" "+lE,!1,o,this.closeClick);var l=this.parent.activeViewOptions.readonly||n[this.parent.eventFields.isReadonly],c=!this.parent.eventSettings.allowEditing||l,u=!this.parent.eventSettings.allowDeleting||l,d=this.quickPopup.element.querySelector("."+qm);d&&this.renderButton("e-flat e-round e-small",xs+" "+DM,c,d,this.editClick);var p=this.quickPopup.element.querySelector("."+iw);p&&this.renderButton("e-flat e-round e-small",xs+" "+OV,u,p,this.deleteClick),this.beforeQuickPopupOpen(e,this.parent.eventBase.getPageCoordinates(t))}},r.prototype.isCellBlocked=function(t){var e={};if(e[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,e[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,e[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.activeViewOptions.group.resources.length>0){var i=t.element instanceof Array?t.element[0]:t.element,n=parseInt(i.getAttribute("data-group-index"),10);this.parent.resourceBase.setResourceValues(e,isNaN(n)?null:n)}return this.parent.eventBase.isBlockRange(e)},r.prototype.cellClick=function(t){var e=new Date(t.startTime.getTime());if(!this.parent.showQuickInfo||!this.parent.eventSettings.allowAdding||this.parent.currentView==="MonthAgenda"||this.isCellBlocked(t)||!this.parent.isMinMaxDate(new Date(e.setHours(0,0,0,0)))){this.quickPopupHide();return}var i=v(t.event)?t.element:t.event.target;if(this.parent.isAdaptive){this.quickPopupHide();var n=this.parent.element.querySelector("."+fS);v(n)&&(n=Be("div",{className:fS,innerHTML:'<div class="e-title">+ '+this.l10n.getConstant("newEvent")+"</div>"}));var s=Fe(i,"."+ci+",."+tn);s&&s.appendChild(n);return}var a=Fe(i,"."+ci+",."+tn+",."+Co);if(!(v(a)||i.classList.contains(Gl))){var o=this.quickPopup.relateTo===a;if(o&&this.quickPopup.element.classList.contains(la)){var l=this.quickPopup.element.querySelector("."+Bs);l&&l.focus();return}else this.quickPopup.element&&this.destroyPopupButtons("quickPopup");var c={};c[this.parent.eventFields.startTime]=this.parent.activeCellsData.startTime,c[this.parent.eventFields.endTime]=this.parent.activeCellsData.endTime,c[this.parent.eventFields.isAllDay]=this.parent.activeCellsData.isAllDay;var u=Be("div",{className:m4});u.appendChild(this.getPopupHeader("Cell",c)),u.appendChild(this.getPopupContent("Cell",t,c)),u.appendChild(this.getPopupFooter("Cell",c)),this.quickPopup.element.setAttribute("aria-label",this.l10n.getConstant("newEvent"));var d=u.querySelector("."+Bs);d&&Rt.createInput({element:d,properties:{placeholder:this.l10n.getConstant("addTitle")}}),v(this.parent.eventSettings.fields.subject.default)||(d.value=this.parent.eventSettings.fields.subject.default);var p=u.querySelector("."+k0);p&&this.renderButton("e-flat e-round e-small",xs+" "+lE,!1,p,this.popupClose);var m=u.querySelector("."+gS);m&&this.renderButton("e-flat","",!1,m,this.detailsClick);var y=u.querySelector("."+vS);y&&this.renderButton("e-flat e-primary","",this.parent.activeViewOptions.readonly,y,this.saveClick),this.morePopup&&this.morePopup.hide(),this.quickPopup.content=u,this.quickPopup.relateTo=a,this.quickPopup.dataBind(),this.beforeQuickPopupOpen(a,this.parent.eventBase.getPageCoordinates(t.event))}},r.prototype.isSameEventClick=function(t){var e=this.quickPopup.relateTo===Fe(t.element,"."+Ni);if(e&&this.quickPopup.element.classList.contains(la)){var i=this.quickPopup.element.querySelector("."+qm);if(i&&i.focus(),!this.parent.isAdaptive){var n=this.quickPopup.element.querySelector("."+_0);n&&n.focus()}return!0}return!1},r.prototype.isQuickTemplate=function(t){return this.parent.quickInfoTemplates.templateType==="Both"||this.parent.quickInfoTemplates.templateType===t},r.prototype.eventClick=function(t){if(this.parent.eventTooltip&&this.parent.eventTooltip.close(),!!this.parent.showQuickInfo)if(this.parent.isAdaptive&&this.isMultipleEventSelect)this.updateTapHoldEventPopup(Fe(t.element,"."+Ni));else{var e=this.isSameEventClick(t);if(this.parent.selectedElements=[],e)return;this.quickPopup.element&&this.destroyPopupButtons("quickPopup");var i=t.event,n=Be("div",{className:g4});n.appendChild(this.getPopupHeader("Event",i)),n.appendChild(this.getPopupContent("Event",t,i)),n.appendChild(this.getPopupFooter("Event",i)),this.quickPopup.element.setAttribute("aria-label",this.l10n.getConstant("editEvent"));var s=this.parent.activeViewOptions.readonly||i[this.parent.eventFields.isReadonly],a=!this.parent.eventSettings.allowEditing||s,o=!this.parent.eventSettings.allowDeleting||s,l=n.querySelector("."+qm),c="e-flat e-round e-small";l&&this.renderButton(c,xs+" "+DM,a,l,this.editClick);var u=n.querySelector("."+iw);u&&this.renderButton(c,xs+" "+OV,o,u,this.deleteClick);var d=n.querySelector("."+k0);d&&this.renderButton(c,xs+" "+lE,!1,d,this.popupClose);var p=n.querySelector("."+_0);p&&this.renderButton("e-flat e-primary","",a,p,this.editClick);var m=n.querySelector("."+vp);m&&this.renderButton("e-flat","",o,m,this.deleteClick),this.morePopup&&!Fe(t.element,"."+x4)&&this.morePopup.hide(),this.quickPopup.content=n,this.quickPopup.relateTo=this.parent.isAdaptive?document.body:Fe(t.element,"."+Ni),this.quickPopup.dataBind(),this.beforeQuickPopupOpen(t.element,this.parent.eventBase.getPageCoordinates(t.originalEvent))}},r.prototype.getPopupHeader=function(t,e){var i=Be("div",{className:v4});if(this.isQuickTemplate(t)&&this.parent.quickInfoTemplates.header){var n=qe({},e,{elementType:t.toLowerCase()},!0),s=this.parent.element.id,a=[].slice.call(this.parent.getQuickInfoTemplatesHeader()(n,this.parent,"header",s+"_headerTemplate",!1));ri([].slice.call(a),i)}else{var o=void 0,l=void 0;switch(t){case"Cell":o='<div class="'+yV+'"><button class="'+k0+'" title='+('"'+this.l10n.getConstant("close")+'"></button></div>');break;case"Event":l=this.getFormattedString(e),o='<div class="'+yV+'">'+('<button class="'+(qm+" "+xs)+'" title="'+this.l10n.getConstant("edit")+'"></button>')+('<button class="'+(iw+" "+xs)+'" title="'+this.l10n.getConstant("delete")+'"></button>')+('<button class="'+k0+'" title="'+this.l10n.getConstant("close")+'"></button></div>')+('<div class="'+uS+'"><div class="'+Bs+" "+pl+'" ')+('title="'+(l.eventSubject?l.eventSubject.replaceAll('"',"'"):l.eventSubject)+'"></div></div >');break}var c=Be("div",{innerHTML:o});if(t==="Event"){var u=c.querySelector("."+Bs);this.parent.sanitize(l.eventSubject,u)}ri([].slice.call(c.childNodes),i)}return i},r.prototype.getPopupContent=function(t,e,i){var n=Be("div",{className:$we});if(this.isQuickTemplate(t)&&this.parent.quickInfoTemplates.content){var s=qe({},i,{elementType:t.toLowerCase()},!0),a=this.parent.element.id,o=[].slice.call(this.parent.getQuickInfoTemplatesContent()(s,this.parent,"content",a+"_contentTemplate",!1));ri([].slice.call(o),n)}else{var l=void 0,c=void 0,u=void 0,d=this.getResourceText(e,t.toLowerCase());switch(t){case"Cell":c=this.getFormattedString(i),l='<table class="'+pTe+'"><tbody><tr><td><form class="'+pp+`">
                    <input class="`+Bs+" "+ibe+'" type="text" name='+('"'+this.parent.eventFields.subject+'" /></form></td></tr><tr><td><div class="'+XO+'">')+('<div class="'+FV+" "+xs+'"></div><div class="'+xV+" ")+(pl+'">'+c.details+"</div></div>")+((this.parent.activeViewOptions.group.resources.length>0?'<div class="'+RV+'">'+('<div class="'+PV+" "+xs+' "></div><div class="'+E4+" ")+(pl+'"></div></div>'):"")+"</td></tr></tbody></table>");break;case"Event":u=this.getFormattedString(i),l='<div class="'+XO+'"><div class="'+FV+" "+xs+'"></div><div class="'+Wwe+" "+pl+'"><div class="'+xV+" "+pl+'">'+u.details+"</div>",i[this.parent.eventFields.recurrenceRule]&&(l+='<div class="'+Xwe+" "+pl+'">'+this.getRecurrenceSummary(i)+"</div>"),l+="</div></div>",i[this.parent.eventFields.location]&&(l+='<div class="'+G0+'"><div class="'+sTe+" "+xs+'"></div><div class="'+AV+" "+pl+'"></div></div>'),(i[this.parent.eventFields.startTimezone]||i[this.parent.eventFields.endTimezone])&&(l+='<div class="'+Ym+'"><div class="'+tTe+" "+xs+'"></div><div class="'+iTe+" "+pl+'">'+this.getTimezone(i)+"</div></div>"),i[this.parent.eventFields.description]&&(l+='<div class="'+By+'"><div class="'+lTe+" "+xs+'"></div><div class="'+SV+" "+pl+'"></div></div>'),this.parent.resourceCollection.length>0&&(l+='<div class="'+RV+'"><div class="'+PV+" "+xs+'"></div><div class="'+E4+" "+pl+'"></div></div>');break}var p=Be("div",{innerHTML:l}),m=p.querySelector("form");if(m&&(m.onsubmit=function(){return!1}),i[this.parent.eventFields.location]){var y=p.querySelector("."+AV);v(y)||this.parent.sanitize(i[this.parent.eventFields.location],y)}if(i[this.parent.eventFields.description]){var M=p.querySelector("."+SV);v(M)||this.parent.sanitize(i[this.parent.eventFields.description],M)}if(d){var w=p.querySelector("."+E4);v(w)||this.parent.sanitize(d,w)}ri([].slice.call(p.childNodes),n)}return n},r.prototype.getPopupFooter=function(t,e){var i=Be("div",{className:ek});if(this.isQuickTemplate(t)&&this.parent.quickInfoTemplates.footer){var n=qe({},e,{elementType:t.toLowerCase()},!0),s=this.parent.element.id,a=[].slice.call(this.parent.getQuickInfoTemplatesFooter()(n,this.parent,"footer",s+"_footerTemplate",!1));ri([].slice.call(a),i)}else{var o=void 0;switch(t){case"Cell":o='<button class="'+(gS+" "+pl)+'" title='+('"'+this.l10n.getConstant("moreDetails")+'">'+this.l10n.getConstant("moreDetails")+"</button>")+('<button class="'+vS+" "+pl+'" title="'+this.l10n.getConstant("save")+'">')+(this.l10n.getConstant("save")+"</button>");break;case"Event":o=this.parent.isAdaptive?"":'<button class="'+_0+" "+(pl+'" title="'+this.l10n.getConstant("edit")+'">'+this.l10n.getConstant("edit")+"</button>")+('<button class="'+vp+" "+pl+'" title="'+this.l10n.getConstant("delete")+'">')+(this.l10n.getConstant("delete")+"</button>");break}var l=Be("div",{innerHTML:o});ri([].slice.call(l.childNodes),i)}return i},r.prototype.getResourceText=function(t,e){if(this.parent.resourceCollection.length===0)return null;var i="";if(this.parent.activeViewOptions.group.resources.length===0){var n=this.parent.resourceBase.resourceCollection.slice(-1)[0],s=n.dataSource;if(e==="event")for(var a=t.event,o=function(D){var E=a[n.field];if(E instanceof Array){if(E.indexOf(D[n.idField])>-1){var N=E[E.indexOf(D[n.idField])],B=s.filter(function(P){return P[n.idField]===N})[0];i+=i===""?B[n.textField]:", "+B[n.textField]}}else D[n.idField]===E&&(i=D[n.textField].toString())},l=0,c=s;l<c.length;l++){var u=c[l];o(u)}else i=s[0][n.textField].toString()}else if(e==="event"){for(var a=t.event,s=void 0,d,p=this.parent.resourceBase.resourceCollection.length-1;p>=0;p--)if(s=a[this.parent.resourceBase.resourceCollection[parseInt(p.toString(),10)].field],!v(s)){d=this.parent.resourceBase.resourceCollection[parseInt(p.toString(),10)];break}Array.isArray(s)||(s=[s]);var m=[],y=d.dataSource;s.forEach(function(N){var B,P=lT(y,d.idField,N);P>-1&&(B=y[parseInt(P.toString(),10)][d.textField]),B&&m.push(B)}),i=m.join(", ")}else{var M=t,w=v(M.groupIndex)?0:M.groupIndex,b=this.parent.resourceBase.lastResourceLevel[parseInt(w.toString(),10)];i=b.resourceData[b.resource.textField]}return i},r.prototype.getFormattedString=function(t){var e=this.parent.eventFields,i=t[e.subject]||this.l10n.getConstant("noTitle"),n=t[e.startTime],s=t[e.endTime],a=this.getDateFormat(n,"long"),o=t[e.isAllDay]&&s.getHours()===0&&s.getMinutes()===0?this.getDateFormat(Zt(new Date(s.getTime()),-1),"long"):this.getDateFormat(s,"long"),l=this.parent.getTimeString(n),c=this.parent.getTimeString(s),u="",d=s.getDate()!==n.getDate()&&(s.getTime()-n.getTime())/(3600*1e3)<24?1:0;return t[e.isAllDay]?(u=a+" ("+this.l10n.getConstant("allDay")+")",(Ss(s)-Ss(n))/cs>1&&(u+="&nbsp;-&nbsp;"+o+" ("+this.l10n.getConstant("allDay")+")")):(Ss(s)-Ss(n))/cs>=1||d>0?u=a+" ("+l+")&nbsp;-&nbsp;"+o+" ("+c+")":u=a+" ("+(l+"&nbsp;-&nbsp;"+c)+")",{eventSubject:i,details:u}},r.prototype.moreEventClick=function(t,e,i){var n=this;this.quickPopupHide(!0);var s=this.morePopup.element.querySelector("."+aE);s&&ji(s);var a=t.date.getTime().toString(),o=Fe(t.element,"."+Gl+",."+ci),l=this.parent.globalize.formatDate(t.date,{format:"E",calendar:this.parent.getCalendarMode()});this.morePopup.element.querySelector("."+MV).innerHTML=Rn(l,"single");var c=this.morePopup.element.querySelector("."+Fy);c.innerHTML=this.getDateFormat(t.date,"d"),c.setAttribute("data-date",a),c.setAttribute("data-end-date",e.getTime().toString());var u;v(i)||(c.setAttribute("data-group-index",i),u=this.parent.resourceBase.lastResourceLevel[parseInt(i,10)].groupOrder);var d=this.createMoreEventList(t.event,u,i);if(this.morePopup.element.querySelector("."+Q0).appendChild(d),Oe(this.morePopup.element.querySelector("."+y4).childNodes,QO),Ze(t.date).getTime()===Ze(this.parent.getCurrentTime()).getTime()&&pe(this.morePopup.element.querySelector("."+y4).childNodes,QO),!this.parent.isAdaptive)if(this.parent.currentView.indexOf("Timeline")!==-1){var p=o.getAttribute("data-group-index"),m=new Date(parseInt(o.getAttribute("data-start-date"),10));m.setHours(m.getHours(),m.getMinutes(),0);var y=m.getTime().toString();if(v(p))this.morePopup.relateTo=this.parent.element.querySelector("."+lr+' tbody tr td[data-date="'+y+'"]');else if(this.morePopup.relateTo=this.parent.element.querySelector("."+lr+' tbody tr td[data-group-index="'+p+'"][data-date="'+y+'"]'),v(this.morePopup.relateTo))for(var M=[].slice.call(this.parent.element.querySelectorAll("."+lr+' tbody tr td[data-group-index="'+p+'"]')),w=0;w<M.length;w++){var b=M[parseInt(w.toString(),10)].getAttribute("data-date");b<y&&(this.morePopup.relateTo=M[parseInt(w.toString(),10)])}}else this.morePopup.relateTo=Fe(o,"."+ci);this.parent.renderTemplates(function(){var D={type:"EventContainer",cancel:!1,element:n.morePopup.element,data:t};n.parent.trigger(ww,D,function(E){E.cancel||n.morePopup.show()})})},r.prototype.saveClick=function(t){this.applyFormValidation(),this.dialogEvent=t,this.isCrudAction=!0,this.quickPopupHide()},r.prototype.detailsClick=function(t){var e=this.quickPopup.element.querySelector("."+Bs);e&&e.value!==""&&qe(this.parent.activeCellsData,{subject:e.value}),this.dialogEvent=t,this.isCrudAction=!1,this.fieldValidator.destroyToolTip(),this.quickPopupHide(),this.parent.eventWindow.openEditor(this.parent.activeCellsData,"Add")},r.prototype.editClick=function(t){this.dialogEvent=t,this.quickPopupHide(!0);var e=this.parent.activeEventData.event;this.parent.currentAction="EditSeries",v(e[this.parent.eventFields.recurrenceRule])?this.parent.eventWindow.openEditor(e,this.parent.currentAction):(this.parent.currentAction="EditOccurrence",this.openRecurrenceAlert())},r.prototype.deleteClick=function(t){this.dialogEvent=t,this.quickPopupHide(!0),this.parent.currentAction="Delete",this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule]?this.openRecurrenceAlert():this.openDeleteAlert()},r.prototype.updateMoreEventContent=function(){if(!this.morePopup.element.classList.contains("e-popup-close")){var t=this.morePopup.element.querySelector("."+aE);t&&ji(t);var e=this.morePopup.element.querySelector("."+Fy),i=new Date(parseInt(e.getAttribute("data-date"),10)),n=new Date(parseInt(e.getAttribute("data-end-date"),10)),s=e.getAttribute("data-group-index"),a,o;v(s)||(a=this.parent.resourceBase.lastResourceLevel[parseInt(s,10)],o=a.groupOrder);var l=this.parent.eventBase.filterEvents(i,n,this.parent.eventsProcessed,a),c=this.createMoreEventList(l,o,s);this.morePopup.element.querySelector("."+Q0).appendChild(c)}},r.prototype.closeClick=function(t){this.dialogEvent=t,this.parent.currentView==="Year"&&this.parent.activeCellsData&&this.parent.activeCellsData.element&&this.parent.selectCell(this.parent.activeCellsData.element),this.quickPopupHide(),this.morePopup.hide()},r.prototype.dialogButtonClick=function(t){this.dialogEvent=t,this.quickDialog.hide();var e=t.target,i=this.quickDialog.element.querySelector("."+Rd),n=this.parent.activeEventData.event;if(e.classList.contains(M4))switch(this.parent.currentAction=this.parent.currentAction==="Delete"?"DeleteOccurrence":"EditOccurrence",this.parent.currentAction){case"EditOccurrence":this.parent.eventWindow.openEditor(n,this.parent.currentAction);break;case"DeleteOccurrence":this.parent.crudModule.deleteEvent(n,this.parent.currentAction);break}else if(e.classList.contains(TV))switch(this.parent.currentAction=this.parent.currentAction==="Delete"?"DeleteFollowingEvents":"EditFollowingEvents",this.parent.currentAction){case"EditFollowingEvents":this.parent.eventWindow.openEditor(n,this.parent.currentAction);break;case"DeleteFollowingEvents":this.parent.crudModule.deleteEvent(n,this.parent.currentAction);break}else if(e.classList.contains(w4))switch(this.parent.currentAction=this.parent.currentAction==="Delete"?"DeleteSeries":"EditSeries",this.parent.currentAction){case"EditSeries":this.parent.eventWindow.openEditor(this.parent.eventBase.getParentEvent(n,!0),this.parent.currentAction);break;case"DeleteSeries":this.parent.crudModule.deleteEvent(n,this.parent.currentAction);break}else e.classList.contains(T4)?this.parent.crudModule.deleteEvent(n,this.parent.currentAction):!i.classList.contains(hn)&&(e.classList.contains(Pm)||e.classList.contains(Rd)&&!i.classList.contains(yM))&&(this.parent.uiStateValues.isIgnoreOccurrence=e.classList.contains(Rd),this.parent.eventWindow.eventSave(t,this.l10n.getConstant("ok")))},r.prototype.updateTapHoldEventPopup=function(t){var e=this.parent.eventBase.getSelectedEventElements(t);if(this.parent.activeEventData=this.parent.eventBase.getSelectedEvents(),e.length>0){var i=this.parent.eventBase.getEventByGuid(e[0].getAttribute("data-guid")),n=e.length===1?i[this.parent.eventFields.subject]||this.l10n.getConstant("noTitle"):"("+e.length+")&nbsp;"+this.l10n.getConstant("selectedItems");this.quickPopup.element.querySelector("."+Bs).innerHTML=n,e.length>1?pe([this.quickPopup.element.querySelector("."+DM)],gl):Oe([this.quickPopup.element.querySelector("."+DM)],gl)}else this.parent.selectedElements=[],this.quickPopupHide()},r.prototype.getTimezone=function(t){var e="";return e+=t[this.parent.eventFields.startTimezone]||"",e+=e===""?"":" - ",e+=t[this.parent.eventFields.endTimezone]||"",e},r.prototype.getRecurrenceSummary=function(t){var e=this.parent.eventWindow.getRecurrenceEditorInstance();if(e){var i=e.getRuleSummary(t[this.parent.eventFields.recurrenceRule]);return i.charAt(0).toUpperCase()+i.slice(1)}return""},r.prototype.getDateFormat=function(t,e){return Rn(this.parent.globalize.formatDate(t,{skeleton:e,calendar:this.parent.getCalendarMode()}),"single")},r.prototype.getDataFromTarget=function(t){if(t.classList.contains(Ni))return this.parent.activeEventData.event;var e={startTime:this.parent.activeCellsData.startTime,endTime:this.parent.activeCellsData.endTime,isAllDay:this.parent.activeCellsData.isAllDay,groupIndex:this.parent.activeCellsData.groupIndex},i=this.parent.activeCellsData;return this.parent.eventWindow.convertToEventData(i,e),e},r.prototype.beforeQuickDialogClose=function(t){var e=this,i={event:t.event||this.dialogEvent,type:v(this.parent.activeEventData.event)?"ValidationAlert":v(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])?"DeleteAlert":"RecurrenceAlert",cancel:!1,data:this.parent.activeEventData.event,element:this.quickDialog.element};this.parent.trigger(iS,i,function(n){n.cancel||e.parent.eventBase.focusElement(!0)})},r.prototype.beforeQuickPopupOpen=function(t,e){var i=this;this.parent.renderTemplates(function(){var n=i.quickPopup.element.querySelector("."+g4),s=i.parent.isAdaptive?n?"ViewEventInfo":"EditEventInfo":"QuickInfo",a={type:s,cancel:!1,data:qe({},i.getDataFromTarget(t),null,!0),target:t,element:i.quickPopup.element};i.parent.trigger(ww,a,function(o){if(o.cancel)i.quickPopupHide(),i.destroyPopupButtons("quickPopup"),o.element.classList.contains(la)&&i.quickPopupClose(),df(i.quickPopup.element),i.isMultipleEventSelect=!1;else{var l=i.quickPopup.element.style.display;if(i.quickPopup.element.style.display="block",i.parent.isAdaptive)i.quickPopup.element.removeAttribute("style"),i.quickPopup.element.style.display="block",i.quickPopup.element.style.height=bt(s==="EditEventInfo"?65:window.innerHeight);else{var c=i.parent.virtualScrollModule&&i.parent.virtualScrollModule.isHorizontalScroll&&!v(Fe(t,"."+_n)),u=i.parent.element.querySelector("."+lr+" table");i.quickPopup.offsetX=c&&!i.parent.enableRtl?rV(u)+10:10,i.quickPopup.offsetY=i.parent.virtualScrollModule&&!i.parent.virtualScrollModule.isHorizontalScroll?i.quickPopup.offsetY:0,i.quickPopup.collision={X:i.parent.enableRtl?"flip":"none",Y:"fit"},i.quickPopup.position={X:i.parent.enableRtl?"left":"right",Y:i.parent.enableRtl?"bottom":"top"},i.quickPopup.dataBind(),i.quickPopup.refreshPosition(null,!0);var d=gp(i.quickPopup.element,i.parent.element);if(d.indexOf(i.parent.enableRtl?"left":"right")>-1){i.quickPopup.offsetX=-t.offsetWidth-10-i.quickPopup.element.offsetWidth,c&&!i.parent.enableRtl&&(i.quickPopup.offsetX=rV(u)+i.quickPopup.offsetX),i.quickPopup.dataBind(),i.quickPopup.refreshPosition(null,!0);var p=gp(i.quickPopup.element,i.parent.element);p.indexOf("left")>-1&&(i.quickPopup.position={X:"center",Y:"center"},i.quickPopup.collision={X:"fit",Y:"fit"},i.quickPopup.offsetX=-(i.quickPopup.element.offsetWidth/2),i.quickPopup.dataBind())}if(i.parent.virtualScrollModule&&!i.parent.virtualScrollModule.isHorizontalScroll&&(d.indexOf("top")>-1||d.indexOf("bottom")>-1)){var m=hK(u);i.quickPopup.offsetY=m,i.quickPopup.dataBind(),i.quickPopup.refreshPosition(null,!0)}if(i.quickPopup.position.X==="center"&&i.quickPopup.position.Y==="center"&&!v(e)&&e.clientX&&e.clientY){var y=e.clientX,M=e.clientY,w=t.getBoundingClientRect(),b=e.offsetY||Math.ceil(M-w.y),D=i.quickPopup.offsetY,E=gp(i.quickPopup.element,t),N=i.quickPopup.element.getBoundingClientRect(),B=document.elementFromPoint(y,M);(E.indexOf("top")>-1||E.indexOf("bottom")>-1||Fe(B,"."+Zh))&&(N.top<=M&&M<=N.top+N.height?(i.quickPopup.offsetY=D-N.height-10,i.quickPopup.dataBind(),E=gp(i.quickPopup.element,i.parent.element),E.indexOf("top")>-1&&(i.quickPopup.offsetY=D+b+10,i.quickPopup.dataBind())):gp(i.quickPopup.element,i.parent.element).indexOf("bottom")>-1&&(i.quickPopup.offsetY=D-b-Math.ceil(N.height)-10,i.quickPopup.dataBind()))}}n&&i.applyEventColor(),i.quickPopup.element.style.display=l,i.quickPopup.dataBind(),i.quickPopup.show()}})})},r.prototype.applyEventColor=function(){var t="";this.parent.currentView==="Agenda"||this.parent.currentView==="MonthAgenda"?t=this.parent.enableRtl?"border-right-color":"border-left-color":t="background-color";var e=this.parent.activeEventData.element.style[t];if(e!==""){var i=this.quickPopup.element.querySelector("."+v4),n=this.quickPopup.element.querySelector("."+ek);n&&n.offsetParent&&(i=this.quickPopup.element.querySelector("."+Bs),i&&(i.style.borderLeftColor=e,e="rgba("+e.match(/\d+/g).join()+",0.3)")),i&&(i.style.backgroundColor=e)}},r.prototype.quickPopupOpen=function(){if(this.parent.isAdaptive){this.quickPopup.element.style.top="0px";return}if(this.quickPopup.element.querySelector("."+m4)){var t=this.quickPopup.element.querySelector("."+Bs);t&&t.focus()}else{var e=this.quickPopup.element.querySelector("."+_0);e&&e.focus();var i=this.quickPopup.element.querySelector("."+qm);i&&i.focus()}},r.prototype.quickPopupClose=function(){this.parent.eventBase.focusElement(),this.quickPopup.relateTo="."+ci,this.fieldValidator.destroyToolTip(),this.quickPopup.element.querySelectorAll(".e-formvalidator").length&&this.fieldValidator.destroy(),this.destroyPopupButtons("quickPopup"),df(this.quickPopup.element)},r.prototype.morePopupOpen=function(){if(this.parent.isAdaptive){this.morePopup.element.style.top="0px",this.morePopup.element.style.left="0px",this.morePopup.element.style.height=bt(window.innerHeight);return}this.morePopup.element.querySelector("."+Fy).focus(),this.morePopup.refreshPosition()},r.prototype.morePopupClose=function(){var t=this.parent.element.querySelector("."+x4);t&&ji(t)},r.prototype.popupClose=function(t){this.dialogEvent=t,this.isCrudAction=!1,this.quickPopupHide(!0)},r.prototype.quickPopupHide=function(t){var e=this;if(this.quickPopup.element.classList.contains(la)){var i=this.quickPopup.element.querySelector("."+m4),n;if(i){var s=this.quickPopup.element.querySelector(".e-formvalidator");if(this.isCrudAction&&s&&!s.ej2_instances[0].validate())return;var a=this.parent.eventFields,o=this.parent.eventWindow.getObjectFromFormData(Zh);this.parent.eventWindow.setDefaultValueToObject(o),o[a.id]=this.parent.eventBase.getEventMaxID(),o[a.startTime]=this.parent.activeCellsData.startTime,o[a.endTime]=this.parent.activeCellsData.endTime,o[a.isAllDay]=this.parent.activeCellsData.isAllDay,this.parent.resourceBase&&this.parent.resourceBase.setResourceValues(o),n=o}else n=this.parent.activeEventData.event;var l=this.quickPopup.element.querySelector("."+g4),c={event:this.dialogEvent,type:this.parent.isAdaptive?l?"ViewEventInfo":"EditEventInfo":"QuickInfo",cancel:!1,data:n,element:this.quickPopup.element,target:i?this.parent.activeCellsData.element:this.parent.activeEventData.element};this.parent.trigger(iS,c,function(u){if(!u.cancel&&e.quickPopup.element.classList.contains("e-popup-open")){if(i&&e.isCrudAction&&(e.parent.currentAction="Add",e.parent.crudModule.addEvent(u.data)),t){var d=e.quickPopup.hideAnimation;e.quickPopup.hideAnimation=null,e.quickPopup.hide(),e.quickPopup.hideAnimation=d}else e.quickPopup.hide();e.isMultipleEventSelect=!1,e.isCrudAction=!1}})}},r.prototype.navigationClick=function(t){var e=Fe(t.target,"."+V1);if(!v(e)){var i=this.parent.getDateFromElement(t.currentTarget);v(i)||(this.closeClick(t),this.parent.setProperties({selectedDate:i},!0),this.parent.changeView(this.parent.getNavigateView(),t))}},r.prototype.documentClick=function(t){var e=t.event.target,i=!!Fe(e,".e-dialog"),n="."+Zh+",."+Co+",."+tn+",."+ci+",."+Ni;i||(n+=",.e-popup");var s=this.parent.element.querySelector("."+Zh);(s&&s.childElementCount>0&&!Fe(e,n)||!Fe(e,n))&&(this.quickPopupHide(),this.parent.removeNewEventElement());var a=this.parent.allowInline?this.parent.inlineModule.getInlineElement():null;a&&a!==e&&this.parent.inlineModule.documentClick(a),Fe(e,"."+Ni+",."+Co)&&this.parent.removeNewEventElement();var o=Fe(e,"."+Zh)||Fe(e,"."+wV),l=e.classList.contains(_0)||e.classList.contains(qm)||e.classList.contains(DM);(l||!o&&!Fe(e,"."+Kd)&&e.classList&&!e.classList.contains(Gl)&&!Fe(e,"."+Kd+"."+la)&&!Fe(e,"."+ci))&&this.morePopup.hide()},r.prototype.onClosePopup=function(t){v(t)||(this.dialogEvent=t),this.quickPopupHide(),(v(t)||!v(t)&&t.action!=="escape"||this.parent.inlineModule&&this.parent.element.querySelector("."+Ew))&&this.parent.eventBase.focusElement()},r.prototype.addEventListener=function(){this.parent.on(Yp,this.cellClick,this),this.parent.on(h1,this.eventClick,this),this.parent.on(Qp,this.documentClick,this),this.parent.on(hd,this.updateMoreEventContent,this)},r.prototype.removeEventListener=function(){this.parent.off(Yp,this.cellClick),this.parent.off(h1,this.eventClick),this.parent.off(Qp,this.documentClick),this.parent.off(hd,this.updateMoreEventContent)},r.prototype.destroyPopupButtons=function(t){for(var e=t==="quickPopup"?this.quickPopup:this.morePopup,i=[].slice.call(e.element.querySelectorAll(".e-control.e-btn")),n=0,s=i;n<s.length;n++){var a=s[n],o=a.ej2_instances?a.ej2_instances[0]:null;o&&o.destroy()}if(t==="quickPopup"){var l=e.element.querySelector("input."+Bs);l&&l.remove();var c=this.quickPopup.element.querySelector("form."+pp);c&&(df(c),c.remove()),this.parent.resetTemplates(["content","header","footer"])}},r.prototype.refreshQuickDialog=function(){this.destroyQuickDialog(),this.renderQuickDialog()},r.prototype.refreshQuickPopup=function(){this.destroyQuickPopup(),this.renderQuickPopup()},r.prototype.refreshMorePopup=function(){this.destroyMorePopup(),this.renderMorePopup()},r.prototype.destroyQuickDialog=function(){this.quickDialog.element&&(this.quickDialog.destroy(),ji(this.quickDialog.element),this.quickDialog=null)},r.prototype.destroyQuickPopup=function(){this.quickPopup.element&&(this.destroyPopupButtons("quickPopup"),this.quickPopup.destroy(),ji(this.quickPopup.element),this.quickPopup=null)},r.prototype.destroyMorePopup=function(){this.morePopup.element&&(this.destroyPopupButtons("morePopup"),this.morePopup.destroy(),ji(this.morePopup.element),this.morePopup=null)},r.prototype.destroy=function(){this.quickPopup.element.querySelectorAll(".e-formvalidator").length&&this.fieldValidator.destroy(),this.removeEventListener(),this.destroyQuickPopup(),this.destroyMorePopup(),this.destroyQuickDialog(),this.dialogEvent=null,this.parent=null,this.l10n=null,this.isCrudAction=null,this.fieldValidator=null,this.isMultipleEventSelect=null},r})(),sk=(function(){function r(t){this.parent=t,this.tooltipObj=new y1e({animation:{close:{effect:"FadeOut"}},content:"No title",position:"BottomRight",offsetY:10,mouseTrail:!this.parent.isAdaptive,showTipPointer:!1,cssClass:this.parent.cssClass+" "+hTe,target:this.getTargets(),beforeRender:this.onBeforeRender.bind(this),beforeClose:this.onTooltipClose.bind(this),beforeOpen:this.onTooltipOpen.bind(this),enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.parent.element)}return r.prototype.getTargets=function(){var t=[];return this.parent.activeViewOptions.group.headerTooltipTemplate&&t.push("."+$c),this.parent.eventSettings.enableTooltip&&t.push("."+Ni),t.join(",")},r.prototype.onBeforeRender=function(t){var e=this;if(this.parent.uiStateValues.isSwipeScroll){t.cancel=!0;return}if(v(t.target.getAttribute("data-tooltip-id"))){if(t.target.classList.contains($c)&&this.parent.activeViewOptions.group.resources.length>0){if(t.target.closest("."+mK)){t.cancel=!0;return}var i=void 0;if(this.parent.activeView.isTimelineView()){var n=parseInt(t.target.getAttribute("data-group-index"),10);i=this.parent.resourceBase.lastResourceLevel[parseInt(n.toString(),10)]}else{var s=t.target.parentNode.sectionRowIndex,a=t.target.cellIndex;i=this.parent.activeView.getColumnLevels()[parseInt(s.toString(),10)][parseInt(a.toString(),10)]}var o={resource:i.resource,resourceData:i.resourceData},l=Be("div"),c=this.parent.element.id+"_headerTooltipTemplate",u=[].slice.call(this.parent.getHeaderTooltipTemplate()(o,this.parent,"headerTooltipTemplate",c,!1));ri(u,l),this.setContent(l),this.parent.renderTemplates();return}var d=this.parent.eventBase.getEventByGuid(t.target.getAttribute("data-guid"));if(v(d)){this.setContent("No Title");return}if(v(this.parent.eventSettings.tooltipTemplate)){var p=this.parent.globalize,m=this.parent.eventFields,y=new Date(""+d[m.startTime]),M=new Date(""+d[m.endTime]);M=M.getTime()-y.getTime()!==0&&M.getHours()===0&&M.getMinutes()===0?new Date(M.setMilliseconds(-1e3)):M;var w=Ze(new Date(""+y)),b=Ze(new Date(""+M)),D=d[m.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),E=v(d[m.location])?"":d[m.location],N="",B="",P="";N=p.formatDate(y,{type:"date",skeleton:"MMMd",calendar:this.parent.getCalendarMode()}),B=p.formatDate(y,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),P=p.formatDate(M,{type:"date",skeleton:"medium",calendar:this.parent.getCalendarMode()}),N=Rn(N,"single"),B=Rn(B,"single"),P=Rn(P,"single");var C=this.parent.getTimeString(y),k=this.parent.getTimeString(M),_=void 0;w.getTime()===b.getTime()?(_=p.formatDate(y,{type:"date",skeleton:"long",calendar:this.parent.getCalendarMode()}),_=Rn(_,"single")):_=w.getFullYear()===b.getFullYear()?N+" - "+P:B+" - "+P;var H=d[m.isAllDay]?this.parent.localeObj.getConstant("allDay"):C+" - "+k,j='<div><div class="e-subject">'+D+'</div><div class="e-location">'+E+'</div><div class="e-details">'+_+'</div><div class="e-all-day">'+H+"</div></div>",z=function(){return j};this.setContent(rL(z))}else{var l=Be("div"),c=this.parent.element.id+"_tooltipTemplate",u=[].slice.call(this.parent.getEventTooltipTemplate()(d,this.parent,"tooltipTemplate",c,!1));ri(u,l),this.setContent(l)}this.parent.renderTemplates(function(){if(e.parent&&e.parent.isReact&&!v(e.parent.eventSettings.tooltipTemplate)){var F=document.querySelector("."+b4);F&&Oe([F],b4)}})}},r.prototype.onTooltipOpen=function(t){t.element&&this.parent.isReact&&!v(this.parent.eventSettings.tooltipTemplate)&&pe([t.element],b4);var e=this.parent.eventBase.getEventByGuid(t.target.getAttribute("data-guid"));if(!v(e)){var i={cancel:!1,data:e,content:t.element,target:t.target};this.parent.trigger(pwe,i,function(n){if(n.cancel){t.cancel=!0;return}t.element=n.content})}},r.prototype.onTooltipClose=function(t){t.element&&(Oe([t.element],la),pe([t.element],Iwe)),this.parent.isReact&&this.parent.eventWindow.dialogObject&&this.parent.eventWindow.dialogObject.visible||this.parent.resetTemplates(["tooltipTemplate","headerTooltipTemplate"])},r.prototype.setContent=function(t){this.tooltipObj.setProperties({content:t,windowCollision:!0},!0)},r.prototype.close=function(){this.tooltipObj.close()},r.prototype.destroy=function(){this.tooltipObj.destroy(),pe([this.parent.element],"e-control"),this.tooltipObj=null,this.parent=null},r})(),pu="",sA="",SM="",no=[],rbe="e-active",MS="";function NM(r,t,e,i,n,s,a,o,l){!s||pu===""?SM!==""?(pu=SM+String.fromCharCode(r),SM=""):pu+=String.fromCharCode(r):pu===sA&&(SM=String.fromCharCode(r)),o?(setTimeout(function(){SM=""},700),setTimeout(function(){pu=""},3e3)):setTimeout(function(){pu=""},1e3);var c;if(pu=pu.toLowerCase(),MS===n&&sA===pu&&!l){for(var u=0;u<no.length;u++){if(no[u].classList.contains(rbe)){c=u;break}if(a&&no[u].textContent.toLowerCase()===a.toLowerCase()){c=u;break}}return c=c+1,o?no[c]&&no.length-1!==c?no[c]:no[no.length]:no[c]?no[c]:no[0]}else{var d=t,p=pu.length,m=void 0,y=void 0;e=e?e+1:0;var u=e;no=[];do u===d.length&&(u=-1),u===-1?c=0:c=u,y=d[c],m=y.innerText.toLowerCase(),m.substr(0,p)===pu&&no.push(d[c]),u++;while(u!==e);if(sA=pu,MS=n,o){for(var M=!1,w=0;w<no.length;w++)if(a&&no[w].textContent.toLowerCase()===a.toLowerCase()){c=w,M=!0;break}return a&&M&&(c=c+1),no[c]?no[c]:no[0]}return no[0]}}function Ny(r,t,e,i,n,s,a,o){var l=t;i=i??!0;var c={item:null,index:null};if(r&&r.length&&t){var u=r.length,d=i?r.toLocaleLowerCase():r;d=nbe(d);for(var p=function(w,b){var D=b[w],E;if(t&&n){var N=D,B=s.text.split(".");n.filter(function(C){Array.prototype.slice.call(B).forEach(function(k){(a==="object"&&!C.isHeader&&N.textContent.toString().indexOf(C[k])!==-1&&C[s.value]!=null&&N.getAttribute("data-value")===C[s.value].toString()||a==="string"&&N.textContent.toString().indexOf(C)!==-1)&&(E=a==="object"?C[k]:C)})})}var P=n&&E?(i?E.toString().toLocaleLowerCase():E).replace(/^\s+|\s+$/g,""):(i?D.textContent.toLocaleLowerCase():D.textContent).replace(/^\s+|\s+$/g,"");if(e==="Equal"&&P===d||e==="StartsWith"&&P.substr(0,u)===d||e==="EndsWith"&&P.substr(P.length-d.length)===d||e==="Contains"&&new RegExp(d,"g").test(P))return c.item=D,c.index=w,{value:{item:D,index:w}}},m=0,y=l;m<y.length;m++){var M=p(m,y);if(typeof M=="object")return M.value}return c}return c}function nbe(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function sbe(r){MS===r&&(MS="",sA="",pu="",no=[])}var abe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Bm=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},O4={TEXTSHAPE:"e-skeleton-text",CIRCLESHAPE:"e-skeleton-circle",SQUARESHAPE:"e-skeleton-square",RECTANGLESHAPE:"e-skeleton-rectangle",WAVEEFFECT:"e-shimmer-wave",PULSEEFFECT:"e-shimmer-pulse",FADEEFFECT:"e-shimmer-fade",VISIBLENONE:"e-visible-none"},QV;(function(r){r.Text="Text",r.Circle="Circle",r.Square="Square",r.Rectangle="Rectangle"})(QV||(QV={}));var GV;(function(r){r.Wave="Wave",r.Fade="Fade",r.Pulse="Pulse",r.None="None"})(GV||(GV={}));var KV=(function(r){abe(t,r);function t(e,i){return r.call(this,e,i)||this}return t.prototype.getModuleName=function(){return"skeleton"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.preRender=function(){this.element.id||(this.element.id=Ha("e-"+this.getModuleName())),this.updateCssClass(),Ht(this.element,{role:"alert","aria-busy":"true","aria-live":"polite","aria-label":this.label})},t.prototype.render=function(){this.initialize()},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"width":case"height":this.updateDimension();break;case"shape":this.updateShape();break;case"shimmerEffect":this.updateEffect();break;case"visible":this.updateVisibility();break;case"label":this.element.setAttribute("aria-label",this.label);break;case"cssClass":i.cssClass&&Oe([this.element],i.cssClass.split(" ")),this.updateCssClass();break}}},t.prototype.destroy=function(){r.prototype.destroy.call(this);var e=["role","aria-live","aria-busy","aria-label"],i=[];this.cssClass&&(i=i.concat(this.cssClass.split(" ")));for(var n=0;n<e.length;n++)this.element.removeAttribute(e[parseInt(n.toString(),10)]);i=i.concat(this.element.classList.value.match(/(e-skeleton-[^\s]+)/g)||[]),i=i.concat(this.element.classList.value.match(/(e-shimmer-[^\s]+)/g)||[]),Oe([this.element],i)},t.prototype.initialize=function(){this.updateShape(),this.updateEffect(),this.updateVisibility()},t.prototype.updateShape=function(){if(!v(this.shape)){var e=O4[this.shape.toUpperCase()+"SHAPE"],i=this.element.classList.value.match(/(e-skeleton-[^\s]+)/g)||[];this.updateDimension(),i&&Oe([this.element],i),pe([this.element],[e])}},t.prototype.updateDimension=function(){var e=!this.width&&["Text","Rectangle"].indexOf(this.shape)>-1?"100%":bt(this.width),i=["Circle","Square"].indexOf(this.shape)>-1?e:bt(this.height);this.element.style.width=e,this.element.style.height=i},t.prototype.updateEffect=function(){var e=this.element.classList.value.match(/(e-shimmer-[^\s]+)/g)||[];e&&Oe([this.element],e),v(this.shimmerEffect)||pe([this.element],[O4[this.shimmerEffect.toUpperCase()+"EFFECT"]])},t.prototype.updateVisibility=function(){this.element.classList[this.visible?"remove":"add"](O4.VISIBLENONE)},t.prototype.updateCssClass=function(){this.cssClass&&pe([this.element],this.cssClass.split(" "))},Bm([ee("")],t.prototype,"width",void 0),Bm([ee("")],t.prototype,"height",void 0),Bm([ee(!0)],t.prototype,"visible",void 0),Bm([ee("Text")],t.prototype,"shape",void 0),Bm([ee("Wave")],t.prototype,"shimmerEffect",void 0),Bm([ee("Loading...")],t.prototype,"label",void 0),Bm([ee("")],t.prototype,"cssClass",void 0),t=Bm([$n],t),t})(Dl),HK=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),ys=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},WK=(function(r){HK(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return ys([ee()],t.prototype,"text",void 0),ys([ee()],t.prototype,"value",void 0),ys([ee()],t.prototype,"iconCss",void 0),ys([ee()],t.prototype,"groupBy",void 0),ys([ee()],t.prototype,"htmlAttributes",void 0),ys([ee()],t.prototype,"disabled",void 0),t})(fa),$e={root:"e-dropdownbase",rtl:"e-rtl",content:"e-content",selected:"e-active",hover:"e-hover",noData:"e-nodata",fixedHead:"e-fixed-head",focus:"e-item-focus",li:"e-list-item",group:"e-list-group-item",disabled:"e-disabled",grouping:"e-dd-group",virtualList:"e-list-item e-virtual-list"},obe="ItemTemplate",lbe="DisplayTemplate",cbe="SpinnerTemplate",ube="ValueTemplate",hbe="GroupTemplate",dbe="HeaderTemplate",fbe="FooterTemplate",pbe="NoRecordsTemplate",mbe="ActionFailureTemplate",gbe="e-hide-group-header",YK=(function(r){HK(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.preventChange=!1,n.isPreventChange=!1,n.isDynamicDataChange=!1,n.addedNewItem=!1,n.isAddNewItemTemplate=!1,n.isRequesting=!1,n.isVirtualizationEnabled=!1,n.isCustomDataUpdated=!1,n.isAllowFiltering=!1,n.virtualizedItemsCount=0,n.isCheckBoxSelection=!1,n.totalItemCount=0,n.dataCount=0,n.remoteDataCount=-1,n.isRemoteDataUpdated=!1,n.isIncrementalRequest=!1,n.itemCount=30,n.virtualListHeight=0,n.isVirtualScrolling=!1,n.isPreventScrollAction=!1,n.scrollPreStartIndex=0,n.isScrollActionTriggered=!1,n.previousStartIndex=0,n.isMouseScrollAction=!1,n.isKeyBoardAction=!1,n.isScrollChanged=!1,n.isUpwardScrolling=!1,n.startIndex=0,n.currentPageNumber=0,n.pageCount=0,n.isPreventKeyAction=!1,n.generatedDataObject={},n.skeletonCount=32,n.isVirtualTrackHeight=!1,n.virtualSelectAll=!1,n.isVirtualReorder=!1,n.incrementalQueryString="",n.incrementalEndIndex=0,n.incrementalStartIndex=0,n.incrementalPreQueryString="",n.isObjectCustomValue=!1,n.appendUncheckList=!1,n.getInitialData=!1,n.preventPopupOpen=!0,n.virtualSelectAllState=!1,n.CurrentEvent=null,n.isDynamicData=!1,n.isPrimitiveData=!1,n.isCustomFiltering=!1,n.debounceTimer=null,n.virtualListInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n.selectedValueInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:0},n}return t.prototype.getPropObject=function(e,i,n){var s=new Object,a=new Object,o=function(c){return c};s[o(e)]=i[o(e)],a[o(e)]=n[o(e)];var l=new Object;return l.newProperty=s,l.oldProperty=a,l},t.prototype.getValueByText=function(e,i,n){var s=null;return v(this.listData)||(i?s=this.checkValueCase(e,!0,n):s=this.checkValueCase(e,!1,n)),s},t.prototype.checkValueCase=function(e,i,n,s){var a=this,o=null;if(s&&(o=e),!v(this.listData)){var l=this.listData,c=this.fields,u=this.typeOfData(l).typeof;if(u==="string"||u==="number"||u==="boolean")for(var d=0,p=l;d<p.length;d++){var m=p[d];v(m)||(n?i?this.checkIgnoreCase(String(m),e)&&(o=this.checkingAccent(String(m),e,i)):o=this.checkingAccent(String(m),e,i):i?this.checkIgnoreCase(String(m),e)&&(o=this.getItemValue(String(m),e,i)):this.checkNonIgnoreCase(String(m),e)&&(o=this.getItemValue(String(m),e,i,s)))}else if(i)l.filter(function(M){var w=Pe(c.value,M);!v(w)&&a.checkIgnoreCase(Pe(c.text,M).toString(),e)&&(o=Pe(c.value,M))});else if(s){var y=null;y=o,l.filter(function(M){var w=Pe(c.value,M);!v(w)&&!v(o)&&w.toString()===y.toString()&&(o=Pe(c.text,M))})}else l.filter(function(M){a.checkNonIgnoreCase(Pe(c.text,M),e)&&(o=Pe(c.value,M))})}return o},t.prototype.checkingAccent=function(e,i,n){var s=pt.ignoreDiacritics(String(e)),a=pt.ignoreDiacritics(i.toString()),o=null;return n?this.checkIgnoreCase(s,a)&&(o=this.getItemValue(String(e),i,n)):this.checkNonIgnoreCase(String(e),i)&&(o=this.getItemValue(String(e),i,n)),o},t.prototype.checkIgnoreCase=function(e,i){return String(e).toLowerCase()===i.toString().toLowerCase()},t.prototype.checkNonIgnoreCase=function(e,i){return String(e)===i.toString()},t.prototype.getItemValue=function(e,i,n,s){var a=null,o=this.listData,l=this.typeOfData(o).typeof;return s?a=e.toString():n?a=l==="string"?String(e):this.getFormattedValue(String(e)):a=l==="string"?i:this.getFormattedValue(i),a},t.prototype.templateCompiler=function(e){var i=!1;if(typeof e!="function"&&e)try{i=!!Ei(e,document).length}catch{i=!1}return i},t.prototype.l10nUpdate=function(e){var i=this.getModuleName()==="listbox"?this.ulElement:this.list;if(!v(this.noRecordsTemplate)&&this.noRecordsTemplate!=="No records found"||this.actionFailureTemplate!=="Request failed"){var n=e?this.actionFailureTemplate:this.noRecordsTemplate,s=void 0,a=e?this.actionFailureTemplateId:this.noRecordsTemplateId;i.innerHTML="";var o=this.templateCompiler(n);typeof n!="function"&&o?s=jn(Et(n,document).innerHTML.trim()):s=jn(n);var l=e?"actionFailureTemplate":"noRecordsTemplate",c=void 0;if(this.isReact&&typeof n=="function"?c=s({},this,l,a,this.isStringTemplate,null):c=s({},this,l,a,this.isStringTemplate,null,i),c&&c.length>0)for(var u=0;u<c.length;u++)if(this.getModuleName()==="listbox"&&l==="noRecordsTemplate")if(c[u].nodeName==="#text"){var d=this.createElement("li");d.textContent=c[u].textContent,d.classList.add("e-list-nrt"),d.setAttribute("role","option"),i.appendChild(d)}else c[u].classList.add("e-list-nr-template"),i.appendChild(c[u]);else(c[u]instanceof HTMLElement||c[u]instanceof Text&&c[u].textContent!=="")&&i.appendChild(c[u]);this.renderReactTemplates()}else{var p={noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed"},m=new Ql(this.getLocaleName(),{},this.locale);m.getConstant("actionFailureTemplate")!==""||m.getConstant("noRecordsTemplate")!==""?this.l10n=m:this.l10n=new Ql(this.getModuleName()==="listbox"?"listbox":this.getModuleName()==="mention"?"mention":"dropdowns",p,this.locale);var y=e?this.l10n.getConstant("actionFailureTemplate"):this.l10n.getConstant("noRecordsTemplate");if(this.getModuleName()==="listbox"){var d=this.createElement("li");d.textContent=y,i.appendChild(d),d.classList.add("e-list-nrt"),d.setAttribute("role","option")}else v(i)||(i.innerHTML=y)}},t.prototype.checkAndResetCache=function(){this.isVirtualizationEnabled&&(this.generatedDataObject={},this.virtualItemStartIndex=this.virtualItemEndIndex=0,this.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount},this.selectedValueInfo=null)},t.prototype.updateIncrementalInfo=function(e,i){this.viewPortInfo.startIndex=e,this.viewPortInfo.endIndex=i,this.updateVirtualItemIndex(),this.isIncrementalRequest=!0,this.resetList(this.dataSource,this.fields,this.query),this.isIncrementalRequest=!1},t.prototype.updateIncrementalView=function(e,i){this.viewPortInfo.startIndex=e,this.viewPortInfo.endIndex=i,this.updateVirtualItemIndex(),this.resetList(this.dataSource,this.fields,this.query),this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll("."+$e.li),this.ulElement=this.list.querySelector("ul")},t.prototype.updateVirtualItemIndex=function(){this.virtualItemStartIndex=this.viewPortInfo.startIndex,this.virtualItemEndIndex=this.viewPortInfo.endIndex,this.virtualListInfo=this.viewPortInfo},t.prototype.getFilteringSkeletonCount=function(){var e=this.skeletonCount;this.getSkeletonCount(!0),this.skeletonCount=this.dataCount<this.itemCount*2&&(!(this.dataSource instanceof ut)||this.dataSource instanceof ut&&this.totalItemCount<=this.itemCount)?0:this.skeletonCount;var i=!0;if((this.getModuleName()==="autocomplete"||this.getModuleName()==="multiselect")&&this.totalItemCount<this.itemCount*2&&(!(this.dataSource instanceof ut)||this.dataSource instanceof ut&&this.totalItemCount<=this.itemCount)&&(this.skeletonCount=0,i=!1),!this.list.classList.contains($e.noData)){if(e!==this.skeletonCount&&i?this.UpdateSkeleton(!0,Math.abs(e-this.skeletonCount)):this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl").length>0)this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight();else if(!this.list.querySelector(".e-virtual-ddl")&&this.skeletonCount>0&&this.list.querySelector(".e-dropdownbase")){var n=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl",styles:this.GetVirtualTrackHeight()});this.list.querySelector(".e-dropdownbase").appendChild(n)}this.list.getElementsByClassName("e-virtual-ddl-content").length>0&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues())}},t.prototype.getSkeletonCount=function(e){this.virtualListHeight=this.listContainerHeight!=null?parseInt(this.listContainerHeight,10):this.virtualListHeight;var i=this.virtualListHeight>0&&this.listItemHeight>0?Math.floor(this.virtualListHeight/this.listItemHeight):0;this.skeletonCount=i*4<this.itemCount?this.itemCount:i*4,this.itemCount=e?this.itemCount:this.skeletonCount,this.virtualItemCount=this.itemCount,this.skeletonCount=Math.floor(this.skeletonCount/2)},t.prototype.GetVirtualTrackHeight=function(){var e=this.totalItemCount===this.viewPortInfo.endIndex?this.totalItemCount*this.listItemHeight-this.itemCount*this.listItemHeight:this.totalItemCount*this.listItemHeight;e=this.isVirtualTrackHeight?0:e;var i="height: "+(e-this.itemCount*this.listItemHeight)+"px;";return(this.getModuleName()==="autocomplete"||this.getModuleName()==="multiselect")&&this.skeletonCount===0?"height: 0px;":i},t.prototype.getTransformValues=function(){var e=this.viewPortInfo.startIndex*this.listItemHeight;e=e-this.skeletonCount*this.listItemHeight,e=this.viewPortInfo.startIndex===0&&this.listData&&this.listData.length===0||this.skeletonCount===0?0:e;var i="transform: translate(0px, "+e+"px);";return i},t.prototype.UpdateSkeleton=function(e,i){var n=this.list.querySelector(".e-virtual-ddl-content"),s=this.list.querySelector(".e-virtual-list");if(n&&(!s||e)&&this.isVirtualizationEnabled){for(var a=e?i:this.skeletonCount,o=0;o<a;o++){var l=this.createElement("li",{className:$e.virtualList,styles:"overflow: inherit"});this.isVirtualizationEnabled&&this.itemTemplate&&(l.style.height=this.listItemHeight-parseInt(window.getComputedStyle(this.getItems()[1]).marginBottom,10)+"px");var c=new KV({shape:"Text",height:"10px",width:"95%",cssClass:"e-skeleton-text"});c.appendTo(this.createElement("div")),l.appendChild(c.element),n.firstChild&&n.firstChild.insertBefore(l,n.firstChild.children[0])}if(this.getModuleName()==="multiselect"&&!this.isVirtualReorder&&!n.firstChild.classList.contains("e-reorder")){for(var o=0;o<a&&this.totalItemCount!==this.viewPortInfo.endIndex;o++){var l=this.createElement("li",{className:$e.virtualList+" e-virtual-list-end",styles:"overflow: inherit"});this.isVirtualizationEnabled&&this.itemTemplate&&(l.style.height=this.listItemHeight-parseInt(window.getComputedStyle(this.getItems()[1]).marginBottom,10)+"px");var c=new KV({shape:"Text",height:"10px",width:"95%",cssClass:"e-skeleton-text-end"});c.appendTo(this.createElement("div")),l.appendChild(c.element),n.firstChild&&n.firstChild.appendChild(l)}this.totalItemCount===this.viewPortInfo.endIndex&&n.querySelectorAll(".e-virtual-list-end").forEach(function(u){return u.remove()})}}},t.prototype.getLocaleName=function(){return"drop-down-base"},t.prototype.getTextByValue=function(e){var i=this.checkValueCase(e,!1,!1,!0);return i},t.prototype.getFormattedValue=function(e){if(this.listData&&this.listData.length){var i=void 0;if(this.properties.allowCustomValue&&this.properties.value&&this.properties.value instanceof Array&&this.properties.value.length>0?i=this.typeOfData(this.properties.value):i=this.typeOfData(this.listData),!v(i.item)&&typeof Pe(this.fields.value?this.fields.value:"value",i.item)=="number"||i.typeof==="number")return parseFloat(e);if(!v(i.item)&&typeof Pe(this.fields.value?this.fields.value:"value",i.item)=="boolean"||i.typeof==="boolean")return e==="true"||""+e=="true"}return e},t.prototype.setEnableRtl=function(){v(this.enableRtlElements)||(this.list&&this.enableRtlElements.push(this.list),this.enableRtl?pe(this.enableRtlElements,$e.rtl):Oe(this.enableRtlElements,$e.rtl))},t.prototype.initialize=function(e){if(this.bindEvent=!0,this.preventPopupOpen=!0,this.actionFailureTemplateId=""+this.element.id+mbe,this.element.tagName==="UL"){var i=en.createJsonFromElement(this.element);this.setProperties({fields:{text:"text",value:"text"}},!0),this.resetList(i,this.fields)}else if(this.element.tagName==="SELECT"){var n=this.dataSource instanceof Array?this.dataSource.length>0:!v(this.dataSource);n?this.isDynamicDataChange&&this.setListData(this.dataSource,this.fields,this.query):this.renderItemsBySelect()}else this.setListData(this.dataSource,this.fields,this.query,e)},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.updateDataAttribute=function(e){for(var i=["class","style","id","type","aria-expanded","aria-autocomplete","aria-readonly"],n={},s=0;s<this.element.attributes.length;s++)i.indexOf(this.element.attributes[s].name)===-1&&!(this.getModuleName()==="dropdownlist"&&this.element.attributes[s].name==="readonly")&&(n[this.element.attributes[s].name]=this.element.getAttribute(this.element.attributes[s].name));qe(n,e,n),this.setProperties({htmlAttributes:n},!0)},t.prototype.renderItemsBySelect=function(){var e=this.element,i=e.querySelectorAll("select>optgroup"),n,s=this.getModuleName()==="multiselect"&&this.isGroupChecking&&i.length>0;n=s?{value:"value",text:"text",groupBy:"categeory"}:n={value:"value",text:"text"};var a=[],o=e.querySelectorAll("select>option");if(this.getJSONfromOption(a,o,n),i.length){for(var l=0;l<i.length;l++){var c=i[l],u={};u[n.text]=c.label,u.isHeader=!0;var d=c.querySelectorAll("option");s?this.getJSONfromOption(a,d,n,c.label):(a.push(u),this.getJSONfromOption(a,d,n))}e.querySelectorAll("select>option")}this.updateFields(n.text,n.value,s?n.groupBy:this.fields.groupBy,this.fields.htmlAttributes,this.fields.iconCss,this.fields.disabled),this.resetList(a,n)},t.prototype.updateFields=function(e,i,n,s,a,o){var l={fields:{text:e,value:i,groupBy:v(n)?this.fields&&this.fields.groupBy:n,htmlAttributes:v(s)?this.fields&&this.fields.htmlAttributes:s,iconCss:v(a)?this.fields&&this.fields.iconCss:a,disabled:v(o)?this.fields&&this.fields.disabled:o}};this.setProperties(l,!0)},t.prototype.getJSONfromOption=function(e,i,n,s){s===void 0&&(s=null);for(var a=0,o=i;a<o.length;a++){var l=o[a],c={};c[n.text]=l.text,c[n.value]=v(l.getAttribute(n.value))?l.value:l.getAttribute(n.value),v(s)||(c[n.groupBy]=s),e.push(c)}},t.prototype.preRender=function(){this.scrollTimer=-1,this.enableRtlElements=[],this.isRequested=!1,this.isDataFetched=!1,this.itemTemplateId=""+this.element.id+obe,this.displayTemplateId=""+this.element.id+lbe,this.spinnerTemplateId=""+this.element.id+cbe,this.valueTemplateId=""+this.element.id+ube,this.groupTemplateId=""+this.element.id+hbe,this.headerTemplateId=""+this.element.id+dbe,this.footerTemplateId=""+this.element.id+fbe,this.noRecordsTemplateId=""+this.element.id+pbe},t.prototype.setListData=function(e,i,n,s){var a=this;i=i||this.fields;var o;this.isActive=!0;var l={cancel:!1,data:e,query:n};this.isPreventChange=this.isAngular&&this.preventChange?!0:this.isPreventChange,this.isRequesting||this.trigger("actionBegin",l,function(c){if(!c.cancel)if(a.isRequesting=!0,a.showSpinner(),e instanceof ut){a.isRequested=!0;var u=!1;if(a.isDataFetched){a.emptyDataRequest(i);return}var d=a.getQuery(c.query);c.data.executeQuery(d).then(function(E){a.isPreventChange=a.isAngular&&a.preventChange?!0:a.isPreventChange;var N=!0;if(!a.virtualSelectAll){for(var B=d.clone(),P=0;P<B.queries.length;P++)B.queries[P].fn==="onWhere"&&(u=!0);if(a.isVirtualizationEnabled&&E.count!==0&&E.count<a.itemCount*2){if(B)for(var P=0;P<B.queries.length;P++)B.queries[P].fn==="onTake"&&(B.queries[P].e.nos=E.count),a.getModuleName()==="multiselect"&&(B.queries[P].e.condition==="or"||B.queries[P].e.operator==="equal")&&!a.isCustomFiltering&&(N=!1)}else if(a.isVirtualTrackHeight=!1,B)for(var P=0;P<B.queries.length;P++)a.getModuleName()==="multiselect"&&(B.queries[P].e&&B.queries[P].e.condition==="or"||B.queries[P].e&&B.queries[P].e.operator==="equal")&&(N=!1)}N&&(a.dataCount=a.totalItemCount=E.count),a.trigger("actionComplete",E,function(C){if(!C.cancel){a.isRequesting=!1,a.isCustomFiltering=!1;var k=C.result;if(a.isIncrementalRequest){o=a.renderItems(k,i);return}if((!a.isVirtualizationEnabled&&k.length===0||a.isVirtualizationEnabled&&k.length===0&&!u)&&(a.isDataFetched=!0),u||(a.remoteDataCount=C.count),a.dataCount=a.virtualSelectAll?a.dataCount:C.count,a.totalItemCount=a.virtualSelectAll?a.totalItemCount:C.count,o=a.renderItems(k,i),a.appendUncheckList=!1,a.isUpdateGroupTemplate=!1,a.onActionComplete(o,k,C),a.groupTemplate&&(a.isAngular&&a.getModuleName()==="multiselect"&&a.updateGroupHeaderItems(o),a.renderGroupTemplate(o)),a.isUpdateGroupTemplate=!0,a.isRequested=!1,a.bindChildItems(k,o,i,C),a.getInitialData){a.getInitialData=!1,a.preventPopupOpen=!1;return}var _=!1;a.isVirtualizationEnabled&&a.setCurrentView&&(_=!0,a.notify("setCurrentViewDataAsync",{module:"VirtualScroll"})),a.keyboardEvent!=null&&a.handleVirtualKeyboardActions(a.keyboardEvent,a.pageCount);var H=a.getModuleName()!=="multiselect"||a.getModuleName()==="multiselect"&&(!(a.dataSource instanceof ut)||a.dataSource instanceof ut&&!_);a.isVirtualizationEnabled&&H&&(a.getFilteringSkeletonCount(),a.updatePopupPosition()),a.virtualSelectAll&&a.virtualSelectAllData&&(a.virtualSelectionAll(a.virtualSelectAllState,a.liCollections,a.CurrentEvent),a.virtualSelectAllState=!1,a.CurrentEvent=null,a.virtualSelectAll=!1)}})}).catch(function(E){a.isRequested=!1,a.isRequesting=!1,a.onActionFailure(E),a.hideSpinner()})}else{a.isRequesting=!1;var p=!0,m=void 0;if(a.isVirtualizationEnabled&&!a.virtualGroupDataSource&&a.fields.groupBy){var y=new ut(a.dataSource).executeLocal(new di().group(a.fields.groupBy));a.virtualGroupDataSource=y.records}var M=a.isVirtualizationEnabled&&a.virtualGroupDataSource&&!a.isCustomDataUpdated?new ut(a.virtualGroupDataSource):new ut(c.data);if(m=a.getQuery(c.query).executeLocal(M),!a.virtualSelectAll){var w=a.getQuery(c.query);if(a.isVirtualizationEnabled&&m.count!==0&&m.count<a.itemCount*2&&!a.appendUncheckList){if(w){for(var b=0;b<w.queries.length;b++)w.queries[b].fn==="onTake"&&(w.queries[b].e.nos=m.count,m=w.executeLocal(M)),a.getModuleName()==="multiselect"&&(w.queries[b].e.condition==="or"||w.queries[b].e.operator==="equal")&&!a.isCustomFiltering&&(p=!1);p&&(m=w.executeLocal(M),a.isVirtualTrackHeight=!(a.dataSource instanceof ut)&&!a.isCustomDataUpdated)}}else if(a.isVirtualTrackHeight=!1,w)for(var b=0;b<w.queries.length;b++)a.getModuleName()==="multiselect"&&(w.queries[b].e&&w.queries[b].e.condition==="or"||w.queries[b].e&&w.queries[b].e.operator==="equal")&&(p=!1)}p&&!(a.dataSource instanceof ut)&&!a.isCustomDataUpdated&&!a.virtualSelectAll&&(a.dataCount=a.totalItemCount=a.virtualSelectAll?m.length:m.count),m=a.isVirtualizationEnabled?m.result:m;var D={cancel:!1,result:m};a.isPreventChange=a.isAngular&&a.preventChange?!0:a.isPreventChange,a.trigger("actionComplete",D,function(E){if(a.isCustomFiltering=!1,a.isIncrementalRequest){o=a.renderItems(E.result,i);return}if(!E.cancel){if(o=a.renderItems(E.result,i),a.isUpdateGroupTemplate=!1,a.onActionComplete(o,E.result,s),a.groupTemplate&&(a.isAngular&&a.getModuleName()==="multiselect"&&a.updateGroupHeaderItems(o),a.renderGroupTemplate(o)),a.isUpdateGroupTemplate=!0,a.bindChildItems(E.result,o,i),a.getInitialData){a.getInitialData=!1,a.preventPopupOpen=!1;return}setTimeout(function(){a.getModuleName()==="multiselect"&&a.itemTemplate!=null&&o.childElementCount>0&&(o.children[0].childElementCount>0||a.fields.groupBy&&o.children[1]&&o.children[1].childElementCount>0)&&a.updateDataList()})}})}})},t.prototype.updateGroupHeaderItems=function(e){for(var i=e.querySelectorAll("."+$e.group),n=[],s=0;s<i.length;s++)n.push(i[s].cloneNode?i[s].cloneNode(!0):i[s]);this.isFilterAction?this.fiteredGroupHeaderItems=n:this.groupHeaderItems=n},t.prototype.setCustomListData=function(e,i,n,s){var a=this;i=i||this.fields;var o;if(this.isActive=!0,this.isPreventChange=this.isAngular&&this.preventChange?!0:this.isPreventChange,!this.isRequesting){this.isRequesting=!0,this.showSpinner(),this.isRequesting=!1;var l=!0,c=void 0;if(this.isVirtualizationEnabled&&!this.virtualGroupDataSource&&this.fields.groupBy){var u=new ut(this.dataSource).executeLocal(new di().group(this.fields.groupBy));this.virtualGroupDataSource=u.records}var d=this.isVirtualizationEnabled&&this.virtualGroupDataSource&&!this.isCustomDataUpdated?new ut(this.virtualGroupDataSource):new ut(e);if(c=this.getQuery(n).executeLocal(d),!this.virtualSelectAll){var p=this.getQuery(n);if(this.isVirtualizationEnabled&&c.count!==0&&c.count<this.itemCount*2&&!this.appendUncheckList){if(p){for(var m=0;m<p.queries.length;m++)p.queries[m].fn==="onTake"&&(p.queries[m].e.nos=c.count,c=p.executeLocal(d)),this.getModuleName()==="multiselect"&&(p.queries[m].e.condition==="or"||p.queries[m].e.operator==="equal")&&!this.isCustomFiltering&&(l=!1);l&&(c=p.executeLocal(d),this.isVirtualTrackHeight=!(this.dataSource instanceof ut)&&!this.isCustomDataUpdated)}}else if(this.isVirtualTrackHeight=!1,p)for(var m=0;m<p.queries.length;m++)this.getModuleName()==="multiselect"&&(p.queries[m].e&&p.queries[m].e.condition==="or"||p.queries[m].e&&p.queries[m].e.operator==="equal")&&(l=!1)}if(l&&!(this.dataSource instanceof ut)&&!this.isCustomDataUpdated&&!this.virtualSelectAll&&(this.dataCount=this.totalItemCount=this.virtualSelectAll?c.length:c.count),c=this.isVirtualizationEnabled?c.result:c,this.isPreventChange=this.isAngular&&this.preventChange?!0:this.isPreventChange,this.isCustomFiltering=!1,this.isIncrementalRequest){o=this.renderItems(c,i);return}o=this.renderItems(c,i),this.onActionComplete(o,c,s),this.groupTemplate&&this.renderGroupTemplate(o),this.bindChildItems(c,o,i),setTimeout(function(){a.getModuleName()==="multiselect"&&a.itemTemplate!=null&&o.childElementCount>0&&(o.children[0].childElementCount>0||a.fields.groupBy&&o.children[1]&&o.children[1].childElementCount>0)&&a.updateDataList()})}},t.prototype.handleVirtualKeyboardActions=function(e,i){},t.prototype.updatePopupState=function(){},t.prototype.updatePopupPosition=function(){},t.prototype.virtualSelectionAll=function(e,i,n){},t.prototype.updateRemoteData=function(){this.setListData(this.dataSource,this.fields,this.query)},t.prototype.bindChildItems=function(e,i,n,s){var a=this;e.length>=100&&this.getModuleName()==="autocomplete"?setTimeout(function(){var o=a.remainingItems(a.sortedData,n);ri(o,i),a.liCollections=a.list.querySelectorAll("."+$e.li),a.updateListValues(),a.raiseDataBound(e,s)},0):this.raiseDataBound(e,s)},t.prototype.isObjectInArray=function(e,i){return i.some(function(n){return Object.keys(e).every(function(s){return Object.prototype.hasOwnProperty.call(n,s)&&n[s]===e[s]})})},t.prototype.updateListValues=function(){},t.prototype.findListElement=function(e,i,n,s){var a=null;if(e){for(var o=[].slice.call(e.querySelectorAll(i)),l=0;l<o.length;l++)if(o[l].getAttribute(n)===s+""){a=o[l];break}}return a},t.prototype.raiseDataBound=function(e,i){this.hideSpinner();var n={items:e,e:i};this.trigger("dataBound",n)},t.prototype.remainingItems=function(e,i){var n=new ut(e).executeLocal(new di().skip(100));if(this.itemTemplate){var s=this.templateListItem(n,i);return[].slice.call(s.childNodes)}var a=this.typeOfData(n).typeof;return a==="string"||a==="number"||a==="boolean"?en.createListItemFromArray(this.createElement,n,!0,this.listOption(n,i),this):en.createListItemFromJson(this.createElement,n,this.listOption(n,i),1,!0,this)},t.prototype.emptyDataRequest=function(e){var i=[];this.onActionComplete(this.renderItems(i,e),i),this.isRequested=!1,this.isRequesting=!1,this.hideSpinner()},t.prototype.showSpinner=function(){},t.prototype.hideSpinner=function(){},t.prototype.onActionFailure=function(e){this.liCollections=[],this.trigger("actionFailure",e),this.l10nUpdate(!0),v(this.list)||pe([this.list],$e.noData)},t.prototype.onActionComplete=function(e,i,n){var s=this;if(this.listData=i,this.isVirtualizationEnabled&&!this.isCustomDataUpdated&&!this.virtualSelectAll&&this.notify("setGeneratedData",{module:"VirtualScroll"}),this.getModuleName()!=="listbox"&&e.setAttribute("tabindex","0"),this.isReact&&this.clearTemplate(["itemTemplate","groupTemplate","actionFailureTemplate","noRecordsTemplate"]),this.isVirtualizationEnabled||(this.fixedHeaderElement=v(this.fixedHeaderElement)?this.fixedHeaderElement:null),this.getModuleName()==="multiselect"&&this.properties.allowCustomValue&&this.fields.groupBy)for(var a=0;a<e.childElementCount;a++)e.children[a].classList.contains("e-list-group-item")&&(v(e.children[a].innerHTML)||e.children[a].innerHTML==="")&&pe([e.children[a]],gbe),e.children[0].classList.contains("e-hide-group-header")&&ui(e.children[1],{zIndex:11});if(this.getModuleName()==="multiselect"&&this.isAngular&&this.ngEle){var o=this.list;if(o){var l=o.offsetHeight+"px";o.style.height=l}}if(!v(this.list)&&!this.isVirtualizationEnabled){if(this.list.innerHTML="",this.isUpdateGroupTemplate&&this.isAngular&&this.groupTemplate&&this.getModuleName()==="multiselect"){var c=e.querySelectorAll("."+$e.group);if(c.length>0&&this.groupHeaderItems.length>0){for(var u={},a=0;a<this.groupHeaderItems.length;a++)u[this.groupHeaderItems[a].id]=this.groupHeaderItems[a].innerHTML;for(var a=0;a<c.length;a++)Object.prototype.hasOwnProperty.call(u,c[a].id)&&(c[a].innerHTML=u[c[a].id])}this.renderGroupTemplate(e)}this.list.appendChild(e),this.liCollections=this.list.querySelectorAll("."+$e.li),this.ulElement=this.list.querySelector("ul"),this.postRender(this.list,i,this.bindEvent)}if(this.getModuleName()==="multiselect"&&this.isAngular&&this.ngEle){var d=this.list;d&&setTimeout(function(){d.style.height="",s.refreshPopup()},0)}},t.prototype.postRender=function(e,i,n){if(this.fields.disabled){for(var s=e.querySelectorAll("."+$e.li),a=this.sortOrder!=="None"?v(this.fields.groupBy)?this.sortedData:this.sortedData.filter(function(y){return!("isHeader"in y)||y.isHeader!==!0}):this.listData,o=0;o<s.length;o++)if(a[o]&&JSON.parse(JSON.stringify(a[o]))[this.fields.disabled])if(v(this.fields.groupBy))this.disableListItem(s[o]);else{var l=a[o],c=Pe(this.fields.value?this.fields.value:"value",l),u=e.querySelector('li[data-value="'+c+'"]');v(u)||this.disableListItem(u)}}var d=this.fields.disabled?e.querySelector("."+$e.li+":not(.e-disabled"):e.querySelector("."+$e.li),p=e.querySelector("."+$e.selected);if(d&&!p){if(this.isVirtualizationEnabled&&this.viewPortInfo.startIndex!==0){var m=this.ulElement.querySelectorAll("li."+$e.li+":not(.e-virtual-list):not(.e-hide-listitem)");d=m&&m.length>0?m[2]:d}d&&d.classList.add($e.focus)}i.length<=0?(this.l10nUpdate(),pe([e],$e.noData)):e.classList.remove($e.noData)},t.prototype.getQuery=function(e){return e||(this.query?this.query:new di)},t.prototype.performFiltering=function(e){},t.prototype.debouncedFiltering=function(e,i){var n=this;this.debounceTimer!==null&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){n.performFiltering(e)},i)},t.prototype.updateVirtualizationProperties=function(e,i,n){this.isVirtualizationEnabled=!0,this.virtualizedItemsCount=e,this.isAllowFiltering=i,this.isCheckBoxSelection=n},t.prototype.renderGroupTemplate=function(e){if(this.fields.groupBy!==null&&this.dataSource||this.element.querySelector("."+$e.group)){var i=this.dataSource,n={groupTemplateID:this.groupTemplateId,isStringTemplate:this.isStringTemplate},s=this.isAngular&&this.getModuleName()==="multiselect"&&!v(e)&&e.classList.contains($e.fixedHead)?[e]:e.querySelectorAll("."+$e.group),a=this.templateCompiler(this.groupTemplate);if(typeof this.groupTemplate!="function"&&a){var o=Et(this.groupTemplate,document).innerHTML.trim(),l=en.renderGroupTemplate(o,i,this.fields.properties,s,n,this);if(this.isGroupChecking)for(var c=0;c<l.length;c++)this.notify("addItem",{module:"CheckBoxSelection",item:l[c]})}else{var l=en.renderGroupTemplate(this.groupTemplate,i,this.fields.properties,s,n,this);if(this.isGroupChecking)for(var c=0;c<l.length;c++)this.notify("addItem",{module:"CheckBoxSelection",item:l[c]})}this.renderReactTemplates()}},t.prototype.createListItems=function(e,i){if(e){if(i.groupBy||this.element.querySelector("optgroup")){if(i.groupBy){this.sortOrder!=="None"&&(e=this.getSortedDataSource(e));var n=i.properties||i;e=en.groupDataSource(e,n,this.sortOrder)}pe([this.list],$e.grouping)}else(this.getModuleName()!=="listbox"||this.getModuleName()==="listbox"&&!this.preventDefActionFilter)&&(e=this.getSortedDataSource(e));var s=this.listOption(e,i),a=e.length>100?new ut(e).executeLocal(new di().take(100)):e;return this.sortedData=e,en.createList(this.createElement,this.getModuleName()==="autocomplete"?a:e,s,!0,this)}return null},t.prototype.listOption=function(e,i){var n=!v(i.iconCss),s=v(i.properties)?i:i.properties,a=i.text!==null||i.value!==null?{fields:s,showIcon:n,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}};return qe({},a,i,!0)},t.prototype.setFloatingHeader=function(e){!v(this.list)&&!this.list.classList.contains($e.noData)&&(v(this.fixedHeaderElement)&&(this.fixedHeaderElement=this.createElement("div",{className:$e.fixedHead}),!v(this.list)&&!this.list.querySelector("li").classList.contains($e.group)&&(this.fixedHeaderElement.style.display="none"),!v(this.fixedHeaderElement)&&!v(this.list)&&Ln([this.fixedHeaderElement],this.list),this.setFixedHeader()),!v(this.fixedHeaderElement)&&this.fixedHeaderElement.style.zIndex==="0"&&this.setFixedHeader(),this.scrollStop(e))},t.prototype.scrollStop=function(e,i){for(var n=v(e)?this.list:e.target,s=getComputedStyle(this.getValidLi(),null).getPropertyValue("height"),a=getComputedStyle(this.getValidLi(),null).getPropertyValue("margin-bottom"),o=parseInt(a,10),l=this.getModuleName()==="multiselect"?parseFloat(s):parseInt(s,10),c=Math.round(n.scrollTop/(l+o)),u=this.list.querySelectorAll("li:not(.e-hide-listitem)"),d=this.list.querySelectorAll(".e-virtual-list").length,p=c;p>-1;p--){var m=this.isVirtualizationEnabled?p+d:p;if(this.isVirtualizationEnabled){if(this.fixedHeaderElement&&this.updateGroupHeader(m,u,n))break;i&&(!v(u[m])&&u[m].classList.contains($e.selected)&&this.getModuleName()!=="autocomplete"||!v(u[m])&&u[m].classList.contains($e.focus)&&this.getModuleName())}else if(this.updateGroupHeader(m,u,n))break}},t.prototype.getPageCount=function(e){if(this.list){var i=this.list.classList.contains($e.noData)?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height"),n=Math.round(this.list.getBoundingClientRect().height/parseInt(i,10));return e?n:Math.round(n)}else return 0},t.prototype.updateGroupHeader=function(e,i,n){return!v(i[e])&&i[e].classList.contains($e.group)?(this.updateGroupFixedHeader(i[e],n),!0):(this.fixedHeaderElement.style.display="none",this.fixedHeaderElement.style.top="none",!1)},t.prototype.updateFixedGroupTemplateHader=function(e){var i=e.cloneNode?e.cloneNode(!0):e,n=!1;if(this.groupHeaderItems&&this.groupHeaderItems.length>0){for(var s=0;s<this.groupHeaderItems.length;s++)if(i.id===this.groupHeaderItems[s].id){i.innerHTML=this.groupHeaderItems[s].innerHTML,n=!0;break}}if(!n&&this.fiteredGroupHeaderItems&&this.fiteredGroupHeaderItems.length>0){for(var s=0;s<this.fiteredGroupHeaderItems.length;s++)if(i.id===this.fiteredGroupHeaderItems[s].id){i.innerHTML=this.fiteredGroupHeaderItems[s].innerHTML;break}}this.fixedHeaderElement.innerHTML=i.innerHTML,this.renderGroupTemplate(this.fixedHeaderElement)},t.prototype.updateGroupFixedHeader=function(e,i){this.fixedHeaderElement&&this.list&&this.list.parentElement&&(v(e.innerHTML)||(this.groupTemplate&&this.isAngular&&this.getModuleName()==="multiselect"?this.updateFixedGroupTemplateHader(e):this.fixedHeaderElement.innerHTML=e.innerHTML),this.fixedHeaderElement.style.position="fixed",this.fixedHeaderElement.style.top=this.list.parentElement.offsetTop+this.list.offsetTop-window.scrollY+"px",this.fixedHeaderElement.style.display="block")},t.prototype.getValidLi=function(){return this.isVirtualizationEnabled?this.liCollections[0].classList.contains("e-virtual-list")?this.liCollections[this.skeletonCount]:this.liCollections[0]:this.liCollections[0]},t.prototype.renderItems=function(e,i,n,s){var a;if(this.itemTemplate&&e){this.getModuleName()==="multiselect"&&this.virtualSelectAll&&(this.virtualSelectAllData=e,e=e.slice(this.virtualItemStartIndex,this.virtualItemEndIndex));var o=e;o&&i.groupBy?(this.sortOrder!=="None"&&(o=this.getSortedDataSource(o)),o=en.groupDataSource(o,i.properties,this.sortOrder)):(this.getModuleName()!=="listbox"||this.getModuleName()==="listbox"&&!this.preventDefActionFilter)&&(o=this.getSortedDataSource(o)),this.sortedData=o;var l=o.length>100?new ut(o).executeLocal(new di().take(100)):o;if(a=this.templateListItem(this.getModuleName()==="autocomplete"?l:o,i),this.isIncrementalRequest)return this.incrementalLiCollections=a.querySelectorAll("."+$e.li),this.incrementalUlElement=a,this.incrementalListData=e,a;if(this.isVirtualizationEnabled){var c=this.list.querySelector(".e-list-parent"),u=this.list.querySelector(".e-virtual-ddl-content");if(e.length>=this.virtualizedItemsCount&&c&&u||c&&u&&this.isAllowFiltering||c&&u&&this.getModuleName()==="autocomplete"){this.getModuleName()==="multiselect"&&this.isCheckBoxSelection&&this.appendUncheckList&&this.list&&this.list.querySelector(".e-active")?(u.appendChild(a),n=!0):u.replaceChild(a,c);var d=this.list.querySelectorAll(".e-reorder");this.list.querySelector(".e-virtual-ddl-content")&&d&&d.length>0&&!n&&this.list.querySelector(".e-virtual-ddl-content").removeChild(d[0]),this.updateListElements(e)}else u||(this.list.innerHTML="",this.createVirtualContent(),this.list.querySelector(".e-virtual-ddl-content").appendChild(a),this.updateListElements(e))}}else{if(this.getModuleName()==="multiselect"&&this.virtualSelectAll&&!s&&(this.virtualSelectAllData=e,e=e.slice(this.virtualItemStartIndex,this.virtualItemEndIndex)),a=this.createListItems(e,i),this.isIncrementalRequest)return this.incrementalLiCollections=a.querySelectorAll("."+$e.li),this.incrementalUlElement=a,this.incrementalListData=e,a;if(this.isVirtualizationEnabled){var c=this.list.querySelector(".e-list-parent:not(.e-reorder)"),u=this.list.querySelector(".e-virtual-ddl-content"),p=!1;(!c&&this.list.querySelector(".e-list-parent.e-reorder")||c&&this.isVirtualReorder&&this.list.querySelector(".e-list-parent.e-reorder"))&&(c=this.list.querySelector(".e-list-parent.e-reorder")),e.length>=this.virtualizedItemsCount&&c&&u||c&&u&&this.isAllowFiltering||c&&u&&(this.getModuleName()==="autocomplete"||this.getModuleName()==="multiselect")||p?((this.getModuleName()!=="multiselect"||this.getModuleName()==="multiselect"&&(!(this.dataSource instanceof ut)||this.dataSource instanceof ut&&!this.setCurrentView))&&(this.appendUncheckList?u.appendChild(a):u.replaceChild(a,c)),this.updateListElements(e)):(!u||!u.firstChild)&&(this.list.innerHTML="",this.createVirtualContent(),this.list.querySelector(".e-virtual-ddl-content").appendChild(a),this.updateListElements(e))}}return a},t.prototype.createVirtualContent=function(){this.list.querySelector(".e-virtual-ddl-content")||this.list.appendChild(this.createElement("div",{className:"e-virtual-ddl-content"}))},t.prototype.updateListElements=function(e){this.liCollections=this.list.querySelectorAll("."+$e.li),this.ulElement=this.list.querySelector("ul"),this.listData=e,this.postRender(this.list,e,this.bindEvent)},t.prototype.templateListItem=function(e,i){var n=this.listOption(e,i);n.templateID=this.itemTemplateId,n.isStringTemplate=this.isStringTemplate;var s=this.templateCompiler(this.itemTemplate),a;if(typeof this.itemTemplate!="function"&&s){var o=Et(this.itemTemplate,document).innerHTML.trim();return a=en.renderContentTemplate(this.createElement,o,e,i.properties,n,this),this.isVirtualizationEnabled&&this.isReact&&this.renderReactTemplates(),a}else return a=en.renderContentTemplate(this.createElement,this.itemTemplate,e,i.properties,n,this),this.isVirtualizationEnabled&&this.isReact&&this.renderReactTemplates(),a},t.prototype.typeOfData=function(e){for(var i={typeof:null,item:null},n=0;!v(e)&&n<e.length;n++)if(!v(e[n])){var s=typeof e[n]=="string"||typeof e[n]=="number"||typeof e[n]=="boolean",a=v(s?e[n]:Pe(this.fields.value?this.fields.value:"value",e[n]));if(!a)return i={typeof:typeof e[n],item:e[n]}}return i},t.prototype.setFixedHeader=function(){v(this.list)||(this.list.parentElement.style.display="block");var e=0;if(this.list&&this.list.parentElement&&(e=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-width"),10),isNaN(e))){var i=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-top-width"),10),n=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-bottom-width"),10),s=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-left-width"),10),a=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-right-width"),10);e=i+n+s+a}if(!v(this.liCollections)){var o=this.getValidLi().offsetWidth-e;this.fixedHeaderElement.style.width=o.toString()+"px"}ui(this.fixedHeaderElement,{zIndex:10});var l=this.ulElement.querySelector("."+$e.group+":not(.e-hide-listitem)");v(l)||(this.groupTemplate&&this.isAngular&&this.getModuleName()==="multiselect"?this.updateFixedGroupTemplateHader(l):this.fixedHeaderElement.innerHTML=l.innerHTML)},t.prototype.getSortedDataSource=function(e){if(e&&this.sortOrder!=="None"){var i=this.fields.text?this.fields.text:"text";(this.typeOfData(e).typeof==="string"||this.typeOfData(e).typeof==="number"||this.typeOfData(e).typeof==="boolean")&&(i=""),e=en.getDataSource(e,en.addSorting(this.sortOrder,i))}return e},t.prototype.getIndexByValue=function(e){var i,n=[];this.fields.disabled&&this.getModuleName()==="multiselect"&&this.liCollections?n=this.liCollections:n=this.getItems();for(var s=0;s<n.length;s++)if(!v(e)&&n[s].getAttribute("data-value")===e.toString()){i=s;break}return i},t.prototype.getIndexByValueFilter=function(e,i){var n;if(!i)return null;var s=i.querySelectorAll("li:not(.e-list-group-item)");if(s){for(var a=0;a<s.length;a++)if(!v(e)&&s[a].getAttribute("data-value")===e.toString()){n=a;break}}return n},t.prototype.dispatchEvent=function(e,i){var n=document.createEvent("HTMLEvents");n.initEvent(i,!1,!0),e&&e.dispatchEvent(n)},t.prototype.setFields=function(){this.fields.value&&!this.fields.text?this.updateFields(this.fields.value,this.fields.value):!this.fields.value&&this.fields.text?this.updateFields(this.fields.text,this.fields.text):!this.fields.value&&!this.fields.text&&(this.isPrimitiveData=!0,this.updateFields("text","text"))},t.prototype.resetList=function(e,i,n,s){if(this.list){if(this.element.tagName==="SELECT"&&this.element.options.length>0||this.element.tagName==="UL"&&this.element.childNodes.length>0){var a=e instanceof Array?e.length>0:!v(e);!a&&this.selectData&&this.selectData.length>0&&(e=this.selectData)}e=this.getModuleName()==="combobox"&&this.selectData&&e instanceof Array&&e.length<this.selectData.length&&this.addedNewItem?this.selectData:e,this.addedNewItem=!1,this.isCustomReset&&this.getModuleName()==="multiselect"?this.setCustomListData(e,i,n,s):this.setListData(e,i,n,s)}},t.prototype.updateSelectElementData=function(e){(e||this.isVirtualizationEnabled)&&v(this.selectData)&&this.listData&&this.listData.length>0&&(this.selectData=this.listData)},t.prototype.updateSelection=function(){},t.prototype.renderList=function(){this.render()},t.prototype.updateDataSource=function(e,i){this.resetList(this.dataSource),this.totalItemCount=this.dataSource instanceof ut?this.dataSource.dataSource.json.length:0},t.prototype.setUpdateInitial=function(e,i,n){this.isDataFetched=!1,this.isPrimitiveData=!1;for(var s={},a=0;e.length>a;a++)i[e[a]]&&e[a]==="fields"?(this.setFields(),s[e[a]]=i[e[a]]):i[e[a]]&&(s[e[a]]=i[e[a]]);Object.keys(s).length>0&&(Object.keys(s).indexOf("dataSource")===-1&&(s.dataSource=this.dataSource),this.getModuleName()==="listbox"?(!this.isReact||this.isReact&&(!v(i.dataSource)||!v(i.sortOrder)))&&this.updateDataSource(s,n):(this.isDynamicData=!0,this.updateDataSource(s,n)))},t.prototype.onPropertyChanged=function(e,i){this.getModuleName()==="dropdownbase"&&this.setUpdateInitial(["fields","query","dataSource"],e),this.setUpdateInitial(["sortOrder","itemTemplate"],e);for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"query":case"sortOrder":case"dataSource":case"itemTemplate":break;case"enableRtl":this.setEnableRtl();break;case"groupTemplate":if(this.renderGroupTemplate(this.list),this.ulElement&&this.fixedHeaderElement){var o=this.ulElement.querySelector("."+$e.group);this.fixedHeaderElement.innerHTML=o.innerHTML}break;case"locale":this.list&&!v(this.liCollections)&&this.liCollections.length===0&&this.l10nUpdate();break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex();break}}},t.prototype.render=function(e,i){this.getModuleName()==="listbox"?this.list=this.createElement("div",{className:$e.content,attrs:{tabindex:"0"}}):this.list=this.createElement("div",{className:$e.content}),this.list.classList.add($e.root),this.setFields();var n={duration:300,selector:"."+$e.li};this.rippleFun=ed(this.list,n);var s=this.element.querySelector("select>optgroup");if((this.fields.groupBy||!v(s))&&!this.isGroupChecking){se.add(this.list,"scroll",this.setFloatingHeader,this);for(var a=this.getScrollableParent(),o=0;o<a.length;o++){var l=a[o];se.add(l,"scroll",this.updateGroupFixedHeader,this)}}if(this.getModuleName()==="dropdownbase"){this.element.getAttribute("tabindex")&&this.list.setAttribute("tabindex",this.element.getAttribute("tabindex")),Oe([this.element],$e.root),this.element.style.display="none";var c=this.createElement("div");this.element.parentElement.insertBefore(c,this.element),c.appendChild(this.element),c.appendChild(this.list)}this.setEnableRtl(),i||this.initialize(e)},t.prototype.getScrollableParent=function(){for(var e=getComputedStyle(this.element),i=[],n=/(auto|scroll)/,s=this.element.parentElement;s&&s.tagName!=="HTML";){var a=getComputedStyle(s);!(e.position==="absolute"&&a.position==="static")&&n.test(a.overflow+a.overflowY+a.overflowX)&&i.push(s),s=s.parentElement}return i.push(document),i},t.prototype.removeScrollEvent=function(){this.list&&se.remove(this.list,"scroll",this.setFloatingHeader)},t.prototype.getModuleName=function(){return"dropdownbase"},t.prototype.getItems=function(){return this.ulElement.querySelectorAll("."+$e.li)},t.prototype.addItem=function(e,i){if((!this.list||this.list.textContent===this.noRecordsTemplate&&this.getModuleName()!=="listbox")&&this.renderList(),this.sortOrder!=="None"&&v(i)){var n=[].slice.call(this.listData);n.push(e),n=this.getSortedDataSource(n),this.fields.groupBy&&(n=en.groupDataSource(n,this.fields.properties,this.sortOrder)),i=n.indexOf(e)}var s=this.getItems().length,a=s===0,o=this.list.querySelector("."+$e.selected);e=e instanceof Array?e:[e];var l;l=v(i)||i<0||i>s-1?s:i;var c=this.fields;e&&c.groupBy&&(e=en.groupDataSource(e,c.properties));for(var u=[],d=0;d<e.length;d++){var p=e[d],m=p.isHeader,y=this.createElement("li",{className:m?$e.group:$e.li,id:"option-add-"+d}),M=p instanceof Object?Pe(c.text,p):p;if(m&&(y.innerText=M),this.itemTemplate&&!m){var w=this.templateCompiler(this.itemTemplate),b=typeof this.itemTemplate!="function"&&w?jn(Et(this.itemTemplate,document).innerHTML.trim()):jn(this.itemTemplate),D=b(p,this,"itemTemplate",this.itemTemplateId,this.isStringTemplate,null,y);D&&ri(D,y)}else m||y.appendChild(document.createTextNode(M));y.setAttribute("data-value",p instanceof Object?Pe(c.value,p):p),y.setAttribute("role","option"),this.notify("addItem",{module:"CheckBoxSelection",item:y}),u.push(y),this.getModuleName()==="listbox"?(this.listData.splice(a?this.listData.length:l,0,p),this.listData.length!==this.sortedData.length&&(this.sortedData=this.listData)):this.listData.push(p),this.sortOrder==="None"&&v(i)&&l===0&&(l=null),this.getModuleName()==="listbox"?this.updateActionCompleteData(y,p,a?null:l+d):this.updateActionCompleteData(y,p,l),this.trigger("beforeItemRender",{element:y,item:p})}if(s===0&&v(this.list.querySelector("ul")))v(this.list)||(this.list.innerHTML="",this.list.classList.remove($e.noData),this.isAddNewItemTemplate=!0,v(this.ulElement)||this.list.appendChild(this.ulElement)),this.liCollections=u,!v(u)&&!v(this.ulElement)&&ri(u,this.ulElement),this.updateAddItemList(this.list,s);else{this.getModuleName()==="listbox"&&s===0&&(this.ulElement.innerHTML="");for(var E=[],d=0;d<e.length;d++){for(var N=this.ulElement.querySelectorAll(".e-list-group-item"),B=0;B<N.length;B++)E[B]=N[B].innerText;if(E.indexOf(u[d].innerText)>-1&&c.groupBy){for(var B=0;B<N.length;B++)if(E[B]===u[d].innerText){this.sortOrder==="None"?this.ulElement.insertBefore(u[d+1],N[B+1]):this.ulElement.insertBefore(u[d+1],this.ulElement.childNodes[i]),d=d+1;break}}else this.liCollections[l]&&this.liCollections[l].parentNode?this.liCollections[l].parentNode.insertBefore(u[d],this.liCollections[l]):i&&this.getModuleName()==="listbox"?this.ulElement.insertBefore(u[d],this.ulElement.childNodes[i+d]):this.ulElement.appendChild(u[d]);var P=[].slice.call(this.liCollections);P.splice(l,0,u[d]),this.liCollections=P,l+=1,this.getModuleName()==="multiselect"&&this.updateDataList()}}this.getModuleName()==="listbox"&&this.isReact&&this.renderReactTemplates(),(o||i===0)&&this.updateSelection(),this.addedNewItem=!0},t.prototype.isDisabledElement=function(e){return!!(e&&e.classList.contains("e-disabled"))},t.prototype.isDisabledItemByIndex=function(e){return this.fields.disabled&&this.liCollections?this.isDisabledElement(this.liCollections[e]):!1},t.prototype.disableListItem=function(e){e.classList.add("e-disabled"),e.setAttribute("aria-disabled","true"),e.setAttribute("aria-selected","false")},t.prototype.validationAttribute=function(e,i){var n=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");i.setAttribute("name",n),e.removeAttribute("name");for(var s=["required","aria-required","form"],a=0;a<s.length;a++)if(e.getAttribute(s[a])){var o=e.getAttribute(s[a]);i.setAttribute(s[a],o),e.removeAttribute(s[a])}},t.prototype.setZIndex=function(){},t.prototype.updateActionCompleteData=function(e,i,n){},t.prototype.updateAddItemList=function(e,i){},t.prototype.updateDataList=function(){},t.prototype.getDataByValue=function(e){if(!v(this.listData)){var i=this.typeOfData(this.listData).typeof;if(i==="string"||i==="number"||i==="boolean")for(var n=0,s=this.listData;n<s.length;n++){var a=s[n];if(!v(a)&&a===e)return a}else for(var o=0,l=this.listData;o<l.length;o++){var a=l[o];if(!v(a)&&Pe(this.fields.value?this.fields.value:"value",a)===e)return a}}return null},t.prototype.destroy=function(){if(document){if(this.fields&&this.fields.groupBy)for(var e=this.getScrollableParent(),i=0;i<e.length;i++){var n=e[i];se.remove(n,"scroll",this.updateGroupFixedHeader)}document.body.contains(this.list)&&(se.remove(this.list,"scroll",this.setFloatingHeader),v(this.rippleFun)||this.rippleFun(),zt(this.list))}this.liCollections=null,this.ulElement=null,this.list=null,this.enableRtlElements=null,this.groupHeaderItems=null,this.fiteredGroupHeaderItems=null,this.rippleFun=null,r.prototype.destroy.call(this)},ys([Yn({text:null,value:null,iconCss:null,groupBy:null,disabled:null},WK)],t.prototype,"fields",void 0),ys([ee(null)],t.prototype,"itemTemplate",void 0),ys([ee(null)],t.prototype,"groupTemplate",void 0),ys([ee("No records found")],t.prototype,"noRecordsTemplate",void 0),ys([ee("Request failed")],t.prototype,"actionFailureTemplate",void 0),ys([ee("None")],t.prototype,"sortOrder",void 0),ys([ee([])],t.prototype,"dataSource",void 0),ys([ee(null)],t.prototype,"query",void 0),ys([ee("StartsWith")],t.prototype,"filterType",void 0),ys([ee(!0)],t.prototype,"ignoreCase",void 0),ys([ee(1e3)],t.prototype,"zIndex",void 0),ys([ee(!1)],t.prototype,"ignoreAccent",void 0),ys([ee()],t.prototype,"locale",void 0),ys([Xe()],t.prototype,"actionBegin",void 0),ys([Xe()],t.prototype,"actionComplete",void 0),ys([Xe()],t.prototype,"actionFailure",void 0),ys([Xe()],t.prototype,"select",void 0),ys([Xe()],t.prototype,"dataBound",void 0),ys([Xe()],t.prototype,"created",void 0),ys([Xe()],t.prototype,"destroyed",void 0),t=ys([$n],t),t})(Dl),vbe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Kr=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ui={selected:$e.selected,li:$e.li,disable:$e.disabled,focus:$e.focus,inputFocus:"e-input-focus",icon:"e-input-group-icon e-ddl-icon",iconAnimation:"e-icon-anim",value:"e-input-value",device:"e-ddl-device",backIcon:"e-input-group-icon e-back-icon e-icons",filterBarClearIcon:"e-input-group-icon e-clear-icon e-icons",filterInput:"e-input-filter",resizeIcon:"e-resizer-right e-icons",filterParent:"e-filter-parent",mobileFilter:"e-ddl-device-filter",footer:"e-ddl-footer",header:"e-ddl-header",clearIcon:"e-clear-icon",clearIconHide:"e-clear-icon-hide",popupFullScreen:"e-popup-full-page",disableIcon:"e-ddl-disable-icon",hiddenElement:"e-ddl-hidden"},ybe={container:null,buttons:[]},Zy=(function(r){vbe(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.isListSearched=!1,n.preventChange=!1,n.isTouched=!1,n.isFocused=!1,n.autoFill=!1,n.isUpdateHeaderHeight=!1,n.isUpdateFooterHeight=!1,n.isReactTemplateUpdate=!1,n}return t.prototype.preRender=function(){this.valueTempElement=null,this.element.style.opacity="0",this.initializeData(),r.prototype.preRender.call(this),this.activeIndex=this.index,this.queryString=""},t.prototype.initializeData=function(){this.isPopupOpen=!1,this.isDocumentClick=!1,this.isPopupRender=!1,this.isInteracted=!1,this.isFilterFocus=!1,this.beforePopupOpen=!1,this.initial=!0,this.initialRemoteRender=!1,this.isNotSearchList=!1,this.isTyped=!1,this.isSelected=!1,this.preventFocus=!1,this.preventAutoFill=!1,this.isValidKey=!1,this.typedString="",this.isEscapeKey=!1,this.isPreventBlur=!1,this.isTabKey=!1,this.actionCompleteData={isUpdated:!1},this.actionData={isUpdated:!1},this.prevSelectPoints={},this.isSelectCustom=!1,this.isDropDownClick=!1,this.preventAltUp=!1,this.isCustomFilter=!1,this.isSecondClick=!1,this.previousValue=null,this.keyConfigure={tab:"tab",enter:"13",escape:"27",end:"35",home:"36",down:"40",up:"38",pageUp:"33",pageDown:"34",open:"alt+40",close:"shift+tab",hide:"alt+38",space:"32"},this.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount}},t.prototype.setZIndex=function(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})},t.prototype.requiredModules=function(){var e=[];return this.enableVirtualization&&e.push({args:[this],member:"VirtualScroll"}),e},t.prototype.renderList=function(e,i){r.prototype.render.call(this,e,i),this.dataSource instanceof ut||(this.totalItemCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0),this.enableVirtualization&&this.isFiltering()&&this.getModuleName()==="combobox"&&(this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll("."+$e.li),this.ulElement=this.list.querySelector("ul")),this.unWireListEvents(),this.wireListEvents()},t.prototype.floatLabelChange=function(){if(this.getModuleName()==="dropdownlist"&&this.floatLabelType==="Auto"){var e=this.inputWrapper.container.querySelector(".e-float-text");e&&this.inputElement.value!==""||this.isInteracted?No(e,["e-label-top"],["e-label-bottom"]):e&&No(e,["e-label-bottom"],["e-label-top"])}},t.prototype.resetHandler=function(e){e.preventDefault(),this.clearAll(e),this.enableVirtualization&&(this.list.scrollTop=0,this.virtualListInfo=null,this.previousStartIndex=0,this.previousEndIndex=0)},t.prototype.resetFocusElement=function(){if(this.removeHover(),this.removeSelection(),this.removeFocus(),this.list.scrollTop=0,this.getModuleName()!=="autocomplete"&&!v(this.ulElement)){var e=this.fields.disabled?this.ulElement.querySelector("."+Ui.li+":not(.e-disabled)"):this.ulElement.querySelector("."+Ui.li);this.enableVirtualization&&(e=this.liCollections[this.skeletonCount]),e&&e.classList.add(Ui.focus)}},t.prototype.clearAll=function(e,i){this.previousItemData=v(this.itemData)?null:this.itemData,(v(i)||!v(i)&&(v(i.dataSource)||!(i.dataSource instanceof ut)&&i.dataSource.length===0))&&(this.isActive=!0,this.resetSelection(i));var n=this.getItemData();if(!this.allowObjectBinding&&this.previousValue===n.value||this.allowObjectBinding&&this.previousValue&&this.isObjectInArray(this.previousValue,[this.allowCustom?this.value?this.value:n:n.value?this.getDataByValue(n.value):n])){this.checkAndResetCache(),this.enableVirtualization&&this.list&&this.updateInitialData();return}this.onChangeEvent(e),this.checkAndResetCache(),this.enableVirtualization&&this.updateInitialData()},t.prototype.resetSelection=function(e){this.list&&(!v(e)&&(v(e.dataSource)||!(e.dataSource instanceof ut)&&e.dataSource.length===0)?(this.selectedLI=null,this.actionCompleteData.isUpdated=!1,this.actionCompleteData.ulElement=null,this.actionCompleteData.list=null,this.resetList(e.dataSource)):(this.allowFiltering&&this.getModuleName()!=="autocomplete"&&!v(this.actionCompleteData.ulElement)&&!v(this.actionCompleteData.list)&&this.actionCompleteData.list.length>0&&this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(!0),this.actionCompleteData.list),this.resetFocusElement())),v(this.hiddenElement)||(this.hiddenElement.innerHTML=""),v(this.inputElement)||(this.inputElement.value=""),this.value=null,this.itemData=null,this.text=null,this.index=null,this.activeIndex=null,this.item=null,this.queryString="",this.valueTempElement&&(zt(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null),this.setSelection(null,null),this.isSelectCustom=!1,this.updateIconState(),this.cloneElements()},t.prototype.setHTMLAttributes=function(){if(Object.keys(this.htmlAttributes).length)for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];if(n==="class"){var s=this.htmlAttributes[""+n].replace(/\s+/g," ").trim();s!==""&&pe([this.inputWrapper.container],s.split(" "))}else if(n==="disabled"&&this.htmlAttributes[""+n]==="disabled")this.enabled=!1,this.setEnable();else if(n==="readonly"&&!v(this.htmlAttributes[""+n]))this.readonly=!0,this.dataBind();else if(n==="style")this.inputWrapper.container.setAttribute("style",this.htmlAttributes[""+n]);else if(n==="aria-label")(this.getModuleName()==="autocomplete"||this.getModuleName()==="combobox")&&!this.readonly?this.inputElement.setAttribute("aria-label",this.htmlAttributes[""+n]):this.getModuleName()==="dropdownlist"&&this.inputWrapper.container.setAttribute("aria-label",this.htmlAttributes[""+n]);else{var a=["title","id","placeholder","role","autocomplete","autocapitalize","spellcheck","minlength","maxlength"],o=["name","required"];(this.getModuleName()==="autocomplete"||this.getModuleName()==="combobox")&&a.push("tabindex"),o.indexOf(n)>-1||n.indexOf("data")===0?this.hiddenElement.setAttribute(n,this.htmlAttributes[""+n]):a.indexOf(n)>-1?n==="placeholder"&&this.element.getAttribute("placeholder")!==this.htmlAttributes[""+n]?Rt.setPlaceholder(this.htmlAttributes[""+n],this.inputElement):n!=="placeholder"&&this.inputElement.setAttribute(n,this.htmlAttributes[""+n]):this.inputWrapper.container.setAttribute(n,this.htmlAttributes[""+n])}}(this.getModuleName()==="autocomplete"||this.getModuleName()==="combobox")&&this.inputWrapper.container.removeAttribute("tabindex")},t.prototype.getAriaAttributes=function(){return{"aria-disabled":"false",role:"combobox","aria-expanded":"false","aria-live":"polite","aria-labelledby":this.hiddenElement.id}},t.prototype.setEnableRtl=function(){!v(this.inputElement)&&!v(this.inputElement.parentElement)&&Rt.setEnableRtl(this.enableRtl,[this.inputElement.parentElement]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},t.prototype.setEnable=function(){Rt.setEnabled(this.enabled,this.inputElement),this.enabled?(Oe([this.inputWrapper.container],Ui.disable),this.inputElement.setAttribute("aria-disabled","false"),this.targetElement().setAttribute("tabindex",this.tabIndex),this.inputWrapper&&this.inputWrapper.container&&(this.inputWrapper.container.setAttribute("aria-disabled","false"),this.inputWrapper.container.removeAttribute("disabled"))):(this.hidePopup(),pe([this.inputWrapper.container],Ui.disable),this.inputElement.setAttribute("aria-disabled","true"),this.targetElement().tabIndex=-1,this.inputWrapper&&this.inputWrapper.container&&(this.inputWrapper.container.setAttribute("aria-disabled","true"),this.inputWrapper.container.setAttribute("disabled","")))},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.getLocaleName=function(){return"drop-down-list"},t.prototype.preventTabIndex=function(e){this.getModuleName()==="dropdownlist"&&(e.tabIndex=-1)},t.prototype.targetElement=function(){return v(this.inputWrapper)?null:this.inputWrapper.container},t.prototype.getNgDirective=function(){return"EJS-DROPDOWNLIST"},t.prototype.getElementByText=function(e){return this.getElementByValue(this.getValueByText(e))},t.prototype.getElementByValue=function(e){for(var i,n=this.getItems(),s=0,a=n;s<a.length;s++){var o=a[s];if(this.getFormattedValue(o.getAttribute("data-value"))===e){i=o;break}}return i},t.prototype.initValue=function(){this.viewPortInfo.startIndex=this.virtualItemStartIndex=0,this.viewPortInfo.endIndex=this.virtualItemEndIndex=this.itemCount,this.renderList(),this.dataSource instanceof ut?this.initialRemoteRender=!0:this.updateValues()},t.prototype.isDisableItemValue=function(e){if(typeof e=="object"){var i=JSON.parse(JSON.stringify(e))[this.fields.value];return this.isDisabledItemByIndex(this.getIndexByValue(i))}return this.isDisabledItemByIndex(this.getIndexByValue(e))},t.prototype.updateValues=function(){if(this.fields.disabled&&(this.value!=null&&(this.value=this.isDisableItemValue(this.value)?null:this.value),this.text!=null&&(this.text=this.isDisabledItemByIndex(this.getIndexByValue(this.getValueByText(this.text)))?null:this.text),this.index!=null&&(this.index=this.isDisabledItemByIndex(this.index)?null:this.index,this.activeIndex=this.index)),this.selectedValueInfo=this.viewPortInfo,v(this.value))if(this.text&&v(this.value)){var i=this.getElementByText(this.text);if(v(i)){this.setProperties({text:null});return}else this.setSelection(i,null)}else this.setSelection(this.liCollections[this.activeIndex],null);else{var e=this.allowObjectBinding&&!v(this.value)?Pe(this.fields.value?this.fields.value:"",this.value):this.value;this.setSelection(this.getElementByValue(e),null)}this.setHiddenValue(),Rt.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.onBlurHandler=function(e){if(this.enabled){var i=e.relatedTarget,n=e.target,s=this.isPreventBlur;if(this.isPreventBlur=!1,s&&!this.isDocumentClick&&this.isPopupOpen&&(!v(n)||!this.isFilterLayout()&&v(i))){this.getModuleName()==="dropdownlist"&&this.allowFiltering&&this.isPopupOpen?this.filterInput.focus():this.targetElement().focus();return}if(this.isDocumentClick||!v(this.popupObj)&&document.body.contains(this.popupObj.element)&&this.popupObj.element.classList.contains(Ui.mobileFilter)){this.beforePopupOpen||(this.isDocumentClick=!1);return}(this.getModuleName()==="dropdownlist"&&!this.isFilterFocus&&i!==this.inputElement&&(document.activeElement!==i||document.activeElement===i&&n.classList.contains(Ui.inputFocus))||v(i)&&this.getModuleName()==="dropdownlist"&&this.allowFiltering&&n!==this.inputWrapper.container||this.getModuleName()!=="dropdownlist"&&!this.inputWrapper.container.contains(i)||this.isTabKey)&&(this.isDocumentClick=!!this.isPopupOpen,this.focusOutAction(e),this.isTabKey=!1),this.isRequested&&!this.isPopupOpen&&!this.isPreventBlur&&(this.isActive=!1,this.beforePopupOpen=!1),this.isFocused=!1}},t.prototype.focusOutAction=function(e){this.isInteracted=!1,this.focusOut(e),this.onFocusOut(e)},t.prototype.onFocusOut=function(e){this.enabled&&(this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e)),this.floatLabelChange(),this.dispatchEvent(this.hiddenElement,"change"),this.getModuleName()==="dropdownlist"&&this.element.tagName!=="INPUT"&&this.dispatchEvent(this.inputElement,"blur"),this.inputWrapper.clearButton&&pe([this.inputWrapper.clearButton],Ui.clearIconHide),this.trigger("blur"))},t.prototype.onFocus=function(e){if(!this.isInteracted){this.isInteracted=!0;var i={isInteracted:!!e,event:e};this.trigger("focus",i)}this.updateIconState(),this.isFocused=!0},t.prototype.resizingWireEvent=function(){se.add(document,"mousemove",this.resizePopup,this),se.add(document,"mouseup",this.stopResizing,this),se.add(document,"touchmove",this.resizePopup,this),se.add(document,"touchend",this.stopResizing,this)},t.prototype.resizingUnWireEvent=function(){se.remove(document,"mousemove",this.resizePopup),se.remove(document,"mouseup",this.stopResizing),se.remove(document,"touchmove",this.resizePopup),se.remove(document,"touchend",this.stopResizing)},t.prototype.resetValueHandler=function(e){var i=Fe(this.inputElement,"form");if(i&&e.target===i){var n=this.element.tagName===this.getNgDirective()?null:this.inputElement.getAttribute("value");this.text=n}},t.prototype.wireEvent=function(){se.add(this.inputWrapper.container,"mousedown",this.dropDownClick,this),se.add(this.inputWrapper.container,"focus",this.focusIn,this),se.add(this.inputWrapper.container,"keypress",this.onSearch,this),se.add(window,"resize",this.windowResize,this),this.bindCommonEvent()},t.prototype.bindCommonEvent=function(){se.add(this.targetElement(),"blur",this.onBlurHandler,this);var e=Fe(this.inputElement,"form");e&&se.add(e,"reset",this.resetValueHandler,this),Re.isDevice?this.keyboardModule=new Yl(this.targetElement(),{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}):this.keyboardModule=new Yl(this.targetElement(),{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.bindClearEvent()},t.prototype.windowResize=function(){this.isPopupOpen&&this.popupObj.refreshPosition(this.inputWrapper.container)},t.prototype.bindClearEvent=function(){this.showClearButton&&se.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)},t.prototype.unBindCommonEvent=function(){!v(this.inputWrapper)&&this.targetElement()&&se.remove(this.targetElement(),"blur",this.onBlurHandler);var e=this.inputElement&&Fe(this.inputElement,"form");e&&se.remove(e,"reset",this.resetValueHandler),Re.isDevice||this.keyboardModule.destroy(),this.showClearButton&&se.remove(this.inputWrapper.clearButton,"mousedown",this.resetHandler)},t.prototype.updateIconState=function(){this.showClearButton&&(this.inputElement.value!==""&&!this.readonly?Oe([this.inputWrapper.clearButton],Ui.clearIconHide):pe([this.inputWrapper.clearButton],Ui.clearIconHide))},t.prototype.wireListEvents=function(){v(this.list)||(se.add(this.list,"click",this.onMouseClick,this),se.add(this.list,"mouseover",this.onMouseOver,this),se.add(this.list,"mouseout",this.onMouseLeave,this))},t.prototype.onSearch=function(e){e.charCode!==32&&e.charCode!==13&&(this.list===void 0&&this.renderList(),this.searchKeyEvent=e,this.onServerIncrementalSearch(e))},t.prototype.onServerIncrementalSearch=function(e){!this.isRequested&&!v(this.list)&&!v(this.list.querySelector("li"))&&this.enabled&&!this.readonly&&this.incrementalSearch(e)},t.prototype.startResizing=function(e){this.isResizing=!0,this.trigger("resizeStart",e);var i=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,n=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;this.list&&this.list.parentElement&&(this.originalWidth=this.list.parentElement.offsetWidth,this.originalHeight=this.list.parentElement.offsetHeight,this.originalMouseX=i,this.originalMouseY=n),this.resizingWireEvent(),e&&e.preventDefault()},t.prototype.resizePopup=function(e){if(this.isResizing){this.trigger("resizing",e);var i=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,n=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,s=i-this.originalMouseX,a=n-this.originalMouseY;if(this.list&&this.list.parentElement){var o=parseInt(window.getComputedStyle(this.list.parentElement).minWidth,10),l=parseInt(window.getComputedStyle(this.list.parentElement).minHeight,10);o=o||100,l=l||120,this.resizeWidth=Math.max(this.originalWidth+s,o),this.resizeHeight=Math.max(this.originalHeight+a,l),this.list.parentElement.style.width=this.resizeWidth+"px",this.list.parentElement.style.height=this.resizeHeight+"px",this.list.parentElement.style.maxHeight=this.resizeHeight+"px",this.list.style.maxHeight=this.resizeHeight+"px",this.fixedHeaderElement&&this.ulElement&&(this.fixedHeaderElement.style.width=this.ulElement.offsetWidth+"px")}e&&e.preventDefault()}},t.prototype.stopResizing=function(e){this.isResizing&&(this.isResizing=!1,this.trigger("resizeStop",e),this.resizingUnWireEvent()),e&&e.preventDefault()},t.prototype.onMouseClick=function(e){var i=e.target;this.keyboardEvent=null;var n=Fe(i,"."+$e.li);if(!(!this.isValidLI(n)||this.isDisabledElement(n)))if(this.setSelection(n,e),Re.isDevice&&this.isFilterLayout())history.back();else{var s=100;this.closePopup(s,e)}},t.prototype.onMouseOver=function(e){var i=Fe(e.target,"."+$e.li);this.setHover(i)},t.prototype.setHover=function(e){this.enabled&&this.isValidLI(e)&&!e.classList.contains($e.hover)&&(this.removeHover(),pe([e],$e.hover))},t.prototype.onMouseLeave=function(){this.removeHover()},t.prototype.removeHover=function(){if(this.list){var e=this.list.querySelectorAll("."+$e.hover);e&&e.length&&Oe(e,$e.hover)}},t.prototype.isValidLI=function(e){return e&&e.hasAttribute("role")&&e.getAttribute("role")==="option"},t.prototype.updateIncrementalItemIndex=function(e,i){this.incrementalStartIndex=e,this.incrementalEndIndex=i},t.prototype.incrementalSearch=function(e){if(this.liCollections.length>0)if(this.enableVirtualization){var i=!1,n=!1,s=this.ulElement.getElementsByClassName("e-active")[0],a=s?s.textContent:null;this.incrementalQueryString===""?(this.incrementalQueryString=String.fromCharCode(e.charCode),this.incrementalPreQueryString=this.incrementalQueryString):String.fromCharCode(e.charCode).toLocaleLowerCase()===this.incrementalPreQueryString.toLocaleLowerCase()?n=!0:this.incrementalQueryString=String.fromCharCode(e.charCode),(this.viewPortInfo.endIndex>=this.incrementalEndIndex&&this.incrementalEndIndex<=this.totalItemCount||this.incrementalEndIndex===0)&&(i=!0,this.incrementalStartIndex=this.incrementalEndIndex,this.incrementalEndIndex===0?this.incrementalEndIndex=100>this.totalItemCount?this.totalItemCount:100:this.incrementalEndIndex=this.incrementalEndIndex+100>this.totalItemCount?this.totalItemCount:this.incrementalEndIndex+100,this.updateIncrementalInfo(this.incrementalStartIndex,this.incrementalEndIndex),i=!0),(this.viewPortInfo.startIndex!==0||i)&&this.updateIncrementalView(0,this.itemCount);for(var o=NM(e.charCode,this.incrementalLiCollections,this.activeIndex,!0,this.element.id,n,a,!0);v(o)&&this.incrementalEndIndex<this.totalItemCount&&(this.updateIncrementalItemIndex(this.incrementalEndIndex,this.incrementalEndIndex+100>this.totalItemCount?this.totalItemCount:this.incrementalEndIndex+100),this.updateIncrementalInfo(this.incrementalStartIndex,this.incrementalEndIndex),i=!0,(this.viewPortInfo.startIndex!==0||i)&&this.updateIncrementalView(0,this.itemCount),o=NM(e.charCode,this.incrementalLiCollections,0,!0,this.element.id,n,a,!0,!0),!!v(o));)if(v(o)&&this.incrementalEndIndex>=this.totalItemCount){this.updateIncrementalItemIndex(0,100>this.totalItemCount?this.totalItemCount:100);break}v(o)&&this.incrementalEndIndex>=this.totalItemCount&&(this.updateIncrementalItemIndex(0,100>this.totalItemCount?this.totalItemCount:100),this.updateIncrementalInfo(this.incrementalStartIndex,this.incrementalEndIndex),i=!0,(this.viewPortInfo.startIndex!==0||i)&&this.updateIncrementalView(0,this.itemCount),o=NM(e.charCode,this.incrementalLiCollections,0,!0,this.element.id,n,a,!0,!0));var l=o&&this.getIndexByValue(o.getAttribute("data-value"));if(l)l=l-this.skeletonCount;else for(var c=0;c<this.incrementalLiCollections.length;c++)if(!v(o)&&!v(o.getAttribute("data-value"))&&this.incrementalLiCollections[c].getAttribute("data-value")===o.getAttribute("data-value").toString()){l=c,l=this.incrementalStartIndex+l;break}if(l&&(!(this.viewPortInfo.startIndex>=l)||!(l>=this.viewPortInfo.endIndex))){var u=l-(this.itemCount/2-2)>0?l-(this.itemCount/2-2):0,d=this.viewPortInfo.startIndex+this.itemCount>this.totalItemCount?this.totalItemCount:this.viewPortInfo.startIndex+this.itemCount;this.updateIncrementalView(u,d)}if(v(o))this.updateIncrementalView(0,this.itemCount),this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues(),this.list.scrollTop=0;else{var p=this.getIndexByValue(o.getAttribute("data-value"))-this.skeletonCount;if(p>this.itemCount/2){var u=this.viewPortInfo.startIndex+(this.itemCount/2-2)<this.totalItemCount?this.viewPortInfo.startIndex+(this.itemCount/2-2):this.totalItemCount,d=this.viewPortInfo.startIndex+this.itemCount>this.totalItemCount?this.totalItemCount:this.viewPortInfo.startIndex+this.itemCount;this.updateIncrementalView(u,d)}if(o=this.getElementByValue(o.getAttribute("data-value")),this.setSelection(o,e),this.setScrollPosition(),this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues(),this.enableVirtualization&&!this.fields.groupBy){var m=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop;this.list.scrollTop=m-this.list.querySelectorAll(".e-virtual-list").length*this.selectedLI.offsetHeight}this.incrementalPreQueryString=this.incrementalQueryString}}else{var o=void 0;if(this.fields.disabled){var y=this.list.querySelectorAll("."+$e.li+":not(.e-disabled)");o=NM(e.charCode,y,this.activeIndex,!0,this.element.id)}else o=NM(e.charCode,this.liCollections,this.activeIndex,!0,this.element.id);v(o)||(this.setSelection(o,e),this.setScrollPosition())}},t.prototype.hideSpinner=function(){v(this.spinnerElement)||(CN(this.spinnerElement),Oe([this.spinnerElement],Ui.disableIcon),this.spinnerElement.innerHTML="",this.spinnerElement=null)},t.prototype.showSpinner=function(){v(this.spinnerElement)&&(this.spinnerElement=Re.isDevice&&!v(this.filterInputObj)&&this.filterInputObj.buttons[1]||!v(this.filterInputObj)&&this.filterInputObj.buttons[0]||this.inputWrapper.buttons[0],pe([this.spinnerElement],Ui.disableIcon),NN({target:this.spinnerElement,width:Re.isDevice?"16px":"14px"},this.createElement),IN(this.spinnerElement))},t.prototype.keyActionHandler=function(e){if(this.enabled){this.keyboardEvent=e,this.isPreventKeyAction&&this.enableVirtualization&&e.preventDefault();var i=e.action==="pageUp"||e.action==="pageDown",n=this.getModuleName()!=="dropdownlist"&&(e.action==="home"||e.action==="end");this.isEscapeKey=e.action==="escape",this.isTabKey=!this.isPopupOpen&&e.action==="tab";var s=e.action==="down"||e.action==="up"||e.action==="pageUp"||e.action==="pageDown"||e.action==="home"||e.action==="end";if(!((this.isEditTextBox()||i||n)&&!this.isPopupOpen)&&!this.readonly){var a=e.action==="tab"||e.action==="close";if(v(this.list)&&!this.isRequested&&!a&&e.action!=="escape"&&(this.searchKeyEvent=e,(!this.enableVirtualization||this.enableVirtualization&&this.getModuleName()!=="autocomplete"&&e.type!=="mousedown"&&(e.keyCode===40||e.keyCode===38))&&(this.renderList(e),this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll("."+$e.li),this.ulElement=this.list.querySelector("ul"))),v(this.list)||!v(this.liCollections)&&s&&this.liCollections.length===0||this.isRequested)return;switch((a&&this.getModuleName()!=="autocomplete"&&this.isPopupOpen||e.action==="escape")&&e.preventDefault(),this.isSelected=e.action==="escape"?!1:this.isSelected,this.isTyped=s||e.action==="escape"?!1:this.isTyped,e.action){case"down":case"up":this.updateUpDownAction(e);break;case"pageUp":this.pageUpSelection(this.activeIndex-this.getPageCount(),e),e.preventDefault();break;case"pageDown":this.pageDownSelection(this.activeIndex+this.getPageCount(),e),e.preventDefault();break;case"home":this.isMouseScrollAction=!0,this.updateHomeEndAction(e);break;case"end":this.isMouseScrollAction=!0,this.updateHomeEndAction(e);break;case"space":this.getModuleName()==="dropdownlist"&&(this.beforePopupOpen||(this.showPopup(),e.preventDefault()));break;case"open":this.showPopup(e);break;case"hide":this.preventAltUp=this.isPopupOpen,this.hidePopup(e),this.focusDropDown(e);break;case"enter":this.selectCurrentItem(e);break;case"tab":this.selectCurrentValueOnTab(e);break;case"escape":case"close":this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e));break}}}},t.prototype.updateUpDownAction=function(e,i){if(!(this.fields.disabled&&this.list&&this.list.querySelectorAll(".e-list-item:not(.e-disabled)").length===0)){if(this.allowFiltering&&!this.enableVirtualization&&this.getModuleName()!=="autocomplete"){var n=this.getItemData().value;v(n)&&(n="null");var s=this.getIndexByValue(n);v(s)||(this.activeIndex=s)}var a=this.list.querySelector("."+Ui.focus);if(this.isSelectFocusItem(a)&&!i){if(this.setSelection(a,e),this.enableVirtualization){var o=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop;this.fields.groupBy&&(o=this.virtualListInfo&&this.virtualListInfo.startIndex===0?this.selectedLI.offsetHeight-o:o-this.selectedLI.offsetHeight),this.list.scrollTop=o-this.list.querySelectorAll(".e-virtual-list").length*this.selectedLI.offsetHeight}}else if(!v(this.liCollections)){var l=this.activeIndex,c=e.action==="down"?this.activeIndex+1:this.activeIndex-1;c=i?l:c;var u=0;this.getModuleName()==="autocomplete"&&(u=e.action==="down"&&v(this.activeIndex)?0:this.liCollections.length-1,c=c<0?this.liCollections.length-1:c===this.liCollections.length?0:c);var d=void 0;if(this.getModuleName()!=="autocomplete"||this.getModuleName()==="autocomplete"&&this.isPopupOpen)if(!this.enableVirtualization)d=v(this.activeIndex)?this.liCollections[u]:this.liCollections[c];else if(!i)d=v(this.activeIndex)?this.liCollections[this.skeletonCount]:this.liCollections[c],d=!v(d)&&!d.classList.contains("e-virtual-list")?d:null;else if(this.getModuleName()==="autocomplete"){var n=this.getFormattedValue(this.selectedLI.getAttribute("data-value"));d=this.getElementByValue(n)}else d=this.getElementByValue(this.getItemData().value);if(v(d)){if(this.enableVirtualization&&!this.isPopupOpen&&this.getModuleName()!=="autocomplete"&&(this.viewPortInfo.endIndex!==this.totalItemCount&&e.action==="down"||this.viewPortInfo.startIndex!==0&&e.action==="up")){if(e.action==="down"){this.viewPortInfo.startIndex=this.viewPortInfo.startIndex+this.itemCount<this.totalItemCount-this.itemCount?this.viewPortInfo.startIndex+this.itemCount:this.totalItemCount-this.itemCount,this.viewPortInfo.endIndex=this.viewPortInfo.startIndex+this.itemCount,this.updateVirtualItemIndex(),this.isCustomFilter=this.getModuleName()==="combobox"?!0:this.isCustomFilter,this.resetList(this.dataSource,this.fields,this.query),this.isCustomFilter=this.getModuleName()==="combobox"?!1:this.isCustomFilter;var n=this.liCollections[0].getAttribute("data-value")!=="null"?this.getFormattedValue(this.liCollections[0].getAttribute("data-value")):null,m=this.getDataByValue(n);m&&(this.itemData=m)}else if(e.action==="up"){this.viewPortInfo.startIndex=this.viewPortInfo.startIndex-this.itemCount>0?this.viewPortInfo.startIndex-this.itemCount:0,this.viewPortInfo.endIndex=this.viewPortInfo.startIndex+this.itemCount,this.updateVirtualItemIndex(),this.isCustomFilter=this.getModuleName()==="combobox"?!0:this.isCustomFilter,this.resetList(this.dataSource,this.fields,this.query),this.isCustomFilter=this.getModuleName()==="combobox"?!1:this.isCustomFilter;var n=this.liCollections[this.liCollections.length-1].getAttribute("data-value")!=="null"?this.getFormattedValue(this.liCollections[this.liCollections.length-1].getAttribute("data-value")):null,m=this.getDataByValue(n);m&&(this.itemData=m)}this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll("."+$e.li),this.ulElement=this.list.querySelector("ul"),this.handleVirtualKeyboardActions(e,this.pageCount)}}else{var p=this.liCollections[this.skeletonCount]&&this.liCollections[this.skeletonCount].classList.contains("e-item-focus");if(this.setSelection(d,e),p&&this.enableVirtualization&&this.getModuleName()==="autocomplete"&&!i){var o=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*this.selectedLI.offsetHeight:this.selectedLI.offsetTop;o=this.virtualListInfo&&this.virtualListInfo.startIndex===0&&this.fields.groupBy?this.selectedLI.offsetHeight-o:o-this.selectedLI.offsetHeight,this.list.scrollTop=o-this.list.querySelectorAll(".e-virtual-list").length*this.selectedLI.offsetHeight}}}if(this.allowFiltering&&!this.enableVirtualization&&this.getModuleName()!=="autocomplete"){var n=this.getItemData().value,s=this.getIndexByValueFilter(n,this.actionCompleteData.ulElement);v(s)||(this.activeIndex=s)}this.allowFiltering&&this.getModuleName()==="dropdownlist"&&this.filterInput&&(!v(this.ulElement)&&!v(this.ulElement.getElementsByClassName("e-item-focus")[0])?Ht(this.filterInput,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}):!v(this.ulElement)&&!v(this.ulElement.getElementsByClassName("e-active")[0])&&Ht(this.filterInput,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-active")[0].id}));for(var y,c=0;c<this.liCollections.length;c++)if(this.liCollections[c].classList.contains(Ui.focus)||this.liCollections[c].classList.contains(Ui.selected)){y=c;break}y!=null&&this.isDisabledElement(this.liCollections[y])&&(this.getModuleName()!=="autocomplete"&&(this.liCollections.length-1===y&&e.action==="down"&&(e.action="up"),y===0&&e.action==="up"&&(e.action="down")),this.updateUpDownAction(e)),e.preventDefault()}},t.prototype.updateHomeEndAction=function(e,i){if(this.getModuleName()==="dropdownlist"){var n=0;if(e.action==="home"?(n=0,this.enableVirtualization&&this.isPopupOpen?n=this.skeletonCount:this.enableVirtualization&&!this.isPopupOpen&&this.viewPortInfo.startIndex!==0&&(this.viewPortInfo.startIndex=0,this.viewPortInfo.endIndex=this.itemCount,this.updateVirtualItemIndex(),this.resetList(this.dataSource,this.fields,this.query))):(this.enableVirtualization&&!this.isPopupOpen&&this.viewPortInfo.endIndex!==this.totalItemCount&&(this.viewPortInfo.startIndex=this.totalItemCount-this.itemCount,this.viewPortInfo.endIndex=this.totalItemCount,this.updateVirtualItemIndex(),this.resetList(this.dataSource,this.fields,this.query)),n=this.getItems().length-1),e.preventDefault(),this.activeIndex===n){i&&this.setSelection(this.liCollections[n],e);return}if(!this.enableVirtualization&&this.liCollections[n]&&this.liCollections[n].classList.contains("e-disabled"))return;this.setSelection(this.liCollections[n],e)}},t.prototype.selectCurrentValueOnTab=function(e){this.getModuleName()==="autocomplete"?this.selectCurrentItem(e):this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))},t.prototype.mobileKeyActionHandler=function(e){if(this.enabled&&!(this.isEditTextBox()&&!this.isPopupOpen)&&!this.readonly){if(this.list===void 0&&!this.isRequested&&(this.searchKeyEvent=e,this.renderList()),v(this.list)||!v(this.liCollections)&&this.liCollections.length===0||this.isRequested)return;e.action==="enter"&&this.selectCurrentItem(e)}},t.prototype.handleVirtualKeyboardActions=function(e,i){switch(e.action){case"down":case"up":(this.itemData!=null||this.getModuleName()==="autocomplete")&&this.updateUpDownAction(e,!0);break;case"pageUp":this.activeIndex=this.getModuleName()==="autocomplete"?this.getIndexByValue(this.selectedLI.getAttribute("data-value"))+this.getPageCount()-1:this.getIndexByValue(this.previousValue),this.pageUpSelection(this.activeIndex-this.getPageCount(),e,!0),e.preventDefault();break;case"pageDown":this.activeIndex=this.getModuleName()==="autocomplete"?this.getIndexByValue(this.selectedLI.getAttribute("data-value"))-this.getPageCount():this.getIndexByValue(this.previousValue),this.pageDownSelection(v(this.activeIndex)?2*this.getPageCount():this.activeIndex+this.getPageCount(),e,!0),e.preventDefault();break;case"home":this.isMouseScrollAction=!0,this.updateHomeEndAction(e,!0);break;case"end":this.isMouseScrollAction=!0,this.updateHomeEndAction(e,!0);break}this.keyboardEvent=null},t.prototype.selectCurrentItem=function(e){if(this.isPopupOpen){var i=this.list.querySelector("."+Ui.focus);if(this.isDisabledElement(i))return;i&&(this.setSelection(i,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e)),this.hidePopup(e),this.focusDropDown(e)}else this.showPopup()},t.prototype.isSelectFocusItem=function(e){return!v(e)},t.prototype.pageUpSelection=function(e,i,n){var s=e>=0?this.liCollections[e+1]:this.liCollections[0];if(!this.enableVirtualization&&s&&s.classList.contains("e-disabled")){for(var a=e>=0?e+1:0;a<this.liCollections.length&&(s=this.liCollections[a],!(s&&!s.classList.contains("e-disabled")));)if(a--,a<0)return}this.enableVirtualization&&this.activeIndex==null&&(s=this.liCollections.length>=e&&e>=0?this.liCollections[e+this.skeletonCount+1]:this.liCollections[0]),!v(s)&&s.classList.contains("e-virtual-list")&&(s=this.liCollections[this.skeletonCount]),this.PageUpDownSelection(s,i),this.allowFiltering&&this.getModuleName()==="dropdownlist"&&(!v(this.ulElement)&&!v(this.ulElement.getElementsByClassName("e-item-focus")[0])?Ht(this.filterInput,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}):!v(this.ulElement)&&!v(this.ulElement.getElementsByClassName("e-active")[0])&&Ht(this.filterInput,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-active")[0].id}))},t.prototype.PageUpDownSelection=function(e,i){this.enableVirtualization?!v(e)&&(this.getModuleName()!=="autocomplete"&&!e.classList.contains("e-active")||this.getModuleName()==="autocomplete"&&!e.classList.contains("e-item-focus"))&&this.setSelection(e,i):this.setSelection(e,i)},t.prototype.pageDownSelection=function(e,i,n){var s=this.getItems(),a=e<=s.length?this.liCollections[e-1]:this.liCollections[s.length-1];if(!this.enableVirtualization&&a&&a.classList.contains("e-disabled"))for(;e>=0&&e<this.liCollections.length&&(a=e<=s.length?this.liCollections[e-1]:this.liCollections[s.length-1],!(a&&!a.classList.contains("e-disabled")));)e++;this.enableVirtualization&&this.skeletonCount>0&&(e=this.getModuleName()==="dropdownlist"&&this.allowFiltering?e+1:e,a=e<s.length?this.liCollections[e]:this.liCollections[s.length-1]),this.enableVirtualization&&this.activeIndex==null&&(a=e<=s.length?this.liCollections[e+this.skeletonCount-1]:this.liCollections[s.length-1]),this.PageUpDownSelection(a,i),this.allowFiltering&&this.getModuleName()==="dropdownlist"&&(!v(this.ulElement)&&!v(this.ulElement.getElementsByClassName("e-item-focus")[0])?Ht(this.filterInput,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}):!v(this.ulElement)&&!v(this.ulElement.getElementsByClassName("e-active")[0])&&Ht(this.filterInput,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-active")[0].id}))},t.prototype.unWireEvent=function(){v(this.inputWrapper)||(se.remove(this.inputWrapper.container,"mousedown",this.dropDownClick),se.remove(this.inputWrapper.container,"keypress",this.onSearch),se.remove(this.inputWrapper.container,"focus",this.focusIn),se.remove(window,"resize",this.windowResize)),this.unBindCommonEvent()},t.prototype.unWireListEvents=function(){this.list&&(se.remove(this.list,"click",this.onMouseClick),se.remove(this.list,"mouseover",this.onMouseOver),se.remove(this.list,"mouseout",this.onMouseLeave))},t.prototype.checkSelector=function(e){return'[id="'+e.replace(/(:|\.|\[|\]|,|=|@|\\|\/|#)/g,"\\$1")+'"]'},t.prototype.onDocumentClick=function(e){var i=e.target;if(!(!v(this.popupObj)&&Fe(i,this.checkSelector(this.popupObj.element.id)))&&!v(this.inputWrapper)&&!this.inputWrapper.container.contains(e.target)){if(this.inputWrapper.container.classList.contains(Ui.inputFocus)||this.isPopupOpen){this.isDocumentClick=!0;var n=this.isRequested;this.getModuleName()==="combobox"&&this.isTyped&&(this.isInteracted=!1),this.hidePopup(e),this.isInteracted=!1,n||(this.onFocusOut(e),this.inputWrapper.container.classList.remove(Ui.inputFocus))}}else i!==this.inputElement&&!(this.allowFiltering&&i===this.filterInput)&&!(this.getModuleName()==="combobox"&&!this.allowFiltering&&Re.isDevice&&i===this.inputWrapper.buttons[0])&&(this.isPreventBlur=(Re.isIE||Re.info.name==="edge")&&(document.activeElement===this.targetElement()||document.activeElement===this.filterInput),e.preventDefault())},t.prototype.activeStateChange=function(){this.isDocumentClick&&(this.hidePopup(),this.onFocusOut(),this.inputWrapper.container.classList.remove(Ui.inputFocus))},t.prototype.focusDropDown=function(e){!this.initial&&this.isFilterLayout()&&this.focusIn(e)},t.prototype.dropDownClick=function(e){if(!(e.which===3||e.button===2)&&(this.keyboardEvent=null,!(this.targetElement().classList.contains(Ui.disable)||this.inputWrapper.clearButton===e.target))){var i=e.target;if(i!==this.inputElement&&!(this.allowFiltering&&i===this.filterInput)&&this.getModuleName()!=="combobox"&&e.preventDefault(),this.readonly)this.focusIn(e);else{this.isPopupOpen||this.popupObj&&document.body.contains(this.popupObj.element)&&this.beforePopupOpen&&this.isPopupRender?(this.hidePopup(e),this.isFilterLayout()&&this.focusDropDown(e)):(this.focusIn(e),this.floatLabelChange(),this.queryString=this.inputElement.value.trim()===""?null:this.inputElement.value,this.isDropDownClick=!0,this.showPopup(e));var n=this,s=this.dataSource instanceof ut&&this.groupTemplate?700:this.element.tagName===this.getNgDirective()&&this.itemTemplate?500:100;this.isSecondClick||setTimeout(function(){n.cloneElements(),n.isSecondClick=!0,n.isSecondClick=!(n.isReact&&n.isFiltering()&&n.dataSource instanceof ut&&!n.list.querySelector("ul"))},s)}}},t.prototype.cloneElements=function(){if(this.list){var e=this.list.querySelector("ul");e&&(e=e.cloneNode?e.cloneNode(!0):e,this.actionCompleteData.ulElement=e)}},t.prototype.updateSelectedItem=function(e,i,n,s){var a=this;this.removeSelection(),e.classList.add($e.selected),this.removeHover();var o=e.getAttribute("data-value")!==null?this.getFormattedValue(e.getAttribute("data-value")):null,l=this.getDataByValue(o);if(!this.initial&&!n&&!v(i)){var c=this.detachChanges(l);this.isSelected=!0;var u={e:i,item:e,itemData:c,isInteracted:!!i,cancel:!1};this.trigger("select",u,function(d){d.cancel?e.classList.remove($e.selected):(a.selectEventCallback(e,i,n,l,o),s&&a.setSelectOptions(e,i))})}else this.selectEventCallback(e,i,n,l,o),s&&this.setSelectOptions(e,i)},t.prototype.selectEventCallback=function(e,i,n,s,a){this.previousItemData=v(this.itemData)?null:this.itemData,this.itemData!==s&&(this.previousValue=v(this.itemData)?null:typeof this.itemData=="object"&&!this.allowObjectBinding?this.checkFieldValue(this.itemData,this.fields.value.split(".")):this.itemData),this.item=e,this.itemData=s;var o=this.list.querySelector("."+$e.focus);if(o&&Oe([o],$e.focus),e.setAttribute("aria-selected","true"),v(a)&&(a="null"),this.allowFiltering&&!this.enableVirtualization&&this.getModuleName()!=="autocomplete"){var l=this.getIndexByValueFilter(a,this.actionCompleteData.ulElement);v(l)?this.activeIndex=this.getIndexByValue(a):this.activeIndex=l}else this.enableVirtualization&&this.activeIndex==null&&this.dataSource instanceof ut&&(this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll("."+$e.li),this.ulElement=this.list.querySelector("ul")),this.activeIndex=this.getIndexByValue(a)},t.prototype.activeItem=function(e){this.isValidLI(e)&&!e.classList.contains($e.selected)&&(this.removeSelection(),e.classList.add($e.selected),this.removeHover(),e.setAttribute("aria-selected","true"))},t.prototype.setValue=function(e){var i=this.getItemData();this.isTouched=!v(e),i.value===null?Rt.setValue(null,this.inputElement,this.floatLabelType,this.showClearButton):Rt.setValue(i.text,this.inputElement,this.floatLabelType,this.showClearButton),this.valueTemplate&&this.itemData!==null?this.setValueTemplate():!v(this.valueTempElement)&&this.inputElement.previousSibling===this.valueTempElement&&(zt(this.valueTempElement),this.inputElement.style.display="block"),!v(i.value)&&!this.enableVirtualization&&this.allowFiltering&&(this.activeIndex=this.getIndexByValueFilter(i.value,this.actionCompleteData.ulElement),v(this.activeIndex)&&(this.activeIndex=this.getIndexByValue(i.value)));var n=Ui.clearIcon,s=this.isFiltering()&&this.filterInput&&this.getModuleName()==="combobox",a=s&&this.filterInput.parentElement.querySelector("."+n);return this.isFiltering()&&a&&a.style.removeProperty("visibility"),!this.allowObjectBinding&&this.previousValue===i.value||this.allowObjectBinding&&this.previousValue!=null&&this.isObjectInArray(this.previousValue,[this.allowCustom&&this.isObjectCustomValue?this.value?this.value:i:i.value?this.getDataByValue(i.value):i])?(this.isSelected=!1,!0):(this.isSelected=!this.initial,this.isSelectCustom=!1,this.getModuleName()==="dropdownlist"&&this.updateIconState(),!1)},t.prototype.setSelection=function(e,i){if(this.isValidLI(e)&&(!e.classList.contains($e.selected)||this.isPopupOpen&&this.isSelected&&e.classList.contains($e.selected)))this.updateSelectedItem(e,i,!1,!0);else if(this.setSelectOptions(e,i),this.enableVirtualization&&this.value){var n=this.isPrimitiveData?"":this.fields.value,s=this.allowObjectBinding&&!v(this.value)?Pe(this.fields.value?this.fields.value:"",this.value):this.value;if(this.dataSource instanceof ut){var a=new ut(this.virtualGroupDataSource).executeLocal(new di().where(new Er(n,"equal",s)));if(a&&a.length>0){this.itemData=a[0];var o=this.getItemData(),l=this.allowObjectBinding?this.getDataByValue(o.value):o.value;(this.value===o.value&&this.text!==o.text||this.value!==o.value&&this.text===o.text)&&this.setProperties({text:o.text?o.text.toString():o.text,value:l})}}else{var a=new ut(this.dataSource).executeLocal(new di().where(new Er(n,"equal",s)));if(a&&a.length>0){this.itemData=a[0];var o=this.getItemData(),l=this.allowObjectBinding?this.getDataByValue(o.value):o.value;(this.value===o.value&&this.text!==o.text||this.value!==o.value&&this.text===o.text)&&(this.setProperties({text:o.text?o.text.toString():o.text,value:l}),v(e)&&(this.previousValue=this.value))}}}},t.prototype.setSelectOptions=function(e,i){this.list&&this.removeHover(),this.previousSelectedLI=v(this.selectedLI)?null:this.selectedLI,this.selectedLI=e,!this.setValue(i)&&((!this.isPopupOpen&&!v(e)||this.isPopupOpen&&!v(i)&&(i.type!=="keydown"||i.type==="keydown"&&i.action==="enter"))&&(this.isSelectCustom=!1,this.onChangeEvent(i)),this.isPopupOpen&&!v(this.selectedLI)&&this.itemData!==null&&(!i||i.type!=="click")&&this.setScrollPosition(i),Re.info.name!=="mozilla"&&this.targetElement()&&(Ht(this.targetElement(),{"aria-describedby":this.inputElement.id!==""?this.inputElement.id:this.element.id}),this.targetElement().removeAttribute("aria-live")),this.isPopupOpen&&!v(this.ulElement)&&!v(this.ulElement.getElementsByClassName("e-item-focus")[0])?Ht(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}):this.isPopupOpen&&!v(this.ulElement)&&!v(this.ulElement.getElementsByClassName("e-active")[0])&&Ht(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-active")[0].id}))},t.prototype.dropdownCompiler=function(e){var i=!1;if(typeof e!="function"&&e)try{i=!!document.querySelectorAll(e).length}catch{i=!1}return i},t.prototype.setValueTemplate=function(){var e;this.isReact&&(this.clearTemplate(["valueTemplate"]),this.valueTempElement&&(zt(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null)),this.valueTempElement||(this.valueTempElement=this.createElement("span",{className:Ui.value}),this.inputElement.parentElement.insertBefore(this.valueTempElement,this.inputElement),this.inputElement.style.display="none"),this.isReact||(this.valueTempElement.innerHTML="");var i=this.dropdownCompiler(this.valueTemplate);typeof this.valueTemplate!="function"&&i?e=jn(document.querySelector(this.valueTemplate).innerHTML.trim()):e=jn(this.valueTemplate);var n=e(this.itemData,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,this.valueTempElement);n&&n.length>0&&ri(n,this.valueTempElement),this.renderReactTemplates()},t.prototype.removeSelection=function(){if(this.list){var e=this.list.querySelectorAll("."+$e.selected);e.length&&(Oe(e,$e.selected),e[0].removeAttribute("aria-selected"))}},t.prototype.getItemData=function(){var e=this.fields,i=null;i=this.itemData;var n,s;v(i)||(n=Pe(e.value,i),s=Pe(e.text,i));var a=!v(i)&&!Wi(n)?n:i,o=!v(i)&&!Wi(n)?s:i;return{value:a,text:o}},t.prototype.onChangeEvent=function(e,i){var n=this,s=this.getItemData(),a=this.isSelectCustom?null:this.activeIndex;if(this.enableVirtualization){var o=this.dataSource instanceof ut?this.virtualGroupDataSource:this.dataSource;if(s.value&&o&&o.length>0){var l=o.findIndex(function(u){return!v(s.value)&&Pe(n.fields.value,u)===s.value});l!==-1&&(a=l)}}var c=this.allowObjectBinding?i?this.value:this.getDataByValue(s.value):s.value;this.setProperties({index:a,text:s.text?s.text.toString():s.text,value:c},!0),this.detachChangeEvent(e)},t.prototype.detachChanges=function(e){var i;return typeof e=="string"||typeof e=="boolean"||typeof e=="number"?i=Object.defineProperties({},{value:{value:e,enumerable:!0},text:{value:e,enumerable:!0}}):i=e,i},t.prototype.detachChangeEvent=function(e){if(this.isSelected=!1,this.previousValue=this.value,this.activeIndex=this.enableVirtualization?this.getIndexByValue(this.value):this.index,this.typedString=v(this.text)?"":this.text,!this.initial){var i=this.detachChanges(this.itemData),n=void 0;typeof this.previousItemData=="string"||typeof this.previousItemData=="boolean"||typeof this.previousItemData=="number"?n=Object.defineProperties({},{value:{value:this.previousItemData,enumerable:!0},text:{value:this.previousItemData,enumerable:!0}}):n=this.previousItemData,this.setHiddenValue();var s={e,item:this.item,itemData:i,previousItem:this.previousSelectedLI,previousItemData:n,isInteracted:!!e,value:this.value,element:this.element,event:e};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",s)}(v(this.value)||this.value==="")&&this.floatLabelType!=="Always"&&Oe([this.inputWrapper.container],"e-valid-input")},t.prototype.setHiddenValue=function(){if(v(this.value))this.hiddenElement.innerHTML="";else{var e=this.allowObjectBinding&&!v(this.value)?Pe(this.fields.value?this.fields.value:"",this.value):this.value;if(this.hiddenElement.querySelector("option")){var i=this.hiddenElement.querySelector("option");i.textContent=this.text,i.setAttribute("value",e.toString())}else if(!v(this.hiddenElement)){var n=document.createElement("option");n.text=this.text,n.setAttribute("selected",""),this.hiddenElement.appendChild(n);var i=this.hiddenElement.querySelector("option");i.setAttribute("value",e.toString())}}},t.prototype.onFilterUp=function(e){if(!(e.ctrlKey&&e.keyCode===86)&&(this.isValidKey||e.keyCode===40||e.keyCode===38))switch(this.isValidKey=!1,this.filterArgs=e,this.firstItem=this.dataSource&&this.dataSource.length>0?this.dataSource[0]:null,e.keyCode){case 38:case 40:this.getModuleName()==="autocomplete"&&!this.isPopupOpen&&!this.preventAltUp&&!this.isRequested?(this.preventAutoFill=!0,this.searchLists(e)):this.preventAutoFill=!1,this.preventAltUp=!1,this.getModuleName()==="autocomplete"&&!v(this.ulElement)&&!v(this.ulElement.getElementsByClassName("e-item-focus")[0])&&Ht(this.targetElement(),{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id}),e.preventDefault();break;case 46:case 8:this.typedString=this.filterInput.value,!this.isPopupOpen&&this.typedString!==""||this.isPopupOpen&&this.queryString.length>0?(this.preventAutoFill=!0,this.searchLists(e)):this.typedString===""&&this.queryString===""&&this.getModuleName()!=="autocomplete"?(this.preventAutoFill=!0,this.searchLists(e)):this.typedString===""&&(this.list&&this.resetFocusElement(),this.activeIndex=null,this.getModuleName()!=="dropdownlist"&&(this.preventAutoFill=!0,this.searchLists(e),this.getModuleName()==="autocomplete"&&this.hidePopup())),e.preventDefault();break;default:this.isFiltering()&&this.getModuleName()==="combobox"&&v(this.list)&&(this.getInitialData=!0,this.renderList(),!this.isSecondClick&&!this.isDropDownClick&&this.executeCloneElements()),this.typedString=this.filterInput.value,this.preventAutoFill=!1,this.getInitialData||this.searchLists(e),(this.enableVirtualization&&this.getModuleName()!=="autocomplete"||this.getModuleName()==="autocomplete"&&!(this.dataSource instanceof ut)||this.getModuleName()==="autocomplete"&&this.dataSource instanceof ut&&this.totalItemCount!==0)&&this.getFilteringSkeletonCount();break}else this.isValidKey=!1},t.prototype.onFilterDown=function(e){switch(e.keyCode){case 13:break;case 40:case 38:this.queryString=this.filterInput.value,e.preventDefault();break;case 9:this.isPopupOpen&&this.getModuleName()!=="autocomplete"&&e.preventDefault();break;default:this.prevSelectPoints=this.getSelectionPoints(),this.queryString=this.filterInput.value;break}},t.prototype.removeFillSelection=function(){if(this.isInteracted){var e=this.getSelectionPoints();this.inputElement.setSelectionRange(e.end,e.end)}},t.prototype.getQuery=function(e){var i;if(!this.isCustomFilter&&this.allowFiltering&&this.filterInput){i=e?e.clone():this.query?this.query.clone():new di;var n=this.typedString===""?"contains":this.filterType,s=this.typeOfData(this.dataSource).typeof;if(!(this.dataSource instanceof ut)&&s==="string"||s==="number")i.where("",n,this.typedString,this.ignoreCase,this.ignoreAccent);else if(this.getModuleName()!=="combobox"||this.isFiltering()&&this.getModuleName()==="combobox"&&this.typedString!==""){var a=this.fields.text?this.fields.text:"";i.where(a,n,this.typedString,this.ignoreCase,this.ignoreAccent)}}else i=this.enableVirtualization&&!v(this.customFilterQuery)?this.customFilterQuery.clone():e?e.clone():this.query?this.query.clone():new di;if(this.enableVirtualization&&this.viewPortInfo.endIndex!==0){var o=this.getTakeValue(),l=!1;if(i){for(var c=0;c<i.queries.length;c++)if(i.queries[c].fn==="onSkip"){l=!0;break}}var u=0,d=0;if(i&&i.queries.length>0)for(var c=0;c<i.queries.length;c++)i.queries[c].fn==="onSkip"&&(d=i.queries[c].e.nos),i.queries[c].fn==="onTake"&&(u=o<=i.queries[c].e.nos?i.queries[c].e.nos:o);if(u<=0&&this.query&&this.query.queries.length>0)for(var c=0;c<this.query.queries.length;c++)this.query.queries[c].fn==="onTake"&&(u=o<=this.query.queries[c].e.nos?this.query.queries[c].e.nos:o);var p=!1;if(i&&i.queries.length>0)for(var c=0;c<i.queries.length;c++){if(i.queries[c].fn==="onSkip"){d=i.queries[c].e.nos,i.queries.splice(c,1),l=!1,--c;continue}i.queries[c].fn==="onTake"&&(u=i.queries[c].e.nos<=u?u:i.queries[c].e.nos,i.queries.splice(c,1),--c)}!p&&(this.allowFiltering||!this.isPopupOpen||!l)&&(d>0?i.skip(d):i.skip(this.virtualItemStartIndex)),this.isIncrementalRequest?i.take(this.incrementalEndIndex):u>0?i.take(u):i.take(o),i.requiresCount()}return i},t.prototype.getSelectionPoints=function(){var e=this.inputElement;return{start:Math.abs(e.selectionStart),end:Math.abs(e.selectionEnd)}},t.prototype.performFiltering=function(e){var i=this;this.checkAndResetCache(),this.isRequesting=!1;var n={preventDefaultAction:!1,text:this.filterInput?this.filterInput.value:"",updateData:function(s,a,o){n.cancel||(i.isCustomFilter=!0,i.customFilterQuery=a&&a.clone(),i.filteringAction(s,a,o))},baseEventArgs:e,cancel:!1};this.trigger("filtering",n,function(s){!s.cancel&&!i.isCustomFilter&&!s.preventDefaultAction&&i.filteringAction(i.dataSource,null,i.fields)})},t.prototype.searchLists=function(e){if(this.isTyped=!0,this.activeIndex=null,this.isListSearched=!0,this.filterInput.parentElement.querySelector("."+Ui.clearIcon)){var i=this.filterInput.parentElement.querySelector("."+Ui.clearIcon);i.style.visibility=this.filterInput.value===""?"hidden":"visible"}this.isDataFetched=!1,this.isFiltering()&&(this.typedString!==""&&this.debounceDelay>0?this.debouncedFiltering(e,this.debounceDelay):this.performFiltering(e))},t.prototype.filter=function(e,i,n){this.isCustomFilter=!0,this.filteringAction(e,i,n)},t.prototype.filteringAction=function(e,i,n){if(!v(this.filterInput)){this.beforePopupOpen=!(!this.isPopupOpen&&this.getModuleName()==="combobox"&&this.filterInput.value===""||this.getInitialData);var s=this.list.classList.contains($e.noData);if(this.filterInput.value.trim()===""&&!this.itemTemplate){if(this.actionCompleteData.isUpdated=!1,this.isTyped=!1,!v(this.actionCompleteData.ulElement)&&!v(this.actionCompleteData.list)){if(this.enableVirtualization&&(this.isFiltering()&&(this.isPreventScrollAction=!0,this.list.scrollTop=0,this.previousStartIndex=0,this.virtualListInfo=null),this.totalItemCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.resetList(e,n,i),s&&!this.list.classList.contains($e.noData))){if(!this.list.querySelector(".e-virtual-ddl-content")){var a=this.createElement("div",{className:"e-virtual-ddl-content"});a.style.cssText=this.getTransformValues(),this.list.appendChild(a).appendChild(this.list.querySelector(".e-list-parent"))}if(!this.list.querySelector(".e-virtual-ddl")){var o=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});o.style.cssText=this.GetVirtualTrackHeight(),this.list.parentElement.querySelector(".e-dropdownbase").appendChild(o)}}this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list)}this.isTyped=!0,!v(this.itemData)&&this.getModuleName()==="dropdownlist"&&(this.focusIndexItem(),this.setScrollPosition()),this.isNotSearchList=!0}else if(this.isNotSearchList=!1,i=this.filterInput.value.trim()===""?null:i,this.enableVirtualization&&this.isFiltering()&&this.isTyped&&(this.isPreventScrollAction=!0,this.list.scrollTop=0,this.previousStartIndex=0,this.virtualListInfo=null),this.resetList(e,n,i),this.getModuleName()==="dropdownlist"&&this.list.classList.contains($e.noData)&&(this.popupContentElement.setAttribute("role","status"),this.popupContentElement.setAttribute("id","no-record"),Ht(this.filterInputObj.container,{"aria-activedescendant":"no-record"})),this.enableVirtualization&&s&&!this.list.classList.contains($e.noData)){if(!this.list.querySelector(".e-virtual-ddl-content")){var a=this.createElement("div",{className:"e-virtual-ddl-content"});a.style.cssText=this.getTransformValues(),this.list.appendChild(a).appendChild(this.list.querySelector(".e-list-parent"))}if(!this.list.querySelector(".e-virtual-ddl")){var o=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});o.style.cssText=this.GetVirtualTrackHeight(),this.list.parentElement.querySelector(".e-dropdownbase").appendChild(o)}}this.enableVirtualization&&this.getFilteringSkeletonCount(),this.renderReactTemplates(),this.filterInput&&this.filterInput.value===""&&this.getModuleName()==="combobox"&&this.executeCloneElements()}},t.prototype.setSearchBox=function(e){if(this.isFiltering()){var i=e.querySelector("."+Ui.filterParent)?e.querySelector("."+Ui.filterParent):this.createElement("span",{className:Ui.filterParent});this.filterInput=this.createElement("input",{attrs:{type:"text"},className:Ui.filterInput}),this.element.parentNode.insertBefore(this.filterInput,this.element);var n=!1;return Re.isDevice&&this.isDeviceFullScreen&&(n=!0),this.filterInputObj=Rt.createInput({element:this.filterInput,buttons:n?[Ui.backIcon,Ui.filterBarClearIcon]:[Ui.filterBarClearIcon],properties:{placeholder:this.filterBarPlaceholder}},this.createElement),v(this.cssClass)||(this.cssClass.split(" ").indexOf("e-outline")!==-1?pe([this.filterInputObj.container],"e-outline"):this.cssClass.split(" ").indexOf("e-filled")!==-1&&pe([this.filterInputObj.container],"e-filled")),ri([this.filterInputObj.container],i),Ln([i],e),Ht(this.filterInput,{"aria-disabled":"false",role:"combobox",autocomplete:"off",autocapitalize:"off",spellcheck:"false"}),this.clearIconElement=this.filterInput.parentElement.querySelector("."+Ui.clearIcon),!Re.isDevice&&this.clearIconElement&&(se.add(this.clearIconElement,"click",this.clearText,this),this.clearIconElement.style.visibility="hidden"),Re.isDevice?this.searchKeyModule=new Yl(this.filterInput,{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}):this.searchKeyModule=new Yl(this.filterInput,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),se.add(this.filterInput,"input",this.onInput,this),se.add(this.filterInput,"keyup",this.onFilterUp,this),se.add(this.filterInput,"keydown",this.onFilterDown,this),se.add(this.filterInput,"blur",this.onBlurHandler,this),se.add(this.filterInput,"paste",this.pasteHandler,this),this.filterInputObj}else return ybe},t.prototype.onInput=function(e){!v(e)&&!v(e.data)&&e.data.length>1&&this.autoFill&&(this.getModuleName()==="combobox"||this.getModuleName()==="autocomplete")&&(this.inputElement.value=e.data),this.isValidKey=!0,this.getModuleName()==="combobox"&&this.updateIconState(),Re.isDevice&&Re.info.name==="mozilla"&&(this.typedString=this.filterInput.value,this.preventAutoFill=!0,this.searchLists(e))},t.prototype.pasteHandler=function(e){var i=this;setTimeout(function(){i.typedString=i.filterInput.value,i.getModuleName()==="combobox"&&i.isFiltering()&&v(i.list)&&i.renderList(),i.searchLists(e)})},t.prototype.onActionFailure=function(e){r.prototype.onActionFailure.call(this,e),this.beforePopupOpen&&this.renderPopup()},t.prototype.getTakeValue=function(){return this.allowFiltering&&this.getModuleName()==="dropdownlist"&&Re.isDevice?Math.round(window.outerHeight/this.listItemHeight):this.itemCount},t.prototype.onActionComplete=function(e,i,n,s){var a=this;if(this.dataSource instanceof ut&&!v(n)&&!this.virtualGroupDataSource&&(this.totalItemCount=n.count),this.isNotSearchList&&!this.enableVirtualization){this.isNotSearchList=!1;return}if(this.getInitialData){this.itemTemplate&&this.element.tagName==="EJS-COMBOBOX"&&this.allowFiltering?setTimeout(function(){a.updateActionCompleteDataValues(e,i)},0):this.updateActionCompleteDataValues(e,i),this.enableVirtualization&&this.updateSelectElementData(this.allowFiltering),this.getInitialData=!1,this.isReactTemplateUpdate=!0,this.typedString=this.filterInput.value,this.searchLists(this.filterArgs);return}var o=this.itemCount;if(this.isActive||!v(e)){var l=this.selectedLI?this.selectedLI.cloneNode(!0):null;if(r.prototype.onActionComplete.call(this,e,i,n),this.skeletonCount=this.totalItemCount!==0&&this.totalItemCount<this.itemCount*2&&(!(this.dataSource instanceof ut)||this.dataSource instanceof ut&&this.totalItemCount<=this.itemCount)?0:this.skeletonCount,this.updateSelectElementData(this.allowFiltering),this.isRequested&&!v(this.searchKeyEvent)&&this.searchKeyEvent.type==="keydown"&&(this.isRequested=!1,this.keyActionHandler(this.searchKeyEvent),this.searchKeyEvent=null),this.isRequested&&!v(this.searchKeyEvent)&&(this.incrementalSearch(this.searchKeyEvent),this.searchKeyEvent=null),this.enableVirtualization||(this.list.scrollTop=0),v(e)||Ht(e,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false","aria-label":"listbox"}),this.initialRemoteRender){if(this.initial=!0,this.activeIndex=this.index,this.initialRemoteRender=!1,this.value&&this.dataSource instanceof ut){var c=v(this.fields.value)?this.fields.text:this.fields.value,u=this.allowObjectBinding&&!v(this.value)?Pe(c,this.value):this.value,d=this.fields.value.split("."),p=i.some(function(b){return v(b[c])&&d.length>1?a.checkFieldValue(b,d)===u:b[c]===u});this.enableVirtualization&&this.virtualGroupDataSource&&(p=this.virtualGroupDataSource.some(function(b){return v(b[c])&&d.length>1?a.checkFieldValue(b,d)===u:b[c]===u})),p?this.updateValues():this.dataSource.executeQuery(this.getQuery(this.query).where(new Er(c,"equal",u))).then(function(b){b.result.length>0&&(a.enableVirtualization||a.addItem(b.result,i.length)),a.updateValues()})}else this.updateValues();this.initial=!1}else this.getModuleName()==="autocomplete"&&this.value&&this.setInputValue();if(this.getModuleName()!=="autocomplete"&&this.isFiltering()&&!this.isTyped){if((!this.actionCompleteData.isUpdated||!this.isCustomFilter&&!this.isFilterFocus||v(this.itemData)&&this.allowFiltering&&(this.dataSource instanceof ut||!v(this.dataSource)&&!v(this.dataSource.length)&&this.dataSource.length!==0))&&(this.itemTemplate&&(this.element.tagName==="EJS-COMBOBOX"||this.isReact)&&this.allowFiltering?setTimeout(function(){a.updateActionCompleteDataValues(e,i)},0):this.updateActionCompleteDataValues(e,i)),this.isDynamicData){var m=this.allowObjectBinding&&!v(this.value)?Pe(this.fields.value?this.fields.value:"",this.value):this.value;this.itemData=this.getDataByValue(m),this.selectedLI=this.getElementByValue(m),this.isDynamicData=!1}if((this.allowCustom||this.allowFiltering&&!this.isValueInList(i,this.value)&&this.dataSource instanceof ut)&&!this.enableVirtualization)this.addNewItem(i,l);else if((this.allowCustom||this.allowFiltering&&this.isValueInList(i,this.value))&&!this.enableVirtualization){var y=this.allowObjectBinding&&!v(this.value)?Pe(this.fields.value?this.fields.value:"",this.value):this.value,M=!v(this.value)&&l&&l.getAttribute("data-value")===y.toString();M&&this.addNewItem(i,l)}(!v(this.itemData)||v(this.itemData)&&this.enableVirtualization)&&(this.getSkeletonCount(),this.skeletonCount=this.totalItemCount!==0&&this.totalItemCount<this.itemCount*2&&(!(this.dataSource instanceof ut)||this.dataSource instanceof ut&&this.totalItemCount<=this.itemCount)?0:this.skeletonCount,this.UpdateSkeleton(),this.focusIndexItem()),this.enableVirtualization&&this.updateActionCompleteDataValues(e,i)}else if(this.enableVirtualization&&this.getModuleName()!=="autocomplete"&&!this.isFiltering()){var y=this.getItemData().value;this.activeIndex=this.getIndexByValue(y);var w=this.findListElement(this.list,"li","data-value",y);this.selectedLI=w}else this.enableVirtualization&&this.getModuleName()==="autocomplete"&&(this.activeIndex=this.skeletonCount);this.beforePopupOpen&&(this.renderPopup(n),this.enableVirtualization&&(this.list.querySelector(".e-virtual-list")||(this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"))),this.enableVirtualization&&o!==this.itemCount&&this.resetList(this.dataSource,this.fields))}},t.prototype.isValueInList=function(e,i){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(e[n]===i)return!0}else if(typeof e=="object"&&e!==null){for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&e[s]===i)return!0}return!1},t.prototype.checkFieldValue=function(e,i){var n=e;return i.forEach(function(s){n=n[s]}),n},t.prototype.updateActionCompleteDataValues=function(e,i){this.actionCompleteData={ulElement:e.cloneNode(!0),list:i,isUpdated:!0},this.actionData.list!==this.actionCompleteData.list&&this.actionCompleteData.ulElement&&this.actionCompleteData.list&&(this.actionData=this.actionCompleteData)},t.prototype.addNewItem=function(e,i){var n=this;if(!v(this.itemData)&&!v(i)){var s=this.getItemData().value,a=e.some(function(o){return(typeof o=="string"||typeof o=="number"||typeof o=="boolean")&&o===s||Pe(n.fields.value,o)===s});a||this.addItem(this.itemData)}},t.prototype.updateActionCompleteData=function(e,i,n){var s=this;this.getModuleName()!=="autocomplete"&&this.actionCompleteData.ulElement&&(this.itemTemplate&&this.element.tagName==="EJS-COMBOBOX"&&this.allowFiltering?setTimeout(function(){s.actionCompleteDataUpdate(e,i,n)},0):this.actionCompleteDataUpdate(e,i,n))},t.prototype.actionCompleteDataUpdate=function(e,i,n){n!==null?this.actionCompleteData.ulElement.insertBefore(e.cloneNode(!0),this.actionCompleteData.ulElement.childNodes[n]):this.actionCompleteData.ulElement.appendChild(e.cloneNode(!0)),this.isFiltering()&&this.actionCompleteData.list&&this.actionCompleteData.list.indexOf(i)<0&&this.actionCompleteData.list.push(i)},t.prototype.focusIndexItem=function(){var e=this.getItemData().value;this.activeIndex=this.enableVirtualization&&!v(e)||!this.enableVirtualization?this.getIndexByValue(e):this.activeIndex;var i=this.findListElement(this.list,"li","data-value",e);this.selectedLI=i,this.activeItem(i),this.enableVirtualization&&v(i)||this.removeFocus()},t.prototype.updateSelection=function(){var e=this.list.querySelector("."+$e.selected);if(e)this.setProperties({index:this.getIndexByValue(e.getAttribute("data-value"))}),this.activeIndex=this.index;else{if(this.removeFocus(),this.allowFiltering&&this.actionCompleteData&&this.actionCompleteData.ulElement&&this.dataSource instanceof ut){var i=this.actionCompleteData.ulElement.querySelectorAll("."+Ui.focus);i&&i.length&&Oe(i,Ui.focus)}this.list.querySelector("."+$e.li).classList.add(Ui.focus)}},t.prototype.updateSelectionList=function(){var e=this.list&&this.list.querySelector(".e-active");if(!e&&!v(this.value)&&this.getModuleName()!=="autocomplete"){var i=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value):this.value,n=this.findListElement(this.list,"li","data-value",i);n&&n.classList.add("e-active")}},t.prototype.removeFocus=function(){var e=this.list.querySelectorAll("."+Ui.focus);e&&e.length&&Oe(e,Ui.focus)},t.prototype.renderPopup=function(e){var i=this;if(this.popupObj&&document.body.contains(this.popupObj.element)){this.refreshPopup();return}var n={cancel:!1};this.trigger("beforeOpen",n,function(s){var a;if(s.cancel)i.beforePopupOpen=!1;else{var o=i.createElement("div",{id:i.element.id+"_popup",className:"e-ddl e-popup "+(i.cssClass!==null?i.cssClass:"")});o.setAttribute("aria-label",i.element.id),o.setAttribute("role","dialog");var l=i.setSearchBox(o);if(i.listContainerHeight=i.allowFiltering&&i.getModuleName()==="dropdownlist"&&Re.isDevice&&i.isDeviceFullScreen?bt(Math.round(window.outerHeight).toString()+"px"):bt(i.popupHeight),i.headerTemplate&&(i.setHeaderTemplate(o),i.isUpdateHeaderHeight=i.header.offsetHeight!==0),ri([i.list],o),i.footerTemplate&&(i.setFooterTemplate(o),i.isUpdateFooterHeight=i.footer.offsetHeight!==0),document.body.appendChild(o),o.style.top="0px",a=o.clientHeight,i.enableVirtualization&&(i.itemTemplate||i.isAngular)){var c=o.querySelectorAll("li.e-list-item:not(.e-virtual-list)"),u=o.querySelectorAll("li.e-virtual-list"),d=c&&c.length>0?Math.ceil(c[0].getBoundingClientRect().height)+parseInt(window.getComputedStyle(c[0]).marginBottom,10):0,p=u&&u.length>0?Math.ceil(u[0].getBoundingClientRect().height)+parseInt(window.getComputedStyle(u[0]).marginBottom,10):0;d!==p&&u&&u.length>0&&u.forEach(function(J){J.parentNode.removeChild(J)}),i.listItemHeight=d}if(i.enableVirtualization&&!i.list.classList.contains($e.noData)){if(i.getSkeletonCount(),i.skeletonCount=i.totalItemCount<i.itemCount*2&&(!(i.dataSource instanceof ut)||i.dataSource instanceof ut&&i.totalItemCount<=i.itemCount)?0:i.skeletonCount,i.list.querySelector(".e-virtual-ddl-content"))i.list.getElementsByClassName("e-virtual-ddl-content")[0].style=i.getTransformValues();else{var m=i.createElement("div",{className:"e-virtual-ddl-content"});m.style.cssText=i.getTransformValues(),i.list.appendChild(m).appendChild(i.list.querySelector(".e-list-parent"))}if(i.UpdateSkeleton(),i.liCollections=i.list.querySelectorAll("."+$e.li),i.virtualItemCount=i.itemCount,i.list.querySelector(".e-virtual-ddl"))i.list.getElementsByClassName("e-virtual-ddl")[0].style=i.GetVirtualTrackHeight();else{var y=i.createElement("div",{id:i.element.id+"_popup",className:"e-virtual-ddl"});y.style.cssText=i.GetVirtualTrackHeight(),o.querySelector(".e-dropdownbase").appendChild(y)}}if(o.style.visibility="hidden",i.popupHeight!=="auto"){if(i.searchBoxHeight=0,!v(l.container)&&i.getModuleName()!=="combobox"&&i.getModuleName()!=="autocomplete"&&(i.searchBoxHeight=l.container.parentElement.getBoundingClientRect().height,i.listContainerHeight=(parseInt(i.listContainerHeight,10)-i.searchBoxHeight).toString()+"px"),i.headerTemplate){i.header=i.header?i.header:o.querySelector(".e-ddl-header");var M=Math.round(i.header.getBoundingClientRect().height);i.listContainerHeight=(parseInt(i.listContainerHeight,10)-(M+i.searchBoxHeight)).toString()+"px"}if(i.footerTemplate){i.footer=i.footer?i.footer:o.querySelector(".e-ddl-footer");var M=Math.round(i.footer.getBoundingClientRect().height);i.listContainerHeight=(parseInt(i.listContainerHeight,10)-(M+i.searchBoxHeight)).toString()+"px"}i.list.style.maxHeight=(parseInt(i.listContainerHeight,10)-2).toString()+"px",o.style.maxHeight=bt(i.popupHeight)}else o.style.height="auto";var w=0,b=void 0;if(i.isPreventScrollAction=!0,!v(i.selectedLI)&&!v(i.activeIndex)&&i.activeIndex>=0||i.enableVirtualization?i.setScrollPosition():i.list.scrollTop=0,Re.isDevice&&i.isDeviceFullScreen&&!i.allowFiltering&&(i.getModuleName()==="dropdownlist"||i.isDropDownClick&&i.getModuleName()==="combobox")){w=i.getOffsetValue(o);var D=i.isEmptyList()?i.list:i.liCollections[0];v(i.inputElement)||(b=-(parseInt(getComputedStyle(D).textIndent,10)-parseInt(getComputedStyle(i.inputElement).paddingLeft,10)+parseInt(getComputedStyle(i.inputElement.parentElement).borderLeftWidth,10)))}i.createPopup(o,w,b),i.popupContentElement=i.popupObj.element.querySelector(".e-content"),i.getFocusElement(),i.checkCollision(o),Re.isDevice&&(parseInt(i.popupWidth.toString(),10)>window.outerWidth&&!(i.getModuleName()==="dropdownlist"&&i.allowFiltering)&&i.popupObj.element.classList.add("e-wide-popup"),i.popupObj.element.classList.add(Ui.device),(i.getModuleName()==="dropdownlist"||i.getModuleName()==="combobox"&&!i.allowFiltering&&i.isDropDownClick)&&(i.popupObj.collision={X:"fit",Y:"fit"}),i.isFilterLayout()&&i.isDeviceFullScreen&&(i.popupObj.element.classList.add(Ui.mobileFilter),i.popupObj.position={X:0,Y:0},i.popupObj.dataBind(),Ht(i.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;"}),pe([document.body,i.popupObj.element],Ui.popupFullScreen),i.setSearchBoxPosition(),i.backIconElement=l.container.querySelector(".e-back-icon"),i.clearIconElement=l.container.querySelector("."+Ui.clearIcon),se.add(i.backIconElement,"click",i.clickOnBackIcon,i),se.add(i.clearIconElement,"click",i.clearText,i))),o.style.visibility="visible",pe([o],"e-popup-close");for(var E=i.popupObj.getScrollableParent(i.inputWrapper.container),N=0,B=E;N<B.length;N++){var P=B[N];se.add(P,"scroll",i.scrollHandler,i)}v(i.list)||(i.unWireListEvents(),i.wireListEvents()),i.selectedElementID=i.selectedLI?i.selectedLI.id:null,i.enableVirtualization&&(i.notify("bindScrollEvent",{module:"VirtualScroll",component:i.getModuleName(),enable:i.enableVirtualization}),setTimeout(function(){(i.value||i.list.querySelector(".e-active"))&&(i.updateSelectionList(),i.viewPortInfo&&i.viewPortInfo.offsets.top?i.list.scrollTop=i.viewPortInfo.offsets.top:i.scrollBottom(!0,!0))},5)),Ht(i.targetElement(),{"aria-expanded":"true","aria-owns":i.element.id+"_popup","aria-controls":i.element.id}),i.getModuleName()!=="dropdownlist"&&i.list.classList.contains("e-nodata")&&(Ht(i.targetElement(),{"aria-activedescendant":"no-record"}),i.popupContentElement.setAttribute("role","status"),i.popupContentElement.setAttribute("id","no-record")),i.inputElement.setAttribute("aria-expanded","true"),i.inputElement.setAttribute("aria-controls",i.element.id+"_popup");var C=i.isFiltering()?i.filterInput.parentElement:i.inputWrapper.container;pe([C],[Ui.inputFocus]);var k={name:"FadeIn",duration:100};i.beforePopupOpen=!0;var _=i.popupObj,H={popup:_,event:e,cancel:!1,animation:k};if(i.trigger("open",H,function(J){J.cancel?(i.beforePopupOpen=!1,i.destroyPopup()):(v(i.inputWrapper)||pe([i.inputWrapper.container],[Ui.iconAnimation]),i.renderReactTemplates(),i.isReact&&i.isFiltering()&&i.dataSource instanceof ut&&i.list.querySelector("ul")&&!i.isSecondClick&&i.executeCloneElements(),v(i.popupObj)||(i.popupObj.show(new fo(J.animation),i.zIndex===1e3?i.element:null),i.isPopupRender=!0),i.isReact&&setTimeout(function(){if(i.popupHeight&&i.list&&i.popupHeight!=="auto"&&!(i.getModuleName()==="dropdownlist"&&i.allowFiltering)){var U=typeof i.popupHeight=="string"?parseInt(i.popupHeight,10):i.popupHeight;if(!i.isUpdateHeaderHeight&&i.headerTemplate&&i.header){var W=i.list.style.maxHeight===""?U:parseInt(i.list.style.maxHeight,10);i.list.style.maxHeight=(W-i.header.offsetHeight).toString()+"px",i.isUpdateHeaderHeight=!0}if(!i.isUpdateFooterHeight&&i.footerTemplate&&i.footer){var W=i.list.style.maxHeight===""?U:parseInt(i.list.style.maxHeight,10);i.list.style.maxHeight=(W-i.footer.offsetHeight).toString()+"px",i.isUpdateFooterHeight=!0}}},15))}),i.allowResize&&(i.getModuleName()!=="dropdownlist"||!(Re.isDevice&&i.isDeviceFullScreen&&i.allowFiltering))){var j=16;if(i.resizer=i.createElement("div",{id:i.element.id+"_resize-popup",className:Ui.resizeIcon}),i.list&&i.list.parentElement){if(i.list.parentElement.classList.add("e-resize"),i.popupHeight.toString().toLowerCase()!=="auto"&&a>=parseInt(i.popupHeight.toString(),10)-2&&(i.list.parentElement.style.height="100%"),i.list.parentElement.style.paddingBottom=i.getModuleName()==="dropdownlist"&&i.allowFiltering&&i.searchBoxHeight?(i.searchBoxHeight+j).toString()+"px":j.toString()+"px",i.isReact&&i.footer){var z=i.list.style.maxHeight,F=i.list.parentElement.style.maxHeight,X=i.listContainerHeight;setTimeout(function(){i.footer=i.footer?i.footer:o.querySelector(".e-ddl-footer");var J=Math.round(i.footer.getBoundingClientRect().height);J>0&&(X=(parseInt(X,10)-J).toString()+"px",z=(parseInt(X,10)-2).toString()+"px",i.list.parentElement.style.paddingBottom=(parseInt(F,10)-parseInt(z,10)+j).toString()+"px")},1)}else(i.header||i.footer||i.itemTemplate)&&(i.list.parentElement.style.paddingBottom=(parseInt(i.list.parentElement.style.maxHeight,10)-parseInt(i.list.style.maxHeight,10)+j).toString()+"px");i.list.parentElement.appendChild(i.resizer),i.list.parentElement.style.width=i.resizeWidth+"px",i.list.parentElement.style.height=i.resizeHeight+"px",i.list.parentElement.style.maxHeight=i.resizeHeight+"px",i.list.style.maxHeight=i.resizeHeight+"px"}se.add(i.resizer,"mousedown",i.startResizing,i),se.add(i.resizer,"touchstart",i.startResizing,i)}}})},t.prototype.checkCollision=function(e){if(!Re.isDevice||Re.isDevice&&!(this.getModuleName()==="dropdownlist"||this.isDropDownClick)){var i=gp(e);i.length>0&&(e.style.marginTop=-parseInt(getComputedStyle(e).marginTop,10)+"px"),this.popupObj.resolveCollision()}},t.prototype.getOffsetValue=function(e){var i=getComputedStyle(e),n=parseInt(i.borderTopWidth,10),s=parseInt(i.borderBottomWidth,10);return this.setPopupPosition(n+s)},t.prototype.createPopup=function(e,i,n){var s=this;this.popupObj=new xh(e,{width:this.setWidth(),targetType:"relative",relateTo:this.inputWrapper.container,collision:this.enableRtl?{X:"fit",Y:"flip"}:{X:"flip",Y:"flip"},offsetY:i,enableRtl:this.enableRtl,offsetX:n,position:this.enableRtl?{X:"right",Y:"bottom"}:{X:"left",Y:"bottom"},zIndex:this.zIndex,close:function(){s.isDocumentClick||s.focusDropDown(),s.isReact&&s.clearTemplate(["headerTemplate","footerTemplate"]),s.isNotSearchList=!1,s.isDocumentClick=!1,s.destroyPopup(),s.isFiltering()&&s.actionCompleteData.list&&s.actionCompleteData.list.length>0?(s.isActive=!0,s.isReactTemplateUpdate&&s.isReact&&s.itemTemplate&&!s.enableVirtualization&&(s.actionCompleteData.ulElement=s.renderItems(s.actionCompleteData.list,s.fields),s.isReactTemplateUpdate=!1),s.enableVirtualization?s.onActionComplete(s.ulElement,s.listData,null,!0):s.onActionComplete(s.actionCompleteData.ulElement,s.actionCompleteData.list,null,!0)):s.enableVirtualization&&s.focusIndexItem()},open:function(){se.add(document,"mousedown",s.onDocumentClick,s),s.isPopupOpen=!0;var a=s.actionCompleteData&&s.actionCompleteData.ulElement&&s.actionCompleteData.ulElement.querySelector("li"),o=s.list.querySelector("ul li");!v(s.ulElement)&&!v(s.ulElement.getElementsByClassName("e-item-focus")[0])?Ht(s.targetElement(),{"aria-activedescendant":s.ulElement.getElementsByClassName("e-item-focus")[0].id}):!v(s.ulElement)&&!v(s.ulElement.getElementsByClassName("e-active")[0])&&Ht(s.targetElement(),{"aria-activedescendant":s.ulElement.getElementsByClassName("e-active")[0].id}),s.isFiltering()&&s.itemTemplate&&s.element.tagName===s.getNgDirective()&&a&&o&&a.textContent!==o.textContent&&s.element.tagName!=="EJS-COMBOBOX"&&s.cloneElements(),s.isFilterLayout()&&(Oe([s.inputWrapper.container],[Ui.inputFocus]),s.isFilterFocus=!0,s.filterInput.focus(),s.inputWrapper.clearButton&&pe([s.inputWrapper.clearButton],Ui.clearIconHide)),s.activeStateChange()},targetExitViewport:function(){Re.isDevice||s.hidePopup()}})},t.prototype.isEmptyList=function(){return!v(this.liCollections)&&this.liCollections.length===0},t.prototype.getFocusElement=function(){},t.prototype.isFilterLayout=function(){return this.getModuleName()==="dropdownlist"&&this.allowFiltering},t.prototype.scrollHandler=function(){Re.isDevice&&(this.getModuleName()==="dropdownlist"&&!this.isFilterLayout()||this.getModuleName()==="combobox"&&!this.allowFiltering&&this.isDropDownClick)&&this.element&&!this.isElementInViewport(this.element)&&this.hidePopup()},t.prototype.isElementInViewport=function(e){var i=e.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=window.innerHeight&&i.right<=window.innerWidth},t.prototype.setSearchBoxPosition=function(){var e=this.filterInput.parentElement.getBoundingClientRect().height;this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%",this.list.style.maxHeight=window.innerHeight-e+"px",this.list.style.height=window.innerHeight-e+"px";var i=this.filterInput.parentElement.querySelector("."+Ui.clearIcon);zt(this.filterInput),i.parentElement.insertBefore(this.filterInput,i)},t.prototype.setPopupPosition=function(e){var i,n=e,s=this.list.querySelector("."+Ui.focus)||this.selectedLI,a=this.isEmptyList()?this.list:this.liCollections[0],o=this.isEmptyList()?this.list:this.liCollections[this.getItems().length-1],l=a.getBoundingClientRect().height;this.listItemHeight=l+parseInt(window.getComputedStyle(a).marginBottom,10);var c=this.list.offsetHeight/2,u=v(s)?a.offsetTop:s.offsetTop,d=o.offsetTop;if(d-c<u&&!v(this.liCollections)&&this.liCollections.length>0&&!v(s)){var p=this.list.offsetHeight/l,m=parseInt(getComputedStyle(this.list).paddingBottom,10);i=(p-(this.liCollections.length-this.activeIndex))*l-n+m,this.list.scrollTop=s.offsetTop}else u>c&&!this.enableVirtualization?(i=c-l/2,this.list.scrollTop=u-c+l/2):i=u;var y=this.inputWrapper.container.offsetHeight;return i=i+l+n-(l-y)/2,-i},t.prototype.setWidth=function(){var e=bt(this.popupWidth);if(e.indexOf("%")>-1){var i=this.inputWrapper.container.offsetWidth*parseFloat(e)/100;e=i.toString()+"px"}if(Re.isDevice&&e.indexOf("px")>-1&&!this.allowFiltering&&(this.getModuleName()==="dropdownlist"||this.isDropDownClick&&this.getModuleName()==="combobox")){var n=this.isEmptyList()?this.list:this.liCollections[0];e=parseInt(e,10)+(parseInt(getComputedStyle(n).textIndent,10)-parseInt(getComputedStyle(this.inputElement).paddingLeft,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))*2+"px"}return e},t.prototype.scrollBottom=function(e,i,n){var s=this;if(i===void 0&&(i=!1),n===void 0&&(n=null),v(this.selectedLI)&&this.enableVirtualization&&(this.selectedLI=this.list.querySelector("."+$e.li),!v(this.selectedLI)&&this.selectedLI.classList.contains("e-virtual-list")&&(this.selectedLI=this.liCollections[this.skeletonCount])),!v(this.selectedLI)){var a=this.selectedLI&&!isNaN(parseInt(window.getComputedStyle(this.selectedLI).marginBottom,10))?parseInt(window.getComputedStyle(this.selectedLI).marginBottom,10):0;this.isUpwardScrolling=!1;var o=this.list.querySelectorAll(".e-virtual-list").length,l=this.list.querySelector("li:last-of-type")?this.list.querySelector("li:last-of-type").getAttribute("data-value"):null,c=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*(this.selectedLI.offsetHeight+a):this.selectedLI.offsetTop,u=this.list.offsetHeight,d=c-o*(this.selectedLI.offsetHeight+a)+(this.selectedLI.offsetHeight+a)-this.list.scrollTop,p=this.list.scrollTop+d-u,m=!1;p=e?p+parseInt(getComputedStyle(this.list).paddingTop,10)*2:p+parseInt(getComputedStyle(this.list).paddingTop,10);var y=c-o*(this.selectedLI.offsetHeight+a)+(this.selectedLI.offsetHeight+a)-this.list.scrollTop;if(y=this.fields.groupBy&&!v(this.fixedHeaderElement)?y-this.fixedHeaderElement.offsetHeight:y,this.activeIndex===0&&!this.enableVirtualization)this.list.scrollTop=0,m=this.isKeyBoardAction;else if(d>u||!(y>0&&this.list.offsetHeight>y)){var M=this.selectedLI?this.selectedLI.getAttribute("data-value"):null,w=n==="pageDown"?this.getPageCount()-2:1;!this.enableVirtualization||this.isKeyBoardAction||i?this.isKeyBoardAction&&this.enableVirtualization&&l&&M===l&&n!=="end"&&!this.isVirtualScrolling?(this.isPreventKeyAction=!0,this.enableVirtualization&&this.itemTemplate?this.list.scrollTop+=p:(this.enableVirtualization&&(w=n==="pageDown"?this.getPageCount()+1:w),this.list.scrollTop+=(this.selectedLI.offsetHeight+a)*w),this.isPreventKeyAction=this.IsScrollerAtEnd()?!1:this.isPreventKeyAction,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1):this.enableVirtualization&&n==="end"?(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1,this.list.scrollTop=this.list.scrollHeight):(n==="pageDown"&&this.enableVirtualization&&!this.isVirtualScrolling&&(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1),this.list.scrollTop=p):this.list.scrollTop=this.virtualListInfo&&this.virtualListInfo.startIndex?e&&this.virtualListInfo.startIndex?this.virtualListInfo.startIndex*this.listItemHeight+this.listItemHeight*2:this.virtualListInfo.startIndex*this.listItemHeight:0,m=this.isKeyBoardAction}this.isKeyBoardAction=m,this.enableVirtualization&&this.fields.groupBy&&this.fixedHeaderElement&&n==="down"&&setTimeout(function(){s.scrollStop(null,!0)},100)}},t.prototype.scrollTop=function(e){if(e===void 0&&(e=null),!v(this.selectedLI)){var i=this.selectedLI&&!isNaN(parseInt(window.getComputedStyle(this.selectedLI).marginBottom,10))?parseInt(window.getComputedStyle(this.selectedLI).marginBottom,10):0,n=this.list.querySelectorAll(".e-virtual-list").length,s=this.virtualListInfo&&this.virtualListInfo.startIndex?this.selectedLI.offsetTop+this.virtualListInfo.startIndex*(this.selectedLI.offsetHeight+i):this.selectedLI.offsetTop,a=s-n*(this.selectedLI.offsetHeight+i)-this.list.scrollTop,o=this.list.querySelector("li.e-list-item:not(.e-virtual-list)")?this.list.querySelector("li.e-list-item:not(.e-virtual-list)").getAttribute("data-value"):null;a=this.fields.groupBy&&!v(this.fixedHeaderElement)?a-this.fixedHeaderElement.offsetHeight:a;var l=s-n*(this.selectedLI.offsetHeight+i)+(this.selectedLI.offsetHeight+i)-this.list.scrollTop,c=this.enableVirtualization&&this.getModuleName()==="autocomplete"&&a<=0;if(this.activeIndex===0&&!this.enableVirtualization)this.list.scrollTop=0;else if(a<0||c){var u=this.selectedLI?this.selectedLI.getAttribute("data-value"):null,d=e==="pageUp"?this.getPageCount()-2:1;this.enableVirtualization&&(d=e==="pageUp"?this.getPageCount():d),this.enableVirtualization&&this.isKeyBoardAction&&o&&u===o&&e!=="home"&&!this.isVirtualScrolling?(this.isUpwardScrolling=!0,this.isPreventKeyAction=!0,this.list.scrollTop-=(this.selectedLI.offsetHeight+i)*d,this.isPreventKeyAction=this.list.scrollTop!==0?this.isPreventKeyAction:!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1):this.enableVirtualization&&e==="home"?(this.isPreventScrollAction=!1,this.isPreventKeyAction=!0,this.isKeyBoardAction=!1,this.list.scrollTo(0,0)):(e==="pageUp"&&this.enableVirtualization&&!this.isVirtualScrolling&&(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1),this.list.scrollTop=this.list.scrollTop+a)}else l>0&&this.list.offsetHeight>l||(this.list.scrollTop=this.selectedLI.offsetTop-(this.fields.groupBy&&!v(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))}},t.prototype.IsScrollerAtEnd=function(){return this.list&&this.list.scrollTop+this.list.clientHeight>=this.list.scrollHeight},t.prototype.isEditTextBox=function(){return!1},t.prototype.isFiltering=function(){return this.allowFiltering},t.prototype.isPopupButton=function(){return!0},t.prototype.setScrollPosition=function(e){if(this.isPreventScrollAction=!0,v(e))this.scrollBottom(!0);else switch(e.action){case"pageDown":case"down":case"end":this.isKeyBoardAction=!0,this.scrollBottom(!1,!1,e.action);break;default:this.isKeyBoardAction=e.action==="up"||e.action==="pageUp"||e.action==="open",this.scrollTop(e.action);break}this.isKeyBoardAction=!1},t.prototype.clearText=function(){this.filterInput.value=this.typedString="",this.searchLists(null),this.enableVirtualization&&(this.list.scrollTop=0,this.totalItemCount=this.dataCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.list.getElementsByClassName("e-virtual-ddl")[0]&&(this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight()),this.getSkeletonCount(),this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl-content")[0]&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues()))},t.prototype.setEleWidth=function(e){v(e)||(typeof e=="number"?this.inputWrapper.container.style.width=bt(e):typeof e=="string"&&(this.inputWrapper.container.style.width=e.match(/px|%|em/)?e:bt(e)))},t.prototype.closePopup=function(e,i){var n=this,s=!v(this.filterInput)&&!v(this.filterInput.value)&&this.filterInput.value!=="";if(this.getModuleName()==="combobox"&&this.typedString,this.isTyped=!1,this.isVirtualTrackHeight=!1,!!(this.popupObj&&document.body.contains(this.popupObj.element)&&this.beforePopupOpen)){this.keyboardEvent=null,se.remove(document,"mousedown",this.onDocumentClick),this.isActive=!1,this.isDropDownClick=!1,this.preventAutoFill=!1;for(var a=this.popupObj.getScrollableParent(this.inputWrapper.container),o=0,l=a;o<l.length;o++){var c=l[o];se.remove(c,"scroll",this.scrollHandler)}Re.isDevice&&this.isFilterLayout()&&this.isDeviceFullScreen&&Oe([document.body,this.popupObj.element],Ui.popupFullScreen),this.isFilterLayout()&&(Re.isDevice||(this.searchKeyModule.destroy(),this.clearIconElement&&se.remove(this.clearIconElement,"click",this.clearText)),this.backIconElement&&(se.remove(this.backIconElement,"click",this.clickOnBackIcon),se.remove(this.clearIconElement,"click",this.clearText)),v(this.filterInput)||(se.remove(this.filterInput,"input",this.onInput),se.remove(this.filterInput,"keyup",this.onFilterUp),se.remove(this.filterInput,"keydown",this.onFilterDown),se.remove(this.filterInput,"blur",this.onBlurHandler),se.remove(this.filterInput,"paste",this.pasteHandler)),this.allowFiltering&&this.getModuleName()==="dropdownlist"&&(this.filterInput.removeAttribute("aria-activedescendant"),this.filterInput.removeAttribute("aria-disabled"),this.filterInput.removeAttribute("role"),this.filterInput.removeAttribute("autocomplete"),this.filterInput.removeAttribute("autocapitalize"),this.filterInput.removeAttribute("spellcheck")),this.filterInput=null),Ht(this.targetElement(),{"aria-expanded":"false"}),this.inputElement.setAttribute("aria-expanded","false"),this.targetElement().removeAttribute("aria-owns"),this.targetElement().removeAttribute("aria-activedescendant"),this.inputWrapper.container.classList.remove(Ui.iconAnimation),this.isFiltering()&&(this.actionCompleteData.isUpdated=!1),this.enableVirtualization&&(this.value==null||this.isTyped?(this.viewPortInfo.endIndex=this.viewPortInfo&&this.viewPortInfo.endIndex>0?this.viewPortInfo.endIndex:this.itemCount,(this.getModuleName()==="autocomplete"||this.getModuleName()==="dropdownlist"&&!v(this.typedString)&&this.typedString!==""||this.getModuleName()==="combobox"&&this.allowFiltering&&!v(this.typedString)&&this.typedString!=="")&&this.checkAndResetCache()):this.getModuleName()==="autocomplete"&&this.checkAndResetCache(),(this.getModuleName()==="dropdownlist"||this.getModuleName()==="combobox")&&this.skeletonCount!==0&&this.getSkeletonCount(!0)),this.beforePopupOpen=!1;var u={name:"FadeOut",duration:100,delay:e||0},d=this.popupObj,p={popup:d,cancel:!1,animation:u,event:i||null};this.trigger("close",p,function(y){if(n.getModuleName()==="dropdownlist"&&Rt.destroy({element:n.filterInput,floatLabelType:n.floatLabelType,properties:{placeholder:n.filterBarPlaceholder},buttons:n.clearIconElement},n.clearIconElement),n.filterInputObj=null,!v(n.popupObj)&&!v(n.popupObj.element.querySelector(".e-fixed-head"))){var M=n.popupObj.element.querySelector(".e-fixed-head");M.parentNode.removeChild(M),n.fixedHeaderElement=null}y.cancel||(n.getModuleName()==="autocomplete"&&n.rippleFun(),n.isPopupOpen?(n.isPopupRender=!1,n.popupObj.hide(new fo(y.animation))):n.destroyPopup())}),Re.isDevice&&!p.cancel&&this.popupObj.element.classList.contains("e-wide-popup")&&this.popupObj.element.classList.remove("e-wide-popup");var m;this.dataSource instanceof ut?m=this.remoteDataCount:m=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.customFilterQuery=null,this.enableVirtualization&&this.isFiltering()&&s&&this.totalItemCount!==m&&(this.updateInitialData(),this.checkAndResetCache())}},t.prototype.updateInitialData=function(){var e=this.selectData;if(!v(e)){var i=this.renderItems(e,this.fields);if(this.list.scrollTop=0,this.virtualListInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount},this.getModuleName()==="combobox"&&(this.typedString=""),this.previousStartIndex=0,this.previousEndIndex=0,this.dataSource instanceof ut?this.remoteDataCount>=0?this.totalItemCount=this.dataCount=this.remoteDataCount:this.resetList(this.dataSource):this.totalItemCount=this.dataCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.list.getElementsByClassName("e-virtual-ddl")[0])this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight();else if(!this.list.querySelector(".e-virtual-ddl")&&this.list.parentElement){var n=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});n.style.cssText=this.GetVirtualTrackHeight(),this.list.parentElement.querySelector(".e-dropdownbase").appendChild(n)}this.getModuleName()!=="autocomplete"&&this.totalItemCount!==0&&this.totalItemCount>this.itemCount*2&&this.getSkeletonCount(),this.UpdateSkeleton(),this.listData=e,this.updateActionCompleteDataValues(i,e),this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl-content")[0]&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues())}},t.prototype.destroyPopup=function(){this.isPopupOpen=!1,this.isFilterFocus=!1,this.inputElement.removeAttribute("aria-controls"),this.popupObj&&(this.resizer&&(se.remove(this.resizer,"mousedown",this.startResizing),se.remove(this.resizer,"touchstart",this.startResizing)),this.popupObj.destroy(),zt(this.popupObj.element))},t.prototype.clickOnBackIcon=function(){this.hidePopup(),this.focusIn()},t.prototype.render=function(){this.preselectedIndex=v(this.index)?null:this.index,this.element.tagName==="INPUT"?(this.inputElement=this.element,v(this.inputElement.getAttribute("role"))&&this.inputElement.setAttribute("role","combobox"),v(this.inputElement.getAttribute("type"))&&this.inputElement.setAttribute("type","text"),this.inputElement.setAttribute("aria-expanded","false")):(this.inputElement=this.createElement("input",{attrs:{role:"combobox",type:"text"}}),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.parentElement.insertBefore(this.inputElement,this.element),this.preventTabIndex(this.inputElement));var e=this.cssClass;!v(this.cssClass)&&this.cssClass!==""&&(e=this.cssClass.replace(/\s+/g," ").trim()),!v(Fe(this.element,"fieldset"))&&Fe(this.element,"fieldset").disabled&&(this.enabled=!1),this.inputWrapper=Rt.createInput({element:this.inputElement,buttons:this.isPopupButton()?[Ui.icon]:null,floatLabelType:this.floatLabelType,properties:{readonly:this.getModuleName()==="dropdownlist"?!0:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton}},this.createElement),this.element.tagName===this.getNgDirective()?this.element.appendChild(this.inputWrapper.container):this.inputElement.parentElement.insertBefore(this.element,this.inputElement),this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",tabindex:"-1",class:Ui.hiddenElement}}),Ln([this.hiddenElement],this.inputWrapper.container),this.hiddenElement.hasAttribute("aria-label")||this.hiddenElement.setAttribute("aria-label",this.getModuleName()),this.validationAttribute(this.element,this.hiddenElement),this.setReadOnly(),this.setFields(),this.inputWrapper.container.style.width=bt(this.width),this.inputWrapper.container.classList.add("e-ddl"),this.floatLabelType!=="Never"&&Rt.calculateWidth(this.inputElement,this.inputWrapper.container),!v(this.inputWrapper.buttons[0])&&this.inputWrapper.container.getElementsByClassName("e-float-text-content")[0]&&this.floatLabelType!=="Never"&&this.inputWrapper.container.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon"),this.wireEvent(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex");var i=this.element.getAttribute("id")?this.element.getAttribute("id"):Ha("ej2_dropdownlist");if(this.element.id=i,this.hiddenElement.id=i+"_hidden",this.targetElement().setAttribute("tabindex",this.tabIndex),(this.getModuleName()==="autocomplete"||this.getModuleName()==="combobox")&&!this.readonly?this.inputElement.hasAttribute("aria-label")||this.inputElement.setAttribute("aria-label",this.getModuleName()):this.getModuleName()==="dropdownlist"&&(this.targetElement().hasAttribute("aria-label")||Ht(this.targetElement(),{"aria-label":this.getModuleName()}),this.inputElement.hasAttribute("aria-label")||this.inputElement.setAttribute("aria-label",this.getModuleName()),this.inputElement.setAttribute("aria-expanded","false")),Ht(this.targetElement(),this.getAriaAttributes()),this.updateDataAttribute(this.htmlAttributes),this.setHTMLAttributes(),this.targetElement()===this.inputElement&&this.inputElement.removeAttribute("aria-labelledby"),this.value!==null||this.activeIndex!==null||this.text!==null)this.enableVirtualization&&(this.listItemHeight=this.getListHeight(),this.getSkeletonCount(),this.updateVirtualizationProperties(this.itemCount,this.allowFiltering),this.index!==null&&(this.activeIndex=this.index+this.skeletonCount)),this.initValue(),this.selectedValueInfo=this.viewPortInfo,this.enableVirtualization&&(this.activeIndex=this.activeIndex+this.skeletonCount);else if(this.element.tagName==="SELECT"&&this.element.options[0]){var n=this.element;this.value=this.allowObjectBinding?this.getDataByValue(n.options[n.selectedIndex].value):n.options[n.selectedIndex].value,this.text=v(this.value)?null:n.options[n.selectedIndex].textContent,this.initValue()}this.setEnabled(),this.preventTabIndex(this.element),this.enabled||(this.targetElement().tabIndex=-1),this.initial=!1,this.element.style.opacity="",this.inputElement.onselect=function(a){a.stopImmediatePropagation()},this.inputElement.onchange=function(a){a.stopImmediatePropagation()},this.element.hasAttribute("autofocus")&&this.focusIn(),v(this.text)||this.inputElement.setAttribute("value",this.text),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false");var s=this.inputWrapper.container.getElementsByClassName("e-float-text")[0];!v(this.element.id)&&this.element.id!==""&&!v(s)&&(s.id="label_"+this.element.id.replace(/ /g,"_"),Ht(this.inputElement,{"aria-labelledby":s.id})),this.renderComplete(),this.listItemHeight=this.getListHeight(),this.getSkeletonCount(),this.enableVirtualization&&this.updateVirtualizationProperties(this.itemCount,this.allowFiltering),this.viewPortInfo.startIndex=this.virtualItemStartIndex=0,this.viewPortInfo.endIndex=this.virtualItemEndIndex=this.viewPortInfo.startIndex>0?this.viewPortInfo.endIndex:this.itemCount},t.prototype.getListHeight=function(){var e=this.createElement("div",{className:"e-dropdownbase"}),i=this.createElement("li",{className:"e-list-item"}),n=bt(this.popupHeight);e.style.height=parseInt(n,10).toString()+"px",e.appendChild(i),document.body.appendChild(e),this.virtualListHeight=e.getBoundingClientRect().height;var s=Math.ceil(i.getBoundingClientRect().height)+parseInt(window.getComputedStyle(i).marginBottom,10);return e.remove(),s},t.prototype.setFooterTemplate=function(e){var i;this.footer?this.isReact&&typeof this.footerTemplate=="function"?this.clearTemplate(["footerTemplate"]):this.footer.innerHTML="":(this.footer=this.createElement("div"),pe([this.footer],Ui.footer));var n=this.dropdownCompiler(this.footerTemplate);typeof this.footerTemplate!="function"&&n?i=jn(Et(this.footerTemplate,document).innerHTML.trim()):i=jn(this.footerTemplate);var s=i({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);s&&s.length>0&&ri(s,this.footer),ri([this.footer],e)},t.prototype.setHeaderTemplate=function(e){var i;this.header?this.header.innerHTML="":(this.header=this.createElement("div"),pe([this.header],Ui.header));var n=this.dropdownCompiler(this.headerTemplate);typeof this.headerTemplate!="function"&&n?i=jn(Et(this.headerTemplate,document).innerHTML.trim()):i=jn(this.headerTemplate);var s=i({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);s&&s.length&&ri(s,this.header);var a=e.querySelector("div.e-content");e.insertBefore(this.header,a)},t.prototype.setEnabled=function(){this.element.setAttribute("aria-disabled",this.enabled?"false":"true")},t.prototype.setOldText=function(e){this.text=e},t.prototype.setOldValue=function(e){this.value=e},t.prototype.refreshPopup=function(){!v(this.popupObj)&&document.body.contains(this.popupObj.element)&&(this.allowFiltering&&!(Re.isDevice&&this.isFilterLayout())||this.getModuleName()==="autocomplete")&&(Oe([this.popupObj.element],"e-popup-close"),this.popupObj.refreshPosition(this.inputWrapper.container),this.popupObj.resolveCollision())},t.prototype.checkData=function(e){e.dataSource&&!v(Object.keys(e.dataSource))&&this.itemTemplate&&this.allowFiltering&&!(this.isListSearched&&e.dataSource instanceof ut)&&(this.list&&!this.isReact?this.list.innerHTML="":this.list=null,this.actionCompleteData={ulElement:null,list:null,isUpdated:!1}),this.isListSearched=!1;var i=Object.keys(e).indexOf("value")!==-1&&v(e.value),n=Object.keys(e).indexOf("text")!==-1&&v(e.text);this.getModuleName()!=="autocomplete"&&this.allowFiltering&&(i||n)&&(this.itemData=null),this.allowFiltering&&e.dataSource&&!v(Object.keys(e.dataSource))?(this.actionCompleteData={ulElement:null,list:null,isUpdated:!1},this.actionData=this.actionCompleteData):this.allowFiltering&&e.query&&!v(Object.keys(e.query))&&(this.actionCompleteData=this.getModuleName()==="combobox"?{ulElement:null,list:null,isUpdated:!1}:this.actionCompleteData,this.actionData=this.actionCompleteData)},t.prototype.updateDataSource=function(e,i){(this.inputElement.value!==""||!v(e)&&(v(e.dataSource)||!(e.dataSource instanceof ut)&&e.dataSource.length===0))&&this.clearAll(null,e),this.fields.groupBy&&e.fields&&!this.isGroupChecking&&this.list&&(se.remove(this.list,"scroll",this.setFloatingHeader),se.add(this.list,"scroll",this.setFloatingHeader,this)),(!(!v(e)&&(v(e.dataSource)||!(e.dataSource instanceof ut)&&e.dataSource.length===0))||e.dataSource instanceof ut||!v(e)&&Array.isArray(e.dataSource)&&!v(i)&&Array.isArray(i.dataSource)&&e.dataSource.length!==i.dataSource.length)&&(this.typedString="",this.resetList(this.dataSource)),!this.isCustomFilter&&!this.isFilterFocus&&document.activeElement!==this.filterInput&&this.checkCustomValue()},t.prototype.checkCustomValue=function(){var e=this.allowObjectBinding&&!v(this.value)?Pe(this.fields.value?this.fields.value:"",this.value):this.value;this.itemData=this.getDataByValue(e);var i=this.getItemData(),n=this.allowObjectBinding?this.itemData:i.value,s=v(n)?null:this.index;v(s)&&e===n||this.isAngular?this.setProperties({text:i.text?i.text.toString():i.text,value:n}):this.setProperties({text:i.text?i.text.toString():i.text,index:s,value:n})},t.prototype.updateInputFields=function(){this.getModuleName()==="dropdownlist"&&Rt.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.onPropertyChanged=function(e,i){var n=this;!v(e.dataSource)&&!this.isTouched&&v(e.value)&&v(e.index)&&!v(this.preselectedIndex)&&!v(this.index)&&(e.index=this.index),(!v(e.value)||!v(e.index))&&(this.isTouched=!0),this.getModuleName()==="dropdownlist"&&(this.checkData(e),this.setUpdateInitial(["fields","query","dataSource"],e));for(var s=function(d){switch(d){case"query":case"dataSource":a.getSkeletonCount(),a.checkAndResetCache();break;case"htmlAttributes":a.setHTMLAttributes();break;case"width":a.setEleWidth(e.width),Rt.calculateWidth(a.inputElement,a.inputWrapper.container);break;case"placeholder":Rt.setPlaceholder(e.placeholder,a.inputElement);break;case"filterBarPlaceholder":a.filterInput&&Rt.setPlaceholder(e.filterBarPlaceholder,a.filterInput);break;case"readonly":a.getModuleName()!=="dropdownlist"&&Rt.setReadonly(e.readonly,a.inputElement),a.setReadOnly();break;case"cssClass":a.setCssClass(e.cssClass,i.cssClass),Rt.calculateWidth(a.inputElement,a.inputWrapper.container);break;case"enableRtl":a.setEnableRtl();break;case"enabled":a.setEnable();break;case"text":if(a.fields.disabled&&(e.text=e.text&&!a.isDisabledItemByIndex(a.getIndexByValue(a.getValueByText(e.text)))?e.text:null),e.text===null){a.clearAll();break}if(a.enableVirtualization){a.updateValues(),a.updateInputFields(),a.notify("setCurrentViewDataAsync",{module:"VirtualScroll"});break}if(a.list||(a.dataSource instanceof ut&&(a.initialRemoteRender=!0),a.renderList()),!a.initialRemoteRender){var p=a.getElementByText(e.text);if(!a.checkValidLi(p))if(a.liCollections&&a.liCollections.length===100&&a.getModuleName()==="autocomplete"&&a.listData.length>100)a.setSelectionData(e.text,i.text,"text");else if(e.text&&a.dataSource instanceof ut){var m=a.getItems().length,y=v(a.fields.text)?a.fields.value:a.fields.text;a.typedString="",a.dataSource.executeQuery(a.getQuery(a.query).where(new Er(y,"equal",e.text))).then(function(B){B.result.length>0?(n.addItem(B.result,m),n.updateValues()):n.setOldText(i.text)})}else a.getModuleName()==="autocomplete"?a.setInputValue(e,i):a.setOldText(i.text);a.updateInputFields()}break;case"value":if(a.fields.disabled&&(e.value=e.value!=null&&!a.isDisableItemValue(e.value)?e.value:null),e.value===null){a.clearAll();break}if(a.allowObjectBinding&&!v(e.value)&&!v(i.value)&&a.isObjectInArray(e.value,[i.value]))return{value:void 0};if(a.enableVirtualization){a.updateValues(),a.updateInputFields(),a.notify("setCurrentViewDataAsync",{module:"VirtualScroll"}),a.preventChange=a.isAngular&&a.preventChange?!a.preventChange:a.preventChange;break}if(a.notify("beforeValueChange",{newProp:e}),a.list||(a.dataSource instanceof ut&&(a.initialRemoteRender=!0),a.renderList()),!a.initialRemoteRender){var M=a.allowObjectBinding&&!v(e.value)?Pe(a.fields.value?a.fields.value:"",e.value):e.value,w=a.getElementByValue(M);if(!a.checkValidLi(w))if(a.liCollections&&a.liCollections.length===100&&a.getModuleName()==="autocomplete"&&a.listData.length>100)a.setSelectionData(e.value,i.value,"value");else if(e.value&&a.dataSource instanceof ut){var b=a.getItems().length,y=v(a.fields.value)?a.fields.text:a.fields.value;a.typedString="";var D=a.allowObjectBinding&&!v(e.value)?Pe(y,e.value):e.value;a.dataSource.executeQuery(a.getQuery(a.query).where(new Er(y,"equal",D))).then(function(P){P.result.length>0?(n.addItem(P.result,b),n.updateValues()):n.setOldValue(i.value)})}else a.getModuleName()==="autocomplete"?a.setInputValue(e,i):a.setOldValue(i.value);a.updateInputFields(),a.preventChange=a.isAngular&&a.preventChange?!a.preventChange:a.preventChange}break;case"index":if(a.fields.disabled&&(e.index=e.index!=null&&!a.isDisabledItemByIndex(e.index)?e.index:null),e.index===null){a.clearAll();break}if(a.list||(a.dataSource instanceof ut&&(a.initialRemoteRender=!0),a.renderList()),!a.initialRemoteRender&&a.liCollections){var E=a.liCollections[e.index];a.checkValidLi(E)||(a.liCollections&&a.liCollections.length===100&&a.getModuleName()==="autocomplete"&&a.listData.length>100?a.setSelectionData(e.index,i.index,"index"):a.index=i.index),a.updateInputFields()}break;case"footerTemplate":a.popupObj&&a.setFooterTemplate(a.popupObj.element);break;case"headerTemplate":a.popupObj&&a.setHeaderTemplate(a.popupObj.element);break;case"valueTemplate":!v(a.itemData)&&a.valueTemplate!==null&&a.setValueTemplate();break;case"allowFiltering":a.allowFiltering&&(a.actionCompleteData={ulElement:a.ulElement,list:a.listData,isUpdated:!0},a.actionData=a.actionCompleteData,a.updateSelectElementData(a.allowFiltering));break;case"floatLabelType":Rt.removeFloating(a.inputWrapper),Rt.addFloating(a.inputElement,e.floatLabelType,a.placeholder,a.createElement),!v(a.inputWrapper.buttons[0])&&a.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0]&&a.floatLabelType!=="Never"&&a.inputWrapper.container.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon");break;case"showClearButton":a.inputWrapper.clearButton||(Rt.setClearButton(e.showClearButton,a.inputElement,a.inputWrapper,null,a.createElement),a.bindClearEvent());break;default:{var N=a.getPropObject(d,e,i);r.prototype.onPropertyChanged.call(a,N.newProperty,N.oldProperty)}break}},a=this,o=0,l=Object.keys(e);o<l.length;o++){var c=l[o],u=s(c);if(typeof u=="object")return u.value}},t.prototype.checkValidLi=function(e){return this.isValidLI(e)?(this.setSelection(e,null),!0):!1},t.prototype.setSelectionData=function(e,i,n){var s=this,a;this.updateListValues=function(){if(n==="text")a=s.getElementByText(e),s.checkValidLi(a)||s.setOldText(i);else if(n==="value"){var o=s.fields.value?s.fields.value:"";s.allowObjectBinding&&!v(e)&&Pe(o,e),a=s.getElementByValue(e),s.checkValidLi(a)||s.setOldValue(i)}else n==="index"&&(a=s.liCollections[e],s.checkValidLi(a)||(s.index=i))}},t.prototype.updatePopupState=function(){this.beforePopupOpen&&(this.beforePopupOpen=!1,this.showPopup())},t.prototype.setReadOnly=function(){this.readonly?pe([this.inputWrapper.container],["e-readonly"]):Oe([this.inputWrapper.container],["e-readonly"])},t.prototype.setInputValue=function(e,i){},t.prototype.setCssClass=function(e,i){v(i)||(i=i.replace(/\s+/g," ").trim()),v(e)||(e=e.replace(/\s+/g," ").trim()),Rt.setCssClass(e,[this.inputWrapper.container],i),this.popupObj&&Rt.setCssClass(e,[this.popupObj.element],i)},t.prototype.getModuleName=function(){return"dropdownlist"},t.prototype.showPopup=function(e){if(this.enabled){if(this.getModuleName()==="dropdownlist"&&this.beforePopupOpen&&!this.isPopupOpen&&(this.beforePopupOpen=!1),this.firstItem=this.dataSource&&this.dataSource.length>0?this.dataSource[0]:null,this.isReact&&this.getModuleName()==="combobox"&&this.itemTemplate&&this.isCustomFilter&&this.isAddNewItemTemplate&&(this.renderList(),this.isAddNewItemTemplate=!1),this.isFiltering()&&this.dataSource instanceof ut&&this.actionData.list!==this.actionCompleteData.list&&this.actionData.list&&this.actionData.ulElement&&(this.actionCompleteData=this.actionData,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)),this.beforePopupOpen){this.refreshPopup();return}this.beforePopupOpen=!0,this.isFiltering()&&!this.isActive&&this.actionCompleteData.list&&this.actionCompleteData.list[0]?(this.isActive=!0,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)):(v(this.list)||!Wi(this.list)&&(this.list.classList.contains($e.noData)||this.list.querySelectorAll("."+$e.li).length<=0))&&(this.isReact&&this.isFiltering()&&this.itemTemplate!=null&&(this.isSecondClick=!1),this.renderList(e)),this.enableVirtualization&&this.listData&&this.listData.length&&(!v(this.value)&&(this.getModuleName()==="dropdownlist"||this.getModuleName()==="combobox")&&this.removeHover(),this.beforePopupOpen||this.notify("setCurrentViewDataAsync",{module:"VirtualScroll"})),this.beforePopupOpen&&this.invokeRenderPopup(e),this.enableVirtualization&&!this.allowFiltering&&this.selectedValueInfo!=null&&this.selectedValueInfo.startIndex>0&&this.value!=null&&this.notify("dataProcessAsync",{module:"VirtualScroll",isOpen:!0}),!this.isSecondClick&&!this.isDropDownClick&&this.executeCloneElements()}},t.prototype.executeCloneElements=function(){var e=this,i=this.element.tagName===this.getNgDirective()&&this.itemTemplate?500:100;this.isReact&&this.isFiltering()&&this.itemTemplate!=null&&setTimeout(function(){e.cloneElements(),e.isSecondClick=!(e.isReact&&e.isFiltering()&&e.dataSource instanceof ut&&!e.list.querySelector("ul"))},i)},t.prototype.invokeRenderPopup=function(e){if(Re.isDevice&&this.isFilterLayout()){var i=this;window.onpopstate=function(){i.hidePopup()},history.pushState({},"")}!v(this.list)&&(!v(this.list.children[0])||this.list.classList.contains($e.noData))&&this.renderPopup(e)},t.prototype.renderHightSearch=function(){},t.prototype.hidePopup=function(e){if(this.isEscapeKey&&this.getModuleName()==="dropdownlist")if(v(this.inputElement)||Rt.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1,v(this.index))this.resetSelection();else{var i=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value):this.value,n=this.findListElement(this.ulElement,"li","data-value",i);this.selectedLI=this.liCollections[this.index]||n,this.selectedLI&&(this.updateSelectedItem(this.selectedLI,null,!0),this.valueTemplate&&this.itemData!==null&&this.setValueTemplate())}this.isVirtualTrackHeight=!1,this.customFilterQuery=null,this.closePopup(0,e);var s=this.getItemData(),a=!v(this.selectedLI);a&&this.enableVirtualization&&this.selectedLI.classList&&(a=this.selectedLI.classList.contains("e-active")),this.inputElement&&this.inputElement.value===""&&!this.isInteracted&&(this.isSelectCustom||a&&this.inputElement.value!==s.text)&&(this.isSelectCustom=!1,this.clearAll(e))},t.prototype.focusIn=function(e){if(this.enabled&&!this.targetElement().classList.contains(Ui.disable)){var i=!1;this.preventFocus&&Re.isDevice&&(this.inputWrapper.container.tabIndex=1,this.inputWrapper.container.focus(),this.preventFocus=!1,i=!0),i||this.targetElement().focus(),pe([this.inputWrapper.container],[Ui.inputFocus]),this.onFocus(e),this.floatLabelType!=="Never"&&Rt.calculateWidth(this.inputElement,this.inputWrapper.container)}},t.prototype.focusOut=function(e){this.enabled&&(!this.enableVirtualization&&(this.getModuleName()==="combobox"||this.getModuleName()==="autocomplete")&&(this.isTyped=!0),this.hidePopup(e),this.targetElement()&&this.targetElement().blur(),Oe([this.inputWrapper.container],[Ui.inputFocus]),this.floatLabelType!=="Never"&&Rt.calculateWidth(this.inputElement,this.inputWrapper.container))},t.prototype.disableItem=function(e){if(this.fields.disabled){this.list||this.renderList();var i=-1;if(this.liCollections&&this.liCollections.length>0&&this.listData&&this.fields.disabled){if(typeof e=="string")i=this.getIndexByValue(e);else if(typeof e=="object"){if(e instanceof HTMLLIElement){for(var n=0;n<this.liCollections.length;n++)if(this.liCollections[n]===e){i=this.getIndexByValue(e.getAttribute("data-value"));break}}else for(var s=JSON.parse(JSON.stringify(e))[this.fields.value],n=0;n<this.listData.length;n++)if(JSON.parse(JSON.stringify(this.listData[n]))[this.fields.value]===s){i=this.getIndexByValue(s);break}}else i=e;var a=i<this.liCollections.length&&i>-1;if(a&&!JSON.parse(JSON.stringify(this.listData[i]))[this.fields.disabled]){var o=this.liCollections[i];if(o){this.disableListItem(o);var l=JSON.parse(JSON.stringify(this.listData[i]));l[this.fields.disabled]=!0,this.listData[i]=l,this.dataSource=this.listData,o.classList.contains(Ui.focus)&&this.removeFocus(),o.classList.contains(Ui.selected)&&this.clear()}}}}},t.prototype.destroy=function(){if(this.isActive=!1,this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),sbe(this.element.id),this.isReact&&this.clearTemplate(),this.hidePopup(),this.popupObj&&(this.isPopupRender=!1,this.popupObj.hide()),this.unWireEvent(),this.list&&this.unWireListEvents(),!(this.element&&!this.element.classList.contains("e-"+this.getModuleName()))){if(this.inputElement){for(var e=["readonly","aria-disabled","placeholder","aria-labelledby","aria-expanded","autocomplete","aria-readonly","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-describedby","aria-label"],i=0;i<e.length;i++)this.inputElement.removeAttribute(e[i]);this.inputElement.setAttribute("tabindex",this.tabIndex),this.inputElement.classList.remove("e-input"),Rt.setValue("",this.inputElement,this.floatLabelType,this.showClearButton)}this.element.removeAttribute("tabindex"),this.element.style.display="block",this.inputWrapper.container&&this.inputWrapper.container.parentElement&&(this.inputWrapper.container.parentElement.tagName===this.getNgDirective()?zt(this.inputWrapper.container):(this.inputWrapper.container.parentElement.insertBefore(this.element,this.inputWrapper.container),zt(this.inputWrapper.container))),delete this.hiddenElement,this.filterInput=null,this.keyboardModule=null,this.ulElement=null,this.list=null,this.clearIconElement=null,this.popupObj=null,this.popupContentElement=null,this.rippleFun=null,this.selectedLI=null,this.liCollections=null,this.item=null,this.footer=null,this.header=null,this.previousSelectedLI=null,this.valueTempElement=null,this.actionData.ulElement=null,this.inputElement&&!v(this.inputElement.onchange)&&(this.inputElement.onchange=null),this.inputElement&&!v(this.inputElement.onselect)&&(this.inputElement.onselect=null),Rt.destroy({element:this.inputElement,floatLabelType:this.floatLabelType,properties:this.properties,buttons:this.inputWrapper.container.querySelectorAll(".e-input-group-icon")[0]},this.clearButton),this.clearButton=null,this.inputElement=null,this.inputWrapper=null,r.prototype.destroy.call(this)}},t.prototype.getItems=function(){return this.list||(this.dataSource instanceof ut&&(this.initialRemoteRender=!0),this.renderList()),this.ulElement?r.prototype.getItems.call(this):[]},t.prototype.getDataByValue=function(e){return r.prototype.getDataByValue.call(this,e)},t.prototype.clear=function(){this.value=null},Kr([ee(null)],t.prototype,"cssClass",void 0),Kr([ee("100%")],t.prototype,"width",void 0),Kr([ee(!0)],t.prototype,"enabled",void 0),Kr([ee(!1)],t.prototype,"enablePersistence",void 0),Kr([ee("300px")],t.prototype,"popupHeight",void 0),Kr([ee("100%")],t.prototype,"popupWidth",void 0),Kr([ee(null)],t.prototype,"placeholder",void 0),Kr([ee(null)],t.prototype,"filterBarPlaceholder",void 0),Kr([ee({})],t.prototype,"htmlAttributes",void 0),Kr([ee(null)],t.prototype,"query",void 0),Kr([ee(null)],t.prototype,"valueTemplate",void 0),Kr([ee(null)],t.prototype,"headerTemplate",void 0),Kr([ee(null)],t.prototype,"footerTemplate",void 0),Kr([ee(!1)],t.prototype,"allowFiltering",void 0),Kr([ee(300)],t.prototype,"debounceDelay",void 0),Kr([ee(!0)],t.prototype,"isDeviceFullScreen",void 0),Kr([ee(!1)],t.prototype,"readonly",void 0),Kr([ee(!1)],t.prototype,"enableVirtualization",void 0),Kr([ee(!1)],t.prototype,"allowResize",void 0),Kr([ee(null)],t.prototype,"text",void 0),Kr([ee(null)],t.prototype,"value",void 0),Kr([ee(!1)],t.prototype,"allowObjectBinding",void 0),Kr([ee(null)],t.prototype,"index",void 0),Kr([ee("Never")],t.prototype,"floatLabelType",void 0),Kr([ee(!1)],t.prototype,"showClearButton",void 0),Kr([Xe()],t.prototype,"filtering",void 0),Kr([Xe()],t.prototype,"change",void 0),Kr([Xe()],t.prototype,"beforeOpen",void 0),Kr([Xe()],t.prototype,"open",void 0),Kr([Xe()],t.prototype,"close",void 0),Kr([Xe()],t.prototype,"blur",void 0),Kr([Xe()],t.prototype,"focus",void 0),Kr([Xe()],t.prototype,"resizeStop",void 0),Kr([Xe()],t.prototype,"resizing",void 0),Kr([Xe()],t.prototype,"resizeStart",void 0),t=Kr([$n],t),t})(YK),ak="e-float-line",vT="e-float-text",H1="e-label-top",dv="e-label-bottom";function $V(r,t,e,i,n,s,a){var o=Be("span",{className:ak}),l=Be("label",{className:vT}),c=e.getAttribute("id")?e.getAttribute("id"):Ha("ej2_multiselect");e.id=c,!v(e.id)&&e.id!==""&&(l.id="label_"+e.id.replace(/ /g,"_"),l.setAttribute("for",e.id),Ht(i,{"aria-labelledby":l.id})),!v(i.placeholder)&&i.placeholder!==""&&(l.innerText=ok(i.placeholder),i.removeAttribute("placeholder")),l.innerText=ok(a),t.appendChild(o),t.appendChild(l),r.classList.add("e-float-input"),xbe(n,l),s==="Always"&&(l.classList.contains(dv)&&Oe([l],dv),pe([l],H1))}function xbe(r,t){r&&r.length>0?(pe([t],H1),Oe([t],dv)):(Oe([t],H1),pe([t],dv))}function Mbe(r,t,e,i,n,s,a){var o=t.querySelector("."+vT),l=t.querySelector("."+ak),c;v(o)?(c=a!==null?a:"",XV(n,i,c)):(c=o.innerText,zt(e.querySelector("."+vT)),XV(n,i,c),v(l)||zt(e.querySelector("."+ak))),r.classList.remove("e-float-input")}function XV(r,t,e){r&&r.length?t.placeholder="":t.placeholder=e}function wbe(r,t){r.classList.add("e-input-focus");var e=t.querySelector("."+vT);v(e)||(pe([e],H1),e.classList.contains(dv)&&Oe([e],dv))}function Tbe(r,t,e,i,n){r.classList.remove("e-input-focus");var s=t.querySelector("."+vT);e&&e.length<=0&&i==="Auto"&&!v(s)&&(s.classList.contains(H1)&&Oe([s],H1),pe([s],dv))}function ok(r){var t="";if(!v(r)&&r!==""){var e=document.createElement("span");e.innerHTML='<input  placeholder="'+r+'"/>';var i=e.children[0];t=i.placeholder}return t}var bbe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),wi=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},w0="e-input-focus",IM="e-disabled",Dbe="e-multiselect e-input-group e-control-wrapper",Ebe="e-multi-select-wrapper",Abe="e-mob-wrapper",un="e-hide-listitem",Sbe="e-delim-view",Nbe="e-chips-collection",T0="e-chips",Ibe="e-chipcontent",cE="e-chips-close",ap="e-chip-selected",Cbe="e-searcher",JV="e-delimiter",uE="e-zero-size",Obe="e-remain",ZV="e-chips-close e-close-hooker",e8="e-delim-values",kbe="e-ddl e-popup e-multi-select-list-wrapper",Lbe="e-dropdownbase",t8="e-rtl",k4="e-close-icon-hide",jbe="e-mob-chip",_be="e-ddl-footer",zbe="e-ddl-header",i8="e-ddl-disable-icon",r8="e-ms-spinner-icon",Rbe="e-multi-hidden",Pbe="destroy",n8="e-input-group-icon e-ddl-icon",s8="e-icon-anim",hE="e-delim-total",Fbe="e-multiselect-box",Bbe="e-filter-parent",a8="e-search-custom-width",L4="e-input-filter",Ube="e-resizer-right e-icons",Vbe=(function(r){bbe(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.clearIconWidth=0,n.previousFilterText="",n.storedSelectAllHeight=0,n.isUpdateHeaderHeight=!1,n.isUpdateFooterHeight=!1,n.isBlurDispatching=!1,n.isFilterPrevented=!1,n.isFilteringAction=!1,n.isValidKey=!1,n.selectAllEventData=[],n.selectAllEventEle=[],n.preventSetCurrentData=!1,n.isSelectAllLoop=!1,n.scrollFocusStatus=!1,n.keyDownStatus=!1,n}return t.prototype.enableRTL=function(e){e?this.overAllWrapper.classList.add(t8):this.overAllWrapper.classList.remove(t8),this.popupObj&&(this.popupObj.enableRtl=e,this.popupObj.dataBind())},t.prototype.requiredModules=function(){var e=[];if(this.enableVirtualization&&e.push({args:[this],member:"VirtualScroll"}),this.mode==="CheckBox"){if(this.isGroupChecking=this.enableGroupCheckBox,this.enableGroupCheckBox){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.enableSelectionOrder=!1,this.isProtectedOnChange=i}this.allowCustomValue=!1,this.hideSelectedItem=!1,this.closePopupOnSelect=!1,e.push({member:"CheckBoxSelection",args:[this]})}return e},t.prototype.updateHTMLAttribute=function(){if(Object.keys(this.htmlAttributes).length)for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var n=i[e];switch(n){case"class":{var s=this.htmlAttributes[""+n].replace(/\s+/g," ").trim();s!==""&&(pe([this.overAllWrapper],s.split(" ")),pe([this.popupWrapper],s.split(" ")));break}case"disabled":this.enable(!1);break;case"placeholder":this.placeholder||(this.inputElement.setAttribute(n,this.htmlAttributes[""+n]),this.setProperties({placeholder:this.inputElement.placeholder},!0),this.refreshPlaceHolder());break;default:{var a=["id"],o=["name","required","aria-required","form"],l=["title","role","style","class"];a.indexOf(n)>-1?this.element.setAttribute(n,this.htmlAttributes[""+n]):n.indexOf("data")===0||o.indexOf(n)>-1?this.hiddenElement.setAttribute(n,this.htmlAttributes[""+n]):l.indexOf(n)>-1?this.overAllWrapper.setAttribute(n,this.htmlAttributes[""+n]):n!=="size"&&!v(this.inputElement)&&this.inputElement.setAttribute(n,this.htmlAttributes[""+n]);break}}}},t.prototype.updateReadonly=function(e){v(this.inputElement)||(e||this.mode==="CheckBox"?this.inputElement.setAttribute("readonly","true"):this.inputElement.removeAttribute("readonly"))},t.prototype.updateClearButton=function(e){e?(this.overAllClear.parentNode?this.overAllClear.style.display="":this.componentWrapper.appendChild(this.overAllClear),this.componentWrapper.classList.remove(k4)):(this.overAllClear.style.display="none",this.componentWrapper.classList.add(k4))},t.prototype.updateCssClass=function(){if(!v(this.cssClass)&&this.cssClass!==""){var e=this.cssClass;e=this.cssClass.replace(/\s+/g," ").trim(),e!==""&&(pe([this.overAllWrapper],e.split(" ")),pe([this.popupWrapper],e.split(" ")))}},t.prototype.updateOldPropCssClass=function(e){!v(e)&&e!==""&&(e=e.replace(/\s+/g," ").trim(),e!==""&&(Oe([this.overAllWrapper],e.split(" ")),Oe([this.popupWrapper],e.split(" "))))},t.prototype.onPopupShown=function(e){var i=this;if(Re.isDevice&&this.mode==="CheckBox"&&this.allowFiltering){var n=this;window.onpopstate=function(){n.hidePopup(),n.inputElement.focus()},history.pushState({},"")}var s={name:"FadeIn",duration:100},a={popup:this.popupObj,event:e,cancel:!1,animation:s};this.trigger("open",a,function(o){o.cancel||(i.focusAtFirstListItem(!0),i.popupObj&&document.body.appendChild(i.popupObj.element),i.mode==="CheckBox"&&i.enableGroupCheckBox&&!v(i.fields.groupBy)&&i.updateListItems(i.list.querySelectorAll("li.e-list-item"),i.mainList.querySelectorAll("li.e-list-item")),(i.mode==="CheckBox"||i.showDropDownIcon)&&pe([i.overAllWrapper],[s8]),i.refreshPopup(),i.renderReactTemplates(),i.popupObj&&i.popupObj.show(o.animation,i.zIndex===1e3?i.element:null),i.isReact&&setTimeout(function(){if(i.popupHeight&&i.list&&i.popupHeight!=="auto"){var l=typeof i.popupHeight=="string"?parseInt(i.popupHeight,10):i.popupHeight;if(!i.isUpdateHeaderHeight&&i.headerTemplate&&i.header){var c=i.list.style.maxHeight===""?l:parseInt(i.list.style.maxHeight,10);i.list.style.maxHeight=(c-i.header.offsetHeight).toString()+"px",i.isUpdateHeaderHeight=!0}if(!i.isUpdateFooterHeight&&i.footerTemplate&&i.footer){var c=i.list.style.maxHeight===""?l:parseInt(i.list.style.maxHeight,10);i.list.style.maxHeight=(c-i.footer.offsetHeight).toString()+"px",i.isUpdateFooterHeight=!0}}},15),Ht(i.inputElement,{"aria-expanded":"true","aria-owns":i.element.id+"_popup","aria-controls":i.element.id}),i.updateAriaActiveDescendant(),i.isFirstClick&&(i.enableVirtualization||i.loadTemplate()),i.mode==="CheckBox"&&i.showSelectAll&&se.add(i.popupObj.element,"click",i.clickHandler,i))})},t.prototype.updateVirtualReOrderList=function(e){var i=this.getForQuery(this.value,!0).clone();if(this.isVirtualReorder=!0,this.enableVirtualization&&this.dataSource instanceof ut?this.resetList(this.selectedListData,this.fields,i):this.resetList(this.dataSource,this.fields,i),this.UpdateSkeleton(),this.isVirtualReorder=!1,this.liCollections=this.list.querySelectorAll("."+$e.li),this.virtualItemCount=this.itemCount,this.mode!=="CheckBox"&&(this.totalItemCount=this.value&&this.value.length?this.totalItemCount-this.value.length:this.totalItemCount),this.list.querySelector(".e-virtual-ddl"))this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight();else{var n=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});n.style.cssText=this.GetVirtualTrackHeight(),this.popupWrapper.querySelector(".e-dropdownbase").appendChild(n)}this.list.querySelector(".e-virtual-ddl-content")&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues()),e&&this.loadTemplate()},t.prototype.updateListItems=function(e,i){for(var n=0;n<e.length;n++)this.findGroupStart(e[n]),this.findGroupStart(i[n]);this.deselectHeader()},t.prototype.loadTemplate=function(){if(this.refreshListItems(null),this.enableVirtualization&&this.list&&this.mode==="CheckBox"){var e=this.list.querySelectorAll(".e-reorder")[0];this.list.querySelector(".e-virtual-ddl-content")&&e&&this.list.querySelector(".e-virtual-ddl-content").removeChild(e)}this.mode==="CheckBox"&&this.removeFocus(),this.notify("reOrder",{module:"CheckBoxSelection",enable:this.mode==="CheckBox",e:this}),this.isPreventScrollAction=!0},t.prototype.setScrollPosition=function(){if((!this.hideSelectedItem&&this.mode!=="CheckBox"||this.mode==="CheckBox"&&!this.enableSelectionOrder)&&!v(this.value)&&this.value.length>0){var e=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value[this.value.length-1]):this.value[this.value.length-1],i=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",e);v(i)||this.scrollBottom(i,void 0,!1,null,!0)}if(this.enableVirtualization){var n=this.list.querySelector("."+$e.focus);this.isKeyBoardAction=!1,this.scrollBottom(n,void 0,!1,null,!0)}},t.prototype.focusAtFirstListItem=function(e){if(this.ulElement&&this.ulElement.querySelector("li."+$e.li)){var i=void 0;if(this.mode==="CheckBox"){this.removeFocus();return}else if(this.enableVirtualization){if(this.fields.disabled){if(i=this.ulElement.querySelector("li."+$e.li+":not(.e-virtual-list):not(.e-hide-listitem):not(."+IM+")"),e&&this.viewPortInfo&&this.viewPortInfo.startIndex!==0){var n=this.ulElement.querySelectorAll("li."+$e.li+":not(.e-virtual-list):not(.e-hide-listitem)");i=n&&n.length>0?n[2]:i}}else if(i=this.ulElement.querySelector("li."+$e.li+":not(.e-virtual-list):not(.e-hide-listitem)"),e&&this.viewPortInfo&&this.viewPortInfo.startIndex!==0){var n=this.ulElement.querySelectorAll("li."+$e.li+":not(.e-virtual-list):not(.e-hide-listitem)");i=n&&n.length>0?n[2]:i}}else this.fields.disabled?i=this.ulElement.querySelector("li."+$e.li+":not(."+un+"):not(."+IM+")"):i=this.ulElement.querySelector("li."+$e.li+":not(."+un+")");i!==null&&(this.removeFocus(),this.addListFocus(i))}},t.prototype.focusAtLastListItem=function(e){var i;if(e)i=Ny(e,this.liCollections,"StartsWith",this.ignoreCase);else if(this.value&&this.value.length){var n=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value[this.value.length-1]):this.value[this.value.length-1];Ny(n,this.liCollections,"StartsWith",this.ignoreCase)}else i=null;i&&i.item!==null&&(this.addListFocus(i.item),((this.allowCustomValue||this.allowFiltering)&&this.isPopupOpen()&&this.closePopupOnSelect&&!this.enableVirtualization||this.closePopupOnSelect&&!this.enableVirtualization)&&this.scrollBottom(i.item,i.index))},t.prototype.getAriaAttributes=function(){var e={"aria-disabled":"false",role:"combobox","aria-expanded":"false"};return e},t.prototype.updateListARIA=function(){v(this.ulElement)||Ht(this.ulElement,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false","aria-label":"list"});var e=!!(!v(this.inputElement)&&this.inputElement.disabled);!this.isPopupOpen()&&!v(this.inputElement)&&Ht(this.inputElement,this.getAriaAttributes()),e&&Ht(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled(e?"true":"false")},t.prototype.ensureAriaDisabled=function(e){if(this.htmlAttributes&&this.htmlAttributes["aria-disabled"]){var i=this.htmlAttributes;qe(i,{"aria-disabled":e},i),this.setProperties({htmlAttributes:i},!0)}},t.prototype.removelastSelection=function(e){var i=this.chipCollectionWrapper.querySelector("span."+ap);if(i!==null){this.removeSelectedChip(e);return}var n=this.chipCollectionWrapper.querySelectorAll("span."+T0),s=n[n.length-1].getAttribute("data-value");v(this.value)||(this.tempValues=this.allowObjectBinding?this.value.slice():this.value.slice());var a=this.allowObjectBinding?this.enableVirtualization?this.getVirtualDataByValue(this.getFormattedValue(s)):this.getDataByValue(this.getFormattedValue(s)):this.getFormattedValue(s);this.allowCustomValue&&(s!=="false"&&a===!1||!v(a)&&a.toString()==="NaN")&&(a=s),this.removeValue(a,e),this.removeChipSelection(),this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty(),this.mainList&&this.listData&&this.refreshSelection(),this.checkPlaceholderSize()},t.prototype.onActionFailure=function(e){r.prototype.onActionFailure.call(this,e),this.renderPopup(),this.onPopupShown()},t.prototype.targetElement=function(){return this.targetInputElement=this.inputElement,this.mode==="CheckBox"&&this.allowFiltering&&this.notify("targetElement",{module:"CheckBoxSelection",enable:this.mode==="CheckBox"}),this.targetInputElement?this.targetInputElement.value:null},t.prototype.getForQuery=function(e,i){var n,s=this.isPrimitiveData?"":this.fields.value;if(this.enableVirtualization&&e)if(i){for(var a=this.viewPortInfo.startIndex,o=a+this.viewPortInfo.endIndex<=e.length&&e[a+this.viewPortInfo.endIndex]?a+this.viewPortInfo.endIndex:e.length,l=a;l<o;l++){var c=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",e[l]):e[l];l===a?n=new Er(s,"equal",c):n=n.or(s,"equal",c)}return new di().where(n)}else{for(var l=0;l<e.length;l++){var c=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",e[l]):e[l];this.isaddNonPresentItems?n=l===0?new Er(s,"equal",e[l]):n.or(s,"equal",e[l]):n=l===0?n=new Er(s,"notequal",c):n.and(s,"notequal",c)}return new di().where(n)}else for(var l=0;l<e.length;l++)l===0?n=new Er(s,"equal",e[l]):n=n.or(s,"equal",e[l]);return this.dataSource instanceof ut&&this.dataSource.adaptor instanceof eS?new di().where(n):this.getQuery(this.query).clone().where(n)},t.prototype.onActionComplete=function(e,i,n,s){var a=this;if(this.dataSource instanceof ut&&!v(n)&&!this.virtualGroupDataSource&&(this.totalItemCount=n.count),this.value&&i&&i.length>0&&this.allowFiltering&&this.mode!=="CheckBox"&&!this.enableVirtualization&&!this.isFilterPrevented&&!this.allowCustomValue&&this.isFilteringAction){var o=i.every(function(M){var w=Pe(a.fields.value?a.fields.value:"",M);return a.value.some(function(b){var D=a.allowObjectBinding?Pe(a.fields.value?a.fields.value:"",b):b;return w===D})});o&&(e.innerHTML="",i=[])}r.prototype.onActionComplete.call(this,e,i,n),this.skeletonCount=this.totalItemCount!==0&&this.totalItemCount<this.itemCount*2&&(!(this.dataSource instanceof ut)||this.dataSource instanceof ut&&this.totalItemCount<=this.itemCount)?0:this.skeletonCount,this.updateSelectElementData(this.allowFiltering);var l=this;if(!v(this.value)&&!this.allowCustomValue&&!this.enableVirtualization&&this.listData&&this.listData.length>0)for(var c=0;c<this.value.length;c++){var u=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",l.value[c]):l.value[c],d=this.findListElement(this.allowFiltering&&!v(this.mainList)?this.mainList:e,"li","data-value",u);!d&&!(this.dataSource instanceof ut)&&(this.value.splice(c,1),c-=1)}var p=[];v(this.value)||(p=this.presentItemValue(this.ulElement));var m=p.some(function(M){return M!==null});if(p.length>0&&this.dataSource instanceof ut&&!v(this.value)&&this.listData!=null&&(!this.enableVirtualization||this.enableVirtualization&&this.valueTemplate)&&m?(this.isaddNonPresentItems=!0,this.addNonPresentItems(p,this.ulElement,this.listData),this.isaddNonPresentItems=!1):this.updateActionList(e,i,n),this.dataSource instanceof ut&&this.allowCustomValue&&!this.isCustomRendered&&this.inputElement.value&&this.inputElement.value!==""){var y=new di;y=this.allowFiltering?y.where(this.fields.text,"startswith",this.inputElement.value,this.ignoreCase,this.ignoreAccent):y,this.checkForCustomValue(y,this.fields),this.isCustomRendered=!0,this.remoteCustomValue=this.enableVirtualization?!1:this.remoteCustomValue}this.mode==="CheckBox"&&this.enableGroupCheckBox&&!v(this.fields.groupBy)&&!v(this.fields.disabled)&&this.disableGroupHeader(),this.dataSource instanceof ut&&this.mode==="CheckBox"&&this.allowFiltering&&this.removeFocus()},t.prototype.updateActionList=function(e,i,n,s){this.mode==="CheckBox"&&this.showSelectAll&&this.notify("selectAll",{module:"CheckBoxSelection",enable:this.mode==="CheckBox"}),!this.mainList&&!this.mainData?(this.mainList=e.cloneNode?e.cloneNode(!0):e,this.mainData=i,this.mainListCollection=this.liCollections):(v(this.mainData)||this.mainData.length===0)&&(this.mainData=i),!((this.remoteCustomValue||i.length<=0)&&this.allowCustomValue&&this.inputFocus&&this.allowFiltering&&this.inputElement.value&&this.inputElement.value!==""&&(this.checkForCustomValue(this.tempQuery,this.fields),this.isCustomRendered))&&(this.value&&this.value.length&&(this.mode!=="CheckBox"&&!v(this.inputElement)&&this.inputElement.value.trim()!==""||this.mode==="CheckBox"||(this.keyCode===8||this.keyCode===46)&&this.allowFiltering&&this.allowCustomValue&&this.dataSource instanceof ut&&this.inputElement.value==="")&&this.refreshSelection(),this.updateListARIA(),this.unwireListEvents(),this.wireListEvents(),v(this.setInitialValue)||this.setInitialValue(),v(this.selectAllAction)||this.selectAllAction(),this.setDynValue&&(!v(this.text)&&(v(this.value)||this.value.length===0)&&this.initialTextUpdate(),this.enableVirtualization?this.dataSource instanceof ut||this.initialValueUpdate():this.isRemoveSelection?this.initialValueUpdate():this.initialValueUpdate(this.listData,!0),this.initialUpdate(),this.refreshPlaceHolder(),this.mode!=="CheckBox"&&this.changeOnBlur&&this.updateValueState(null,this.value,null)),this.renderPopup(),this.beforePopupOpen&&(this.beforePopupOpen=!1,this.onPopupShown(n)))},t.prototype.refreshSelection=function(){var e,i,n=this.hideSelectedItem?un:$e.selected;if(!v(this.value)){for(var s=0;!v(this.value[s]);s++)if(e=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value[s]):this.value[s],i=this.findListElement(this.list,"li","data-value",e),i){if(pe([i],n),this.hideSelectedItem&&i.previousSibling&&i.previousElementSibling.classList.contains($e.group)&&(!i.nextElementSibling||i.nextElementSibling.classList.contains($e.group))&&pe([i.previousElementSibling],n),this.hideSelectedItem&&this.fields.groupBy&&!i.previousElementSibling.classList.contains(un)&&this.hideGroupItem(e),this.hideSelectedItem&&i.classList.contains($e.focus)){Oe([i],$e.focus);var a=i.parentElement.querySelectorAll("."+$e.li+":not(."+un+"):not(."+IM+")");a.length>0?(pe([a[0]],$e.focus),this.updateAriaActiveDescendant()):this.list&&this.list.querySelectorAll("."+$e.li).length>0||(this.l10nUpdate(),pe([this.list],$e.noData))}if(i.setAttribute("aria-selected","true"),this.mode==="CheckBox"&&i.classList.contains("e-active")){var o=i.getElementsByClassName("e-check").length;if(o===0){var l={module:"CheckBoxSelection",enable:this.mode==="CheckBox",li:i,e:null};this.notify("updatelist",l)}}}}this.checkSelectAll(),this.checkMaxSelection()},t.prototype.hideGroupItem=function(e){var i,n,s=this.hideSelectedItem?un:$e.selected;n=i=this.findListElement(this.ulElement,"li","data-value",e);var a=0,o=0,l=!0,c=!0;do i&&i.previousElementSibling&&!i.previousElementSibling.classList.contains(un)&&i.previousElementSibling.classList.contains($e.li)&&(l=!1),!l||!i||i.previousElementSibling&&i.previousElementSibling.classList.contains($e.group)?a=10:i=i.previousElementSibling,n&&n.nextElementSibling&&!n.nextElementSibling.classList.contains(un)&&n.nextElementSibling.classList.contains($e.li)&&(c=!1),!c||!n||n.nextElementSibling&&n.nextElementSibling.classList.contains($e.group)?o=10:n=n.nextElementSibling;while(a<10||o<10);l&&c&&!i.previousElementSibling.classList.contains(un)?pe([i.previousElementSibling],s):l&&c&&i.previousElementSibling.classList.contains(un)&&Oe([i.previousElementSibling],s)},t.prototype.getValidLi=function(){var e=this.ulElement.querySelector("li."+$e.li+":not(."+un+")");return v(e)?this.liCollections[0]:e},t.prototype.checkSelectAll=function(){var e=v(this.fields.disabled)?this.list.querySelectorAll("li.e-list-group-item.e-active").length:this.list.querySelectorAll("li.e-list-group-item.e-active:not(.e-disabled)").length,i=this.list.querySelectorAll("li.e-list-item"),n=this.enableVirtualization?this.list.querySelectorAll("li."+$e.li+":not(.e-virtual-list)").length:v(this.fields.disabled)?this.list.querySelectorAll("li."+$e.li).length:this.list.querySelectorAll("li."+$e.li+":not(.e-disabled)").length,s=this.list.querySelectorAll("li."+$e.selected).length;if(this.enableGroupCheckBox&&!v(this.fields.groupBy)&&(s=s-e),!this.enableVirtualization&&(n===s||s===this.maximumSelectionLength)&&this.mode==="CheckBox"&&this.showSelectAll||this.enableVirtualization&&this.mode==="CheckBox"&&this.showSelectAll&&this.value&&this.value.length===this.totalItemCount?this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:this.mode==="CheckBox",value:"check"}):n!==s&&this.mode==="CheckBox"&&this.showSelectAll&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:this.mode==="CheckBox",value:"uncheck"}),this.enableGroupCheckBox&&this.fields.groupBy&&!this.enableSelectionOrder){for(var a=0;a<i.length;a++)this.findGroupStart(i[a]);this.deselectHeader()}},t.prototype.openClick=function(e){!this.openOnClick&&this.mode!=="CheckBox"&&!this.isPopupOpen()?this.targetElement()!==""?this.showPopup():this.hidePopup(e):!this.openOnClick&&this.mode==="CheckBox"&&!this.isPopupOpen()&&this.showPopup()},t.prototype.keyUp=function(e){if(this.mode==="CheckBox"&&!this.openOnClick){var i=String.fromCharCode(e.keyCode),n=i.match(/\w/);v(n)||(this.isValidKey=!0)}if(this.isValidKey=this.isPopupOpen()&&e.keyCode===8||this.isValidKey,this.isValidKey=e.ctrlKey&&e.keyCode===86?!1:this.isValidKey,this.isValidKey&&this.inputElement)switch(this.isValidKey=!1,this.expandTextbox(),this.showOverAllClear(),e.keyCode){default:this.search(e)}},t.prototype.filter=function(e,i,n){this.isFiltered=!0,this.remoteFilterAction=!0,this.dataUpdater(e,i,n)},t.prototype.getQuery=function(e){var i=e?e.clone():this.query?this.query.clone():new di;if(this.isFiltered){if(this.enableVirtualization&&!v(this.customFilterQuery))return i=this.customFilterQuery.clone(),this.virtualFilterQuery(i);if(!this.enableVirtualization)return i}if(this.isFilterAction){if(this.targetElement()!==null&&!this.enableVirtualization||this.enableVirtualization&&this.targetElement()!==null&&this.targetElement().trim()!==""){var n=this.typeOfData(this.dataSource).typeof;if(!(this.dataSource instanceof ut)&&n==="string"||n==="number")i.where("",this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent);else if(this.enableVirtualization&&this.targetElement()!==""&&!this.isClearAllAction||!this.enableVirtualization){var s=this.fields;i.where(v(s.text)?"":s.text,this.filterType,this.targetElement(),this.ignoreCase,this.ignoreAccent)}}return this.enableVirtualization&&this.viewPortInfo.endIndex!==0&&!this.virtualSelectAll?this.virtualFilterQuery(i):this.virtualSelectAll?e?e.skip(0).take(this.maximumSelectionLength).requiresCount():this.query?this.query.skip(0).take(this.maximumSelectionLength).requiresCount():new di().skip(0).take(this.maximumSelectionLength).requiresCount():i}else return this.enableVirtualization&&this.viewPortInfo.endIndex!==0&&!this.virtualSelectAll?this.virtualFilterQuery(i):this.virtualSelectAll?e?e.skip(0).take(this.maximumSelectionLength).requiresCount():this.query?this.query.skip(0).take(this.maximumSelectionLength).requiresCount():new di().skip(0).take(this.maximumSelectionLength).requiresCount():e||(this.query?this.query:new di)},t.prototype.virtualFilterQuery=function(e){for(var i=this.getTakeValue(),n=!0,s=!0,a=0;a<e.queries.length;a++)this.getModuleName()==="multiselect"&&(e.queries[a].e&&e.queries[a].e.condition==="or"||e.queries[a].e&&e.queries[a].e.operator==="equal")&&(n=!1),e.queries[a].fn==="onSkip"&&(s=!1),e.queries[a].fn;var o=0;if(e&&e.queries.length>0)for(var a=0;a<e.queries.length;a++)e.queries[a].fn==="onTake"&&(o=i<=e.queries[a].e.nos?e.queries[a].e.nos:i);if(o<=0&&this.query&&this.query.queries.length>0)for(var a=0;a<this.query.queries.length;a++)this.query.queries[a].fn==="onTake"&&(o=i<=this.query.queries[a].e.nos?this.query.queries[a].e.nos:i);if(e&&e.queries.length>0)for(var a=0;a<e.queries.length;a++)e.queries[a].fn==="onTake"&&(o=e.queries[a].e.nos<=o?o:e.queries[a].e.nos,e.queries.splice(a,1),--a);return(this.allowFiltering&&s||!n||!this.allowFiltering&&s)&&!this.isVirtualReorder&&(n?e.skip(this.virtualItemStartIndex):e.skip(this.viewPortInfo.startIndex)),this.isIncrementalRequest?e.take(this.incrementalEndIndex):o>0?e.take(o):e.take(i),e.requiresCount(),this.customFilterQuery=null,e},t.prototype.getTakeValue=function(){return this.allowFiltering&&Re.isDevice?Math.round(window.outerHeight/this.listItemHeight):this.itemCount},t.prototype.dataUpdater=function(e,i,n){this.isDataFetched=!1;var s=this.list.classList.contains($e.noData);if(this.targetElement().trim()===""&&(!this.allowCustomValue||this.mode==="CheckBox"||this.targetElement()==="")){var a=this.enableVirtualization?this.list.cloneNode(!0):this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;if(this.backCommand||this.enableVirtualization&&this.mode==="CheckBox"&&this.value&&this.value.length>0){this.remoteCustomValue=!1;var o=!1;if(this.allowCustomValue&&a.querySelectorAll("li").length===0&&this.mainData.length>0&&(this.mainData=[]),this.enableVirtualization){if(this.allowFiltering&&(this.isPreventScrollAction=!0,this.list.scrollTop=0,this.previousStartIndex=0,this.virtualListInfo=null),this.value&&this.value.length>0&&this.mode==="CheckBox")this.notify("setCurrentViewDataAsync",{component:this.getModuleName(),module:"VirtualScroll"}),o=!0;else if(this.totalItemCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.resetList(e,n,i),this.mode!=="CheckBox"&&(this.totalItemCount=this.value&&this.value.length?this.totalItemCount-this.value.length:this.totalItemCount),this.UpdateSkeleton(),(s||this.allowCustomValue)&&!this.list.classList.contains($e.noData)){if(!this.list.querySelector(".e-virtual-ddl-content")){var l=this.createElement("div",{className:"e-virtual-ddl-content"});l.style.cssText=this.getTransformValues(),this.list.appendChild(l).appendChild(this.list.querySelector(".e-list-parent"))}if(!this.list.querySelector(".e-virtual-ddl")){var c=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});c.style.cssText=this.GetVirtualTrackHeight(),document.getElementsByClassName("e-multi-select-list-wrapper")[0].querySelector(".e-dropdownbase").appendChild(c)}}}this.onActionComplete(a,this.mainData),this.value&&this.value.length&&this.refreshSelection(),this.keyCode!==8&&this.focusAtFirstListItem(),o||this.notify("reOrder",{module:"CheckBoxSelection",enable:this.mode==="CheckBox",e:this})}}else{if(this.enableVirtualization&&this.allowFiltering&&(this.isPreventScrollAction=!0,this.list.scrollTop=0,this.previousStartIndex=0,this.virtualListInfo=null,this.list.querySelector(".e-list-parent.e-reorder")&&this.list.querySelector(".e-list-parent.e-reorder").remove()),this.resetList(e,n,i),this.enableVirtualization&&(s||this.allowCustomValue)&&!this.list.classList.contains($e.noData)){if(!this.list.querySelector(".e-virtual-ddl-content")){var l=this.createElement("div",{className:"e-virtual-ddl-content"});l.style.cssText=this.getTransformValues(),this.list.appendChild(l).appendChild(this.list.querySelector(".e-list-parent"))}if(this.mode!=="CheckBox"&&(this.totalItemCount=this.value&&this.value.length?this.totalItemCount-this.value.length:this.totalItemCount),!this.list.querySelector(".e-virtual-ddl")){var c=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});c.style.cssText=this.GetVirtualTrackHeight(),document.getElementsByClassName("e-multi-select-list-wrapper")[0].querySelector(".e-dropdownbase").appendChild(c)}}this.allowCustomValue&&(e instanceof ut?(this.remoteCustomValue=!0,this.tempQuery=i):this.checkForCustomValue(i,n))}this.enableVirtualization&&this.allowFiltering&&this.getFilteringSkeletonCount(),this.refreshPopup(),this.allowResize&&this.setResize(),this.mode==="CheckBox"&&this.removeFocus()},t.prototype.secureRandom=function(){var e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]/4294967296},t.prototype.checkForCustomValue=function(e,i){var n=!this.getValueByText(this.inputElement.value,this.ignoreCase),s=i||this.fields;if(this.isCustomReset=!0,this.allowCustomValue&&n){var a=this.inputElement.value,o=!v(this.mainData)&&this.mainData.length>0?this.mainData[0]:this.mainData;if(o&&typeof o!="string"&&typeof o!="number"&&typeof o!="boolean"){var l={};Yr(s.text,a,l),typeof Pe(this.fields.value?this.fields.value:"value",o)=="number"&&this.fields.value!==this.fields.text?Yr(s.value,this.secureRandom(),l):Yr(s.value,a,l);var c={};if(this.allowObjectBinding){var u=this.listData&&this.listData.length>0?Object.keys(this.listData[0]):this.firstItem?Object.keys(this.firstItem):Object.keys(l),d=typeof Pe(this.fields.value?this.fields.value:"value",o)=="number"&&this.fields.value!==this.fields.text;u.forEach(function(w){c[w]=w===i.value||w===i.text?w===i.text&&d?Pe(i.text,l):Pe(i.value,l):null})}if(l=this.allowObjectBinding?c:l,this.enableVirtualization){this.virtualCustomData=l;var p=this.dataSource instanceof ut?JSON.parse(JSON.stringify(this.listData)):JSON.parse(JSON.stringify(this.dataSource));this.virtualCustomSelectData&&this.virtualCustomSelectData.length>0&&p.concat(this.virtualCustomSelectData),p.splice(0,0,l),this.isCustomDataUpdated=!0;var m=this.totalItemCount;this.viewPortInfo.startIndex=this.virtualItemStartIndex=0,this.viewPortInfo.endIndex=this.virtualItemEndIndex=this.itemCount,this.resetList(p,s,e),this.isCustomDataUpdated=!1,this.totalItemCount=this.enableVirtualization&&this.dataSource instanceof ut?m:this.totalItemCount}else{this.dataSource instanceof ut&&this.allowCustomValue&&this.allowFiltering&&(this.remoteCustomValue=!1);var p=JSON.parse(JSON.stringify(this.listData));p.splice(0,0,l),this.resetList(p,s,e),this.focusAtLastListItem(a)}}else if(this.listData){var p=JSON.parse(JSON.stringify(this.listData));p.splice(0,0,this.inputElement.value),p[0]=typeof o=="number"&&!isNaN(parseFloat(p[0]))?parseFloat(p[0]):p[0],p[0]=typeof o=="boolean"?p[0]==="true"?!0:p[0]==="false"?!1:p[0]:p[0],this.resetList(p,s),this.focusAtLastListItem(a)}}else if(this.listData&&this.mainData&&!n&&this.allowCustomValue){if(this.allowFiltering&&this.isRemoteSelection&&this.remoteCustomValue)this.isRemoteSelection=!1,this.enableVirtualization||this.resetList(this.listData,s,e);else if(!this.allowFiltering&&this.list){var y=this.list.querySelectorAll("li."+$e.li+":not(.e-hide-listitem)"),M=Ny(this.targetElement(),y,"StartsWith",this.ignoreCase);M&&M.item!==null&&this.addListFocus(M.item)}}this.isCustomReset=!1,this.value&&this.value.length&&this.refreshSelection()},t.prototype.getNgDirective=function(){return"EJS-MULTISELECT"},t.prototype.wrapperClick=function(e){if(this.setDynValue=!1,this.keyboardEvent=null,this.isKeyBoardAction=!1,!!this.enabled){if(e.target===this.overAllClear){e.preventDefault();return}if(this.inputFocus||this.inputElement.focus(),!this.readonly){if(e.target&&e.target.classList.toString().indexOf(cE)!==-1){this.isPopupOpen()&&this.refreshPopup();return}!this.isPopupOpen()&&(this.openOnClick||this.showDropDownIcon&&e.target&&e.target.className===n8)?this.showPopup(e):(this.hidePopup(e),this.mode==="CheckBox"&&(this.showOverAllClear(),this.inputFocus=!0,this.overAllWrapper.classList.contains(w0)||this.overAllWrapper.classList.add(w0)))}this.targetElement()&&this.targetElement()!==""||e.preventDefault(),this.checkAndScrollParent(),this.maximumSelectionLength===0&&this.checkMaxSelection()}},t.prototype.checkAndScrollParent=function(){for(var e=this.overAllWrapper?this.overAllWrapper.parentElement:null;e;){var i=getComputedStyle(e),n=parseFloat(i.maxHeight)||parseFloat(i.height);if(!isNaN(n)&&this.isPopupOpen()){var s=i.overflowY,a=this.overAllWrapper.getBoundingClientRect().bottom,o=e.getBoundingClientRect().bottom;if((s==="auto"||s==="scroll")&&a>o){e.scrollTop+=a-o+10;return}}e=e.parentElement}},t.prototype.enable=function(e){e?(this.overAllWrapper.classList.remove(IM),this.inputElement.removeAttribute("disabled"),Ht(this.inputElement,{"aria-disabled":"false"}),this.ensureAriaDisabled("false")):(this.overAllWrapper.classList.add(IM),this.inputElement.setAttribute("disabled","true"),Ht(this.inputElement,{"aria-disabled":"true"}),this.ensureAriaDisabled("true")),this.enabled!==e&&(this.enabled=e),this.hidePopup()},t.prototype.onBlurHandler=function(e,i){var n;if(this.isBlurDispatching&&this.isAngular){this.isBlurDispatching=!1;return}if(v(e)||(n=e.relatedTarget),this.popupObj&&document.body.contains(this.popupObj.element)&&this.popupObj.element.contains(n)){this.mode!=="CheckBox"?this.inputElement.focus():this.floatLabelType==="Auto"&&(this.overAllWrapper.classList.contains("e-outline")||this.overAllWrapper.classList.contains("e-filled"))&&pe([this.overAllWrapper],"e-valid-input");return}if(this.floatLabelType==="Auto"&&this.overAllWrapper.classList.contains("e-outline")&&this.mode==="CheckBox"&&(v(this.value)||this.value.length===0)&&Oe([this.overAllWrapper],"e-valid-input"),this.mode==="CheckBox"&&Re.isIE&&!v(e)&&!i){this.inputFocus=!1,this.overAllWrapper.classList.remove(w0);return}if(this.scrollFocusStatus){v(e)||e.preventDefault(),this.inputElement.focus(),this.scrollFocusStatus=!1;return}if(this.inputFocus=!1,this.overAllWrapper.classList.remove(w0),this.addTagOnBlur){var s=this.getValueByText(this.inputElement.value,this.ignoreCase,this.ignoreAccent),a=this.findListElement(this.list,"li","data-value",s),o=this.hideSelectedItem?un:$e.selected,l=!!(a&&!a.classList.contains(o));l&&(this.updateListSelection(a,e),this.mode==="Delimiter"&&this.updateDelimeter(this.delimiterChar))}this.updateDataList(),this.refreshListItems(null),this.mode!=="Box"&&this.mode!=="CheckBox"&&this.updateDelimView(),this.changeOnBlur&&(this.updateValueState(e,this.value,this.tempValues),this.dispatchEvent(this.hiddenElement,"change")),this.overAllClear.style.display="none",this.isPopupOpen()&&this.hidePopup(e),this.makeTextBoxEmpty(),this.trigger("blur"),this.focused=!0,Re.isDevice&&this.mode!=="Delimiter"&&this.mode!=="CheckBox"&&this.removeChipFocus(),this.removeChipSelection(),this.refreshInputHight(),Tbe(this.overAllWrapper,this.componentWrapper,this.value,this.floatLabelType,this.placeholder),this.refreshPlaceHolder(),(this.allowFiltering||this.enableSelectionOrder===!0&&this.mode==="CheckBox")&&!v(this.mainList)&&(this.ulElement=this.mainList),this.checkPlaceholderSize(),this.element.querySelector(".e-multiselect .e-float-text-content")===null&&Rt.createSpanElement(this.overAllWrapper,this.createElement),this.calculateWidth(),!v(this.overAllWrapper)&&!v(this.overAllWrapper.getElementsByClassName("e-ddl-icon")[0]&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0]&&this.floatLabelType!=="Never")&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon"),this.isBlurDispatching=!0,this.isAngular&&this.dispatchEvent(this.inputElement,"blur")},t.prototype.calculateWidth=function(){var e;if(this.overAllWrapper){if(!this.showDropDownIcon||this.overAllWrapper.querySelector(".e-label-top"))e=this.overAllWrapper.clientWidth-2*parseInt(getComputedStyle(this.inputElement).paddingRight,10);else{var i=this.dropIcon.offsetWidth+parseInt(getComputedStyle(this.dropIcon).marginRight,10);e=this.overAllWrapper.clientWidth-(i+2*parseInt(getComputedStyle(this.inputElement).paddingRight,10))}this.floatLabelType!=="Never"&&Rt.calculateWidth(e,this.overAllWrapper,this.getModuleName())}},t.prototype.checkPlaceholderSize=function(){if(this.showDropDownIcon){var e=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10);this.setPlaceholderSize(e)}else v(this.dropIcon)||this.setPlaceholderSize(this.showDropDownIcon?this.dropIcon.offsetWidth:0)},t.prototype.setPlaceholderSize=function(e){v(this.value)||this.value.length===0?this.dropIcon.offsetWidth!==0?this.searchWrapper.style.width="calc(100% - "+(e+10)+"px":pe([this.searchWrapper],a8):v(this.value)||(this.searchWrapper.removeAttribute("style"),Oe([this.searchWrapper],a8))},t.prototype.refreshInputHight=function(){v(this.searchWrapper)||((!this.value||!this.value.length)&&(v(this.text)||this.text==="")?this.searchWrapper.classList.remove(uE):this.searchWrapper.classList.add(uE))},t.prototype.validateValues=function(e,i){return JSON.stringify(e.slice().sort())!==JSON.stringify(i.slice().sort())},t.prototype.updateValueState=function(e,i,n){var s=i||[],a=n||[];if(this.initStatus&&this.validateValues(s,a)){var o={e,oldValue:(this.allowObjectBinding,n),value:(this.allowObjectBinding,i),isInteracted:!!e,element:this.element,event:e};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",o),this.enableVirtualization&&this.enableSelectionOrder&&this.mode==="CheckBox"&&(this.preventSetCurrentData=!1),this.updateTempValue(),this.changeOnBlur||this.dispatchEvent(this.hiddenElement,"change")}this.selectedValueInfo=this.viewPortInfo},t.prototype.updateTempValue=function(){this.value?this.tempValues=this.allowObjectBinding?this.value.slice():this.value.slice():this.tempValues=this.value},t.prototype.updateAriaActiveDescendant=function(){!v(this.ulElement)&&!v(this.ulElement.getElementsByClassName("e-item-focus")[0])&&Ht(this.inputElement,{"aria-activedescendant":this.ulElement.getElementsByClassName("e-item-focus")[0].id})},t.prototype.pageUpSelection=function(e,i){var n=this.list.querySelectorAll("li."+$e.li+":not(."+un+"):not(.e-reorder-hide)"),s=e>=0?n[e+1]:n[0];if(this.fields.disabled&&s&&!this.enableVirtualization){for(;s&&(s.classList.contains("e-disabled")||s.classList.contains(un)||s.classList.contains(".e-reorder-hide")||s.classList.contains("e-list-group-item"));)s=s.previousElementSibling;if(!s)return}this.enableVirtualization&&i&&(s=this.liCollections.length>=e&&e>=0?this.liCollections[e]:this.liCollections[this.skeletonCount]),!v(s)&&s.classList.contains("e-virtual-list")&&(s=this.liCollections[this.skeletonCount]),this.enableVirtualization?(!v(s)&&!s.classList.contains("e-item-focus")?(this.isKeyBoardAction=!0,this.addListFocus(s),this.scrollTop(s,this.getIndexByValue(s.getAttribute("data-value")),this.keyboardEvent.keyCode)):this.viewPortInfo.startIndex===0&&(this.isKeyBoardAction=!0,this.scrollTop(s,this.getIndexByValue(s.getAttribute("data-value")),this.keyboardEvent.keyCode)),this.previousFocusItem=s):(this.isKeyBoardAction=!0,this.addListFocus(s),this.scrollTop(s,this.getIndexByValue(s.getAttribute("data-value")),this.keyboardEvent.keyCode))},t.prototype.pageDownSelection=function(e,i){var n=this.getItems(),s=this.list.querySelectorAll("li."+$e.li+":not(."+un+"):not(.e-reorder-hide):not(.e-virtual-list-end)"),a=e<=s.length?s[e-1]:s[s.length-1];if(this.fields.disabled&&a&&!this.enableVirtualization){for(;a&&(a.classList.contains("e-disabled")||a.classList.contains(un)||a.classList.contains(".e-reorder-hide")||a.classList.contains("e-list-group-item"));)a=a.nextElementSibling;if(!a)return}this.enableVirtualization&&this.skeletonCount>0&&(a=e<n.length?this.liCollections[e]:this.liCollections[n.length-1]),this.enableVirtualization&&i&&(a=e<=n.length?this.liCollections[e]:this.liCollections[n.length-1]),this.enableVirtualization&&a&&a.classList.contains("e-virtual-list-end")&&(a=s[s.length-1]),this.isKeyBoardAction=!0,this.addListFocus(a),this.previousFocusItem=a,this.scrollBottom(a,this.getIndexByValue(a.getAttribute("data-value")),!1,this.keyboardEvent.keyCode)},t.prototype.getItems=function(){return this.list||r.prototype.render.call(this),this.ulElement&&this.ulElement.querySelectorAll("."+$e.li).length>0?this.ulElement.querySelectorAll("."+$e.li+":not(."+un+")"):[]},t.prototype.focusInHandler=function(e){var i=this;if(this.enabled){if(this.showOverAllClear(),this.inputFocus=!0,this.value&&this.value.length&&(this.mode!=="Delimiter"&&this.mode!=="CheckBox"?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),this.mode!=="CheckBox"&&(this.viewWrapper.style.display="none")),this.mode!=="CheckBox"&&this.searchWrapper.classList.remove(uE),this.checkPlaceholderSize(),this.focused){var n={isInteracted:!!e,event:e};this.trigger("focus",n),this.focused=!1}return this.overAllWrapper.classList.contains(w0)||this.overAllWrapper.classList.add(w0),wbe(this.overAllWrapper,this.componentWrapper),this.isPopupOpen()&&this.refreshPopup(),this.allowResize&&this.setResize(),setTimeout(function(){i.calculateWidth()},150),!0}else return!1},t.prototype.showDelimWrapper=function(){this.mode==="CheckBox"?this.viewWrapper.style.display="":this.delimiterWrapper.style.display="",this.componentWrapper.classList.add(JV)},t.prototype.hideDelimWrapper=function(){this.delimiterWrapper.style.display="none",this.componentWrapper.classList.remove(JV)},t.prototype.expandTextbox=function(){var e=5;if(this.placeholder){var i=this.placeholder.charCodeAt(0),n=44032<=i&&i<=55215?1.5:19968<=i&&i<=40959?2:1;e=e>this.inputElement.placeholder.length?e:this.inputElement.placeholder.length*n}this.inputElement.value.length>e?this.inputElement.size=this.inputElement.value.length:this.inputElement.size=e},t.prototype.isPopupOpen=function(){return this.popupWrapper!==null&&this.popupWrapper.parentElement!==null},t.prototype.refreshPopup=function(){this.popupObj&&this.mobFilter&&(this.popupObj.setProperties({width:this.calcPopupWidth()}),this.popupObj.refreshPosition(this.overAllWrapper),this.popupObj.resolveCollision())},t.prototype.checkTextLength=function(){return this.targetElement().length<1},t.prototype.popupKeyActions=function(e){switch(e.keyCode){case 38:this.hidePopup(e),this.mode==="CheckBox"&&this.inputElement.focus(),e.preventDefault();break;case 40:this.isPopupOpen()||(this.showPopup(e),e.preventDefault());break}},t.prototype.updatePopupPosition=function(){this.refreshPopup()},t.prototype.updateAriaAttribute=function(){var e=this.list.querySelector("."+$e.focus);if(!v(e))if(this.inputElement.setAttribute("aria-activedescendant",e.id),this.allowFiltering){var i=this.popupWrapper.querySelector("."+L4);i&&i.setAttribute("aria-activedescendant",e.id)}else this.mode==="CheckBox"&&this.overAllWrapper.setAttribute("aria-activedescendant",e.id)},t.prototype.homeNavigation=function(e,i){if(this.removeFocus(),this.enableVirtualization){if(e)this.enableVirtualization&&this.viewPortInfo.startIndex!==0&&(this.viewPortInfo.startIndex=0,this.viewPortInfo.endIndex=this.itemCount,this.updateVirtualItemIndex(),this.resetList(this.dataSource,this.fields,this.query));else if(this.enableVirtualization&&(!this.value&&this.viewPortInfo.endIndex!==this.totalItemCount||this.value&&this.value.length>0&&this.viewPortInfo.endIndex!==this.totalItemCount+this.value.length)){this.viewPortInfo.startIndex=this.totalItemCount-this.itemCount,this.viewPortInfo.endIndex=this.totalItemCount,this.updateVirtualItemIndex();var n=new di().clone();this.value&&this.value.length>0&&(n=this.getForQuery(this.value).clone(),n=n.skip(this.totalItemCount-this.itemCount)),this.resetList(this.dataSource,this.fields,n)}}this.UpdateSkeleton();var s=this.ulElement.querySelectorAll("li."+$e.li+":not(."+un+"):not(.e-reorder-hide)");if(s.length>0){var a=s[e?0:s.length-1];this.enableVirtualization&&e&&(a=s[this.skeletonCount]),this.removeFocus(),a.classList.add($e.focus),this.enableVirtualization&&e?this.scrollTop(a,void 0,this.keyboardEvent.keyCode):i||this.scrollBottom(a,void 0,!1,this.keyboardEvent.keyCode),this.updateAriaActiveDescendant()}},t.prototype.updateSelectionList=function(){if(!v(this.value)&&this.value.length)for(var e=0;e<this.value.length;e++){var i=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value[e]):this.value[e],n=this.getElementByValue(i);n&&!n.classList.contains($e.selected)&&n.classList.add("e-active")}},t.prototype.handleVirtualKeyboardActions=function(e,i){var n=this.list.querySelector("."+$e.focus),s;switch(this.isKeyBoardAction=!0,e.keyCode){case 40:this.arrowDown(e,!0);break;case 38:this.arrowUp(e,!0);break;case 33:e.preventDefault(),n&&(s=this.getIndexByValue(this.previousFocusItem.getAttribute("data-value"))-1,this.pageUpSelection(s,!0),this.updateAriaAttribute());break;case 34:e.preventDefault(),n&&(s=this.getIndexByValue(this.previousFocusItem.getAttribute("data-value")),this.pageDownSelection(s,!0),this.updateAriaAttribute());break;case 35:case 36:this.isMouseScrollAction=!0,this.homeNavigation(e.keyCode===36,!0),this.isPreventScrollAction=!0;break}this.keyboardEvent=null,this.isScrollChanged=!0,this.isKeyBoardAction=!1},t.prototype.onKeyDown=function(e){if(!(this.readonly||!this.enabled&&this.mode!=="CheckBox")&&(this.preventSetCurrentData=!1,this.keyboardEvent=e,this.isPreventKeyAction&&this.enableVirtualization&&e.preventDefault(),this.keyCode=e.keyCode,this.keyDownStatus=!0,!(e.keyCode>111&&e.keyCode<124))){if(e.altKey){this.popupKeyActions(e);return}else if(this.isPopupOpen()){var i=this.list.querySelector("."+$e.focus),n=void 0;switch(e.keyCode){case 36:case 35:this.isMouseScrollAction=!0,this.isKeyBoardAction=!0,this.homeNavigation(e.keyCode===36);break;case 33:e.preventDefault(),i&&(n=this.getIndexByValue(i.getAttribute("data-value")),this.pageUpSelection(n-this.getPageCount()-1),this.updateAriaAttribute());return;case 34:e.preventDefault(),i&&(n=this.getIndexByValue(i.getAttribute("data-value")),this.pageDownSelection(n+this.getPageCount()),this.updateAriaAttribute());return;case 38:this.isKeyBoardAction=!0,this.arrowUp(e);break;case 40:this.isKeyBoardAction=!0,this.arrowDown(e);break;case 27:e.preventDefault(),this.isKeyBoardAction=!0,this.hidePopup(e),this.mode==="CheckBox"&&this.inputElement.focus(),this.isKeyBoardAction=!1;return;case 13:e.preventDefault(),this.isKeyBoardAction=!0,this.mode!=="CheckBox"&&this.selectByKey(e),this.checkPlaceholderSize(),this.isKeyBoardAction=!1;return;case 32:this.isKeyBoardAction=!0,this.spaceKeySelection(e),this.isKeyBoardAction=!1;return;case 9:e.preventDefault(),this.isKeyBoardAction=!0,this.hidePopup(e),this.inputElement.focus(),this.overAllWrapper.classList.add(w0)}}else switch(e.keyCode){case 13:case 9:case 16:case 17:case 20:return;case 40:this.openOnClick&&this.showPopup();break;case 27:e.preventDefault(),this.escapeAction();return}this.checkTextLength()&&this.keyNavigation(e),this.mode==="CheckBox"&&this.enableSelectionOrder&&(this.allowFiltering&&(this.previousFilterText=this.targetElement()),this.checkBackCommand(e)),this.expandTextbox(),this.mode==="CheckBox"&&this.showSelectAll||this.refreshPopup(),this.allowResize&&this.setResize(),this.isKeyBoardAction=!1}},t.prototype.arrowDown=function(e,i){e.preventDefault(),this.moveByList(1,i),this.keyAction=!0,(document.activeElement.classList.contains(L4)||this.mode==="CheckBox"&&!this.allowFiltering&&document.activeElement!==this.list)&&se.add(this.list,"keydown",this.onKeyDown,this),this.updateAriaAttribute()},t.prototype.arrowUp=function(e,i){e.preventDefault(),this.keyAction=!0;var n=this.list.querySelectorAll("li."+$e.li+":not(."+un+"):not(.e-reorder-hide)");this.enableGroupCheckBox&&this.mode==="CheckBox"&&!v(this.fields.groupBy)&&(n=this.list.querySelectorAll("li."+$e.li+",li."+$e.group+":not(."+un+"):not(.e-reorder-hide)"));var s=this.list.querySelector("li."+$e.focus);if(this.focusFirstListItem=v(this.liCollections[0])?!1:this.liCollections[0].classList.contains("e-item-focus"),this.list&&this.list.querySelector(".e-list-parent.e-ul.e-reorder")){var a=this.list.querySelectorAll("li."+$e.li+":not(."+un+"):not(.e-reorder-hide):not(.e-virtual-list-end)");a.length>0&&(this.focusFirstListItem=v(a[0])?!1:a[0].classList.contains("e-item-focus"))}var o=Array.prototype.slice.call(n).indexOf(s);o<=0&&this.mode==="CheckBox"&&this.allowFiltering&&(this.keyAction=!1,this.notify("inputFocus",{module:"CheckBoxSelection",enable:this.mode==="CheckBox",value:"focus"})),this.moveByList(-1,i),this.updateAriaAttribute()},t.prototype.spaceKeySelection=function(e){if(this.mode==="CheckBox"){var i=this.list.querySelector("li."+$e.focus),n=document.getElementsByClassName("e-selectall-parent")[0];if((!v(i)||n&&n.classList.contains("e-item-focus"))&&(e.preventDefault(),this.keyAction=!0),this.selectByKey(e),this.keyAction){var s=this.list.querySelector("li."+$e.focus);!v(s)&&n&&n.classList.contains("e-item-focus")&&s.classList.remove("e-item-focus")}}this.checkPlaceholderSize()},t.prototype.checkBackCommand=function(e){(e.keyCode===8&&this.allowFiltering?this.targetElement()!==this.previousFilterText:this.targetElement()==="")?this.backCommand=!1:this.backCommand=!0},t.prototype.keyNavigation=function(e){if(this.mode!=="Delimiter"&&this.mode!=="CheckBox"&&this.value&&this.value.length)switch(e.keyCode){case 37:e.preventDefault(),this.moveBy(-1,e);break;case 39:e.preventDefault(),this.moveBy(1,e);break;case 8:this.removelastSelection(e);break;case 46:this.removeSelectedChip(e);break}else if(e.keyCode===8&&this.mode==="Delimiter"&&this.value&&this.value.length){e.preventDefault();var i=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value[this.value.length-1]):this.value[this.value.length-1];this.removeValue(this.value[this.value.length-1],e),this.updateDelimeter(this.delimiterChar,e),this.focusAtLastListItem(i)}},t.prototype.selectByKey=function(e){this.removeChipSelection(),this.selectListByKey(e),this.hideSelectedItem&&this.focusAtFirstListItem()},t.prototype.escapeAction=function(){var e=this.tempValues?this.tempValues.slice():[];this.allowObjectBinding&&(e=this.tempValues?this.tempValues.slice():[]),this.value&&this.validateValues(this.value,e)&&(this.mode!=="CheckBox"&&(this.value=e,(this.allowFiltering||this.allowCustomValue)&&this.refreshListItems(null),this.initialValueUpdate()),this.mode!=="Delimiter"&&this.mode!=="CheckBox"?this.chipCollectionWrapper.style.display="":this.showDelimWrapper(),this.refreshPlaceHolder(),this.value.length?this.showOverAllClear():this.hideOverAllClear()),this.makeTextBoxEmpty()},t.prototype.scrollBottom=function(e,i,n,s,a){n===void 0&&(n=!1),s===void 0&&(s=null),a===void 0&&(a=!1),(!v(e)&&e.classList.contains("e-virtual-list")||this.enableVirtualization&&v(e))&&(e=this.liCollections[this.skeletonCount]);var o=e&&!isNaN(parseInt(window.getComputedStyle(e).marginBottom,10))?parseInt(window.getComputedStyle(e).marginBottom,10):0;this.isUpwardScrolling=!1;var l=this.list.querySelectorAll(".e-virtual-list:not(.e-virtual-list-end)").length,c=this.list.querySelectorAll("li:not(.e-virtual-list-end)"),u=c&&c.length>0&&c[c.length-1]?c[c.length-1].getAttribute("data-value"):null,d=this.virtualListInfo&&this.virtualListInfo.startIndex?e.offsetTop+this.virtualListInfo.startIndex*(e.offsetHeight+o):e.offsetTop,p=this.list.offsetHeight,m=d-l*(e.offsetHeight+o)+(e.offsetHeight+o)-this.list.scrollTop,y=this.list.scrollTop+m-p,M=!1,w=d-l*(e.offsetHeight+o)+(e.offsetHeight+o)-this.list.scrollTop;if(w=this.fields.groupBy&&!v(this.fixedHeaderElement)?w-this.fixedHeaderElement.offsetHeight:w,i===0&&!this.enableVirtualization)this.list.scrollTop=0;else if(m>p||!(w>0&&this.list.offsetHeight>w)){var b=e?e.getAttribute("data-value"):null,D=s===34?this.getPageCount()-1:1;!this.enableVirtualization||this.isKeyBoardAction||n?this.isKeyBoardAction&&this.enableVirtualization&&u&&b===u&&s!==35&&!this.isVirtualScrolling?(this.isPreventKeyAction=!0,this.list.scrollTop+=(e.offsetHeight+o)*D,this.isPreventKeyAction=this.isScrollerAtEnd()?!1:this.isPreventKeyAction,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1):this.enableVirtualization&&s===35?(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1,this.list.scrollTop=this.list.scrollHeight):(s===34&&this.enableVirtualization&&!this.isVirtualScrolling&&(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1),this.list.scrollTop=y):this.list.scrollTop=this.virtualListInfo&&this.virtualListInfo.startIndex?a&&this.virtualListInfo.startIndex?this.virtualListInfo.startIndex*this.listItemHeight+this.listItemHeight*2:this.virtualListInfo.startIndex*this.listItemHeight:0,M=this.isKeyBoardAction}this.isKeyBoardAction=M},t.prototype.scrollTop=function(e,i,n){n===void 0&&(n=null);var s=this.list.querySelectorAll(".e-virtual-list:not(.e-virtual-list-end)").length,a=e&&!isNaN(parseInt(window.getComputedStyle(e).marginBottom,10))?parseInt(window.getComputedStyle(e).marginBottom,10):0,o=this.virtualListInfo&&this.virtualListInfo.startIndex?e.offsetTop+this.virtualListInfo.startIndex*(e.offsetHeight+a):e.offsetTop,l=o-s*(e.offsetHeight+a)-this.list.scrollTop,c=this.list.querySelector("li.e-list-item:not(.e-virtual-list)")?this.list.querySelector("li.e-list-item:not(.e-virtual-list)").getAttribute("data-value"):null;l=this.fields.groupBy&&!Wi(this.fixedHeaderElement)?l-this.fixedHeaderElement.offsetHeight:l;var u=o-s*(e.offsetHeight+a)+(e.offsetHeight+a)-this.list.scrollTop,d=this.enableVirtualization&&this.getModuleName()==="autocomplete"&&l<=0;if(i===0&&!this.enableVirtualization)this.list.scrollTop=0;else if(l<0||d){var p=e?e.getAttribute("data-value"):null,m=n===33?this.getPageCount()-2:1;this.enableVirtualization&&this.isKeyBoardAction&&c&&p===c&&n!==36&&!this.isVirtualScrolling?(this.isUpwardScrolling=!0,this.isPreventKeyAction=!0,this.isKeyBoardAction=!1,this.list.scrollTop-=(e.offsetHeight+a)*m,this.isPreventKeyAction=this.list.scrollTop!==0?this.isPreventKeyAction:!1,this.isPreventScrollAction=!1):this.enableVirtualization&&n===36?(this.isPreventScrollAction=!1,this.isPreventKeyAction=!0,this.isKeyBoardAction=!1,this.list.scrollTo(0,0)):(n===33&&this.enableVirtualization&&!this.isVirtualScrolling&&(this.isPreventKeyAction=!1,this.isKeyBoardAction=!1,this.isPreventScrollAction=!1),this.list.scrollTop=this.list.scrollTop+l)}else u>0&&this.list.offsetHeight>u||(this.list.scrollTop=e.offsetTop-(this.fields.groupBy&&!v(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))},t.prototype.isScrollerAtEnd=function(){return this.list&&this.list.scrollTop+this.list.clientHeight>=this.list.scrollHeight},t.prototype.selectListByKey=function(e){var i=this.list.querySelector("li."+$e.focus),n=this.value&&this.value.length?this.value.length:0,s;if(i!==null){if(e.preventDefault(),i.classList.contains("e-active")&&(n=n-1),this.isValidLI(i)&&n<this.maximumSelectionLength){this.updateListSelection(i,e),this.addListFocus(i),this.mode==="CheckBox"?(this.updateDelimView(),this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight(),this.checkPlaceholderSize(),this.enableGroupCheckBox&&!v(this.fields.groupBy)&&(s=i.firstElementChild.lastElementChild,this.findGroupStart(s),this.deselectHeader())):this.updateDelimeter(this.delimiterChar,e);var a=this.targetElement().trim()!=="";this.makeTextBoxEmpty(),this.mode!=="CheckBox"&&this.refreshListItems(i.textContent,a),this.changeOnBlur||this.updateValueState(e,this.value,this.tempValues),this.refreshPopup()}else!this.isValidLI(i)&&n<this.maximumSelectionLength&&(s=i.firstElementChild.lastElementChild,s.classList.contains("e-check")?this.selectAllItem(!1,e,i):this.selectAllItem(!0,e,i));this.refreshSelection(),this.closePopupOnSelect&&this.hidePopup(e)}var o=document.getElementsByClassName("e-selectall-parent")[0];if(o&&o.classList.contains("e-item-focus")){var l=o.childNodes[0];if(l.classList.contains("e-check")){l.classList.remove("e-check");var c={module:"CheckBoxSelection",enable:this.mode==="CheckBox",value:"check",name:"checkSelectAll"};this.notify("checkSelectAll",c),this.selectAllItem(!1,e,i)}else{l.classList.add("e-check");var c={module:"CheckBoxSelection",enable:this.mode==="CheckBox",value:"check",name:"checkSelectAll"};this.notify("checkSelectAll",c),this.selectAllItem(!0,e,i)}}this.refreshPlaceHolder()},t.prototype.refreshListItems=function(e,i){if((this.allowFiltering||this.mode==="CheckBox"&&this.enableSelectionOrder===!0||this.allowCustomValue)&&this.mainList&&this.listData){var n=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;if(this.enableVirtualization)if(this.allowCustomValue&&this.virtualCustomData&&e==null&&this.virtualCustomData&&this.viewPortInfo&&this.viewPortInfo.startIndex===0&&this.viewPortInfo.endIndex===this.itemCount)this.virtualCustomData=null,this.renderItems(this.mainData,this.fields);else if(this.allowFiltering&&i){if(this.updateInitialData(),this.onActionComplete(n,this.mainData),this.isVirtualTrackHeight=!1,this.list.getElementsByClassName("e-virtual-ddl")[0])this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight();else if(!this.list.querySelector(".e-virtual-ddl")&&this.skeletonCount>0){var s=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});s.style.cssText=this.GetVirtualTrackHeight(),this.popupWrapper.querySelector(".e-dropdownbase").appendChild(s)}}else this.onActionComplete(this.list,this.listData);else this.onActionComplete(n,this.mainData);this.focusAtLastListItem(e),this.value&&this.value.length&&this.refreshSelection()}else!v(this.fields.groupBy)&&this.value&&this.value.length&&this.refreshSelection()},t.prototype.removeSelectedChip=function(e){var i=this.chipCollectionWrapper.querySelector("span."+ap),n;if(i!==null){v(this.value)||(this.tempValues=this.allowObjectBinding?this.value.slice():this.value.slice()),n=i.nextElementSibling,n!==null&&(this.removeChipSelection(),this.addChipSelection(n,e));var s=this.allowObjectBinding?this.getDataByValue(this.getFormattedValue(i.getAttribute("data-value"))):i.getAttribute("data-value");this.removeValue(s,e),this.updateDelimeter(this.delimiterChar,e),this.makeTextBoxEmpty()}this.closePopupOnSelect&&this.hidePopup(e),this.checkPlaceholderSize()},t.prototype.moveByTop=function(e){var i=this.list.querySelectorAll("li."+$e.li),n;i.length>1&&(this.removeFocus(),n=e?0:i.length-1,this.addListFocus(i[n]),this.scrollBottom(i[n],n)),this.updateAriaAttribute()},t.prototype.clickHandler=function(e){var i=e.target,n=i.className,s=document.getElementsByClassName("e-selectall-parent")[0];(n==="e-input-filter e-input"||n==="e-input-group e-control-wrapper e-input-focus")&&s.classList.contains("e-item-focus")&&s.classList.remove("e-item-focus")},t.prototype.moveByList=function(e,i){if(this.list){var n=this.list.querySelectorAll("li."+$e.li+":not(."+un+"):not(.e-reorder-hide):not(.e-virtual-list-end)");this.mode==="CheckBox"&&this.enableGroupCheckBox&&!v(this.fields.groupBy)&&(n=this.list.querySelectorAll("li."+$e.li+",li."+$e.group+":not(."+un+"):not(.e-reorder-hide):not(.e-virtual-list-end)"));var s=this.list.querySelector("li."+$e.focus);this.enableVirtualization&&i&&!v(this.currentFocuedListElement)&&(s=this.getElementByValue(this.getFormattedValue(this.currentFocuedListElement.getAttribute("data-value"))));var a=-1,o=document.getElementsByClassName("e-selectall-parent")[0];if(this.mode==="CheckBox"&&this.showSelectAll&&e===1&&!v(o)&&!o.classList.contains("e-item-focus")&&this.list.getElementsByClassName("e-item-focus").length===0&&this.liCollections.length>1)!this.focusFirstListItem&&o.classList.contains("e-item-focus")?o.classList.remove("e-item-focus"):o.classList.contains("e-item-focus")||o.classList.add("e-item-focus");else if(n.length){this.mode==="CheckBox"&&this.showSelectAll&&!v(o&&e===-1)&&((!this.focusFirstListItem||e===1)&&o.classList.contains("e-item-focus")?o.classList.remove("e-item-focus"):this.focusFirstListItem&&!o.classList.contains("e-item-focus")&&!(e===1&&this.list.querySelector(".e-item-focus"))&&o.classList.add("e-item-focus"));for(var l=0;l<n.length;l++)if(n[l]===s){a=l;break}if(e>0)a<n.length-1&&(this.removeFocus(),this.enableVirtualization&&i?this.addListFocus(n[a]):this.enableVirtualization&&n[a+1].classList.contains("e-virtual-list")?this.addListFocus(n[this.skeletonCount]):this.addListFocus(n[++a]),a>-1&&(this.updateCheck(n[a]),this.scrollBottom(n[a],a),this.currentFocuedListElement=n[a]));else if(a>0)if(this.enableVirtualization){var c=n[a-1].classList.contains("e-virtual-list"),u=i?a:a-1;(i||!c)&&this.removeFocus(),(i||!c)&&(this.addListFocus(n[u]),this.updateCheck(n[u]),this.scrollTop(n[u],a),this.currentFocuedListElement=n[u])}else this.removeFocus(),this.addListFocus(n[--a]),this.updateCheck(n[a]),this.scrollTop(n[a],a)}}var d=this.list?this.list.querySelector(".e-item-focus"):null;if(this.isDisabledElement(d)){if(this.list.querySelectorAll(".e-list-item:not(.e-hide-listitem):not(.e-disabled)").length===0||this.keyCode===38&&this.mode==="CheckBox"&&this.enableGroupCheckBox&&!v(this.fields.groupBy)&&d===this.list.querySelector("li.e-list-group-item")){this.removeFocus();return}var l=this.getIndexByValue(d.getAttribute("data-value"));l===0&&(e=1),l===this.list.querySelectorAll(".e-list-item:not(.e-hide-listitem)").length-1&&(e=-1),this.moveByList(e)}},t.prototype.getElementByValue=function(e){for(var i,n=this.getItems(),s=0,a=n;s<a.length;s++){var o=a[s];if(this.getFormattedValue(o.getAttribute("data-value"))===e){i=o;break}}return i},t.prototype.updateCheck=function(e){if(this.mode==="CheckBox"&&this.enableGroupCheckBox&&!v(this.fields.groupBy)){var i=e.firstElementChild.lastElementChild;i.classList.contains("e-check")?e.classList.add("e-active"):e.classList.remove("e-active")}},t.prototype.moveBy=function(e,i){var n,s=this.chipCollectionWrapper.querySelectorAll("span."+T0),a=this.chipCollectionWrapper.querySelector("span."+ap);a===null?e<0&&this.addChipSelection(s[s.length-1],i):e<0?(n=a.previousElementSibling,n!==null&&(this.removeChipSelection(),this.addChipSelection(n,i))):(n=a.nextElementSibling,this.removeChipSelection(),n!==null&&this.addChipSelection(n,i))},t.prototype.chipClick=function(e){if(this.enabled){var i=Fe(e.target,"."+T0);this.removeChipSelection(),this.addChipSelection(i,e)}},t.prototype.removeChipSelection=function(){if(this.chipCollectionWrapper){var e=this.chipCollectionWrapper.querySelectorAll("span."+T0+"."+ap);if(e&&e.length>0)for(var i=0;i<e.length;i++)e[i].removeAttribute("aria-live");this.removeChipFocus()}},t.prototype.addChipSelection=function(e,i){pe([e],ap),e&&e.setAttribute("aria-live","polite"),this.trigger("chipSelection",i)},t.prototype.getVirtualDataByValue=function(e){if(!v(this.selectedListData)){var i=this.typeOfData(this.selectedListData).typeof;if(i==="string"||i==="number"||i==="boolean")for(var n=0,s=this.selectedListData;n<s.length;n++){var a=s[n];if(!v(a)&&a===e)return a}else for(var o=0,l=this.selectedListData;o<l.length;o++){var a=l[o];if(!v(a)&&Pe(this.fields.value?this.fields.value:"value",a)===e)return a}}return null},t.prototype.onChipRemove=function(e){if(!(e.which===3||e.button===2)&&this.enabled&&!this.readonly){var i=e.target.parentElement,n=i.getAttribute("data-value"),s=this.allowObjectBinding?this.enableVirtualization?this.getVirtualDataByValue(this.getFormattedValue(n)):this.getDataByValue(this.getFormattedValue(n)):this.getFormattedValue(n);if(this.allowCustomValue&&(n!=="false"&&s===!1||!v(s)&&s.toString()==="NaN")&&(s=n),this.isPopupOpen()&&this.mode!=="CheckBox"&&this.hidePopup(e),this.inputFocus||this.inputElement.focus(),this.removeValue(s,e),s=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",s):s,v(this.findListElement(this.list,"li","data-value",s))&&this.mainList&&this.listData){var a=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(a,this.mainData)}this.updateDelimeter(this.delimiterChar,e),this.placeholder&&this.floatLabelType==="Never"?(this.makeTextBoxEmpty(),this.checkPlaceholderSize()):this.inputElement.value="",e.preventDefault()}},t.prototype.makeTextBoxEmpty=function(){this.inputElement.value="",this.refreshPlaceHolder()},t.prototype.refreshPlaceHolder=function(){this.placeholder&&this.floatLabelType==="Never"?this.value&&this.value.length||!v(this.text)&&this.text!==""?this.inputElement.placeholder="":this.inputElement.placeholder=ok(this.placeholder):(this.setFloatLabelType(),this.element.querySelector(".e-multiselect .e-float-text-content")===null&&Rt.createSpanElement(this.overAllWrapper,this.createElement)),this.expandTextbox()},t.prototype.removeAllItems=function(e,i,n,s,a){var o=this.allowObjectBinding?this.indexOfObjectInArray(e,this.value):this.value.indexOf(e),l=this.value.slice(0);l.splice(o,1),this.setProperties({value:[].concat([],l)},!0),s.setAttribute("aria-selected","false");var c=this.hideSelectedItem?un:$e.selected;Oe([s],c),this.notify("activeList",{module:"CheckBoxSelection",enable:this.mode==="CheckBox",li:s,e:this,index:o}),this.invokeCheckboxSelection(s,i,n);var u=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",e):e;this.updateMainList(!0,u,a),this.updateChipStatus()},t.prototype.invokeCheckboxSelection=function(e,i,n){this.notify("updatelist",{module:"CheckBoxSelection",enable:this.mode==="CheckBox",li:e,e:i}),this.updateAriaActiveDescendant(),this.value&&this.value.length!==this.mainData.length&&this.mode==="CheckBox"&&this.showSelectAll&&!(this.isSelectAll||n)&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:this.mode==="CheckBox",value:"uncheck"})},t.prototype.removeValue=function(e,i,n,s){var a=this,o=this.allowObjectBinding?this.indexOfObjectInArray(e,this.value):this.value.indexOf(this.getFormattedValue(e));o===-1&&this.allowCustomValue&&!v(e)&&(o=this.allowObjectBinding?this.indexOfObjectInArray(e,this.value):this.value.indexOf(e.toString()));var l=i&&i.target;s=s||l&&l.classList.contains("e-close-hooker")?!0:null;var c=this.hideSelectedItem?un:$e.selected;if(o!==-1){var u=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",e):e,d=this.virtualSelectAll?null:this.findListElement(this.list,"li","data-value",u),p=this.allowObjectBinding?e:this.getDataByValue(e),m={e:i,item:d,itemData:p,isInteracted:!!i,cancel:!1};this.trigger("removing",m,function(y){if(y.cancel)a.removeIndex++;else{a.isRemoveSelection=a.enableVirtualization?!0:a.isRemoveSelection,a.currentRemoveValue=a.allowObjectBinding?Pe(a.fields.value?a.fields.value:"",e):e,a.virtualSelectAll=!1;var M=a.value.slice(0);if(M.splice(o,1),a.enableVirtualization&&a.selectedListData&&a.selectedListData.splice(o,1),a.setProperties({value:[].concat([],M)},!0),a.enableVirtualization){var w=o===0&&a.text.split(a.delimiterChar)&&a.text.split(a.delimiterChar).length===1?a.text.replace(a.text.split(a.delimiterChar)[o],""):o===0?a.text.replace(a.text.split(a.delimiterChar)[o]+a.delimiterChar,""):a.text.replace(a.delimiterChar+a.text.split(a.delimiterChar)[o],"");a.setProperties({text:w.toString()},!0)}if(d!==null){var b=a.allowObjectBinding?Pe(a.fields.value?a.fields.value:"",e):e,D=a.findListElement(a.mainList,"li","data-value",b);d.setAttribute("aria-selected","false"),Oe([d],c),D&&(D.setAttribute("aria-selected","false"),Oe([d,D],c)),a.notify("activeList",{module:"CheckBoxSelection",enable:a.mode==="CheckBox",li:d,e:a,index:o}),a.invokeCheckboxSelection(d,i,s)}var E=a.allowObjectBinding?Pe(a.fields.value?a.fields.value:"",e):e;a.hideSelectedItem&&a.fields.groupBy&&d&&a.hideGroupItem(E),a.hideSelectedItem&&a.fixedHeaderElement&&a.fields.groupBy&&a.mode!=="CheckBox"&&a.isPopupOpen()&&r.prototype.scrollStop.call(a),a.updateMainList(!0,E),a.removeChip(E,s),a.updateChipStatus();var N=a.value&&a.value.length?a.value.length:0;if(N<a.maximumSelectionLength){var B=a.list.querySelectorAll("li."+$e.li+":not(.e-active)");Oe(B,"e-disable");var P=a.mainList.querySelectorAll("li."+$e.li+":not(.e-active)");Oe(P,"e-disable")}a.trigger("removed",y);var C=i&&i.currentTarget,k=C&&C.classList.contains("e-selectall-parent")?!0:null;if(!a.changeOnBlur&&!s&&i&&n&&!k&&a.isSelectAllTarget&&a.updateValueState(i,a.value,a.tempValues),n&&(a.selectAllEventData.push(p),a.selectAllEventEle.push(d)),n===1){a.changeOnBlur||a.updateValueState(i,a.value,a.tempValues);var _={event:i,items:a.selectAllEventEle,itemData:a.selectAllEventData,isInteracted:!!i,isChecked:!1};a.trigger("selectedAll",_),a.selectAllEventData=[],a.selectAllEventEle=[]}s&&(n===1||n===null)&&a.clearAllCallback(i,s),a.isPopupOpen()&&d&&d.parentElement.classList.contains("e-reorder")&&(a.hideSelectedItem&&a.value&&Array.isArray(a.value)&&a.value.length>0&&a.totalItemsCount(),a.notify("setCurrentViewDataAsync",{module:"VirtualScroll"}))}})}},t.prototype.updateMainList=function(e,i,n){if(this.allowFiltering||this.mode==="CheckBox"){var s=n||this.findListElement(this.mainList,"li","data-value",i);s&&(e?(s.setAttribute("aria-selected","false"),Oe([s],this.hideSelectedItem?un:$e.selected),this.mode==="CheckBox"&&Oe([s.firstElementChild.lastElementChild],"e-check")):(s.setAttribute("aria-selected","true"),pe([s],this.hideSelectedItem?un:$e.selected),this.mode==="CheckBox"&&pe([s.firstElementChild.lastElementChild],"e-check")))}},t.prototype.removeChip=function(e,i){if(this.chipCollectionWrapper&&!(this.enableVirtualization&&i)){var n=this.findListElement(this.chipCollectionWrapper,"span","data-value",e);n&&ji(n)}},t.prototype.setWidth=function(e){v(e)||(typeof e=="number"?this.overAllWrapper.style.width=bt(e):typeof e=="string"&&(this.overAllWrapper.style.width=e.match(/px|%|em/)?e:bt(e)))},t.prototype.updateChipStatus=function(){this.value&&this.value.length?(v(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display=""),(this.mode==="Delimiter"||this.mode==="CheckBox")&&this.showDelimWrapper(),this.showOverAllClear()):(v(this.chipCollectionWrapper)||(this.chipCollectionWrapper.style.display="none"),v(this.delimiterWrapper)||(this.delimiterWrapper.style.display="none"),this.hideOverAllClear())},t.prototype.indexOfObjectInArray=function(e,i){for(var n=function(o){var l=i[o];if(Object.keys(e).every(function(c){return l.hasOwnProperty(c)&&l[c]===e[c]}))return{value:o}},s=0;s<i.length;s++){var a=n(s);if(typeof a=="object")return a.value}return-1},t.prototype.addValue=function(e,i,n){this.value||(this.value=[]);var s=this.allowObjectBinding?this.getDataByValue(e):e;if(this.allowObjectBinding&&!this.isObjectInArray(this.getDataByValue(e),this.value)||!this.allowObjectBinding&&this.value.indexOf(s)<0){if(this.setProperties({value:[].concat([],this.value,[s])},!0),this.enableVirtualization&&!this.isSelectAllLoop){var a=this.viewWrapper.innerHTML,o=void 0;a+=this.value.length===1?"":this.delimiterChar+" ",o=this.getOverflowVal(this.value.length-1),a+=o,o=this.viewWrapper.innerHTML,this.updateWrapperText(this.viewWrapper,a)}if(this.enableVirtualization&&this.mode==="CheckBox"){var l=[];this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value[this.value.length-1]):this.value[this.value.length-1];var o=i,c=this.text!=null&&this.text!==""?this.text+this.delimiterChar+o:o;l.push(c),this.setProperties({text:l.toString()},!0)}}var u=this.findListElement(this.list,"li","data-value",e);this.removeFocus(),u&&(this.addListFocus(u),this.addListSelection(u)),this.mode!=="Delimiter"&&this.mode!=="CheckBox"&&this.addChip(i,e,n),this.hideSelectedItem&&this.fields.groupBy&&this.hideGroupItem(e),this.updateChipStatus(),this.checkMaxSelection()},t.prototype.updateListItemsState=function(e){var i=e.querySelectorAll("li."+$e.li+".e-active");Oe(i,"e-disable");var n=e.querySelectorAll("li."+$e.li+":not(.e-active)");pe(n,"e-disable")},t.prototype.checkMaxSelection=function(){var e=this.value&&this.value.length?this.value.length:0;if(this.maximumSelectionLength===0){this.updateListItemsState(this.list),this.mainList&&this.updateListItemsState(this.mainList);return}if(e===this.maximumSelectionLength){var i=this.list.querySelectorAll("li."+$e.li+".e-active");Oe(i,"e-disable");var n=this.list.querySelectorAll("li."+$e.li+":not(.e-active)");pe(n,"e-disable")}if(e<this.maximumSelectionLength){var s=this.list.querySelectorAll("li."+$e.li);Oe(s,"e-disable")}},t.prototype.dispatchSelect=function(e,i,n,s,a,o,l){var c=this,u=this.listData;if(this.initStatus&&!s&&(!this.allowObjectBinding||this.allowObjectBinding&&e)){e=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",e):e;var d=o||this.getDataByValue(e),p={e:i,item:n,itemData:d,isInteracted:!!i,cancel:!1};this.trigger("select",p,function(m){if(!m.cancel){if(a&&(c.selectAllEventData.push(d),c.selectAllEventEle.push(n)),a===1){var y={event:i,items:c.selectAllEventEle,itemData:c.selectAllEventData,isInteracted:!!i,isChecked:!0};c.trigger("selectedAll",y),c.selectAllEventData=[]}c.allowCustomValue&&c.isServerRendered&&c.listData!==u&&(c.listData=u),e=c.allowObjectBinding?c.getDataByValue(e):e,c.enableVirtualization&&(v(c.selectedListData)?c.selectedListData=c.allowObjectBinding?[e]:[c.getDataByValue(e)]:o?Array.isArray(c.selectedListData)?c.selectedListData.push(o):c.selectedListData=[c.selectedListData,o]:Array.isArray(c.selectedListData)?c.selectedListData.push(c.allowObjectBinding?e:c.getDataByValue(e)):c.selectedListData=[c.selectedListData,c.allowObjectBinding?e:c.getDataByValue(e)]),(c.enableVirtualization&&e||!c.enableVirtualization)&&c.updateListSelectEventCallback(e,n,i,l),c.hideSelectedItem&&c.fixedHeaderElement&&c.fields.groupBy&&c.mode!=="CheckBox"&&r.prototype.scrollStop.call(c)}})}},t.prototype.addChip=function(e,i,n){this.chipCollectionWrapper&&this.getChip(e,i,n)},t.prototype.removeChipFocus=function(){var e=this.chipCollectionWrapper.querySelectorAll("span."+T0+"."+ap);if(Oe(e,ap),Re.isDevice)for(var i=this.chipCollectionWrapper.querySelectorAll("span."+cE.split(" ")[0]),n=0;n<i.length;n++)i[n].style.display="none"},t.prototype.onMobileChipInteraction=function(e){var i=Fe(e.target,"."+T0),n=i.querySelector("span."+cE.split(" ")[0]);this.enabled&&!this.readonly&&(i.classList.contains(ap)||(this.removeChipFocus(),n.style.display="",i.classList.add(ap)),this.refreshPopup(),e.preventDefault())},t.prototype.multiCompiler=function(e){var i=!1;if(typeof e!="function"&&e)try{i=!!Ei(e,document).length}catch{i=!1}return i},t.prototype.encodeHtmlEntities=function(e){return e.replace(/[\u00A0-\u9999<>&]/g,function(i){return"&#"+i.charCodeAt(0)+";"})},t.prototype.getChip=function(e,i,n){var s=this,a={text:i,value:i},o=this.createElement("span",{className:T0,attrs:{"data-value":i,title:e,role:"option","aria-selected":"true"}}),l,c=this.createElement("span",{className:Ibe}),u=this.createElement("span",{className:cE});if(this.mainData&&(a=this.getDataByValue(i)),this.valueTemplate&&!v(a)){var d=this.multiCompiler(this.valueTemplate);typeof this.valueTemplate!="function"&&d?l=jn(Et(this.valueTemplate,document).innerHTML.trim()):l=jn(this.valueTemplate);var p=l(a,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,c);p&&p.length>0&&ri(p,c),this.renderReactTemplates()}else this.enableHtmlSanitizer?c.innerText=e:c.innerHTML=this.encodeHtmlEntities(e.toString());o.appendChild(c);var m={isInteracted:!!n,itemData:a,e:n,setClass:function(y){pe([o],y)},cancel:!1};this.isPreventChange=this.isAngular&&this.preventChange,this.trigger("tagging",m,function(y){y.cancel||(Re.isDevice?(o.classList.add(jbe),ri([u],o),u.style.display="none",se.add(o,"click",s.onMobileChipInteraction,s)):(se.add(o,"mousedown",s.chipClick,s),s.showClearButton&&o.appendChild(u)),se.add(u,"mousedown",s.onChipRemove,s),s.chipCollectionWrapper.appendChild(o),!s.changeOnBlur&&n&&s.updateValueState(n,s.value,s.tempValues))})},t.prototype.calcPopupWidth=function(){var e=bt(this.popupWidth);if(e.indexOf("%")>-1){var i=this.componentWrapper.offsetWidth*parseFloat(e)/100;e=i.toString()+"px"}return this.allowResize&&this.resizeWidth?this.resizeWidth+"px":e},t.prototype.mouseIn=function(){this.enabled&&!this.readonly&&this.showOverAllClear()},t.prototype.mouseOut=function(){this.inputFocus||(this.overAllClear.style.display="none")},t.prototype.listOption=function(e,i){var n=!v(i.iconCss),s=v(i.properties)?i:i.properties;return this.listCurrentOptions=i.text!==null||i.value!==null?{fields:s,showIcon:n,ariaAttributes:{groupItemRole:"presentation"}}:{fields:{value:"text"}},qe(this.listCurrentOptions,this.listCurrentOptions,i,!0),this.mode==="CheckBox"&&this.notify("listoption",{module:"CheckBoxSelection",enable:this.mode==="CheckBox",dataSource:e,fieldProperty:s}),this.listCurrentOptions},t.prototype.renderPopup=function(){var e=this;if(this.list||r.prototype.render.call(this),this.popupObj&&document.body.contains(this.popupObj.element)&&this.allowFiltering){this.refreshPopup();return}if(!this.popupObj&&!v(this.popupWrapper)){document.body.appendChild(this.popupWrapper);var i=this.popupWrapper.querySelector("."+Bbe);this.mode==="CheckBox"&&!this.allowFiltering&&i&&this.filterParent&&(i.remove(),this.filterParent=null);var n=parseInt(this.popupHeight,10);if(this.popupWrapper.style.visibility="hidden",this.headerTemplate&&(this.setHeaderTemplate(),n-=this.header.offsetHeight,this.isUpdateHeaderHeight=this.header.offsetHeight!==0),ri([this.list],this.popupWrapper),!this.list.classList.contains($e.noData)&&this.getItems()[1]&&(this.listItemHeight=this.getItems()[1].offsetHeight+parseInt(window.getComputedStyle(this.getItems()[1]).marginBottom,10)),this.enableVirtualization&&!this.list.classList.contains($e.noData)){if(!this.list.querySelector(".e-virtual-ddl-content")&&this.list.querySelector(".e-list-parent")){var s=this.createElement("div",{className:"e-virtual-ddl-content"});s.style.cssText=this.getTransformValues(),this.list.appendChild(s).appendChild(this.list.querySelector(".e-list-parent"))}else this.list.querySelector(".e-virtual-ddl-content")&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues());if(this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll("."+$e.li),this.virtualItemCount=this.itemCount,this.mode!=="CheckBox"&&this.totalItemsCount(),this.list.querySelector(".e-virtual-ddl"))this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight();else{var a=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});a.style.cssText=this.GetVirtualTrackHeight(),this.popupWrapper.querySelector(".e-dropdownbase").appendChild(a)}}if(this.footerTemplate&&(this.setFooterTemplate(),n-=this.footer.offsetHeight,this.isUpdateFooterHeight=this.footer.offsetHeight!==0),this.mode==="CheckBox"&&this.showSelectAll?(this.notify("selectAll",{module:"CheckBoxSelection",enable:this.mode==="CheckBox"}),n-=this.selectAllHeight):this.mode==="CheckBox"&&!this.showSelectAll&&!this.headerTemplate&&!this.footerTemplate?(this.notify("selectAll",{module:"CheckBoxSelection",enable:this.mode==="CheckBox"}),n=parseInt(this.popupHeight,10)):this.mode==="CheckBox"&&!this.showSelectAll&&(this.notify("selectAll",{module:"CheckBoxSelection",enable:this.mode==="CheckBox"}),n=parseInt(this.popupHeight,10),this.headerTemplate&&this.header&&(n-=this.header.offsetHeight),this.footerTemplate&&this.footer&&(n-=this.footer.offsetHeight)),this.mode==="CheckBox"){var o={module:"CheckBoxSelection",enable:this.mode==="CheckBox",popupElement:this.popupWrapper};this.allowFiltering&&(this.notify("searchBox",o),n-=this.searchBoxHeight),pe([this.popupWrapper],"e-checkbox")}this.popupHeight!=="auto"?(this.list.style.maxHeight=bt(n),this.popupWrapper.style.maxHeight=bt(this.popupHeight)):this.list.style.maxHeight=bt(this.popupHeight),this.popupObj=new xh(this.popupWrapper,{width:this.calcPopupWidth(),targetType:"relative",position:this.enableRtl?{X:"right",Y:"bottom"}:{X:"left",Y:"bottom"},relateTo:this.overAllWrapper,collision:this.enableRtl?{X:"fit",Y:"flip"}:{X:"flip",Y:"flip"},offsetY:1,enableRtl:this.enableRtl,zIndex:this.zIndex,close:function(){if(e.popupObj.element.parentElement){e.popupObj.unwireScrollEvents();var l=e.popupWrapper.querySelector("."+L4);e.mode==="CheckBox"&&l&&document.activeElement===l&&l.blur(),zt(e.popupObj.element)}},open:function(){if(e.popupObj.resolveCollision(),!e.isFirstClick){var l=e.list.querySelector("ul");l&&(e.mode!=="CheckBox"&&(e.allowFiltering||e.allowCustomValue)&&(e.targetElement().trim()!==""||e.targetElement()!==""&&e.allowCustomValue)||(e.mainList=l.cloneNode?l.cloneNode(!0):l)),e.isFirstClick=!0}e.popupObj.wireScrollEvents(),!(e.mode!=="CheckBox"&&(e.allowFiltering||e.allowCustomValue)&&(e.targetElement().trim()!==""||e.targetElement()!==""&&e.allowCustomValue))&&!e.enableVirtualization&&(e.loadTemplate(),e.enableVirtualization&&e.mode==="CheckBox"&&e.UpdateSkeleton()),e.isPreventScrollAction=!0,e.setScrollPosition(),!e.list.classList.contains($e.noData)&&e.getItems()[1]&&e.getItems()[1].offsetHeight!==0&&(e.listItemHeight=e.getItems()[1].offsetHeight+parseInt(window.getComputedStyle(e.getItems()[1]).marginBottom,10),e.list.getElementsByClassName("e-virtual-ddl-content")[0]&&(e.list.getElementsByClassName("e-virtual-ddl-content")[0].style=e.getTransformValues())),e.allowFiltering&&e.notify("inputFocus",{module:"CheckBoxSelection",enable:e.mode==="CheckBox",value:"focus"}),e.enableVirtualization&&(e.notify("bindScrollEvent",{module:"VirtualScroll",component:e.getModuleName(),enable:e.enableVirtualization}),setTimeout(function(){e.value?e.updateSelectionList():e.viewPortInfo&&e.viewPortInfo.offsets.top&&(e.list.scrollTop=e.viewPortInfo.offsets.top)},5))},targetExitViewport:function(){Re.isDevice||e.hidePopup()}}),this.checkCollision(this.popupWrapper),this.popupContentElement=this.popupObj.element.querySelector(".e-content"),this.mode==="CheckBox"&&Re.isDevice&&this.allowFiltering&&this.isDeviceFullScreen&&this.notify("deviceSearchBox",{module:"CheckBoxSelection",enable:this.mode==="CheckBox"}),this.allowResize&&this.setResize(),this.popupObj.close(),this.popupWrapper.style.visibility=""}},t.prototype.checkCollision=function(e){if(!(this.mode==="CheckBox"&&Re.isDevice&&this.allowFiltering&&this.isDeviceFullScreen)){var i=gp(e);i.length>0&&(e.style.marginTop=-parseInt(getComputedStyle(e).marginTop,10)+"px"),this.popupObj.resolveCollision()}},t.prototype.setHeaderTemplate=function(){var e;this.header&&this.header.remove(),this.header=this.createElement("div"),pe([this.header],zbe);var i=this.multiCompiler(this.headerTemplate);typeof this.headerTemplate!="function"&&i?e=jn(Et(this.headerTemplate,document).innerHTML.trim()):e=jn(this.headerTemplate);var n=e({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);n&&n.length>0&&ri(n,this.header),this.mode==="CheckBox"&&this.showSelectAll?Ln([this.header],this.popupWrapper):ri([this.header],this.popupWrapper),se.add(this.header,"mousedown",this.onListMouseDown,this)},t.prototype.setFooterTemplate=function(){var e;this.footer&&this.footer.remove(),this.footer=this.createElement("div"),pe([this.footer],_be);var i=this.multiCompiler(this.footerTemplate);typeof this.footerTemplate!="function"&&i?e=jn(Et(this.footerTemplate,document).innerHTML.trim()):e=jn(this.footerTemplate);var n=e({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);n&&n.length>0&&ri(n,this.footer),ri([this.footer],this.popupWrapper),se.add(this.footer,"mousedown",this.onListMouseDown,this)},t.prototype.updateInitialData=function(){var e=this.selectData;if(this.renderItems(e,this.fields,!1,this.isClearAllAction),this.list.scrollTop=0,this.virtualListInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount},this.previousStartIndex=0,this.previousEndIndex=this.itemCount,this.dataSource instanceof ut?this.remoteDataCount>=0?this.totalItemCount=this.dataCount=this.remoteDataCount:this.resetList(this.dataSource):this.totalItemCount=this.dataCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.mode!=="CheckBox"&&(this.totalItemCount=this.value&&this.value.length?this.totalItemCount-this.value.length:this.totalItemCount),this.getSkeletonCount(),this.skeletonCount=this.totalItemCount!==0&&this.totalItemCount<this.itemCount*2&&(!(this.dataSource instanceof ut)||this.dataSource instanceof ut&&this.totalItemCount<=this.itemCount)?0:this.skeletonCount,this.UpdateSkeleton(),this.list.getElementsByClassName("e-virtual-ddl")[0])this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight();else if(!this.list.querySelector(".e-virtual-ddl")&&this.skeletonCount>0){var i=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});i.style.cssText=this.GetVirtualTrackHeight(),this.popupWrapper.querySelector(".e-dropdownbase").appendChild(i)}this.listData=e,this.liCollections=this.list.querySelectorAll(".e-list-item"),this.list.getElementsByClassName("e-virtual-ddl-content")[0]&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues()),this.enableVirtualization&&this.notify("setGeneratedData",{module:"VirtualScroll"})},t.prototype.clearAll=function(e){if(this.enabled&&!this.readonly){var i=void 0;if(this.setDynValue=!1,this.isClearAllAction=!0,this.value&&this.value.length>0){this.allowFiltering&&(this.refreshListItems(null),this.mode==="CheckBox"&&this.targetInputElement&&(this.targetInputElement.value=""));var n=this.list&&this.list.querySelectorAll("li.e-list-item");if(n&&n.length>0)this.selectAllItems(!1,e);else for(this.removeIndex=0,i=this.value[this.removeIndex];this.removeIndex<this.value.length;i=this.value[this.removeIndex])this.removeValue(i,e,null,!0);this.selectedElementID=null,this.inputElement.removeAttribute("aria-activedescendant")}else this.clearAllCallback(e);this.checkAndResetCache(),this.element.querySelector(".e-multiselect .e-float-text-content")===null&&Rt.createSpanElement(this.overAllWrapper,this.createElement),this.calculateWidth(),!v(this.overAllWrapper)&&!v(this.overAllWrapper.getElementsByClassName("e-ddl-icon")[0]&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0]&&this.floatLabelType!=="Never")&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon"),this.enableVirtualization&&(this.updateInitialData(),this.chipCollectionWrapper&&(this.chipCollectionWrapper.innerHTML=""),this.isCustomDataUpdated||this.notify("setGeneratedData",{module:"VirtualScroll"})),this.enableVirtualization&&(this.list.scrollTop=0,this.virtualListInfo=null,this.previousStartIndex=0,this.previousEndIndex=this.itemCount),this.isClearAllAction=!1}this.isClearAllItem=!0,se.add(document,"mouseup",this.preventSelection,this)},t.prototype.preventSelection=function(e){this.isClearAllItem&&e.stopPropagation(),this.isClearAllItem=!1,se.remove(document,"mouseup",this.preventSelection)},t.prototype.clearAllCallback=function(e,i){var n=this.value?this.value.slice():[];if(this.mainList&&this.listData&&(this.allowFiltering&&this.mode!=="CheckBox"||this.allowCustomValue)){var s=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(s,this.mainData)}this.focusAtFirstListItem(),this.updateDelimeter(this.delimiterChar,e),this.mode!=="Box"&&(!this.inputFocus||this.mode==="CheckBox")&&this.updateDelimView(),this.inputElement.value!==""&&(this.makeTextBoxEmpty(),this.search(null)),this.checkPlaceholderSize(),this.isPopupOpen()&&this.refreshPopup(),this.allowResize&&this.setResize(),this.inputFocus||(this.changeOnBlur&&this.updateValueState(e,this.value,n),this.mode!=="CheckBox"&&this.inputElement.focus()),this.mode==="CheckBox"&&(this.refreshPlaceHolder(),this.refreshInputHight(),this.changeOnBlur&&i&&(v(this.value)||this.value.length===0)&&this.updateValueState(e,this.value,this.tempValues)),!this.changeOnBlur&&i&&(v(this.value)||this.value.length===0)&&this.updateValueState(e,this.value,this.tempValues),this.mode==="CheckBox"&&this.enableGroupCheckBox&&!v(this.fields.groupBy)&&this.updateListItems(this.list.querySelectorAll("li.e-list-item"),this.mainList.querySelectorAll("li.e-list-item")),e.preventDefault()},t.prototype.windowResize=function(){this.refreshPopup(),(!this.inputFocus||this.mode==="CheckBox")&&this.viewWrapper&&this.viewWrapper.parentElement&&this.updateDelimView()},t.prototype.resetValueHandler=function(e){if(!v(this.inputElement)){var i=Fe(this.inputElement,"form");if(i&&e.target===i){var n=this.element.tagName===this.getNgDirective()?null:this.element.getAttribute("data-initial-value");this.text=n}}},t.prototype.wireEvent=function(){se.add(this.componentWrapper,"mousedown",this.wrapperClick,this),se.add(window,"resize",this.windowResize,this),se.add(this.inputElement,"focus",this.focusInHandler,this),se.add(this.inputElement,"keydown",this.onKeyDown,this),se.add(this.inputElement,"keyup",this.keyUp,this),this.mode!=="CheckBox"&&se.add(this.inputElement,"input",this.onInput,this),se.add(this.inputElement,"blur",this.onBlurHandler,this),se.add(this.componentWrapper,"mouseover",this.mouseIn,this);var e=Fe(this.inputElement,"form");e&&se.add(e,"reset",this.resetValueHandler,this),se.add(this.componentWrapper,"mouseout",this.mouseOut,this),se.add(this.overAllClear,"mousedown",this.clearAll,this),se.add(this.inputElement,"paste",this.pasteHandler,this)},t.prototype.onInput=function(e){this.keyDownStatus?this.isValidKey=!0:this.isValidKey=!1,this.keyDownStatus=!1,Re.isDevice&&Re.info.name==="mozilla"&&this.search(e)},t.prototype.pasteHandler=function(e){var i=this;setTimeout(function(){i.expandTextbox(),i.search(e)})},t.prototype.performFiltering=function(e){var i=this,n={preventDefaultAction:!1,text:this.targetElement(),updateData:function(s,a,o){n.cancel||(i.isFiltered=!0,i.customFilterQuery=a,i.remoteFilterAction=!0,i.isCustomFiltering=!0,i.dataUpdater(s,a,o))},event:e,cancel:!1};this.trigger("filtering",n,function(s){i.isFilterPrevented=s.cancel,s.cancel||!i.isFiltered&&!s.preventDefaultAction&&(i.isFilterAction=!0,i.isFilteringAction=!0,i.dataSource instanceof ut&&i.allowCustomValue&&(i.isCustomRendered=!1),i.dataUpdater(i.dataSource,null,i.fields),i.isFilteringAction=!1)})},t.prototype.search=function(e){if(this.preventSetCurrentData=!1,this.firstItem=this.dataSource&&this.dataSource.length>0?this.dataSource[0]:null,v(e)||(this.keyCode=e.keyCode),!this.isPopupOpen()&&this.openOnClick&&this.showPopup(e),this.openClick(e),this.checkTextLength()&&!this.allowFiltering&&!v(e)&&e.keyCode!==8)this.focusAtFirstListItem();else{var i=this.targetElement();if(this.allowFiltering)this.allowCustomValue&&(this.isRemoteSelection=!0),this.checkAndResetCache(),this.isRequesting=!1,this.targetElement()!==""&&this.debounceDelay>0?this.debouncedFiltering(e,this.debounceDelay):this.performFiltering(e);else if(this.allowCustomValue){var n=new di;n=this.allowFiltering&&i!==""?n.where(this.fields.text,"startswith",i,this.ignoreCase,this.ignoreAccent):n,this.enableVirtualization?this.dataUpdater(this.dataSource,n,this.fields):this.dataUpdater(this.mainData,n,this.fields),this.UpdateSkeleton()}else{var s=this.list.querySelectorAll("li."+$e.li+":not(.e-hide-listitem)"),a=this.typeOfData(this.listData).typeof,o=Ny(this.targetElement(),s,"StartsWith",this.ignoreCase);if(this.enableVirtualization&&this.targetElement().trim()!==""&&!this.allowFiltering){var l=!1;for((this.viewPortInfo.endIndex>=this.incrementalEndIndex&&this.incrementalEndIndex<=this.totalItemCount||this.incrementalEndIndex===0)&&(l=!0,this.incrementalStartIndex=0,this.incrementalEndIndex=100>this.totalItemCount?this.totalItemCount:100,this.updateIncrementalInfo(this.incrementalStartIndex,this.incrementalEndIndex),l=!1),(this.viewPortInfo.startIndex!==0||l)&&this.updateIncrementalView(0,this.itemCount),o=Ny(this.targetElement(),this.incrementalLiCollections,this.filterType,!0,this.listData,this.fields,a);v(o)&&this.incrementalEndIndex<this.totalItemCount&&(this.incrementalStartIndex=this.incrementalEndIndex,this.incrementalEndIndex=this.incrementalEndIndex+100>this.totalItemCount?this.totalItemCount:this.incrementalEndIndex+100,this.updateIncrementalInfo(this.incrementalStartIndex,this.incrementalEndIndex),l=!0,(this.viewPortInfo.startIndex!==0||l)&&this.updateIncrementalView(0,this.itemCount),o=Ny(this.targetElement(),this.incrementalLiCollections,this.filterType,!0,this.listData,this.fields,a),!!v(o));)if(v(o)&&this.incrementalEndIndex>=this.totalItemCount){this.incrementalStartIndex=0,this.incrementalEndIndex=100>this.totalItemCount?this.totalItemCount:100;break}if(o.index&&(!(this.viewPortInfo.startIndex>=o.index)||!(o.index>=this.viewPortInfo.endIndex))){var c=o.index-(this.itemCount/2-2)>0?o.index-(this.itemCount/2-2):0,u=c+this.itemCount>this.totalItemCount?this.totalItemCount:c+this.itemCount;c!==this.viewPortInfo.startIndex&&this.updateIncrementalView(c,u)}if(v(o.item))this.updateIncrementalView(0,this.itemCount),this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues(),this.list.scrollTop=0;else{var d=this.getIndexByValue(o.item.getAttribute("data-value"))-this.skeletonCount;if(d>this.itemCount/2){var c=this.viewPortInfo.startIndex+(this.itemCount/2-2)<this.totalItemCount?this.viewPortInfo.startIndex+(this.itemCount/2-2):this.totalItemCount,u=this.viewPortInfo.startIndex+this.itemCount>this.totalItemCount?this.totalItemCount:this.viewPortInfo.startIndex+this.itemCount;this.updateIncrementalView(c,u)}o.item=this.getElementByValue(o.item.getAttribute("data-value"))}o&&o.item&&(o.item=this.getElementByValue(o.item.getAttribute("data-value")))}o&&o.item?(this.addListFocus(o.item),this.list.scrollTop=o.item.offsetHeight*o.index):this.targetElement()!==""?this.removeFocus():this.focusAtFirstListItem()}}this.enableVirtualization&&this.allowFiltering&&this.getFilteringSkeletonCount()},t.prototype.preRender=function(){this.allowFiltering===null&&(this.allowFiltering=this.mode==="CheckBox"),this.preventSetCurrentData=!1,this.initializeData(),this.updateDataAttribute(this.htmlAttributes),r.prototype.preRender.call(this)},t.prototype.getLocaleName=function(){return"multi-select"},t.prototype.initializeData=function(){this.mainListCollection=[],this.beforePopupOpen=!1,this.isFilterAction=!1,this.remoteFilterAction=!1,this.isFirstClick=!1,this.mobFilter=!0,this.isFiltered=!1,this.focused=!0,this.initial=!0,this.backCommand=!0,this.isCustomRendered=!1,this.isRemoteSelection=!1,this.isSelectAllTarget=!0,this.isaddNonPresentItems=!1,this.viewPortInfo={currentPageNumber:null,direction:null,sentinelInfo:{},offsets:{},startIndex:0,endIndex:this.itemCount}},t.prototype.updateData=function(e,i,n){var s="",a=this.mode==="Delimiter"||this.mode==="CheckBox",o=[],l,c=this.listData;if(this.enableVirtualization||(this.listData=this.mainData),!v(this.hiddenElement)&&!this.enableVirtualization&&(this.hiddenElement.innerHTML=""),!v(this.value)){for(var u=this.value.length,d="",p=function(N){var B=m.allowObjectBinding?Pe(m.fields.value?m.fields.value:"",m.value[N]):m.value[N],P=m.findListElement(v(m.mainList)?m.ulElement:m.mainList,"li","data-value",B);if(m.enableVirtualization&&(P=m.findListElement(v(m.list)?m.ulElement:m.list,"li","data-value",B)),v(P)&&!m.allowCustomValue&&!m.enableVirtualization&&m.listData&&m.listData.length>0)m.value.splice(N,1),N-=1,u-=1;else{if(m.listData)if(m.enableVirtualization){a&&!m.isDynamicRemoteVirtualData&&!n&&(s=m.delimiterWrapper&&m.delimiterWrapper.innerHTML===""?s:m.delimiterWrapper.innerHTML);var C=m.allowObjectBinding?Pe(m.fields.value?m.fields.value:"",m.value[m.value.length-1]):m.value[m.value.length-1];if(m.isRemoveSelection)s=m.text.replace(/,/g,e+" ")+e+" ",o=m.text.split(e);else{l=n&&a?m.text.replace(/,/g,e+" "):m.getTextByValue(C);var k=m.isDynamicRemoteVirtualData&&C!=null&&C!==""&&!n?m.getTextByValue(C):n?m.text:m.text&&m.text!==""?m.text+m.delimiterChar+l:l;s+=l+e+" ",o.push(k),d=m.hiddenElement.innerHTML}if(i&&i.currentTarget&&i.currentTarget.classList.contains("e-chips-close")||i&&i.key==="Backspace"){var _=i.target.parentElement.getAttribute("data-value");if(i.key==="Backspace"){var H=m.hiddenElement.lastChild;H&&m.hiddenElement.removeChild(H)}else m.hiddenElement.childNodes.forEach(function(j){j.value===_&&j.parentNode.removeChild(j)});d=m.hiddenElement.innerHTML}else d+="<option selected value='"+C+"'>"+N+"</option>";return y=N,"break"}else l=m.getTextByValue(B);else l=B;s+=l+e+" ",o.push(l)}d+='<option selected value="'+B+'">'+N+"</option>",y=N},m=this,y,M=0;M<u;M++){var w=p(M);if(M=y,w==="break")break}v(this.hiddenElement)||(this.isRemoveSelection?(this.findListElement(this.hiddenElement,"option","value",this.currentRemoveValue)&&this.hiddenElement.removeChild(this.findListElement(this.hiddenElement,"option","value",this.currentRemoveValue)),this.isRemoveSelection=!1):this.hiddenElement.innerHTML=d)}var b=i&&i.target&&i.target.classList.contains("e-chips-close");(!this.enableVirtualization||this.enableVirtualization&&this.mode!=="CheckBox"&&!b)&&this.setProperties({text:o.toString()},!0),a&&(this.updateWrapperText(this.delimiterWrapper,s),this.delimiterWrapper.setAttribute("id",Ha("delim_val")),this.inputElement.setAttribute("aria-describedby",this.delimiterWrapper.id));var D=i&&i.target,E=D&&D.classList.contains("e-close-hooker")?!0:null;(!this.changeOnBlur&&i&&!E||this.isSelectAll)&&(this.isSelectAll=!1,this.updateValueState(i,this.value,this.tempValues)),this.listData=c,this.addValidInputClass()},t.prototype.initialTextUpdate=function(){if(v(this.text))this.setProperties({value:null},!0);else{for(var e=this.text.split(this.delimiterChar),i=[],n=0;e.length>n;n++){var s=this.getValueByText(e[n]);v(s)?this.allowCustomValue&&i.push(e[n]):i.push(s)}if(i&&i.length){var a=this.allowObjectBinding?this.getDataByValue(i):i;this.setProperties({value:a},!0)}}},t.prototype.renderList=function(e){!e&&this.allowCustomValue&&this.list&&(this.list.textContent===this.noRecordsTemplate||this.list.querySelector(".e-ul")&&this.list.querySelector(".e-ul").childElementCount===0)&&(e=!0),r.prototype.render.call(this,null,e),this.totalItemCount=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.unwireListEvents(),this.wireListEvents()},t.prototype.initialValueUpdate=function(e,i){if(this.list){var n=void 0,s=void 0,a=void 0;if(this.chipCollectionWrapper&&(this.chipCollectionWrapper.innerHTML=""),this.removeListSelection(),!v(this.value))for(var o=0;!v(this.value[o]);o++){a=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value[o]):this.value[o],s=this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",a);var l=!1;if(this.enableVirtualization){if(n=null,e!=null&&e.length>0){for(var c=0;c<e.length;c++)if(this.isPrimitiveData&&e[c]===a||!this.isPrimitiveData&&Pe(this.fields.value?this.fields.value:"value",e[c])===a){n=this.isPrimitiveData?e[c]:Pe(this.fields.text,e[c]),this.enableVirtualization&&(v(this.selectedListData)?this.selectedListData=[e[c]]:(this.allowObjectBinding&&!this.isObjectInArray(e[c],this.selectedListData)||!this.allowObjectBinding)&&(Array.isArray(this.selectedListData)?this.selectedListData.push(e[c]):this.selectedListData=[this.selectedListData,e[c]]));break}}v(n)&&this.allowCustomValue&&(!(this.dataSource instanceof ut)||this.dataSource instanceof ut&&i)?(n=this.getTextByValue(a),l=!0):v(n)&&!this.allowCustomValue&&(!(this.dataSource instanceof ut)||this.dataSource instanceof ut&&i)&&(this.value.splice(o,1),o-=1)}else n=this.getTextByValue(a);if(s&&s.getAttribute("aria-selected")!=="true"||s&&s.getAttribute("aria-selected")==="true"&&this.hideSelectedItem&&(this.mode==="Box"||this.mode==="Default")||this.enableVirtualization&&a!=null&&n!=null&&!l){var u=[],d=this.isDynamicRemoteVirtualData&&n!=null&&n!==""&&o===0?n:this.text!=null&&this.text!==""&&!this.text.includes(n)?this.text+this.delimiterChar+n:n;u.push(d),this.setProperties({text:u.toString()},!0),this.addChip(n,a),this.addListSelection(s)}else if(!this.enableVirtualization&&a&&this.allowCustomValue||this.enableVirtualization&&a&&this.allowCustomValue&&(!(this.dataSource instanceof ut)||this.dataSource instanceof ut&&i)){var p=this.listData.length,m={};Yr(this.fields.text,a,m),Yr(this.fields.value,a,m);var y=this.popupWrapper.querySelector("."+$e.noData);this.enableVirtualization||this.addItem(m,p),this.enableVirtualization&&(this.virtualCustomSelectData&&this.virtualCustomSelectData.length>=0?this.virtualCustomSelectData.push(m):this.virtualCustomSelectData=[m]),s=s||this.findListElement(this.hideSelectedItem?this.ulElement:this.list,"li","data-value",a),this.popupWrapper.contains(y)&&(this.list.setAttribute("style",y.getAttribute("style")),this.popupWrapper.replaceChild(this.list,y),this.wireListEvents());var u=[],d=this.text!=null&&this.text!==""?this.text+this.delimiterChar+n:n;u.push(d),this.setProperties({text:u.toString()},!0),this.addChip(n,a),this.addListSelection(s)}}this.mode==="CheckBox"?(this.updateDelimView(),this.changeOnBlur&&this.updateValueState(null,this.value,this.tempValues),this.updateDelimeter(this.delimiterChar),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,null,i),this.mode==="CheckBox"&&this.showSelectAll&&(v(this.value)||!this.value.length)&&this.notify("checkSelectAll",{module:"CheckBoxSelection",enable:this.mode==="CheckBox",value:"uncheck"}),this.mode==="Box"||this.mode==="Default"&&this.inputFocus?this.chipCollectionWrapper.style.display="":(this.mode==="Delimiter"||this.mode==="CheckBox")&&this.showDelimWrapper()}},t.prototype.updateActionCompleteData=function(e,i){this.value&&(!this.allowObjectBinding&&this.value.indexOf(e.getAttribute("data-value"))>-1||this.allowObjectBinding&&this.isObjectInArray(this.getDataByValue(e.getAttribute("data-value")),this.value))&&(this.mainList=this.ulElement,this.hideSelectedItem&&pe([e],un))},t.prototype.updateAddItemList=function(e,i){this.popupObj&&this.popupObj.element&&this.popupObj.element.querySelector("."+$e.noData)&&e?(this.list=e,this.mainList=this.ulElement=e.querySelector("ul"),ji(this.popupWrapper.querySelector(".e-content")),this.popupObj=null,this.renderPopup()):this.allowCustomValue&&(this.list=e,this.mainList=this.ulElement=e.querySelector("ul"))},t.prototype.updateDataList=function(){if(this.mainList&&this.ulElement&&!(this.isFiltered||this.isFilterAction||this.targetElement().trim())){var e=this.mainList.childElementCount<this.ulElement.childElementCount,i=this.ulElement.childElementCount>0&&this.ulElement.children[0].childElementCount>0&&this.mainList.children[0]&&this.mainList.children[0].childElementCount<this.ulElement.children[0].childElementCount,n=this.itemTemplate&&this.ulElement.childElementCount>0&&!(this.ulElement.childElementCount<this.mainList.childElementCount)&&(this.ulElement.children[0].childElementCount>0||this.fields.groupBy&&this.ulElement.children[1]&&this.ulElement.children[1].childElementCount>0);(e||i||n)&&(this.mainList=this.ulElement)}},t.prototype.isValidLI=function(e){return e&&!e.classList.contains($e.disabled)&&!e.classList.contains($e.group)&&e.classList.contains($e.li)},t.prototype.updateListSelection=function(e,i,n){var s=e.getAttribute("data-value"),a=this.allowObjectBinding?this.getDataByValue(this.getFormattedValue(s)):this.getFormattedValue(s);this.allowCustomValue&&(s!=="false"&&a===!1||!v(a)&&a.toString()==="NaN")&&(a=s),this.removeHover(),!this.value||!this.allowObjectBinding&&this.value.indexOf(a)===-1||this.allowObjectBinding&&this.indexOfObjectInArray(a,this.value)===-1?this.dispatchSelect(a,i,e,e.getAttribute("aria-selected")==="true",n):this.removeValue(a,i,n),this.checkAndScrollParent()},t.prototype.updateListSelectEventCallback=function(e,i,n,s){var a=this;e=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",e):e;var o=s||this.getTextByValue(e);if((this.allowCustomValue||this.allowFiltering)&&!this.findListElement(this.mainList,"li","data-value",e)&&(!this.enableVirtualization||this.enableVirtualization&&this.virtualCustomData)){var l=i&&i.cloneNode(!0),c=this.fields.value?this.fields.value:"value";this.allowCustomValue&&this.mainData.length&&typeof Pe(c,this.mainData[0])=="number"&&(e=isNaN(parseFloat(e.toString()))?e:parseFloat(e.toString()));var u=this.getDataByValue(e),d={newData:u,cancel:!1};this.trigger("customValueSelection",d,function(p){p.cancel||(a.enableVirtualization&&a.virtualCustomData?(a.virtualCustomSelectData&&a.virtualCustomSelectData.length>=0?a.virtualCustomSelectData.push(u):a.virtualCustomSelectData=[u],a.remoteCustomValue=!1,a.addValue(e,o,n)):(ri([l],a.mainList),a.mainData.push(u),a.remoteCustomValue=!1,a.addValue(e,o,n)))})}else this.remoteCustomValue=!1,this.addValue(e,o,n)},t.prototype.removeListSelection=function(){var e=this.hideSelectedItem?un:$e.selected,i=this.list.querySelectorAll("."+e),n=i.length;if(i&&i.length)for(Oe(i,e);n>0;)i[n-1].setAttribute("aria-selected","false"),this.mode==="CheckBox"&&i&&i.length>n-1&&Oe([i[n-1].firstElementChild.lastElementChild],"e-check"),n--;if(!v(this.mainList)){var s=this.mainList.querySelectorAll("."+e),a=s.length;if(s&&s.length)for(Oe(s,e);a>0;)s[a-1].setAttribute("aria-selected","false"),this.mode==="CheckBox"&&(i&&i.length>a-1&&Oe([i[a-1].firstElementChild.lastElementChild],"e-check"),Oe([s[a-1].firstElementChild.lastElementChild],"e-check")),a--}},t.prototype.removeHover=function(){var e=this.list.querySelectorAll("."+$e.hover);e&&e.length&&Oe(e,$e.hover)},t.prototype.removeFocus=function(){if(this.list&&this.mainList){var e=this.list.querySelectorAll("."+$e.focus),i=this.mainList.querySelectorAll("."+$e.focus);e&&e.length&&(Oe(e,$e.focus),Oe(i,$e.focus))}},t.prototype.addListHover=function(e){this.enabled&&this.isValidLI(e)?(this.removeHover(),pe([e],$e.hover)):e!==null&&e.classList.contains("e-list-group-item")&&this.enableGroupCheckBox&&this.mode==="CheckBox"&&!v(this.fields.groupBy)&&(this.removeHover(),pe([e],$e.hover))},t.prototype.addListFocus=function(e){this.enabled&&(this.isValidLI(e)||this.fields.disabled&&this.isDisabledElement(e))?(this.removeFocus(),pe([e],$e.focus),this.updateAriaActiveDescendant()):this.enableGroupCheckBox&&this.mode==="CheckBox"&&!v(this.fields.groupBy)&&(pe([e],$e.focus),this.updateAriaActiveDescendant())},t.prototype.addListSelection=function(e,i){var n=this.hideSelectedItem?un:$e.selected;if(this.isValidLI(e)&&!e.classList.contains($e.hover)){if(pe([e],n),this.updateMainList(!1,e.getAttribute("data-value"),i),e.setAttribute("aria-selected","true"),this.mode==="CheckBox"&&e.classList.contains("e-active")){var s=e.getElementsByClassName("e-check").length;s===0&&this.notify("updatelist",{module:"CheckBoxSelection",enable:this.mode==="CheckBox",li:e,e:this})}this.notify("activeList",{module:"CheckBoxSelection",enable:this.mode==="CheckBox",li:e,e:this}),this.chipCollectionWrapper&&this.removeChipSelection(),this.selectedElementID=e.id}},t.prototype.updateDelimeter=function(e,i,n){this.updateData(e,i,n)},t.prototype.onMouseClick=function(e){var i=this;if(!this.isClearAllItem){this.keyCode=null,this.scrollFocusStatus=!1,this.keyboardEvent=null;var n=e.target,s=Fe(n,"."+$e.li);if(this.enableVirtualization&&s&&s.classList.contains("e-virtual-list"))return;var a=Fe(n,"."+$e.group);if(a&&this.enableGroupCheckBox&&this.mode==="CheckBox"&&this.fields.groupBy)n=n.classList.contains("e-list-group-item")?n.firstElementChild.lastElementChild:e.target,n.classList.contains("e-check")?(this.selectAllItem(!1,e),n.classList.remove("e-check"),n.classList.remove("e-stop"),Fe(n,".e-list-group-item").classList.remove("e-active"),n.setAttribute("aria-selected","false")):(this.selectAllItem(!0,e),n.classList.remove("e-stop"),n.classList.add("e-check"),Fe(n,".e-list-group-item").classList.add("e-active"),n.setAttribute("aria-selected","true")),this.refreshSelection(),this.checkSelectAll();else{if(this.isValidLI(s)){var o=this.value&&this.value.length?this.value.length:0;s.classList.contains("e-active")&&(o=o-1),o<this.maximumSelectionLength&&(this.updateListSelection(s,e),this.checkPlaceholderSize(),this.addListFocus(s),(this.allowCustomValue||this.allowFiltering)&&this.mainList&&this.listData?this.mode!=="CheckBox"&&(this.focusAtLastListItem(s.getAttribute("data-value")),this.refreshSelection()):this.makeTextBoxEmpty()),this.mode==="CheckBox"?(this.updateDelimView(),this.value&&this.value.length>50?setTimeout(function(){i.updateDelimeter(i.delimiterChar,e)},0):this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.checkSelectAll(),this.refreshPopup(),this.allowResize&&this.setResize(),this.hideSelectedItem&&this.focusAtFirstListItem(),this.closePopupOnSelect?this.hidePopup(e):e.preventDefault();var l=this.targetElement().trim()!=="";this.makeTextBoxEmpty(),this.findGroupStart(n),this.mode!=="CheckBox"&&this.refreshListItems(v(s)?null:s.textContent,l)}else e.preventDefault();if(this.enableVirtualization&&this.hideSelectedItem){var c=this.list.querySelectorAll("li."+$e.li+":not(."+un+"):not(.e-reorder-hide):not(.e-virtual-list)");if(c.length){var u=this.virtualListHeight>0?Math.floor(this.virtualListHeight/this.listItemHeight):0;if(c.length<u+2){var d=this.getForQuery(this.value).clone();if(d=d.skip(this.virtualItemStartIndex),this.resetList(this.dataSource,this.fields,d),this.UpdateSkeleton(),this.liCollections=this.list.querySelectorAll("."+$e.li),this.virtualItemCount=this.itemCount,this.mode!=="CheckBox"&&(this.totalItemCount=this.value&&this.value.length?this.totalItemCount-this.value.length:this.totalItemCount),this.list.querySelector(".e-virtual-ddl"))this.list.getElementsByClassName("e-virtual-ddl")[0].style=this.GetVirtualTrackHeight();else{var p=this.createElement("div",{id:this.element.id+"_popup",className:"e-virtual-ddl"});p.style.cssText=this.GetVirtualTrackHeight(),this.popupWrapper.querySelector(".e-dropdownbase").appendChild(p)}this.list.querySelector(".e-virtual-ddl-content")&&(this.list.getElementsByClassName("e-virtual-ddl-content")[0].style=this.getTransformValues())}}}this.refreshPlaceHolder(),this.deselectHeader()}}},t.prototype.findGroupStart=function(e){if(this.enableGroupCheckBox&&this.mode==="CheckBox"&&!v(this.fields.groupBy)){var i=0,n=0,s=0,a=void 0;if(this.itemTemplate&&!e.getElementsByClassName("e-frame").length)for(;!e.getElementsByClassName("e-frame").length;)e=e.parentElement;for(e.classList.contains("e-frame")&&(e=e.parentElement.parentElement),a=this.findGroupAttrtibutes(e,n,s,i,0),a=this.findGroupAttrtibutes(e,a[0],a[1],a[2],1);!e.classList.contains("e-list-group-item")&&(e.classList.contains("e-list-icon")&&(e=e.parentElement),e=e.previousElementSibling,e!=null););this.updateCheckBox(e,a[0],a[1],a[2])}},t.prototype.findGroupAttrtibutes=function(e,i,n,s,a){for(;!e.classList.contains("e-list-group-item")&&(this.fields.disabled&&this.isDisabledElement(e)||(e.classList.contains("e-list-icon")&&(e=e.parentElement),e.getElementsByClassName("e-frame")[0].classList.contains("e-check")&&e.classList.contains("e-list-item")?i++:e.classList.contains("e-list-item")&&n++,s++),e=a?e.nextElementSibling:e.previousElementSibling,e!=null););return[i,n,s]},t.prototype.updateCheckBox=function(e,i,n,s){if(!(e===null||!v(this.fields.disabled)&&s===0)){var a=e.getElementsByClassName("e-frame")[0];s===i?(a.classList.remove("e-stop"),a.classList.add("e-check"),Fe(a,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","true")):s===n?(a.classList.remove("e-check"),a.classList.remove("e-stop"),Fe(a,".e-list-group-item").classList.remove("e-active"),e.setAttribute("aria-selected","false")):this.maximumSelectionLength===i-1?(a.classList.remove("e-stop"),e.setAttribute("aria-selected","true"),Fe(a,".e-list-group-item").classList.add("e-active"),a.classList.add("e-check")):(a.classList.remove("e-check"),a.classList.add("e-stop"),Fe(a,".e-list-group-item").classList.add("e-active"),e.setAttribute("aria-selected","false"))}},t.prototype.disableGroupHeader=function(){var e=this.list.querySelectorAll("li.e-list-group-item");if(e)for(var i=0;i<e.length;i++){for(var n=!0,s=e[i].nextElementSibling;!s.classList.contains("e-list-group-item");){if(!this.isDisabledElement(s)){n=!1;break}if(s=s.nextElementSibling,s==null)break}n&&this.disableListItem(e[i])}},t.prototype.deselectHeader=function(){var e=this.value&&this.value.length?this.value.length:0,i=this.list.querySelectorAll("li.e-list-group-item:not(.e-active)");e<this.maximumSelectionLength&&Oe(i,"e-disable"),e===this.maximumSelectionLength&&pe(i,"e-disable")},t.prototype.onMouseOver=function(e){var i=Fe(e.target,"."+$e.li);i===null&&this.mode==="CheckBox"&&!v(this.fields.groupBy)&&this.enableGroupCheckBox&&(i=Fe(e.target,"."+$e.group)),this.addListHover(i)},t.prototype.onMouseLeave=function(){this.removeHover()},t.prototype.onListMouseDown=function(e){e.preventDefault(),this.scrollFocusStatus=!0},t.prototype.onDocumentClick=function(e){if(this.mode!=="CheckBox"){var i=e.target;!(!v(this.popupObj)&&Fe(i,'[id="'+this.popupObj.element.id+'"]'))&&!this.overAllWrapper.contains(e.target)?this.scrollFocusStatus=!1:this.scrollFocusStatus=(Re.isIE||Re.info.name==="edge")&&document.activeElement===this.inputElement}},t.prototype.wireListEvents=function(){v(this.list)||(se.add(document,"mousedown",this.onDocumentClick,this),se.add(this.list,"mousedown",this.onListMouseDown,this),se.add(this.list,"mouseup",this.onMouseClick,this),se.add(this.list,"mouseover",this.onMouseOver,this),se.add(this.list,"mouseout",this.onMouseLeave,this))},t.prototype.unwireListEvents=function(){se.remove(document,"mousedown",this.onDocumentClick),this.list&&(se.remove(this.list,"mousedown",this.onListMouseDown),se.remove(this.list,"mouseup",this.onMouseClick),se.remove(this.list,"mouseover",this.onMouseOver),se.remove(this.list,"mouseout",this.onMouseLeave))},t.prototype.hideOverAllClear=function(){(!this.value||!this.value.length||this.inputElement.value==="")&&(this.overAllClear.style.display="none")},t.prototype.showOverAllClear=function(){(this.value&&this.value.length||this.inputElement.value!=="")&&this.showClearButton&&this.readonly!==!0?this.overAllClear.style.display="":this.overAllClear.style.display="none"},t.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&this.enabled&&this.inputElement.blur()},t.prototype.showSpinner=function(){if(v(this.spinnerElement)){var e=this.filterParent&&this.filterParent.querySelector(".e-clear-icon.e-icons");this.overAllClear.style.display!=="none"||e?this.spinnerElement=e||this.overAllClear:(this.spinnerElement=this.createElement("span",{className:ZV+" "+r8}),this.componentWrapper.appendChild(this.spinnerElement)),NN({target:this.spinnerElement,width:Re.isDevice?"16px":"14px"},this.createElement),pe([this.spinnerElement],i8),IN(this.spinnerElement)}},t.prototype.hideSpinner=function(){v(this.spinnerElement)||(CN(this.spinnerElement),Oe([this.spinnerElement],i8),this.spinnerElement.classList.contains(r8)?zt(this.spinnerElement):this.spinnerElement.innerHTML="",this.spinnerElement=null)},t.prototype.updateWrapperText=function(e,i){this.valueTemplate||!this.enableHtmlSanitizer?e.innerHTML=this.encodeHtmlEntities(i):e.innerText=i},t.prototype.updateDelimView=function(){if(this.delimiterWrapper&&this.hideDelimWrapper(),this.chipCollectionWrapper&&(this.chipCollectionWrapper.style.display="none"),v(this.viewWrapper)||(this.viewWrapper.style.display="",this.viewWrapper.style.width="",this.viewWrapper.classList.remove(hE)),this.value&&this.value.length){var e="",i=void 0,n=void 0,s=1,a=void 0,o=void 0,l=0,c=void 0;this.enableVirtualization||this.updateWrapperText(this.viewWrapper,e);var u={noRecordsTemplate:"No records found",actionFailureTemplate:"Request failed",overflowCountTemplate:"+${count} more..",totalCountTemplate:"${count} selected"},d=new Ql(this.getLocaleName(),u,this.locale);d.getConstant("actionFailureTemplate")===""&&(d=new Ql("dropdowns",u,this.locale)),d.getConstant("noRecordsTemplate")===""&&(d=new Ql("dropdowns",u,this.locale));var p=d.getConstant("overflowCountTemplate"),m=d.getConstant("totalCountTemplate"),y=this.createElement("span",{className:Obe}),M=p.replace("${count}",this.value.length.toString());y.innerText=M,this.viewWrapper.appendChild(y),this.renderReactTemplates();var w=y.offsetWidth;if(ji(y),this.showDropDownIcon&&(l=this.dropIcon.offsetWidth+parseInt(window.getComputedStyle(this.dropIcon).marginRight,10)),this.checkClearIconWidth(),!v(this.value)&&(this.allowCustomValue||this.listData&&this.listData.length>0))for(var b=0;!v(this.value[b]);b++){var D=this.text&&this.text.split(this.delimiterChar);if(this.enableVirtualization?D&&(e+=b===0?"":this.delimiterChar+" ",i=D[b],e+=i,i=this.viewWrapper.innerHTML,this.updateWrapperText(this.viewWrapper,e)):(e+=b===0?"":this.delimiterChar+" ",i=this.getOverflowVal(b),e+=i,i=this.viewWrapper.innerHTML,this.updateWrapperText(this.viewWrapper,e)),a=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10)+parseInt(window.getComputedStyle(this.viewWrapper).paddingLeft,10),c=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10),a+l+this.clearIconWidth>c){for(n!==void 0&&n!==""&&(i=n,b=s+1),this.updateWrapperText(this.viewWrapper,i),o=this.value.length-b,a=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10)+parseInt(window.getComputedStyle(this.viewWrapper).paddingLeft,10);a+w+l+this.clearIconWidth>c&&a!==0&&this.viewWrapper.innerHTML!=="";){var E=[];this.viewWrapper.innerHTML=E.join(this.delimiterChar),o=this.value.length,a=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10)+parseInt(window.getComputedStyle(this.viewWrapper).paddingLeft,10)}break}else a+w+l+this.clearIconWidth<=c?(n=e,s=b):b===0&&(n="",s=-1)}if(o>0){var N=c-l-this.clearIconWidth;this.viewWrapper.appendChild(this.updateRemainTemplate(y,this.viewWrapper,o,p,m,N)),this.updateRemainWidth(this.viewWrapper,N),this.updateRemainingText(y,l,o,p,m)}}else v(this.viewWrapper)||(this.viewWrapper.innerHTML="",this.viewWrapper.style.display="none")},t.prototype.checkClearIconWidth=function(){this.showClearButton&&(this.clearIconWidth=parseInt(window.getComputedStyle(this.overAllClear).width,10)||this.overAllClear.offsetWidth)},t.prototype.updateRemainWidth=function(e,i){e.classList.contains(hE)&&i<e.offsetWidth+parseInt(window.getComputedStyle(e).paddingLeft,10)+parseInt(window.getComputedStyle(e).paddingRight,10)&&(e.style.width=i+"px")},t.prototype.updateRemainTemplate=function(e,i,n,s,a,o){i.firstChild&&i.firstChild.nodeType===3&&i.firstChild.nodeValue===""&&i.removeChild(i.firstChild),e.innerHTML="";var l=s.replace("${count}",n.toString()),c=a.replace("${count}",n.toString());return e.innerText=i.firstChild&&i.firstChild.nodeType===3?l:c,i.firstChild&&i.firstChild.nodeType===3?i.classList.remove(hE):(i.classList.add(hE),this.updateRemainWidth(i,o)),e},t.prototype.updateRemainingText=function(e,i,n,s,a){var o=this.componentWrapper.offsetWidth-parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft,10)-parseInt(window.getComputedStyle(this.componentWrapper).paddingRight,10),l=this.viewWrapper.offsetWidth+parseInt(window.getComputedStyle(this.viewWrapper).paddingRight,10);if(l+i>=o&&l!==0&&this.viewWrapper.firstChild&&this.viewWrapper.firstChild.nodeType===3){for(;l+i>o&&l!==0&&this.viewWrapper.firstChild&&this.viewWrapper.firstChild.nodeType===3;){var c=this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);c.pop(),this.viewWrapper.firstChild.nodeValue=c.join(this.delimiterChar),this.viewWrapper.firstChild.nodeValue===""&&this.viewWrapper.removeChild(this.viewWrapper.firstChild),n++,l=this.viewWrapper.offsetWidth}var u=o-i;this.updateRemainTemplate(e,this.viewWrapper,n,s,a,u)}},t.prototype.getOverflowVal=function(e){var i;if(this.mainData&&this.mainData.length){var n=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value[e]):this.value[e];if(this.mode==="CheckBox"){var s=this.listData;this.listData=this.mainData,i=this.getTextByValue(n),this.listData=s}else i=this.getTextByValue(n)}else i=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value[e]):this.value[e];return i},t.prototype.unWireEvent=function(){if(v(this.componentWrapper)||se.remove(this.componentWrapper,"mousedown",this.wrapperClick),se.remove(window,"resize",this.windowResize),!v(this.inputElement)){se.remove(this.inputElement,"focus",this.focusInHandler),se.remove(this.inputElement,"keydown",this.onKeyDown),this.mode!=="CheckBox"&&se.remove(this.inputElement,"input",this.onInput),se.remove(this.inputElement,"keyup",this.keyUp);var e=Fe(this.inputElement,"form");e&&se.remove(e,"reset",this.resetValueHandler),se.remove(this.inputElement,"blur",this.onBlurHandler)}v(this.componentWrapper)||(se.remove(this.componentWrapper,"mouseover",this.mouseIn),se.remove(this.componentWrapper,"mouseout",this.mouseOut)),v(this.overAllClear)||se.remove(this.overAllClear,"mousedown",this.clearAll),v(this.inputElement)||se.remove(this.inputElement,"paste",this.pasteHandler)},t.prototype.resizingWireEvent=function(){se.add(document,"mousemove",this.resizePopup,this),se.add(document,"mouseup",this.stopResizing,this),se.add(document,"touchmove",this.resizePopup,this),se.add(document,"touchend",this.stopResizing,this)},t.prototype.resizingUnWireEvent=function(){se.remove(document,"mousemove",this.resizePopup),se.remove(document,"mouseup",this.stopResizing),se.remove(document,"touchmove",this.resizePopup),se.remove(document,"touchend",this.stopResizing)},t.prototype.selectAllItem=function(e,i,n){var s;if(v(this.list)||(s=this.list.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide):not(.e-disabled):not(.e-virtual-list)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide):not(.e-disabled):not(.e-virtual-list)')),this.value&&this.value.length&&i&&i.target&&Fe(i.target,".e-close-hooker")&&this.allowFiltering&&(s=this.mainList.querySelectorAll(e?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide):not(.e-disabled):not(.e-virtual-list)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide):not(.e-disabled):not(.e-virtual-list)')),this.enableGroupCheckBox&&this.mode==="CheckBox"&&!v(this.fields.groupBy)){var a=i?this.groupTemplate?Fe(i.target,".e-list-group-item"):i.target:null;if(a=i&&i.keyCode===32?n:a,a=a&&a.classList.contains("e-frame")?a.parentElement.parentElement:a,a&&a.classList.contains("e-list-group-item")){var o=a.nextElementSibling;if(v(o))return;for(;o.classList.contains("e-list-item");){if(!(this.fields.disabled&&this.isDisabledElement(o)))if(e){if(!o.firstElementChild.lastElementChild.classList.contains("e-check")){var l=this.value&&this.value.length?this.value.length:0;o.classList.contains("e-active")&&(l-=1),l<this.maximumSelectionLength&&this.updateListSelection(o,i)}}else o.firstElementChild.lastElementChild.classList.contains("e-check")&&this.updateListSelection(o,i);if(o=o.nextElementSibling,o==null)break}if(a.classList.contains("e-list-group-item")){var c=this.list.getElementsByClassName("e-item-focus")[0];c&&c.classList.remove("e-item-focus"),e?a.classList.add("e-active"):a.classList.remove("e-active"),a.classList.add("e-item-focus"),this.updateAriaActiveDescendant()}this.textboxValueUpdate(),this.checkPlaceholderSize(),!this.changeOnBlur&&i&&this.updateValueState(i,this.value,this.tempValues)}else this.updateValue(i,s,e)}else this.updateValue(i,s,e);this.addValidInputClass()},t.prototype.virtualSelectionAll=function(e,i,n){var s=this,a=0,o=i.length,l=this.maximumSelectionLength;if(e){this.virtualSelectAll=!0,o=this.virtualSelectAllData&&this.virtualSelectAllData.length!==0?this.virtualSelectAllData.length:o,this.listData=this.virtualSelectAllData;var c=this.createListItems(this.virtualSelectAllData.slice(0,30),this.fields),u=c.querySelectorAll("li"),d=document.createDocumentFragment();u.forEach(function(w){d.appendChild(w.cloneNode(!0))}),i.forEach(function(w){d.appendChild(w.cloneNode(!0))});var p=d.childNodes;if(this.virtualSelectAllData instanceof Array){for(;a<o&&a<=50&&a<l;){if(this.isSelectAllTarget=o===a+1,p[a]){var m=this.allowObjectBinding?this.getDataByValue(p[a].getAttribute("data-value")):this.getFormattedValue(p[a].getAttribute("data-value"));if(!this.allowObjectBinding&&this.value&&this.value.indexOf(m)>=0||this.allowObjectBinding&&this.indexOfObjectInArray(m,this.value)>=0){a++;continue}this.updateListSelection(p[a],n,o-a)}else{var m=Pe(this.fields.value?this.fields.value:"",this.virtualSelectAllData[a]);if(m=this.allowObjectBinding?this.getDataByValue(m):m,!this.allowObjectBinding&&this.value&&this.value.indexOf(m)>=0||this.allowObjectBinding&&this.indexOfObjectInArray(m,this.value)>=0){a++;continue}this.value&&m!=null&&Array.isArray(this.value)&&(!this.allowObjectBinding&&this.value.indexOf(m)<0||this.allowObjectBinding&&!this.isObjectInArray(m,this.value))&&this.dispatchSelect(m,n,null,!1,o)}a++}o>50&&setTimeout(function(){if(s.virtualSelectAllData&&s.virtualSelectAllData.length>0&&s.virtualSelectAllData.map(function(b){if(s.value&&b[s.fields.value]!=null&&Array.isArray(s.value)&&(!s.allowObjectBinding&&s.value.indexOf(b[s.fields.value])<0||s.allowObjectBinding&&!s.isObjectInArray(b[s.fields.value],s.value))){var D=b[s.fields.value],E=b[s.fields.text].toString();s.dispatchSelect(D,n,null,!1,o,b,E)}}),s.updatedataValueItems(n),s.isSelectAllLoop=!1,s.changeOnBlur||(s.updateValueState(n,s.value,s.tempValues),s.isSelectAll=s.isSelectAll?!s.isSelectAll:s.isSelectAll),s.updateHiddenElement(!0),s.popupWrapper&&i[a-1]&&i[a-1].classList.contains("e-item-focus")){var w=document.getElementsByClassName("e-selectall-parent")[0];w&&w.classList.contains("e-item-focus")&&i[a-1].classList.remove("e-item-focus")}s.checkSelectAll()},0)}}else this.virtualSelectAllData&&this.virtualSelectAllData.length>0&&this.virtualSelectAllData.map(function(w){s.virtualSelectAll=!0,s.removeValue(s.value[a],n,s.value.length-a)}),this.updatedataValueItems(n),this.changeOnBlur||(this.updateValueState(n,this.value,this.tempValues),this.isSelectAll=this.isSelectAll?!this.isSelectAll:this.isSelectAll),this.updateHiddenElement(),this.setProperties({value:[]},!0),this.selectedListData=[],this.virtualSelectAll=!1,!v(this.viewPortInfo.startIndex)&&!v(this.viewPortInfo.endIndex)&&this.notify("setCurrentViewDataAsync",{component:this.getModuleName(),module:"VirtualScroll"});this.checkSelectAll();var y=this.list.getElementsByClassName("e-virtual-ddl")[0];y&&(y.style=this.GetVirtualTrackHeight()),this.UpdateSkeleton();var M=this.list.getElementsByClassName("e-virtual-ddl-content")[0];M&&(M.style=this.getTransformValues())},t.prototype.updateValue=function(e,i,n){var s=this,a=i.length,o={event:e,items:n?i:[],itemData:n?this.listData:[],isInteracted:!!e,isChecked:n,preventSelectEvent:!1};if(this.trigger("beforeSelectAll",o),i&&i.length||this.enableVirtualization&&!n){var l=0,c=0;if(this.enableGroupCheckBox?c=n?this.maximumSelectionLength-(this.value?this.value.length:0):i.length:c=n?this.maximumSelectionLength-(this.value?this.value.length:0):this.maximumSelectionLength,o.preventSelectEvent){for(var u=0;u<i.length&&u<c;u++){this.removeHover();var d=i[u].getAttribute("data-value"),p=this.getFormattedValue(d);p=this.allowObjectBinding?this.getDataByValue(p):p;var m=this.mainList?this.mainList.querySelectorAll(n?'li.e-list-item:not([aria-selected="true"]):not(.e-reorder-hide)':'li.e-list-item[aria-selected="true"]:not(.e-reorder-hide)')[u]:null;n?(this.value=this.value?this.value:[],(!this.allowObjectBinding&&this.value.indexOf(p)<0||this.allowObjectBinding&&!this.isObjectInArray(p,this.value))&&this.setProperties({value:[].concat([],this.value,[p])},!0),this.removeFocus(),this.addListSelection(i[u],m),this.updateChipStatus(),this.checkMaxSelection()):this.removeAllItems(p,e,!1,i[u],m),this.enableGroupCheckBox&&this.findGroupStart(i[u])}if(!n){var y=this.value&&this.value.length?this.value.length:0;if(y<this.maximumSelectionLength){var M=this.list.querySelectorAll("li."+$e.li+":not(.e-active)");Oe(M,"e-disable")}}var w={event:e,items:n?i:[],itemData:n?this.listData:[],isInteracted:!!e,isChecked:n};this.trigger("selectedAll",w)}else if(this.enableVirtualization)this.virtualSelectAllState=n,this.virtualSelectAll=!0,this.CurrentEvent=e,this.virtualSelectAllData||this.resetList(this.dataSource,this.fields,new di),this.virtualSelectAllData&&this.virtualSelectionAll(n,i,e);else{for(;l<a&&l<=50&&l<c;)this.isSelectAllTarget=a===l+1,this.updateListSelection(i[l],e,a-l),this.enableGroupCheckBox&&this.findGroupStart(i[l]),l++;a>50&&setTimeout(function(){for(;l<a&&l<c;)s.isSelectAllTarget=a===l+1,s.updateListSelection(i[l],e,a-l),s.enableGroupCheckBox&&s.findGroupStart(i[l]),l++;if(s.updatedataValueItems(e),s.changeOnBlur||(s.updateValueState(e,s.value,s.tempValues),s.isSelectAll=s.isSelectAll?!s.isSelectAll:s.isSelectAll),s.updateHiddenElement(),s.popupWrapper&&i[l-1].classList.contains("e-item-focus")){var b=document.getElementsByClassName("e-selectall-parent")[0];b&&b.classList.contains("e-item-focus")&&i[l-1].classList.remove("e-item-focus")}},0)}}this.updatedataValueItems(e),this.checkPlaceholderSize(),a<=50&&!o.preventSelectEvent&&(this.changeOnBlur||(this.updateValueState(e,this.value,this.tempValues),this.isSelectAll=this.isSelectAll?!this.isSelectAll:this.isSelectAll),(this.enableVirtualization&&this.value&&this.value.length>0||!this.enableVirtualization)&&this.updateHiddenElement())},t.prototype.updateHiddenElement=function(e){var i=this,n="",s="",a="",o=[];this.mode==="CheckBox"&&(this.value.map(function(l,c){n+='<option selected value ="'+l+'">'+c+"</option>",e||(i.listData?a=i.getTextByValue(l):a=l,s+=a+i.delimiterChar+" ",o.push(a))}),this.hiddenElement.innerHTML=n,e||(this.updateWrapperText(this.delimiterWrapper,s),this.setProperties({text:o.toString()},!0)),this.delimiterWrapper.setAttribute("id",Ha("delim_val")),this.inputElement.setAttribute("aria-describedby",this.delimiterWrapper.id),this.refreshInputHight(),this.refreshPlaceHolder())},t.prototype.updatedataValueItems=function(e){this.deselectHeader(),this.textboxValueUpdate(e)},t.prototype.textboxValueUpdate=function(e){var i=e&&e.target&&(Fe(e.target,".e-selectall-parent")||Fe(e.target,".e-close-hooker"));this.mode!=="Box"&&!this.isPopupOpen()&&!(this.mode==="CheckBox"&&(this.isSelectAll||i))?this.updateDelimView():this.searchWrapper.classList.remove(uE),this.mode==="CheckBox"?(this.updateDelimView(),(!(i||this.isSelectAll)&&this.isSelectAllTarget||this.isSelectAll&&this.isSelectAllTarget)&&this.updateDelimeter(this.delimiterChar,e),this.refreshInputHight()):this.updateDelimeter(this.delimiterChar,e),this.refreshPlaceHolder()},t.prototype.setZIndex=function(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})},t.prototype.updateDataSource=function(e){this.checkAndResetCache(),v(this.list)?this.renderPopup():this.resetList(this.dataSource),this.value&&this.value.length&&(this.setProperties({value:this.value}),this.refreshSelection())},t.prototype.onLoadSelect=function(){this.setDynValue=!0,this.renderPopup()},t.prototype.selectAllItems=function(e,i){var n=this;if(v(this.list))this.selectAllAction=function(){if(n.mode==="CheckBox"&&n.showSelectAll){var a={module:"CheckBoxSelection",enable:n.mode==="CheckBox",value:e?"check":"uncheck"};n.notify("checkSelectAll",a)}n.selectAllItem(e,i),n.selectAllAction=null},r.prototype.render.call(this);else{if(this.selectAllAction=null,this.mode==="CheckBox"&&this.showSelectAll){var s={value:e?"check":"uncheck",enable:this.mode==="CheckBox",module:"CheckBoxSelection"};this.notify("checkSelectAll",s)}this.selectAllItem(e,i)}(!(this.dataSource instanceof ut)||this.dataSource instanceof ut&&this.virtualSelectAllData)&&(this.virtualSelectAll=!1)},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.onPropertyChanged=function(e,i){(e.dataSource&&!v(Object.keys(e.dataSource))||e.query&&!v(Object.keys(e.query)))&&(this.mainList=null,this.mainData=null,this.isFirstClick=!1,this.isDynamicDataChange=!0),this.getModuleName()==="multiselect"&&(this.isFilterAction=!1,this.setUpdateInitial(["fields","query","dataSource"],e));for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"query":case"dataSource":this.mode==="CheckBox"&&this.showSelectAll&&(v(this.popupObj)||(this.popupObj.destroy(),this.popupObj=null),this.renderPopup());break;case"htmlAttributes":this.updateHTMLAttribute();break;case"showClearButton":this.updateClearButton(e.showClearButton);break;case"text":this.fields.disabled&&(this.text=this.text&&!this.isDisabledItemByIndex(this.getIndexByValue(this.getValueByText(this.text)))?this.text:null),this.updateVal(this.value,this.value,"text");break;case"value":if(this.fields.disabled&&this.removeDisabledItemsValue(this.value),this.updateVal(this.value,i.value,"value"),this.addValidInputClass(),!this.closePopupOnSelect&&this.isPopupOpen()&&this.refreshPopup(),this.isPopupOpen()&&this.mode==="CheckBox"&&this.list&&this.list.querySelector(".e-active.e-disable")){var o=this.list.querySelectorAll("li."+$e.li+".e-active.e-disable");Oe(o,"e-disable")}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange;break;case"width":this.setWidth(e.width),this.popupObj.setProperties({width:this.calcPopupWidth()});break;case"placeholder":this.refreshPlaceHolder();break;case"filterBarPlaceholder":this.allowFiltering&&this.notify("filterBarPlaceholder",{filterBarPlaceholder:e.filterBarPlaceholder});break;case"delimiterChar":this.mode!=="Box"&&this.updateDelimView(),this.updateData(e.delimiterChar);break;case"cssClass":this.updateOldPropCssClass(i.cssClass),this.updateCssClass(),this.calculateWidth();break;case"enableRtl":this.enableRTL(e.enableRtl),r.prototype.onPropertyChanged.call(this,e,i);break;case"allowResize":if(this.allowResize=e.allowResize,!this.allowResize&&this.popupObj){var l=parseInt(this.popupHeight,10);this.popupHeight!=="auto"?(this.list.style.maxHeight=bt(l),this.popupWrapper.style.height=bt(this.popupHeight),this.popupWrapper.style.maxHeight=bt(this.popupHeight)):this.list.style.maxHeight=bt(this.popupHeight)}break;case"readonly":this.updateReadonly(e.readonly),this.hidePopup();break;case"enabled":this.hidePopup(),this.enable(e.enabled);break;case"showSelectAll":this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup();break;case"showDropDownIcon":this.dropDownIcon();break;case"floatLabelType":this.setFloatLabelType(),this.addValidInputClass(),this.element.querySelector(".e-multiselect .e-float-text-content")===null&&Rt.createSpanElement(this.overAllWrapper,this.createElement),this.calculateWidth(),!v(this.overAllWrapper)&&!v(this.overAllWrapper.getElementsByClassName("e-ddl-icon")[0]&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0]&&this.floatLabelType!=="Never")&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon");break;case"enableSelectionOrder":break;case"selectAllText":this.notify("selectAllText",!1);break;case"popupHeight":if(this.popupObj){var l=parseInt(this.popupHeight,10);this.popupHeight!=="auto"?(this.list.style.maxHeight=bt(l),this.popupWrapper.style.maxHeight=bt(this.popupHeight)):this.list.style.maxHeight=bt(this.popupHeight)}break;case"headerTemplate":case"footerTemplate":this.reInitializePoup();break;case"allowFiltering":this.mode==="CheckBox"&&this.popupObj&&this.reInitializePoup(),this.updateSelectElementData(this.allowFiltering);break;case"fields":v(this.fields.groupBy)&&this.removeScrollEvent();break;default:{var c=this.getPropObject(a,e,i);r.prototype.onPropertyChanged.call(this,c.newProperty,c.oldProperty)}break}}},t.prototype.reInitializePoup=function(){this.popupObj&&(this.popupObj.destroy(),this.popupObj=null),this.renderPopup()},t.prototype.totalItemsCount=function(){var e;if(this.dataSource instanceof ut?this.remoteDataCount>=0?e=this.totalItemCount=this.dataCount=this.remoteDataCount:this.resetList(this.dataSource):e=this.dataSource&&this.dataSource.length?this.dataSource.length:0,this.mode==="CheckBox")this.totalItemCount=e!==0?e:this.totalItemCount;else if(this.hideSelectedItem){if(this.totalItemCount=e!==0&&this.value?e-this.value.length:this.totalItemCount,this.allowCustomValue&&this.virtualCustomSelectData&&this.virtualCustomSelectData.length>0)for(var i=0;i<this.virtualCustomSelectData.length;i++)for(var n=0;n<this.value.length;n++){var s=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value[n]):this.value[n],a=Pe(this.fields.value?this.fields.value:"",this.virtualCustomSelectData[i]);s===a&&(this.totalItemCount+=1)}}else this.totalItemCount=e!==0?e:this.totalItemCount,this.allowCustomValue&&this.virtualCustomSelectData&&this.virtualCustomSelectData.length>0&&(this.totalItemCount+=this.virtualCustomSelectData.length)},t.prototype.presentItemValue=function(e){for(var i=[],n=0;n<this.value.length;n++){var s=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value[n]):this.value[n],a=this.findListElement(this.allowFiltering&&!v(this.mainList)?this.mainList:e,"li","data-value",s);if(!a){var o=this.allowObjectBinding?this.getDataByValue(this.value[n]):this.value[n];i.push(o)}}return i},t.prototype.addNonPresentItems=function(e,i,n,s){var a=this;this.dataSource.executeQuery(this.getForQuery(e)).then(function(o){o.result.length>0&&a.addItem(o.result,n.length),a.updateActionList(i,n,s)})},t.prototype.updateVal=function(e,i,n){var s=this;if(!this.list)this.onLoadSelect(),this.enableVirtualization&&(this.setProperties({text:""},!0),this.selectedListData=[],this.checkInitialValue());else if(this.dataSource instanceof ut&&(!this.listData||!(this.mainList&&this.mainData)))this.onLoadSelect();else{var a=[];!v(this.value)&&!this.allowCustomValue&&(a=this.presentItemValue(this.ulElement));var o=a.some(function(m){return m!==null});if(n==="value"&&a.length>0&&this.dataSource instanceof ut&&!v(this.value)&&this.listData!=null&&(!this.enableVirtualization||this.enableVirtualization&&this.valueTemplate)&&o)this.mainData=null,this.setDynValue=!0,this.isaddNonPresentItems=!0,this.addNonPresentItems(a,this.ulElement,this.listData),this.isaddNonPresentItems=!1;else{if(this.selectedListData=[],n==="text"&&(this.initialTextUpdate(),e=this.value),(v(this.value)||this.value.length===0)&&(this.tempValues=i),this.allowCustomValue&&(this.mode==="Default"||this.mode==="Box")&&this.isReact&&this.inputFocus&&this.isPopupOpen()&&this.mainData!==this.listData){var l=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.onActionComplete(l,this.mainData)}if(!this.enableVirtualization)this.initialValueUpdate();else if(this.enableVirtualization&&!(this.dataSource instanceof ut))this.initialValueUpdate(this.dataSource,!0);else if(!this.isInitRemoteVirtualData)if(this.allowObjectBinding&&!o&&this.value&&this.value.length){for(var c=this.isPrimitiveData?"":this.fields.value,u=void 0,d=0;d<this.value.length;d++){var p=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value[d]):this.value[d];d===0?u=new Er(c,"equal",p):u=u.or(c,"equal",p)}this.dataSource instanceof ut&&this.dataSource.executeQuery(new di().where(u)).then(function(m){if(m.result.length>0){var y=m.result;s.isDynamicRemoteVirtualData=!0,setTimeout(function(){s.initialValueUpdate(y,!0),s.isDynamicRemoteVirtualData=!1,(!s.inputFocus||s.inputFocus&&s.mode!=="Default")&&s.initialUpdate()},100)}})}else this.isDynamicRemoteVirtualData=!0,this.initialValueUpdate(this.listData,!0),this.isDynamicRemoteVirtualData=!1,this.initialUpdate();this.mode!=="Box"&&!this.inputFocus&&this.updateDelimView(),this.inputFocus||this.refreshInputHight(),this.refreshPlaceHolder(),this.mode!=="CheckBox"&&this.changeOnBlur&&this.updateValueState(null,e,i),this.checkPlaceholderSize()}}this.changeOnBlur||this.updateValueState(null,e,i)},t.prototype.addItem=function(e,i){r.prototype.addItem.call(this,e,i)},t.prototype.hidePopup=function(e){var i=this,n=100;if(this.isPopupOpen()){var s={name:"FadeOut",duration:100,delay:n};this.customFilterQuery=null;var a={popup:this.popupObj,cancel:!1,animation:s,event:e||null};this.trigger("close",a,function(o){if(!o.cancel){i.fields.groupBy&&i.mode!=="CheckBox"&&i.fixedHeaderElement&&(ji(i.fixedHeaderElement),i.fixedHeaderElement=null),i.beforePopupOpen=!1,i.overAllWrapper.classList.remove(s8);var l=i.mode==="CheckBox"?i.targetElement():null;if(i.popupObj.hide(new fo(o.animation)),Ht(i.inputElement,{"aria-expanded":"false"}),i.inputElement.removeAttribute("aria-owns"),i.inputElement.removeAttribute("aria-activedescendant"),i.allowFiltering&&i.notify("inputFocus",{module:"CheckBoxSelection",enable:i.mode==="CheckBox",value:"clear"}),i.popupObj.hide(),Oe([document.body,i.popupObj.element],"e-popup-full-page"),se.remove(i.list,"keydown",i.onKeyDown),i.mode==="CheckBox"&&i.showSelectAll&&se.remove(i.popupObj.element,"click",i.clickHandler),i.list&&i.list.parentElement&&i.allowResize){i.resizer&&i.list.parentElement.contains(i.resizer)&&i.list.parentElement.removeChild(i.resizer),i.list.parentElement.classList.contains("e-resize")&&i.list.parentElement.classList.remove("e-resize"),i.list.parentElement.style.boxSizing="",i.list.parentElement.style.paddingBottom="";var c=parseInt(i.popupHeight,10);i.list.style.maxHeight=bt(c),i.popupHeight.toString().toLowerCase()!=="auto"&&i.initialPopupHeight>=parseInt(i.popupHeight.toString(),10)-2&&(i.list.parentElement.style.height=bt(i.popupHeight)),i.list.parentElement.style.maxHeight=bt(i.popupHeight)}i.resizer&&(se.remove(i.resizer,"mousedown",i.startResizing),i.resizer.remove()),i.enableVirtualization&&i.mode==="CheckBox"&&i.value&&i.value.length>0&&i.enableSelectionOrder&&(i.viewPortInfo.startIndex=i.virtualItemStartIndex=0,i.viewPortInfo.endIndex=i.virtualItemEndIndex=i.viewPortInfo.startIndex>0?i.viewPortInfo.endIndex:i.itemCount,i.virtualListInfo=i.viewPortInfo,i.previousStartIndex=0,i.previousEndIndex=i.itemCount);var u=void 0;i.dataSource instanceof ut?i.remoteDataCount>=0?i.totalItemCount=i.dataCount=i.remoteDataCount:i.resetList(i.dataSource):u=i.dataSource&&i.dataSource.length?i.dataSource.length:0,i.enableVirtualization&&(i.allowFiltering||i.allowCustomValue)&&(i.targetElement()||l)&&i.totalItemCount!==u&&(i.checkAndResetCache(),i.updateInitialData()),i.virtualCustomData&&i.viewPortInfo&&i.viewPortInfo.startIndex===0&&i.viewPortInfo.endIndex===i.itemCount&&i.renderItems(i.mainData,i.fields),i.virtualCustomData=null,i.isVirtualTrackHeight=!1}})}},t.prototype.showPopup=function(e){var i=this;if(this.enabled){this.firstItem=this.dataSource&&this.dataSource.length>0?this.dataSource[0]:null;var n={cancel:!1};this.trigger("beforeOpen",n,function(s){if(!s.cancel){if(!i.ulElement){i.beforePopupOpen=!0,i.mode==="CheckBox"&&Re.isDevice&&i.allowFiltering&&i.isDeviceFullScreen&&i.notify("popupFullScreen",{module:"CheckBoxSelection",enable:i.mode==="CheckBox"}),r.prototype.render.call(i,e);return}i.mode==="CheckBox"&&Re.isDevice&&i.allowFiltering&&i.isDeviceFullScreen&&i.notify("popupFullScreen",{module:"CheckBoxSelection",enable:i.mode==="CheckBox"});var a=i.ulElement.querySelectorAll("li.e-list-item").length,o=i.ulElement.querySelectorAll("li."+$e.li+"."+un).length;if(a>0&&a===o&&o===i.mainData.length&&!(i.targetElement()!==""&&i.allowCustomValue)){i.beforePopupOpen=!1;return}if(i.onPopupShown(e),i.enableVirtualization&&i.listData&&i.listData.length&&(!v(i.value)&&(i.getModuleName()==="dropdownlist"||i.getModuleName()==="combobox")&&i.removeHover(),i.beforePopupOpen||(i.hideSelectedItem&&i.value&&Array.isArray(i.value)&&i.value.length>0&&i.totalItemsCount(),!i.preventSetCurrentData&&!v(i.viewPortInfo.startIndex)&&!v(i.viewPortInfo.endIndex)&&i.notify("setCurrentViewDataAsync",{component:i.getModuleName(),module:"VirtualScroll"}))),i.enableVirtualization&&!i.allowFiltering&&i.selectedValueInfo!=null&&i.selectedValueInfo.startIndex>0&&i.value!=null&&i.notify("dataProcessAsync",{module:"VirtualScroll",isOpen:!0}),i.enableVirtualization)i.updatevirtualizationList();else if(i.value&&i.value.length){var l=void 0;i.getItems();for(var c=0,u=i.value;c<u.length;c++){var d=u[c],p=i.allowObjectBinding?Pe(i.fields.value?i.fields.value:"",d):d;l=i.getElementByValue(p),l&&i.addListSelection(l)}}i.allowResize&&i.setResize(),i.preventSetCurrentData=!0}})}},t.prototype.selectAll=function(e){this.isSelectAll=!0,this.selectAllItems(e)},t.prototype.getModuleName=function(){return"multiselect"},t.prototype.clear=function(){var e=this;this.selectAll(!1),this.value&&this.value.length?setTimeout(function(){e.setProperties({value:null},!0)},0):this.setProperties({value:null},!0),this.checkAndResetCache(),this.enableVirtualization&&(this.updateInitialData(),this.chipCollectionWrapper&&(this.chipCollectionWrapper.innerHTML=""),this.isCustomDataUpdated||this.notify("setGeneratedData",{module:"VirtualScroll"}),this.list.scrollTop=0,this.virtualListInfo=null,this.previousStartIndex=0,this.previousEndIndex=this.itemCount)},t.prototype.render=function(){!v(this.value)&&this.value.length>0&&(this.value=this.value.slice()),this.setDynValue=this.initStatus=!1,this.isSelectAll=!1,this.selectAllEventEle=[],this.searchWrapper=this.createElement("span",{className:Cbe+" "+(this.mode==="Box"?Fbe:"")}),this.viewWrapper=this.createElement("span",{className:Sbe+" "+e8}),this.viewWrapper.style.display="none",this.overAllClear=this.createElement("span",{className:ZV}),this.overAllClear.style.display="none",this.componentWrapper=this.createElement("div",{className:Ebe}),this.overAllWrapper=this.createElement("div",{className:Dbe}),this.mode==="CheckBox"&&pe([this.overAllWrapper],"e-checkbox"),Re.isDevice&&this.componentWrapper.classList.add(Abe),this.setWidth(this.width),this.overAllWrapper.appendChild(this.componentWrapper),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:kbe}),this.popupWrapper.setAttribute("aria-label",this.element.id),this.popupWrapper.setAttribute("role","dialog"),this.mode==="Delimiter"||this.mode==="CheckBox"?(this.delimiterWrapper=this.createElement("span",{className:e8}),this.delimiterWrapper.style.display="none",this.componentWrapper.appendChild(this.delimiterWrapper)):(this.chipCollectionWrapper=this.createElement("span",{className:Nbe}),this.chipCollectionWrapper.style.display="none",this.mode==="Default"?this.chipCollectionWrapper.setAttribute("id",Ha("chip_default")):this.mode==="Box"&&this.chipCollectionWrapper.setAttribute("id",Ha("chip_box")),this.componentWrapper.appendChild(this.chipCollectionWrapper)),this.mode!=="Box"&&this.componentWrapper.appendChild(this.viewWrapper),this.componentWrapper.appendChild(this.searchWrapper),this.showClearButton&&!Re.isDevice?this.componentWrapper.appendChild(this.overAllClear):this.componentWrapper.classList.add(k4),this.dropDownIcon(),this.inputElement=this.createElement("input",{className:Lbe,attrs:{spellcheck:"false",type:"text",autocomplete:"off",tabindex:"0",role:"combobox"}}),(this.mode==="Default"||this.mode==="Box")&&this.inputElement.setAttribute("aria-describedby",this.chipCollectionWrapper.id),v(this.inputElement)||(Ht(this.inputElement,{"aria-expanded":"false"}),this.inputElement.hasAttribute("aria-label")||this.inputElement.setAttribute("aria-label",this.getModuleName())),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.tagName===this.getNgDirective()?(this.element.appendChild(this.overAllWrapper),this.searchWrapper.appendChild(this.inputElement)):(this.element.parentElement.insertBefore(this.overAllWrapper,this.element),this.searchWrapper.appendChild(this.inputElement),this.searchWrapper.appendChild(this.element),this.element.removeAttribute("tabindex")),this.floatLabelType!=="Never"?$V(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder):this.floatLabelType==="Never"&&this.refreshPlaceHolder(),this.addValidInputClass(),this.element.style.opacity="";var e=this.element.getAttribute("id")?this.element.getAttribute("id"):Ha("ej2_dropdownlist");this.element.id=e,this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",class:Rbe,tabindex:"-1",multiple:""}}),this.componentWrapper.appendChild(this.hiddenElement),this.validationAttribute(this.element,this.hiddenElement),this.mode!=="CheckBox"&&this.hideOverAllClear(),!v(Fe(this.element,"fieldset"))&&Fe(this.element,"fieldset").disabled&&(this.enabled=!1),this.wireEvent(),this.enable(this.enabled),this.enableRTL(this.enableRtl),this.enableVirtualization&&this.updateVirtualizationProperties(this.itemCount,this.allowFiltering,this.mode==="CheckBox"),this.listItemHeight=this.getListHeight(),this.getSkeletonCount(),this.viewPortInfo.startIndex=this.virtualItemStartIndex=0,this.viewPortInfo.endIndex=this.virtualItemEndIndex=this.viewPortInfo.startIndex>0?this.viewPortInfo.endIndex:this.itemCount,this.checkInitialValue(),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.element.querySelector(".e-multiselect .e-float-text-content")===null&&Rt.createSpanElement(this.overAllWrapper,this.createElement),this.calculateWidth(),!v(this.overAllWrapper)&&!v(this.overAllWrapper.getElementsByClassName("e-ddl-icon")[0]&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0]&&this.floatLabelType!=="Never")&&this.overAllWrapper.getElementsByClassName("e-float-text-content")[0].classList.add("e-icon"),this.renderComplete()},t.prototype.setResize=function(){var e=this,i=16;if(this.list&&this.list.parentElement&&v(this.list.parentElement.querySelector(".e-resizer-right.e-icons"))&&(this.resizer=this.createElement("div",{id:this.element.id+"_resize-popup",className:Ube})),this.mode==="CheckBox"&&this.showSelectAll&&this.selectAllHeight&&this.selectAllHeight!==0&&(this.storedSelectAllHeight=this.selectAllHeight),this.list&&this.list.parentElement){this.list.parentElement.classList.add("e-resize"),this.initialPopupHeight=this.list.parentElement.clientHeight,this.popupHeight.toString().toLowerCase()!=="auto"&&this.initialPopupHeight>=parseInt(this.popupHeight.toString(),10)-2&&(this.list.parentElement.style.height="100%"),this.list.parentElement.style.boxSizing="border-box";var n=this.mode==="CheckBox"&&this.searchBoxHeight?this.searchBoxHeight+i+(this.showSelectAll?this.storedSelectAllHeight:0):i;if(this.footer){var s=this.list.style.maxHeight,a=this.list.parentElement.style.maxHeight;setTimeout(function(){var l=Math.round(e.footer.getBoundingClientRect().height),c=(parseInt(a,10)-l).toString()+"px";s=(parseInt(c,10)-2).toString()+"px",l>0&&(e.list.parentElement.style.paddingBottom=(parseInt(a,10)-parseInt(s,10)+n).toString()+"px")},1)}else this.list.parentElement.style.paddingBottom=n+"px";if(this.list.parentElement.appendChild(this.resizer),this.list.parentElement.style.width=this.resizeWidth+"px",this.list.parentElement.style.height=this.resizeHeight+"px",this.list.parentElement.style.maxHeight=this.resizeHeight+"px",this.list.style.maxHeight=this.resizeHeight+"px",this.headerTemplate){var o=this.list.parentElement.querySelector(".e-ddl-header");o&&o.offsetHeight&&(this.headerTemplateHeight=o.offsetHeight),this.resizeHeight?this.list.style.maxHeight=this.resizeHeight-this.headerTemplateHeight-16+"px":this.list.style.maxHeight=parseInt(this.list.style.maxHeight,10)-16+"px"}}this.resizer&&(se.add(this.resizer,"mousedown",this.startResizing,this),se.add(this.resizer,"touchstart",this.startResizing,this))},t.prototype.startResizing=function(e){this.isResizing=!0,this.trigger("resizeStart",e);var i=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,n=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;this.list&&this.list.parentElement&&(this.originalWidth=this.list.parentElement.offsetWidth,this.originalHeight=this.list.parentElement.offsetHeight,this.originalMouseX=i,this.originalMouseY=n),this.resizingWireEvent(),e&&e.preventDefault()},t.prototype.resizePopup=function(e){if(this.isResizing){this.trigger("resizing",e);var i=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,n=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,s=i-this.originalMouseX,a=n-this.originalMouseY,o=100,l=130;if(this.resizeWidth=Math.max(this.originalWidth+s,o),this.resizeHeight=Math.max(this.originalHeight+a,l),this.list&&this.list.parentElement){var c=parseInt(window.getComputedStyle(this.list.parentElement).minWidth,10),u=parseInt(window.getComputedStyle(this.list.parentElement).minHeight,10);c=c||100,u=u||120,this.resizeWidth=Math.max(this.originalWidth+s,c),this.resizeHeight=Math.max(this.originalHeight+a,u),this.list.parentElement.style.width=this.resizeWidth+"px",this.list.parentElement.style.height=this.resizeHeight+"px",this.list.parentElement.style.maxHeight=this.resizeHeight+"px",this.list.style.maxHeight=this.resizeHeight+"px",this.headerTemplate&&(this.list.style.maxHeight=this.resizeHeight-this.headerTemplateHeight-16+"px"),this.fixedHeaderElement&&this.ulElement&&(this.fixedHeaderElement.style.width=this.ulElement.offsetWidth+"px")}e&&e.preventDefault()}},t.prototype.stopResizing=function(e){this.isResizing&&(this.isResizing=!1,this.trigger("resizeStop",e),this.resizingUnWireEvent()),e&&e.preventDefault()},t.prototype.getListHeight=function(){var e=this.createElement("div",{className:"e-dropdownbase"}),i=this.createElement("li",{className:"e-list-item"}),n=bt(this.popupHeight);e.style.height=parseInt(n,10).toString()+"px",e.appendChild(i),document.body.appendChild(e),this.virtualListHeight=e.getBoundingClientRect().height;var s=Math.ceil(i.getBoundingClientRect().height)+parseInt(window.getComputedStyle(i).marginBottom,10);return e.remove(),s},t.prototype.removeDisabledItemsValue=function(e){if(e){for(var i=[],n=0,s=0;s<e.length;s++){var a=e[s];typeof a=="object"&&(a=JSON.parse(JSON.stringify(a))[this.fields.value]),a!=null&&!this.isDisabledItemByIndex(this.getIndexByValue(a))&&(i[n++]=e[s])}this.value=i.length>0?i:null}},t.prototype.checkInitialValue=function(){var e=this;this.fields.disabled&&this.removeDisabledItemsValue(this.value);var i=this.dataSource instanceof Array?this.dataSource.length>0:!v(this.dataSource);if(!(this.value&&this.value.length)&&v(this.text)&&!i&&this.element.tagName==="SELECT"&&this.element.options.length>0){for(var n=this.element.options,s=[],a="",o=0,l=n.length;o<l;o++){var c=n[o];if(!v(c.getAttribute("selected")))if(c.getAttribute("value")){var u=this.allowObjectBinding?this.getDataByValue(c.getAttribute("value")):c.getAttribute("value");s.push(u)}else a+=c.text+this.delimiterChar}s.length>0?this.setProperties({value:s},!0):a!==""&&this.setProperties({text:a},!0),(s.length>0||a!=="")&&(this.refreshInputHight(),this.refreshPlaceHolder())}if((this.value&&this.value.length||!v(this.text))&&(this.list||r.prototype.render.call(this)),this.fields.disabled&&(this.text=this.text&&!this.isDisabledItemByIndex(this.getIndexByValue(this.getValueByText(this.text)))?this.text:null),!v(this.text)&&(v(this.value)||this.value.length===0)&&this.initialTextUpdate(),this.value&&this.value.length){var d;if(this.enableVirtualization){for(var p=this.isPrimitiveData?"":this.fields.value,m=void 0,y=0;y<this.value.length;y++){var u=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",this.value[y]):this.value[y];y===0?m=new Er(p,"equal",u):m=m.or(p,"equal",u)}this.dataSource instanceof ut?this.dataSource.executeQuery(new di().where(m)).then(function(M){M.result.length>0&&(d=M.result,e.initStatus=!1,e.isInitRemoteVirtualData=!0,setTimeout(function(){e.initialValueUpdate(d,!0),e.initialUpdate(),e.isInitRemoteVirtualData=!1},100),e.initStatus=!0)}):d=new ut(this.dataSource).executeLocal(new di().where(m))}this.dataSource instanceof ut?this.setInitialValue=function(){e.initStatus=!1,(!e.enableVirtualization||e.enableVirtualization&&!(e.dataSource instanceof ut))&&e.initialValueUpdate(d),e.initialUpdate(),e.setInitialValue=null,e.initStatus=!0}:(this.initialValueUpdate(d,!0),this.initialUpdate()),this.updateTempValue()}else this.initialUpdate();this.initStatus=!0,this.checkAutoFocus(),v(this.text)||this.element.setAttribute("data-initial-value",this.text)},t.prototype.checkAutoFocus=function(){this.element.hasAttribute("autofocus")&&this.inputElement.focus()},t.prototype.updatevirtualizationList=function(){if(this.value&&this.value.length){for(var e=void 0,i=0,n=this.value;i<n.length;i++){var s=n[i],a=this.allowObjectBinding?Pe(this.fields.value?this.fields.value:"",s):s;e=this.getElementByValue(a),e&&this.addListSelection(e)}if(this.enableVirtualization&&this.hideSelectedItem){var o=this.list.querySelectorAll("li."+$e.li+":not(."+un+"):not(.e-reorder-hide):not(.e-virtual-list)");if(o.length){var l=this.virtualListHeight>0?Math.floor(this.virtualListHeight/this.listItemHeight):0;if(o.length<l+2){var c=this.getForQuery(this.value).clone();c=c.skip(this.viewPortInfo.startIndex),this.resetList(this.dataSource,this.fields,c)}}}}},t.prototype.setFloatLabelType=function(){Mbe(this.overAllWrapper,this.componentWrapper,this.searchWrapper,this.inputElement,this.value,this.floatLabelType,this.placeholder),this.floatLabelType!=="Never"&&$V(this.overAllWrapper,this.searchWrapper,this.element,this.inputElement,this.value,this.floatLabelType,this.placeholder)},t.prototype.addValidInputClass=function(){v(this.overAllWrapper)||(!v(this.value)&&this.value.length||this.floatLabelType==="Always"?pe([this.overAllWrapper],"e-valid-input"):Oe([this.overAllWrapper],"e-valid-input"))},t.prototype.dropDownIcon=function(){this.showDropDownIcon?(this.dropIcon=this.createElement("span",{className:n8}),this.componentWrapper.appendChild(this.dropIcon),pe([this.componentWrapper],["e-down-icon"])):v(this.dropIcon)||(this.dropIcon.parentElement.removeChild(this.dropIcon),Oe([this.componentWrapper],["e-down-icon"]))},t.prototype.initialUpdate=function(){this.mode!=="Box"&&!(this.setDynValue&&this.mode==="Default"&&this.inputFocus)&&this.updateDelimView(),this.viewPortInfo.startIndex=this.virtualItemStartIndex=0,this.viewPortInfo.endIndex=this.virtualItemEndIndex=this.itemCount,this.updateCssClass(),this.updateHTMLAttribute(),this.updateReadonly(this.readonly),this.refreshInputHight(),this.checkPlaceholderSize()},t.prototype.disableItem=function(e){if(this.fields.disabled){this.list||this.renderList();var i=-1;if(this.liCollections&&this.liCollections.length>0&&this.listData&&this.fields.disabled){if(typeof e=="string")i=this.getIndexByValue(e);else if(typeof e=="object"){if(e instanceof HTMLLIElement){for(var n=0;n<this.liCollections.length;n++)if(this.liCollections[n]===e){i=this.getIndexByValue(e.getAttribute("data-value"));break}}else for(var s=JSON.parse(JSON.stringify(e))[this.fields.value],n=0;n<this.listData.length;n++)if(JSON.parse(JSON.stringify(this.listData[n]))[this.fields.value]===s){i=this.getIndexByValue(s);break}}else i=e;var a=i<this.liCollections.length&&i>-1;if(a&&!JSON.parse(JSON.stringify(this.listData[i]))[this.fields.disabled]){var o=this.liCollections[i];if(o){this.disableListItem(o);var l=JSON.parse(JSON.stringify(this.listData[i]));if(l[this.fields.disabled]=!0,this.listData[i]=l,o.classList.contains($e.focus)&&this.removeFocus(),o.classList.contains(un)||o.classList.contains($e.selected)){var c=this.value;this.removeDisabledItemsValue(this.value),this.updateVal(this.value,c,"value")}this.mode==="CheckBox"&&this.enableGroupCheckBox&&!v(this.fields.groupBy)&&this.disableGroupHeader()}}}}},t.prototype.destroy=function(){this.isReact&&this.clearTemplate(),v(this.popupObj)||(this.popupObj.hide(),this.popupObj.destroy()),this.notify(Pbe,{}),this.unwireListEvents(),this.unWireEvent();var e=["readonly","aria-disabled","placeholder","aria-label","aria-expanded"],i=e.length;if(!v(this.inputElement))for(;i>0;)this.inputElement.removeAttribute(e[i-1]),i--;for(v(this.element)||(this.element.removeAttribute("data-initial-value"),this.element.style.display="block"),this.overAllWrapper&&this.overAllWrapper.parentElement&&(this.overAllWrapper.parentElement.tagName===this.getNgDirective()?ji(this.overAllWrapper):(this.overAllWrapper.parentElement.insertBefore(this.element,this.overAllWrapper),ji(this.overAllWrapper))),this.popupWrapper&&this.popupWrapper.parentElement&&this.popupWrapper.parentElement.remove();this.searchWrapper&&this.searchWrapper.firstChild;)this.searchWrapper.removeChild(this.searchWrapper.firstChild);this.searchWrapper&&this.searchWrapper.parentElement&&this.searchWrapper.parentElement.remove(),this.viewWrapper&&this.viewWrapper.parentElement&&this.viewWrapper.parentElement.remove(),this.overAllClear&&this.overAllClear.parentElement&&this.overAllClear.parentElement.remove(),this.delimiterWrapper&&this.delimiterWrapper.parentElement&&this.delimiterWrapper.parentElement.remove();var n=this.overAllWrapper.querySelector("select.e-multi-hidden");for(n&&n.parentElement&&n.parentElement.remove();this.componentWrapper&&this.componentWrapper.firstChild;)this.componentWrapper.removeChild(this.componentWrapper.firstChild);for(this.componentWrapper&&this.componentWrapper.parentElement&&(this.componentWrapper.removeAttribute("class"),this.componentWrapper.parentElement.remove());this.popupWrapper&&this.popupWrapper.firstChild;)this.popupWrapper.removeChild(this.popupWrapper.firstChild);if(this.inputElement)for(var s=["readonly","aria-disabled","placeholder","aria-labelledby","aria-expanded","autocomplete","aria-readonly","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-label","aria-hidden","tabindex","aria-controls","aria-describedby","size","role","type","class"],a=0;a<s.length;a++)this.inputElement.removeAttribute(s[a]);this.inputElement&&this.inputElement.remove(),this.list=null,this.popupObj=null,this.mainData=null,this.filterParent=null,this.ulElement=null,this.componentWrapper=null,this.overAllClear=null,this.overAllWrapper=null,this.hiddenElement=null,this.searchWrapper=null,this.viewWrapper=null,this.chipCollectionWrapper=null,this.targetInputElement=null,this.popupWrapper=null,this.inputElement=null,this.delimiterWrapper=null,this.liCollections=null,this.popupContentElement=null,this.header=null,this.mainList=null,this.mainListCollection=null,this.footer=null,this.selectAllEventEle=null,r.prototype.destroy.call(this)},wi([Yn({text:null,value:null,iconCss:null,groupBy:null,disabled:null},WK)],t.prototype,"fields",void 0),wi([ee(!1)],t.prototype,"enablePersistence",void 0),wi([ee(null)],t.prototype,"groupTemplate",void 0),wi([ee("No records found")],t.prototype,"noRecordsTemplate",void 0),wi([ee("Request failed")],t.prototype,"actionFailureTemplate",void 0),wi([ee("None")],t.prototype,"sortOrder",void 0),wi([ee(!0)],t.prototype,"enabled",void 0),wi([ee(!0)],t.prototype,"enableHtmlSanitizer",void 0),wi([ee(!1)],t.prototype,"enableVirtualization",void 0),wi([ee([])],t.prototype,"dataSource",void 0),wi([ee(null)],t.prototype,"query",void 0),wi([ee("StartsWith")],t.prototype,"filterType",void 0),wi([ee(1e3)],t.prototype,"zIndex",void 0),wi([ee(!1)],t.prototype,"ignoreAccent",void 0),wi([ee()],t.prototype,"locale",void 0),wi([ee(!1)],t.prototype,"enableGroupCheckBox",void 0),wi([ee(null)],t.prototype,"cssClass",void 0),wi([ee("100%")],t.prototype,"width",void 0),wi([ee("300px")],t.prototype,"popupHeight",void 0),wi([ee("100%")],t.prototype,"popupWidth",void 0),wi([ee(null)],t.prototype,"placeholder",void 0),wi([ee(null)],t.prototype,"filterBarPlaceholder",void 0),wi([ee({})],t.prototype,"htmlAttributes",void 0),wi([ee(null)],t.prototype,"valueTemplate",void 0),wi([ee(null)],t.prototype,"headerTemplate",void 0),wi([ee(null)],t.prototype,"footerTemplate",void 0),wi([ee(null)],t.prototype,"itemTemplate",void 0),wi([ee(null)],t.prototype,"allowFiltering",void 0),wi([ee(300)],t.prototype,"debounceDelay",void 0),wi([ee(!0)],t.prototype,"isDeviceFullScreen",void 0),wi([ee(!0)],t.prototype,"changeOnBlur",void 0),wi([ee(!1)],t.prototype,"allowCustomValue",void 0),wi([ee(!0)],t.prototype,"showClearButton",void 0),wi([ee(1e3)],t.prototype,"maximumSelectionLength",void 0),wi([ee(!1)],t.prototype,"readonly",void 0),wi([ee(!1)],t.prototype,"allowResize",void 0),wi([ee(null)],t.prototype,"text",void 0),wi([ee(null)],t.prototype,"value",void 0),wi([ee(!1)],t.prototype,"allowObjectBinding",void 0),wi([ee(!0)],t.prototype,"hideSelectedItem",void 0),wi([ee(!0)],t.prototype,"closePopupOnSelect",void 0),wi([ee("Default")],t.prototype,"mode",void 0),wi([ee(",")],t.prototype,"delimiterChar",void 0),wi([ee(!0)],t.prototype,"ignoreCase",void 0),wi([ee(!1)],t.prototype,"showDropDownIcon",void 0),wi([ee("Never")],t.prototype,"floatLabelType",void 0),wi([ee(!1)],t.prototype,"showSelectAll",void 0),wi([ee("Select All")],t.prototype,"selectAllText",void 0),wi([ee("Unselect All")],t.prototype,"unSelectAllText",void 0),wi([ee(!0)],t.prototype,"enableSelectionOrder",void 0),wi([ee(!0)],t.prototype,"openOnClick",void 0),wi([ee(!1)],t.prototype,"addTagOnBlur",void 0),wi([Xe()],t.prototype,"change",void 0),wi([Xe()],t.prototype,"removing",void 0),wi([Xe()],t.prototype,"removed",void 0),wi([Xe()],t.prototype,"beforeSelectAll",void 0),wi([Xe()],t.prototype,"selectedAll",void 0),wi([Xe()],t.prototype,"beforeOpen",void 0),wi([Xe()],t.prototype,"open",void 0),wi([Xe()],t.prototype,"close",void 0),wi([Xe()],t.prototype,"blur",void 0),wi([Xe()],t.prototype,"focus",void 0),wi([Xe()],t.prototype,"chipSelection",void 0),wi([Xe()],t.prototype,"resizeStop",void 0),wi([Xe()],t.prototype,"resizing",void 0),wi([Xe()],t.prototype,"resizeStart",void 0),wi([Xe()],t.prototype,"filtering",void 0),wi([Xe()],t.prototype,"tagging",void 0),wi([Xe()],t.prototype,"customValueSelection",void 0),t=wi([$n],t),t})(YK),Hbe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),lc=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Wbe="e-editor",Pd="e-input-wrapper",j4="e-input-wrapper-side",_4="e-repeat-element",CM="e-repeat-interval",qK="e-interval",Qd="e-days",zN="e-non-week",Ybe="e-week-position",qbe="e-day-position",RN="e-year-expander",o8="e-year-expander-element",l3="e-month-expander",Qbe="e-month-expand-wrapper",l8="e-month-expander-element",c8="e-month-expander-checkbox-wrapper",Gbe="e-repeat-on-week-selector",OM="e-form-left",dE="e-form-right",z4="e-month-day",u8="e-month-expander-wrapper",h8="e-month-pos",d8="e-month-week",lk="e-end-on",Kbe="e-month-expander-label",$be="e-week-expander-label",Xbe="e-end-on-left",Jbe="e-monthday-element",f8="e-end-on-element",c3="e-end-on-date",p8="e-until-date",u3="e-end-on-count",kM="e-recurrence-count",Fd="e-hide-recurrence-element",m8="e-rtl",b0="e-primary",g8="e-active",v8="e-recurrence-table",y8="e-repeat-content",Zbe="e-repeat-content-wrapper",LM="none",jM="daily",_M="weekly",zM="monthly",RM="yearly",R4="never",PM="until",FM="count",fE="text",pE="value",eDe="last",x8="repeat",tDe="repeatEvery",M8="on",w8="end",iDe="onDay",rDe="UNTIL",T8="BYDAY",nDe="BYMONTHDAY",sDe="BYMONTH",aDe="INTERVAL",oDe="COUNT",lDe="BYSETPOS",cDe="FREQ",b8="DAILY",D8="WEEKLY",E8="MONTHLY",A8="YEARLY",ck="SU",uk="MO",hk="TU",dk="WE",fk="TH",pk="FR",mk="SA",S8="sun",N8="mon",I8="tue",C8="wed",O8="thu",k8="fri",L8="sat",op="=",Zu=";",uDe=",",hDe="first",dDe="second",fDe="third",pDe="fourth",mDe={none:"",daily:"days",weekly:"weeks",monthly:"months",yearly:"years"},mE={sun:ck,mon:uk,tue:hk,wed:dk,thu:fk,fri:pk,sat:mk},j8=[Qd,zN,lk,qK,RN,l3],gDe=[zN],vDe=[Qd,RN],yDe=[Qd],xDe=[Qd,zN,RN,l3],_8=[c3,u3],MDe=[c3],wDe=[u3],TDe=(function(r){Hbe(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.defaultLocale={none:"None",daily:"Daily",weekly:"Weekly",monthly:"Monthly",month:"Month",yearly:"Yearly",never:"Never",until:"Until",count:"Count",first:"First",second:"Second",third:"Third",fourth:"Fourth",last:"Last",repeat:"Repeat",repeatEvery:"Repeat every",on:"Repeat On",end:"End",onDay:"Day",days:"Day(s)",weeks:"Week(s)",months:"Month(s)",years:"Year(s)",every:"every",summaryTimes:"time(s)",summaryOn:"on",summaryUntil:"until",summaryRepeat:"Repeats",summaryDay:"day(s)",summaryWeek:"week(s)",summaryMonth:"month(s)",summaryYear:"year(s)",monthWeek:"Month Week",monthPosition:"Month Position",monthExpander:"Month Expander",yearExpander:"Year Expander",repeatInterval:"Repeat Interval"},n.renderStatus=!1,n.dayButtons=[],n.monthButtons=[],n}return t.prototype.startState=function(e,i,n){this.showFormElement(),this.updateForm(e),this.freshOnEndForm(),this.updateEndOnForm(i),this.selectMonthDay(n),this.updateUntilDate(n),this.onMonthDay.setProperties({checked:!0})},t.prototype.preRender=function(){this.localeObj=new Ql(this.getModuleName(),this.defaultLocale,this.locale),this.calendarUtil=nk(this.calendarMode)},t.prototype.applyCustomClass=function(e){e&&pe([this.element],e.split(" "))},t.prototype.initialize=function(){pe([this.element],"e-"+this.getModuleName()),this.renderComponent(),typeof this.startDate=="string"&&this.setProperties({startDate:new Date(this.startDate)},!1),!v(this.value)&&this.value!==""?this.setRecurrenceRule(this.value):(v(this.repeatType.value)||(this.startState(this.repeatType.value.toString().toUpperCase(),this.endTypes[0],this.startDate),this.updateForm(this.repeatType.value.toString())),this.selectedType>0&&this.setProperties({value:this.getRecurrenceRule()},!1)),this.applyCustomClass(this.cssClass)},t.prototype.triggerChangeEvent=function(){var e=this;if(this.renderStatus){var i=this.getRecurrenceRule();this.trigger("change",{value:i},function(n){return e.setProperties({value:n.value},!1)})}},t.prototype.resetDayButton=function(){var e=[].slice.call(this.element.querySelectorAll("."+Qd+" button"));e.forEach(function(i){return Oe([i],[g8,b0])})},t.prototype.daySelection=function(e){this.resetDayButton();var i=[0,1,2,3,4,5,6];this.rotateArray(i,this.firstDayOfWeek);var n=this.element.querySelector("."+Qd+' button[data-index="'+i.indexOf(e)+'"]');n&&pe([n],[g8,b0])},t.prototype.rtlClass=function(e){e?pe([this.element],m8):Oe([this.element],m8)},t.prototype.updateUntilDate=function(e){var i=new Date(e.getTime());i.setDate(i.getDate()+60),this.untilDateObj.setProperties({value:i})},t.prototype.selectMonthDay=function(e){var i=[S8,N8,I8,C8,O8,k8,L8];this.monthDate.setProperties({value:this.calendarUtil.getDate(e)}),this.monthWeekDays.setProperties({value:mE[i[e.getDay()]]}),this.monthValue.setProperties({value:""+this.calendarUtil.getMonth(e)}),this.monthWeekPos.setProperties({value:this.getDayPosition(e)}),this.daySelection(e.getDay())},t.prototype.updateForm=function(e){var i=this;this.repeatType.setProperties({value:e});var n=this.element.querySelector("."+lk);switch(e===jM?No(n,[OM],[dE]):No(n,[dE],[OM]),e){case LM:j8.forEach(function(s){return pe([i.element.querySelector("."+s)],Fd)});break;case _M:gDe.forEach(function(s){return pe([i.element.querySelector("."+s)],Fd)});break;case zM:vDe.forEach(function(s){return pe([i.element.querySelector("."+s)],Fd)});break;case RM:yDe.forEach(function(s){return pe([i.element.querySelector("."+s)],Fd)});break;case jM:xDe.forEach(function(s){return pe([i.element.querySelector("."+s)],Fd)});break}},t.prototype.updateEndOnForm=function(e){var i=this;switch(this.endType.setProperties({value:e}),e){case R4:_8.forEach(function(n){return pe([i.element.querySelector("."+n)],Fd)});break;case PM:wDe.forEach(function(n){return pe([i.element.querySelector("."+n)],Fd)});break;case FM:MDe.forEach(function(n){return pe([i.element.querySelector("."+n)],Fd)});break}},t.prototype.freshOnEndForm=function(){var e=this;_8.forEach(function(i){var n=e.element.querySelector("."+i);n&&Oe([n],Fd)})},t.prototype.showFormElement=function(){var e=this;j8.forEach(function(i){var n=e.element.querySelector("."+i);n&&Oe([n],Fd)})},t.prototype.renderDropdowns=function(){var e=this,i=this;this.repeatType=new Zy({dataSource:this.getRepeatData(),floatLabelType:"Always",enableRtl:this.enableRtl,index:this.selectedType,fields:{text:fE,value:pE},placeholder:this.localeObj.getConstant(x8),htmlAttributes:{title:this.localeObj.getConstant(x8)},change:function(s){i.setProperties({selectedType:e.frequencies.indexOf(s.value)},!1),i.element.querySelector("."+y8).innerHTML=i.localeObj.getConstant(mDe[s.value]),i.showFormElement(),i.updateForm(s.value),i.resetFormValues(),i.triggerChangeEvent()}}),this.repeatType.appendTo(this.element.querySelector("."+_4)),this.endType=new Zy({dataSource:this.getEndData(),popupWidth:this.getPopupWidth(),floatLabelType:"Always",placeholder:this.localeObj.getConstant(w8),enableRtl:this.enableRtl,index:1,fields:{text:fE,value:pE},change:function(s){i.freshOnEndForm(),i.updateEndOnForm(s.value),i.resetFormValues(),i.triggerChangeEvent()}}),this.endType.appendTo(this.element.querySelector("."+f8));var n=function(s){return new Zy({dataSource:s,popupWidth:e.getPopupWidth(),enableRtl:e.enableRtl,fields:{text:fE,value:pE},index:1,change:function(a){i.onWeekDay.setProperties({checked:!0}),i.resetFormValues(),i.triggerChangeEvent()}})};this.monthWeekPos=n(this.getMonthPosData()),this.monthWeekPos.appendTo(this.element.querySelector("."+h8)),this.monthWeekDays=n(this.getDayData("wide")),this.monthWeekDays.appendTo(this.element.querySelector("."+d8)),this.monthValue=new Zy({dataSource:this.getMonthData(),fields:{text:fE,value:pE},enableRtl:this.enableRtl,index:7,change:function(s){i.resetFormValues(),i.triggerChangeEvent()}}),this.monthValue.appendTo(this.element.querySelector("."+o8))},t.prototype.setDefaultValue=function(){for(var e=[].slice.call(this.element.querySelectorAll(".e-control .e-numerictextbox")),i=0,n=e;i<n.length;i++){var s=n[i],a=s.ej2_instances[0];a.element.classList.contains(CM)?(a.value=1,a.dataBind()):a.element.classList.contains(kM)&&(a.value=10,a.dataBind())}},t.prototype.resetFormValues=function(){for(var e=[].slice.call(this.element.querySelectorAll('.e-control [type="text"]')),i=0,n=e;i<n.length;i++){var s=n[i],a=void 0;if(s.classList.contains("e-datepicker"))a=s.ej2_instances[0],a.value?(a.value=a.value,a.dataBind()):this.updateUntilDate(this.startDate);else if(s.classList.contains("e-dropdownlist"))a=s.ej2_instances[0],a.index=a.index||0,a.dataBind();else if(s.classList.contains("e-numerictextbox")){a=s.ej2_instances[0];var o=void 0;a.element.classList.contains(CM)?o=1:a.element.classList.contains(kM)?o=10:o=this.startDate.getDate(),a.value=a.value||o,a.dataBind()}}},t.prototype.getPopupWidth=function(){return Re.isDevice?"100%":"auto"},t.prototype.renderDatePickers=function(){var e=this;this.untilDateObj=new oK({firstDayOfWeek:this.firstDayOfWeek,enableRtl:this.enableRtl,locale:this.locale,min:this.minDate,max:this.maxDate,format:v(this.dateFormat)?this.getFormat("dateFormats"):this.dateFormat,change:function(i){i.value&&e.triggerChangeEvent()}}),this.untilDateObj.appendTo(this.element.querySelector("."+p8))},t.prototype.getFormat=function(e){var i;return this.locale==="en"||this.locale==="en-US"?i=Pe(e+".short",yl(this.getCalendarMode())):i=Pe("main."+this.locale+".dates.calendars."+this.getCalendarMode()+"."+e+".short",ws),i},t.prototype.dayButtonRender=function(){for(var e=this,i=[].slice.call(this.element.querySelectorAll("."+Qd+" button")),n=this,s=0,a=i;s<a.length;s++){var o=a[s],l=new z1({isToggle:!0,enableRtl:this.enableRtl},o);this.dayButtons.push(l),se.add(o,"click",function(c){var u=[].slice.call(e.element.querySelectorAll("."+Qd+" button."+b0)),d=c.target;d.classList.contains(b0)?u.length>1&&(Oe([d],b0),n.triggerChangeEvent()):(pe([d],b0),n.triggerChangeEvent())})}},t.prototype.radioButtonRender=function(){var e=this;this.onMonthDay=new sB({label:this.localeObj.getConstant(iDe),enableRtl:this.enableRtl,name:"monthType",value:"day",change:function(){e.resetFormValues(),e.triggerChangeEvent()}}),this.onMonthDay.appendTo(this.element.querySelector("."+l8)),this.monthButtons.push(this.onMonthDay),this.onWeekDay=new sB({label:this.localeObj.getConstant("monthExpander"),cssClass:"e-month-type",name:"monthType",enableRtl:this.enableRtl,value:"daypos",change:function(){e.resetFormValues(),e.triggerChangeEvent()}}),this.onWeekDay.appendTo(this.element.querySelector("."+u8)),this.monthButtons.push(this.onWeekDay)},t.prototype.numericTextboxRender=function(){var e=this;this.recurrenceCount=new q2({value:10,format:"#",enableRtl:this.enableRtl,min:1,max:999,change:function(){e.triggerChangeEvent()}}),this.recurrenceCount.appendTo(this.element.querySelector("."+kM)),this.monthDate=new q2({value:1,format:"#",enableRtl:this.enableRtl,min:1,max:31,change:function(){e.onMonthDay.setProperties({checked:!0}),e.triggerChangeEvent()}}),this.monthDate.appendTo(this.element.querySelector("."+z4)),this.repeatInterval=new q2({value:1,format:"#",min:1,max:999,enableRtl:this.enableRtl,floatLabelType:"Always",placeholder:this.localeObj.getConstant(tDe),change:function(){e.triggerChangeEvent()}}),this.repeatInterval.appendTo(this.element.querySelector("."+CM))},t.prototype.renderComponent=function(){this.setTemplate(),this.renderDropdowns(),this.renderDatePickers(),this.dayButtonRender(),this.radioButtonRender(),this.numericTextboxRender()},t.prototype.rotateArray=function(e,i){for(var n,s=0;s<i;s++)n=e.shift(),e.push(n)},t.prototype.getEndData=function(){var e=this,i=[];return this.endTypes.forEach(function(n){i.push({text:e.localeObj.getConstant(n),value:n})}),i},t.prototype.getDayPosition=function(e){var i=new Date(e.getTime()),n=new Date(e.getTime()),s=e.getDay(),a=[];for(i=this.calendarUtil.getMonthStartDate(i),n=this.calendarUtil.getMonthEndDate(n);i<n;)i.getDay()===s&&a.push(i.getTime()),i.setDate(i.getDate()+1);return a.indexOf(e.getTime())===a.length-1?-1:a.indexOf(e.getTime())+1},t.prototype.getRepeatData=function(){var e=[],i=this;return this.frequencies.forEach(function(n){var s=n===LM?R4:n;e.push({text:i.localeObj.getConstant(s),value:n})}),e},t.prototype.getMonthPosData=function(){var e=[hDe,dDe,fDe,pDe,eDe],i={first:1,second:2,third:3,fourth:4,last:-1},n=this,s=[];return e.forEach(function(a){s.push({text:n.localeObj.getConstant(a),value:i[""+a]})}),s},t.prototype.getDayData=function(e){var i=[S8,N8,I8,C8,O8,k8,L8],n=[],s;if(this.rotateArray(i,this.firstDayOfWeek),this.locale==="en"||this.locale==="en-US"){var a="days.stand-alone.";s=Pe(a+e,yl(this.getCalendarMode()))}else{var a="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.stand-alone."+e;s=Pe(a,ws)}for(var o=0,l=i;o<l.length;o++){var c=l[o],u=Pe(c,s);n.push({text:e==="narrow"?u:Rn(u,"single"),value:mE[""+c]})}return n},t.prototype.getMonthData=function(){var e=[],i;if(this.locale==="en"||this.locale==="en-US"){var n="months.stand-alone.wide";i=Pe(n,yl(this.getCalendarMode()))}else{var n="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".months.stand-alone.wide";i=Pe(n,ws)}for(var s=0,a=Object.keys(i);s<a.length;s++){var o=a[s];e.push({text:Rn(Pe(o,i),"single"),value:o})}return e},t.prototype.setTemplate=function(){var e=this.getDayData("narrow"),i=this.getDayData("wide");this.element.innerHTML='<div class="'+Wbe+'"><div class="'+Pd+" "+OM+'"><input type="text" tabindex="0" class="'+_4+'"label="'+_4.substr(2)+'" /></div><div class="'+Pd+" "+qK+" "+dE+'"><table  class="'+v8+" "+Zbe+'"  role="none"><tr><td><input type="text" tabindex="0" id="'+this.element.id+"_"+CM+'" class="'+CM+'"title="'+this.localeObj.getConstant("repeatEvery")+'" /></td><td><span class="'+y8+'"></span></td></tr></table></div><div class="'+j4+" "+Qd+" "+OM+'"><div class='+$be+">"+this.localeObj.getConstant(M8)+'</div><button type="button" class="e-round" data-index="0" title="'+i[0].text+'">'+e[0].text+'</button><button type="button" class="e-round" data-index="1" title="'+i[1].text+'">'+e[1].text+'</button><button type="button" class="e-round" data-index="2" title="'+i[2].text+'">'+e[2].text+'</button><button type="button" class="e-round" data-index="3" title="'+i[3].text+'">'+e[3].text+'</button><button type="button" class="e-round" data-index="4" title="'+i[4].text+'">'+e[4].text+'</button><button type="button" class="e-round" data-index="5" title="'+i[5].text+'">'+e[5].text+'</button><button type="button" class="e-round" data-index="6" title="'+i[6].text+'">'+e[6].text+'</button></div><div class="'+j4+" "+zN+" "+OM+'"><div class='+Kbe+">"+this.localeObj.getConstant(M8)+'</div><div class="'+RN+'"><input class="'+o8+'" type="text" tabindex="0" title="'+this.localeObj.getConstant("yearExpander")+'"/></div><div class="'+l3+'"><table class="'+v8+" "+Qbe+'" role="none"><tr><td><div class="'+Pd+" "+c8+'"><input class="'+l8+'"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td colspan="2"><div class="'+Pd+" "+Jbe+'"><input type="text" tabindex="0" id="'+this.element.id+"_"+z4+'" class="'+z4+'"title="'+this.localeObj.getConstant("on")+'" /></div></td></tr><tr><td><div class="'+Pd+" "+c8+" "+Gbe+'"><input class="'+u8+'"title="'+this.localeObj.getConstant("monthExpander")+'" type="radio"></div></td><td><div class="'+Pd+" "+Ybe+'" ><input type="text" tabindex="0" class="'+h8+'"title="'+this.localeObj.getConstant("monthPosition")+'" /></div></td><td><div class="'+Pd+" "+qbe+'"><input type="text" tabindex="0" class="'+d8+'"title="'+this.localeObj.getConstant("monthWeek")+'" /></div></td></tr></table></div></div><div class="'+j4+" "+lk+" "+dE+'"><div class="'+Pd+" "+Xbe+'"><input type="text" tabindex="0" class="'+f8+'"title="'+this.localeObj.getConstant(w8)+'" /></div><div class="'+Pd+" "+c3+'" ><input type="text" tabindex="0" class="'+p8+'"title="'+this.localeObj.getConstant(PM)+'" /></div><div class="'+Pd+" "+u3+'"><input type="text" tabindex="0" id="'+this.element.id+"_"+kM+'" class="'+kM+'"title="'+this.localeObj.getConstant(FM)+'" /></div></div></div></div>'},t.prototype.getSelectedDaysData=function(){var e=T8+op,i=[].slice.call(this.element.querySelectorAll("."+Qd+" button."+b0)),n=[ck,uk,hk,dk,fk,pk,mk];this.rotateArray(n,this.firstDayOfWeek);for(var s=0;s<i.length;s++)e+=n[parseInt(i[parseInt(s.toString(),10)].getAttribute("data-index"),10)]+(s===i.length-1?"":uDe);return e+Zu},t.prototype.getSelectedMonthData=function(){var e;return this.onWeekDay.checked?e=T8+op+this.monthWeekDays.value+Zu+lDe+op+this.monthWeekPos.value+Zu:e=nDe+op+this.monthDate.value+Zu,e},t.prototype.getIntervalData=function(){return aDe+op+this.repeatInterval.value+Zu},t.prototype.getEndOnCount=function(){return oDe+op+this.recurrenceCount.value+Zu},t.prototype.getYearMonthRuleData=function(){return sDe+op+this.monthValue.value+Zu},t.prototype.updateWeekButton=function(e){var i=[ck,uk,hk,dk,fk,pk,mk];this.rotateArray(i,this.firstDayOfWeek);for(var n=0,s=this.dayButtons;n<s.length;n++){var a=s[n],o=parseInt(a.element.getAttribute("data-index"),10);e.indexOf(i[parseInt(o.toString(),10)])!==-1?a.setProperties({isPrimary:!0}):a.setProperties({isPrimary:!1})}},t.prototype.updateMonthUI=function(){if(this.ruleObject.monthDay.length)this.monthDate.setProperties({value:this.ruleObject.monthDay[0]}),this.onMonthDay.setProperties({checked:!0});else{this.onWeekDay.setProperties({checked:!0}),this.monthWeekPos.setProperties({value:this.ruleObject.setPosition});for(var e=0,i=Object.keys(mE);e<i.length;e++){var n=i[e];if(mE[""+n]===this.ruleObject.day[0]){this.monthWeekDays.setProperties({value:this.ruleObject.day[0]});break}}}},t.prototype.updateUI=function(e,i){switch(this.repeatInterval.setProperties({value:this.ruleObject.interval}),i){case PM:this.untilDateObj.setProperties({value:this.ruleObject.until});break;case FM:this.recurrenceCount.setProperties({value:this.ruleObject.count});break}switch(e){case _M:this.updateWeekButton(this.ruleObject.day);break;case RM:this.monthValue.setProperties({index:this.ruleObject.month[0]-1}),this.updateMonthUI();break;case zM:this.updateMonthUI();break}},t.prototype.getUntilData=function(){if(!this.untilDateObj.value)return"";var e=Uy(this.untilDateObj.value);return rDe+op+e+Zu},t.prototype.destroyComponents=function(){this.recurrenceCount.isDestroyed||(this.recurrenceCount.destroy(),this.recurrenceCount=null),this.monthDate.isDestroyed||(this.monthDate.destroy(),this.monthDate=null),this.repeatInterval.isDestroyed||(this.repeatInterval.destroy(),this.repeatInterval=null),this.untilDateObj.isDestroyed||(this.untilDateObj.destroy(),this.untilDateObj=null),this.repeatType.isDestroyed||(this.repeatType.destroy(),this.repeatType=null),this.endType.isDestroyed||(this.endType.destroy(),this.endType=null),this.monthWeekPos.isDestroyed||(this.monthWeekPos.destroy(),this.monthWeekPos=null),this.monthWeekDays.isDestroyed||(this.monthWeekDays.destroy(),this.monthWeekDays=null),this.monthValue.isDestroyed||(this.monthValue.destroy(),this.monthValue=null),this.onMonthDay.isDestroyed||(this.onMonthDay.destroy(),this.onMonthDay=null),this.onWeekDay.isDestroyed||(this.onWeekDay.destroy(),this.onWeekDay=null),this.dayButtons.forEach(function(e){e.isDestroyed||e.destroy()}),this.dayButtons=[],this.monthButtons.forEach(function(e){e.isDestroyed||e.destroy()}),this.monthButtons=[]},t.prototype.resetFields=function(){this.startState(LM,this.endTypes[0],this.startDate),this.setDefaultValue()},t.prototype.updateRuleUntilDate=function(e){if(this.untilDateObj.value&&e){var i=this.untilDateObj.value,n=new Date(i.getFullYear(),i.getMonth(),i.getDate(),e.getHours(),e.getMinutes(),e.getMilliseconds());this.untilDateObj.setProperties({value:n})}},t.prototype.getCalendarMode=function(){return v(this.calendarMode)?"gregorian":this.calendarMode.toLowerCase()},t.prototype.getRuleSummary=function(e){return e===void 0&&(e=this.getRecurrenceRule()),MTe(e,this.localeObj,this.locale,this.calendarMode)},t.prototype.getRecurrenceDates=function(e,i,n,s,a){return a=v(a)?this.startDate:a,Zj(e,i,n,this.firstDayOfWeek,s,a,this.calendarMode)},t.prototype.getRecurrenceRule=function(){var e=cDe+op;switch(this.repeatType.value){case jM:e+=b8+Zu;break;case _M:e+=D8+Zu+this.getSelectedDaysData();break;case zM:e+=E8+Zu+this.getSelectedMonthData();break;case RM:e+=A8+Zu+this.getSelectedMonthData()+this.getYearMonthRuleData();break;case LM:return""}switch(e+=this.getIntervalData(),this.endType.value){case PM:e+=this.getUntilData();break;case FM:e+=this.getEndOnCount();break}return e},t.prototype.setRecurrenceRule=function(e,i){if(i===void 0&&(i=this.startDate),!e){this.repeatType.setProperties({value:LM});return}this.renderStatus=!1,this.ruleObject=n3(e);var n=this.ruleObject.count?FM:this.ruleObject.until?PM:R4;switch(this.ruleObject.freq){case b8:this.startState(jM,n,i),this.updateUI(jM,n);break;case D8:this.startState(_M,n,i),this.updateUI(_M,n);break;case E8:this.startState(zM,n,i),this.updateUI(zM,n);break;case A8:this.startState(RM,n,i),this.updateUI(RM,n);break}this.renderStatus=!0,this.triggerChangeEvent()},t.prototype.detachInputs=function(){for(var e=[].slice.call(this.element.querySelectorAll("input")),i=0,n=e;i<n.length;i++){var s=n[i];zt(s)}},t.prototype.destroy=function(){if(!this.isDestroyed){this.destroyComponents(),r.prototype.destroy.call(this);var e=["e-"+this.getModuleName()];for(this.cssClass&&(e=e.concat(this.cssClass.split(" "))),Oe([this.element],e),this.detachInputs();this.element.firstElementChild;)this.element.removeChild(this.element.firstElementChild)}},t.prototype.getModuleName=function(){return"recurrenceeditor"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.render=function(){this.initialize(),this.rtlClass(this.enableRtl),this.renderStatus=!0,this.renderComplete()},t.prototype.onPropertyChanged=function(e,i){for(var n=0,s=Object.keys(e);n<s.length;n++){var a=s[n];switch(a){case"startDate":this.selectMonthDay(e.startDate),this.updateUntilDate(e.startDate),this.endType.setProperties({index:0});break;case"enableRtl":this.rtlClass(e.enableRtl);break;case"cssClass":i.cssClass&&Oe([this.element],i.cssClass.split(" ")),e.cssClass&&pe([this.element],e.cssClass.split(" "));break;case"selectedType":this.repeatType.setProperties({index:this.selectedType});break;case"minDate":this.untilDateObj.setProperties({min:this.minDate});break;case"maxDate":this.untilDateObj.setProperties({max:this.maxDate});break;case"value":this.getRecurrenceRule()!==this.value&&this.setRecurrenceRule(this.value);break;case"calendarMode":this.calendarMode=e.calendarMode,this.calendarUtil=nk(e.calendarMode);break;case"locale":case"frequencies":case"firstDayOfWeek":case"endTypes":this.refresh();break;case"dateFormat":this.untilDateObj.setProperties({format:e.dateFormat});break}}},lc([ee(["none","daily","weekly","monthly","yearly"])],t.prototype,"frequencies",void 0),lc([ee(["never","until","count"])],t.prototype,"endTypes",void 0),lc([ee(0)],t.prototype,"firstDayOfWeek",void 0),lc([ee(new Date)],t.prototype,"startDate",void 0),lc([ee()],t.prototype,"dateFormat",void 0),lc([ee("Gregorian")],t.prototype,"calendarMode",void 0),lc([ee()],t.prototype,"cssClass",void 0),lc([ee()],t.prototype,"value",void 0),lc([ee(new Date(1900,0,1))],t.prototype,"minDate",void 0),lc([ee(new Date(2099,11,31))],t.prototype,"maxDate",void 0),lc([ee(0)],t.prototype,"selectedType",void 0),lc([Xe()],t.prototype,"change",void 0),lc([Xe()],t.prototype,"created",void 0),lc([Xe()],t.prototype,"destroyed",void 0),t=lc([$n],t),t})(Dl),lp="e-field",BM="e-recurrence-container",bDe="e-recurrence-edit",DDe="e-recurrence-edit-button",EDe="e-recurrence-dialog",D0="e-hide",z8=(function(){function r(t){this.parent=t,this.l10n=this.parent.localeObj,this.fields=this.parent.eventFields,this.eventWindowTime={startTime:new Date,endTime:new Date},this.renderEventWindow()}return r.prototype.renderEventWindow=function(){this.element=Be("div",{id:this.parent.element.id+"_dialog_wrapper"}),this.parent.element.appendChild(this.element);var t={animationSettings:{effect:"Zoom"},content:this.getEventWindowContent(),cssClass:sp,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,height:this.parent.isAdaptive?"100%":"auto",minHeight:"300px",isModal:!0,showCloseIcon:!this.parent.isAdaptive,target:document.body,visible:!1,width:"500px",beforeOpen:this.onBeforeOpen.bind(this),beforeClose:this.onBeforeClose.bind(this)};this.parent.isAdaptive?(t.cssClass=sp+" "+d1,this.parent.editorHeaderTemplate||(t.header='<div class="e-title-header"><div class="e-back-icon e-icons"></div><div class="e-title-text">'+this.l10n.getConstant("newEvent")+'</div><div class="e-save-icon e-icons"></div></div>')):(this.parent.editorFooterTemplate||this.renderDialogButtons(t),this.parent.editorHeaderTemplate||(t.header='<div class="e-title-text">'+this.l10n.getConstant("newEvent")+"</div>")),this.dialogObject=new ZA(t,this.element),this.dialogObject.element.querySelector(".e-dlg-closeicon-btn")&&this.dialogObject.element.querySelector(".e-dlg-closeicon-btn").setAttribute("title",this.l10n.getConstant("close")),this.addEventHandlers(),pe([this.element.parentElement],sp+"-container"),se.add(this.dialogObject.element,"keydown",this.preventEventSave,this),this.applyFormValidation()},r.prototype.renderDialogButtons=function(t){t.buttons=[{buttonModel:{content:this.l10n.getConstant("deleteButton"),cssClass:vp,disabled:!this.parent.eventSettings.allowDeleting||this.parent.readonly},click:this.eventDelete.bind(this)},{buttonModel:{content:this.l10n.getConstant("saveButton"),cssClass:"e-primary "+oE,isPrimary:!0,disabled:!this.parent.eventSettings.allowAdding||this.parent.readonly},click:this.eventSave.bind(this)},{buttonModel:{cssClass:DK,content:this.l10n.getConstant("cancelButton")},click:this.dialogClose.bind(this)}]},r.prototype.addEventHandlers=function(){var t=this.element.querySelector("."+cTe),e=this.element.querySelector("."+NV);this.parent.isAdaptive&&!v(t)&&!v(e)&&(se.add(t,"click",this.dialogClose,this),se.add(e,"click",this.eventSave,this))},r.prototype.refresh=function(){this.destroy(!0),this.renderEventWindow()},r.prototype.refreshRecurrenceEditor=function(){if(this.recurrenceEditor){var t=this.recurrenceEditor.element;this.recurrenceEditor.destroy(),this.createRecurrenceEditor(t)}},r.prototype.setRecurrenceEditor=function(t){this.parent.editorTemplate&&(this.recurrenceEditor=t)},r.prototype.openEditor=function(t,e,i,n){if(this.parent.currentAction=e,this.parent.removeNewEventElement(),this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),this.parent.inlineModule.removeInlineAppointmentElement(),e==="Add"){var s={};this.cellClickAction=!i,this.parent.activeCellsData=t;var a=t;this.cellClickAction?this.convertToEventData(a,s):(this.parent.activeCellsData={startTime:a.startTime||a[this.fields.startTime],endTime:a.endTime||a[this.fields.endTime],isAllDay:a.isAllDay||a[this.fields.isAllDay],element:a.element,groupIndex:a.groupIndex},s=a),t=s}v(this.parent.editorHeaderTemplate)||(this.parent.resetTemplates(["editorHeaderTemplate"]),this.parent.isAdaptive&&!this.parent.editorFooterTemplate?this.dialogObject.header=this.createAdaptiveHeaderElement(t):this.dialogObject.header=this.getDialogHeader(t)),v(this.parent.editorFooterTemplate)||(this.parent.resetTemplates(["editorFooterTemplate"]),this.dialogObject.footerTemplate=this.getDialogFooter(t)),(!v(this.parent.editorHeaderTemplate)||!v(this.parent.editorFooterTemplate))&&(this.dialogObject.dataBind(),this.addEventHandlers()),v(this.parent.editorTemplate)?this.setEditorContent(t,e,n):this.renderFormElements(this.element.querySelector(".e-schedule-form"),t,e,n)},r.prototype.setEditorContent=function(t,e,i){switch(!this.parent.isAdaptive&&v(this.parent.editorTemplate)&&Oe([this.dialogObject.element.querySelector(".e-recurrenceeditor")],hn),this.recurrenceEditor&&(this.recurrenceEditor.firstDayOfWeek=this.parent.activeViewOptions.firstDayOfWeek),e){case"Add":this.onCellDetailsUpdate(t,i);break;case"Save":case"EditOccurrence":case"EditSeries":case"EditFollowingEvents":e==="EditOccurrence"&&!this.parent.isAdaptive&&v(this.parent.editorTemplate)&&pe([this.dialogObject.element.querySelector(".e-recurrenceeditor")],hn),this.cellClickAction=!1,this.onEventDetailsUpdate(t);break}},r.prototype.setDialogContent=function(){this.dialogObject.content=this.getEventWindowContent(),this.dialogObject.dataBind(),this.applyFormValidation()},r.prototype.setDialogHeader=function(){v(this.parent.editorHeaderTemplate)?this.parent.isAdaptive?this.dialogObject.header='<div class="e-title-header"><div class="e-back-icon e-icons"></div><div class="e-title-text">'+this.l10n.getConstant("newEvent")+'</div><div class="e-save-icon e-icons"></div></div>':this.dialogObject.header='<div class="e-title-text">'+this.l10n.getConstant("newEvent")+"</div>":(this.parent.resetTemplates(["editorHeaderTemplate"]),this.parent.isAdaptive&&!this.parent.editorFooterTemplate?this.dialogObject.header=this.createAdaptiveHeaderElement():this.dialogObject.header=this.getDialogHeader()),this.dialogObject.dataBind(),this.addEventHandlers()},r.prototype.setDialogFooter=function(){v(this.parent.editorFooterTemplate)?!this.parent.isAdaptive&&v(this.parent.editorFooterTemplate)?this.renderDialogButtons(this.dialogObject):this.parent.isAdaptive&&v(this.parent.editorFooterTemplate)&&(this.dialogObject.footerTemplate=null):(this.parent.resetTemplates(["editorFooterTemplate"]),this.dialogObject.footerTemplate=this.getDialogFooter()),this.dialogObject.dataBind()},r.prototype.createAdaptiveHeaderElement=function(t){var e=Be("div",{className:"e-title-header"}),i=Be("div",{className:"e-back-icon e-icons"});e.appendChild(i);var n=this.getDialogHeader(t);e.appendChild(n);var s=Be("div",{className:"e-save-icon e-icons"});return e.appendChild(s),e},r.prototype.getDialogHeader=function(t){var e=[],i=this.parent.element.id+"_editorHeaderTemplate",n=document.createElement("div");return e=[].slice.call(this.parent.getEditorHeaderTemplate()(t||{},this.parent,"editorHeaderTemplate",i,!1)),ri(e,n),n},r.prototype.getDialogFooter=function(t){var e=[],i=this.parent.element.id+"_editorFooterTemplate",n=document.createElement("div");return e=[].slice.call(this.parent.getEditorFooterTemplate()(t||{},this.parent,"editorFooterTemplate",i,!1)),ri(e,n),n},r.prototype.preventEventSave=function(t){this.parent&&!this.parent.allowKeyboardInteraction&&t.code==="Enter"&&(this.isEnterKey=!0)},r.prototype.onBeforeOpen=function(t){var e=this,i=this.eventData[this.fields.endTime].getTime(),n={type:"Editor",data:this.eventData,cancel:!1,element:this.element,target:this.cellClickAction?this.parent.activeCellsData.element:this.parent.activeEventData.element};this.cellClickAction&&(n.duration=this.getSlotDuration());var s=this.getInstance(oE);s&&(s.disabled=!(this.cellClickAction?this.parent.eventSettings.allowAdding:this.parent.eventSettings.allowEditing),s.dataBind());var a=this.getInstance(vp);a&&(a.disabled=!this.parent.eventSettings.allowDeleting,a.dataBind());var o=new Km;return this.parent.trigger(ww,n,function(l){if(t.cancel=l.cancel,t.maxHeight=e.parent.isAdaptive?"max-content":t.maxHeight,e.duration=e.cellClickAction?l.duration:null,e.eventData[e.fields.endTime].getTime()===i&&!e.cellClickAction&&e.eventData[e.fields.endTime].getHours()===0&&e.eventData[e.fields.endTime].getMinutes()===0&&(e.eventData=qe({},e.eventData,null,!0),e.trimAllDay(e.eventData)),e.refreshDateTimePicker(e.duration),e.cellClickAction&&l.duration!==e.getSlotDuration()&&v(e.parent.editorTemplate)){var c=e.getInstance(Fm),u=e.getInstance(x0);u.value=new Date(c.value.getTime()+ls*l.duration),u.dataBind()}e.parent.editorTemplate&&e.element.querySelector(".e-recurrenceeditor")&&!e.recurrenceEditor&&(e.recurrenceEditor=e.getInstance("e-recurrenceeditor")),o.resolve(t)}),o},r.prototype.onBeforeClose=function(t){var e=this;t.isInteracted&&(this.isCrudAction=!1);var i={type:"Editor",event:t.event||this.dialogEvent,data:this.eventCrudData,cancel:!1,element:this.element,target:this.cellClickAction?this.parent.activeCellsData.element:this.parent.activeEventData.element},n=new Km;return this.parent.trigger(iS,i,function(s){t.cancel=s.cancel,s.cancel||(e.isCrudAction&&(t.cancel=e.processCrudActions(s.data),e.isCrudAction=t.cancel),e.isCrudAction||(e.resetForm(),e.parent.eventBase.focusElement(!0),e.eventCrudData=null)),n.resolve(t)}),n},r.prototype.getEventWindowContent=function(){var t=Be("div",{className:Zwe}),e=Be("form",{id:this.parent.element.id+"EditForm",className:pp});return e.onsubmit=function(){return!1},this.renderFormElements(e),t.appendChild(e),t},r.prototype.renderFormElements=function(t,e,i,n){var s=this;if(v(this.parent.editorTemplate))t.appendChild(this.getDefaultEventWindowContent()),e&&this.setEditorContent(e,i,n);else{if(e&&(this.fieldValidator&&(this.fieldValidator.destroy(),this.fieldValidator=null),this.recurrenceEditor&&(this.recurrenceEditor.destroy(),this.recurrenceEditor=null),this.destroyComponents(),this.parent.resetTemplates(["editorTemplate"]),se.clearEvents(t),!this.parent.isReact))for(var a=[].slice.call(t.children),o=0,l=a;o<l.length;o++){var c=l[o];ji(c)}var u=this.parent.element.id+"_editorTemplate",d=[].slice.call(this.parent.getEditorTemplate()(e||{},this.parent,"editorTemplate",u,!1));ri(d,t),this.parent.renderTemplates(function(){s.element&&(s.applyFormValidation(),e&&s.setEditorContent(e,i,n))})}},r.prototype.getDefaultEventWindowContent=function(){var t=this.createDivElement(uTe),e=this.createDivElement(nTe);t.appendChild(e),e.appendChild(this.renderTextBox(Bs)),e.appendChild(this.renderTextBox(G0));var i=this.createDivElement(aTe);t.appendChild(i),i.appendChild(this.renderDateTimePicker(Fm,this.onTimeChange.bind(this))),i.appendChild(this.renderDateTimePicker(x0));var n=this.createDivElement(eTe);t.appendChild(n),n.appendChild(this.renderCheckBox(xM)),n.appendChild(this.renderCheckBox(Ym));var s=this.createDivElement(wM);t.appendChild(s),s.appendChild(this.renderDropDown(TM)),s.appendChild(this.renderDropDown(bM));var a=this.createDivElement(rTe);t.appendChild(a);var o=this.renderCheckBox(MM),l=Be("span",{className:BM}),c=Be("button",{className:DDe,attrs:{type:"button",title:this.l10n.getConstant("editRecurrence")}});if(this.buttonObj=new z1({iconCss:bDe+" e-icons",cssClass:"e-medium "+this.parent.cssClass}),l.appendChild(c),this.buttonObj.appendTo(c),o.appendChild(l),a.appendChild(o),this.parent.isAdaptive?se.add(c,"click",this.loadRecurrenceEditor,this):this.createRecurrenceEditor(t),this.parent.resourceCollection.length>0){for(var u=this.createDivElement(oTe),d=0,p=this.parent.resourceBase.resourceCollection;d<p.length;d++){var m=p[d];u.appendChild(this.renderResourceDetails(m))}t.appendChild(u)}var y=this.createDivElement(By+"-row");y.appendChild(this.renderTextBox(By)),t.appendChild(y);var M=Be("button",{attrs:{type:"hidden",title:"submit"}});return M.style.display="none",t.appendChild(M),t},r.prototype.createRecurrenceEditor=function(t){var e=Be("div",{id:this.parent.element.id+"_recurrence_editor"});t.appendChild(e),this.recurrenceEditor=this.renderRecurrenceEditor(),this.recurrenceEditor.appendTo(e),this.updateMinMaxDateToEditor()},r.prototype.createDivElement=function(t){return Be("div",{className:t})},r.prototype.createInputElement=function(t,e,i){return Be(i||"input",{className:t,attrs:{type:"text",name:e,value:"",id:e}})},r.prototype.getSlotDuration=function(){return this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount},r.prototype.renderDateTimePicker=function(t,e){var i=this.createDivElement(t+"-container"),n=this.getFieldName(t),s=this.createInputElement(t+" "+lp,n);i.appendChild(s);var a=new ZMe({change:e,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,calendarMode:this.parent.calendarMode,min:this.parent.minDate,max:new Date(new Date(+this.parent.maxDate).setHours(23,59,59)),cssClass:this.parent.cssClass,enableRtl:this.parent.enableRtl,locale:this.parent.locale,floatLabelType:"Always",strictMode:!0,timeFormat:this.parent.activeViewOptions.timeFormat,format:(v(this.parent.dateFormat)?this.getFormat("dateFormats"):this.parent.dateFormat)+" "+this.parent.activeViewOptions.timeFormat,placeholder:this.getFieldLabel(t),step:this.getSlotDuration(),width:"100%"});return a.appendTo(s),i},r.prototype.refreshDateTimePicker=function(t){for(var e="."+Fm+",."+x0,i=[].slice.call(this.element.querySelectorAll(e)),n=0,s=i;n<s.length;n++){var a=s[n],o=a.ej2_instances[0];o.firstDayOfWeek=this.parent.activeViewOptions.firstDayOfWeek,o.timeFormat=this.parent.activeViewOptions.timeFormat,o.step=t||this.getSlotDuration(),o.dataBind()}},r.prototype.onTimeChange=function(){var t=this.getInstance(Fm);if(t.element.parentElement.classList.contains("e-input-focus")){var e=this.getInstance(x0),i=0;this.cellClickAction?(i=ls*this.duration,this.eventWindowTime.startTime=t.value):i=this.eventData[this.fields.endTime].getTime()-this.eventData[this.fields.startTime].getTime();var n=v(t.value)?null:new Date(t.value.getTime()+i);this.cellClickAction&&(this.eventWindowTime.endTime=n),e.value=n,e.dataBind()}this.recurrenceEditor&&this.recurrenceEditor.updateRuleUntilDate(this.eventWindowTime.startTime)},r.prototype.renderResourceDetails=function(t){var e=this,i=t.field,n="e-"+i,s=t.title,a=this.createDivElement(n+"-container e-resources"),o=this.createInputElement(n+" "+lp,i);a.appendChild(o);var l=function(d){return Io.sanitize(`<div class="e-resource-template">
                <div class="e-resource-color" data-resource-color="`+d[t.colorField]+`"></div>
                <div class="e-resource-text">`+d[t.textField]+"</div></div>")};if(rL(l,t),t.allowMultiple){var c=new Vbe({enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,cssClass:this.parent.cssClass||"",dataSource:t.dataSource,change:this.onMultiselectResourceChange.bind(this),itemTemplate:l,fields:{text:t.textField,value:t.idField},htmlAttributes:{name:i},floatLabelType:"Always",placeholder:s,popupHeight:"230px",popupWidth:"447px",mode:"Box",open:function(d){Promise.resolve().then(function(){e.applyStylesAfterRender(d)})}});c.appendTo(o)}else{var u=new Zy({cssClass:this.parent.cssClass||"",change:this.onDropdownResourceChange.bind(this),dataSource:t.dataSource,enableRtl:this.parent.enableRtl,fields:{text:t.textField,value:t.idField},htmlAttributes:{name:i},floatLabelType:"Always",placeholder:s,popupHeight:"230px",popupWidth:"447px",itemTemplate:l,open:function(d){Promise.resolve().then(function(){e.applyStylesAfterRender(d)})}});u.appendTo(o)}return a},r.prototype.applyStylesAfterRender=function(t){if(!(!t.popup||!t.popup.element)){var e=t.popup.element.querySelectorAll(".e-resource-color[data-resource-color]");e.forEach(function(i){var n=i.getAttribute("data-resource-color");n&&(i.style.backgroundColor=n)})}},r.prototype.renderDropDown=function(t){var e=this,i=this.getFieldName(t),n=this.createDivElement(t+"-container"),s=this.createInputElement(t+" "+lp,i);n.appendChild(s);var a=new Zy({allowFiltering:!0,change:this.onTimezoneChange.bind(this),cssClass:this.parent.cssClass||"",dataSource:this.parent.timezoneDataSource,enableRtl:this.parent.enableRtl,fields:{text:"Text",value:"Value"},filterBarPlaceholder:this.parent.localeObj.getConstant("searchTimezone"),noRecordsTemplate:this.parent.localeObj.getConstant("noRecords"),filtering:function(o){var l=new di;l=o.text!==""?l.where("Text","contains",o.text,!0):l,o.updateData(e.parent.timezoneDataSource,l)},htmlAttributes:{title:this.getFieldLabel(t),name:i},floatLabelType:"Always",placeholder:this.getFieldLabel(t),popupHeight:"230px"});return a.appendTo(s),n},r.prototype.onMultiselectResourceChange=function(t){if(!(!t.value||!this.parent.activeViewOptions.group.byGroupID||this.parent.resourceCollection.length<=1)){for(var e=this.parent.resourceBase.resourceCollection,i=t.element.getAttribute("name")||this.getColumnName(t.element),n=0;n<e.length;n++)if(e[parseInt(n.toString(),10)].field===i&&n<e.length-1){for(var s=this.createInstance(n),a=[],o=function(u){var d=e[n+1],p=d.dataSource.filter(function(M){return M[d.groupIDField]===t.value[parseInt(u.toString(),10)]})[0],m=v(p)?null:p[e[n+1].groupIDField],y=l.filterDatasource(n,m);a=a.concat(y)},l=this,c=0;c<t.value.length;c++)o(c);s.dataSource=a,s.dataBind()}}},r.prototype.createInstance=function(t){var e=this.parent.resourceBase.resourceCollection[t+1],i=this.element.querySelector(".e-"+e.field).ej2_instances[0];return i.clear(),i},r.prototype.onDropdownResourceChange=function(t){if(!(!t.value||this.parent.resourceCollection.length<=1||!this.parent.activeViewOptions.group.byGroupID)){for(var e=t.element.getAttribute("name")||this.getColumnName(t.element),i=this.parent.resourceBase.resourceCollection,n=0;n<i.length;n++)if(n<i.length-1&&i[parseInt(n.toString(),10)].field===e){var s=this.createInstance(n),a=t.itemData[i[parseInt(n.toString(),10)].idField];s.dataSource=this.filterDatasource(n,a),s.dataBind();var o=s.dataSource.length>0?s.dataSource[0][i[n+1].idField]:null;s.value=i[n+1].allowMultiple?[o]:o,s.dataBind()}}},r.prototype.filterDatasource=function(t,e){var i=this.parent.resourceBase.resourceCollection[t+1];return i.dataSource.filter(function(n){return n[i.groupIDField]===e})},r.prototype.onTimezoneChange=function(t){var e=t.element.getAttribute("name")||this.getColumnName(t.element);if(e===this.parent.eventFields.startTimezone){var i=this.getInstance(TM),n=this.getInstance(bM);n.value=i.value,n.dataBind()}},r.prototype.renderCheckBox=function(t){var e=this.createDivElement(t+"-container"),i=this.getFieldName(t),n=this.createInputElement(t+" "+lp,i);e.appendChild(n);var s=new Uye({change:this.onChange.bind(this),cssClass:t+" "+this.parent.cssClass,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,label:this.getFieldLabel(t)});return s.appendTo(n),n.setAttribute("name",i),i==="Repeat"&&(this.repeatStatus=s),e},r.prototype.renderTextBox=function(t){var e=this.createDivElement(t+"-container"),i=this.getFieldName(t),n=t===By?"textarea":"input",s=this.createInputElement(t+" "+lp,i,n);return e.appendChild(s),Rt.createInput({element:s,floatLabelType:"Always",properties:{enableRtl:this.parent.enableRtl,placeholder:this.getFieldLabel(t)}}),e},r.prototype.getFieldName=function(t){var e="";switch(t){case Bs:e=this.fields.subject;break;case G0:e=this.fields.location;break;case Fm:e=this.fields.startTime;break;case x0:e=this.fields.endTime;break;case By:e=this.fields.description;break;case xM:e=this.fields.isAllDay;break;case TM:e=this.fields.startTimezone;break;case bM:e=this.fields.endTimezone;break;case Ym:e="Timezone";break;case MM:e="Repeat";break}return e},r.prototype.getFieldLabel=function(t){var e="";switch(t){case Bs:e=this.parent.editorTitles.subject;break;case G0:e=this.parent.editorTitles.location;break;case By:e=this.parent.editorTitles.description;break;case Fm:e=this.parent.editorTitles.startTime;break;case x0:e=this.parent.editorTitles.endTime;break;case TM:e=this.parent.editorTitles.startTimezone;break;case bM:e=this.parent.editorTitles.endTimezone;break;case MM:e=this.parent.editorTitles.recurrenceRule;break;case xM:e=this.parent.editorTitles.isAllDay;break;case Ym:e=this.l10n.getConstant("timezone");break}return e},r.prototype.onChange=function(t){if(t.event&&t.event.target){var e="."+xM+",."+Ym+",."+MM,i=Fe(t.event.target,e);i.classList.contains(xM)?this.onAllDayChange(t.checked):i.classList.contains(Ym)?this.timezoneChangeStyle(t.checked):i.classList.contains(MM)&&this.onRepeatChange(t.checked)}},r.prototype.renderRepeatDialog=function(){var t=Be("div");this.repeatDialogObject=new ZA({header:this.l10n.getConstant("recurrence"),visible:!1,content:'<div class="e-rec-editor"></div>',closeOnEscape:!0,width:"90%",buttons:[{click:this.repeatSaveDialog.bind(this),buttonModel:{content:this.l10n.getConstant("save"),cssClass:"e-save",isPrimary:!0}},{click:this.repeatCancelDialog.bind(this),buttonModel:{cssClass:"e-cancel",content:this.l10n.getConstant("cancel")}}],target:this.element,animationSettings:{effect:"Zoom"},enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,isModal:!0,cssClass:EDe,open:this.repeatOpenDialog.bind(this)}),this.element.appendChild(t),this.repeatDialogObject.appendTo(t),this.createRecurrenceEditor(this.repeatDialogObject.element.querySelector(".e-rec-editor"))},r.prototype.loadRecurrenceEditor=function(){this.repeatDialogObject.show(),this.recurrenceEditor&&this.repeatRule&&this.recurrenceEditor.setRecurrenceRule(this.repeatRule)},r.prototype.onRepeatChange=function(t){if(t)this.repeatDialogObject||this.renderRepeatDialog(),this.recurrenceEditor.setProperties({startDate:this.repeatStartDate,selectedType:0}),this.loadRecurrenceEditor();else{this.repeatDialogObject&&this.repeatDialogObject.hide(),this.repeatRule="",this.recurrenceEditor&&(this.recurrenceEditor.setRecurrenceRule(this.repeatRule),this.updateRepeatLabel(this.repeatRule));var e=this.element.querySelector("."+BM);pe([e],D0)}},r.prototype.repeatSaveDialog=function(){this.repeatRule=this.recurrenceEditor.getRecurrenceRule();var t=this.element.querySelector("."+BM);this.recurrenceEditor.getRecurrenceRule()?Oe([t],D0):(pe([t],D0),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule),this.closeRepeatDialog()},r.prototype.closeRepeatDialog=function(){this.repeatDialogObject.hide()},r.prototype.repeatCancelDialog=function(){this.closeRepeatDialog(),this.recurrenceEditor&&this.recurrenceEditor.setRecurrenceRule(this.repeatTempRule),this.repeatTempRule||this.repeatStatus.setProperties({checked:!1})},r.prototype.repeatOpenDialog=function(){this.repeatTempRule=this.recurrenceEditor.getRecurrenceRule()},r.prototype.onCellDetailsUpdate=function(t,e){if(this.parent.eventSettings.allowAdding){this.parent.isAdaptive&&e&&!this.repeatDialogObject&&this.renderRepeatDialog(),this.element.querySelector("."+pp).removeAttribute("data-id"),v(this.parent.editorHeaderTemplate)&&(this.element.querySelector("."+IV).innerHTML=this.l10n.getConstant("newEvent")),t.Timezone=!1,this.repeatStartDate=t[this.fields.startTime],this.repeatRule="",v(this.parent.eventSettings.fields.subject.default)||(t[this.fields.subject]=this.parent.eventSettings.fields.subject.default),v(this.parent.eventSettings.fields.location.default)||(t[this.fields.location]=this.parent.eventSettings.fields.location.default),v(this.parent.eventSettings.fields.description.default)||(t[this.fields.description]=this.parent.eventSettings.fields.description.default),this.showDetails(t),t[this.fields.recurrenceRule]&&this.recurrenceEditor&&(this.recurrenceEditor.setRecurrenceRule(t[this.fields.recurrenceRule],t[this.fields.startTime]),this.repeatRule=t[this.fields.recurrenceRule]);var i=this.element.querySelector("."+vp);if(i&&pe([i],hn),this.recurrenceEditor&&(this.recurrenceEditor.setProperties({startDate:t[this.fields.startTime],selectedType:v(e)?v(t[this.fields.recurrenceRule])?0:this.recurrenceEditor.selectedType:e}),this.repeatRule=this.recurrenceEditor.value),this.parent.isAdaptive&&v(this.parent.editorTemplate)){var n=this.element.querySelector("."+BM);t[this.fields.recurrenceRule]||e?(Oe([n],D0),this.repeatStatus.setProperties({checked:!0})):(pe([n],D0),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule)}else{var s=this.element.querySelector("."+oE);this.disableButton(s,!1)}this.dialogObject.show()}},r.prototype.convertToEventData=function(t,e){t&&(t.subject&&(e[this.fields.subject]=t.subject),e[this.fields.startTime]=t.startTime,e[this.fields.endTime]=t.endTime,e[this.fields.isAllDay]=t.isAllDay,t.RecurrenceRule&&(e[this.fields.recurrenceRule]=t.RecurrenceRule),(this.parent.resourceCollection.length>0||this.parent.activeViewOptions.group.resources.length>0)&&this.parent.resourceBase.setResourceValues(e))},r.prototype.applyFormValidation=function(){var t=this.element.querySelector("."+pp);if(t){var e=function(c){return c&&Object.keys(c).length>0?c:void 0},i={},n=e(this.parent.eventSettings.fields.subject.validation);v(n)||(i[this.parent.eventSettings.fields.subject.name]=n);var s=e(this.parent.eventSettings.fields.location.validation);v(s)||(i[this.parent.eventSettings.fields.location.name]=s);var a=e(this.parent.eventSettings.fields.startTime.validation);v(a)||(i[this.parent.eventSettings.fields.startTime.name]=a);var o=e(this.parent.eventSettings.fields.endTime.validation);v(o)||(i[this.parent.eventSettings.fields.endTime.name]=o);var l=e(this.parent.eventSettings.fields.description.validation);v(l)||(i[this.parent.eventSettings.fields.description.name]=l),this.fieldValidator&&(this.fieldValidator.destroy(),this.fieldValidator=null),this.fieldValidator=new VK,this.fieldValidator.renderFormValidator(t,i,this.element,this.parent.locale)}},r.prototype.showDetails=function(t){this.eventData=t;var e=qe({},t,null,!0),i=this.getFormElements(sp);(!this.cellClickAction||this.cellClickAction&&!v(this.parent.editorTemplate))&&e[this.fields.endTime].getHours()===0&&e[this.fields.endTime].getMinutes()===0&&this.trimAllDay(e);for(var n=Object.keys(e),s=0,a=i;s<a.length;s++){var o=a[s],l=o.name||this.getColumnName(o);!v(l)&&l!==""&&(n.indexOf(l)!==-1?this.setValueToElement(o,e[""+l]):this.setDefaultValueToElement(o))}if(v(this.parent.editorTemplate)){this.onAllDayChange(e[this.fields.isAllDay]);var c=this.getInstance(Ym+"."+lp);v(e[this.fields.startTimezone])&&v(e[this.fields.endTimezone])||(c.checked=!0,c.dataBind()),this.timezoneChangeStyle(c.checked),delete e.Timezone}},r.prototype.getColumnName=function(t){var e=t.getAttribute("data-name")||"";if(e===""){var i=!1,n="";t.classList.contains("e-dropdownlist")?(n="e-ddl",i=!0):t.classList.contains("e-multiselect")?(n="e-multiselect",i=!0):t.classList.contains("e-datetimepicker")?n="e-datetimepicker":t.classList.contains("e-datepicker")?n="e-datepicker":t.classList.contains("e-checkbox")?n="e-checkbox":t.classList.contains("e-numerictextbox")&&(n="e-numerictextbox");var s=i?"."+n+":not(.e-control)":"."+n,a=Fe(t,s)||t.querySelector("."+n);if(a){var o=a.querySelector("[name]");o&&(e=o.name)}}return e},r.prototype.onAllDayChange=function(t){var e=this.getInstance(Fm),i=this.getInstance(x0),n=this.element.querySelector(".e-time-zone-container"),s;t?(s=v(this.parent.dateFormat)?this.getFormat("dateFormats"):this.parent.dateFormat,pe(this.element.querySelectorAll(".e-time-icon"),CV),pe([n],hn),this.element.querySelector("."+wM)&&Oe([this.element.querySelector("."+wM)],ug),e.format=i.format=s):(s=v(this.parent.dateFormat)?this.getFormat("dateFormats")+" "+this.parent.activeViewOptions.timeFormat:this.parent.dateFormat+" "+this.parent.activeViewOptions.timeFormat,Oe(this.element.querySelectorAll(".e-time-icon"),CV),Oe([n],hn),this.element.querySelector(".e-checkbox-wrapper .e-time-zone").checked&&pe([this.element.querySelector("."+wM)],ug),e.format=i.format=s),this.cellClickAction&&this.updateDateTime(t,e,i),e.dataBind(),i.dataBind(),v(this.recurrenceEditor)||this.recurrenceEditor.updateRuleUntilDate(e.value)},r.prototype.updateDateTime=function(t,e,i){var n,s;if(!(v(this.eventWindowTime.startTime)&&v(this.eventWindowTime.endTime))){if(t)if(n=Ze(new Date(this.eventWindowTime.startTime.getTime())),this.parent.activeCellsData.isAllDay){var a=Zt(new Date(this.eventWindowTime.endTime.getTime()),-1).getTime();s=+this.eventWindowTime.startTime>a?this.eventWindowTime.endTime:new Date(a)}else s=Ze(new Date(this.eventWindowTime.endTime.getTime()));else{var o=this.parent.activeCellsData.startTime;if(n=new Date(this.eventWindowTime.startTime.getTime()),n.setHours(o.getHours(),o.getMinutes(),o.getSeconds()),this.parent.activeCellsData.isAllDay){var l=this.parent.getStartEndTime(this.parent.workHours.start);n.setHours(l.getHours(),l.getMinutes(),l.getSeconds()),s=new Date(n.getTime()),s.setMilliseconds(ls*this.getSlotDuration())}else s=new Date(n.getTime()),s.setMilliseconds(this.parent.activeCellsData.endTime.getTime()-this.parent.activeCellsData.startTime.getTime())}this.eventWindowTime={startTime:new Date(n.getTime()),endTime:new Date(s.getTime())},e.value=n,i.value=s,e.dataBind(),i.dataBind()}},r.prototype.getFormat=function(t){var e;return v(this.parent.locale)||this.parent.locale==="en"||this.parent.locale==="en-US"?e=Pe(t+".short",yl(this.parent.getCalendarMode())):e=Pe("main."+this.parent.locale+".dates.calendars."+this.parent.getCalendarMode()+"."+t+".short",ws),e},r.prototype.onEventDetailsUpdate=function(t){if(this.parent.eventSettings.allowEditing){if(!this.parent.isAdaptive&&v(this.parent.editorFooterTemplate)&&Oe([this.element.querySelector("."+vp)],hn),v(this.parent.editorHeaderTemplate)&&(this.element.querySelector("."+IV).innerHTML=this.l10n.getConstant("editEvent")),this.element.querySelector("."+pp).setAttribute("data-id",t[this.fields.id].toString()),v(this.parent.editorTemplate)){t=qe({},t,null,!0);var e=this.getInstance(Ym+"."+lp),i=void 0;t[this.fields.startTimezone]||t[this.fields.endTimezone]?(i=!0,this.parent.eventBase.timezoneConvert(t)):i=!1,t.Timezone=i,e.checked=i,e.dataBind()}if(this.showDetails(t),t[this.fields.recurrenceRule]&&this.recurrenceEditor?this.recurrenceEditor.setRecurrenceRule(t[this.fields.recurrenceRule],t[this.fields.startTime]):!this.parent.isAdaptive&&this.recurrenceEditor&&(this.recurrenceEditor.setProperties({startDate:t[this.fields.startTime]}),this.recurrenceEditor.setRecurrenceRule("")),this.repeatStartDate=t[this.fields.startTime],this.repeatRule="",t[this.fields.recurrenceRule]&&(this.recurrenceEditor&&this.recurrenceEditor.setRecurrenceRule(t[this.fields.recurrenceRule],t[this.fields.startTime]),this.repeatRule=t[this.fields.recurrenceRule]),this.parent.isAdaptive&&v(this.parent.editorTemplate)){var n=this.element.querySelector("."+BM);t[this.fields.recurrenceRule]?(Oe([n],D0),this.repeatStatus.setProperties({checked:!0})):(pe([n],D0),this.repeatStatus.setProperties({checked:!1})),this.updateRepeatLabel(this.repeatRule)}var s=this.parent.readonly||t[this.fields.isReadonly];if(this.parent.isAdaptive){var l=this.element.querySelector("."+NV);l&&(s?pe([l],BV):Oe([l],BV))}else{var a=this.element.querySelector("."+oE),o=this.element.querySelector("."+vp);this.disableButton(a,s),this.disableButton(o,s)}this.dialogObject.show()}},r.prototype.disableButton=function(t,e){t&&(t.ej2_instances[0].disabled=e)},r.prototype.renderRecurrenceEditor=function(){return new TDe({calendarMode:this.parent.calendarMode,cssClass:this.parent.cssClass,dateFormat:this.parent.dateFormat,enableRtl:this.parent.enableRtl,firstDayOfWeek:this.parent.activeViewOptions.firstDayOfWeek,locale:this.parent.locale})},r.prototype.updateMinMaxDateToEditor=function(){var t=this.element.querySelector(".e-start"),e=this.element.querySelector(".e-end");if(t&&e){var i=t.ej2_instances[0],n=e.ej2_instances[0];i.min=this.parent.minDate,i.max=new Date(new Date(+this.parent.maxDate).setHours(23,59,59)),n.min=this.parent.minDate,n.max=new Date(new Date(+this.parent.maxDate).setHours(23,59,59)),i.dataBind(),n.dataBind()}if(this.recurrenceEditor){var s=this.recurrenceEditor.element.querySelector(".e-until-date");if(s){var a=s.ej2_instances[0];a.min=this.parent.minDate,a.max=this.parent.maxDate,a.dataBind()}}},r.prototype.updateRepeatLabel=function(t){this.parent.isAdaptive&&!this.repeatDialogObject&&this.renderRepeatDialog();var e=t?this.l10n.getConstant("repeats")+" "+this.recurrenceEditor.getRuleSummary(t):this.l10n.getConstant("repeat");this.repeatStatus.setProperties({label:e})},r.prototype.dialogClose=function(t){if(this.isEnterKey){this.isEnterKey=!1;return}this.dialogEvent=t,this.isCrudAction=!1,this.parent.activeEventData={event:void 0,element:void 0},this.parent.currentAction=null,this.dialogObject.hide()},r.prototype.resetForm=function(){this.fieldValidator.destroyToolTip(),this.resetFormFields(),!this.parent.isAdaptive&&this.recurrenceEditor&&!this.recurrenceEditor.isDestroyed&&this.recurrenceEditor.resetFields()},r.prototype.timezoneChangeStyle=function(t){var e=this.element.querySelector("."+wM),i=this.parent.tzModule.getLocalTimezoneName();if(t){pe([e],ug);var n=this.getInstance(TM),s=this.getInstance(bM),a=n.dataSource;if(!n.value||!this.parent.timezone){var o=a.some(function(l){return l.Value===i});o||(a.push({Value:i,Text:i}),n.dataSource=a,s.dataSource=a,n.dataBind(),s.dataBind())}n.value=n.value||this.parent.timezone||i,s.value=s.value||this.parent.timezone||i,n.dataBind(),s.dataBind()}else Oe([e],ug)},r.prototype.resetFormFields=function(){for(var t=this.getFormElements(sp),e=0,i=t;e<i.length;e++){var n=i[e],s=n.name||this.getColumnName(n);!v(s)&&s!==""&&this.setDefaultValueToElement(n)}},r.prototype.eventSave=function(t,e){if(this.isEnterKey){this.isEnterKey=!1;return}var i=this.element.querySelector("."+pp);if(!(i&&i.classList.contains("e-formvalidator")&&!i.ej2_instances[0].validate())){var n=this.getEventDataFromEditor();this.processEventValidation(n.tempData,e)||(this.eventCrudData=n.eventData,this.dialogEvent=t,this.isCrudAction=!0,this.dialogObject.hide())}},r.prototype.getEventDataFromEditor=function(){var t=qe({},this.getObjectFromFormData(sp));t.Timezone||(t[this.fields.startTimezone]=null,t[this.fields.endTimezone]=null),delete t.Timezone,delete t.Repeat,this.setDefaultValueToObject(t),t[this.fields.recurrenceRule]=this.recurrenceEditor?this.recurrenceEditor.getRecurrenceRule()||null:void 0;var e=qe({},t,null,!0);return t[this.fields.isAllDay]&&(t[this.fields.startTime]=v(t[this.fields.startTime])?null:Ze(new Date(t[this.fields.startTime].getTime())),t[this.fields.endTime]=v(t[this.fields.endTime])?null:Zt(Ze(new Date(t[this.fields.endTime].getTime())),1)),{eventData:t,tempData:e}},r.prototype.processEventValidation=function(t,e){var i;if(v(this.parent.editorTemplate)){if(!t[this.fields.startTime]||!t[this.fields.endTime])return this.parent.quickPopup.openValidationError("invalidDateError"),!0;if(t[this.fields.startTime]>t[this.fields.endTime])return this.parent.quickPopup.openValidationError("startEndError"),!0}if(this.recurrenceEditor&&this.recurrenceEditor.value&&this.recurrenceEditor.value!==""){this.parent.currentAction!=="EditOccurrence"&&(i=this.recurrenceValidation(t[this.fields.startTime],t[this.fields.endTime],e));var n=!0;if(i==="seriesChangeAlert"&&this.parent.uiStateValues.isIgnoreOccurrence&&(n=!1),!v(i)&&n&&(!this.parent.enableRecurrenceValidation&&i==="wrongPattern"||this.parent.enableRecurrenceValidation))return this.parent.quickPopup.openRecurrenceValidationAlert(i),!0}return!1},r.prototype.processCrudActions=function(t){var e=this;this.parent.uiStateValues.isBlock=!1;var i=this.getResourceData(t),n=(this.parent.activeViewOptions.group.resources.length>0||this.parent.resourceCollection.length>0)&&!this.parent.activeViewOptions.group.allowGroupEdit&&!v(i),s=this.getEventIdFromForm();if(v(s)){if(this.parent.currentAction="Add",this.parent.eventBase.checkOverlap(t))return!0;n?this.resourceSaveEvent(t,this.parent.currentAction):(t[this.fields.id]=this.parent.eventBase.getEventMaxID(),this.parent.addEvent(t))}else{var a=this.parent.eventBase.getEventIDType()==="string"?s:parseInt(s,10),o=this.parent.eventsData.filter(function(c){return c[e.fields.id]===a})[0];if(v(o)&&(o=this.parent.blockData.filter(function(c){return c[e.fields.id]===a})[0]),t=qe({},o,t),t[this.fields.isReadonly])return!1;if(this.parent.eventBase.checkOverlap(t))return!0;var l=void 0;if(!v(o[this.fields.recurrenceRule])){if(l=this.parent.currentAction,t.Guid=this.parent.activeEventData.event.Guid,this.parent.currentAction==="EditOccurrence"&&(t[this.fields.recurrenceID]?(a=t[this.fields.recurrenceID],l=null):(t[this.fields.id]=this.parent.eventBase.getEventMaxID(),t.Guid=this.parent.activeEventData.event.Guid),this.parent.enableRecurrenceValidation&&this.editOccurrenceValidation(a,t)))return!0;this.parent.currentAction==="EditSeries"||t[this.fields.id]!==o[this.fields.id]?t[this.fields.recurrenceID]=o[this.fields.id]:this.parent.currentAction==="EditFollowingEvents"&&(t[this.fields.id]=this.parent.eventBase.getEventMaxID(),t[this.fields.followingID]=o[this.fields.id])}n?this.resourceSaveEvent(t,"Save",l):this.parent.saveEvent(t,l)}return this.parent.uiStateValues.isBlock},r.prototype.getResourceData=function(t){var e=null;if(!v(this.parent.resourceBase)&&!v(this.parent.resourceBase.resourceCollection)&&this.parent.resourceBase.resourceCollection.length>0){var i=this.parent.resourceBase.resourceCollection.slice(-1)[0];e=t[i.field]}return e},r.prototype.getObjectFromFormData=function(t){for(var e=this.getFormElements(t),i={},n=0,s=e;n<s.length;n++){var a=s[n],o=a.name||this.getColumnName(a);!v(o)&&o!==""&&(i[""+o]=this.getValueFromElement(a))}return i},r.prototype.setDefaultValueToObject=function(t){v(t[this.fields.subject])||(t[this.fields.subject]=t[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.l10n.getConstant("addTitle")),v(t[this.fields.location])||(t[this.fields.location]=t[this.fields.location]||this.parent.eventSettings.fields.location.default),v(t[this.fields.description])||(t[this.fields.description]=t[this.fields.description]||this.parent.eventSettings.fields.description.default)},r.prototype.recurrenceValidation=function(t,e,i){var n,s=this.recurrenceEditor,a=this.getInstance("e-repeat-interval.e-numerictextbox").value;if(i!==this.l10n.getConstant("ok")){var o=this.parent.activeEventData.event,l=[];if((this.parent.currentAction==="EditSeries"||this.parent.currentAction==="EditFollowingEvents")&&!v(o)){var c=o[this.parent.eventFields.startTime],u=this.parent.eventBase.getSeriesEvents(this.eventData,c);if(u.length>0)l=this.parent.eventBase.getEditedOccurrences(u,c);else{var d=this.parent.eventBase.getEventById(o[this.parent.eventFields.id]);l=this.parent.eventBase.getEditedOccurrences([d],c)}this.parent.currentAction==="EditSeries"&&!v(this.eventData[this.parent.eventFields.recurrenceException])&&l.push(this.eventData)}if(l.length>0&&(n="seriesChangeAlert"),this.getInstance("e-end-on-left .e-ddl .e-dropdownlist").value==="until"&&this.getInstance("e-end-on-date .e-datepicker").value<t&&(n="wrongPattern"),v(n)){var p=s.value.split(";")[1].split("=")[1].split(","),m={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},y=[],M=[],w=void 0;switch(s.value.split(";")[0].split("=")[1]){case"DAILY":(e.getTime()-t.getTime())/(1e3*3600)>a*24&&(n="createError");break;case"WEEKLY":p=s.value.split(";")[1].split("=")[1].split(",");for(var b=0;b<p.length*(a+1);b++)y[parseInt(b.toString(),10)]=p.length>b?m[p[parseInt(b.toString(),10)]]:y[b-p.length]+7*a;w=y.sort(function(D,E){return D-E});for(var b=1;b<w.length;b++)M.push(w[parseInt(b.toString(),10)]-w[b-1]);((e.getTime()-t.getTime())/(1e3*3600)>=Math.min.apply(Math,M)*24||v(a))&&(n="createError");break;case"MONTHLY":e.getTime()>=new Date(+t).setMonth(t.getMonth()+a)&&(n="createError");break;case"YEARLY":e.getTime()>=new Date(+t).setFullYear(t.getFullYear()+a)&&(n="createError");break}}}else e.getTime()>=new Date(+t).setMonth(t.getMonth()+a)&&(n="createError"),v(n)&&this.parent.quickPopup.quickDialog.hide();return v(a)&&(n="createError"),n},r.prototype.getRecurrenceIndex=function(t,e){for(var i,n=0;n<t.length;n++)if(e[this.fields.startTime].valueOf()===t[parseInt(n.toString(),10)][this.fields.startTime].valueOf()){i=n;break}return i},r.prototype.trimAllDay=function(t){if(t[this.fields.isAllDay]){var e=Zt(new Date(+t[this.fields.endTime]),-1).getTime();t[this.fields.endTime]=+t[this.fields.startTime]>e?t[this.fields.endTime]:new Date(e)}},r.prototype.editOccurrenceValidation=function(t,e,i){var n=this;i===void 0&&(i=this.eventData);var s=this.parent.getOccurrencesByID(t),a=this.parent.eventsData.filter(function(D){return D[n.fields.recurrenceID]===t});a.map(function(D){return s.push(qe({},D))}),e=qe({},e),this.trimAllDay(e);for(var o=0,l=s;o<l.length;o++){var c=l[o];this.trimAllDay(c)}this.parent.eventBase.sortByTime(s);var u=this.getRecurrenceIndex(s,i);if(v(u))return!1;var d=new Date(+e[this.fields.startTime]),p=new Date(+e[this.fields.endTime]),m,y;u!==s.length-1&&(m=new Date(+s[u+1][this.fields.startTime]),y=new Date(+s[u+1][this.fields.endTime]));var M=new Date(+s[s.length-1][this.fields.endTime]);if(u===0){if(!v(s[u+1])){if(!(m.getTime()>=p.getTime())&&Ze(M).getTime()>=Ze(d).getTime()||Ze(M).getTime()<Ze(d).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0;if(!(Ze(d).getTime()<Ze(m).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0}return!1}else{var w=new Date(+s[u-1][this.fields.startTime]),b=new Date(+s[u-1][this.fields.endTime]);if(u===s.length-1){if(Ze(new Date(+s[s.length-1-u][this.fields.startTime])).getTime()>Ze(d).getTime())return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0;if(!(b.getTime()<=d.getTime()&&Ze(d).getTime()>Ze(w).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0}else if((Ze(w).getTime()<Ze(d).getTime()||Ze(new Date(+s[0][this.fields.startTime])).getTime()>Ze(d).getTime())&&(Ze(m).getTime()>Ze(d).getTime()||M.getTime()<d.getTime())){if(!(b.getTime()<=d.getTime()&&m.getTime()>=p.getTime())||Ze(y).getTime()<Ze(d).getTime()||Ze(w).getTime()>Ze(p).getTime()||!(Ze(d).getTime()<Ze(m).getTime()))return this.parent.quickPopup.openRecurrenceValidationAlert("occurrenceAlert"),!0}else return this.parent.quickPopup.openRecurrenceValidationAlert("sameDayAlert"),!0}return!1},r.prototype.resourceSaveEvent=function(t,e,i){var n=this,s=this.parent.resourceBase.resourceCollection.slice(-1)[0],a=t[s.field];a=a instanceof Array?a.reverse():[a].reverse();for(var o=this.parent.resourceBase.lastResourceLevel,l=[],c=function(w){var b=qe({},t,null,!0);b[u.fields.id]=u.parent.eventBase.getEventMaxID();var D=[],E=function(){if(e==="Save"&&w===a.length-1)if(D.length>0){D[0][n.fields.id]=t[n.fields.id];for(var J=1;J<D.length;J++)D[parseInt(J.toString(),10)][n.fields.id]=n.parent.eventBase.getEventMaxID(w),l.push(D[parseInt(J.toString(),10)]),n.parent.saveEvent(D[0],i)}else b[n.fields.id]=t[n.fields.id],n.parent.saveEvent(b,i);else if(D.length>0)for(var U=0;U<D.length;U++)D[parseInt(U.toString(),10)][n.fields.id]=n.parent.eventBase.getEventMaxID(U),l.push(D[parseInt(U.toString(),10)]);else b[n.fields.id]=n.parent.eventBase.getEventMaxID(w),l.push(b)};if(u.parent.activeViewOptions.group.byGroupID&&!v(o)){var N=s.dataSource,B=u.parent.resourceCollection,P=void 0;if(B.length>1?P=lT(N,s.idField,a[parseInt(w.toString(),10)],b,B):P=lT(N,s.idField,a[parseInt(w.toString(),10)]),P<0)return{value:void 0};for(var C=N[parseInt(P.toString(),10)][s.groupIDField],k=o.filter(function(J){return J.resourceData[s.idField]===a[parseInt(w.toString(),10)]}).filter(function(J){return J.resourceData[s.groupIDField]===C})[0],_=k.groupOrder,H=0;H<u.parent.resourceBase.resourceCollection.length;H++){var j=u.parent.resourceBase.resourceCollection[parseInt(H.toString(),10)].field;b[""+j]=_[parseInt(H.toString(),10)]instanceof Array?_[parseInt(H.toString(),10)][0]:_[parseInt(H.toString(),10)]}E()}else{for(var P=0;P<u.parent.resourceBase.resourceCollection.length-1;P++){var j=u.parent.resourceBase.resourceCollection[parseInt(P.toString(),10)].field;if(b[""+j]instanceof Array&&b[""+j].length>1)for(var z=0;z<b[""+j].length;z++){var F=qe({},b,null,!0);F[""+j]=t[""+j][parseInt(z.toString(),10)],F[s.field]=a[parseInt(w.toString(),10)],D.push(F)}else if(D.length===0)b[""+j]=t[""+j]instanceof Array?t[""+j][0]:t[""+j],b[s.field]=a[parseInt(w.toString(),10)];else for(var X=0;X<D.length;X++)D[parseInt(X.toString(),10)][""+j]=t[""+j]instanceof Array?t[""+j][0]:t[""+j]}b[s.field]=a[parseInt(w.toString(),10)],E()}},u=this,d=0;d<a.length;d++){var p=c(d);if(typeof p=="object")return p.value}if(l.length>0){for(var m=0,y=l;m<y.length;m++){var M=y[m];M[this.fields.recurrenceException]=null,M[this.fields.recurrenceID]=null}this.parent.addEvent(l)}},r.prototype.getEventIdFromForm=function(){return this.element.querySelector("."+pp).getAttribute("data-id")},r.prototype.getFormElements=function(t){var e=[];return t===sp?e=[].slice.call(this.element.querySelectorAll("."+lp)):e=[].slice.call(this.parent.element.querySelectorAll("."+t+" ."+lp)),e},r.prototype.getValueFromElement=function(t){var e;return t.classList.contains("e-datepicker")||t.classList.contains("e-datetimepicker")||t.classList.contains("e-dropdownlist")||t.classList.contains("e-multiselect")?e=t.ej2_instances[0].value:t.classList.contains("e-checkbox")?e=t.ej2_instances[0].checked:t.classList.contains("e-numerictextbox")?e=t.ej2_instances[0].value:t.type==="checkbox"?e=t.checked:e=this.parent.enableHtmlSanitizer?Io.sanitize(t.value):t.value,e},r.prototype.setValueToElement=function(t,e){if(t.classList.contains("e-datepicker")){var i=t.ej2_instances[0];i.value=e,i.dataBind()}else if(t.classList.contains("e-datetimepicker")){var i=t.ej2_instances[0];i.element.classList.contains(Fm)?this.eventWindowTime.startTime=new Date(""+e):this.eventWindowTime.endTime=new Date(""+e),i.value=e,i.dataBind()}else if(t.classList.contains("e-dropdownlist")){var i=t.ej2_instances[0];i.value=e,i.dataBind()}else if(t.classList.contains("e-multiselect")){var i=t.ej2_instances[0];i.value=[],i.value=e instanceof Array?e:[e],i.dataBind()}else if(t.classList.contains("e-checkbox")){var i=t.ej2_instances[0];i.checked=e,i.dataBind()}else if(t.classList.contains("e-numerictextbox")){var i=t.ej2_instances[0];i.value=e,i.dataBind()}else t.type!=="checkbox"?t.value=e||"":t.checked=e},r.prototype.setDefaultValueToElement=function(t){if(t.classList.contains("e-datepicker")){var e=t.ej2_instances[0];e.value=this.parent.getCurrentTime(),e.dataBind()}else if(t.classList.contains("e-datetimepicker")){var e=t.ej2_instances[0],i=this.parent.getCurrentTime();this.eventWindowTime={startTime:i,endTime:i},e.value=i,e.dataBind()}else if(t.classList.contains("e-dropdownlist")){var e=t.ej2_instances[0];e.value=null,e.dataBind()}else if(t.classList.contains("e-multiselect")){var e=t.ej2_instances[0];e.value=[],e.dataBind()}else if(t.classList.contains("e-checkbox")){var e=t.ej2_instances[0];e.checked=!1,e.dataBind()}else if(t.classList.contains("e-numerictextbox")){var e=t.ej2_instances[0];e.value=null,e.dataBind()}else t.type==="checkbox"?t.checked=!1:t.value=""},r.prototype.getInstance=function(t){var e=this.element.querySelector("."+t);return e?e.ej2_instances[0]:null},r.prototype.eventDelete=function(t){if(this.isEnterKey){this.isEnterKey=!1;return}switch(this.parent.currentAction){case"EditOccurrence":v(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])?this.parent.currentAction="Delete":this.parent.currentAction="DeleteOccurrence";break;case"EditSeries":this.parent.currentAction="DeleteSeries";break;case"Save":this.parent.currentAction="Delete";break;case"EditFollowingEvents":v(this.parent.activeEventData.event[this.parent.eventFields.recurrenceRule])||(this.parent.currentAction="DeleteFollowingEvents");break}this.dialogEvent=t,this.isCrudAction=!1,this.dialogObject.hide(),this.parent.quickPopup.openDeleteAlert()},r.prototype.getRecurrenceEditorInstance=function(){return this.parent.isAdaptive&&!this.repeatDialogObject&&this.renderRepeatDialog(),this.recurrenceEditor},r.prototype.destroyComponents=function(){for(var t=this.getFormElements(sp),e=0,i=t;e<i.length;e++){var n=i[e],s=void 0;(n.classList.contains("e-datetimepicker")||n.classList.contains("e-datepicker")||n.classList.contains("e-checkbox")||n.classList.contains("e-dropdownlist")||n.classList.contains("e-multiselect")||n.classList.contains("e-numerictextbox"))&&(s=n.ej2_instances),s&&s[0]&&s[0].destroy()}this.buttonObj&&this.buttonObj.destroy()},r.prototype.detachComponents=function(){for(var t=this.getFormElements(sp),e=0,i=t;e<i.length;e++){var n=i[e];zt(n)}},r.prototype.destroy=function(t){if(this.parent&&!this.parent.isDestroyed&&this.parent.resetTemplates(["editorTemplate","editorHeaderTemplate","editorFooterTemplate"]),this.destroyComponents(),this.recurrenceEditor&&(this.recurrenceEditor.destroy(),zt(this.recurrenceEditor.element),this.recurrenceEditor=null),this.fieldValidator&&(this.fieldValidator.destroy(),this.fieldValidator=null),this.repeatDialogObject&&(this.repeatDialogObject.destroy(),this.repeatDialogObject=null),this.detachComponents(),this.dialogObject){if(this.dialogObject.element){var e=this.dialogObject.element.querySelector("form");df(e),zt(e),se.remove(this.dialogObject.element,"keydown",this.preventEventSave)}this.dialogObject.destroy(),this.dialogObject=null}this.element&&(ji(this.element),this.element=null),t||(this.l10n=null,this.parent=null,this.fields=null,this.buttonObj=null,this.repeatStatus=null,this.eventWindowTime=null,this.dialogEvent=null)},r})(),ADe=(function(){function r(t){this.translateY=0,this.itemSize=60,this.renderedLength=0,this.averageRowHeight=0,this.startIndex=0,this.existingDataCollection=[],this.enableTransition=!0,this.parent=t,this.bufferCount=t.activeViewOptions.overscanCount<3?3:t.activeViewOptions.overscanCount,this.addEventListener()}return r.prototype.addEventListener=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.on(rS,this.virtualScrolling,this)},r.prototype.removeEventListener=function(){!this.parent||this.parent&&this.parent.isDestroyed||this.parent.off(rS,this.virtualScrolling)},r.prototype.getRenderedCount=function(){this.setItemSize();var t=this.isHorizontalScroll?this.parent.element.clientWidth:this.parent.element.clientHeight;return this.renderedLength=Math.ceil(t/this.itemSize)+this.bufferCount,this.renderedLength},r.prototype.renderVirtualTrack=function(t){var e=Be("div",{className:uT});if(this.isHorizontalScroll){var i=this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1].length;e.style.width=i*this.itemSize+"px"}else e.style.height=this.parent.resourceBase.expandedResources.length*this.itemSize+"px";t.appendChild(e)},r.prototype.updateVirtualScrollHeight=function(){var t=this.parent.element.querySelector("."+uT),e=this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex,i=this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex;if(i!==e){var n=this.parent.element.querySelector("."+_n);this.renderedLength=n.querySelector("tbody").children.length,t.style.height=n.offsetHeight+(this.parent.resourceBase.expandedResources.length-this.renderedLength)*n.offsetHeight/this.renderedLength+"px";var s=this.parent.element.querySelector("."+lr);this.bufferCount===3&&s.scrollHeight-s.scrollTop<s.offsetHeight*this.bufferCount&&(t.style.height=parseInt(t.style.height,10)+s.offsetHeight*this.bufferCount+"px")}else t.style.height="";this.averageRowHeight=t.offsetHeight/this.parent.resourceBase.expandedResources.length},r.prototype.updateVirtualTrackHeight=function(t){var e=this.parent.resourceBase.renderedResources.length;if(e!==this.getRenderedCount()){t.style.height=this.parent.element.querySelector(".e-content-wrap").clientHeight+"px";var i=this.parent.element.querySelector("."+id),n=this.parent.element.querySelector("."+lr),s=this.parent.element.querySelector("."+wg);this.translateY=0,this.setTranslate(i,n,s)}else{var a=this.parent.resourceBase.renderedResources[e-1].groupIndex,o=this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex,l=e+(o-a);l=l>this.parent.resourceBase.expandedResources.length?this.parent.resourceBase.expandedResources.length:l,t.style.height=l*this.itemSize+"px"}},r.prototype.setItemSize=function(){if(this.isHorizontalScroll)if(this.parent.group.byDate){var t=this.parent.element.querySelector("."+Au+" table col");this.itemSize=t?Qj(t,this.parent.uiStateValues.isTransformed):this.itemSize}else this.itemSize=vwe(this.parent.activeView.element,ci,this.parent.uiStateValues.isTransformed)||this.itemSize;else this.itemSize=this.parent.getElementHeightFromClass(this.parent.activeView.element,ci)||this.itemSize},r.prototype.refreshLayout=function(){var t=this.parent.uiStateValues.scheduleHeight;this.parent.uiStateValues.scheduleHeight=this.parent.element.offsetHeight;var e=this.renderedLength;if(this.parent.uiStateValues.scheduleHeight!==t){e<this.getRenderedCount()&&(this.isRemoteRefresh=!0);var i=this.parent.element.querySelector("."+id),n=this.parent.element.querySelector("."+lr),s=this.parent.element.querySelector("."+wg);this.parent.rowAutoHeight||(this.enableTransition=!1,Oe([n,i],"e-transition"));var a=parseInt(i.querySelector("tbody td").getAttribute("data-group-index"),10),o=a+this.renderedLength;a=o>this.parent.resourceBase.expandedResources.length?this.parent.resourceBase.expandedResources.length-this.renderedLength:a,a=a<0?0:a,this.existingDataCollection=this.parent.resourceBase.renderedResources,this.parent.resourceBase.renderedResources=this.parent.resourceBase.expandedResources.slice(a,o),this.parent.resourceBase.renderedResources.length>0&&this.updateContent(i,n,s,this.parent.resourceBase.renderedResources)}},r.prototype.renderEvents=function(){this.setTabIndex();var t=this.triggerScrollEvent(eV);if(this.parent.activeViewOptions&&this.parent.activeViewOptions.enableLazyLoading&&this.parent.crudModule){if(t.length>0){this.parent.crudModule.refreshProcessedData(!0,t),this.parent.hideSpinner();return}this.parent.crudModule.refreshDataManager();return}this.parent.crudModule&&this.parent.crudModule.refreshProcessedData(!0),this.parent.currentView!=="Month"&&this.parent.notify(Mc,{}),this.parent.hideSpinner()},r.prototype.virtualScrolling=function(){var t=this;this.parent.quickPopup&&(this.parent.quickPopup.quickPopupHide(),this.parent.quickPopup.morePopup.hide());var e=this.parent.element.querySelector("."+lr);if(this.isHorizontalScroll)this.horizontalScrolling(e);else{var i=this.parent.element.querySelector("."+id),n=this.parent.element.querySelector("."+wg),s=this.parent.element.querySelector("."+aS),a=this.parent.element.querySelector("."+_n);this.parent.rowAutoHeight||pe([e,i],"e-transition"),this.renderedLength=i.querySelector("tbody").children.length;var o=parseInt(i.querySelector("tbody td").getAttribute("data-group-index"),10),l=this.parent.rowAutoHeight?a.offsetHeight-e.offsetHeight:this.bufferCount*this.itemSize,c=[];if(this.existingDataCollection=this.parent.resourceBase.renderedResources,e.scrollTop-this.translateY<0?c=this.upScroll(e,o):(e.scrollTop+e.clientHeight>=e.scrollHeight-this.itemSize||e.scrollTop>this.translateY+l)&&(c=this.downScroll(e,o)),!v(c)&&c.length>0){this.triggerScrollEvent(l4);var u=this.parent.getSelectedCells();this.focusedEle=u[u.length-1]||this.focusedEle,this.updateContent(i,e,n,c),this.setTranslate(i,e,n,s),this.parent.dragAndDropModule&&this.parent.dragAndDropModule.actionObj.action==="drag"&&this.parent.dragAndDropModule.navigationWrapper(),window.clearTimeout(this.timeValue),this.timeValue=window.setTimeout(function(){t.renderEvents()},250)}}},r.prototype.horizontalScrolling=function(t){var e=this,i=[],n=this.bufferCount*this.itemSize;if(Math.abs(t.scrollLeft)-Math.abs(this.translateY)<0?i=this.leftScroll(t):Math.abs(t.scrollLeft)-Math.abs(this.translateY)>n&&(i=this.rightScroll(t)),!v(i)&&i.length>0){if(this.parent.resourceBase.expandedResources.length!==i.length||this.parent.resourceBase.expandedResources[0]!==i[0]||this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1]!==i[i.length-1]){this.triggerScrollEvent(l4);var s=this.parent.activeView.colLevels.slice(0);this.updateHorizontalContent(t,i),ui(t.querySelector("table"),{transform:"translateX("+this.translateY+"px)"}),this.parent.activeView.colLevels=s,this.parent.dragAndDropModule&&this.parent.dragAndDropModule.actionObj.action==="drag"&&this.parent.dragAndDropModule.navigationWrapper()}window.clearTimeout(this.timeValue),this.timeValue=window.setTimeout(function(){e.renderEvents()},250)}},r.prototype.triggerScrollEvent=function(t){var e=this,i=[];if(!this.parent.activeView)return i;var n={startDate:this.parent.activeView.startDate(),endDate:this.parent.activeView.endDate(),startIndex:this.parent.resourceBase.renderedResources[0].groupIndex,endIndex:this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex,resourceData:this.parent.resourceBase.renderedResources.map(function(s){return s.resourceData}),name:t};return this.parent.trigger(t,n,function(s){t===l4?e.parent.showSpinner():t===eV&&!v(s.eventData)&&s.eventData.length>0&&(i=s.eventData)}),i},r.prototype.upScroll=function(t,e){var i=0;i=~~(t.scrollTop/this.itemSize)+Math.ceil(t.clientHeight/this.itemSize)-this.renderedLength,this.parent.rowAutoHeight&&(i=i>e?e-this.bufferCount:i),i=i>0?i:0;var n=this.getBufferCollection(i,i+this.renderedLength);if(this.parent.resourceBase.renderedResources=n,e===0)this.translateY=t.scrollTop;else{var s=this.parent.rowAutoHeight?this.averageRowHeight:this.itemSize;s=s>0?s:this.itemSize,this.translateY=t.scrollTop-this.bufferCount*s>0?t.scrollTop-this.bufferCount*s:0,this.parent.rowAutoHeight&&this.translateY===0&&i!==0&&(n=this.getBufferCollection(0,this.renderedLength),this.parent.resourceBase.renderedResources=n)}return n},r.prototype.downScroll=function(t,e){var i=this.parent.resourceBase.renderedResources[this.parent.resourceBase.renderedResources.length-1].groupIndex,n=this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex;if(i===n)return null;var s=0;s=~~(t.scrollTop/this.itemSize),this.parent.rowAutoHeight&&(s=~~((t.scrollTop-this.translateY)/this.averageRowHeight)+e,s=s>e+this.bufferCount?s:e+this.bufferCount);var a=s+this.renderedLength;a=a>this.parent.resourceBase.expandedResources.length?s+(this.parent.resourceBase.expandedResources.length-s):a;var o=this.getBufferCollection(a-this.renderedLength,a);return this.translateY=t.scrollTop,o},r.prototype.leftScroll=function(t){var e=0;return e=~~(Math.abs(t.scrollLeft)/this.itemSize)+Math.ceil(t.clientWidth/this.itemSize)-this.renderedLength,e=e>0?e:0,this.getCollection(e,e+this.renderedLength)},r.prototype.rightScroll=function(t){var e=this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1],i=0;i=~~(Math.abs(t.scrollLeft)/this.itemSize);var n=i+this.renderedLength;return n=n>e.length-1?e.length-1:n,this.getCollection(n-this.renderedLength,n)},r.prototype.getCollection=function(t,e){this.translateY=t*this.itemSize,t=t<0?0:t;var i=this.getResCollection(t,e);return this.parent.enableRtl&&(this.translateY=-this.translateY),i},r.prototype.getResCollection=function(t,e){var i=this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1];e=e>i.length?i.length-1:e;var n=[],s={startIndex:0,endIndex:0};if(this.parent.activeViewOptions.group.byDate){if(i[parseInt(t.toString(),10)].date.getTime()===this.parent.resourceBase.expandedResources[0].date.getTime()&&i[parseInt(e.toString(),10)].date.getTime()===this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].date.getTime())return this.parent.resourceBase.expandedResources;n=this.getByDateCollection(i[parseInt(t.toString(),10)],i[parseInt(e.toString(),10)],s),this.setRenderedDates(n)}else{if(i[parseInt(t.toString(),10)].groupIndex===this.parent.resourceBase.expandedResources[0].groupIndex&&i[parseInt(e.toString(),10)].groupIndex===this.parent.resourceBase.expandedResources[this.parent.resourceBase.expandedResources.length-1].groupIndex)return this.parent.resourceBase.expandedResources;n=this.getByIdCollection(i[parseInt(t.toString(),10)],i[parseInt(e.toString(),10)],s)}return this.parent.currentView!=="Month"&&(this.startIndex=s.startIndex,n=i.slice(s.startIndex,s.endIndex)),this.translateY=s.startIndex*this.itemSize,n},r.prototype.getByDateCollection=function(t,e,i){var n=this.parent.activeView.colLevels[0].filter(function(s){return t.date.getTime()<=s.date.getTime()&&s.date.getTime()<=e.date.getTime()});return this.setStartEndIndex(this.parent.activeView.colLevels[0],n[0],n[n.length-1],i),n},r.prototype.getByIdCollection=function(t,e,i){var n=this.parent.resourceBase.lastResourceLevel.filter(function(s){return t.groupIndex<=s.groupIndex&&s.groupIndex<=e.groupIndex});return this.parent.resourceBase.renderedResources=n,this.setStartEndIndex(this.parent.resourceBase.lastResourceLevel,n[0],n[n.length-1],i),n},r.prototype.setStartEndIndex=function(t,e,i,n){var s=0;t.filter(function(a){e===a?n.startIndex=s:i===a&&(n.endIndex=s+a.colSpan),s+=a.colSpan}),e===i&&(n.endIndex=n.startIndex+i.colSpan)},r.prototype.updateContent=function(t,e,i,n){var s=t.querySelector("tbody").children.length;document.activeElement&&document.activeElement.classList.contains($c)&&(this.isResourceCell=!0,this.parent.element.focus());for(var a=0;a<s;a++)ji(i.querySelector("div"));this.parent.resourceBase.renderedResources=n;var o=this.parent.activeView.getGroupIndices(n),l=this.parent.activeView.getGroupIndices(this.existingDataCollection),c=o.filter(function(D){return l.indexOf(D)<0}),u=Array.from(t.querySelectorAll("tbody tr")),d=Array.from(e.querySelectorAll("tbody tr")),p=t.querySelector("tbody"),m=e.querySelector("tbody");this.removeObsoleteRows(u,o),this.removeObsoleteRows(d,o);var y=this.parent.resourceBase.getContentRows(n,!0);this.parent.isReact&&this.parent.renderTemplates();for(var M=this.parent.activeView.getContentRows(),w=this.parent.activeView.getEventRows(n.length),a=0;a<c.length;a++){var b=o.indexOf(c[parseInt(a.toString(),10)]);b===0?(Ln([y[parseInt(a.toString(),10)]],p),Ln([M[parseInt(a.toString(),10)]],m)):p&&m&&p.children[parseInt(b.toString(),10)]&&m.children[parseInt(b.toString(),10)]?(p.insertBefore(y[parseInt(a.toString(),10)],p.children[parseInt(b.toString(),10)]),m.insertBefore(M[parseInt(a.toString(),10)],m.children[parseInt(b.toString(),10)])):(ri([y[parseInt(a.toString(),10)]],p),ri([M[parseInt(a.toString(),10)]],m))}ri(w,i)},r.prototype.removeObsoleteRows=function(t,e){t.forEach(function(i){var n=parseInt(i.firstElementChild.getAttribute("data-group-index"),10);e.indexOf(n)<0&&ji(i)})},r.prototype.updateHorizontalContent=function(t,e){this.existingDataCollection=this.parent.resourceBase.expandedResources,this.parent.resourceBase.expandedResources=e;var i=this.parent.getSelectedCells();this.focusedEle=i[i.length-1]||this.focusedEle;var n=t.querySelector("tbody"),s=Array.from(n.querySelectorAll("tr"));this.parent.currentView==="Month"?this.updateMonthViewContent(t,e):this.updateOtherViewContent(t,e,s)},r.prototype.updateMonthViewContent=function(t,e){for(var i=t.querySelectorAll(" tr").length,n=0;n<i;n++)ji(t.querySelector("tbody tr"));this.parent.activeViewOptions.group.byDate?this.parent.activeView.colLevels[0]=e:this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-2]=e;var s=this.parent.activeView.getContentRows();ri(s,t.querySelector("tbody"))},r.prototype.updateOtherViewContent=function(t,e,i){var n=this,s=t.querySelector("tbody"),a=t.querySelector("colgroup"),o=t.querySelector("thead"),l=t.querySelector("table");this.parent.activeView.colLevels[this.parent.activeView.colLevels.length-1]=e;var c=this.parent.activeViewOptions.group.byDate?new Set(e.map(function(y){return y.date.getTime()})):new Set(e.map(function(y){return y.groupIndex}));i.forEach(function(y){var M=Array.from(y.querySelectorAll("td"));M.forEach(function(w){c.has(n.getIdentifier(w))||w.remove()})});for(var u=[].slice.call(t.querySelector("colgroup").children),d=0;d<u.length;d++)ji(u[parseInt(d.toString(),10)]);e.forEach(function(){return a.appendChild(Be("col"))});for(var p=[].slice.call(t.querySelector("thead").children),d=0;d<p.length;d++)ji(p[parseInt(d.toString(),10)]);o.appendChild(this.parent.eventBase.createEventWrapper("",this.startIndex>0?this.startIndex:0)),this.parent.activeViewOptions.timeScale.enable&&o.appendChild(this.parent.eventBase.createEventWrapper("timeIndicator")),Ln([o],l);var m=this.parent.activeView.getContentRows();this.mergeNewTdData(s,m)},r.prototype.getIdentifier=function(t){if(this.parent.activeViewOptions.group.byDate){var e=new Date(parseInt(t.getAttribute("data-date"),10));return Ze(e).getTime()}return parseInt(t.getAttribute("data-group-index"),10)},r.prototype.mergeNewTdData=function(t,e){var i=this,n=Array.from(t.querySelectorAll("tr"));n.forEach(function(s,a){if(a<e.length){var o=e[parseInt(a.toString(),10)],l=Array.from(s.querySelectorAll("td")),c=Array.from(o.querySelectorAll("td"));c.forEach(function(u){for(var d=!1,p=0,m=l;p<m.length;p++){var y=m[p];if(i.getIdentifier(u)<i.getIdentifier(y)){s.insertBefore(u,y),d=!0;break}}d||s.appendChild(u)})}})},r.prototype.getBufferCollection=function(t,e){return this.parent.resourceBase.expandedResources.slice(t,e)},r.prototype.setTranslate=function(t,e,i,n){ui(t.querySelector("table"),{transform:"translateY("+this.translateY+"px)"}),ui(e.querySelector("table"),{transform:"translateY("+this.translateY+"px)"}),ui(i,{transform:"translateY("+this.translateY+"px)"}),v(n)||ui(n,{transform:"translateY("+this.translateY+"px)"})},r.prototype.updateFocusedWorkCell=function(){if(this.focusedEle){var t=parseInt(this.focusedEle.getAttribute("data-date"),10),e=parseInt(this.focusedEle.getAttribute("data-group-index"),10),i=this.parent.element.querySelector("."+ci+'[data-date="'+t+'"][data-group-index="'+e+'"]');i&&this.parent.addSelectedClass([i],i,!0),this.focusedEle=null}},r.prototype.setRenderedDates=function(t){if(this.parent.currentView!=="Month"){var e=t.map(function(s){return s.date});this.parent.resourceBase.renderedResources.forEach(function(s){return s.renderDates=e})}else{var i=t.map(function(s){return s.date.getDay()}),n=this.parent.activeView.renderDates.filter(function(s){return i.indexOf(s.getDay())>=0});this.parent.resourceBase.renderedResources.forEach(function(s){return s.renderDates=n})}},r.prototype.setTabIndex=function(){var t=this.parent.element.querySelector("."+id),e=[].slice.call(this.parent.element.querySelectorAll("."+$c));e&&t&&e.forEach(function(n){n.getBoundingClientRect().top>=t.getBoundingClientRect().top&&n.setAttribute("tabindex","0")});var i=this.parent.element.querySelector("."+$c+'[tabindex="0"]');this.isResourceCell&&i&&(i.focus(),this.isResourceCell=!1)},r.prototype.destroy=function(){this.removeEventListener(),this.focusedEle=null},r})(),SDe=(function(){function r(t){this.parent=t}return r.prototype.render=function(t,e){e===void 0&&(e=!0),this.initializeLayout(t),this.parent.activeView&&e&&this.parent.crudModule.refreshDataManager()},r.prototype.initializeLayout=function(t){if(this.parent.activeView){var e=["cellTemplate","tooltipTemplate","majorSlotTemplate","minorSlotTemplate","headerTooltipTemplate","dateHeaderTemplate","dayHeaderTemplate","monthHeaderTemplate","headerIndentTemplate","resourceHeaderTemplate","cellHeaderTemplate","dateRangeTemplate"];this.parent.activeEventTemplates.length>0?(e=e.concat(this.parent.activeEventTemplates),this.parent.activeEventTemplates=[]):e.push("eventTemplate"),this.parent.resetTemplates(e),this.parent.activeView.removeEventListener(),this.parent.activeView.destroy()}switch(t){case"Day":this.parent.activeView=this.parent.dayModule;break;case"Week":this.parent.activeView=this.parent.weekModule;break;case"WorkWeek":this.parent.activeView=this.parent.workWeekModule;break;case"Month":this.parent.activeView=this.parent.monthModule;break;case"Year":this.parent.activeView=this.parent.yearModule;break;case"Agenda":this.parent.activeView=this.parent.agendaModule;break;case"MonthAgenda":this.parent.activeView=this.parent.monthAgendaModule;break;case"TimelineDay":this.parent.activeView=this.parent.timelineViewsModule,v(this.parent.activeView)||(this.parent.activeView.viewClass="e-timeline-day-view");break;case"TimelineWorkWeek":this.parent.activeView=this.parent.timelineViewsModule,v(this.parent.activeView)||(this.parent.activeView.viewClass="e-timeline-work-week-view");break;case"TimelineWeek":this.parent.activeView=this.parent.timelineViewsModule,v(this.parent.activeView)||(this.parent.activeView.viewClass="e-timeline-week-view");break;case"TimelineMonth":this.parent.activeView=this.parent.timelineMonthModule;break;case"TimelineYear":this.parent.activeView=this.parent.timelineYearModule;break}if(v(this.parent.activeView)){var i=this.parent.viewCollections[0].option;if(i)return this.parent.setProperties({currentView:i},!0),this.parent.headerModule&&(this.parent.headerModule.updateActiveView(),this.parent.headerModule.setCalendarView()),console.warn('[WARNING] :: Module "'+t+'" is not available in Schedule component! You either misspelled the module name or forgot to load it.'),this.initializeLayout(i);throw Error("Inject required modules")}this.parent.uiStateValues.scheduleHeight=this.parent.element.offsetHeight,this.parent.activeView.viewIndex=this.parent.viewIndex,this.updateLabelText(t),this.parent.activeView.addEventListener(),this.parent.activeView.getRenderDates(),this.parent.uiStateValues.isGroupAdaptive=this.parent.activeViewOptions.group.resources.length>0&&(this.parent.enableAdaptiveUI&&!this.parent.isAdaptive||this.parent.isAdaptive&&this.parent.activeViewOptions.group.enableCompactView),this.parent.virtualScrollModule&&(this.parent.virtualScrollModule.destroy(),this.parent.virtualScrollModule=null),(["Agenda","MonthAgenda","Year","TimelineYear"].indexOf(this.parent.currentView)===-1||this.parent.currentView==="TimelineYear"&&this.parent.activeViewOptions.orientation==="Vertical")&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.virtualScrollModule=new ADe(this.parent),this.parent.activeView.isTimelineView()?this.parent.uiStateValues.top=0:(this.parent.virtualScrollModule.isHorizontalScroll=!0,this.parent.uiStateValues.left=0)),this.updateHeader(),this.parent.currentTimezoneDate=this.parent.getCurrentTime(),this.parent.activeView.renderLayout(GO),this.parent.renderTemplates(),this.parent.eventTooltip&&(this.parent.eventTooltip.destroy(),this.parent.eventTooltip=null),(this.parent.eventSettings.enableTooltip||this.parent.activeViewOptions.group.resources.length>0&&this.parent.activeViewOptions.group.headerTooltipTemplate)&&(this.parent.eventTooltip=new sk(this.parent))},r.prototype.updateHeader=function(){this.parent.headerModule&&(this.parent.headerModule.setDayOfWeek(this.parent.activeViewOptions.firstDayOfWeek),this.parent.activeViewOptions.readonly?pe([this.parent.element],Dw):this.parent.element.classList.contains(Dw)&&Oe([this.parent.element],Dw),this.parent.headerModule.updateDateRange(),this.parent.headerModule.updateHeaderItems("remove"))},r.prototype.updateLabelText=function(t){this.parent.element.setAttribute("role","application"),this.parent.element.removeAttribute("aria-labelledby"),this.parent.element.removeAttribute("aria-label"),t==="Year"?this.parent.element.setAttribute("aria-label",this.parent.activeView.getLabelText(t)):this.parent.element.setAttribute("aria-labelledby",this.parent.element.id+"_table")},r})(),NDe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),P4=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},IDe=(function(r){NDe(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return P4([ee(!0)],t.prototype,"highlight",void 0),P4([ee("09:00")],t.prototype,"start",void 0),P4([ee("18:00")],t.prototype,"end",void 0),t})(fa),CDe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),UM=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ODe=(function(r){CDe(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return UM([ee(!0)],t.prototype,"enable",void 0),UM([ee(60)],t.prototype,"interval",void 0),UM([ee(2)],t.prototype,"slotCount",void 0),UM([ee()],t.prototype,"minorSlotTemplate",void 0),UM([ee()],t.prototype,"majorSlotTemplate",void 0),t})(fa),kDe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),gE=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},LDe=(function(r){kDe(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return gE([ee("Both")],t.prototype,"templateType",void 0),gE([ee()],t.prototype,"header",void 0),gE([ee()],t.prototype,"content",void 0),gE([ee()],t.prototype,"footer",void 0),t})(fa),jDe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),R8=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},_De=(function(r){jDe(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return R8([ee()],t.prototype,"option",void 0),R8([ee()],t.prototype,"template",void 0),t})(fa),zDe=(function(){function r(t){this.parent=t,this.crudObj={sourceEvent:null,targetEvent:null,isCrudAction:!1}}return r.prototype.getQuery=function(){var t=this.parent.activeView.startDate(),e=this.parent.activeView.endDate();return this.parent.dataModule.generateQuery(t,e)},r.prototype.getTable=function(){if(this.parent.eventSettings.query){var t=this.parent.eventSettings.query.clone();return t.fromTable}return null},r.prototype.refreshDataManager=function(){var t=this;if(this.parent.activeView){if(this.parent.uiStateValues&&this.parent.uiStateValues.isPreventEventRefresh){this.parent.uiStateValues.isPreventEventRefresh=!1,this.parent.refreshEvents(!1),this.parent.hideSpinner();return}var e=this.parent.activeView.startDate(),i=this.parent.activeView.endDate(),n=this.parent.dataModule.getData(this.parent.dataModule.generateQuery(e,i));n.then(function(s){return t.dataManagerSuccess(s)}).catch(function(s){return t.dataManagerFailure(s)})}},r.prototype.dataManagerSuccess=function(t){var e=this;!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(nwe,t,function(i){if(!i.cancel){var n=qe([],i.result,null,!0);e.parent.eventsData=n.filter(function(s){return!s[e.parent.eventFields.isBlock]}),e.parent.blockData=n.filter(function(s){return s[e.parent.eventFields.isBlock]}),e.refreshProcessedData(),e.parent.dragAndDropModule&&e.parent.dragAndDropModule.actionObj.action==="drag"&&e.parent.dragAndDropModule.navigationWrapper(),e.parent.trigger(swe,null,function(){e.parent.hideSpinner(),e.parent.isPrinting&&setTimeout(function(){e.parent.notify(mwe,{})},100)})}})},r.prototype.dataManagerFailure=function(t){var e=this;!this.parent||this.parent&&this.parent.isDestroyed||this.parent.trigger(gM,{error:t},function(){return e.parent.hideSpinner()})},r.prototype.refreshProcessedData=function(t,e){if(t===void 0&&(t=!1),this.parent.dragAndDropModule&&(this.parent.dragAndDropModule.actionObj.action="",Oe([this.parent.element],"e-event-action")),this.parent.activeViewOptions&&this.parent.activeViewOptions.eventTemplate){var i=["eventTemplate"];if(this.crudObj.isCrudAction&&["Agenda","MonthAgenda","Year","TimelineYear"].indexOf(this.parent.currentView)===-1){i=[];for(var n=0,s=this.crudObj.sourceEvent.length;n<s;n++)i.push("eventTemplate_"+this.crudObj.sourceEvent[parseInt(n.toString(),10)].groupIndex),this.crudObj.targetEvent[parseInt(n.toString(),10)]&&this.crudObj.sourceEvent[parseInt(n.toString(),10)].groupIndex!==this.crudObj.targetEvent[parseInt(n.toString(),10)].groupIndex&&i.push("eventTemplate_"+this.crudObj.targetEvent[parseInt(n.toString(),10)].groupIndex)}i.length>0&&this.parent.resetTemplates(i)}if(t){this.parent.notify(hd,{processedData:e?this.parent.eventBase.processData(e):this.parent.eventsProcessed});return}var a=this.parent.eventsData||[],o=this.parent.blockData||[],l=a.concat(o);this.parent.notify(hd,{processedData:this.parent.eventBase?this.parent.eventBase.processData(l):[]})},r.prototype.refreshData=function(t){var e=this,i={requestType:t.requestType,cancel:!1,data:t.data,addedRecords:t.editParams.addedRecords,changedRecords:t.editParams.changedRecords,deletedRecords:t.editParams.deletedRecords};if(this.parent.dragAndDropModule&&this.parent.dragAndDropModule.actionObj&&this.parent.dragAndDropModule.actionObj.element&&this.parent.dragAndDropModule.actionObj.action&&(this.parent.dragAndDropModule.actionObj.element.style.display="none"),this.parent.resizeModule&&this.parent.resizeModule.actionObj&&this.parent.resizeModule.actionObj.element&&this.parent.resizeModule.actionObj.action&&(this.parent.resizeModule.actionObj.element.style.display="none"),this.parent.isSpecificResourceEvents()&&(t.requestType==="eventCreated"||t.requestType==="eventRemoved")){this.crudObj.isCrudAction=!0,this.crudObj.sourceEvent=[];for(var n=t.data instanceof Array?t.data.length===0&&t.requestType==="eventRemoved"?t.editParams.deletedRecords:t.data:(typeof t.data=="string"||typeof t.data=="number")&&t.requestType==="eventRemoved"?t.editParams.deletedRecords:[t.data],s=function(u){a.crudObj.isCrudAction=!(t.requestType==="eventRemoved"&&!v(u.parent));var d=a.parent.eventBase.getGroupIndexFromEvent(u);d>-1&&a.parent.crudModule.crudObj.sourceEvent.filter(function(p){return p.groupIndex===d}).length===0&&a.crudObj.isCrudAction&&a.crudObj.sourceEvent.push(a.parent.resourceBase.lastResourceLevel[parseInt(d.toString(),10)])},a=this,o=0,l=n;o<l.length;o++){var c=l[o];s(c)}this.crudObj.targetEvent=this.crudObj.sourceEvent}this.parent.dataModule.dataManager.dataSource.offline?this.parent.trigger(qp,i,function(u){u.cancel||e.refreshDataManager()}):t.promise.then(function(){!e.parent||e.parent&&e.parent.isDestroyed||e.parent.trigger(qp,i,function(u){u.cancel||e.refreshDataManager()})}).catch(function(u){!e.parent||e.parent&&e.parent.isDestroyed||e.parent.trigger(gM,{error:u})})},r.prototype.processAddEvent=function(t){var e=this.parent.eventFields,i={addedRecords:[],changedRecords:[],deletedRecords:[]},n;if(t.addedRecords instanceof Array){for(var s=0,a=t.addedRecords;s<a.length;s++){var o=a[s];o=this.parent.eventBase.updateEventDateTime(o);var l=qe({},this.parent.eventBase.processTimezone(o,!0),null,!0);i.addedRecords.push(l)}n=this.parent.dataModule.dataManager.saveChanges(i,e.id,this.getTable(),this.getQuery())}else{var c=this.parent.eventBase.processTimezone(t.addedRecords,!0);i.addedRecords.push(c),n=this.parent.dataModule.dataManager.insert(c,this.getTable(),this.getQuery())}var u={requestType:"eventCreated",cancel:!1,data:t.addedRecords,promise:n,editParams:i};this.refreshData(u)},r.prototype.processSaveEvent=function(t){var e,i=this.parent.eventFields,n={addedRecords:[],changedRecords:[],deletedRecords:[]};if(t.changedRecords instanceof Array){for(var s=0,a=t.changedRecords;s<a.length;s++){var o=a[s];o=this.parent.eventBase.updateEventDateTime(o);var l=qe({},this.parent.eventBase.processTimezone(o,!0),null,!0);n.changedRecords.push(l)}e=this.parent.dataModule.dataManager.saveChanges(n,i.id,this.getTable(),this.getQuery())}else{var c=this.parent.eventBase.processTimezone(t.changedRecords,!0);n.changedRecords.push(c),e=this.parent.dataModule.dataManager.update(i.id,c,this.getTable(),this.getQuery())}var u=qe({},t.changedRecords[t.changedRecords.length-1],null,!0);this.parent.eventBase.selectWorkCellByTime([this.parent.eventBase.processTimezone(u)]);var d={requestType:"eventChanged",cancel:!1,data:t.changedRecords,promise:e,editParams:n};this.refreshData(d)},r.prototype.processDeleteEvent=function(t){var e,i=this.parent.eventFields,n={addedRecords:[],changedRecords:[],deletedRecords:[]};t.deletedRecords.length>1?(n.deletedRecords=n.deletedRecords.concat(t.deletedRecords),e=this.parent.dataModule.dataManager.saveChanges(n,i.id,this.getTable(),this.getQuery())):(n.deletedRecords.push(t.deletedRecords[0]),e=this.parent.dataModule.dataManager.remove(i.id,t.deletedRecords[0],this.getTable(),this.getQuery())),this.parent.eventBase.selectWorkCellByTime(t.deletedRecords);var s={requestType:"eventRemoved",cancel:!1,data:t.deletedRecords,promise:e,editParams:n};this.refreshData(s)},r.prototype.addEvent=function(t){var e=this;if(this.parent.eventSettings.allowAdding&&!this.parent.activeViewOptions.readonly){if(!this.isBlockEvent(t)&&this.parent.eventBase.isBlockRange(t)){this.parent.quickPopup.openValidationError("blockAlert",t);return}if(this.parent.eventBase.checkOverlap(t))return;var i=t instanceof Array?t:[t];if(i.length===0)return;var n={requestType:"eventCreate",cancel:!1,data:i,addedRecords:i,changedRecords:[],deletedRecords:[]};this.parent.trigger(dc,n,function(s){s.cancel||(s.promise?s.promise.then(function(a){!e.parent||e.parent&&e.parent.isDestroyed||a&&e.processAddEvent(s)}).catch(function(a){!e.parent||e.parent&&e.parent.isDestroyed||e.parent.trigger(gM,{error:a})}):e.processAddEvent(s))})}},r.prototype.saveEvent=function(t,e){var i=this;if(this.parent.eventSettings.allowEditing&&!this.parent.activeViewOptions.readonly){if(this.parent.currentAction!=="EditFollowingEvents"&&!this.isBlockEvent(t)&&this.parent.eventBase.isBlockRange(t)){this.parent.quickPopup.openValidationError("blockAlert",t),this.parent.crudModule.crudObj.isCrudAction=!1;return}var n=t instanceof Array?t:[t];if(n.length===0)return;if(this.parent.currentAction=e,e)switch(e){case"Save":this.processSave(t);break;case"EditOccurrence":this.processOccurrences(t,e);break;case"EditFollowingEvents":this.processFollowSeries(t,e);break;case"EditSeries":this.processEntireSeries(t,e);break}else{if(this.parent.eventBase.checkOverlap(t))return;var s={requestType:"eventChange",cancel:!1,data:t,addedRecords:[],changedRecords:n,deletedRecords:[]};this.parent.trigger(dc,s,function(a){a.cancel||(a.promise?a.promise.then(function(o){!i.parent||i.parent&&i.parent.isDestroyed||o&&i.processSaveEvent(a)}).catch(function(o){!i.parent||i.parent&&i.parent.isDestroyed||i.parent.trigger(gM,{error:o})}):i.processSaveEvent(a))})}}},r.prototype.deleteEvent=function(t,e){var i=this;if(this.parent.eventSettings.allowDeleting&&!this.parent.activeViewOptions.readonly){this.parent.currentAction=e;var n=[];if(typeof t=="string"||typeof t=="number"?n=this.parent.eventsData.filter(function(a){return a[i.parent.eventFields.id]===t}):n=t instanceof Array?t:[t],n.length===0)return;if(e)switch(e){case"Delete":this.processDelete(n);break;case"DeleteOccurrence":this.processOccurrences(n,e);break;case"DeleteFollowingEvents":this.processFollowSeries(n,e);break;case"DeleteSeries":this.processEntireSeries(n,e);break}else{var s={requestType:"eventRemove",cancel:!1,data:t,addedRecords:[],changedRecords:[],deletedRecords:n};this.parent.trigger(dc,s,function(a){a.cancel||(a.promise?a.promise.then(function(o){!i.parent||i.parent&&i.parent.isDestroyed||o&&i.processDeleteEvent(a)}).catch(function(o){!i.parent||i.parent&&i.parent.isDestroyed||i.parent.trigger(gM,{error:o})}):i.processDeleteEvent(a))})}}},r.prototype.processOccurrences=function(t,e){var i=this,n=[],s=!1;if(t instanceof Array)for(var a=0,o=t;a<o.length;a++){var l=o[a];n.push({occurrence:l,parent:this.getParentEvent(l)})}else n={occurrence:t,parent:this.getParentEvent(t)};var c=t instanceof Array?t:[t],u={requestType:e==="EditOccurrence"?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:c,deletedRecords:[]};u.data=n,this.parent.trigger(dc,u,function(d){if(!d.cancel){for(var p=i.parent.eventFields,m={addedRecords:[],changedRecords:[],deletedRecords:[]},y=n instanceof Array?n:[n],M=function(B,P){var C=d.changedRecords[parseInt(B.toString(),10)],k=y[parseInt(B.toString(),10)].parent,_=k[p.recurrenceException],H=void 0,j=void 0;switch(e){case"EditOccurrence":H=i.parent.eventsProcessed.filter(function(z){return z.Guid===C.Guid})[0],j=i.excludeDateCheck(H[p.startTime],_),j!==k[p.recurrenceException]?(k[p.recurrenceException]=j,C[p.recurrenceException]=Uy(H[p.startTime]),C[p.recurrenceID]=k[p.id],C[p.followingID]=null,m.changedRecords.push(i.parent.eventBase.processTimezone(k,!0)),m.addedRecords.push(i.parent.eventBase.processTimezone(C,!0))):m.changedRecords.push(i.parent.eventBase.processTimezone(C,!0));break;case"DeleteOccurrence":C[p.recurrenceException]||(k[p.recurrenceException]=i.excludeDateCheck(C[p.startTime],_),m.changedRecords.push(i.parent.eventBase.processTimezone(k,!0))),C[p.id]!==k[p.id]&&(m.deletedRecords.push(i.parent.eventBase.processTimezone(C,!0)),s=!0);break}},w=0,b=d.changedRecords.length;w<b;w++)M(w,b);var D=i.parent.dataModule.dataManager.saveChanges(m,p.id,i.getTable(),i.getQuery()),E=qe({},d.changedRecords[d.changedRecords.length-1],null,!0);i.parent.eventBase.selectWorkCellByTime(e==="EditOccurrence"?[i.parent.eventBase.processTimezone(E)]:[E]);var N={requestType:e==="EditOccurrence"?"eventChanged":"eventRemoved",cancel:!1,data:s?d.deletedRecords:d.changedRecords,promise:D,editParams:m};i.refreshData(N)}})},r.prototype.processFollowSeries=function(t,e){var i=this,n=[];if(t instanceof Array)for(var s=0,a=t;s<a.length;s++){var o=a[s];n.push({occurrence:o,parent:this.getParentEvent(o)})}else n={occurrence:t,parent:this.getParentEvent(t)};var l=t instanceof Array?t:[t],c={requestType:e==="EditFollowingEvents"?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:l,deletedRecords:[]};c.data=n,this.parent.trigger(dc,c,function(u){if(!u.cancel){for(var d=i.parent.eventFields,p={addedRecords:[],changedRecords:[],deletedRecords:[]},m=n instanceof Array?n:[n],y=function(N,B){var P=u.changedRecords[parseInt(N.toString(),10)],C=m[parseInt(N.toString(),10)].parent,k=i.parent.eventBase.getEventCollections(C,P),_=void 0;switch(e){case"EditFollowingEvents":if(i.processRecurrenceRule(C,P),_=!i.parent.eventBase.isFollowingEvent(C,P),P[d.followingID]=_?null:C[d.id],P[d.recurrenceID]=null,p.addedRecords.push(i.parent.eventBase.processTimezone(P,!0)),p.changedRecords.push(i.parent.eventBase.processTimezone(C,!0)),!i.parent.uiStateValues.isIgnoreOccurrence){if(P[d.recurrenceException]=null,k.occurrence.length>0){var H=k.occurrence.slice(-1)[0][d.recurrenceRule];H.indexOf("COUNT")===-1&&(P[d.recurrenceRule]=H)}k.follow.length>0&&(P[d.recurrenceRule]=k.follow.slice(-1)[0][d.recurrenceRule],p.deletedRecords=p.deletedRecords.concat(k.follow)),_&&(k.occurrence=k.occurrence.filter(function(j){return j[d.recurrenceID]===C[d.id]})),p.deletedRecords=p.deletedRecords.concat(k.occurrence)}break;case"DeleteFollowingEvents":i.processRecurrenceRule(C,P[d.startTime]),p.changedRecords.push(i.parent.eventBase.processTimezone(C,!0)),p.deletedRecords=p.deletedRecords.concat(k.occurrence).concat(k.follow);break}},M=0,w=u.changedRecords.length;M<w;M++)y(M,w);var b=i.parent.dataModule.dataManager.saveChanges(p,d.id,i.getTable(),i.getQuery()),D=qe({},u.changedRecords[u.changedRecords.length-1],null,!0);i.parent.eventBase.selectWorkCellByTime(e==="EditFollowingEvents"?[i.parent.eventBase.processTimezone(D)]:[D]);var E={requestType:e==="EditFollowingEvents"?"eventChanged":"eventRemoved",cancel:!1,data:u.changedRecords,promise:b,editParams:p};i.refreshData(E)}})},r.prototype.processEntireSeries=function(t,e){var i=this,n=[],s=!1;if(t instanceof Array)for(var a=0,o=t;a<o.length;a++){var l=o[a];n.push(this.getParentEvent(l,!0))}else n=this.getParentEvent(t,!0);var c=t instanceof Array?t:[t],u={requestType:e==="EditSeries"?"eventChange":"eventRemove",cancel:!1,addedRecords:[],changedRecords:[],deletedRecords:[]};if(u.data=n,e==="EditSeries"?u.changedRecords=c:u.deletedRecords=c,e==="EditSeries"&&!this.parent.uiStateValues.isIgnoreOccurrence)for(var d=n instanceof Array?n:[n],p=0,m=u.changedRecords.length;p<m;p++){var y=d[parseInt(p.toString(),10)],M=this.parent.eventBase.getEventCollections(y),w=M.follow.concat(M.occurrence);u.deletedRecords=u.deletedRecords.concat(w)}this.parent.trigger(dc,u,function(b){if(!b.cancel){for(var D=i.parent.eventFields,E={addedRecords:[],changedRecords:[],deletedRecords:[]},N=n instanceof Array?n:[n],B=e==="EditSeries"?b.changedRecords:b.deletedRecords,P=function(z,F){var X=B[parseInt(z.toString(),10)],J=N[parseInt(z.toString(),10)],U=i.parent.eventBase.getEventCollections(J),W=U.follow.concat(U.occurrence);switch(e){case"EditSeries":if(X[D.id]=J[D.id],X[D.recurrenceID]=null,X[D.followingID]=null,i.parent.uiStateValues.isIgnoreOccurrence&&X[D.recurrenceException]){var re=i.parent.eventsData.filter(function(Z){return Z[D.id]===X[D.id]});re.length>0&&(X[D.recurrenceRule]=re[0][D.recurrenceRule])}else X[D.recurrenceException]=null,E.deletedRecords=E.deletedRecords.concat(W);E.changedRecords.push(i.parent.eventBase.processTimezone(X,!0)),i.parent.uiStateValues.isIgnoreOccurrence=!1;break;case"DeleteSeries":E.deletedRecords=E.deletedRecords.concat(W.concat(i.parent.eventBase.processTimezone(J,!0))),s=!0;break}},C=0,k=B.length;C<k;C++)P(C,k);var _=i.parent.dataModule.dataManager.saveChanges(E,D.id,i.getTable(),i.getQuery()),H=qe({},B[B.length-1],null,!0);i.parent.eventBase.selectWorkCellByTime(e==="EditSeries"?[i.parent.eventBase.processTimezone(H)]:[H]);var j={requestType:e==="EditSeries"?"eventChanged":"eventRemoved",cancel:!1,data:s?b.deletedRecords:b.changedRecords,promise:_,editParams:E};i.refreshData(j)}})},r.prototype.processDelete=function(t){for(var e=this,i=[],n=0,s=t;n<s.length;n++){var a=s[n];a[this.parent.eventFields.recurrenceRule]?i.push({occurrence:a,parent:this.getParentEvent(a)}):i.push(a)}var o={requestType:"eventRemove",cancel:!1,addedRecords:[],changedRecords:[],deletedRecords:t};o.data=i,this.parent.trigger(dc,o,function(l){if(!l.cancel){for(var c=e.parent.eventFields,u={addedRecords:[],changedRecords:[],deletedRecords:[]},d=qe([],l.deletedRecords,null,!0),p=function(b,D){var E=v(l.deletedRecords[parseInt(b.toString(),10)][e.parent.eventFields.recurrenceRule]);if(!E){var N=i[parseInt(b.toString(),10)].parent,B=u.changedRecords.filter(function(j){return j[c.id]===N[c.id]}),P=l.deletedRecords[parseInt(b.toString(),10)][c.startTime];if(B.length>0){var C=B[0];C[c.recurrenceException]=e.excludeDateCheck(P,C[c.recurrenceException])}else N[c.recurrenceException]=e.excludeDateCheck(P,N[c.recurrenceException]);B.length===0&&u.changedRecords.push(e.parent.eventBase.processTimezone(N,!0)),E=l.deletedRecords[parseInt(b.toString(),10)][c.id]!==N[c.id]}if(E){if(l.deletedRecords instanceof Array)for(var k=0,_=l.deletedRecords;k<_.length;k++){var H=_[k];e.parent.eventBase.processTimezone(H,!0)}u.deletedRecords.push(l.deletedRecords[parseInt(b.toString(),10)])}},m=0,y=l.deletedRecords.length;m<y;m++)p(m,y);var M=e.parent.dataModule.dataManager.saveChanges(u,c.id,e.getTable(),e.getQuery());e.parent.eventBase.selectWorkCellByTime(d);var w={requestType:"eventRemoved",cancel:!1,data:l.deletedRecords,promise:M,editParams:u};e.refreshData(w)}})},r.prototype.processSave=function(t){for(var e=this,i=t instanceof Array?t:[t],n=[],s=0,a=i;s<a.length;s++){var o=a[s];o[this.parent.eventFields.recurrenceRule]?n.push({occurrence:o,parent:this.getParentEvent(o)}):n.push(o)}var l={requestType:"eventChange",cancel:!1,addedRecords:[],changedRecords:i,deletedRecords:[]};l.data=n,this.parent.trigger(dc,l,function(c){if(!c.cancel){for(var u=e.parent.eventFields,d={addedRecords:[],changedRecords:[],deletedRecords:[]},p=0,m=c.changedRecords;p<m.length;p++){var y=m[p];if(!v(y[u.recurrenceRule])&&v(y[u.recurrenceException])){var M=Uy(y[u.startTime]),w=e.getParentEvent(y);w[u.recurrenceException]=v(w[u.recurrenceException])?M:w[u.recurrenceException].concat(","+M),y[u.id]=e.parent.getEventMaxID(),y[u.recurrenceException]=M,d.addedRecords.push(e.parent.eventBase.processTimezone(y,!0)),d.changedRecords.push(e.parent.eventBase.processTimezone(w,!0))}else d.changedRecords.push(e.parent.eventBase.processTimezone(y,!0))}var b=e.parent.dataModule.dataManager.saveChanges(d,u.id,e.getTable(),e.getQuery()),D=qe({},c.changedRecords[c.changedRecords.length-1],null,!0);e.parent.eventBase.selectWorkCellByTime([e.parent.eventBase.processTimezone(D)]);var E={requestType:"eventChanged",cancel:!1,data:c.changedRecords,promise:b,editParams:d};e.refreshData(E)}})},r.prototype.getParentEvent=function(t,e){e===void 0&&(e=!1);var i=this.parent.eventBase.getParentEvent(t,e)||t;return(i[this.parent.eventFields.startTimezone]||i[this.parent.eventFields.endTimezone])&&this.parent.eventBase.timezoneConvert(i),i},r.prototype.excludeDateCheck=function(t,e){var i=this.parent.timezone||this.parent.tzModule.getLocalTimezoneName();i&&(t=this.parent.tzModule.remove(new Date(+t.getTime()),i));var n=Uy(t);return v(e)?e=n:e.indexOf(n)===-1&&(e=v(e)?n:e+","+n),e},r.prototype.processRecurrenceRule=function(t,e){var i=this.parent.eventFields,n=t[i.recurrenceRule],s;if(e instanceof Date)s=new Date(+e);else{s=new Date(+e[i.startTime]);var a=e[i.recurrenceRule];if(a){var o=t[i.startTime],l=this.parent.currentAction==="DeleteFollowingEvents"?e[i.recurrenceException]:null,c=Zj(o,a,l,this.parent.activeViewOptions.firstDayOfWeek),u=new Date(c.slice(-1)[0]);u.setHours(s.getHours(),s.getMinutes(),s.getSeconds()),s.setHours(o.getHours(),o.getMinutes(),o.getSeconds()),e[i.recurrenceRule]=this.getUpdatedRecurrenceRule(a,new Date(+u),!1)}}t[i.recurrenceRule]=this.getUpdatedRecurrenceRule(n,Zt(new Date(s.getTime()),-1),!0)},r.prototype.getUpdatedRecurrenceRule=function(t,e,i){for(var n=t.split(";"),s="",a=0,o=n;a<o.length;a++){var l=o[a];if(l!==""){var c=l.split("=")[0],u=l.split("=")[1];(c==="COUNT"||c==="UNTIL")&&(u=Uy(e),l=l.replace(l,"UNTIL="+u)),s+=l+";"}}return i&&s.indexOf("UNTIL")===-1&&(s+="UNTIL="+Uy(e)),s},r.prototype.isBlockEvent=function(t){for(var e=t instanceof Array?t:[t],i=!1,n=0,s=e;n<s.length;n++){var a=s[n];i=a[this.parent.eventFields.isBlock]||!1}return i},r.prototype.destroy=function(){this.crudObj=null,this.parent=null},r})(),RDe=(function(){function r(t){this.parent=t,se.add(this.parent.element,"mouseover",this.onHover,this)}return r.prototype.cellMouseDown=function(t){this.isPreventAction(t)||this.parent.notify(HO,{event:t})},r.prototype.cellClick=function(t){var e=this;if(!this.isPreventAction(t)){var i="."+ci+",."+tn+",."+Co,n=Fe(t.target,i);if(!v(n)){if(!v(Fe(t.target,"."+fS))){this.parent.eventWindow.openEditor(this.parent.activeCellsData,"Add");return}var s=n.classList.contains(ci)||n.classList.contains(tn);this.parent.uiStateValues.isTapHold&&!this.parent.uiStateValues.action&&s&&(this.parent.uiStateValues.isTapHold=!1,this.parent.eventBase.removeSelectedAppointmentClass(),this.parent.selectedElements=[]);var a=Fe(t.target,"."+V1),o=this.parent.getNavigateView(),l=this.parent.currentView===o;if(v(a)||l||v(this.parent.viewOptions[o.charAt(0).toLowerCase()+o.slice(1)])){if(this.parent.activeViewOptions.readonly&&this.parent.currentView!=="MonthAgenda"){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide();return}if(this.parent.isAdaptive&&(t.target.classList.contains(Gl)||Fe(t.target,"."+Gl)))return;if(s&&t.shiftKey&&t.which===1&&this.parent.keyboardInteractionModule){this.parent.keyboardInteractionModule.onMouseSelection(t);return}this.parent.activeCellsData=this.parent.getCellDetails(n);var c=qe(this.parent.activeCellsData,{cancel:!1,event:t,name:"cellClick"});this.parent.trigger(Yp,c,function(d){if(d.cancel)e.parent.quickPopup&&e.parent.quickPopup.quickPopupHide();else if(s&&e.parent.selectCell(n),e.parent.allowInline){var p={element:d.element,groupIndex:d.groupIndex,type:"Cell"};e.parent.notify(F1,p)}else e.parent.notify(Yp,d)})}else{var u=this.parent.getDateFromElement(n);!v(u)&&this.parent.isMinMaxDate(u)&&(this.parent.setProperties({selectedDate:u},!0),this.parent.changeView(this.parent.getNavigateView(),t))}}}},r.prototype.cellDblClick=function(t){var e=this,i="."+ci+",."+tn+",."+Co,n=Fe(t.target,i);if(!(this.parent.activeViewOptions.readonly||this.isPreventAction(t)||v(n))){var s=qe(this.parent.activeCellsData,{cancel:!1,event:t,name:"cellDoubleClick"});this.parent.trigger(ewe,s,function(a){if(a.startTime){var o=new Date(a.startTime.getTime());e.parent.isMinMaxDate(new Date(o.setHours(0,0,0,0)))&&(a.cancel||e.parent.eventWindow.openEditor(e.parent.activeCellsData,"Add"))}})}},r.prototype.onHover=function(t){var e="."+ci+",."+sS+",."+tn+",."+Co+",."+$c+",."+Ni+",."+kN+",."+MK,i=Fe(t.target,e);if(i){var n={element:i,event:t};this.parent.trigger(iwe,n)}},r.prototype.isPreventAction=function(t){if(Fe(t.target,"."+V1))return!1;if(Fe(t.target,"."+kn)&&!Fe(t.target,"."+Gl))return!0;var e=Fe(t.target,"."+Ni+",."+f1);return!!(!v(e)||(e=Fe(t.target,"."+Co),this.parent.activeView&&this.parent.activeView.isTimelineView()&&!v(e)))},r.prototype.destroy=function(){se.remove(this.parent.element,"mouseover",this.onHover)},r})(),PDe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),vE=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Qh=(function(r){PDe(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return vE([ee()],t.prototype,"name",void 0),vE([ee()],t.prototype,"default",void 0),vE([ee()],t.prototype,"title",void 0),vE([ee({})],t.prototype,"validation",void 0),t})(fa),FDe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),cc=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},BDe=(function(r){FDe(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return cc([ee("Id")],t.prototype,"id",void 0),cc([ee("IsBlock")],t.prototype,"isBlock",void 0),cc([Yn({name:"Subject"},Qh)],t.prototype,"subject",void 0),cc([Yn({name:"StartTime"},Qh)],t.prototype,"startTime",void 0),cc([Yn({name:"EndTime"},Qh)],t.prototype,"endTime",void 0),cc([Yn({name:"StartTimezone"},Qh)],t.prototype,"startTimezone",void 0),cc([Yn({name:"EndTimezone"},Qh)],t.prototype,"endTimezone",void 0),cc([Yn({name:"Location"},Qh)],t.prototype,"location",void 0),cc([Yn({name:"Description"},Qh)],t.prototype,"description",void 0),cc([Yn({name:"IsAllDay"},Qh)],t.prototype,"isAllDay",void 0),cc([Yn({name:"RecurrenceID"},Qh)],t.prototype,"recurrenceID",void 0),cc([Yn({name:"RecurrenceRule"},Qh)],t.prototype,"recurrenceRule",void 0),cc([Yn({name:"RecurrenceException"},Qh)],t.prototype,"recurrenceException",void 0),cc([ee("IsReadonly")],t.prototype,"isReadonly",void 0),cc([ee("FollowingID")],t.prototype,"followingID",void 0),t})(fa),UDe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Yo=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},VDe=(function(r){UDe(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Yo([ee()],t.prototype,"template",void 0),Yo([ee([])],t.prototype,"dataSource",void 0),Yo([ee()],t.prototype,"query",void 0),Yo([Yn({},BDe)],t.prototype,"fields",void 0),Yo([ee(!1)],t.prototype,"enableTooltip",void 0),Yo([ee("AllDayRow")],t.prototype,"spannedEventPlacement",void 0),Yo([ee(1)],t.prototype,"minimumEventDuration",void 0),Yo([ee()],t.prototype,"tooltipTemplate",void 0),Yo([ee()],t.prototype,"resourceColorField",void 0),Yo([ee(!1)],t.prototype,"editFollowingEvents",void 0),Yo([ee(!0)],t.prototype,"allowAdding",void 0),Yo([ee(!0)],t.prototype,"allowEditing",void 0),Yo([ee(!0)],t.prototype,"allowDeleting",void 0),Yo([ee(!1)],t.prototype,"enableMaxHeight",void 0),Yo([ee(!1)],t.prototype,"enableIndicator",void 0),Yo([ee(!1)],t.prototype,"ignoreWhitespace",void 0),Yo([ee()],t.prototype,"sortComparer",void 0),Yo([ee()],t.prototype,"includeFiltersInQuery",void 0),t})(fa),HDe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),E0=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},WDe=(function(r){HDe(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return E0([ee(!1)],t.prototype,"byDate",void 0),E0([ee(!0)],t.prototype,"byGroupID",void 0),E0([ee(!1)],t.prototype,"allowGroupEdit",void 0),E0([ee([])],t.prototype,"resources",void 0),E0([ee(!0)],t.prototype,"enableCompactView",void 0),E0([ee()],t.prototype,"headerTooltipTemplate",void 0),E0([ee(!1)],t.prototype,"hideNonWorkingDays",void 0),t})(fa),YDe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),uc=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},qDe=(function(r){YDe(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return uc([ee()],t.prototype,"field",void 0),uc([ee()],t.prototype,"title",void 0),uc([ee()],t.prototype,"name",void 0),uc([ee(!1)],t.prototype,"allowMultiple",void 0),uc([ee([])],t.prototype,"dataSource",void 0),uc([ee()],t.prototype,"query",void 0),uc([ee("Id")],t.prototype,"idField",void 0),uc([ee("Text")],t.prototype,"textField",void 0),uc([ee("Expanded")],t.prototype,"expandedField",void 0),uc([ee("GroupID")],t.prototype,"groupIDField",void 0),uc([ee("Color")],t.prototype,"colorField",void 0),uc([ee("StartHour")],t.prototype,"startHourField",void 0),uc([ee("EndHour")],t.prototype,"endHourField",void 0),uc([ee("WorkDays")],t.prototype,"workDaysField",void 0),uc([ee("CssClass")],t.prototype,"cssClassField",void 0),t})(fa),QDe=(function(){function r(t){this.resourceCollection=[],this.leftPixel=25,this.resourceDateTree=[],this.parent=t}return r.prototype.renderResourceHeaderIndent=function(t){var e=Be("td",{className:Rwe}),i=Be("div",{className:tA});if(this.parent.activeViewOptions.headerIndentTemplate){var n={className:[e.className],type:"emptyCells"};this.parent.renderHeaderIndentTemplate(n,e)}else e.appendChild(i);var s={elementType:"emptyCells",element:e};this.parent.trigger(Eu,s),t.appendChild(e)},r.prototype.hideResourceRows=function(t){if(!(this.resourceCollection.length<=1||this.parent.virtualScrollModule))for(var e=this.lastResourceLevel.length,i=0;i<e;i++){var n=this.lastResourceLevel[parseInt(i.toString(),10)].resourceData,s=this.lastResourceLevel[parseInt(i.toString(),10)].resource;if(n.ClassName===fp&&!n[s.expandedField]&&!v(n[s.expandedField])){var a=[].slice.call(t.children),o=a.slice(i+1,i+(parseInt(n.Count,10)+1));pe(o,gl)}}},r.prototype.createResourceColumn=function(){var t=this.resourceCollection,e=Be("div",{className:id}),i=this.parent.activeView.createTableLayout(Tg);!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&pe([i],AK);var n=i.querySelector("tbody"),s=this.generateTreeData(!0);if(this.countCalculation(t.slice(0,-2),t.slice(0,-1)),this.renderedResources=this.lastResourceLevel,this.parent.virtualScrollModule){var a=this.parent.virtualScrollModule.getRenderedCount();this.setExpandedResources(),s=this.expandedResources.slice(0,a),this.renderedResources=s}return ri(this.getContentRows(s),n),this.hideResourceRows(n),i.appendChild(n),e.appendChild(i),e},r.prototype.setRenderedResources=function(){var t=this.resourceCollection;this.generateTreeData(!0),this.countCalculation(t.slice(0,-2),t.slice(0,-1)),this.renderedResources=this.lastResourceLevel},r.prototype.setExpandedResources=function(){for(var t=[],e=0;e<this.lastResourceLevel.length;e++){var i=this.lastResourceLevel[parseInt(e.toString(),10)].resourceData,n=i.Count;t.push(this.lastResourceLevel[parseInt(e.toString(),10)]);var s=i[this.lastResourceLevel[parseInt(e.toString(),10)].resource.expandedField];!v(s)&&!s&&n>0&&(e=e+n)}this.expandedResources=t},r.prototype.getContentRows=function(t,e){for(var i=[],n,s,a=this.resourceCollection,o=Be("tr"),l=Be("td",{attrs:{tabindex:e?"-1":"0"}}),c=this.parent.activeView.getGroupIndices(),u=0;u<t.length;u++)if(!(c.length>0&&c.indexOf(t[parseInt(u.toString(),10)].groupIndex)>-1)){var d=l.cloneNode();if(s=lT(a,"name",t[parseInt(u.toString(),10)].resource.name),s===a.length-1?(qe(t[parseInt(u.toString(),10)].resourceData,{ClassName:oV}),this.renderedResources[parseInt(u.toString(),10)].className=[oV]):(qe(t[parseInt(u.toString(),10)].resourceData,{ClassName:fp}),this.renderedResources[parseInt(u.toString(),10)].className=[fp]),n=s*this.leftPixel+"px",t[parseInt(u.toString(),10)].resourceData.ClassName===fp&&!v(t[parseInt(u.toString(),10)].resourceData.Count)&&t[parseInt(u.toString(),10)].resourceData.Count>0){var p=void 0;t[parseInt(u.toString(),10)].resourceData[a[parseInt(s.toString(),10)].expandedField]||v(t[parseInt(u.toString(),10)].resourceData[a[parseInt(s.toString(),10)].expandedField])?p=Vd:p=O0;var m=Be("div");pe([m],[Jy,p]),this.setMargin(m,n),d.appendChild(m),this.resourceCollection.length>1&&se.add(m,"click",this.onTreeIconClick,this)}this.parent.activeView.setResourceHeaderContent(d,t[parseInt(u.toString(),10)],tA),d.setAttribute("data-group-index",t[parseInt(u.toString(),10)].groupIndex.toString()),d.setAttribute("aria-label",t[parseInt(u.toString(),10)].resourceData[t[parseInt(u.toString(),10)].resource.textField]+" resource"),this.parent.activeViewOptions.resourceHeaderTemplate||this.setMargin(d.querySelector("."+tA),n);var y=[$c,t[parseInt(u.toString(),10)].resourceData.ClassName];pe([d],y);var M={elementType:"resourceHeader",element:d,groupIndex:t[parseInt(u.toString(),10)].groupIndex};this.parent.trigger(Eu,M);var w=o.cloneNode();w.appendChild(d),i.push(w)}return i},r.prototype.setMargin=function(t,e){this.parent.enableRtl?t.style.marginRight=e:t.style.marginLeft=e},r.prototype.countCalculation=function(t,e){for(var i,n=0;n<t.length;n++){for(var s=t[t.length-(n+1)].dataSource,a=0;a<s.length;a++){var o=0;if(this.parent.activeViewOptions.group.byGroupID){var l=new di().where(e[e.length-1].groupIDField,"equal",s[parseInt(a.toString(),10)][t[t.length-(n+1)].idField]);i=new ut(e[e.length-1].dataSource).executeLocal(l)}else i=e[e.length-1].dataSource;for(var c=0;c<i.length;c++)o=o+parseInt(i[parseInt(c.toString(),10)].Count,10);o=o+parseInt(s[parseInt(a.toString(),10)].Count,10),qe(s[parseInt(a.toString(),10)],{Count:o})}e=e.slice(0,-1)}},r.prototype.onTreeIconClick=function(t){var e=this;this.parent.eventTooltip&&this.parent.eventTooltip.close();var i=t.target,n,s=Fe(i,"."+fp).parentElement,a=parseInt(s.children[0].getAttribute("data-group-index"),10),o={cancel:!1,event:t,groupIndex:a,requestType:i.classList.contains(Vd)?"resourceCollapse":"resourceExpand"};this.parent.trigger(dc,o,function(l){if(!l.cancel){i.classList.contains(Vd)?(No(i,[O0],[Vd]),n=!0):(No(i,[Vd],[O0]),n=!1);for(var c=[].slice.call(e.parent.element.querySelectorAll("."+Ni+",."+Gl)),u=0,d=c;u<d.length;u++){var p=d[u];ji(p)}e.parent.virtualScrollModule?e.updateVirtualContent(a,n,t,i):e.updateContent(a,n);var m={cssProperties:e.parent.getCssProperties(),module:"scroll"};e.parent.notify(dd,m),o={cancel:!1,event:t,groupIndex:a,requestType:i.classList.contains(Vd)?"resourceExpanded":"resourceCollapsed"},e.parent.refreshEvents(!1),e.parent.trigger(qp,o)}})},r.prototype.updateContent=function(t,e){for(var i=[],n=[],s=[],a,o=this.lastResourceLevel[parseInt(t.toString(),10)].resourceData,l=[].slice.call(this.parent.element.querySelectorAll("."+id+" tr")),c=[].slice.call(this.parent.element.querySelectorAll("."+lr+" tbody tr")),u=[].slice.call(this.parent.element.querySelectorAll("."+lr+" ."+Dp)),d=0;d<o.Count;d++)i.push(l[t+d+1]),n.push(c[t+d+1]),s.push(u[t+d+1]);for(var p=this.lastResourceLevel,m=0;m<i.length;m++){var y=!0;if(a=i[parseInt(m.toString(),10)].children[0].classList.contains(fp),p[parseInt(t.toString(),10)].resourceData[p[parseInt(t.toString(),10)].resource.expandedField]=!e,e){if(a){var M=i[parseInt(m.toString(),10)].querySelector("."+Jy);M&&No(M,[O0],[Vd])}i[parseInt(m.toString(),10)].classList.contains(gl)||pe([i[parseInt(m.toString(),10)],n[parseInt(m.toString(),10)],s[parseInt(m.toString(),10)]],gl)}else{if(a){var w=i[parseInt(m.toString(),10)].rowIndex;if(!p[parseInt(w.toString(),10)].resourceData[p[parseInt(w.toString(),10)].resource.expandedField]&&!v(p[parseInt(w.toString(),10)].resourceData[p[parseInt(w.toString(),10)].resource.expandedField])&&(i.splice(m+1,parseInt(p[parseInt(w.toString(),10)].resourceData.Count,10)),n.splice(m+1,parseInt(p[parseInt(w.toString(),10)].resourceData.Count,10)),s.splice(m+1,parseInt(p[parseInt(w.toString(),10)].resourceData.Count,10)),y=!1),y){var M=i[parseInt(m.toString(),10)].querySelector("."+Jy);M&&No(M,[Vd],[O0])}}i[parseInt(m.toString(),10)].classList.contains(gl)&&Oe([i[parseInt(m.toString(),10)],n[parseInt(m.toString(),10)],s[parseInt(m.toString(),10)]],gl)}}},r.prototype.updateVirtualContent=function(t,e,i,n){this.lastResourceLevel[parseInt(t.toString(),10)].resourceData[this.lastResourceLevel[parseInt(t.toString(),10)].resource.expandedField]=!e,this.setExpandedResources();var s=this.parent.virtualScrollModule.getRenderedCount(),a=this.expandedResources.indexOf(this.renderedResources[0]);if(this.parent.virtualScrollModule.existingDataCollection=this.renderedResources,this.renderedResources=this.expandedResources.slice(a,a+s),this.renderedResources.length<s){var o=this.expandedResources.length-s;o=o>0?o:0,this.renderedResources=this.expandedResources.slice(o,this.expandedResources.length)}var l=this.parent.element.querySelector("."+uT);this.parent.virtualScrollModule.updateVirtualTrackHeight(l);var c=this.parent.element.querySelector("."+id+" table"),u=this.parent.element.querySelector("."+lr+" table"),d=this.parent.element.querySelector("."+wg);this.parent.virtualScrollModule.updateContent(c,u,d,this.renderedResources);var p=this.parent.element.querySelector("."+aS);v(p)||(p.style.height=this.parent.element.querySelector("."+_n).offsetHeight+"px")},r.prototype.renderResourceHeader=function(){var t=Be("div",{className:cT});if(t.innerHTML='<div class="'+vK+'"><div class="'+LV+'"><div class="e-icons '+jV+'"></div></div><div class="'+_V+'"></div></div>',this.parent.currentView==="MonthAgenda"){var e=this.parent.activeView.getPanel().querySelector("."+lr);e.insertBefore(t,e.querySelector("."+f4))}else this.parent.element.insertBefore(t,this.parent.element.querySelector("."+fh));this.renderResourceHeaderText(),se.add(t.querySelector("."+jV),"click",this.menuClick,this)},r.prototype.renderResourceTree=function(){this.popupOverlay=Be("div",{className:zV});var t=Be("div",{className:EM+" e-popup-close"});if(this.parent.currentView==="MonthAgenda"){var e=this.parent.activeView.getPanel().querySelector("."+f4);e.insertBefore(t,e.children[0]),e.appendChild(this.popupOverlay)}else this.parent.element.querySelector("."+fh).appendChild(t),this.parent.element.querySelector("."+fh).appendChild(this.popupOverlay);var i=Be("div",{className:mTe});t.appendChild(i),this.treeViewObj=new Jxe({cssClass:this.parent.cssClass,enableRtl:this.parent.enableRtl,enableHtmlSanitizer:this.parent.enableHtmlSanitizer,fields:{dataSource:[].slice.call(this.generateTreeData()),id:"resourceId",text:"resourceName",child:"resourceChild"},nodeTemplate:this.parent.resourceHeaderTemplate,nodeClicked:this.resourceClick.bind(this),created:this.resourceTreeCreated.bind(this)}),this.treeViewObj.root=this.parent.root?this.parent.root:this.parent,this.treeViewObj.appendTo(i),this.treeViewObj.expandAll(),this.treePopup=new xh(t,{targetType:"relative",actionOnScroll:"none",content:this.treeViewObj.element,relateTo:this.parent.element.querySelector("."+fh),enableRtl:this.parent.enableRtl,hideAnimation:{name:"SlideLeftOut",duration:500},showAnimation:{name:"SlideLeftIn",duration:500},viewPortElement:this.parent.element.querySelector("."+(this.parent.currentView==="MonthAgenda"?f4:fh))}),this.parent.on(Qp,this.documentClick,this)},r.prototype.resourceTreeCreated=function(){this.parent.activeViewOptions.resourceHeaderTemplate&&this.parent.portals&&this.treeViewObj.portals&&(this.parent.portals=this.parent.portals.concat(this.treeViewObj.portals),this.parent.renderTemplates())},r.prototype.generateTreeData=function(t){for(var e=this,i=[],n=[],s=0,a=function(u,d){var p=function(m,y,M){var w=e.resourceCollection[parseInt(y.toString(),10)],b,D;t?(D={type:"resourceHeader",resource:m.resource,resourceData:m.resourceData,groupIndex:s,groupOrder:m.groupOrder},n.push(D),s++):b={resourceId:M,resourceName:m.resourceData[w.textField],resource:m.resource,resourceData:m.resourceData},m.child.length>0&&!t&&(b.resourceChild=[]);for(var E=1,N=0,B=m.child;N<B.length;N++){var P=B[N];t?p(P,y+1,M+"-"+E):b.resourceChild.push(p(P,y+1,M+"-"+E)),E+=1}return t&&qe(D.resourceData,{Count:E-1}),b};t?p(o.resourceTreeLevel[parseInt(u.toString(),10)],0,(u+1).toString()):i.push(p(o.resourceTreeLevel[parseInt(u.toString(),10)],0,(u+1).toString()))},o=this,l=0,c=this.resourceTreeLevel.length;l<c;l++)a(l);return t?(this.lastResourceLevel=n,n):i},r.prototype.renderResourceHeaderText=function(){for(var t=this.lastResourceLevel[this.parent.uiStateValues.groupIndex],e=[],i=function(p,m){var y=n.resourceCollection[parseInt(p.toString(),10)],M=y.dataSource.filter(function(D){return D[y.idField]===t.groupOrder[parseInt(p.toString(),10)]}),w=Be("div",{className:yK});n.parent.sanitize(M[0][y.textField],w),e.push(w);var b=Be("div",{className:"e-icons e-icon-next"});e.push(b)},n=this,s=0,a=t.groupOrder.length;s<a;s++)i(s);e.pop();var o=this.parent.currentView==="MonthAgenda"?this.parent.activeView.getPanel():this.parent.element,l=o.querySelector("."+_V);df(l);for(var c=0,u=e;c<u.length;c++){var d=u[c];l.appendChild(d)}this.lastResourceLevel.length===1&&pe([this.parent.element.querySelector("."+LV)],hn)},r.prototype.menuClick=function(t){if(this.parent.element.querySelector("."+EM).classList.contains(la))this.treePopup.hide(),Oe([this.popupOverlay],ug);else{var e=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item:not(.e-has-child)"));Oe(e,"e-active"),pe([e[this.parent.uiStateValues.groupIndex]],"e-active"),this.treePopup.show(),pe([this.popupOverlay],ug)}},r.prototype.selectResourceByIndex=function(t){this.lastResourceLevel&&t>-1&&t<this.lastResourceLevel.length&&this.triggerEvents(t)},r.prototype.resourceClick=function(t){if(!t.node.classList.contains("e-has-child")){this.treePopup.hide(),Oe([this.popupOverlay],ug);var e=[].slice.call(this.treeViewObj.element.querySelectorAll(".e-list-item:not(.e-has-child)")),i=e.indexOf(t.node);this.triggerEvents(i,t),t.event.preventDefault()}},r.prototype.triggerEvents=function(t,e){var i=this,n={cancel:!1,event:e?e.event:null,groupIndex:t,requestType:"resourceChange"};this.parent.trigger(dc,n,function(s){s.cancel||(i.parent.uiStateValues.groupIndex=s.groupIndex,i.parent.renderModule.render(i.parent.currentView),n={cancel:!1,event:e?e.event:null,groupIndex:i.parent.uiStateValues.groupIndex,requestType:"resourceChanged"},i.parent.adaptiveGroupIndex=i.parent.uiStateValues.groupIndex,i.parent.trigger(qp,n))})},r.prototype.documentClick=function(t){if(!Fe(t.event.target,"."+EM)){var e=this.parent.element.querySelector("."+EM);e&&e.classList.contains(la)&&(this.treePopup.hide(),Oe([this.popupOverlay],ug))}},r.prototype.bindResourcesData=function(t){var e=this;this.parent.showSpinner();for(var i=[],n=0,s=this.parent.resources;n<s.length;n++){var a=s[n],o=new NK(this.parent,a.dataSource,a.query);i.push(o.getData(o.generateQuery()))}Promise.all(i).then(function(l){return e.dataManagerSuccess(l,t)}).catch(function(l){return e.parent.crudModule.dataManagerFailure(l)})},r.prototype.dataManagerSuccess=function(t,e){if(!(!this.parent||this.parent&&this.parent.isDestroyed)){this.parent.resourceCollection=[];for(var i=0,n=t.length;i<n;i++){var s=this.parent.resources[parseInt(i.toString(),10)],a=this.getResourceModel(s,t[parseInt(i.toString(),10)].result);this.parent.resourceCollection.push(a)}this.refreshLayout(e)}},r.prototype.getResourceModel=function(t,e){var i={field:t.field,title:t.title,name:t.name,allowMultiple:t.allowMultiple,dataSource:e||t.dataSource,idField:t.idField,textField:t.textField,groupIDField:t.groupIDField,colorField:t.colorField,startHourField:t.startHourField,endHourField:t.endHourField,workDaysField:t.workDaysField,expandedField:t.expandedField,cssClassField:t.cssClassField};return i},r.prototype.refreshLayout=function(t){(v(this.parent.uiStateValues.groupIndex)||!this.parent.enablePersistence)&&(this.parent.uiStateValues.groupIndex=0),this.parent.renderElements(t)},r.prototype.setResourceCollection=function(){var t=[];if(this.resourceCollection=[],this.colorIndex=null,this.parent.activeViewOptions.group.resources.length>0)for(var e=0,i=this.parent.activeViewOptions.group.resources;e<i.length;e++){var n=i[e],s=lT(this.parent.resourceCollection,"name",n);s>=0&&t.push(this.parent.resourceCollection[parseInt(s.toString(),10)])}else this.parent.resourceCollection.length>0&&(t=this.parent.resourceCollection);for(var a=0,o=0,l=t;o<l.length;o++){var n=l[o],c=this.getResourceModel(n);n.name===this.parent.eventSettings.resourceColorField&&(this.colorIndex=a),a++,this.resourceCollection.push(c)}v(this.colorIndex)&&(this.colorIndex=this.resourceCollection.length-1)},r.prototype.generateResourceLevels=function(t,e){var i=this,n=this.resourceCollection,s=[],a=[],o=function(l,c,u,d,p){var m=[],y=l[0];if(y){var M=void 0;if(d&&i.parent.activeViewOptions.group.byGroupID){var w=d[u.idField];M=y.dataSource.filter(function(F){return F[y.groupIDField]===w})}else M=y.dataSource;for(var b=0;b<M.length;b++){var D=[];p&&p.length>0&&(D=D.concat(p)),D.push(M[parseInt(b.toString(),10)][y.idField]);var E=o(l.slice(1),c+1,y,M[parseInt(b.toString(),10)],D);if(!(c===0&&E.length===0&&i.resourceCollection.length>1)){var N=[],B=i.parent.activeView.renderDates,P=void 0;if(!i.parent.activeViewOptions.group.byDate&&c+1===i.resourceCollection.length){var C=M[parseInt(b.toString(),10)][y.workDaysField],k=M[parseInt(b.toString(),10)][y.startHourField],_=M[parseInt(b.toString(),10)][y.endHourField];C&&C.length>0?(B=i.parent.activeView.getRenderDates(C),P=C,N=i.parent.activeView.getDateSlots(B,C)):(P=i.parent.activeViewOptions.workDays,N=t);var H=i.generateCustomHours(N,k,_,D);a=a.concat(H)}var j=M[parseInt(b.toString(),10)][y.cssClassField],z={type:"resourceHeader",className:["e-resource-cells"],resourceLevelIndex:c,groupOrder:D,resource:y,resourceData:M[parseInt(b.toString(),10)],colSpan:i.parent.activeViewOptions.group.byDate?1:N.length,renderDates:B,workDays:P,cssClass:j,child:E};m.push(z)}}return s[parseInt(c.toString(),10)]||(s[parseInt(c.toString(),10)]=[]),m.length>0&&s[parseInt(c.toString(),10)].push(m),m}return[]};return this.resourceTreeLevel=o(n,0),e?[]:this.generateHeaderLevels(s,a,t)},r.prototype.generateCustomHours=function(t,e,i,n){for(var s=qe([],t,null,!0),a=0,o=s;a<o.length;a++){var l=o[a];e&&(l.startHour=this.parent.getStartEndTime(e)),i&&(l.endHour=this.parent.getStartEndTime(i)),n&&(l.groupOrder=n)}return s},r.prototype.generateHeaderLevels=function(t,e,i){for(var n=[],s=t.length-1;s>=0;s--)for(var a=0,o=0,l=t[parseInt(s.toString(),10)];o<l.length;o++)for(var c=l[o],u=0,d=c;u<d.length;u++){var p=d[u];if(t[s+1]&&t[s+1].length>0){var m=t[parseInt((s+1).toString(),10)][parseInt(a.toString(),10)];if(!m)continue;for(var y=0,M=0,w=m;M<w.length;M++){var b=w[M];(!this.parent.activeViewOptions.group.byGroupID||this.parent.activeViewOptions.group.byGroupID&&b.resourceData[b.resource.groupIDField]===p.resourceData[p.resource.idField])&&(y+=b.colSpan)}p.colSpan=y}p.groupIndex=a,a++,n[p.resourceLevelIndex]=n[p.resourceLevelIndex]||[],n[p.resourceLevelIndex].push(p)}if(this.lastResourceLevel=n.slice(-1)[0]||[],!this.parent.activeViewOptions.group.byDate){for(var D=0,E=0,N=this.lastResourceLevel;E<N.length;E++)for(var B=N[E],s=0;s<B.colSpan;s++)e[parseInt(D.toString(),10)].groupIndex=B.groupIndex,D++;return n.push(e),n}var P=[],C=qe([],n,null,!0),k=[];if(this.parent.activeViewOptions.group.hideNonWorkingDays){for(var _=[],H=0,j=function(Me){z.resourceDateTree[parseInt(H.toString(),10)]=[];for(var ve=[],Ie=function(Ot){var Ge=z.lastResourceLevel[parseInt(Ot.toString(),10)].resourceData[z.lastResourceLevel[parseInt(Ot.toString(),10)].resource.workDaysField];if(Ge||(Ge=z.parent.activeViewOptions.workDays),Ge.indexOf(Me.date.getDay())!==-1){var Se=qe({},z.lastResourceLevel[parseInt(Ot.toString(),10)],null,!0);Se.date=Me.date,z.lastResourceLevel[parseInt(Ot.toString(),10)].workDays=Ge,Se.startHour=z.parent.getStartEndTime(Se.resourceData[Se.resource.startHourField])||Me.startHour,Se.endHour=z.parent.getStartEndTime(Se.resourceData[Se.resource.endHourField])||Me.endHour,z.resourceDateTree[parseInt(H.toString(),10)].push(Se);for(var ti=function($t){if(ve[parseInt($t.toString(),10)]||(ve[parseInt($t.toString(),10)]=[]),$t===Se.groupOrder.length-1){_[parseInt(Ot.toString(),10)]||(_[parseInt(Ot.toString(),10)]=[]);var Lt=Se.renderDates.filter(function(Mt){return Mt.getDay()===Me.date.getDay()});return _[parseInt(Ot.toString(),10)]=_[parseInt(Ot.toString(),10)].concat(Lt),ve[parseInt($t.toString(),10)].push(Se),"continue"}var ni=C[parseInt($t.toString(),10)],Yt=ni.filter(function(Mt){return Mt.resourceData[Mt.resource.idField]===Se.groupOrder[parseInt($t.toString(),10)]});if(Yt&&Yt.length>0){var Ri=ve[parseInt($t.toString(),10)].filter(function(Mt){return Mt.resourceData[Mt.resource.idField]===Se.groupOrder[parseInt($t.toString(),10)]});if(Ri&&Ri.length>0)Ri[0].colSpan+=1;else{var pi=qe({},Yt[0],null,!0);pi.colSpan=1,ve[parseInt($t.toString(),10)].push(pi)}}},Tt=0;Tt<Se.groupOrder.length;Tt++)ti(Tt)}},Je=0;Je<z.lastResourceLevel.length;Je++)Ie(Je);if(ve.length>0){for(var xe=0;xe<C.length;xe++)P[parseInt(xe.toString(),10)]||(P[parseInt(xe.toString(),10)]=[]),P[parseInt(xe.toString(),10)]=P[parseInt(xe.toString(),10)].concat(ve[parseInt(xe.toString(),10)]);Me.colSpan=ve[ve.length-1].length,k.push(Me)}H++},z=this,F=0,X=i;F<X.length;F++){var J=X[F];j(J)}return this.resourceDateTree=this.resourceDateTree.filter(function(Me){return Me.length>0}),this.lastResourceLevel.forEach(function(Me,ve){_[parseInt(ve.toString(),10)]&&(Me.renderDates=_[parseInt(ve.toString(),10)].sort(function(Ie,Je){return Ie.getTime()-Je.getTime()}))}),P.unshift(k),P}for(var U=0,W=0,re=C[0];W<re.length;W++){var Z=re[W];U+=Z.colSpan}for(var Ee=0,ae=i;Ee<ae.length;Ee++){var J=ae[Ee];J.colSpan=U,k.push(J);for(var L=qe([],C,null,!0),Y=0,G=L.length;Y<G;Y++){if(Y===L.length-1)for(var Q=0,te=L[parseInt(Y.toString(),10)];Q<te.length;Q++){var le=te[Q];le.date=J.date,le.workDays=J.workDays,le.startHour=this.parent.getStartEndTime(le.resourceData[le.resource.startHourField])||J.startHour,le.endHour=this.parent.getStartEndTime(le.resourceData[le.resource.endHourField])||J.endHour}P[parseInt(Y.toString(),10)]||(P[parseInt(Y.toString(),10)]=[]),P[parseInt(Y.toString(),10)]=P[parseInt(Y.toString(),10)].concat(L[parseInt(Y.toString(),10)])}}return P.unshift(k),P},r.prototype.setResourceValues=function(t,e){var i=this,n=function(l,c,u){i.resourceCollection[parseInt(l.toString(),10)].allowMultiple&&i.parent.activeViewOptions.group.allowGroupEdit?t[""+c]=[u]:t[""+c]=u};if(e===void 0&&(e=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:this.parent.activeCellsData.groupIndex),this.parent.activeViewOptions.group.resources.length>0&&!v(e))for(var s=this.lastResourceLevel[parseInt(e.toString(),10)].groupOrder,a=0;a<this.resourceCollection.length;a++)n(a,this.resourceCollection[parseInt(a.toString(),10)].field,s[parseInt(a.toString(),10)]);else if(this.parent.resourceCollection.length>0)for(var a=0;a<this.resourceCollection.length;a++){var o=this.resourceCollection[parseInt(a.toString(),10)].dataSource[0];o&&n(a,this.resourceCollection[parseInt(a.toString(),10)].field,o[this.resourceCollection[parseInt(a.toString(),10)].idField])}},r.prototype.getResourceColor=function(t,e){var i=!v(e)&&this.colorIndex>e.length-1?e.length-1:this.colorIndex,n=this.resourceCollection[parseInt(i.toString(),10)];if(!(v(e)&&this.parent.activeViewOptions.group.allowGroupEdit&&n.allowMultiple)){var s=v(e)?t[n.field]:e[parseInt(i.toString(),10)],a=this.filterData(n.dataSource,n.idField,s);if(a.length>0)return a[0][n.colorField]}},r.prototype.getCssClass=function(t){var e=this.resourceCollection.slice(-1)[0];if(!(this.parent.activeViewOptions.group.allowGroupEdit&&e.allowMultiple)){var i=this.filterData(e.dataSource,e.idField,t[e.field]);if(i.length>0)return i[0][e.cssClassField]}},r.prototype.getResourceRenderDates=function(){var t=[].concat.apply([],this.lastResourceLevel.map(function(s){return s.renderDates})),e=t.map(function(s){return s.getTime()}),i=function(s){return s.filter(function(a,o){return e.indexOf(a.getTime())===o})},n=i(t);return n.sort(function(s,a){return s.getTime()-a.getTime()}),n},r.prototype.filterData=function(t,e,i){return t.filter(function(n){return n[""+e]===i})},r.prototype.getResourceData=function(t,e,i){if(this.parent.activeViewOptions.group.allowGroupEdit){for(var n={},s=0,a=i;s<a.length;s++)for(var o=a[s],l=this.lastResourceLevel[parseInt(o.toString(),10)].groupOrder,c=0,u=l.length;c<u;c++){var d=this.resourceCollection[parseInt(c.toString(),10)].field;v(n[""+d])&&(n[""+d]=[]),n[""+d].push(l[parseInt(c.toString(),10)])}t=qe(t,n)}else for(var c=0,p=this.resourceCollection.length;c<p;c++)this.lastResourceLevel[parseInt(e.toString(),10)]&&(t[this.resourceCollection[parseInt(c.toString(),10)].field]=this.lastResourceLevel[parseInt(e.toString(),10)].groupOrder[parseInt(c.toString(),10)])},r.prototype.addResource=function(t,e,i){for(var n=t instanceof Array?t:[t],s=function(u){if(u.name===e)return n.forEach(function(d,p){return new ut({json:u.dataSource}).insert(d,null,null,i+p)}),"break"},a=0,o=this.parent.resourceCollection;a<o.length;a++){var l=o[a],c=s(l);if(c==="break")break}this.refreshLayout(!0)},r.prototype.removeResource=function(t,e){for(var i=t instanceof Array?t:[t],n=function(c){if(c.name===e)return i.forEach(function(u){return new ut({json:c.dataSource}).remove(c.idField,u)}),"break"},s=0,a=this.parent.resourceCollection;s<a.length;s++){var o=a[s],l=n(o);if(l==="break")break}this.refreshLayout(!0)},r.prototype.getIndexFromResourceId=function(t,e,i,n,s){if(e=e||this.parent.resourceCollection.slice(-1)[0].name,v(i)&&(i=this.resourceCollection.filter(function(o){return o.name===e})[0],v(i)))return null;var a=i.dataSource.filter(function(o){return n&&o[i.idField]===t?o[i.groupIDField]===n[""+s]?o[i.idField]===t:null:o[i.idField]===t})[0];return this.lastResourceLevel.map(function(o){return o.resourceData}).indexOf(a)},r.prototype.resourceExpand=function(t,e,i){var n=this.parent.resourceCollection.filter(function(l){return l.name===e?l:null})[0],s=0,a=n.dataSource.filter(function(l){return l[n.idField]===t})[0];this.parent.activeViewOptions.group.byGroupID?s=this.lastResourceLevel.map(function(l){return l.resourceData}).indexOf(a):s=this.getIndexFromResourceId(t,e,n);var o=this.parent.element.querySelector("."+id+" "+('[data-group-index="'+s+'"]')+" ."+Jy);o&&(o.classList.contains(O0)&&!i||o.classList.contains(Vd)&&i)&&o.click()},r.prototype.resourceScroll=function(t,e){if(!(this.parent.isAdaptive||["Agenda","MonthAgenda"].indexOf(this.parent.currentView)>-1)){var i=e||this.parent.resourceCollection.slice(-1)[0].name,n=this.parent.resourceCollection.length-1,s=this.parent.resourceCollection.filter(function(y,M){return y.name===i?(n=M,y):null})[0],a=this.parent.element.querySelector("."+lr),o=0;if(this.parent.activeView.isTimelineView()){if(!this.parent.activeViewOptions.group.byGroupID)o=this.getIndexFromResourceId(t,i,s);else{var l=s.dataSource.filter(function(y){return y[s.idField]===t})[0];o=this.lastResourceLevel.map(function(y){return y.resourceData}).indexOf(l)}if(this.parent.virtualScrollModule){var c=this.parent.element.querySelector("."+uT),u=Math.round(c.offsetHeight/this.expandedResources.length);if(this.parent.rowAutoHeight&&(a.scrollTop=0,this.parent.virtualScrollModule.virtualScrolling()),a.scrollTop=o*u-(this.parent.virtualScrollModule.bufferCount-1)*u,this.parent.virtualScrollModule.virtualScrolling(),this.parent.rowAutoHeight){var d=this.parent.element.querySelector("."+ci+'[data-group-index="'+o+'"]');d&&!d.parentElement.classList.contains(gl)&&(a.scrollTop=a.scrollTop<d.offsetTop?d.offsetTop:a.scrollTop+d.offsetTop)}else a.scrollTop=o*u}else{var d=this.parent.element.querySelector("."+ci+'[data-group-index="'+o+'"]');d&&!d.parentElement.classList.contains(gl)&&(a.scrollTop=d.offsetTop)}}else{this.parent.activeViewOptions.group.byGroupID?i===this.parent.resourceCollection.slice(-1)[0].name?o=this.lastResourceLevel.map(function(y){return y.resourceData[s.idField]}).indexOf(t):o=s.dataSource.map(function(y){return y[s.idField]}).indexOf(t):o=this.getIndexFromResourceId(t,i,s);var p=this.parent.currentView==="Month"?this.parent.element.querySelector("."+Au+" tbody tr:nth-child("+(n+1)+")"):this.parent.element.querySelector("."+Jj+":nth-child("+(n+1)+")"),m=[].slice.call(p.children).map(function(y){return y.offsetLeft});a.scrollLeft=m[parseInt(o.toString(),10)]}}},r.prototype.destroy=function(){if(this.parent.off(Qp,this.documentClick),this.treeViewObj){if(this.treeViewObj.portals&&this.treeViewObj.portals.length>0){var t=this.treeViewObj.portals.map(function(i){return i.propName});t.length>0&&this.parent.resetTemplates(t)}this.treeViewObj.destroy(),this.treeViewObj=null}this.treePopup&&(this.treePopup.destroy(),this.treePopup=null,ji(this.parent.element.querySelector("."+EM)),ji(this.parent.element.querySelector("."+zV)));var e=this.parent.element.querySelector("."+cT);e&&ji(e)},r})(),GDe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Eo=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},KDe=(function(r){GDe(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return Eo([ee("")],t.prototype,"id",void 0),Eo([ee("")],t.prototype,"text",void 0),Eo([ee("auto")],t.prototype,"width",void 0),Eo([ee("")],t.prototype,"cssClass",void 0),Eo([ee(!1)],t.prototype,"showAlwaysInPopup",void 0),Eo([ee(!1)],t.prototype,"disabled",void 0),Eo([ee("")],t.prototype,"prefixIcon",void 0),Eo([ee("")],t.prototype,"suffixIcon",void 0),Eo([ee(!0)],t.prototype,"visible",void 0),Eo([ee("None")],t.prototype,"overflow",void 0),Eo([ee("")],t.prototype,"template",void 0),Eo([ee("Button")],t.prototype,"type",void 0),Eo([ee("Both")],t.prototype,"showTextOn",void 0),Eo([ee(null)],t.prototype,"htmlAttributes",void 0),Eo([ee("")],t.prototype,"tooltipText",void 0),Eo([ee("Left")],t.prototype,"align",void 0),Eo([ee(-1)],t.prototype,"tabIndex",void 0),Eo([ee("Custom")],t.prototype,"name",void 0),Eo([Xe()],t.prototype,"click",void 0),t})(fa),$De=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),Kt=function(r,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,i);else for(var o=r.length-1;o>=0;o--)(a=r[o])&&(s=(n<3?a(s):n>3?a(t,e,s):a(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},XDe=(function(r){$De(t,r);function t(e,i){var n=r.call(this,e,i)||this;return n.adaptiveGroupIndex=0,n}return t.prototype.render=function(){var e=[],i=[];if(e.push(nS),this.enableRtl?e.push(u4):i.push(u4),this.isAdaptive?e.push(d1):i.push(d1),this.enableAdaptiveUI?e.push(sV):i.push(sV),this.allowMultiDrag?e.push(h4):i.push(h4),this.cssClass)for(var n=this.cssClass.split(" "),s=0,a=n;s<a.length;s++){var o=a[s];e.push(o)}No(this.element,e,i),this.validateDate(),NN({target:this.element}),this.scrollModule=new yTe(this),this.scrollModule.setWidth(),this.scrollModule.setHeight(),this.renderModule=new SDe(this),this.eventBase=new a3(this),this.workCellAction=new RDe(this),this.allowKeyboardInteraction&&(this.keyboardInteractionModule=new VV(this)),this.inlineModule=new tbe(this),this.initializeDataModule(),this.renderTableContainer(),this.activeViewOptions=this.getActiveViewOptions(),this.initializeResources(),this.wireEvents()},t.prototype.renderTableContainer=function(){this.element.querySelector("."+fh)||this.element.appendChild(this.createElement("div",{className:fh}))},t.prototype.getEventTemplateName=function(e){var i="eventTemplate_"+e;return this.activeEventTemplates.indexOf(i)<0&&this.activeEventTemplates.push(i),i},t.prototype.getElementWidth=function(e){return Qj(e,this.uiStateValues.isTransformed)},t.prototype.getElementHeight=function(e){return dK(e,this.uiStateValues.isTransformed)},t.prototype.getElementHeightFromClass=function(e,i){return gwe(e,i,this.uiStateValues.isTransformed)},t.prototype.renderTemplates=function(e){this.isReact?this.renderReactTemplates(e):e&&e()},t.prototype.resetTemplates=function(e){(this.isAngular||this.isReact)&&this.clearTemplate(e)},t.prototype.sanitize=function(e,i){this.enableHtmlSanitizer?i.innerText=Io.sanitize(e):i.innerHTML=e},t.prototype.initializeResources=function(e){e===void 0&&(e=!1),this.resources.length>0?(this.resourceBase=new QDe(this),this.resourceBase.bindResourcesData(e)):(this.resourceBase=null,this.resourceCollection=[],this.renderElements(e))},t.prototype.destroyEditorWindow=function(){this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null),this.eventWindow=new z8(this)},t.prototype.renderElements=function(e){if(e){this.initializeView(this.currentView),this.eventWindow.refresh();return}this.destroyHeaderModule(),this.showHeaderBar&&(this.headerModule=new S4(this)),this.renderTableContainer(),this.uiStateValues.isTransformed=Math.round(this.element.getBoundingClientRect().width)!==this.element.offsetWidth,(Re.isDevice||Re.isTouch)&&(this.scheduleTouchModule=new xTe(this)),this.initializeView(this.currentView),this.destroyPopups(),this.isPrinting||this.initializePopups()},t.prototype.validateDate=function(e){e===void 0&&(e=this.selectedDate);var i=e instanceof Date?new Date(e.getTime()):new Date(e),n=v(this.minDate)?new Date(1900,0,1):this.minDate instanceof Date?new Date(this.minDate.getTime()):new Date(this.minDate),s=v(this.maxDate)?new Date(2099,11,31):this.maxDate instanceof Date?new Date(this.maxDate.getTime()):new Date(this.maxDate);if(n<=s)i<n&&(i=n),i>s&&(i=s),this.setProperties({selectedDate:new Date(""+i),minDate:new Date(""+n),maxDate:new Date(""+s)},!0),this.eventWindow&&this.eventWindow.updateMinMaxDateToEditor();else throw Error("minDate should be equal or less than maxDate")},t.prototype.getViewIndex=function(e){for(var i=0;i<this.viewCollections.length;i++){var n=this.viewCollections[parseInt(i.toString(),10)].option;if(n===e)return i}return-1},t.prototype.setViewOptions=function(e){if(e===void 0&&(e=!1),!(v(this.views)||this.views.length===0)){this.viewOptions={},this.viewCollections=[];var i,n,s=this.viewIndex,a=0;this.viewIndex=-1;for(var o=0,l=this.views;o<l.length;o++){var c=l[o],u=typeof c!="string";typeof c=="string"?(i=c,this.currentView===i&&(n=i,this.viewIndex=a)):(i=c.option,c.isSelected&&(n=i,this.viewIndex=a));var d=qe({option:i},u?c:{}),p=i.charAt(0).toLowerCase()+i.slice(1);d.cellHeaderTemplateName=d.cellHeaderTemplate?d.option:"",d.dateHeaderTemplateName=d.dateHeaderTemplate?d.option:"",d.dateRangeTemplateName=d.dateRangeTemplate?d.option:"",d.cellTemplateName=d.cellTemplate?d.option:"",d.dayHeaderTemplateName=d.dayHeaderTemplate?d.option:"",d.monthHeaderTemplateName=d.monthHeaderTemplate?d.option:"",d.resourceHeaderTemplateName=d.resourceHeaderTemplate?d.option:"",d.headerIndentTemplateName=d.headerIndentTemplate?d.option:"",d.eventTemplateName=d.eventTemplate?d.option:"",!v(d.firstDayOfWeek)&&d.firstDayOfWeek===0&&delete d.firstDayOfWeek,!v(d.interval)&&d.interval===1&&delete d.interval,this.viewCollections.push(d),v(this.viewOptions[""+p])?this.viewOptions[""+p]=[d]:this.viewOptions[""+p].push(d),a++}if(!e&&n&&this.setProperties({currentView:n},!0),this.viewIndex===-1){var m=this.getViewIndex(this.currentView);this.viewIndex=typeof this.views[0]!="string"&&!v(s)&&s!==-1?s:m===-1?0:m}}},t.prototype.getActiveViewOptions=function(){var e={enable:this.timeScale.enable,interval:this.timeScale.interval,slotCount:this.timeScale.slotCount,majorSlotTemplate:this.timeScale.majorSlotTemplate,minorSlotTemplate:this.timeScale.minorSlotTemplate},i=this.viewCollections[this.viewIndex].option.indexOf("Year")>-1,n={byDate:i?!1:this.group.byDate,byGroupID:this.group.byGroupID,allowGroupEdit:this.group.allowGroupEdit,resources:v(this.group.resources)?[]:this.group.resources,headerTooltipTemplate:this.group.headerTooltipTemplate,enableCompactView:this.group.enableCompactView,hideNonWorkingDays:["Day","Week","WorkWeek","Month"].indexOf(this.currentView)>-1?this.group.hideNonWorkingDays:!1},s=this.viewCollections[this.viewIndex].workDays?[]:this.workDays,a={dateFormat:this.dateFormat,endHour:this.endHour,isSelected:!1,option:null,readonly:this.readonly,startHour:this.startHour,allowVirtualScrolling:!1,allowOverlap:this.allowOverlap,overscanCount:this.overscanCount,cellHeaderTemplate:this.cellHeaderTemplate,dayHeaderTemplate:this.dayHeaderTemplate,monthHeaderTemplate:this.monthHeaderTemplate,cellTemplate:this.cellTemplate,eventTemplate:this.eventSettings.template,dateHeaderTemplate:this.dateHeaderTemplate,dateRangeTemplate:this.dateRangeTemplate,resourceHeaderTemplate:this.resourceHeaderTemplate,headerIndentTemplate:this.headerIndentTemplate,firstMonthOfYear:this.firstMonthOfYear,firstDayOfWeek:this.firstDayOfWeek,workDays:s,monthsCount:this.monthsCount,showWeekend:this.showWeekend,showWeekNumber:this.showWeekNumber,displayName:null,interval:1,timeScale:e,timeFormat:this.internalTimeFormat,group:n,headerRows:this.headerRows,orientation:"Horizontal",numberOfWeeks:0,displayDate:null,enableLazyLoading:!1},o=this.viewCollections[this.viewIndex],l=qe(a,o,void 0,!0);return this.firstDayOfWeek!==0&&o.firstDayOfWeek&&this.firstDayOfWeek!==o.firstDayOfWeek&&(l.firstDayOfWeek=this.firstDayOfWeek),l.displayDate&&(l.displayDate=l.displayDate instanceof Date?new Date(l.displayDate.getTime()):new Date(l.displayDate)),l.enableLazyLoading&&!v(l.group.resources)&&l.group.resources.length>0&&(["Agenda","MonthAgenda","Year","TimelineYear"].indexOf(l.option)===-1||l.option==="TimelineYear"&&l.orientation==="Vertical")&&(l.allowVirtualScrolling=!0),l},t.prototype.initializeDataModule=function(){this.eventFields={id:this.eventSettings.fields.id,isBlock:this.eventSettings.fields.isBlock,subject:this.eventSettings.fields.subject.name,startTime:this.eventSettings.fields.startTime.name,endTime:this.eventSettings.fields.endTime.name,startTimezone:this.eventSettings.fields.startTimezone.name,endTimezone:this.eventSettings.fields.endTimezone.name,location:this.eventSettings.fields.location.name,description:this.eventSettings.fields.description.name,isAllDay:this.eventSettings.fields.isAllDay.name,recurrenceID:this.eventSettings.fields.recurrenceID.name,recurrenceRule:this.eventSettings.fields.recurrenceRule.name,recurrenceException:this.eventSettings.fields.recurrenceException.name,isReadonly:this.eventSettings.fields.isReadonly,followingID:this.eventSettings.fields.followingID},this.setEditorTitles(),this.dataModule=new NK(this,this.eventSettings.dataSource,this.eventSettings.query),this.crudModule=new zDe(this)},t.prototype.setEditorTitles=function(){this.editorTitles={subject:this.eventSettings.fields.subject.title||this.localeObj.getConstant("title"),startTime:this.eventSettings.fields.startTime.title||this.localeObj.getConstant("start"),endTime:this.eventSettings.fields.endTime.title||this.localeObj.getConstant("end"),isAllDay:this.eventSettings.fields.isAllDay.title||this.localeObj.getConstant("allDay"),startTimezone:this.eventSettings.fields.startTimezone.title||this.localeObj.getConstant("startTimezone"),endTimezone:this.eventSettings.fields.endTimezone.title||this.localeObj.getConstant("endTimezone"),location:this.eventSettings.fields.location.title||this.localeObj.getConstant("location"),description:this.eventSettings.fields.description.title||this.localeObj.getConstant("description"),recurrenceRule:this.eventSettings.fields.recurrenceRule.title||this.localeObj.getConstant("repeat")}},t.prototype.initializeView=function(e){this.showSpinner(),this.activeViewOptions=this.getActiveViewOptions(),this.resourceBase&&this.resourceBase.setResourceCollection(),this.initializeTemplates(),this.renderModule.render(e)},t.prototype.initializeTemplates=function(){this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.majorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.majorSlotTemplate),this.minorSlotTemplateFn=this.templateParser(this.activeViewOptions.timeScale.minorSlotTemplate),this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.editorTemplateFn=this.templateParser(this.editorTemplate),this.editorHeaderTemplateFn=this.templateParser(this.editorHeaderTemplate),this.editorFooterTemplateFn=this.templateParser(this.editorFooterTemplate),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer)},t.prototype.initializePopups=function(){this.eventWindow=new z8(this),this.quickPopup=new qV(this)},t.prototype.getDayNames=function(e){var i=[],n,s="";v(this.locale)||this.locale==="en"||this.locale==="en-US"?(s="days.stand-alone.",n=Pe(s+e,yl(this.getCalendarMode()))):(s="main."+this.locale+".dates.calendars."+this.getCalendarMode()+".days.format."+e,n=Pe(s,ws));for(var a=0,o=Object.keys(n);a<o.length;a++){var l=o[a];i.push(Pe(l,n))}return i},t.prototype.setCldrTimeFormat=function(){if(!v(this.timeFormat)){this.internalTimeFormat=this.timeFormat;return}v(this.locale)||this.locale==="en"||this.locale==="en-US"?this.internalTimeFormat=Pe("timeFormats.short",yl(this.getCalendarMode())):this.internalTimeFormat=Pe("main."+this.locale+".dates.calendars."+this.getCalendarMode()+".timeFormats.short",ws)},t.prototype.getCalendarMode=function(){return v(this.calendarMode)?"gregorian":this.calendarMode.toLowerCase()},t.prototype.getTimeString=function(e){var i=this.globalize.formatDate(e,{format:this.activeViewOptions.timeFormat,type:"time",calendar:this.getCalendarMode()});return i.toLocaleUpperCase()},t.prototype.getDateTime=function(e){return e instanceof Date?new Date(e.getTime()):new Date(e)},t.prototype.setCalendarMode=function(){this.calendarMode==="Islamic"?this.calendarUtil=new CK:this.calendarUtil=new IK},t.prototype.changeView=function(e,i,n,s){var a=this;if(v(s)&&(s=this.getViewIndex(e)),!(!n&&s===this.viewIndex&&this.currentView===e||s<0)){var o=this.activeViewOptions?this.activeViewOptions.option:this.currentView,l={requestType:"viewNavigate",cancel:!1,event:i};this.trigger(dc,l,function(c){if(c.cancel)a.currentView=o;else{var u={action:"view",cancel:!1,currentDate:a.selectedDate,previousView:o,currentView:e,viewIndex:s};a.trigger(FO,u,function(d){if(d.cancel)a.currentView=o;else{var p=["Day","Week","WorkWeek"].indexOf(e)>-1&&["Day","Week","WorkWeek"].indexOf(o)<0;a.uiStateValues.isInitial=p||e.indexOf("Timeline")>-1||e.indexOf("Year")>-1,a.uiStateValues.top=e.indexOf("Timeline")>-1&&o.indexOf("Timeline")<0?0:a.uiStateValues.top,a.viewIndex=d.viewIndex,a.setProperties({currentView:e},!0),a.headerModule&&(a.headerModule.updateActiveView(),a.headerModule.setCalendarDate(a.selectedDate),a.headerModule.setCalendarView()),a.initializeView(a.currentView),a.animateLayout(),l={requestType:"viewNavigate",cancel:!1,event:i},a.trigger(qp,l)}})}})}},t.prototype.changeDate=function(e,i){var n=this,s={requestType:"dateNavigate",cancel:!1,event:i};this.trigger(dc,s,function(a){if(!a.cancel){var o={action:"date",cancel:!1,previousDate:n.selectedDate,currentDate:e};n.trigger(FO,o,function(l){l.cancel||(n.uiStateValues.isInitial=n.activeView.isTimelineView()&&n.currentView!=="TimelineYear",n.validateDate(l.currentDate),n.headerModule&&n.headerModule.setCalendarDate(l.currentDate),n.currentView==="MonthAgenda"&&n.monthAgendaModule&&(n.monthAgendaModule.monthAgendaDate=new Date(""+n.selectedDate)),n.initializeView(n.currentView),n.animateLayout(),s={requestType:"dateNavigate",cancel:!1,event:i},n.trigger(qp,s))})}})},t.prototype.isMinMaxDate=function(e){e===void 0&&(e=this.selectedDate);var i=v(this.maxDate)?new Date(2099,11,31):this.maxDate,n=v(this.minDate)?new Date(1900,0,1):this.minDate;return e.getTime()>=n.getTime()&&e.getTime()<=i.getTime()},t.prototype.isSelectedDate=function(e){return e.setHours(0,0,0,0)===new Date(""+this.selectedDate).setHours(0,0,0,0)},t.prototype.getCurrentTime=function(e){return e===void 0&&(e=new Date),this.timezone?this.tzModule.convert(e,this.tzModule.getLocalTimezoneName(),this.timezone):e},t.prototype.getNavigateView=function(){return this.activeView.isTimelineView()?this.currentView==="TimelineMonth"||this.currentView==="TimelineYear"?"TimelineDay":"Agenda":"Day"},t.prototype.animateLayout=function(){this.activeView.element&&new fo({duration:600,name:"FadeIn",timingFunction:"easeIn"}).animate(this.activeView.element)},t.prototype.requiredModules=function(){var e=[];this.setViewOptions(!0);for(var i=0,n=Object.keys(this.viewOptions);i<n.length;i++){var s=n[i];s=s==="timelineDay"||s==="timelineWeek"||s==="timelineWorkWeek"?"timelineViews":s,e.push({member:s,args:[this]})}return this.allowDragAndDrop&&e.push({member:"dragAndDrop",args:[this]}),this.allowResizing&&e.push({member:"resize",args:[this]}),e.push({member:"excelExport",args:[this]}),e.push({member:"iCalendarExport",args:[this]}),e.push({member:"iCalendarImport",args:[this]}),e.push({member:"print",args:[this]}),e},t.prototype.preRender=function(){this.isAdaptive=Re.isDevice||Ewe(),this.globalize=new Ns(this.locale),this.tzModule=new OK,(this&&v(this.uiStateValues)||!this.enablePersistence)&&(this.uiStateValues={expand:!1,isInitial:!0,left:0,top:0,isGroupAdaptive:!1,isIgnoreOccurrence:!1,groupIndex:this.adaptiveGroupIndex,action:!1,isBlock:!1,isCustomMonth:!0,isPreventTimezone:!1,isTransformed:!1}),this.currentTimezoneDate=this.getCurrentTime(),this.activeCellsData={startTime:new Date(this.currentTimezoneDate),endTime:new Date(this.currentTimezoneDate),isAllDay:!1},this.activeEventData={event:void 0,element:void 0},this.getDefaultLocale(),this.localeObj=new Ql(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),this.eventsData=[],this.eventsProcessed=[],this.blockData=[],this.blockProcessed=[],this.resourceCollection=[],this.currentAction=null,this.selectedElements=[],this.activeEventTemplates=[],this.setViewOptions()},t.prototype.getDefaultLocale=function(){this.defaultLocale={day:"Day",week:"Week",workWeek:"Work Week",month:"Month",year:"Year",agenda:"Agenda",weekAgenda:"Week Agenda",workWeekAgenda:"Work Week Agenda",monthAgenda:"Month Agenda",today:"Today",noEvents:"No events",emptyContainer:"There are no events scheduled on this day.",allDay:"All day",start:"Start",end:"End",more:"more",close:"Close",cancel:"Cancel",noTitle:"(No Title)",delete:"Delete",deleteEvent:"Delete Event",deleteMultipleEvent:"Delete Multiple Events",selectedItems:"Items selected",deleteSeries:"Entire Series",edit:"Edit",editSeries:"Entire Series",editEvent:"Edit Event",createEvent:"Create",subject:"Subject",addTitle:"Add title",moreDetails:"More Details",moreEvents:"More Events",save:"Save",editContent:"How would you like to change the appointment in the series?",deleteContent:"Are you sure you want to delete this event?",deleteMultipleContent:"Are you sure you want to delete the selected events?",newEvent:"New Event",title:"Title",location:"Location",description:"Description",timezone:"Timezone",startTimezone:"Start Timezone",endTimezone:"End Timezone",repeat:"Repeat",saveButton:"Save",cancelButton:"Cancel",deleteButton:"Delete",recurrence:"Recurrence",wrongPattern:"The recurrence pattern is not valid.",seriesChangeAlert:"Do you want to cancel the changes made to specific instances of this series and match it to the whole series again?",createError:"The duration of the event must be shorter than how frequently it occurs. Shorten the duration, or change the recurrence pattern in the recurrence event editor.",sameDayAlert:"Two occurrences of the same event cannot occur on the same day.",occurenceAlert:"Cannot reschedule an occurrence of the recurring appointment if it skips over a later occurrence of the same appointment.",editRecurrence:"Edit Recurrence",recurringEvent:"Recurring Event",repeats:"Repeats",alert:"Alert",startEndError:"The selected end date occurs before the start date.",invalidDateError:"The entered date value is invalid.",blockAlert:"Events cannot be scheduled within the blocked time range.",overlapAlert:"Events cannot be scheduled during the chosen time as it overlaps with another event.",ok:"Ok",yes:"Yes",no:"No",of:"of",occurrence:"Occurrence",series:"Series",previous:"Previous",next:"Next",timelineDay:"Timeline Day",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month",timelineYear:"Timeline Year",editFollowingEvent:"Following Events",deleteTitle:"Delete Event",editTitle:"Edit Event",beginFrom:"Begin From",endAt:"Ends At",expandAllDaySection:"Expand-all-day-section",collapseAllDaySection:"Collapse-all-day-section",searchTimezone:"Search Timezone",noRecords:"No records found"}},t.prototype.wireEvents=function(){se.add(window,"resize",this.onScheduleResize,this),se.add(window,"orientationchange",this.onScheduleResize,this),se.add(document,Re.touchStartEvent,this.onDocumentClick,this),this.allowClipboard&&se.add(document,"paste",this.onDocumentPaste,this)},t.prototype.removeSelectedClass=function(){for(var e=this.getSelectedCells(),i=0,n=e;i<n.length;i++){var s=n[i];s.removeAttribute("tabindex")}Oe(e,p1),this.keyboardInteractionModule&&this.keyboardInteractionModule.selectedCells.length>0&&(this.keyboardInteractionModule.selectedCells=[])},t.prototype.addSelectedClass=function(e,i,n){pe(e,p1),i&&(i.setAttribute("tabindex","0"),i.focus({preventScroll:n||!1}))},t.prototype.selectCell=function(e){this.removeSelectedClass(),this.addSelectedClass([e],e)},t.prototype.getAllDayRow=function(){return this.element.querySelector("."+ef)},t.prototype.getContentTable=function(){return this.activeView.element.querySelector("."+_n+" tbody")},t.prototype.getTableRows=function(){return[].slice.call(this.element.querySelectorAll("."+_n+" tbody tr:not(."+gl+")"))},t.prototype.getWorkCellElements=function(){return[].slice.call(this.element.querySelectorAll("."+ci))},t.prototype.getIndexOfDate=function(e,i){return e.map(Number).indexOf(+i)},t.prototype.isAllDayCell=function(e){return!!(["Month","TimelineMonth","TimelineYear","MonthAgenda"].indexOf(this.currentView)>-1||e.classList.contains(tn)||e.classList.contains(Co)||!this.activeViewOptions.timeScale.enable||this.activeView.isTimelineView()&&this.activeViewOptions.headerRows.length>0&&this.activeViewOptions.headerRows.slice(-1)[0].option!=="Hour")},t.prototype.getDateFromElement=function(e){var i;if(v(e)||(i=e.getAttribute("data-date")),!v(i)){var n=parseInt(i,10),s=new Date(n);return s}},t.prototype.getTargetElement=function(e,i,n){var s=document.elementFromPoint(i,n),a;return s&&(a=s.closest(e)),a?[a]:null},t.prototype.getCellHeaderTemplate=function(){return this.cellHeaderTemplateFn},t.prototype.getDayHeaderTemplate=function(){return this.dayHeaderTemplateFn},t.prototype.getMonthHeaderTemplate=function(){return this.monthHeaderTemplateFn},t.prototype.getCellTemplate=function(){return this.cellTemplateFn},t.prototype.getDateHeaderTemplate=function(){return this.dateHeaderTemplateFn},t.prototype.getDateRangeTemplate=function(){return this.dateRangeTemplateFn},t.prototype.getMajorSlotTemplate=function(){return this.majorSlotTemplateFn},t.prototype.getMinorSlotTemplate=function(){return this.minorSlotTemplateFn},t.prototype.getAppointmentTemplate=function(){return this.appointmentTemplateFn},t.prototype.getEventTooltipTemplate=function(){return this.eventTooltipTemplateFn},t.prototype.getHeaderTooltipTemplate=function(){return this.headerTooltipTemplateFn},t.prototype.getEditorTemplate=function(){return this.editorTemplateFn},t.prototype.getEditorHeaderTemplate=function(){return this.editorHeaderTemplateFn},t.prototype.getEditorFooterTemplate=function(){return this.editorFooterTemplateFn},t.prototype.getQuickInfoTemplatesHeader=function(){return this.quickInfoTemplatesHeaderFn},t.prototype.getQuickInfoTemplatesContent=function(){return this.quickInfoTemplatesContentFn},t.prototype.getQuickInfoTemplatesFooter=function(){return this.quickInfoTemplatesFooterFn},t.prototype.getResourceHeaderTemplate=function(){return this.resourceHeaderTemplateFn},t.prototype.getHeaderIndentTemplate=function(){return this.headerIndentTemplateFn},t.prototype.getCssProperties=function(){var e={border:this.enableRtl?"borderLeftWidth":"borderRightWidth",padding:this.enableRtl?"paddingLeft":"paddingRight",rtlBorder:this.enableRtl?"borderRightWidth":"borderLeftWidth",rtlPadding:this.enableRtl?"paddingRight":"paddingLeft"};return e},t.prototype.removeNewEventElement=function(){var e=this.element.querySelector("."+fS);v(e)||ji(e)},t.prototype.getStartEndTime=function(e){if(!v(e)&&e!==""){var i=Ze(new Date(this.currentTimezoneDate)||this.getCurrentTime()),n=e.split(":");return n.length===2&&i.setHours(parseInt(n[0],10),parseInt(n[1],10),0),i}return null},t.prototype.onDocumentClick=function(e){this.notify(Qp,{event:e})},t.prototype.onDocumentPaste=function(e){this.notify(VO,{event:e})},t.prototype.onScheduleResize=function(){if(!(v(this.activeView)||(this.isAdaptive||Dwe())&&document.activeElement&&(document.activeElement.classList.contains(Bs)||document.activeElement.classList.contains(Gc))||this.uiStateValues.isTapHold))if(this.virtualScrollModule&&this.activeView.isTimelineView()&&this.virtualScrollModule.refreshLayout(),this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime(),this.quickPopup&&this.quickPopup.onClosePopup(),Twe(),this.currentView==="Month"||this.currentView!=="Agenda"&&this.currentView!=="MonthAgenda"&&!this.activeViewOptions.timeScale.enable||this.activeView.isTimelineView()){this.activeView.resetColWidth(),this.notify(dd,{cssProperties:this.getCssProperties(),isPreventScrollUpdate:!0});var e=!1;if(this.activeViewOptions.enableLazyLoading&&this.virtualScrollModule&&this.virtualScrollModule.isRemoteRefresh&&(e=this.virtualScrollModule.isRemoteRefresh,this.virtualScrollModule.isRemoteRefresh=!1),this.refreshEvents(e),this.virtualScrollModule&&!this.virtualScrollModule.enableTransition){var i=this.element.querySelector("."+id),n=this.element.querySelector("."+lr);this.virtualScrollModule.enableTransition=!0,pe([n,i],"e-transition")}}else this.notify(Mc,{})},t.prototype.templateParser=function(e){if(e)try{return typeof e=="function"?jn(e):document.querySelectorAll(e).length?jn(document.querySelector(e).innerHTML.trim()):jn(e)}catch{return jn(e)}},t.prototype.getSelectedCells=function(){return[].slice.call(this.element.querySelectorAll("."+p1))},t.prototype.getAnnouncementString=function(e,i){var n;if(this.quickPopup&&this.activeViewOptions.group.resources.length>0){var s='"s event - ';n=this.quickPopup.getResourceText({event:e},"event")+s}var a=i||e[this.eventFields.subject]||this.eventSettings.fields.subject.default,o=e[this.eventFields.location]||this.eventSettings.fields.location.default,l="full",c=this.globalize.formatDate(e[this.eventFields.startTime],{type:"dateTime",skeleton:l,calendar:this.getCalendarMode()}),u=this.globalize.formatDate(e[this.eventFields.endTime],{type:"dateTime",skeleton:l,calendar:this.getCalendarMode()}),d=a+" "+this.localeObj.getConstant("beginFrom")+" "+c+" "+this.localeObj.getConstant("endAt")+" "+u;return n&&(d=n+" "+d),o&&o!==""&&(d=d+" "+this.localeObj.getConstant("location")+" "+o),e[this.eventFields.recurrenceRule]&&e[this.eventFields.recurrenceRule]!==""&&e[this.eventFields.id]===e[this.eventFields.recurrenceID]&&(d=d+" "+this.localeObj.getConstant("recurringEvent")),d},t.prototype.boundaryValidation=function(e,i){var n=30,s={left:!1,right:!1,top:!1,bottom:!1},a=this.element.querySelector("."+lr).getBoundingClientRect();return e<a.top+n+window.pageYOffset&&e>a.top+window.pageYOffset&&(s.top=!0),e>a.bottom-n+window.pageYOffset&&e<a.bottom+window.pageYOffset&&(s.bottom=!0),i<a.left+n+window.pageXOffset&&i>a.left+window.pageXOffset&&(s.left=!0),i>a.right-n+window.pageXOffset&&i<a.right+window.pageXOffset&&(s.right=!0),s},t.prototype.getWeekNumberContent=function(e){var i;if(this.weekRule==="FirstDay"){var n=WO(e.slice(-1)[0],this.firstDayOfWeek);i=this.globalize.formatNumber(c4(n))}else if(this.weekRule==="FirstFourDayWeek"){var s=dh(e.slice(-1)[0],this.firstDayOfWeek),a=WO(e.slice(-1)[0],this.firstDayOfWeek),o=ywe(s,a);i=this.globalize.formatNumber(c4(o))}else if(this.weekRule==="FirstFullWeek"){var s=dh(e.slice(-1)[0],this.firstDayOfWeek);i=this.globalize.formatNumber(c4(s))}return i},t.prototype.renderHeaderIndentTemplate=function(e,i){if(this.activeViewOptions.headerIndentTemplate){var n=this.element.id+"_",s=this.activeViewOptions.headerIndentTemplateName,a=n+s+"headerIndentTemplate",o=[].slice.call(this.getHeaderIndentTemplate()(e,this,"headerIndentTemplate",a,!1,void 0,void 0,this.root));ri(o,i)}},t.prototype.isSpecificResourceEvents=function(){return this.activeViewOptions.group.resources.length>0&&!this.activeViewOptions.group.allowGroupEdit&&!this.rowAutoHeight&&!this.virtualScrollModule&&this.activeViewOptions.group.byGroupID},t.prototype.unWireEvents=function(){se.remove(window,"resize",this.onScheduleResize),se.remove(window,"orientationchange",this.onScheduleResize),se.remove(document,Re.touchStartEvent,this.onDocumentClick),se.remove(document,"paste",this.onDocumentPaste)},t.prototype.getModuleName=function(){return"schedule"},t.prototype.getPersistData=function(){return this.addOnPersist(["currentView","selectedDate","scrollTop","scrollLeft","adaptiveGroupIndex"])},t.prototype.onPropertyChanged=function(e,i){if(!(this.isReact&&v(this.activeView))){for(var n={isRefresh:!1,isResource:!1,isDate:!1,isView:!1,isLayout:!1,isDataManager:!1},s=0,a=Object.keys(e);s<a.length;s++){var o=a[s];switch(o){case"views":this.setViewOptions(),this.headerModule&&this.headerModule.updateItems(),n.isView=!0;break;case"currentView":n.isView=!0;break;case"minDate":case"maxDate":case"selectedDate":n.isDate=!0;break;case"dateFormat":this.activeViewOptions=this.getActiveViewOptions(),this.headerModule&&this.headerModule.updateDateRange();break;case"showHeaderBar":case"toolbarItems":this.destroyHeaderModule(),e.showHeaderBar&&(this.headerModule=new S4(this),this.headerModule.updateDateRange()),this.notify(dd,{cssProperties:this.getCssProperties()}),this.activeView.isTimelineView()&&this.refreshEvents(!1);break;case"workDays":JSON.stringify(i.workDays)!==JSON.stringify(e.workDays)&&(n.isLayout=!0);break;case"showWeekend":case"startHour":case"endHour":case"workHours":case"readonly":case"headerRows":case"showWeekNumber":case"rowAutoHeight":n.isLayout=!0;break;case"locale":case"calendarMode":this.globalize=new Ns(this.locale),this.localeObj=new Ql(this.getModuleName(),this.defaultLocale,this.locale),this.setCldrTimeFormat(),this.setCalendarMode(),n.isRefresh=!0;break;case"firstDayOfWeek":this.activeViewOptions.firstDayOfWeek=e.firstDayOfWeek,this.eventWindow&&this.eventWindow.refreshRecurrenceEditor(),n.isLayout=!0;break;case"showTimeIndicator":this.activeViewOptions.timeScale.enable&&this.activeView&&this.activeView.highlightCurrentTime();break;case"cellHeaderTemplate":this.activeViewOptions.cellHeaderTemplate=e.cellHeaderTemplate,this.cellHeaderTemplateFn=this.templateParser(this.activeViewOptions.cellHeaderTemplate),n.isLayout=!0;break;case"cellTemplate":this.activeViewOptions.cellTemplate=e.cellTemplate,this.cellTemplateFn=this.templateParser(this.activeViewOptions.cellTemplate),n.isLayout=!0;break;case"dateHeaderTemplate":this.activeViewOptions.dateHeaderTemplate=e.dateHeaderTemplate,this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),n.isLayout=!0;break;case"dateRangeTemplate":this.activeViewOptions.dateRangeTemplate=e.dateRangeTemplate,this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.headerModule&&this.headerModule.updateDateRange();break;case"dayHeaderTemplate":this.activeViewOptions.dayHeaderTemplate=e.dayHeaderTemplate,this.dayHeaderTemplateFn=this.templateParser(this.activeViewOptions.dayHeaderTemplate),n.isLayout=!0;break;case"monthHeaderTemplate":this.activeViewOptions.monthHeaderTemplate=e.monthHeaderTemplate,this.monthHeaderTemplateFn=this.templateParser(this.activeViewOptions.monthHeaderTemplate),n.isLayout=!0;break;case"resourceHeaderTemplate":this.activeViewOptions.resourceHeaderTemplate=e.resourceHeaderTemplate,this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),n.isLayout=!0;break;case"timezone":this.eventBase.timezonePropertyChange(i.timezone),this.headerModule&&this.headerModule.setCalendarTimezone();break;case"enableRtl":this.setRtlClass(),n.isRefresh=!0;break;default:this.extendedPropertyChange(o,e,i,n);break}}this.propertyChangeAction(n)}},t.prototype.propertyChangeAction=function(e){e.isRefresh?this.refresh():e.isResource?this.initializeResources(!0):e.isView?this.changeView(this.currentView,null,!0):e.isDate?(v(this.selectedDate)&&this.setProperties({selectedDate:this.getCurrentTime()},!0),this.changeDate(this.selectedDate)):e.isLayout?(this.activeCellsData=null,this.initializeView(this.currentView)):e.isDataManager&&this.crudModule&&(this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",Oe([this.element],qd)),this.crudModule.refreshDataManager())},t.prototype.allDayRowScrollUpdate=function(){var e=this.element.querySelector("."+Au),i=this.element.querySelector("."+ef);if(this.height==="auto"||!this.enableAllDayScroll){if(pe([e],rA),e.classList.contains(gT)&&Oe([e],gT),this.uiStateValues.expand){var n=[].slice.call(this.element.querySelectorAll("."+tn));n[0].style.height=i.style.height?i.style.height:n[1].style.height}}else e.classList.contains(rA)&&Oe([e],rA),this.eventBase.allDayExpandScroll(e);this.uiStateValues.expand||(i.style.height="")},t.prototype.extendedPropertyChange=function(e,i,n,s){switch(e){case"width":case"height":case"enableAllDayScroll":["Day","Week","WorkWeek"].indexOf(this.currentView)>-1&&this.allDayRowScrollUpdate(),this.notify(UO,{module:"scroll",properties:{width:i.width,height:i.height}});break;case"cssClass":n.cssClass&&Oe([this.element],n.cssClass.split(" ")),i.cssClass&&pe([this.element],i.cssClass.split(" "));break;case"hideEmptyAgendaDays":case"agendaDaysCount":this.activeViewOptions=this.getActiveViewOptions(),s.isView=!0;break;case"eventSettings":this.onEventSettingsPropertyChanged(i.eventSettings,n.eventSettings,s);break;case"allowKeyboardInteraction":case"allowClipboard":this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),(i.allowKeyboardInteraction||i.allowClipboard)&&(this.keyboardInteractionModule=new VV(this)),e==="allowClipboard"&&(i.allowClipboard?se.add(document,"paste",this.onDocumentPaste,this):se.remove(document,"paste",this.onDocumentPaste));break;case"timezoneDataSource":this.eventWindow&&this.eventWindow.refresh();break;case"editorTemplate":v(this.editorTemplate)||(this.editorTemplateFn=this.templateParser(this.editorTemplate)),this.eventWindow&&this.eventWindow.setDialogContent();break;case"editorHeaderTemplate":v(this.editorHeaderTemplate)||(this.editorHeaderTemplateFn=this.templateParser(this.editorHeaderTemplate)),this.eventWindow&&this.eventWindow.setDialogHeader();break;case"editorFooterTemplate":v(this.editorFooterTemplate)||(this.editorFooterTemplateFn=this.templateParser(this.editorFooterTemplate)),this.eventWindow&&this.eventWindow.setDialogFooter();break;case"quickInfoTemplates":this.quickInfoTemplates.header&&(this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header)),this.quickInfoTemplates.content&&(this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content)),this.quickInfoTemplates.footer&&(this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer));break;case"group":this.onGroupSettingsPropertyChanged(i.group,n.group,s);break;case"resources":s.isResource=!0;break;case"timeScale":this.activeViewOptions.timeScale.interval=i.timeScale.interval||this.activeViewOptions.timeScale.interval,this.activeViewOptions.timeScale.slotCount=i.timeScale.slotCount||this.activeViewOptions.timeScale.slotCount,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),s.isLayout=!0;break;case"allowDragAndDrop":case"allowResizing":case"eventDragArea":case"allowOverlap":this.refreshEvents(!1);break;case"weekRule":s.isLayout=!0;break;case"firstMonthOfYear":this.activeViewOptions.firstMonthOfYear=i.firstMonthOfYear,this.viewIndex=this.activeView.viewIndex,s.isLayout=!0;break;case"monthsCount":this.activeViewOptions.monthsCount=i.monthsCount,this.viewIndex=this.activeView.viewIndex,s.isLayout=!0;break;case"timeFormat":this.internalTimeFormat=i.timeFormat||this.activeViewOptions.timeFormat,this.eventWindow&&this.eventWindow.refreshDateTimePicker(),s.isLayout=!0;break;case"enableAdaptiveUI":this.showHeaderBar&&this.headerModule&&(this.destroyHeaderModule(),this.headerModule=new S4(this),this.headerModule.updateDateRange()),s.isLayout=!0;break;case"headerIndentTemplate":this.activeViewOptions.headerIndentTemplate=i.headerIndentTemplate,this.headerIndentTemplateFn=this.templateParser(this.activeViewOptions.headerIndentTemplate),s.isLayout=!0;break}},t.prototype.setRtlClass=function(){this.enableRtl?pe([this.element],"e-rtl"):Oe([this.element],"e-rtl")},t.prototype.onGroupSettingsPropertyChanged=function(e,i,n){for(var s=0,a=Object.keys(e);s<a.length;s++){var o=a[s];o==="headerTooltipTemplate"?this.headerTooltipTemplateFn=this.templateParser(e.headerTooltipTemplate):(n.isLayout=!0,this.eventWindow&&this.eventWindow.refresh())}},t.prototype.onEventSettingsPropertyChanged=function(e,i,n){for(var s=0,a=Object.keys(e);s<a.length;s++){var o=a[s];switch(o){case"dataSource":case"query":case"fields":case"includeFiltersInQuery":this.initializeDataModule(),n.isDataManager=!0;break;case"template":this.activeViewOptions.eventTemplate=e.template,this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),n.isDataManager=!0;break;case"enableTooltip":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),e.enableTooltip&&(this.eventTooltip=new sk(this));break;case"tooltipTemplate":this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate);break;case"resourceColorField":this.resourceBase&&this.resourceBase.setResourceCollection(),n.isDataManager=!0;break;case"editFollowingEvents":this.quickPopup&&this.quickPopup.refreshQuickDialog();break;case"allowAdding":case"allowEditing":case"allowDeleting":this.showHeaderBar&&this.headerModule&&this.headerModule.updateAddIcon(),this.eventWindow&&this.eventWindow.refresh();break;case"spannedEventPlacement":case"minimumEventDuration":case"enableMaxHeight":case"enableIndicator":this.refreshEvents(!1);break;case"ignoreWhitespace":n.isLayout=!0;break}}},t.prototype.destroyHeaderModule=function(){this.headerModule&&(this.headerModule.destroy(),this.headerModule=null)},t.prototype.destroyPopups=function(){this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.eventWindow&&(this.eventWindow.destroy(),this.eventWindow=null)},t.prototype.showSpinner=function(){IN(this.element)},t.prototype.hideSpinner=function(){CN(this.element)},t.prototype.setWorkHours=function(e,i,n,s){var a=[];a=this.getWorkHourCells(e,i,n,s),pe(a,Xy)},t.prototype.resetWorkHours=function(e,i,n,s){if(e===void 0&&(e=this.activeView.renderDates),e&&i&&n){var a=this.getWorkHourCells(e,i,n,s);Oe(a,Xy)}else{var o=[].slice.call(this.element.querySelectorAll("."+Xy));Oe(o,Xy)}},t.prototype.getWorkHourCells=function(e,i,n,s){if(["Agenda","MonthAgenda","Month","TimelineMonth"].indexOf(this.currentView)>-1)return[];var a=this.getStartEndTime(i),o=this.getStartEndTime(n),l=this.getContentTable();if(v(a)||v(o)||!l)return[];a.setMilliseconds(0),o.setMilliseconds(0);var c=this.activeView.getStartHour();a<c&&(a=c);var u=this.activeView.getEndHour();o>u&&(o=u);for(var d=this.activeViewOptions.timeScale.interval*ls,p=d/this.activeViewOptions.timeScale.slotCount,m=(c.getTimezoneOffset()-a.getTimezoneOffset())*ls,y=Math.abs((c.getTimezoneOffset()-o.getTimezoneOffset())*ls),M=Math.round((a.getTime()-c.getTime()+m)/p),w=Math.ceil((o.getTime()-c.getTime()-y)/p),b=M,D=w,E=[],N=0,B=e;N<B.length;N++){var P=B[N];P=this.getDateTime(P),Ze(P);var C=this.activeView.renderDates;!v(s)&&this.resourceBase&&!this.activeView.isTimelineView()&&(C=this.resourceBase.lastResourceLevel[parseInt(s.toString(),10)].renderDates);var k=this.getIndexOfDate(C,P);if(k>=0){if(this.activeView.isTimelineView()){var _=Math.round((u.getTime()-c.getTime())/p);M=b+k*_,w=D+k*_}for(var H=M;H<w;H++)if(this.activeView.isTimelineView()){var j=v(s)?0:s;E.push(l.rows[parseInt(j.toString(),10)].cells[parseInt(H.toString(),10)])}else if(v(s))E.push(l.rows[parseInt(H.toString(),10)].cells[parseInt(k.toString(),10)]);else{var z="."+ci+'[data-group-index="'+s+'"]',F=[].slice.call(l.rows[parseInt(H.toString(),10)].querySelectorAll(z));E.push(F[parseInt(k.toString(),10)])}}}return E},t.prototype.getCellDetails=function(e){var i=e instanceof Array?e:[e],n=i[0],s=i.slice(-1)[0],a=this.getDateFromElement(n),o=this.getDateFromElement(s);if(!(v(a)||v(o))){var l=this.activeView.isTimelineView()&&!v(s.getAttribute("colSpan"))&&this.headerRows.length>0,c=l?parseInt(s.getAttribute("colSpan"),10):1;!this.activeViewOptions.timeScale.enable||l||s.classList.contains(tn)||s.classList.contains(Co)?o=Zt(new Date(o.getTime()),c):o=this.activeView.getEndDateFromStartDate(o);var u={startTime:a,endTime:o,isAllDay:this.isAllDayCell(n),element:e},d=n.getAttribute("data-group-index");return v(d)||(u.groupIndex=parseInt(d,10)),u}},t.prototype.getSelectedElements=function(){return this.keyboardInteractionModule&&this.keyboardInteractionModule.selectedCells.length>0?this.keyboardInteractionModule.selectedCells:this.getSelectedCells()},t.prototype.getResourceCollections=function(){return this.resourceCollection},t.prototype.setResourceCollections=function(e,i){i===void 0&&(i=!0),!i&&this.uiStateValues&&(this.uiStateValues.isPreventEventRefresh=!0),this.setProperties({resources:e},!1)},t.prototype.changeCurrentView=function(e,i){var n=this.getViewIndex(e),s=e.charAt(0).toLowerCase()+e.slice(1),a=this.viewOptions[""+s];a&&(n=this.viewCollections.indexOf(a[i||0])),!(n===-1||n===this.viewIndex)&&this.changeView(e,null,null,n)},t.prototype.getCurrentViewIndex=function(){return this.viewIndex},t.prototype.getResourcesByIndex=function(e){if(this.resourceBase&&this.resourceBase.lastResourceLevel){if(e<0||e>=this.resourceBase.lastResourceLevel.length)return;var i=this.resourceBase.lastResourceLevel[parseInt(e.toString(),10)],n={};return this.resourceBase.setResourceValues(n,e),{resource:i.resource,resourceData:i.resourceData,groupData:n}}},t.prototype.expandResource=function(e,i){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(e,i,!1)},t.prototype.collapseResource=function(e,i){this.activeView.isTimelineView()&&this.resourceBase&&this.resourceCollection.length>1&&this.resourceBase.resourceExpand(e,i,!0)},t.prototype.scrollTo=function(e,i){this.currentView.indexOf("Agenda")<0&&v(this.element.querySelector(".e-work-cells"))||(this.activeView.scrollToDate&&v(e)&&i?this.activeView.scrollToDate(i):this.activeView.scrollToHour&&this.activeView.scrollToHour(e,i))},t.prototype.scrollToResource=function(e,i){this.resourceBase&&this.resourceBase.lastResourceLevel&&this.resourceBase.resourceScroll(e,i)},t.prototype.exportToICalendar=function(e,i){if(this.iCalendarExportModule)this.iCalendarExportModule.initializeCalendarExport(e,i);else throw console.warn('[WARNING] :: Module "ICalendarExport" is not available in Schedule component! You either misspelled the module name or forgot to load it.'),Error("Inject ICalendarExport module")},t.prototype.importICalendar=function(e){if(this.iCalendarImportModule)this.iCalendarImportModule.initializeCalendarImport(e);else throw console.warn('[WARNING] :: Module "ICalendarImport" is not available in Schedule component! You either misspelled the module name or forgot to load it.'),Error("Inject ICalendarImport module")},t.prototype.addEvent=function(e){this.crudModule.addEvent(e)},t.prototype.generateEventOccurrences=function(e,i){return this.eventBase?this.eventBase.generateOccurrence(e,i):[]},t.prototype.exportToExcel=function(e){if(this.excelExportModule)this.excelExportModule.initializeExcelExport(e);else throw console.warn('[WARNING] :: Module "ExcelExport" is not available in Schedule component! You either misspelled the module name or forgot to load it.'),Error("Inject ExcelExport module")},t.prototype.print=function(e){if(this.printModule)this.printModule.print(e);else throw console.warn('[WARNING] :: Module "Print" is not available in Schedule component! You either misspelled the module name or forgot to load it.'),Error("Inject Print module")},t.prototype.saveEvent=function(e,i){this.crudModule.saveEvent(e,i)},t.prototype.deleteEvent=function(e,i){this.crudModule.deleteEvent(e,i)},t.prototype.getEvents=function(e,i,n){var s=[];return n?s=this.eventBase.getProcessedEvents():s=this.eventsData,e&&(e=this.getDateTime(e)),i&&(i=this.getDateTime(i)),s=this.eventBase.filterEventsByRange(s,e,i),s},t.prototype.getBlockEvents=function(e,i,n){var s=[];return n?s=this.eventBase.getProcessedEvents(this.blockData):s=this.blockData,e&&(e=this.getDateTime(e)),i&&(i=this.getDateTime(i)),s=this.eventBase.filterEventsByRange(s,e,i),s},t.prototype.getOccurrencesByID=function(e){return this.eventBase.getOccurrencesByID(e)},t.prototype.getOccurrencesByRange=function(e,i){return e=this.getDateTime(e),i=this.getDateTime(i),this.eventBase.getOccurrencesByRange(e,i)},t.prototype.getCurrentViewDates=function(){return this.activeView?this.activeView.renderDates:[]},t.prototype.setRecurrenceEditor=function(e){this.eventWindow.setRecurrenceEditor(e)},t.prototype.getEventMaxID=function(){return this.eventBase.getEventMaxID()},t.prototype.getDeletedOccurrences=function(e){return this.eventBase.getDeletedOccurrences(e)},t.prototype.getCurrentViewEvents=function(){return this.eventsProcessed},t.prototype.refreshEvents=function(e){e===void 0&&(e=!0),e?(this.dragAndDropModule&&(this.dragAndDropModule.actionObj.action="",Oe([this.element],qd)),this.crudModule.refreshDataManager()):(this.uiStateValues&&(this.uiStateValues.isPreventTimezone=!0),this.crudModule&&this.crudModule.refreshProcessedData(),this.uiStateValues&&(this.uiStateValues.isPreventTimezone=!1))},t.prototype.refreshTemplates=function(e){switch(e?this.resetTemplates([e]):this.resetTemplates(),e){case"eventTemplate":this.appointmentTemplateFn=this.templateParser(this.activeViewOptions.eventTemplate),this.refreshEvents(!1);break;case"dateHeaderTemplate":this.dateHeaderTemplateFn=this.templateParser(this.activeViewOptions.dateHeaderTemplate),this.activeView.refreshHeader();break;case"dateRangeTemplate":this.dateRangeTemplateFn=this.templateParser(this.activeViewOptions.dateRangeTemplate),this.headerModule&&this.headerModule.refresh();break;case"resourceHeaderTemplate":this.resourceHeaderTemplateFn=this.templateParser(this.activeViewOptions.resourceHeaderTemplate),this.activeView.isTimelineView()?this.activeView.refreshResourceHeader():this.activeView.refreshHeader();break;case"quickInfoTemplates":this.quickPopup&&(this.quickPopup.destroy(),this.quickPopup=null),this.quickPopup=new qV(this),this.quickInfoTemplatesHeaderFn=this.templateParser(this.quickInfoTemplates.header),this.quickInfoTemplatesContentFn=this.templateParser(this.quickInfoTemplates.content),this.quickInfoTemplatesFooterFn=this.templateParser(this.quickInfoTemplates.footer);break;case"editorTemplate":this.destroyEditorWindow(),this.editorTemplateFn=this.templateParser(this.editorTemplate);break;case"editorHeaderTemplate":this.destroyEditorWindow(),this.editorHeaderTemplateFn=this.templateParser(this.editorHeaderTemplate);break;case"editorFooterTemplate":this.destroyEditorWindow(),this.editorFooterTemplateFn=this.templateParser(this.editorFooterTemplate);break;case"tooltipTemplate":case"headerTooltipTemplate":this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.eventTooltip=new sk(this),this.eventTooltipTemplateFn=this.templateParser(this.eventSettings.tooltipTemplate),this.headerTooltipTemplateFn=this.templateParser(this.activeViewOptions.group.headerTooltipTemplate);break;default:this.initializeView(this.currentView);break}},t.prototype.refreshLayout=function(){this.onScheduleResize(),this.headerModule&&this.headerModule.refresh(),this.eventWindow&&this.eventWindow.refresh()},t.prototype.getEventDetails=function(e){e=e;var i=e.getAttribute("data-guid");return i?this.eventBase.getEventByGuid(i):{}},t.prototype.isSlotAvailable=function(e,i,n){var s=this,a,o,l=this.activeEventData.event;if(e instanceof Date||typeof e=="string"?(a=e,o=i):(l=e,a=e[this.eventFields.startTime],o=e[this.eventFields.endTime],this.resourceBase&&(n=this.eventBase.getGroupIndexFromEvent(e))),v(a)||v(o))return!0;a=this.getDateTime(a),o=this.getDateTime(o);var c=this.eventBase.filterEvents(a,o);return!v(n)&&this.resourceBase&&this.resourceBase.lastResourceLevel.length>0&&(c=this.eventBase.filterEventsByResource(this.resourceBase.lastResourceLevel[parseInt(n.toString(),10)],c)),l&&(l.Guid?c=c.filter(function(u){return u.Guid!==l.Guid}):c=c.filter(function(u){return u[s.eventFields.id]!==l[s.eventFields.id]})),!(c.length>0)},t.prototype.copy=function(e){this.processCutCopyActions(e,!1)},t.prototype.cut=function(e){this.processCutCopyActions(e,!0)},t.prototype.paste=function(e){var i=this;if(!(!this.allowClipboard||!this.allowKeyboardInteraction||!e)&&!(!e.classList.contains("e-work-cells")&&!e.classList.contains("e-all-day-cells"))){if(!this.activeCellsData){var n=this.getCellDetails([e]);n&&(this.activeCellsData=n)}var s=new DataTransfer;v(navigator.clipboard)||navigator.clipboard.readText().then(function(a){s.setData("text/plain",a);var o=new ClipboardEvent("paste",{bubbles:!0,cancelable:!0});Object.defineProperty(o,"clipboardData",{value:s}),i.keyboardInteractionModule.pasteHandler(o,e)}).catch(function(a){throw a})}},t.prototype.processCutCopyActions=function(e,i){var n=this;if(!(!e||!this.allowClipboard||!this.allowKeyboardInteraction)){var s=e,a=[];s.forEach(function(o){if(o.classList.contains(Ni)){var l=n.getEventDetails(o);l&&a.push(l)}}),a.length>0&&this.keyboardInteractionModule.processClipboardAction(i,a)}},t.prototype.openEditor=function(e,i,n,s){i==="Add"&&!n?(e.startTime=this.getDateTime(e.startTime),e.endTime=this.getDateTime(e.endTime),v(e.element)||(e.element=e.element)):(e[this.eventFields.startTime]=this.getDateTime(e[this.eventFields.startTime]),e[this.eventFields.endTime]=this.getDateTime(e[this.eventFields.endTime])),this.currentAction=i,i!=="Add"&&(this.activeEventData.event=e),this.eventWindow.openEditor(e,i,n,s)},t.prototype.closeEditor=function(){this.eventWindow&&this.eventWindow.dialogClose()},t.prototype.openQuickInfoPopup=function(e){var i=this;if(!(this.currentView==="Year"||v(e)))if(v(e[this.eventFields.id])){if(this.currentView==="Agenda"||this.currentView==="MonthAgenda"||v(this.activeView))return;var n={startTime:this.activeCellsData.startTime=this.getDateTime(e[this.eventFields.startTime]),endTime:this.activeCellsData.endTime=this.getDateTime(e[this.eventFields.endTime]),isAllDay:this.activeCellsData.isAllDay=v(e[this.eventFields.isAllDay])?!1:e[this.eventFields.isAllDay]},s=this.activeView.getAdjustedDate(new Date(n.startTime));if(s){var a="."+ci+'[data-date="'+s.getTime()+'"]';this.activeViewOptions.group.resources.length>0&&!this.uiStateValues.isGroupAdaptive&&this.resourceBase&&this.eventBase&&(n.groupIndex=this.eventBase.getGroupIndexFromEvent(e),a="."+ci+'[data-date="'+s.getTime()+'"][data-group-index="'+n.groupIndex+'"]');var o=this.element.querySelector(a);o&&(o.focus(),n.element=o,this.notify(Yp,n))}}else{var l=this.getCurrentViewEvents().filter(function(p){return e[i.eventFields.id]===p[i.eventFields.id]});if(l.length<=0)return;var c=l[0];if(e[this.eventFields.recurrenceRule]){var u=l.filter(function(p){return p[i.eventFields.startTime].getTime()===e[i.eventFields.startTime].getTime()});u.length>0&&(c=u[0])}var d=this.element.querySelector('div[data-guid="'+c.Guid+'"]');d&&(this.eventBase.removeSelectedAppointmentClass(),this.eventBase.addSelectedAppointments([d],!1),this.activeEventData={event:c,element:d},(this.currentView==="Agenda"||this.currentView==="MonthAgenda")&&pe([this.activeEventData.element],hS),this.notify(h1,this.activeEventData))}},t.prototype.closeQuickInfoPopup=function(){this.quickPopup&&this.quickPopup.quickPopupHide(!0)},t.prototype.openOverlapAlert=function(e){var i=this;if(this.quickPopup){var n={type:"OverlapAlert",cancel:!1,element:this.quickPopup.quickDialog.element,data:e.data,overlapEvents:e.overlapEvents};this.trigger(ww,n,function(s){s.cancel||i.quickPopup.openValidationError("overlapAlert",e.data)})}},t.prototype.closeOverlapAlert=function(){var e=this;if(this.quickPopup){var i={type:"OverlapAlert",cancel:!1,data:this.activeEventData.event,element:this.quickPopup.quickDialog.element};this.trigger(iS,i,function(n){n.cancel||e.quickPopup.quickDialog.hide()})}},t.prototype.closeTooltip=function(){this.eventTooltip&&this.eventTooltip.close()},t.prototype.getDateRangeText=function(e){return v(e)&&e.length===0||!this.activeView?"":this.activeView.getDateRangeText(e[0],e)},t.prototype.getViewDates=function(e){if(e===void 0&&(e="Current"),!this.activeView)return[];switch(e){case"Previous":case"Next":return this.activeView.getRenderDates(void 0,this.activeView.getNextPreviousDate(e));case"Current":return this.getCurrentViewDates()}},t.prototype.selectResourceByIndex=function(e){this.resourceBase&&this.uiStateValues.isGroupAdaptive&&this.resourceBase.selectResourceByIndex(e)},t.prototype.getIndexFromResourceId=function(e,i){return this.resourceBase?this.resourceBase.getIndexFromResourceId(e,i):null},t.prototype.addResource=function(e,i,n){this.resourceBase.addResource(e,i,n)},t.prototype.removeResource=function(e,i){this.resourceBase.removeResource(e,i)},t.prototype.destroy=function(){this.eventTooltip&&(this.eventTooltip.destroy(),this.eventTooltip=null),this.destroyPopups(),this.hideSpinner(),this.unWireEvents(),this.destroyHeaderModule(),this.eventBase&&(this.eventBase.destroy(),this.eventBase=null),this.workCellAction&&(this.workCellAction.destroy(),this.workCellAction=null),this.inlineModule&&(this.inlineModule.destroy(),this.inlineModule=null),this.keyboardInteractionModule&&(this.keyboardInteractionModule.destroy(),this.keyboardInteractionModule=null),this.scrollModule&&(this.scrollModule.destroy(),this.scrollModule=null),this.printModule&&this.printModule.destroy(),this.activeView&&(this.resetTemplates(),this.activeView.removeEventListener(),this.activeView.destroy(),this.activeView=null),this.scheduleTouchModule&&(this.scheduleTouchModule.destroy(),this.scheduleTouchModule=null),this.crudModule&&(this.crudModule.destroy(),this.crudModule=null),this.dataModule&&(this.dataModule.destroy(),this.dataModule=null),r.prototype.destroy.call(this);for(var e=["dayModule","weekModule","workWeekModule","monthModule","monthAgendaModule","yearModule","agendaModule","timelineViewsModule","timelineMonthModule","timelineYearModule","resizeModule","dragAndDropModule","excelExportModule","printModule","iCalendarExportModule","iCalendarImportModule","tzModule","eventsData","eventsProcessed","blockData","blockProcessed","uiStateValues","viewCollections","viewOptions","defaultLocale","localeObj","selectedElements","resourceCollection","editorTitles","eventFields","activeViewOptions","activeEventData","activeCellsData","renderModule"],i=0,n=e;i<n.length;i++){var s=n[i];this[""+s]=null}df(this.element);var a=[nS,u4,d1,h4];this.cssClass&&(a=a.concat(this.cssClass.split(" "))),Oe([this.element],a)},Kt([ee("auto")],t.prototype,"width",void 0),Kt([ee("auto")],t.prototype,"height",void 0),Kt([ee(!0)],t.prototype,"showHeaderBar",void 0),Kt([ee(!0)],t.prototype,"showTimeIndicator",void 0),Kt([ee(!0)],t.prototype,"allowSwiping",void 0),Kt([ee(!0)],t.prototype,"allowOverlap",void 0),Kt([ee(3)],t.prototype,"overscanCount",void 0),Kt([ow([],KDe)],t.prototype,"toolbarItems",void 0),Kt([ee("Week")],t.prototype,"currentView",void 0),Kt([ee(["Day","Week","WorkWeek","Month","Agenda"])],t.prototype,"views",void 0),Kt([ee(new Date)],t.prototype,"selectedDate",void 0),Kt([ee(new Date(1900,0,1))],t.prototype,"minDate",void 0),Kt([ee(new Date(2099,11,31))],t.prototype,"maxDate",void 0),Kt([ee()],t.prototype,"dateFormat",void 0),Kt([ee("Gregorian")],t.prototype,"calendarMode",void 0),Kt([ee(!0)],t.prototype,"showWeekend",void 0),Kt([ee(0)],t.prototype,"firstDayOfWeek",void 0),Kt([ee("FirstDay")],t.prototype,"weekRule",void 0),Kt([ee([1,2,3,4,5])],t.prototype,"workDays",void 0),Kt([ee(12)],t.prototype,"monthsCount",void 0),Kt([ee("00:00")],t.prototype,"startHour",void 0),Kt([ee("24:00")],t.prototype,"endHour",void 0),Kt([ee(null)],t.prototype,"timeFormat",void 0),Kt([ee(!0)],t.prototype,"enableHtmlSanitizer",void 0),Kt([ee(!1)],t.prototype,"enableAllDayScroll",void 0),Kt([ee(!1)],t.prototype,"enableAdaptiveUI",void 0),Kt([ee(!0)],t.prototype,"allowResizing",void 0),Kt([Yn({},IDe)],t.prototype,"workHours",void 0),Kt([Yn({},ODe)],t.prototype,"timeScale",void 0),Kt([ee(!0)],t.prototype,"allowKeyboardInteraction",void 0),Kt([ee(!0)],t.prototype,"allowDragAndDrop",void 0),Kt([ee()],t.prototype,"dateHeaderTemplate",void 0),Kt([ee()],t.prototype,"dateRangeTemplate",void 0),Kt([ee()],t.prototype,"cellHeaderTemplate",void 0),Kt([ee()],t.prototype,"dayHeaderTemplate",void 0),Kt([ee()],t.prototype,"monthHeaderTemplate",void 0),Kt([ee()],t.prototype,"cellTemplate",void 0),Kt([ee(!1)],t.prototype,"readonly",void 0),Kt([ee(!0)],t.prototype,"showQuickInfo",void 0),Kt([ee(!1)],t.prototype,"allowInline",void 0),Kt([ee(!0)],t.prototype,"allowMultiCellSelection",void 0),Kt([ee(!0)],t.prototype,"allowMultiRowSelection",void 0),Kt([ee(!1)],t.prototype,"quickInfoOnSelectionEnd",void 0),Kt([ee(!1)],t.prototype,"showWeekNumber",void 0),Kt([ee(!1)],t.prototype,"rowAutoHeight",void 0),Kt([ee(!1)],t.prototype,"allowMultiDrag",void 0),Kt([ee(0)],t.prototype,"firstMonthOfYear",void 0),Kt([ee()],t.prototype,"editorTemplate",void 0),Kt([ee()],t.prototype,"editorHeaderTemplate",void 0),Kt([ee()],t.prototype,"editorFooterTemplate",void 0),Kt([Yn({},LDe)],t.prototype,"quickInfoTemplates",void 0),Kt([ee(7)],t.prototype,"agendaDaysCount",void 0),Kt([ee(!0)],t.prototype,"hideEmptyAgendaDays",void 0),Kt([ee(!0)],t.prototype,"enableRecurrenceValidation",void 0),Kt([ee()],t.prototype,"timezone",void 0),Kt([Yn({},VDe)],t.prototype,"eventSettings",void 0),Kt([ee(kK)],t.prototype,"timezoneDataSource",void 0),Kt([ee()],t.prototype,"resourceHeaderTemplate",void 0),Kt([ee()],t.prototype,"headerIndentTemplate",void 0),Kt([Yn({},WDe)],t.prototype,"group",void 0),Kt([ow([],qDe)],t.prototype,"resources",void 0),Kt([ow([],_De)],t.prototype,"headerRows",void 0),Kt([ee()],t.prototype,"cssClass",void 0),Kt([ee(!1)],t.prototype,"allowClipboard",void 0),Kt([ee()],t.prototype,"eventDragArea",void 0),Kt([Xe()],t.prototype,"created",void 0),Kt([Xe()],t.prototype,"destroyed",void 0),Kt([Xe()],t.prototype,"cellClick",void 0),Kt([Xe()],t.prototype,"cellDoubleClick",void 0),Kt([Xe()],t.prototype,"moreEventsClick",void 0),Kt([Xe()],t.prototype,"hover",void 0),Kt([Xe()],t.prototype,"select",void 0),Kt([Xe()],t.prototype,"actionBegin",void 0),Kt([Xe()],t.prototype,"actionComplete",void 0),Kt([Xe()],t.prototype,"actionFailure",void 0),Kt([Xe()],t.prototype,"navigating",void 0),Kt([Xe()],t.prototype,"renderCell",void 0),Kt([Xe()],t.prototype,"eventClick",void 0),Kt([Xe()],t.prototype,"eventDoubleClick",void 0),Kt([Xe()],t.prototype,"eventRendered",void 0),Kt([Xe()],t.prototype,"dataBinding",void 0),Kt([Xe()],t.prototype,"popupOpen",void 0),Kt([Xe()],t.prototype,"popupClose",void 0),Kt([Xe()],t.prototype,"dragStart",void 0),Kt([Xe()],t.prototype,"drag",void 0),Kt([Xe()],t.prototype,"dragStop",void 0),Kt([Xe()],t.prototype,"resizeStart",void 0),Kt([Xe()],t.prototype,"resizing",void 0),Kt([Xe()],t.prototype,"resizeStop",void 0),Kt([Xe()],t.prototype,"virtualScrollStart",void 0),Kt([Xe()],t.prototype,"virtualScrollStop",void 0),Kt([Xe()],t.prototype,"dataBound",void 0),Kt([Xe()],t.prototype,"beforePaste",void 0),Kt([Xe()],t.prototype,"beforePrint",void 0),Kt([Xe()],t.prototype,"excelExport",void 0),Kt([Xe()],t.prototype,"tooltipOpen",void 0),t=Kt([$n],t),t})(Dl),QK=(function(){function r(t){this.daysVariation=0,this.parent=t,this.actionObj={X:0,Y:0,groupIndex:0,cellWidth:0,cellHeight:0,slotInterval:0,interval:0,actionIndex:0,cloneElement:[],originalElement:[],action:null,isAllDay:null,excludeSelectors:null,index:0,navigationInterval:null,scrollInterval:null},this.scrollArgs={element:null,width:0,height:0},this.resizeEdges={left:!1,right:!1,top:!1,bottom:!1},this.scrollEdges={left:!1,right:!1,top:!1,bottom:!1}}return r.prototype.getChangedData=function(t){var e=this,i=qe({},this.actionObj.event,null,!0);if(i[this.parent.eventFields.startTime]=this.actionObj.start,i[this.parent.eventFields.endTime]=this.actionObj.end,v(this.actionObj.isAllDay)||(i[this.parent.eventFields.isAllDay]=this.actionObj.isAllDay),this.parent.activeViewOptions.group.resources.length>0){var n=this.getOriginalElement(this.actionObj.element);if(n){var s=n.map(function(o){return parseInt(o.getAttribute("data-group-index"),10)});if(s.indexOf(this.actionObj.groupIndex)===-1||!v(t)&&t.length>0){var a=parseInt(this.actionObj.clone.getAttribute("data-group-index"),10);s=s.filter(function(o){return o!==a}),s.push(this.actionObj.groupIndex),t&&t.length>0?t.forEach(function(o){e.parent.resourceBase.getResourceData(o,e.actionObj.groupIndex,s)}):this.parent.resourceBase.getResourceData(i,this.actionObj.groupIndex,s)}}}return i},r.prototype.saveChangedData=function(t,e){e===void 0&&(e=!1),this.parent.activeEventData.event=this.actionObj.event,this.parent.currentAction="Save";var i,n=[t.data];e&&(n=t.selectedData);for(var s=0,a=n;s<a.length;s++){var o=a[s],l=this.parent.activeViewOptions.group.resources.length>0?parseInt(this.actionObj.element.getAttribute("data-group-index"),10)===this.actionObj.groupIndex:!0;if(+o[this.parent.eventFields.startTime]==+this.actionObj.event[this.parent.eventFields.startTime]&&+o[this.parent.eventFields.endTime]==+this.actionObj.event[this.parent.eventFields.endTime]&&l){this.parent.crudModule.crudObj.isCrudAction=!1;return}if(o[this.parent.eventFields.recurrenceRule]){var c=o[this.parent.eventFields.recurrenceID]||o[this.parent.eventFields.id];if(o[this.parent.eventFields.id]===o[this.parent.eventFields.recurrenceID]&&(o[this.parent.eventFields.id]=this.parent.eventBase.getEventMaxID(),i="EditOccurrence"),this.parent.enableRecurrenceValidation&&this.parent.eventWindow.editOccurrenceValidation(c,o,this.actionObj.event))return}else i=null;(o[this.parent.eventFields.startTimezone]||o[this.parent.eventFields.endTimezone])&&this.parent.eventBase.timezoneConvert(o),this.parent.crudModule.saveEvent(o,i)}},r.prototype.calculateIntervalTime=function(t){var e=Ze(t).getTime(),i=this.parent.activeView.getStartHour(),n=ls*this.actionObj.interval;return e+=(i.getHours()*60+i.getMinutes())*ls+i.getSeconds()*1e3,e=e+Math.floor((t.getTime()-e)/n)*n,new Date(e)},r.prototype.getContentAreaDimension=function(){var t=this.parent.element.querySelector("."+lr),e=[].slice.call(t.querySelector("tr").children);!this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.isAdaptive&&!this.parent.enableAdaptiveUI&&!this.parent.virtualScrollModule&&(e=this.getResourceElements(e));var i=e[0].getBoundingClientRect(),n=e.slice(-1)[0].getBoundingClientRect(),s={bottom:t.scrollHeight-5,left:this.parent.enableRtl?n.left:i.left,right:this.parent.enableRtl?i.right:n.right,top:0,leftOffset:this.parent.enableRtl?n.right:i.right,rightOffset:this.parent.enableRtl?i.left:n.left};return s},r.prototype.getIndex=function(t){var e=[].slice.call(this.parent.getContentTable().querySelector("tr").children),i={minIndex:0,maxIndex:e.length-1};if(this.actionObj.action==="resize"&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&!this.parent.activeView.isTimelineView()){var n=this.getResourceElements(e);i.minIndex=n[0].cellIndex,i.maxIndex=n.slice(-1)[0].cellIndex}return t<i.minIndex&&(t=i.minIndex),t>i.maxIndex&&(t=i.maxIndex),t},r.prototype.updateTimePosition=function(t,e){for(var i=0,n=0,s=this.actionObj.cloneElement;n<s.length;n++){var a=s[n],o=a.querySelector("."+tf);if(o){var l=this.actionObj.start,c=this.actionObj.end;e&&e.length>0&&(l=e[parseInt(i.toString(),10)][this.parent.eventFields.startTime],c=e[parseInt(i.toString(),10)][this.parent.eventFields.endTime]),o.innerHTML=this.parent.getTimeString(l)+" - "+this.parent.getTimeString(c)}i++}if(!(!this.parent.activeViewOptions.timeScale.enable||!this.parent.isAdaptive||this.parent.currentView==="Month"||this.parent.currentView==="TimelineMonth")){var u=this.parent.element.querySelector("."+p4);if(!u){u=Be("div",{className:p4});var d=this.parent.activeView.isTimelineView()?Au:$O;this.parent.element.querySelector("."+d).appendChild(u)}u.innerHTML=this.parent.getTimeString(t);var p=0;if(this.parent.activeView.isTimelineView())if(this.parent.enableRtl){var m=parseInt(this.actionObj.clone.style.right,10);p=this.actionObj.action==="drag"||this.resizeEdges.left?m+this.actionObj.clone.offsetWidth:m,u.style.right=bt(p)}else{var y=parseInt(this.actionObj.clone.style.left,10);p=this.actionObj.action==="drag"||this.resizeEdges.left?y:y+this.actionObj.clone.offsetWidth,u.style.left=bt(p)}else p=this.actionObj.action==="drag"||this.resizeEdges.top?this.actionObj.clone.offsetTop:this.actionObj.clone.offsetTop+this.actionObj.clone.offsetHeight,u.style.top=bt(p)}},r.prototype.getResourceElements=function(t){var e=this;return t.filter(function(i){return parseInt(i.getAttribute("data-group-index"),10)===e.actionObj.groupIndex})},r.prototype.getOriginalElement=function(t){var e,i=t.getAttribute("data-guid"),n=t.offsetParent&&t.offsetParent.classList.contains(Q0);if(n||this.parent.activeView.isTimelineView()||this.actionObj.action!=="resize"&&this.parent.virtualScrollModule)e=[].slice.call(this.parent.element.querySelectorAll('[data-guid="'+i+'"]'));else{var s=Fe(t,"tr");s&&(e=[].slice.call(s.querySelectorAll('[data-guid="'+i+'"]')))}return e},r.prototype.createCloneElement=function(t){var e=document.createElement("div");e.appendChild(t.cloneNode(!0));var i=e.children[0],n=[sg];n.push(this.actionObj.action==="drag"?bK:Xj),(this.parent.currentView==="Month"||this.parent.currentView==="TimelineMonth")&&n.push(Gwe),pe([i],n),pe([t],qd),v(t.parentElement)||t.parentElement.appendChild(i),i.style.width=bt(i.offsetWidth-2);var s=document.querySelector(this.parent.eventDragArea);return this.parent.eventDragArea&&this.actionObj.action==="drag"&&s&&s.appendChild(i),ui(i,{border:"0px"}),i},r.prototype.removeCloneElementClasses=function(){var t=this.actionObj.originalElement;(this.parent.currentView==="Month"||this.parent.currentView==="TimelineYear"||this.parent.currentView==="Day"||this.parent.currentView==="Week"||this.parent.currentView==="WorkWeek")&&(t=[].slice.call(this.parent.element.querySelectorAll("."+qd))),Oe(t,qd)},r.prototype.removeCloneElement=function(){this.actionObj.originalElement=[];for(var t=[].slice.call(this.parent.element.querySelectorAll(".e-dynamic-clone")),e=0,i=t;e<i.length;e++){var n=i[e];ji(n)}for(var s=0,a=this.actionObj.cloneElement;s<a.length;s++){var o=a[s];v(o.parentNode)||ji(o)}this.actionObj.cloneElement=[];var l=this.parent.element.querySelector("."+p4);l&&ji(l)},r.prototype.getCursorElement=function(t){var e=this.parent.eventBase.getPageCoordinates(t);return document.elementFromPoint(e.clientX,e.clientY)},r.prototype.autoScroll=function(){var t=this.parent.element.querySelector("."+lr),e=t.offsetHeight<=t.scrollHeight,i=t.offsetWidth<=t.scrollWidth,n=e&&t.scrollTop>=0&&t.scrollTop+t.offsetHeight<=t.scrollHeight,s=i&&t.scrollLeft>=0&&t.scrollLeft+t.offsetWidth<=t.scrollWidth;if(this.actionObj.action==="resize"&&this.scrollEdges.right&&t.scrollLeft+t.offsetWidth>t.scrollWidth){var a=[].slice.call(this.parent.getContentTable().querySelector("tr").children).length-1,o=Math.ceil((this.actionObj.clone.offsetLeft+this.actionObj.clone.offsetWidth)/this.actionObj.cellWidth);s=o===a}n&&(this.scrollEdges.top||this.scrollEdges.bottom)&&(t.scrollTop+=this.scrollEdges.top?-this.actionObj.scroll.scrollBy:this.actionObj.scroll.scrollBy,this.actionObj.action==="resize"&&t.scrollHeight!==t.offsetHeight+t.scrollTop&&t.scrollTop>0&&(this.actionObj.Y+=this.scrollEdges.top?this.actionObj.scroll.scrollBy:-this.actionObj.scroll.scrollBy)),s&&(this.scrollEdges.left||this.scrollEdges.right)&&(t.scrollLeft+=this.scrollEdges.left?-this.actionObj.scroll.scrollBy:this.actionObj.scroll.scrollBy,this.actionObj.action==="resize"&&t.scrollWidth!==t.offsetWidth+t.scrollLeft&&t.scrollLeft>0&&(this.actionObj.X+=this.scrollEdges.left?this.actionObj.scroll.scrollBy:-this.actionObj.scroll.scrollBy))},r.prototype.autoScrollValidation=function(){if(!this.actionObj.scroll.enable)return!1;var t=this.parent.boundaryValidation(this.actionObj.pageY,this.actionObj.pageX);return this.scrollEdges=t,t.bottom||t.top||t.left||t.right},r.prototype.actionClass=function(t){t==="addClass"?pe([this.parent.element],qd):Oe([this.parent.element],qd)},r.prototype.updateScrollPosition=function(t){var e=this;this.scrollEventArgs=t,this.actionObj.scroll.enable&&v(this.actionObj.scrollInterval)&&(this.actionObj.scrollInterval=window.setInterval(function(){if(e.autoScrollValidation()&&!e.actionObj.clone.classList.contains(qo)){if(e.parent.activeView.isTimelineView()&&e.parent.activeViewOptions.group.resources.length>0&&e.actionObj.groupIndex<0)return;e.autoScroll(),e.actionObj.action==="drag"?e.parent.dragAndDropModule.updateDraggingDateTime(e.scrollEventArgs):e.parent.resizeModule.updateResizingDirection(e.scrollEventArgs)}},this.actionObj.scroll.timeDelay))},r.prototype.updateOriginalElement=function(t){var e='[data-id="'+t.getAttribute("data-id")+'"]';this.parent.activeViewOptions.group.resources.length>0&&(e=e.concat('[data-group-index = "'+t.getAttribute("data-group-index")+'"]')),t.hasAttribute("data-guid")&&(e+='[data-guid="'+t.getAttribute("data-guid")+'"]');var i=[].slice.call(this.parent.element.querySelectorAll(e));pe(i,qd);var n=[].slice.call(this.parent.element.querySelectorAll("."+sg));Oe(n,qd)},r.prototype.getUpdatedEvent=function(t,e,i){var n=JSON.parse(JSON.stringify(i));return n[this.parent.eventFields.startTime]=t,n[this.parent.eventFields.endTime]=e,n},r.prototype.dynamicYearlyEventsRendering=function(t,e){if(e===void 0&&(e=!1),!!v(this.parent.eventDragArea)){var i=this.actionObj.cellWidth-7;if(e&&(this.resizeEdges.left||this.resizeEdges.right)&&(i=this.actionObj.cellWidth*t.count),!e&&this.parent.activeViewOptions.orientation==="Horizontal"&&this.parent.activeViewOptions.group.resources.length===0){var n=this.yearEvent.isSpannedEvent(t,t[this.parent.eventFields.startTime]);n[this.parent.eventFields.startTime].getTime()===n[this.parent.eventFields.endTime].getTime()&&(n.isSpanned.count=1),i=n.isSpanned.count*this.actionObj.cellWidth}if(!e&&this.parent.activeViewOptions.orientation==="Vertical"&&this.parent.activeViewOptions.group.resources.length!==0){var n=this.yearEvent.isSpannedEvent(t,t[this.parent.eventFields.startTime]);i=n.isSpanned.count*this.actionObj.cellWidth}var s=this.createAppointmentElement(this.actionObj.groupIndex,t[this.parent.eventFields.subject]);s.setAttribute("drag","true"),pe([s],sg),ui(s,{width:i+"px",border:"0px","pointer-events":"none",position:"absolute",overflow:"hidden",padding:"3px"}),this.actionObj.clone.style.backgroundColor!==""&&ui(s,{backgroundColor:this.actionObj.clone.style.backgroundColor});var a=Ze(t[this.parent.eventFields.startTime]).getTime(),o="."+ci+'[data-date="'+a+'"]';this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(o="."+ci+'[data-date="'+a+'"][data-group-index="'+this.actionObj.groupIndex+'"]');var l=this.parent.element.querySelector(o);if(!v(l)){if(e){var c=l.querySelector("."+hT),u=this.actionObj.cellHeight*t.count-(c?c.offsetHeight:0)-7;(this.resizeEdges.right||this.resizeEdges.left)&&(u=parseInt(this.actionObj.clone.style.height,10)),ui(s,{height:u+"px"})}this.renderDynamicElement(l,s,!0),this.actionObj.cloneElement.push(s)}}},r.prototype.renderDynamicElement=function(t,e,i){if(t.querySelector("."+kn))t.querySelector("."+kn).appendChild(e);else{var n=Be("div",{className:kn});n.appendChild(e),t.appendChild(n)}},r.prototype.createAppointmentElement=function(t,e){var i=Be("div",{className:Ni,innerHTML:e});return this.parent.activeViewOptions.group.resources.length>0&&i.setAttribute("data-group-index",t.toString()),i},r.prototype.dynamicEventsRendering=function(t){var e=this;if(v(this.parent.eventDragArea)){var i=this.parent.activeView.renderDates,n=[].slice.call(this.parent.element.querySelectorAll("."+ci)),s=this.parent.activeViewOptions.workDays,a;if(this.parent.activeViewOptions.group.resources.length>0){var o=this.parent.virtualScrollModule&&this.parent.virtualScrollModule.isHorizontalScroll?this.parent.resourceBase.renderedResources:this.parent.resourceBase.lastResourceLevel,l=o.filter(function(C){return C.groupIndex===e.actionObj.groupIndex});i=l[0].renderDates;var c="."+ci+'[data-group-index="'+this.actionObj.groupIndex+'"]';n=[].slice.call(this.parent.element.querySelectorAll(c)),s=l[0].workDays,a=l[0].groupOrder}if(this.monthEvent.dateRender=i,this.monthEvent.getSlotDates(s),this.resizeEdges.left||this.resizeEdges.right)for(var u=[].slice.call(this.parent.element.querySelectorAll("."+sg)),d=0,p=u;d<p.length;d++){var m=p[d];ji(m)}for(var y=this.monthEvent.splitEvent(t,i),M=0,w=y;M<w.length;M++){var b=w[M],D=this.parent.getIndexOfDate(i,Ze(b[this.monthEvent.fields.startTime])),E=b.data.count,N=E*this.actionObj.cellWidth-7,B=this.monthEvent.createAppointmentElement(b,this.actionObj.groupIndex,!0);B.setAttribute("drag","true"),pe([B],sg),this.monthEvent.applyResourceColor(B,b,"backgroundColor",a),ui(B,{width:N+"px",border:"0px","pointer-events":"none"});var P=n[parseInt(D.toString(),10)];P&&(this.monthEvent.renderElement(P,B,!0),this.actionObj.cloneElement.push(B))}}},r.prototype.destroy=function(){!this.parent||this.parent&&this.parent.isDestroyed||(this.actionObj={},this.scrollArgs={},this.resizeEdges={left:!1,right:!1,top:!1,bottom:!1},this.scrollEdges={left:!1,right:!1,top:!1,bottom:!1})},r})(),JDe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),ZDe=(function(r){JDe(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.wireResizeEvent=function(e){for(var i=[].slice.call(e.querySelectorAll("."+dT)),n=0,s=i;n<s.length;n++){var a=s[n];se.add(a,Re.touchStartEvent,this.resizeStart,this)}},t.prototype.resizeHelper=function(){if(this.parent.activeViewOptions.group.resources.length>0&&this.parent.activeViewOptions.group.allowGroupEdit)for(var e=0,i=this.actionObj.originalElement.length;e<i;e++){var n=this.createCloneElement(this.actionObj.originalElement[parseInt(e.toString(),10)]);this.actionObj.cloneElement[parseInt(e.toString(),10)]=n,this.actionObj.element===this.actionObj.originalElement[parseInt(e.toString(),10)]&&(this.actionObj.clone=n)}else this.actionObj.element&&(this.actionObj.clone=this.createCloneElement(this.actionObj.element)),this.actionObj.cloneElement=[this.actionObj.clone],this.actionObj.originalElement=[this.actionObj.element]},t.prototype.resizeStart=function(e){var i=this;if(!(e&&e.type==="touchstart"&&(!this.parent.uiStateValues.isTapHold||!Fe(e.target,"."+ng))||Fe(e.target,"."+Aw))){var n=Fe(e.target,"."+dT);if(this.actionObj.element=Fe(n,"."+Ni),this.actionObj.event=this.parent.eventBase.getEventByGuid(this.actionObj.element.getAttribute("data-guid")),!v(this.actionObj.event)){this.parent.eventBase.removeSelectedAppointmentClass(),this.actionObj.action="resize",this.actionObj.slotInterval=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount,this.actionObj.interval=this.actionObj.slotInterval;var s=qe({},this.actionObj.event,null,!0),a={cancel:!1,data:s,element:this.actionObj.element,event:e,interval:this.actionObj.interval,scroll:{enable:!0,scrollBy:30,timeDelay:100}};this.parent.trigger(cwe,a,function(o){if(!o.cancel){i.actionClass("addClass"),i.parent.uiStateValues.action=!0,i.resizeEdges={left:n.classList.contains(pS),right:n.classList.contains(mS),top:n.classList.contains(JO),bottom:n.classList.contains(ZO)},i.actionObj.groupIndex=i.parent.uiStateValues.isGroupAdaptive?i.parent.uiStateValues.groupIndex:0;var l=i.parent.element.querySelector("."+ci);i.actionObj.cellWidth=i.parent.getElementWidth(l),i.actionObj.cellHeight=i.parent.getElementHeight(l);var c=i.parent.activeViewOptions.headerRows.map(function(N){return N.option});if(i.parent.activeView.isTimelineView()&&c.length>0&&["Date","Hour"].indexOf(c.slice(-1)[0])<0){for(var u=i.parent.getContentTable().querySelector("tr"),d=0,p=[].slice.call(u.children),m=0,y=p;m<y.length;m++){var M=y[m];d+=parseInt(M.getAttribute("colspan"),10)}var w=u.getBoundingClientRect();i.actionObj.cellWidth=w.width/d,i.actionObj.cellHeight=w.height}var b=i.parent.eventBase.getPageCoordinates(e);i.actionObj.X=b.pageX,i.actionObj.Y=b.pageY,i.actionObj.groupIndex=parseInt(i.actionObj.element.getAttribute("data-group-index")||"0",10),i.actionObj.interval=o.interval,i.actionObj.scroll=o.scroll,i.actionObj.start=new Date(s[i.parent.eventFields.startTime].getTime()),i.actionObj.end=new Date(s[i.parent.eventFields.endTime].getTime()),i.actionObj.originalElement=i.getOriginalElement(i.actionObj.element),i.parent.currentView==="Month"&&(i.daysVariation=-1,i.monthEvent=new ex(i.parent));var D=i.parent.element.querySelector("."+lr);if(i.scrollArgs={element:D,width:D.scrollWidth,height:D.scrollHeight},["Month","TimelineYear"].indexOf(i.parent.currentView)<0){var E=Math.round(i.scrollArgs.width/i.actionObj.cellWidth)*i.actionObj.cellWidth;i.scrollArgs.width=i.scrollArgs.width<E?E:i.scrollArgs.width}se.add(document,Re.touchMoveEvent,i.resizing,i),se.add(document,Re.touchEndEvent,i.resizeStop,i)}})}}},t.prototype.resizing=function(e){if(e&&e.type==="touchmove"&&e.preventDefault(),this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),this.parent.element.querySelectorAll("."+Xj).length===0&&this.resizeHelper(),!(!v(e.target)&&e.target.classList.contains(mT))){var i=this.parent.eventBase.getPageCoordinates(e);if(this.parent.currentView==="Month"||this.parent.currentView==="TimelineYear"){var n=document.documentElement,s=(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0),a=(window.pageYOffset||n.scrollTop)-(n.clientTop||0);this.actionObj.pageX=i.pageX-s,this.actionObj.pageY=i.pageY-a}else this.actionObj.pageX=i.pageX,this.actionObj.pageY=i.pageY;this.updateScrollPosition(e),this.updateResizingDirection(e);var o=qe({},this.actionObj.event,null,!0),l={cancel:!1,data:o,element:this.actionObj.element,event:e,startTime:this.actionObj.start,endTime:this.actionObj.end};this.parent.group.resources.length>0&&(l.groupIndex=this.actionObj.groupIndex),this.parent.trigger(uwe,l)}},t.prototype.updateResizingDirection=function(e){if(this.parent.currentView==="Month"||this.parent.currentView==="TimelineYear"){this.monthResizing();return}var i=this.resizeValidation(e);if(this.resizeEdges.left){if(i){var n=this.getLeftRightStyles(e,!0);if(parseInt(n.width,10)<1)return;for(var s=0,a=this.actionObj.cloneElement;s<a.length;s++){var o=a[s];ui(o,n),pe([o],pS)}}this.horizontalResizing(!this.parent.enableRtl)}if(this.resizeEdges.right){if(i){var l=this.getLeftRightStyles(e,!1);if(parseInt(l.width,10)<1)return;for(var c=0,u=this.actionObj.cloneElement;c<u.length;c++){var o=u[c];ui(o,l),pe([o],mS)}}this.horizontalResizing(this.parent.enableRtl)}if(this.resizeEdges.top){if(i){var d=this.getTopBottomStyles(e,!0);if(parseInt(d.height,10)<1)return;for(var p=0,m=this.actionObj.cloneElement;p<m.length;p++){var o=m[p];ui(o,d),pe([o],JO)}}this.verticalResizing(!0)}if(this.resizeEdges.bottom){if(i){var y=this.getTopBottomStyles(e,!1);if(parseInt(y.height,10)<1)return;for(var M=0,w=this.actionObj.cloneElement;M<w.length;M++){var o=w[M];ui(o,y),pe([o],ZO)}}this.verticalResizing(!1)}},t.prototype.monthResizing=function(){if(this.removeCloneElement(),!(v(this.actionObj.pageX)||v(this.actionObj.pageY))){var e=document.elementFromPoint(this.actionObj.pageX,this.actionObj.pageY);if(!v(e)){var i=this.parent.getDateFromElement(e),n=this.parent.activeViewOptions.group.resources.length>0?parseInt(e.getAttribute("data-group-index"),10)===this.actionObj.groupIndex:!0,s=new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime()),a=new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime());if(!this.parent.enableRtl&&this.resizeEdges.left||this.parent.enableRtl&&this.resizeEdges.right||this.resizeEdges.top?s=i:(!this.parent.enableRtl&&this.resizeEdges.right||this.parent.enableRtl&&this.resizeEdges.left||this.resizeEdges.bottom)&&(a=Zt(i,1)),n&&s<a){this.actionObj.start=s,this.actionObj.end=a;var o=this.getUpdatedEvent(this.actionObj.start,this.actionObj.end,this.actionObj.event);this.parent.currentView==="TimelineYear"?this.yearEventsRendering(o):this.dynamicEventsRendering(o),this.updateOriginalElement(this.actionObj.clone)}}}},t.prototype.yearEventsRendering=function(e){for(var i=[].slice.call(this.parent.element.querySelectorAll("."+sg)),n=0,s=i;n<s.length;n++){var a=s[n];ji(a)}var o=new Date(e[this.parent.eventFields.endTime]),l=0;this.parent.activeViewOptions.group.resources.length===0&&(l=this.getMonthDiff(e[this.parent.eventFields.startTime],Zt(o,-1)));for(var c=0;c<=l;c++){var u=void 0;this.parent.activeViewOptions.group.resources.length===0?u=this.getEventCount(e,this.actionObj.start.getMonth()+c):(u=qe({},e,null,!0),o=this.resizeEdges.left||this.resizeEdges.right?Zt(o,-1):o,u.count=this.getMonthDiff(e[this.parent.eventFields.startTime],o)+1),this.dynamicYearlyEventsRendering(u,!0)}},t.prototype.getMonthDiff=function(e,i){var n;return n=(i.getFullYear()-e.getFullYear())*12,n-=e.getMonth(),n+=i.getMonth(),n<=0?0:n},t.prototype.getEventCount=function(e,i){var n=qe({},e,null,!0),s=n[this.parent.eventFields.startTime],a=n[this.parent.eventFields.endTime],o=new Date(this.parent.selectedDate.getFullYear(),i,1),l=Zt(new Date(this.parent.selectedDate.getFullYear(),i+1,0),1),c=1;return s.getTime()<o.getTime()&&(n[this.parent.eventFields.startTime]=o),a.getTime()>l.getTime()&&(n[this.parent.eventFields.endTime]=l),this.parent.activeViewOptions.group.resources.length===0&&(c=Math.ceil((n[this.parent.eventFields.endTime].getTime()-n[this.parent.eventFields.startTime].getTime())/cs)),n.count=c,n},t.prototype.resizeStop=function(e){var i=this;se.remove(document,Re.touchMoveEvent,this.resizing),se.remove(document,Re.touchEndEvent,this.resizeStop),clearInterval(this.actionObj.scrollInterval),this.actionObj.scrollInterval=null,this.actionObj.action=null,this.removeCloneElementClasses(),this.removeCloneElement(),this.actionClass("removeClass"),this.parent.uiStateValues.action=this.parent.uiStateValues.isTapHold=!1;var n={cancel:!1,data:this.getChangedData(),element:this.actionObj.element,event:e};this.parent.trigger(hwe,n,function(s){s.cancel||i.parent.eventBase.checkOverlap(s.data)||(i.parent.isSpecificResourceEvents()&&(i.parent.crudModule.crudObj.sourceEvent=[i.parent.resourceBase.lastResourceLevel[parseInt(s.element.getAttribute("data-group-index"),10)]],i.parent.crudModule.crudObj.targetEvent=i.parent.crudModule.crudObj.sourceEvent,i.parent.crudModule.crudObj.isCrudAction=!0),i.saveChangedData(s))})},t.prototype.verticalResizing=function(e){var i=this.actionObj.clone.offsetTop;e||(i+=this.actionObj.clone.offsetHeight);var n=i/Math.round(this.actionObj.cellHeight)*this.actionObj.slotInterval,s=this.actionObj.clone.offsetParent;if(!v(s)){var a=Ze(this.parent.getDateFromElement(s));a.setHours(this.parent.activeView.getStartHour().getHours()),a.setMinutes(n+this.parent.activeView.getStartHour().getMinutes()),e?this.actionObj.start=this.calculateIntervalTime(a):this.actionObj.end=this.calculateIntervalTime(a),this.updateTimePosition(a)}},t.prototype.horizontalResizing=function(e){var i=new Date(this.actionObj.event[this.parent.eventFields.startTime].getTime()),n=new Date(this.actionObj.event[this.parent.eventFields.endTime].getTime()),s,a=this.parent.currentView,o=this.parent.currentView==="TimelineMonth";if(this.parent.activeView.isTimelineView()){var l=this.parent.getContentTable().querySelector("tr");if(this.parent.activeViewOptions.headerRows.length>0){var c=this.parent.activeViewOptions.headerRows.map(function(F){return F.option});a=c.slice(-1)[0],o&&a==="Hour"&&(a=c.slice(-2)[0]||"Month")}s=e?i:n;var u=0,d=[].slice.call(l.children),p=!1,m=this.actionObj.cellWidth/(this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount),y=parseFloat(this.parent.enableRtl?this.actionObj.clone.style.right:this.actionObj.clone.style.left);if(y=Math.round(y/m)*m,["Year","Month","Week","Date"].indexOf(a)!==-1){for(var M=0,w=0,b=d;w<b.length;w++){var D=b[w];M+=parseInt(D.getAttribute("colspan"),10)}var E=this.parent.enableRtl?parseInt(this.actionObj.clone.style.right,10):parseInt(this.actionObj.clone.style.left,10);E=Math.round(E/this.actionObj.cellWidth)*this.actionObj.cellWidth,e||(E+=this.parent.getElementWidth(this.actionObj.clone)-this.actionObj.cellWidth),u=o?Math.floor(E/Math.floor(this.parent.getElementWidth(l)/M)):Math.round(E/(this.parent.getElementWidth(l)/M)),u=e?u:o?u+1:u,p=u===d.length,u=u<0?0:u>=M?M-1:u}else{var N=this.actionObj.cellWidth;if(u=e?Math.round(y/this.actionObj.cellWidth):Math.ceil((y+(this.parent.getElementWidth(this.actionObj.clone)-N))/this.actionObj.cellWidth),this.parent.enableRtl){var B=Math.round(y/this.actionObj.cellWidth)*this.actionObj.cellWidth+(e?0:this.parent.getElementWidth(this.actionObj.clone)-this.actionObj.cellWidth);u=Math.floor(B/this.actionObj.cellWidth)}p=u===d.length,u=this.getIndex(u)}var P=void 0;if(["Year","Month","Week","Date"].indexOf(a)!==-1?P=new Date(this.parent.activeView.renderDates[parseInt(u.toString(),10)].getTime()):P=this.parent.getDateFromElement(l.children[parseInt(u.toString(),10)]),["TimelineMonth","Year","Month","Week","Date"].indexOf(a)!==-1||!this.parent.activeViewOptions.timeScale.enable)s=new Date(P.setHours(s.getHours(),s.getMinutes(),s.getSeconds()));else{e||(y+=this.parent.getElementWidth(this.actionObj.clone));var C=Math.floor(this.actionObj.slotInterval/this.actionObj.cellWidth*(y-Math.floor(y/this.actionObj.cellWidth)*this.actionObj.cellWidth));C=p||!e&&C===0?this.actionObj.slotInterval:C,s=new Date(P.getTime()),s=new Date(P.getTime()+C*ls),this.updateTimePosition(s)}}else{var k=Fe(this.actionObj.clone,"td").cellIndex,_=Math.ceil((e?this.parent.getElementWidth(this.actionObj.element):0)/this.actionObj.cellWidth)*this.actionObj.cellWidth,M=Math.ceil((this.parent.getElementWidth(this.actionObj.clone)-_)/this.actionObj.cellWidth),l=Fe(this.actionObj.clone,"tr"),H=e?k-M:k+M-1;H=this.getIndex(H),s=this.parent.getDateFromElement(l.children[parseInt(H.toString(),10)]),e?s.setHours(i.getHours(),i.getMinutes(),i.getSeconds()):s.setHours(n.getHours(),n.getMinutes(),n.getSeconds())}var j=["TimelineMonth","Year","Month","Week","WorkWeek","Date","Day"].indexOf(a)!==-1||!this.parent.activeViewOptions.timeScale.enable;if(e)n.getTime()-s.getTime()<=0&&(s=j?Ze(n):i),this.actionObj.start=j?s:this.calculateIntervalTime(s);else{var z=j&&s.getHours()===0&&s.getMinutes()===0?Zt(s,1):s;j&&z.getTime()-i.getTime()<=0&&(z=Zt(Ze(i),1)),this.actionObj.end=j?z:this.calculateIntervalTime(z)}},t.prototype.getTopBottomStyles=function(e,i){var n=this.parent.element.querySelector("."+lr),s=this.actionObj.cellHeight/this.actionObj.slotInterval*this.actionObj.interval,a=i?this.actionObj.element.offsetHeight+(this.actionObj.Y-this.actionObj.pageY):this.actionObj.element.offsetHeight+(this.actionObj.pageY-this.actionObj.Y),o=i?this.actionObj.element.offsetTop-(this.actionObj.Y-this.actionObj.pageY):this.actionObj.clone.offsetTop;a=o<0?this.actionObj.clone.offsetHeight:this.actionObj.clone.offsetTop+this.actionObj.clone.offsetHeight>this.scrollArgs.height?this.actionObj.clone.offsetHeight:a,o=o<0?0:o,o=i?Math.floor(o/s)*s:o,a=o+a>=n.scrollHeight?n.scrollHeight-o:Math.ceil(a/s)*s,!i&&this.actionObj.clone.offsetTop+a>=this.parent.getContentTable().offsetHeight&&(a=this.parent.getContentTable().offsetHeight-this.actionObj.clone.offsetTop);var l={height:bt(a<this.actionObj.cellHeight?Math.floor(a/s)*s:a),top:bt(a<this.actionObj.cellHeight&&i?Math.ceil(o/s)*s:o),left:"0px",right:"0px",width:"100%"};return l},t.prototype.getLeftRightStyles=function(e,i){var n={},s=this.parent.activeView.isTimelineView(),a=["TimelineDay","TimelineWeek","TimelineWorkWeek"].indexOf(this.parent.currentView)>-1&&this.parent.activeViewOptions.timeScale.enable,o=this.actionObj.cellWidth/this.actionObj.slotInterval*this.actionObj.interval,l=i?this.actionObj.X-this.actionObj.pageX:this.actionObj.pageX-this.actionObj.X,c=s?Math.round(this.parent.getElementWidth(this.actionObj.element)/this.actionObj.cellWidth)*this.actionObj.cellWidth:this.parent.currentView==="Month"?this.parent.getElementWidth(this.actionObj.element):Math.ceil(this.parent.getElementWidth(this.actionObj.element)/this.actionObj.cellWidth)*this.actionObj.cellWidth,u=c+Math.ceil(l/this.actionObj.cellWidth)*this.actionObj.cellWidth,d=this.parent.enableRtl?parseInt(this.actionObj.element.style.right,10):this.actionObj.clone.offsetLeft;if(d=Math.round(d/o)*o,a){if(u=c+Math.ceil(l/o)*o,!i){var p=(+parseFloat(this.actionObj.element.style[this.parent.enableRtl?"right":"left"])).toFixed(1),m=Math.round(c/o)*o;(p!==d.toFixed(1)||m!==c)&&(u=Math.round((d+u)/o)*o-d)}this.actionObj.event[this.parent.eventFields.isAllDay]=!1}var y=!i&&Math.floor(u+this.actionObj.clone.offsetLeft)>this.scrollArgs.width?this.parent.getElementWidth(this.actionObj.clone):(u<this.actionObj.cellWidth,u);if(this.parent.enableRtl){var M=s?parseInt(this.actionObj.element.style.right,10):-(u-this.actionObj.cellWidth);M=s?M:i||M>0?0:M,s&&!i&&(M=Math.round(M/o)*o,M=M-Math.ceil((this.actionObj.pageX-this.actionObj.X)/o)*o,M<0&&(M=parseInt(this.actionObj.clone.style.right,10),y=parseInt(this.actionObj.clone.style.width,10))),M=M>=this.scrollArgs.width?this.scrollArgs.width-this.actionObj.cellWidth:M,n.right=bt(M),y=y+M>this.scrollArgs.width?this.parent.getElementWidth(this.actionObj.clone):y}else{var w=i?this.actionObj.element.offsetLeft-(this.actionObj.X-this.actionObj.pageX):this.parent.enableRtl?this.actionObj.element.offsetLeft:0;s&&(w=i?w:parseInt(this.actionObj.clone.style.left,10),this.parent.enableRtl?w=i?w:this.actionObj.pageX<this.actionObj.X-this.parent.getElementWidth(this.actionObj.clone)?parseInt(this.actionObj.clone.style.right,10):w:w=i&&this.actionObj.pageX>this.actionObj.X+this.parent.getElementWidth(this.actionObj.clone)&&this.parent.getElementWidth(this.actionObj.clone)===this.actionObj.cellWidth?parseInt(this.actionObj.clone.style.left,10):w);var b=w;w=s?a?i?this.actionObj.element.offsetLeft-Math.ceil((this.actionObj.element.offsetLeft-w)/o)*o:w:Math.floor(w/this.actionObj.cellWidth)*this.actionObj.cellWidth:Math.ceil(Math.abs(w)/this.actionObj.cellWidth)*this.actionObj.cellWidth,w<0&&(s&&i&&w%o?(w=parseInt(this.actionObj.clone.style.left,10),y=parseInt(this.actionObj.clone.style.width,10)):(w=0,y=this.parent.getElementWidth(this.actionObj.clone)));var D=Math.ceil(this.parent.getElementWidth(this.actionObj.clone)/this.actionObj.cellWidth)*this.actionObj.cellWidth;i&&(n.left=bt(s?w:i?b<0?-w:Math.ceil((c-D)/this.actionObj.cellWidth)*this.actionObj.cellWidth:w))}return y=Math.floor(y),n.width=bt(y),n},t.prototype.resizeValidation=function(e){var i=this.parent.eventBase.getPageCoordinates(e),n=this.getContentAreaDimension(),s=this.parent.activeView.isTimelineView()&&this.parent.activeViewOptions.timeScale.enable,a=this.actionObj.cellWidth,o=!1;return this.resizeEdges.left&&(i.pageX<n.leftOffset&&i.pageX>=n.left&&s&&(a=0),o=i.pageX-a>=n.left),this.resizeEdges.right&&(i.pageX>n.rightOffset&&i.pageX<=n.right&&s&&(a=0),o=i.pageX+a<=n.right),this.resizeEdges.top&&(o=this.actionObj.clone.offsetTop>=n.top),this.resizeEdges.bottom&&(o=this.actionObj.clone.offsetTop+this.actionObj.clone.offsetHeight<=this.scrollArgs.height),o},t.prototype.getModuleName=function(){return"resize"},t})(QK),eEe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),A0=2,tEe=(function(r){eEe(t,r);function t(e){var i=r.call(this,e,"day")||this;return i.isResource=!1,i}return t.prototype.renderAppointments=function(){this.parent.dragAndDropModule&&this.parent.dragAndDropModule.setDragArea(),this.fields=this.parent.eventFields;for(var e=this.parent.currentView==="Year"?"."+ci+" ."+Ni:"."+kn+",."+Gl,i=[].slice.call(this.parent.element.querySelectorAll(e)),n=0,s=i;n<s.length;n++){var a=s[n];ji(a)}this.renderedEvents=[],this.parent.currentView==="Year"?this.yearViewEvents():(this.removeCellHeight(),this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?(this.isResource=!0,this.timelineResourceEvents()):this.timelineYearViewEvents()),this.parent.renderTemplates(),this.parent.notify(Mc,{})},t.prototype.yearViewEvents=function(){for(var e=this.getMonths(),i=0,n=e;i<n.length;i++)for(var s=n[i],a=".e-month-calendar:nth-child("+(e.indexOf(s)+1)+") td.e-work-cells",o=[].slice.call(this.parent.element.querySelectorAll(a)),l=new Date(this.parent.selectedDate.getFullYear(),s,1),c=this.parent.calendarUtil.getMonthStartDate(new Date(l.getTime())),u=this.parent.calendarUtil.getMonthEndDate(new Date(l.getTime())),d=dh(c,this.parent.activeViewOptions.firstDayOfWeek),p=Zt(WO(u,this.parent.activeViewOptions.firstDayOfWeek),1),m=0;d.getTime()<p.getTime();m++){var y=Ze(new Date(d.getTime())),M=Zt(new Date(y.getTime()),1);if(d=Zt(new Date(d.getTime()),1),!!this.parent.isMinMaxDate(y)){var w=this.parent.eventBase.filterEvents(y,M);if(w.length>0){var b=o[parseInt(m.toString(),10)];b&&b.appendChild(Be("div",{className:Ni}))}}}},t.prototype.timelineYearViewEvents=function(){var e=this,i=this.parent.element.querySelector("."+ci+":not(."+Ps+")");this.cellWidth=this.parent.getElementWidth(i),this.cellHeader=qj(i.querySelector("."+hT));var n=this.parent.element.querySelector("."+wg);this.eventHeight=this.parent.getElementHeightFromClass(n,Ni);var s="."+A4+" tbody tr,."+Tg+" tbody tr,."+_n+" tbody tr";this.addCellHeight(s,this.eventHeight,A0,this.cellHeader,this.moreIndicatorHeight);for(var a=[].slice.call(this.parent.element.querySelectorAll("."+Dp)),o=this.getMonths(),l=this.parent.activeViewOptions.group.resources.length>0&&this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:void 0,c=0;c<o.length;c++){var u=a[parseInt(c.toString(),10)],d=c+1,p=Be("div",{className:kn});u.appendChild(p);var m=new Date(this.parent.selectedDate.getFullYear(),o[parseInt(c.toString(),10)],1),y=new Date(m.getFullYear(),m.getMonth()+1,0),M=m.getDay(),w=[];for(this.parent.activeViewOptions.orientation==="Horizontal"&&(this.renderedEvents=[]);m.getTime()<=y.getTime();){var b=void 0,D=void 0;if(this.parent.activeViewOptions.orientation==="Vertical"){var E=a[parseInt(M.toString(),10)];d=M+1,p=E.querySelector("."+kn),p||(p=Be("div",{className:kn}),E.appendChild(p)),this.parent.enableRtl?D=c*this.cellWidth:b=c*this.cellWidth}else this.parent.enableRtl?D=(M+m.getDate()-1)*this.cellWidth:b=(M+m.getDate()-1)*this.cellWidth;var N=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+d+") td");this.cellHeight=N.offsetHeight;var B=Ze(new Date(m.getTime())),P=Zt(new Date(B.getTime()),1),C=void 0;this.parent.uiStateValues.isGroupAdaptive&&(C=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]);var k=this.parent.eventBase.filterEvents(B,P,void 0,C);k=this.parent.eventBase.sortByDateTime(k);for(var _=function(J,U){var W=qe({},k[parseInt(J.toString(),10)],null,!0);H.updateSpannedEvents(W,B,P);var re=H.getIndex(B);W.Index=re;var Z=H.cellHeader+H.eventHeight*(re+1)+A0+H.moreIndicatorHeight,Ee=H.cellHeight-H.cellHeader-H.moreIndicatorHeight,ae=Math.floor(Ee/(H.eventHeight+A0)),L=H.parent.rowAutoHeight?1:H.parent.activeViewOptions.maxEventsPerRow,Y=H.parent.activeViewOptions.maxEventsPerRow?U-L:U-ae<=0?1:U-ae;if(H.parent.activeViewOptions.orientation==="Horizontal"){var G=H.renderedEvents.filter(function(le){return le.Guid===W.Guid}),Q=w.filter(function(le){return le.Guid===W.Guid});if(G.length>0&&G[0].MoreIndicator||Q.length>0&&Q[0].MoreIndicator){var te=H.parent.activeViewOptions.orientation==="Horizontal"?c:M;return H.renderMoreIndicator(p,Y,B,te,b,D,l),"continue"}else if(G.length>0||Q.length>0)return"continue"}if(H.maxHeight&&H.parent.currentView.indexOf("Timeline")!==-1&&re>0)return"continue";if(H.parent.rowAutoHeight||H.shouldRenderAppointment(re,Z))H.renderEvent(p,W,c,b,D,m,M),(H.parent.rowAutoHeight||H.cellHeight>Z)&&H.updateCellHeight(N,Z),w.push(W);else{var te=H.parent.activeViewOptions.orientation==="Horizontal"?c:M;H.renderMoreIndicator(p,Y,B,te,b,D,l),H.parent.activeViewOptions.orientation==="Horizontal"&&(W.MoreIndicator=!0,H.renderedEvents.push(W),w.push(W))}},H=this,j=0,z=k.length;j<z;j++)_(j,z);m=Zt(new Date(m.getTime()),1),this.parent.activeViewOptions.orientation==="Vertical"&&(M++,this.renderedEvents=[])}}if(this.parent.rowAutoHeight&&this.parent.activeViewOptions.orientation==="Vertical"){var F=[].slice.call(this.parent.element.querySelectorAll("."+Dp)),X=[].slice.call(this.parent.element.querySelectorAll("."+_n+" tbody tr"));F.forEach(function(J,U){var W=[].slice.call(J.querySelectorAll("."+Ni)),re=X[parseInt(U.toString(),10)].offsetTop+e.cellHeader+A0;W.forEach(function(Z){var Ee=parseInt(Z.getAttribute("data-index"),10);Z.style.top=re+Ee*e.eventHeight+"px",Z.removeAttribute("data-index")})})}},t.prototype.updateSpannedEvents=function(e,i,n){var s=this.isResource&&this.parent.activeViewOptions.orientation==="Vertical"||!this.isResource&&this.parent.activeViewOptions.orientation==="Horizontal",a={isLeft:!0,isRight:!0,isBottom:!0,isTop:!0};i.getTime()<=e[this.fields.startTime].getTime()&&(s?a.isLeft=!1:a.isTop=!1),(n.getTime()>=e[this.fields.endTime].getTime()||s&&!this.isResource&&Zt(n,-1).getMonth()===e[this.fields.endTime].getMonth()||s&&this.isResource&&n.getTime()<=e[this.fields.endTime].getTime())&&(s?a.isRight=!1:a.isBottom=!1),e.data=a},t.prototype.timelineResourceEvents=function(){var e=this,i=this.parent.element.querySelector("."+lr),n=i.offsetWidth>i.clientWidth,s=this.parent.element.querySelector("."+ci);this.cellWidth=this.parent.getElementWidth(s),this.cellHeader=0;var a=this.parent.element.querySelector("."+wg);this.eventHeight=this.parent.getElementHeightFromClass(a,Ni);var o="."+A4+" tbody tr,."+Tg+" tbody tr,."+_n+" tbody tr";this.addCellHeight(o,this.eventHeight,A0,this.cellHeader,this.moreIndicatorHeight);var l=[].slice.call(this.parent.element.querySelectorAll("."+Dp)),c=this.parent.uiStateValues.isGroupAdaptive?[this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]]:this.parent.activeViewOptions.allowVirtualScrolling?this.parent.resourceBase.renderedResources:this.parent.resourceBase.lastResourceLevel,u=this.getMonths();if(this.parent.activeViewOptions.orientation==="Horizontal")for(var d=0;d<u.length;d++)for(var p=new Date(this.parent.selectedDate.getFullYear(),u[parseInt(d.toString(),10)],1),m=0,y=c.length;m<y;m++)this.renderedEvents=[],this.renderResourceEvent(l[parseInt(d.toString(),10)],c[parseInt(m.toString(),10)],d,m,p);else for(var m=0,y=c.length;m<y;m++){this.renderedEvents=[];for(var d=0;d<u.length;d++){var p=new Date(this.parent.selectedDate.getFullYear(),u[parseInt(d.toString(),10)],1);this.renderResourceEvent(l[parseInt(m.toString(),10)],c[parseInt(m.toString(),10)],d,m,p)}}if(this.parent.rowAutoHeight&&!n&&i.offsetWidth>i.clientWidth){var M=[].slice.call(this.parent.element.querySelectorAll("."+Ni));M.forEach(function(E){E.style.removeProperty("left"),E.style.removeProperty("right")});var w=[].slice.call(this.parent.element.querySelectorAll("."+Dp)),b=this.parent.element.querySelector("."+_n),D=[].slice.call(b.querySelectorAll("tbody tr"));w.forEach(function(E,N){var B=[].slice.call(E.children),P=D[parseInt(N.toString(),10)];B.forEach(function(C,k){var _=P.querySelector("td:nth-child("+(k+1)+")"),H=[].slice.call(C.children),j=e.parent.getElementWidth(_),z=_.offsetLeft;if(e.parent.enableRtl){var F=b.offsetWidth-z-_.offsetWidth;H.forEach(function(X){X.style.width=Math.floor(parseInt(X.style.width,10)/j)*j+"px",X.style.right=F+"px"})}else H.forEach(function(X){X.style.width=Math.floor(parseInt(X.style.width,10)/j)*j+"px",X.style.left=z+"px"})})})}},t.prototype.shouldRenderAppointment=function(e,i){var n=this.parent.rowAutoHeight?1:this.parent.activeViewOptions.maxEventsPerRow;return this.parent.activeViewOptions.maxEventsPerRow&&!this.parent.rowAutoHeight&&!this.parent.eventSettings.enableIndicator?e<n:this.maxOrIndicator?e<1:this.cellHeight>i},t.prototype.renderResourceEvent=function(e,i,n,s,a){var o=Be("div",{className:kn});e.appendChild(o);var l=Zt(B1(new Date(a.getTime())),1),c=this.parent.eventBase.filterEvents(a,l,void 0,i),u=this.parent.activeViewOptions.orientation==="Vertical"?s:n,d=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+(u+1)+") td");this.cellHeight=d.offsetHeight,this.groupOrder=i.groupOrder;for(var p=[],m=function(b){var D=c[parseInt(b.toString(),10)],E=void 0,N=qe({},D,null,!0);if(y.parent.activeViewOptions.group.resources.length>0){var B=y.isSpannedEvent(N,a);E=y.getIndex(B[y.fields.startTime]),N.Index=E}else E=y.getIndex(N[y.fields.startTime]),N.Index=E;var P=y.cellHeader+y.eventHeight*(b+1)+A0+y.moreIndicatorHeight,C=y.parent.activeViewOptions.orientation==="Vertical"?n*y.cellWidth:s*y.cellWidth;if(!y.parent.isMinMaxDate(N[y.fields.startTime]))return{value:void 0};if(y.parent.activeViewOptions.orientation==="Vertical"&&y.parent.activeViewOptions.group.resources.length>0){var k=y.renderedEvents.filter(function(z){return z.Guid===N.Guid}),_=p.filter(function(z){return z.Guid===N.Guid});if(k.length>0||_.length>0)return"continue"}if(y.maxHeight&&y.parent.currentView.indexOf("Timeline")!==-1&&E>0)return"continue";if(y.parent.rowAutoHeight||y.shouldRenderAppointment(E,P))y.renderEvent(o,N,n,C,C,a,s),y.updateCellHeight(d,P),p.push(N);else{var H=y.parent.activeViewOptions.orientation==="Horizontal"?n:s;if(y.renderMoreIndicator(o,c.length-b,a,H,C,C,s),y.parent.activeViewOptions.orientation==="Horizontal")for(var j=s;j<c.length;j++)y.renderedEvents.push(qe({},c[parseInt(j.toString(),10)],{Index:E+j},!0));return"break"}},y=this,M=0;M<c.length;M++){var w=m(M);if(typeof w=="object")return w.value;if(w==="break")break}},t.prototype.setMaxEventHeight=function(e,i){var n=i.offsetHeight-this.cellHeader-(this.maxHeight?0:this.moreIndicatorHeight);ui(e,{height:n+"px","align-items":"center"})},t.prototype.renderEvent=function(e,i,n,s,a,o,l){var c=this,u=this.isSpannedEvent(i,o),d=this.createEventElement(u),p,m;if(u.isSpanned.count===1){var y=Zt(u[this.fields.endTime],-1);u[this.fields.endTime]=y>u[this.fields.startTime]?y:u[this.fields.endTime]}if(!(u[this.fields.startTime]>u[this.fields.endTime])){this.parent.activeViewOptions.orientation==="Horizontal"?(m=n+1,u[this.fields.startTime].getTime()===u[this.fields.endTime].getTime()&&(u.isSpanned.count=1),p=u.isSpanned.count*this.cellWidth):(m=l+1,p=this.isResource?u.isSpanned.count*this.cellWidth:this.cellWidth);var M=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+m+") td"),w=M.offsetTop+this.cellHeader+this.eventHeight*u.Index+A0;ui(d,{width:p+"px",height:this.eventHeight+"px",left:s+"px",right:a+"px",top:w+"px"}),this.maxOrIndicator&&this.parent.currentView.indexOf("Timeline")!==-1&&this.setMaxEventHeight(d,M),!this.isResource&&this.parent.rowAutoHeight&&this.parent.activeViewOptions.orientation==="Vertical"&&d.setAttribute("data-index",u.Index.toString());var b={data:u,element:d,cancel:!1,type:"event"};this.parent.trigger(P1,b,function(D){D.cancel||(e.appendChild(d),c.wireAppointmentEvents(d,u),c.parent.activeViewOptions.group.resources.length>0?c.renderedEvents.push(qe({},u,null,!0)):c.parent.activeViewOptions.orientation==="Vertical"?c.renderedEvents.push(qe({},u,null,!0)):((u.isSpanned.isRight||u.isSpanned.isLeft)&&c.parent.activeViewOptions.orientation==="Horizontal"||!u.isSpanned.isRight)&&c.renderedEvents.push(qe({},u,null,!0)))})}},t.prototype.renderMoreIndicator=function(e,i,n,s,a,o,l){if(!(this.parent.activeViewOptions.group.resources.length===0&&e.querySelector('[data-start-date="'+n.getTime()+'"]'))){var c;this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive?c=Zt(B1(new Date(n.getTime())),1):c=Zt(new Date(n.getTime()),1);var u=this.getMoreIndicatorElement(i,n,c),d=this.parent.element.querySelector(".e-content-wrap tr:nth-child("+(s+1)+")"),p=d.offsetTop+(this.cellHeight-this.moreIndicatorHeight);a=Math.floor(a/this.cellWidth)*this.cellWidth,o=Math.floor(o/this.cellWidth)*this.cellWidth,ui(u,{width:this.cellWidth+"px",left:a+"px",right:o+"px",top:p+"px"}),v(l)||u.setAttribute("data-group-index",l.toString()),e.appendChild(u),se.add(u,"click",this.moreIndicatorClick,this)}},t.prototype.createEventElement=function(e){var i=e[this.fields.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),n=Be("div",{className:Ni,attrs:{"data-id":"Appointment_"+e[this.fields.id],"data-guid":e.Guid,role:"button",tabindex:"0","aria-disabled":this.parent.eventBase.getReadonlyAttribute(e),"aria-label":this.parent.getAnnouncementString(e)}});if(this.cssClass&&pe([n],this.cssClass),e[this.fields.isReadonly]&&pe([n],Dw),this.parent.activeViewOptions.group.resources.length>0){var s=this.getGroupIndexFromEvent(e);n.setAttribute("data-group-index",s.toString())}var a=[],o=qe({},e,null,!0);if(this.parent.activeViewOptions.eventTemplate){var l=this.parent.element.id+"_"+this.parent.activeViewOptions.eventTemplateName+"eventTemplate";a=this.parent.getAppointmentTemplate()(o,this.parent,"eventTemplate",l,!1,void 0,void 0,this.parent.root)}else{var c=e[this.fields.location]||this.parent.eventSettings.fields.location.default||"",u=Be("div",{className:Bs,innerHTML:i+(c?";&nbsp"+c:"")}),d=Be("div",{className:tf+(this.parent.isAdaptive?" "+hn:""),innerHTML:this.parent.getTimeString(o[this.fields.startTime])}),p=Be("div",{className:tf+(this.parent.isAdaptive?" "+hn:""),innerHTML:this.parent.getTimeString(o[this.fields.endTime])});pe([u],"e-text-center"),e[this.fields.isAllDay]?a=[u]:!o.isLeft&&!o.isRight?a=[d,u,p]:(o.isLeft||a.push(d),a.push(u),o.isRight||a.push(p))}var m=Be("div",{className:LN});return ri(a,m),n.appendChild(m),this.parent.eventBase.renderSpannedIcon(n,e.isSpanned),this.renderResizeHandler(n,e.data,e[this.fields.isReadonly]),this.applyResourceColor(n,o,"backgroundColor",this.groupOrder),n},t.prototype.isSpannedEvent=function(e,i){var n=new Date(i.getFullYear(),i.getMonth(),1),s=Zt(new Date(i.getFullYear(),i.getMonth()+1,0),1),a=qe({},e,null,!0),o=a[this.fields.startTime],l=a[this.fields.endTime],c={isLeft:!1,isRight:!1,count:1},u=new Date(this.parent.selectedDate.getFullYear(),this.parent.firstMonthOfYear,1),d=cg(u,this.parent.monthsCount);if(this.isResource&&this.updateSpannedEvents(e,n,s),this.parent.activeViewOptions.orientation==="Vertical"&&this.parent.activeViewOptions.group.resources.length>0){this.updateSpannedEventDetails(o,l,u,d,a,c);var p=a[this.fields.startTime],m=new Date(a[this.fields.endTime]-1);c.count=m.getMonth()-p.getMonth()+this.parent.monthsCount*(m.getFullYear()-p.getFullYear())+1}else if(this.updateSpannedEventDetails(o,l,n,s,a,c),this.parent.activeViewOptions.group.resources.length===0||this.parent.uiStateValues.isGroupAdaptive){var y=Ze(a[this.fields.endTime]).getTime(),M=Ze(a[this.fields.startTime]).getTime();(e[this.fields.isAllDay]&&y===e[this.fields.endTime].getTime()||c.isRight)&&(y=Zt(new Date(y),-1).getTime()),c.count=Math.round((y-M)/cs)+1}return a.isSpanned=c,Ze(o).getTime()<Ze(this.parent.minDate).getTime()&&(a[this.fields.startTime]=this.parent.minDate),Ze(l).getTime()>Ze(this.parent.maxDate).getTime()&&(a[this.fields.endTime]=this.parent.maxDate),a},t.prototype.updateSpannedEventDetails=function(e,i,n,s,a,o){e.getTime()<n.getTime()&&(a[this.fields.startTime]=n,o.isLeft=!0),i.getTime()>s.getTime()&&(a[this.fields.endTime]=s,o.isRight=!0)},t.prototype.getOverlapEvents=function(e,i){var n=[],s,a;if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var o=this.parent.calendarUtil.getMonthStartDate(new Date(e.getTime())),l=Zt(this.parent.calendarUtil.getMonthEndDate(new Date(e.getTime())),-1);s=Ze(new Date(o.getTime())).getTime(),a=Ze(new Date(l.getTime())).getTime()}else this.parent.rowAutoHeight?(s=Ze(new Date(e.getTime())).getTime(),a=Zt(Ze(new Date(e.getTime())),1).getTime()):s=a=Ze(new Date(e.getTime())).getTime();for(var c=0,u=i;c<u.length;c++){var d=u[c],p=new Date(d[this.fields.startTime].getTime()),m=new Date(d[this.fields.endTime].getTime()),y=d[this.fields.isAllDay]?Ze(m).getTime()>s||Ze(m).getTime()===s&&m.getTime()!==Ze(m).getTime():Ze(m).getTime()>=s;(Ze(p).getTime()<=s&&y||Ze(p).getTime()>=s&&Ze(m).getTime()<=a||this.parent.activeViewOptions.orientation==="Vertical"&&Ze(p).getTime()>=s&&Ze(m).getTime()>=a)&&n.push(d)}return n},t.prototype.getMonths=function(){var e=this;return Array.apply(null,{length:this.parent.monthsCount}).map(function(i,n){return e.parent.firstMonthOfYear+n})},t.prototype.removeCellHeight=function(){for(var e="."+A4+" tbody tr,."+Tg+" tbody tr,."+_n+" tbody tr",i=[].slice.call(this.element.querySelectorAll(e)),n=0,s=i;n<s.length;n++){var a=s[n];a.firstElementChild.style.height=""}},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.parent=null},t})(xS),iEe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),P8=1440,rEe=(function(r){iEe(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.widthUptoCursorPoint=0,e.heightUptoCursorPoint=0,e.cursorPointIndex=0,e.isHeaderRows=!1,e.isTimelineDayProcess=!1,e.widthPerMinute=0,e.heightPerMinute=0,e.minDiff=0,e.isStepDragging=!1,e.isMorePopupOpened=!1,e.isAllDayDrag=!1,e.isMultiSelect=!1,e.multiData=[],e.updatedData=[],e.swagData=[],e.startTime=0,e.isAllDayTarget=!1,e.targetTd=null,e.isCursorAhead=!1,e.enableCurrentViewDrag=!1,e.isPreventMultiDrag=!1,e.slotsUptoCursor=-1,e.eleTop=0,e.distanceUptoCursor=0,e}return t.prototype.wireDragEvent=function(e){new tL(e,{abort:"."+dT+", ."+Aw,clone:!0,isDragScroll:!0,enableTailMode:!!this.parent.eventDragArea,cursorAt:this.parent.eventDragArea?{left:-20,top:-20}:{left:0,top:0},dragArea:this.dragArea,dragStart:this.dragStart.bind(this),drag:this.drag.bind(this),dragStop:this.dragStop.bind(this),enableAutoScroll:!1,helper:this.dragHelper.bind(this),queryPositionInfo:this.dragPosition.bind(this)})},t.prototype.setDragArea=function(){var e=document.querySelector(this.parent.eventDragArea);this.dragArea=this.parent.eventDragArea&&e?e:this.parent.element.querySelector("."+_n)},t.prototype.dragHelper=function(e){var i=this;if(e.sender&&e.sender.type==="touchmove"&&(!this.parent.uiStateValues.isTapHold||!e.element.classList.contains(ng)))return null;if(this.setDragActionDefaultValues(),this.actionObj.element=e.element,e.sender&&["Day","Week","WorkWeek"].indexOf(this.parent.currentView)>-1){var n=this.parent.eventBase.getPageCoordinates(e.sender);this.distanceUptoCursor=n.clientY-this.actionObj.element.getBoundingClientRect().top,this.eleTop=parseFloat(this.actionObj.element.style.top),this.slotsUptoCursor=-1}this.actionObj.action="drag";var s=[];return!this.parent.allowMultiDrag||v(this.parent.selectedElements)||this.parent.selectedElements.length===0||this.parent.selectedElements.length>0&&this.parent.selectedElements.indexOf(this.actionObj.element)===-1?s=[e.element]:(s=this.parent.selectedElements,this.isMultiSelect=!0),s.forEach(function(a){var o=i.createCloneElement(a);a.getAttribute("data-guid")===i.actionObj.element.getAttribute("data-guid")&&(i.actionObj.clone=o,!i.parent.eventDragArea&&i.parent.currentView!=="Month"&&i.parent.activeViewOptions.timeScale.enable&&!i.parent.activeView.isTimelineView()&&!i.actionObj.element.classList.contains(qo)&&ui(i.actionObj.clone,{cursor:"move",left:"0%",right:"0%",width:"100%"}),i.actionObj.clone.style.top=bt(i.actionObj.element.offsetTop)),i.actionObj.cloneElement.push(o),i.actionObj.originalElement.push(a)}),this.actionObj.clone},t.prototype.dragPosition=function(e){if(this.parent.eventDragArea)return{left:e.left,top:e.top};var i=this.actionObj.cellHeight/this.actionObj.slotInterval*this.actionObj.interval,n=bt(0);this.parent.currentView==="Month"&&(n=e.left);var s;this.isStepDragging?s=Math.ceil(this.actionObj.clone.getBoundingClientRect().right)+this.actionObj.interval:s=this.actionObj.clone.getBoundingClientRect().right;var a=this.parent.element.querySelector("."+lr),o=a.getBoundingClientRect().right;this.parent.activeView.isTimelineView()&&this.parent.currentView!=="TimelineYear"&&!this.parent.enableRtl&&this.actionObj.pageX>s&&!this.isMorePopupOpened&&!(this.actionObj.pageX>o)&&(this.isCursorAhead=!0),this.parent.activeView.isTimelineView()&&(n=bt(this.actionObj.clone.offsetLeft));var l;if(this.parent.activeView.isTimelineView()||!this.parent.timeScale.enable||!v(this.actionObj.clone.offsetParent)&&this.actionObj.clone.offsetParent.classList.contains(Q0))l=bt(this.actionObj.clone.offsetTop);else if(this.parent.currentView==="Month")l=bt(0);else if(this.actionObj.clone.classList.contains(qo))l=bt(this.parent.element.querySelector("."+ef).offsetTop),ui(this.actionObj.clone,{width:bt(Math.ceil(this.actionObj.clone.offsetWidth/this.actionObj.cellWidth)*this.actionObj.cellWidth),right:this.parent.enableRtl&&bt(0)});else{this.actionObj.element.classList.contains(qo)&&!this.actionObj.clone.classList.contains(qo)&&ui(this.actionObj.clone,{height:bt(this.actionObj.cellHeight),width:bt(this.actionObj.cellWidth-1),pointerEvents:"none"});var c=parseInt(e.top,10);if(c=c<0?0:c,this.slotsUptoCursor<0){var u=Math.floor((this.eleTop+this.distanceUptoCursor)/i),d=Math.floor(this.eleTop/i);this.slotsUptoCursor=u-d}c=(Math.floor((c+this.distanceUptoCursor+1)/i)-this.slotsUptoCursor)*i,l=bt(c<0?0:c);var p=this.parent.element.querySelector(".e-content-wrap").scrollHeight,m=parseInt(l,10)+this.actionObj.clone.offsetHeight;m>p&&(l=parseInt(l,10)-(m-p)+"px"),this.isPreventMultiDrag&&(l=bt(this.actionObj.clone.offsetTop))}return{left:n,top:l}},t.prototype.setDragActionDefaultValues=function(){this.actionObj.action="drag",this.actionObj.isAllDay=null,this.actionObj.slotInterval=this.parent.activeViewOptions.timeScale.interval/this.parent.activeViewOptions.timeScale.slotCount,this.actionObj.interval=this.actionObj.slotInterval;var e=this.parent.element.querySelector("."+ci);this.actionObj.cellWidth=e.offsetWidth,this.actionObj.cellHeight=e.offsetHeight},t.prototype.dragStart=function(e){var i=this,n=this.actionObj.element.getAttribute("data-guid");this.actionObj.event=this.parent.eventBase.getEventByGuid(n);var s=qe({},this.actionObj.event,null,!0);v(s)||(this.startTime=s[this.parent.eventFields.startTime].getTime()),this.parent.allowMultiDrag||this.parent.eventBase.removeSelectedAppointmentClass();var a={cancel:!1,data:s,selectedData:this.getSelectedData(),event:e,excludeSelectors:null,element:this.actionObj.element,interval:this.actionObj.interval,navigation:{enable:!1,timeDelay:2e3},scroll:{enable:!0,scrollBy:30,timeDelay:100}};this.parent.trigger(awe,a,function(o){if(o.cancel||!v(i.actionObj.element)&&v(i.actionObj.element.parentElement)){var l=i.actionObj.element.ej2_instances[0];v(l)||l.intDestroy(e.event),i.isMultiSelect=!1,i.multiData=[],i.actionObj.action="",i.removeCloneElementClasses(),i.removeCloneElement();return}i.actionClass("addClass"),i.parent.uiStateValues.action=!0,i.actionObj.start=s[i.parent.eventFields.startTime],i.actionObj.end=s[i.parent.eventFields.endTime],i.actionObj.groupIndex=parseInt(i.actionObj.element.getAttribute("data-group-index")||"0",10),i.actionObj.interval=o.interval,i.actionObj.navigation=o.navigation,i.actionObj.scroll=o.scroll,i.enableCurrentViewDrag=a.dragWithinRange&&!a.navigation.enable&&i.parent.allowMultiDrag,i.actionObj.excludeSelectors=o.excludeSelectors;var c=i.parent.element.querySelector("."+lr);if(i.scrollArgs={element:c,width:c.scrollWidth,height:c.scrollHeight},i.widthPerMinute=i.actionObj.cellWidth/i.actionObj.slotInterval*i.actionObj.interval,i.heightPerMinute=i.actionObj.cellHeight/i.actionObj.slotInterval*i.actionObj.interval,i.widthUptoCursorPoint=0,i.heightUptoCursorPoint=0,i.cursorPointIndex=-1,i.isHeaderRows=!1,i.isTimelineDayProcess=!1,i.minDiff=0,i.isMorePopupOpened=!1,i.daysVariation=-1,i.isAllDayTarget=i.actionObj.clone.classList.contains(qo),(i.parent.activeView.isTimelineView()||!i.parent.timeScale.enable)&&i.parent.currentView!=="TimelineYear"){!v(i.actionObj.clone.offsetParent)&&i.actionObj.clone.offsetParent.classList.contains(Q0)&&(i.isMorePopupOpened=!0),i.actionObj.pageX=e.event.pageX;var u=i.parent.activeViewOptions.headerRows;i.isHeaderRows=u.length>0&&u[u.length-1].option!=="Hour"&&u[u.length-1].option!=="Date",i.isTimelineDayProcess=!i.parent.activeViewOptions.timeScale.enable||i.isHeaderRows||i.parent.currentView==="TimelineMonth"||u.length>0&&u[u.length-1].option==="Date",i.isAllDayDrag=!i.isTimelineDayProcess&&s[i.parent.eventFields.isAllDay],i.isStepDragging=!i.isTimelineDayProcess&&!i.isAllDayDrag&&i.actionObj.slotInterval!==i.actionObj.interval,i.isTimelineDayProcess?i.timelineEventModule=new xS(i.parent,"day"):i.timelineEventModule=new xS(i.parent,"hour")}if(i.parent.currentView==="TimelineYear"&&(i.yearEvent=new tEe(i.parent)),i.parent.currentView==="Month"&&(i.startTime=Ze(new Date(i.startTime)).getTime(),i.updateOriginalElement(i.actionObj.clone),i.monthEvent=new ex(i.parent)),i.parent.currentView==="Day"||i.parent.currentView==="Week"||i.parent.currentView==="WorkWeek"){i.verticalEvent=new o3(i.parent),i.verticalEvent.initializeValues();var d=i.splitEvent(i.actionObj.event);d.forEach(function(p){var m='.e-day-wrapper[data-date="'+Ze(p[i.parent.eventFields.startTime]).getTime()+'"]';i.parent.activeViewOptions.group.resources.length>0&&(m=m.concat('[data-group-index = "'+i.actionObj.groupIndex+'"]'));var y=i.parent.element.querySelector(m);if(y){var M=y.querySelector('[data-id="'+i.actionObj.clone.getAttribute("data-id")+'"]');M&&pe([M],qd)}})}})},t.prototype.getSelectedData=function(){if(this.isMultiSelect&&this.multiData.length===0&&this.parent.selectedElements.length>0)for(var e=0,i=this.parent.selectedElements;e<i.length;e++){var n=i[e],s=n.getAttribute("data-guid"),a=this.parent.eventBase.getEventByGuid(s);this.multiData.push(qe({},a,null,!0))}return this.multiData},t.prototype.drag=function(e){if(e.event&&e.event.type==="touchmove"&&e.event.preventDefault(),this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(!0),!(!v(e.target)&&e.target.classList&&e.target.classList.contains(mT))){var i=qe({},this.actionObj.event,null,!0),n=this.parent.eventBase.getPageCoordinates(e);if(this.actionObj.Y=this.actionObj.pageY=n.pageY,this.actionObj.X=this.actionObj.pageX=n.pageX,this.actionObj.target=e.target,this.widthUptoCursorPoint=this.widthUptoCursorPoint===0?Math.ceil(Math.abs(this.actionObj.clone.getBoundingClientRect().left-this.actionObj.X)/this.widthPerMinute)*this.widthPerMinute:this.widthUptoCursorPoint,this.widthUptoCursorPoint=this.isMorePopupOpened?this.actionObj.cellWidth:this.widthUptoCursorPoint,this.heightUptoCursorPoint=this.heightUptoCursorPoint===0?Math.ceil(Math.abs(this.actionObj.clone.getBoundingClientRect().top-this.actionObj.Y)/this.heightPerMinute)*this.heightPerMinute:this.heightUptoCursorPoint,["Day","Week","WorkWeek"].indexOf(this.parent.currentView)>-1&&(this.isAllDayDrag=this.parent.activeViewOptions.timeScale.enable?this.actionObj.clone.classList.contains(qo):this.actionObj.event[this.parent.eventFields.isAllDay]),this.isStepDragging&&this.minDiff===0&&this.calculateMinutesDiff(i),(this.parent.currentView==="Month"||this.isAllDayDrag)&&this.daysVariation<0){var s=this.parent.getDateFromElement(this.actionObj.target);if(v(s))this.daysVariation=0;else{var a=Ze(s),o=Ze(new Date(i[this.parent.eventFields.startTime].getTime()));this.daysVariation=(a.getTime()-o.getTime())/cs}}else this.daysVariation=0;if(this.parent.eventDragArea){var l=n.target;this.actionObj.clone.style.top=bt(l.offsetTop),this.actionObj.clone.style.left=bt(l.offsetLeft);var c=Fe(l,"."+nS);c?this.parent.currentView==="Week"||this.parent.currentView==="WorkWeek"||this.parent.currentView==="Day"||(this.actionObj.clone.style.width=bt(this.actionObj.element.offsetWidth)):(this.actionObj.clone.style.height="",this.actionObj.clone.style.width="")}this.updateScrollPosition(e),this.updateNavigatingPosition(e),this.updateDraggingDateTime(e);var u={data:i,event:e,element:this.actionObj.element,startTime:this.actionObj.start,endTime:this.actionObj.end,selectedData:this.updatedData};this.parent.group.resources.length>0&&(u.groupIndex=this.actionObj.groupIndex),this.parent.trigger(owe,u)}},t.prototype.calculateMinutesDiff=function(e){this.parent.enableRtl?this.minDiff=(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint)/this.widthPerMinute*this.actionObj.interval:this.minDiff=this.widthUptoCursorPoint/this.widthPerMinute*this.actionObj.interval;var i=e[this.parent.eventFields.startTime],n=this.parent.activeView.renderDates[0],s=fc(n,this.parent.activeView.getStartHour(),this.parent.activeView.getEndHour());s.startHour.getTime()>i.getTime()&&(this.minDiff=this.minDiff+(s.startHour.getTime()-i.getTime())/ls)},t.prototype.dragStop=function(e){var i=this;if(this.isCursorAhead=!1,this.isPreventMultiDrag=!1,this.removeCloneElementClasses(),this.removeCloneElement(),clearInterval(this.actionObj.navigationInterval),this.actionObj.navigationInterval=null,clearInterval(this.actionObj.scrollInterval),this.actionObj.scrollInterval=null,this.actionClass("removeClass"),this.parent.uiStateValues.action=this.parent.uiStateValues.isTapHold=!1,!this.isAllowDrop(e)){var n=e.target.classList&&!e.target.classList.contains("e-work-cells")&&this.parent.cellTemplate?Fe(e.target,".e-work-cells"):e.target,s={cancel:!1,data:this.getChangedData(this.updatedData),selectedData:this.updatedData,event:e,element:this.actionObj.element,target:n};this.actionObj.action=null,this.parent.trigger(lwe,s,function(a){if(!a.cancel&&!i.parent.eventBase.checkOverlap(a.data)){if(i.parent.isSpecificResourceEvents()){i.parent.crudModule.crudObj.isCrudAction=!0,i.parent.crudModule.crudObj.sourceEvent=[i.parent.resourceBase.lastResourceLevel[parseInt(s.element.getAttribute("data-group-index"),10)]];var o=parseInt(s.target.getAttribute("data-group-index"),10)||i.actionObj.groupIndex;i.parent.crudModule.crudObj.targetEvent=[i.parent.resourceBase.lastResourceLevel[parseInt(o.toString(),10)]]}i.saveChangedData(a,i.isMultiSelect)}}),this.updatedData=[],this.multiData=[],this.isMultiSelect=!1,this.parent.selectedElements=[]}},t.prototype.updateNavigatingPosition=function(e){var i=this;if(this.actionObj.navigation.enable){var n=this.parent.getCurrentTime();v(this.actionObj.navigationInterval)&&(this.actionObj.navigationInterval=window.setInterval(function(){if(n){var s=i.parent.getCurrentTime(),a=s.getSeconds(),o=n.getSeconds()+i.actionObj.navigation.timeDelay/1e3;o=o>=60?o-60:o,o===a&&(n=i.parent.getCurrentTime(),i.viewNavigation(e),i.updateDraggingDateTime(e))}},this.actionObj.navigation.timeDelay))}},t.prototype.updateDraggingDateTime=function(e){!v(this.actionObj.clone.offsetParent)&&this.actionObj.clone.offsetParent.classList.contains(Q0)?this.morePopupEventDragging(e):this.parent.activeView.isTimelineView()&&this.parent.currentView!=="TimelineYear"?(this.timelineEventModule.dateRender=this.parent.activeView.renderDates,this.timelineEventModule.cellWidth=this.actionObj.cellWidth,this.timelineEventModule.getSlotDates(),this.actionObj.cellWidth=this.isHeaderRows?this.timelineEventModule.cellWidth:this.parent.getElementWidth(this.parent.element.querySelector("."+ci)),this.calculateTimelineTime(e)):this.parent.currentView==="Month"||this.parent.currentView==="TimelineYear"?this.calculateVerticalDate(e):this.calculateVerticalTime(e)},t.prototype.navigationWrapper=function(){if(this.parent.activeView.isTimelineView()){var u=void 0;if(this.parent.activeViewOptions.group.resources.length>0?u=this.parent.element.querySelectorAll(".e-appointment-container:not(.e-hidden)").item(this.actionObj.index):u=this.parent.element.querySelector("."+Dp),!v(u)){var d=u.querySelector("."+kn);d||(d=Be("div",{className:kn}),u.appendChild(d)),this.actionObj.cloneElement.forEach(function(p){d.appendChild(p)})}}else if(this.parent.currentView==="Month"||!this.parent.timeScale.enable){var e=[].slice.call(this.parent.element.querySelectorAll("."+ci));this.actionObj.index=this.parent.activeView.renderDates.length<this.actionObj.index?this.parent.activeView.renderDates.length-1:this.actionObj.index;var i=e[this.actionObj.index].querySelector("."+kn);i||(i=Be("div",{className:kn}),e[this.actionObj.index].appendChild(i)),i.appendChild(this.actionObj.clone)}else{var n=this.actionObj.clone.classList.contains(qo)?"."+gu:"."+kn;if(this.parent.element.querySelectorAll(n).item(this.actionObj.index).appendChild(this.actionObj.clone),n==="."+gu){var s=this.getAllDayEventHeight(),a=[].slice.call(this.parent.element.querySelectorAll("."+tn+":first-child"));if(a[0].offsetHeight<s)for(var o=0,l=a;o<l.length;o++){var c=l[o];c.style.height=(s+2)/12+"em"}this.actionObj.clone.style.height=bt(s)}this.actionObj.height=parseInt(this.actionObj.clone.style.height,10)}},t.prototype.viewNavigation=function(e){var i,n=this.parent.element.querySelector("."+lr);n&&(!this.scrollEdges.top&&!this.scrollEdges.bottom||Fe(this.actionObj.clone,"."+gu))&&(n.scrollLeft===0&&Math.round(this.actionObj.X)<=Math.round(n.getBoundingClientRect().left+this.actionObj.cellWidth+window.pageXOffset)?i=this.parent.enableRtl?"Next":"Previous":Math.round(n.scrollLeft)+n.clientWidth===n.scrollWidth&&Math.round(this.actionObj.X)>=Math.round(n.getBoundingClientRect().right-this.actionObj.cellWidth+window.pageXOffset)&&(i=this.parent.enableRtl?"Previous":"Next"),i&&this.parent.changeDate(this.parent.activeView.getNextPreviousDate(i)))},t.prototype.morePopupEventDragging=function(e){if(!(v(e.target)||e.target&&v(Fe(e.target,"td")))){var i=qe({},this.actionObj.event,null,!0),n=i[this.parent.eventFields.endTime].getTime()-i[this.parent.eventFields.startTime].getTime(),s=Fe(e.target,"td");if(!(this.parent.currentView==="TimelineYear"&&(!s.classList.contains(ci)||s.classList.contains(Ps)))){var a=this.parent.getDateFromElement(s),o=new Date(a.getTime());o.setMilliseconds(n),this.parent.activeViewOptions.group.resources.length>0&&(this.actionObj.groupIndex=parseInt(s.getAttribute("data-group-index"),10)),this.actionObj.start=new Date(a.getTime()),this.actionObj.end=new Date(o.getTime()),this.actionObj.clone.style.top=bt(s.offsetParent.offsetTop),this.actionObj.clone.style.left=bt(s.offsetLeft),this.actionObj.clone.style.width=bt(s.offsetWidth),this.actionObj.cloneElement.length>1&&this.actionObj.cloneElement.forEach(function(d){d.style.width=bt(s.offsetWidth)});var l=s,c;if(this.parent.activeView.isTimelineView()){var u=Fe(s,"tr").rowIndex;l=this.parent.element.querySelectorAll(".e-appointment-container").item(u)}c=l.querySelector("."+kn),c||(c=Be("div",{className:kn}),l.appendChild(c)),this.appendCloneElement(c)}}},t.prototype.calculateVerticalTime=function(e){var i=this;if(!(v(this.actionObj.target)||this.actionObj.target&&v(Fe(this.actionObj.target,"tr"))||!v(Fe(this.actionObj.target,"td"))&&!Fe(this.actionObj.target,"td").classList.contains(ci)&&!Fe(this.actionObj.target,"td").classList.contains(tn))){this.parent.activeViewOptions.timeScale.enable&&this.swapDragging(e);var n=this.parent.element.querySelector("."+lr),s=qe({},this.actionObj.event,null,!0),a=s[this.parent.eventFields.startTime],o=s[this.parent.eventFields.endTime],l=Ss(o)-Ss(a),c=Math.floor(parseInt(this.actionObj.clone.style.top,10)/this.actionObj.cellHeight)*this.actionObj.cellHeight;c=c<0?0:c,(this.scrollEdges.top||this.scrollEdges.bottom)&&(c=this.scrollEdges.top?n.scrollTop-this.heightUptoCursorPoint+this.actionObj.cellHeight+window.pageYOffset:n.scrollTop+n.offsetHeight-this.actionObj.clone.offsetHeight+window.pageYOffset+(this.actionObj.clone.offsetHeight-this.heightUptoCursorPoint),c=Math.round(c/this.actionObj.cellHeight)*this.actionObj.cellHeight,n.scrollTop>0&&c<n.scrollHeight&&(this.actionObj.clone.style.top=bt(c)));var u=this.parent.activeViewOptions.timeScale.enable?c/this.actionObj.cellHeight:0,d=this.actionObj.cellHeight/this.actionObj.slotInterval,p=parseInt(this.actionObj.clone.style.top,10)-c,m;if(this.isAllDayDrag)m=this.parent.element.querySelector("."+ef);else{var y=[].slice.call(this.parent.getContentTable().querySelectorAll("tr"));m=y[parseInt(u.toString(),10)]}var M;!v(Fe(this.actionObj.target,"td"))&&(Fe(this.actionObj.target,"td").classList.contains(ci)||Fe(this.actionObj.target,"td").classList.contains(tn))&&(M=Fe(this.actionObj.target,"td").cellIndex);var w=v(M)?Fe(this.actionObj.clone,"td").cellIndex:M;if(this.actionObj.index=w,!v(m)){var b=m.children[parseInt(w.toString(),10)];this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.actionObj.groupIndex=parseInt(b.getAttribute("data-group-index"),10));var D,E;if(this.parent.activeViewOptions.timeScale.enable&&!this.isAllDayDrag)(!this.enableCurrentViewDrag||this.multiData.length===0)&&this.appendCloneElement(this.getEventWrapper(w)),D=this.parent.getDateFromElement(b),D.setMinutes(D.getMinutes()+p/d),E=new Date(D.getTime()),this.actionObj.element.classList.contains(qo)?E.setMinutes(E.getMinutes()+this.actionObj.slotInterval):E.setMilliseconds(l);else{D=this.parent.getDateFromElement(b),D.setDate(D.getDate()-this.daysVariation),D.setHours(a.getHours(),a.getMinutes(),a.getSeconds()),E=new Date(D.getTime()),E.setMilliseconds(l),!this.actionObj.element.classList.contains(qo)&&this.actionObj.clone.classList.contains(qo)&&(E=Zt(Ze(E),1));var N=this.parent.activeViewOptions.group.byDate||this.parent.virtualScrollModule&&!this.parent.activeViewOptions.timeScale.enable?w:void 0;this.updateAllDayEvents(D,E,N)}this.actionObj.start=new Date(+D),this.actionObj.end=new Date(+E);for(var B=this.getUpdatedEvent(this.actionObj.start,this.actionObj.end,this.actionObj.event),P=[].slice.call(this.parent.element.querySelectorAll(".e-dynamic-clone")),C=0,k=P;C<k.length;C++){var _=k[C];ji(_)}if(this.multiData.length>0){if(this.isAllDayTarget&&this.isAllDayDrag&&!v(this.actionObj.isAllDay)&&!this.actionObj.isAllDay){var H=parseInt(Fe(this.actionObj.target,"td").getAttribute("data-date"),10);this.multiData.forEach(function(Ee){if(i.swagData.push(qe({},Ee,null,!0)),Ee[i.parent.eventFields.isAllDay]){Ee[i.parent.eventFields.startTime]=new Date(Ee[i.parent.eventFields.startTime].getTime()+(H-i.startTime));var ae=new Date(Ee[i.parent.eventFields.startTime]),L=new Date(ae.setMinutes(ae.getMinutes()+i.actionObj.slotInterval));Ee[i.parent.eventFields.endTime]=L,Ee[i.parent.eventFields.isAllDay]=!1}}),this.startTime=H}if(this.isAllDayTarget&&this.isAllDayDrag&&!v(this.actionObj.isAllDay)&&this.actionObj.isAllDay&&this.swagData.length>0){this.multiData=this.swagData,this.swagData=[];var j=qe({},this.actionObj.event,null,!0);this.startTime=j[this.parent.eventFields.startTime].getTime()}var z=B[this.parent.eventFields.startTime].getTime()-this.startTime;if(this.enableCurrentViewDrag)for(var F=this.getRenderedDates(),X=0;X<this.multiData.length;X++){var J=qe({},this.multiData[parseInt(X.toString(),10)],null,!0),U=new Date(J[this.parent.eventFields.startTime].getTime()+z),W=this.parent.getIndexOfDate(F,Ze(U));if(W<0){this.isPreventMultiDrag=!0;break}this.isPreventMultiDrag=!1}if(!this.isPreventMultiDrag)for(var re=0;re<this.multiData.length;re++){this.updatedData[parseInt(re.toString(),10)]=this.updateMultipleData(this.multiData[parseInt(re.toString(),10)],z);var W=this.getDayIndex(this.updatedData[parseInt(re.toString(),10)]);if(W>=0){var Z=this.updatedData[parseInt(re.toString(),10)][this.parent.eventFields.isAllDay],_=this.getEventWrapper(W,Z);this.appendCloneElement(_,this.actionObj.cloneElement[parseInt(re.toString(),10)]),this.updateEventHeight(this.updatedData[parseInt(re.toString(),10)],re,W)}else v(this.actionObj.cloneElement[parseInt(re.toString(),10)].parentNode)||ji(this.actionObj.cloneElement[parseInt(re.toString(),10)])}}else this.updateEventHeight(B);this.updateTimePosition(this.actionObj.start,this.updatedData)}}},t.prototype.splitEvent=function(e){var i=this.parent.eventFields,n=[],s=e[i.startTime],a=e[i.endTime];if(Ze(new Date(s.getTime()))<Ze(new Date(a.getTime()))){for(var o=Ze(new Date(s.getTime())),l=new Date(o.getTime()),c=0;o<new Date(a.getTime());c++){l=new Date(l.setDate(o.getDate()+1));var u=qe({},e,null,!0);u[i.startTime]=new Date(o),u[i.endTime]=new Date(l),o=new Date(o.setDate(o.getDate()+1)),n.push(u)}var d=n.length-1;n[0][i.startTime]=s,n[parseInt(d.toString(),10)][i.endTime]=a}else n.push(e);return n},t.prototype.updateMultipleData=function(e,i){var n=qe({},e,null,!0);!v(this.actionObj.isAllDay)&&this.parent.activeViewOptions.timeScale.enable&&(this.isAllDayTarget&&n[this.parent.eventFields.isAllDay]||!this.isAllDayTarget&&!n[this.parent.eventFields.isAllDay])&&(n[this.parent.eventFields.isAllDay]=this.actionObj.isAllDay);var s=n[this.parent.eventFields.endTime].getTime()-n[this.parent.eventFields.startTime].getTime();if(n[this.parent.eventFields.isAllDay]){var a=Math.ceil(i/864e5),o=Math.ceil(s/(1e3*3600*24)),l=new Date(n[this.parent.eventFields.startTime]);n[this.parent.eventFields.startTime]=Ze(new Date(l.setDate(l.getDate()+a))),n[this.parent.eventFields.endTime]=Zt(n[this.parent.eventFields.startTime],o)}else n[this.parent.eventFields.startTime]=new Date(n[this.parent.eventFields.startTime].getTime()+i),n[this.parent.eventFields.endTime]=new Date(n[this.parent.eventFields.startTime].getTime()+s);return n},t.prototype.getDayIndex=function(e){var i=qe({},e,null,!0),n=Ze(i[this.parent.eventFields.startTime]);if(this.parent.activeViewOptions.timeScale.enable&&!i[this.parent.eventFields.isAllDay]){var s=this.parent.activeView.getStartHour();n.setMilliseconds(s.getTime()-Ze(s).getTime())}var a=n.getTime(),o="",l=oS;return this.parent.activeViewOptions.timeScale.enable&&i[this.parent.eventFields.isAllDay]?l=gu:l=ci,o="."+l+'[data-date="'+a+'"]',this.parent.activeViewOptions.group.resources.length>0&&(o=o+'[data-group-index="'+this.actionObj.groupIndex+'"]'),this.targetTd=this.parent.element.querySelector(o),v(this.targetTd)?-1:this.targetTd.cellIndex},t.prototype.updateEventHeight=function(e,i,n){this.verticalEvent.initializeValues();var s=this.verticalEvent.getStartCount();if(!this.parent.uiStateValues.isGroupAdaptive)for(var a=0;a<this.actionObj.groupIndex;a++)this.verticalEvent.dateRender[parseInt(a.toString(),10)]&&(s=s+this.verticalEvent.dateRender[parseInt(a.toString(),10)].length);var o=this.parent.uiStateValues.isGroupAdaptive?s:this.actionObj.groupIndex,l=!!(this.parent.activeViewOptions.group.byDate&&!v(this.parent.getDateFromElement(this.actionObj.target)));if(l||!this.parent.activeViewOptions.group.byDate)for(var c=-1,u=this.parent.activeViewOptions.group.byDate?this.parent.getIndexOfDate(this.verticalEvent.dateRender[parseInt(o.toString(),10)],Ze(this.parent.getDateFromElement(v(i)?this.actionObj.target:this.targetTd))):v(i)?this.actionObj.index-s:n-s,d=this.splitEvent(e),p=this.parent.eventBase.isAllDayAppointment(e)||d.length>2||this.parent.eventSettings.spannedEventPlacement!=="TimeSlot"?[e]:d,a=0;a<p.length;a++){if(a>0){var m='.e-day-wrapper[data-date="'+Ze(p[parseInt(a.toString(),10)][this.parent.eventFields.startTime]).getTime()+'"]';this.parent.activeViewOptions.group.resources.length>0&&(m=m.concat('[data-group-index = "'+this.actionObj.groupIndex+'"]'));var y=this.parent.element.querySelector(m);y?(u=u+1,c=y.cellIndex):u=-1}if(u>=0){var M=this.verticalEvent.isSpannedEvent(p[parseInt(a.toString(),10)],u,o),w=M[this.verticalEvent.fields.startTime],b=M[this.verticalEvent.fields.endTime],D=this.parent.activeViewOptions.timeScale.enable?this.verticalEvent.getHeight(w,b):this.actionObj.element.offsetHeight,E=this.parent.activeViewOptions.timeScale.enable?this.verticalEvent.getTopValue(w):this.actionObj.element.offsetTop;if(v(i))a===0?(this.actionObj.clone.classList.contains(qo)&&(E=this.parent.element.querySelector("."+ef).offsetTop,D=this.getAllDayEventHeight()),this.actionObj.clone.style.top=bt(E),this.actionObj.clone.style.height=bt(D)):this.renderSpannedEvents(M,c,E,D);else{var N=this.actionObj.cellWidth;if(e[this.parent.eventFields.isAllDay]&&this.parent.activeViewOptions.timeScale.enable){var B=e[this.parent.eventFields.endTime].getTime()-e[this.parent.eventFields.startTime].getTime(),P=Math.ceil(B/(1e3*3600*24));P>=0&&(N=P*this.actionObj.cellWidth)}this.actionObj.cloneElement[parseInt(i.toString(),10)]&&(a===0?(this.actionObj.cloneElement[parseInt(i.toString(),10)].style.top=bt(E),this.actionObj.cloneElement[parseInt(i.toString(),10)].style.height=bt(D),this.actionObj.cloneElement[parseInt(i.toString(),10)].style.width=bt(N),this.actionObj.cloneElement[parseInt(i.toString(),10)].style.left=bt(0)):this.renderSpannedEvents(M,c,E,D))}}}},t.prototype.renderSpannedEvents=function(e,i,n,s){var a=e[this.parent.eventFields.startTime].getTime(),o=e[this.parent.eventFields.endTime].getTime();if(a!==o){var l=this.verticalEvent.createAppointmentElement(e,!1,e.isSpanned,this.actionObj.groupIndex);pe([l],[sg,"e-dynamic-clone"]),ui(l,{width:"100%",height:s+"px",top:n+"px",border:"0px"});var c=[].slice.call(this.parent.element.querySelectorAll("."+kn));c[parseInt(i.toString(),10)].appendChild(l)}},t.prototype.getRenderedDates=function(){var e=this,i,n,s=this.parent.activeView.renderDates;if((i=this.parent.eventBase.slots).push.apply(i,this.parent.activeView.renderDates.map(function(o){return+o})),this.parent.activeViewOptions.group.resources.length>0){this.parent.eventBase.slots=[];var a=this.parent.resourceBase.lastResourceLevel.filter(function(o){return o.groupIndex===e.actionObj.groupIndex});s=a[0].renderDates,(n=this.parent.eventBase.slots).push.apply(n,s.map(function(o){return+o}))}return s},t.prototype.updateAllDayEvents=function(e,i,n){this.parent.eventBase.slots=[];var s=this.getUpdatedEvent(e,i,this.actionObj.event),a=this.getRenderedDates(),o=this.parent.eventBase.splitEvent(s,a),l='.e-all-day-cells[data-date="'+o[0][this.parent.eventFields.startTime].getTime()+'"]';this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(l=l.concat('[data-group-index = "'+this.actionObj.groupIndex+'"]'));var c=[].slice.call(this.parent.element.querySelectorAll(l));if(c.length>0||!v(n)){var u=v(n)?c[0].cellIndex:n;this.appendCloneElement(this.getEventWrapper(u)),this.actionObj.clone.style.width=bt(o[0].data.count*this.actionObj.cellWidth)}},t.prototype.swapDragging=function(e){if(!this.isPreventMultiDrag){var i=!v(Fe(this.actionObj.target,"td"))&&Fe(this.actionObj.target,"td").cellIndex;if(Fe(this.actionObj.target,"."+Au)&&!Fe(this.actionObj.clone,"."+gu)){pe([this.actionObj.clone],qo),this.appendCloneElement(this.getEventWrapper(i)),this.actionObj.isAllDay=!0;var n=this.getAllDayEventHeight(),s=[].slice.call(this.parent.element.querySelectorAll("."+tn+":first-child"));if(s[0].offsetHeight<n)for(var a=0,o=s;a<o.length;a++){var l=o[a];l.style.height=(n+2)/12+"em"}ui(this.actionObj.clone,{width:bt(this.actionObj.cellWidth),height:bt(n),top:bt(this.parent.element.querySelector("."+ef).offsetTop)})}if(Fe(this.actionObj.target,"."+ci)&&!Fe(this.actionObj.clone,"."+oS)){Oe([this.actionObj.clone],qo),this.appendCloneElement(this.getEventWrapper(i)),this.actionObj.isAllDay=!1;var c=this.actionObj.element.offsetHeight===0?this.actionObj.height:this.actionObj.element.offsetHeight;ui(this.actionObj.clone,{left:bt(0),height:bt(c),width:bt(this.actionObj.cellWidth)})}}},t.prototype.calculateVerticalDate=function(e){if(!(v(e.target)||e.target&&v(Fe(e.target,"tr"))||e.target&&e.target.tagName==="DIV")){var i=qe({},this.actionObj.event,null,!0);v(this.parent.eventDragArea)&&this.removeCloneElement();var n=Ss(i[this.parent.eventFields.endTime])-Ss(i[this.parent.eventFields.startTime]),s=Fe(this.actionObj.target,"td");if(!v(s)){var a=s.parentElement;this.actionObj.index=a.rowIndex*a.children.length+s.cellIndex;var o=[].slice.call(this.parent.element.querySelectorAll("."+ci));s=o[this.actionObj.index];var l=this.parent.getDateFromElement(s);if(!v(l)){this.parent.activeViewOptions.group.resources.length>0&&(this.actionObj.groupIndex=parseInt(s.getAttribute("data-group-index"),10));var c=new Date(l.setDate(l.getDate()-this.daysVariation)),u=new Date(c.getTime()),d=Ss(i[this.parent.eventFields.startTime])-Ss(Ze(new Date(+i[this.parent.eventFields.startTime])));u.setMilliseconds(d);var p=new Date(u.getTime());p.setMilliseconds(n),this.actionObj.start=new Date(u.getTime()),this.actionObj.end=new Date(p.getTime())}}var m=this.getUpdatedEvent(this.actionObj.start,this.actionObj.end,this.actionObj.event);if(v(this.parent.eventDragArea))for(var y=[].slice.call(this.parent.element.querySelectorAll("."+sg)),M=0,w=y;M<w.length;M++){var b=w[M];ji(b)}if(this.multiData&&this.multiData.length>0){var D=Ze(new Date(m[this.parent.eventFields.startTime])),d=D.getTime()-this.startTime;this.parent.currentView==="TimelineYear"&&this.parent.group.resources.length>0&&(d=(D.getFullYear()-new Date(this.startTime).getFullYear())*12,d-=new Date(this.startTime).getMonth(),d+=D.getMonth());for(var E=0;E<this.multiData.length;E++)this.updatedData[parseInt(E.toString(),10)]=this.updateMultipleVerticalDate(this.multiData[parseInt(E.toString(),10)],d),this.parent.currentView==="TimelineYear"?this.dynamicYearlyEventsRendering(this.updatedData[parseInt(E.toString(),10)]):this.dynamicEventsRendering(this.updatedData[parseInt(E.toString(),10)])}else this.parent.currentView==="TimelineYear"?this.dynamicYearlyEventsRendering(m):this.dynamicEventsRendering(m)}},t.prototype.updateMultipleVerticalDate=function(e,i){var n=qe({},e,null,!0),s=n[this.parent.eventFields.endTime].getTime()-n[this.parent.eventFields.startTime].getTime(),a=new Date(n[this.parent.eventFields.startTime]);if(this.parent.currentView==="TimelineYear"&&this.parent.group.resources.length>0)n[this.parent.eventFields.startTime]=new Date(a.setMonth(a.getMonth()+i));else{var o=Math.ceil(i/cs);n[this.parent.eventFields.startTime]=new Date(a.setDate(a.getDate()+o))}return n[this.parent.eventFields.endTime]=new Date(n[this.parent.eventFields.startTime].getTime()+s),n},t.prototype.calculateTimelineTime=function(e){var i=qe({},this.actionObj.event,null,!0),n=Ss(i[this.parent.eventFields.endTime])-Ss(i[this.parent.eventFields.startTime]),s=this.parent.enableRtl?Math.abs(this.actionObj.clone.offsetLeft)-this.actionObj.clone.offsetWidth:parseInt(this.actionObj.clone.style.left,10);s=Math.round(s/this.actionObj.cellWidth)*this.actionObj.cellWidth;var a;this.parent.enableRtl&&(a=Math.abs(parseInt(this.actionObj.clone.style.right,10)),this.actionObj.clone.style.right=bt(a)),s=this.getOffsetValue(s,a);var o=this.getColumnIndex(s),l=this.parent.element.querySelector("."+lr),c=l.getBoundingClientRect().right,u=this.parent.activeView.isTimelineView()&&!this.parent.enableRtl&&this.actionObj.pageX>this.actionObj.clone.getBoundingClientRect().right&&!this.isMorePopupOpened&&!(this.actionObj.pageX>c),d=this.parent.eventDragArea?l.scrollLeft-l.offsetLeft:0;(this.isCursorAhead||u)&&!this.isStepDragging&&(this.isCursorAhead=!0);var p=Math.floor((this.actionObj.pageX-this.actionObj.clone.getBoundingClientRect().left+d)/this.actionObj.cellWidth);this.parent.enableRtl&&(p=Math.abs(Math.floor((this.actionObj.pageX-this.actionObj.clone.getBoundingClientRect().right)/this.actionObj.cellWidth))-1),this.cursorPointIndex<0&&this.cursorIndex(e,i,s,p);var m=this.parent.getContentTable().querySelector("tr"),y=this.getCursorCurrentIndex(o,p,m);y=y<0?0:y;var M=this.isHeaderRows?new Date(this.timelineEventModule.dateRender[parseInt(y.toString(),10)].getTime()):this.parent.getDateFromElement(m.children[parseInt(y.toString(),10)]);if(M=this.isAllDayDrag?Ze(M):M,this.isStepDragging){var w=this.getWidthDiff(m,y);if(w!==0){var b=Math.ceil(w/this.widthPerMinute);if(M.setMinutes(M.getMinutes()+b*this.actionObj.interval),this.isCursorAhead||u)M.setMilliseconds(-n);else{M.setMinutes(M.getMinutes()-this.minDiff);var D=this.actionObj.interval*ls;b=Math.abs(M.getTime()-this.actionObj.start.getTime())/D;var E=Math.trunc(b);E!==b&&(b=E*D*(M>this.actionObj.start?1:-1),M=new Date(this.actionObj.start.getTime()+b))}}else M=this.actionObj.start}else if((this.isCursorAhead||u)&&!this.isAllDayDrag){var N=this.isTimelineDayProcess||this.isAllDayDrag?P8:this.actionObj.slotInterval;M.setMinutes(M.getMinutes()+N),M.setMilliseconds(-n),M.getTime()===Ze(M).getTime()&&M.getMinutes()===0&&n===0&&M.setMinutes(-N)}else M.setMinutes(M.getMinutes()-this.cursorPointIndex*(this.isTimelineDayProcess||this.isAllDayDrag?P8:this.actionObj.slotInterval));if(this.isStepDragging||(M=this.calculateIntervalTime(M)),this.isTimelineDayProcess||this.isAllDayDrag){var B=i[this.parent.eventFields.startTime];M.setHours(B.getHours(),B.getMinutes(),B.getSeconds())}if(this.parent.eventDragArea){var P=this.parent.getDateFromElement(e.target);if(!v(P))if(!this.parent.activeViewOptions.timeScale.enable||this.parent.currentView==="TimelineMonth"){var B=i[this.parent.eventFields.startTime];M=new Date(P.setHours(B.getHours(),B.getMinutes(),B.getSeconds()))}else M=P}var C=new Date(M.getTime());C.setMilliseconds(n);var k=[this.getUpdatedEvent(M,C,this.actionObj.event)];if(this.multiData.length>0){for(var _=k[0][this.parent.eventFields.startTime].getTime()-this.startTime,H=0;H<this.multiData.length;H++)this.updatedData[parseInt(H.toString(),10)]=this.updateMultipleData(this.multiData[parseInt(H.toString(),10)],_);k=this.updatedData}for(var j=0;j<k.length;j++){var z=this.multiData.length>0?this.actionObj.cloneElement[parseInt(j.toString(),10)]:this.actionObj.clone;if(v(this.parent.eventDragArea)){var F=this.timelineEventModule.splitEvent(k[parseInt(j.toString(),10)],this.timelineEventModule.dateRender),X=F[0].data,J=this.timelineEventModule.getStartTime(F[0],X),U=this.timelineEventModule.getEndTime(F[0],X),W=this.timelineEventModule.getEventWidth(J,U,i[this.parent.eventFields.isAllDay],X.count),re=this.parent.getIndexOfDate(this.timelineEventModule.dateRender,Ze(new Date(J.getTime())));re=re<0?0:re;var Z=this.timelineEventModule.getPosition(J,U,i[this.parent.eventFields.isAllDay],re);this.parent.enableRtl?z.style.right=bt(Z):z.style.left=bt(Z),this.isMorePopupOpened||(z.style.width=bt(W))}this.parent.activeViewOptions.group.resources.length>0&&this.calculateResourceGroupingPosition(e,z),this.actionObj.start=new Date(M.getTime()),this.actionObj.end=new Date(C.getTime()),this.updateTimePosition(this.actionObj.start,this.updatedData)}},t.prototype.getOffsetValue=function(e,i){if(this.scrollEdges.left||this.scrollEdges.right){var n=this.parent.element.querySelector("."+lr);this.parent.enableRtl?(i=n.offsetWidth-n.scrollLeft,this.scrollEdges.right?i=i-n.offsetWidth+this.actionObj.clone.offsetWidth-(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint):(i=i+this.widthUptoCursorPoint,i-this.widthUptoCursorPoint>=n.scrollWidth&&(this.actionObj.clone.style.width=bt(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint+this.actionObj.cellWidth),i=n.scrollLeft-n.scrollWidth)),v(this.parent.eventDragArea)&&(this.actionObj.clone.style.left=bt(i))):(this.scrollEdges.left?(e=n.scrollLeft-this.widthUptoCursorPoint+this.actionObj.cellWidth,n.scrollLeft+n.offsetWidth>=n.offsetWidth?n.scrollLeft=n.scrollLeft-1:this.actionObj.clone.offsetLeft===0&&(e=n.scrollLeft)):e=n.scrollLeft+n.offsetWidth-this.actionObj.clone.offsetWidth+(this.actionObj.clone.offsetWidth-this.widthUptoCursorPoint),e=e<0?0:e,v(this.parent.eventDragArea)&&(this.actionObj.clone.style.left=bt(e)))}return e},t.prototype.getWidthDiff=function(e,i){var n=this.scrollArgs.element.getBoundingClientRect();if(n.left<=this.actionObj.pageX&&n.right>=this.actionObj.pageX){var s=e.children[parseInt(i.toString(),10)].offsetLeft,a=this.actionObj.pageX-n.left;return this.parent.enableRtl?s+this.actionObj.cellWidth-(this.scrollArgs.element.scrollLeft+a):this.scrollArgs.element.scrollLeft+a-s}return 0},t.prototype.getColumnIndex=function(e){var i=Math.round(e/this.actionObj.cellWidth);return this.isHeaderRows?i:this.getIndex(i)},t.prototype.getCursorCurrentIndex=function(e,i,n){var s=e+i;if(this.isHeaderRows){var a=Math.floor(n.offsetWidth/this.actionObj.cellWidth);return s>a-1?a-1:s}return s>n.children.length-1?n.children.length-1:s},t.prototype.cursorIndex=function(e,i,n,s){var a=Fe(e.target,".e-work-cells");if(!v(a)&&!this.isMorePopupOpened){var o=this.parent.getDateFromElement(a);if(o=this.isAllDayDrag?Ze(o):o,this.isHeaderRows){var l=Math.floor(n/this.actionObj.cellWidth);o=new Date(this.timelineEventModule.dateRender[l+s].getTime())}var c=o.getTime()-i[this.parent.eventFields.startTime].getTime();if(this.isTimelineDayProcess||this.isAllDayDrag)this.cursorPointIndex=Math.abs(Math.ceil(c/cs));else{var u=Math.floor(c/ls/(this.actionObj.slotInterval/this.actionObj.cellWidth));this.cursorPointIndex=Math.floor(u/this.actionObj.cellWidth),this.cursorPointIndex=this.cursorPointIndex<0?0:this.cursorPointIndex}}else this.cursorPointIndex=0},t.prototype.calculateResourceGroupingPosition=function(e,i){var n=this.parent.element.querySelector("."+lr),s=[].slice.call(this.parent.element.querySelectorAll(".e-content-wrap .e-content-table tr:not(.e-hidden)")),a=hK(n.querySelector("table"));a=v(a)?0:a;var o=this.parent.rowAutoHeight?~~(n.querySelector("table").offsetHeight/s.length):this.actionObj.cellHeight,l=Math.floor(Math.floor(this.actionObj.Y+(n.scrollTop-a-(window.scrollY||window.pageYOffset))-Awe(n,this.parent.uiStateValues.isTransformed))/o);l=l<0?0:l>s.length-1?s.length-1:l,this.actionObj.index=l;var c=this.parent.element.querySelectorAll(".e-appointment-container:not(.e-hidden)").item(l),u=c.querySelector("."+kn);u||(u=Be("div",{className:kn}),c.appendChild(u)),this.appendCloneElement(u,i);var d=Fe(this.actionObj.target,"td");if(this.actionObj.groupIndex=d&&!isNaN(parseInt(d.getAttribute("data-group-index"),10))?parseInt(d.getAttribute("data-group-index"),10):this.actionObj.groupIndex,!!v(this.parent.eventDragArea)){var p=this.parent.getElementHeight(s[parseInt(l.toString(),10)])*l;if(this.parent.rowAutoHeight){var m=this.getCursorElement(e);m&&(p=m.classList.contains(ci)?m.offsetTop:m.offsetParent&&m.offsetParent.classList.contains(Ni)?m.offsetParent.offsetTop:p)}i.style.top=bt(p)}},t.prototype.appendCloneElement=function(e,i){i===void 0&&(i=null),i=v(i)?this.actionObj.clone:i;var n=document.querySelector(this.parent.eventDragArea);this.parent.eventDragArea&&n?n.appendChild(i):e.appendChild(i)},t.prototype.getEventWrapper=function(e,i){var n;if(v(i)&&(i=this.actionObj.clone.classList.contains(qo)),this.parent.activeViewOptions.timeScale.enable){var s=i?"."+gu:"."+kn;n=this.parent.element.querySelectorAll(s).item(e)}else{var a=this.parent.element.querySelectorAll("."+ci).item(e);n=a.querySelector("."+kn),n||(n=Be("div",{className:kn}),a.appendChild(n))}return n},t.prototype.getAllDayEventHeight=function(){var e=Be("div",{className:Ni});this.parent.element.querySelector("."+gu).appendChild(e);var i=e.offsetHeight;return ji(e),i},t.prototype.isAllowDrop=function(e){if(!this.actionObj.excludeSelectors)return!1;for(var i=this.actionObj.excludeSelectors.split(","),n=!1,s=0,a=i;s<a.length;s++){var o=a[s];if(e.target.classList.contains(o)){n=!0;break}}return n},t.prototype.getModuleName=function(){return"dragAndDrop"},t})(QK),h3=(function(){function r(t){this.previousNextAction="Next",this.skipPersistenceSave=!1,this.isScrolledBottom=!1,this.parent=t}return r.prototype.isTimelineView=function(){return this.parent.currentView.indexOf("Timeline")!==-1},r.prototype.getContentRows=function(){return[]},r.prototype.refreshHeader=function(){},r.prototype.refreshResourceHeader=function(){var t=this.element.querySelector("."+Tg),e=Array.from(t.querySelectorAll("."+$c));e.forEach(function(l){var c=Array.from(l.children);c.forEach(function(u){!u.classList.contains(O0)&&!u.classList.contains(Vd)&&ji(u)})});var i=this.parent.resourceBase.renderedResources;if(!v(i)&&i.length>0)for(var n=0;n<e.length;n++){var s=e[parseInt(n.toString(),10)],a=i[parseInt(n.toString(),10)];if(this.parent.activeView&&!v(s)&&!v(a)&&parseInt(s.getAttribute("data-group-index"),10)===a.groupIndex){this.parent.activeView.setResourceHeaderContent(s,a,tA);var o={element:s,elementType:"resourceHeader",groupIndex:a.groupIndex};this.parent.trigger(Eu,o)}}this.parent.renderTemplates(),this.parent.notify(Mc,{})},r.prototype.getDayName=function(t){return this.parent.getDayNames("abbreviated")[t.getDay()]},r.prototype.getDate=function(t){return this.parent.globalize.formatDate(t,{format:"d",calendar:this.parent.getCalendarMode()})},r.prototype.getTime=function(t){return this.parent.isAdaptive?this.parent.activeViewOptions.timeFormat==="HH:mm"||this.parent.activeViewOptions.timeFormat==="HH.mm"?this.parent.globalize.formatDate(t,{format:"H",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(t,{skeleton:"h",calendar:this.parent.getCalendarMode()}):this.parent.getTimeString(t)},r.prototype.getTimelineDate=function(t){var e=this.parent.globalize.formatDate(t,{skeleton:"MMMd",calendar:this.parent.getCalendarMode()})+", "+this.parent.getDayNames("wide")[t.getDay()];return Rn(e,"multiple")},r.prototype.createEventTable=function(t){var e=Be("div",{className:wg});return ri(this.getEventRows(t),e),e},r.prototype.getEventRows=function(t){for(var e=[],i,n=0;n<t;n++)i=Be("div",{className:Dp}),this.parent.resourceBase&&!this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.renderedResources&&i.setAttribute("data-group-index",this.parent.resourceBase.renderedResources[parseInt(n.toString(),10)].groupIndex.toString()),e.push(i);return e},r.prototype.collapseRows=function(t){this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(this.parent.resourceBase.hideResourceRows(t.querySelector("tbody")),this.parent.resourceBase.hideResourceRows(t.querySelector("."+wg)))},r.prototype.createTableLayout=function(t){var e=t||"",i=Be("table",{className:fK+" "+e}),n=Be("tbody");return i.appendChild(n),i},r.prototype.setAriaAttributes=function(t){t.setAttribute("role","grid"),this.parent.currentView!=="Year"&&t.setAttribute("id",this.parent.element.id+"_table"),t.setAttribute("aria-label",this.getLabelText(this.parent.currentView))},r.prototype.createColGroup=function(t,e){if(!v(e)){var i=e.length;e[0]&&e[0].colSpan&&(i=e.map(function(a){return a.colSpan}).reduce(function(a,o){return a+o}));for(var n=Be("colgroup"),s=0;s<i;s++)n.appendChild(Be("col"));Ln([n],t)}},r.prototype.getScrollXIndent=function(t){return t.offsetHeight-t.clientHeight>0?Yj():0},r.prototype.scrollTopPanel=function(t){this.getDatesHeaderElement().firstElementChild.scrollLeft=t.scrollLeft},r.prototype.scrollHeaderLabels=function(t){for(var e=this.element.querySelector(".e-date-header-wrap table"),i=e.offsetWidth/e.querySelectorAll("colgroup col").length,n=function(m,y){for(var M,w=0,b=0,D=y?-t.scrollLeft:t.scrollLeft,E=0,N=m;E<N.length;E++){var B=N[E];if(b+=parseInt(B.getAttribute("colSpan"),10),b>Math.floor(D/i)){M=B;break}w+=B.offsetWidth}v(M)||(M.children[0].style[y?"right":"left"]=D-w+"px")},s=[".e-header-year-cell",".e-header-month-cell",".e-header-week-cell",".e-header-cells"],a=0,o=s;a<o.length;a++){var l=o[a],c=[].slice.call(this.element.querySelectorAll(l));if(c.length>0){for(var u=0,d=c;u<d.length;u++){var p=d[u];p.children[0].style[this.parent.enableRtl?"right":"left"]=""}n(c,this.parent.enableRtl)}}},r.prototype.addAttributes=function(t,e){t.template&&ri(t.template,e),t.colSpan&&e.setAttribute("colspan",t.colSpan.toString()),t.className&&pe([e],t.className)},r.prototype.getHeaderBarHeight=function(){var t=2;if(this.parent.headerModule&&(t+=qj(this.parent.headerModule.getHeaderElement())),this.parent.uiStateValues.isGroupAdaptive){var e=this.parent.element.querySelector("."+vK);e&&(t+=e.offsetHeight)}return t},r.prototype.renderPanel=function(t){t===KO?Ln([this.element],this.parent.element.querySelector("."+fh)):this.parent.element.querySelector("."+fh).appendChild(this.element)},r.prototype.setPanel=function(t){this.element=t},r.prototype.getPanel=function(){return this.element},r.prototype.getDatesHeaderElement=function(){return this.element.querySelector("."+Gj)},r.prototype.getDateSlots=function(t,e){return[]},r.prototype.generateColumnLevels=function(){return[]},r.prototype.getColumnLevels=function(){return this.colLevels},r.prototype.highlightCurrentTime=function(){},r.prototype.getStartDate=function(){return this.renderDates[0]},r.prototype.getEndDate=function(){return this.renderDates[this.renderDates.length-1]},r.prototype.startDate=function(){return this.renderDates[0]},r.prototype.endDate=function(){return Zt(this.renderDates[this.renderDates.length-1],1)},r.prototype.getStartHour=function(){var t=this.parent.getStartEndTime(this.parent.activeViewOptions.startHour);return v(t)&&(t=new Date(2e3,0,0,0)),t},r.prototype.getEndHour=function(){var t=this.parent.getStartEndTime(this.parent.activeViewOptions.endHour);return v(t)&&(t=new Date(2e3,0,0,0)),t},r.prototype.isCurrentDate=function(t){return t.setHours(0,0,0,0)===new Date(this.parent.currentTimezoneDate).setHours(0,0,0,0)},r.prototype.isCurrentMonth=function(t){return this.parent.activeViewOptions.displayDate||this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeView.getStartDate().getTime()<=this.parent.getCurrentTime().getTime()&&this.parent.activeView.getEndDate().getTime()>=this.parent.getCurrentTime().getTime():t.getFullYear()===this.parent.getCurrentTime().getFullYear()&&t.getMonth()===this.parent.getCurrentTime().getMonth()},r.prototype.isWorkDay=function(t,e){return e===void 0&&(e=this.parent.activeViewOptions.workDays),!v(e)&&e.indexOf(t.getDay())>=0},r.prototype.isWorkHour=function(t,e,i,n){return v(e)||v(i)?!1:(e.setMilliseconds(0),i.setMilliseconds(0),Ze(t).getTime()!==Ze(e).getTime()&&(e=new Date(2e3,0,0,e.getHours(),e.getMinutes(),e.getMilliseconds()),i=new Date(2e3,0,0,i.getHours(),i.getMinutes(),i.getMilliseconds())),!(lg(t)<lg(e)||lg(t)>=lg(i)||!this.isWorkDay(t,n)))},r.prototype.getRenderDates=function(t,e){e===void 0&&(e=this.parent.selectedDate);var i=[];if(this.parent.currentView==="Week"||this.parent.currentView==="TimelineWeek")for(var n=Ze(e),s=dh(n,this.parent.activeViewOptions.firstDayOfWeek),a=0,o=uh*this.parent.activeViewOptions.interval;a<o;a++)(this.parent.activeViewOptions.showWeekend||this.isWorkDay(s,t))&&i.push(s),s=Zt(s,1);else if(this.parent.currentView==="WorkWeek"||this.parent.currentView==="TimelineWorkWeek")for(var s=dh(Ze(e),this.parent.activeViewOptions.firstDayOfWeek),a=0,l=uh*this.parent.activeViewOptions.interval;a<l;a++)this.isWorkDay(s,t)&&i.push(s),s=Zt(s,1);else{var c=this.parent.currentView==="Agenda"?this.parent.agendaDaysCount:this.parent.activeViewOptions.interval,s=Ze(e);do(this.parent.activeViewOptions.showWeekend||this.isWorkDay(s,t))&&i.push(s),s=Zt(s,1);while(c!==i.length)}return t||(this.renderDates=i),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),i},r.prototype.getNextPreviousDate=function(t){if(this.previousNextAction=t,this.parent.currentView==="Day"||this.parent.currentView==="TimelineDay")if(this.parent.activeViewOptions.showWeekend){var e=this.parent.activeViewOptions.interval;return Zt(this.parent.selectedDate,t==="Next"?e:-e)}else{var i=void 0;if(t==="Next")for(i=Zt(this.renderDates.slice(-1)[0],1);!this.isWorkDay(i);)i=Zt(i,1);else{i=Zt(this.renderDates[0],-1);var n=0;do this.isWorkDay(i)&&(n+=1),this.parent.activeViewOptions.interval!==n&&(i=Zt(i,-1));while(this.parent.activeViewOptions.interval!==n)}return i}var s=t==="Next"?uh:-7;return Zt(this.parent.selectedDate,s*this.parent.activeViewOptions.interval)},r.prototype.formatViewLabel=function(t,e,i){var n={type:"date",skeleton:"full",calendar:this.parent.getCalendarMode()};return this.parent.localeObj.getConstant(t)+" "+this.parent.localeObj.getConstant("start")+" "+this.parent.globalize.formatDate(e,n)+" "+this.parent.localeObj.getConstant("endAt")+" "+this.parent.globalize.formatDate(i,n)},r.prototype.getLabelText=function(t){var e=t.charAt(0).toLowerCase()+t.substring(1);return t==="Year"||t==="TimelineYear"?this.formatViewLabel(e,this.parent.activeView.getStartDate(),this.parent.activeView.getEndDate()):this.renderDates.length>0?this.parent.currentView==="Day"||this.parent.currentView==="TimelineDay"?this.parent.localeObj.getConstant(e)+" of "+Rn(this.parent.globalize.formatDate(this.parent.selectedDate,{type:"date",skeleton:"full",calendar:this.parent.getCalendarMode()}),"single"):this.formatViewLabel(e,this.renderDates[0],this.renderDates[this.renderDates.length-1]):""},r.prototype.getDateRangeText=function(t,e){if(t===void 0&&(t=this.renderDates[0]),e===void 0&&(e=this.renderDates),this.parent.isAdaptive){var i=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";return Rn(this.parent.globalize.formatDate(this.parent.selectedDate,{format:i,calendar:this.parent.getCalendarMode()}),"single")}return this.formatDateRange(t,e[e.length-1])},r.prototype.formatDateRange=function(t,e){var i=this.parent.globalize,n=this.parent.getCalendarMode();if(t===e&&(e=null),!v(this.parent.activeViewOptions.dateFormat)){var s="";return e?(s=i.formatDate(t,{format:this.parent.activeViewOptions.dateFormat,calendar:n})+" - "+i.formatDate(e,{format:this.parent.activeViewOptions.dateFormat,calendar:n}),Rn(s,"multiple")):(s=i.formatDate(t,{format:this.parent.activeViewOptions.dateFormat,calendar:n}),Rn(s,"multiple"))}var a,o;if(v(this.parent.locale)||this.parent.locale==="en"||this.parent.locale==="en-US"?o=Pe("dateFormats.long",yl(n)):o=Pe("main."+this.parent.locale+".dates.calendars."+n+".dateFormats.long",ws),!e)return Rn(i.formatDate(t,{format:o,calendar:n}),"single");var l=o.trim().toLocaleLowerCase();return l.substr(0,1)==="d"?t.getFullYear()===e.getFullYear()?t.getMonth()===e.getMonth()?a=i.formatDate(t,{format:"dd",calendar:n})+" - "+i.formatDate(e,{format:"dd MMMM yyyy",calendar:n}):a=i.formatDate(t,{format:"dd MMM",calendar:n})+" - "+i.formatDate(e,{format:"dd MMM yyyy",calendar:n}):a=i.formatDate(t,{format:"dd MMM yyyy",calendar:n})+" - "+i.formatDate(e,{format:"dd MMM yyyy",calendar:n}):l.substr(0,1)==="m"?t.getFullYear()===e.getFullYear()?t.getMonth()===e.getMonth()?a=i.formatDate(t,{format:"MMMM dd",calendar:n})+" - "+i.formatDate(e,{format:"dd, yyyy",calendar:n}):a=i.formatDate(t,{format:"MMM dd",calendar:n})+" - "+i.formatDate(e,{format:"MMM dd, yyyy",calendar:n}):a=i.formatDate(t,{format:"MMM dd, yyyy",calendar:n})+" - "+i.formatDate(e,{format:"MMM dd, yyyy",calendar:n}):a=i.formatDate(t,{format:o,calendar:n})+" - "+i.formatDate(e,{format:o,calendar:n}),Rn(a,"multiple")},r.prototype.getMobileDateElement=function(t,e){var i=Be("div",{className:e,innerHTML:'<div class="e-m-date">'+this.parent.globalize.formatDate(t,{format:"d",calendar:this.parent.getCalendarMode()})+'</div><div class="e-m-day">'+Rn(this.parent.globalize.formatDate(t,{format:"E",calendar:this.parent.getCalendarMode()}),"single")+"</div>"});return i},r.prototype.setResourceHeaderContent=function(t,e,i){if(i===void 0&&(i=pl),this.parent.activeViewOptions.resourceHeaderTemplate){var n={resource:e.resource,resourceData:e.resourceData},s=this.parent.element.id+"_",a=this.parent.activeViewOptions.resourceHeaderTemplateName,o=s+a+"resourceHeaderTemplate",l=[].slice.call(this.parent.getResourceHeaderTemplate()(n,this.parent,"resourceHeaderTemplate",o,!1,void 0,void 0,this.parent.root));ri(l,t)}else{var c=Be("div",{className:i});this.parent.sanitize(e.resourceData[e.resource.textField],c),t.appendChild(c)}},r.prototype.renderResourceMobileLayout=function(){this.parent.resourceBase.lastResourceLevel&&this.parent.resourceBase.lastResourceLevel.length<=0||(this.parent.resourceBase.renderResourceHeader(),this.parent.resourceBase.renderResourceTree())},r.prototype.addAutoHeightClass=function(t){!this.parent.uiStateValues.isGroupAdaptive&&this.parent.rowAutoHeight&&this.isTimelineView()&&this.parent.activeViewOptions.group.resources.length>0&&pe([t],AK)},r.prototype.getColElements=function(){return[].slice.call(this.element.querySelectorAll("."+lr+" col, ."+Au+" col"))},r.prototype.setColWidth=function(t){if(this.isTimelineView()){var e=this.getColElements(),i=this.element.querySelector("."+_n+" tbody"),n=this.parent.getElementWidth(i)/(e.length/2);if(t.offsetHeight!==t.clientHeight){var s=this.parent.element.querySelector("."+id);!v(s)&&s.offsetHeight!==t.clientHeight&&ui(s,{height:bt(t.clientHeight)})}var a="."+Co+",."+sS+",."+Cwe+",."+Owe+",."+kwe,o=[].slice.call(this.element.querySelectorAll(a));o.forEach(function(l){var c=v(l.getAttribute("colspan"))?"1":l.getAttribute("colspan"),u=parseInt(c,10);ui(l,{width:bt(n*u)})})}},r.prototype.resetColWidth=function(){for(var t=this.getColElements(),e=0,i=t;e<i.length;e++){var n=i[e];n.style.width=""}},r.prototype.getContentAreaElement=function(){return this.element.querySelector("."+lr)},r.prototype.wireExpandCollapseIconEvents=function(){if(this.parent.resourceBase&&this.parent.resourceBase.resourceCollection.length>1)for(var t=[].slice.call(this.element.querySelectorAll("."+Jy)),e=0,i=t;e<i.length;e++){var n=i[e];se.clearEvents(n),se.add(n,"click",this.parent.resourceBase.onTreeIconClick,this.parent.resourceBase)}},r.prototype.scrollToDate=function(t){if(!(["Month","TimelineMonth"].indexOf(this.parent.currentView)===-1||v(t))){var e=this.getContentAreaElement(),i=new Date(Ze(new Date(+t)).getTime()).getTime(),n=e.querySelector("."+ci+'[data-date="'+i+'"]');this.parent.currentView==="Month"&&n&&(e.scrollWidth>e.clientWidth&&(this.parent.enableRtl?e.scrollLeft=-(this.parent.getContentTable().offsetWidth-n.offsetLeft-n.offsetWidth):e.scrollLeft=n.offsetLeft),e.scrollTop=n.offsetTop),this.parent.currentView==="TimelineMonth"&&n&&(this.parent.enableRtl?e.scrollLeft=-(this.parent.getContentTable().offsetWidth-n.offsetLeft-n.offsetWidth):e.scrollLeft=n.offsetLeft)}},r.prototype.setPersistence=function(){if(this.parent.enablePersistence){var t=this.element.querySelector(".e-content-wrap");this.parent.virtualScrollModule&&this.isScrolledBottom&&(this.isScrolledBottom=!1,this.skipPersistenceSave=!0,t.scrollTop=this.parent.scrollTop,this.skipPersistenceSave=!1),v(t)||(this.parent.scrollLeft=t.scrollLeft,this.parent.scrollTop=t.scrollTop)}},r.prototype.retainScrollPosition=function(){if(this.parent.enablePersistence){var t=this.parent.element.querySelector(".e-content-wrap");!v(t)&&!v(this.parent.scrollLeft)&&!v(this.parent.scrollTop)&&(this.isScrolledBottom=t.scrollHeight-t.clientHeight<this.parent.scrollTop,t.scrollTop=this.parent.scrollTop,t.scrollLeft=this.parent.scrollLeft)}},r.prototype.getViewStartDate=function(){var t=this.renderDates[0];return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(t=this.parent.resourceBase.getResourceRenderDates()[0]),t},r.prototype.getViewEndDate=function(){var t=Zt(this.renderDates[this.renderDates.length-1],1);return this.parent.activeViewOptions.group.resources.length>0&&this.parent.resourceBase.lastResourceLevel.length>0&&(t=Zt(this.parent.resourceBase.getResourceRenderDates().slice(-1)[0],1)),t},r.prototype.getAdjustedDate=function(t){return!this.parent.activeViewOptions.timeScale.enable||this.parent.currentView==="Month"||this.parent.currentView==="TimelineYear"&&this.parent.activeViewOptions.group.resources.length===0?new Date(t.setHours(0,0,0,0)):this.parent.currentView==="TimelineYear"&&this.parent.activeViewOptions.group.resources.length>0?(t.setHours(0,0,0,0),new Date(t.setDate(1))):null},r.prototype.resetColLevels=function(){this.parent.resourceBase.expandedResources=[];for(var t=this.parent.virtualScrollModule.getRenderedCount(),e=this.parent.activeViewOptions.group.byDate?this.colLevels[0]:this.parent.resourceBase.renderedResources,i=0,n=0;n<e.length&&!(i>=t);n++)i+=e[parseInt(n.toString(),10)].colSpan,this.parent.resourceBase.expandedResources.push(e[parseInt(n.toString(),10)]);this.parent.activeViewOptions.group.byDate?(this.colLevels[0]=this.parent.resourceBase.expandedResources,this.parent.virtualScrollModule.setRenderedDates(this.parent.resourceBase.expandedResources)):(this.colLevels[this.colLevels.length-2]=this.parent.resourceBase.expandedResources,this.parent.resourceBase.renderedResources=this.parent.resourceBase.expandedResources),this.parent.currentView!=="Month"&&(this.colLevels[this.colLevels.length-1]=this.colLevels[this.colLevels.length-1].slice(0,i),this.parent.resourceBase.expandedResources=this.colLevels[this.colLevels.length-1])},r.prototype.getCollection=function(t){return this.parent.virtualScrollModule&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive&&(t||this.parent.virtualScrollModule.existingDataCollection.length>0)?v(t)?this.parent.virtualScrollModule.existingDataCollection:t:[]},r.prototype.getGroupIndices=function(t){return this.getCollection(t).map(function(e){return e.groupIndex})},r.prototype.getRenderedDate=function(t){var e=[];return this.getCollection(t).forEach(function(i){var n=i.date.getTime();e.indexOf(n)===-1&&e.push(n)}),e},r.prototype.destroy=function(){this.element&&this.element.parentNode&&ji(this.element),this.element=null,this.renderDates=null,this.colLevels=null},r})(),nEe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),d3=(function(r){nEe(t,r);function t(e){var i=r.call(this,e)||this;return i.viewClass="e-day-view",i.isInverseTableSelect=!0,i.baseCssClass="e-vertical-view",i.appointment=null,i}return t.prototype.getModuleName=function(){return"verticalView"},t.prototype.addEventListener=function(){this.parent.on(dd,this.scrollUiUpdate,this),this.parent.on(hd,this.renderEvents,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(dd,this.scrollUiUpdate),this.parent.off(hd,this.renderEvents))},t.prototype.renderEvents=function(){this.appointment=this.parent.activeViewOptions.timeScale.enable?new o3(this.parent):new ex(this.parent),this.appointment.renderAppointments(),this.parent.notify(Wj,{})},t.prototype.onContentScroll=function(e){this.parent.removeNewEventElement();var i=e.target;this.parent.notify(rS,e),this.scrollLeftPanel(i),this.scrollTopPanel(i),this.parent.isAdaptive||(this.parent.uiStateValues.top=i.scrollTop),this.parent.uiStateValues.left=i.scrollLeft,!v(this.parent.quickPopup)&&!this.parent.uiStateValues.isTapHold&&this.parent.quickPopup.quickPopupHide(),this.setPersistence()},t.prototype.onAdaptiveMove=function(e){this.parent.uiStateValues.action&&e.preventDefault()},t.prototype.onAdaptiveScroll=function(e){this.parent&&!this.parent.isDestroyed&&(this.parent.removeNewEventElement(),this.parent.uiStateValues.top=e.target.scrollTop)},t.prototype.scrollLeftPanel=function(e){var i=this.getLeftPanelElement();v(i)||(i.scrollTop=e.scrollTop)},t.prototype.scrollUiUpdate=function(e){if(this.parent){var i=this.parent.element.querySelector("."+Au),n=this.getHeaderBarHeight(),s=this.getLeftPanelElement(),a=this.getScrollableElement(),o=this.getDatesHeaderElement(),l=this.parent.element.offsetHeight-n-o.offsetHeight;this.setContentHeight(a,s,l),this.setColWidth(a);var c=Yj();o.firstElementChild.style[e.cssProperties.rtlBorder]="",o.style[e.cssProperties.rtlPadding]="";var u=this.parent.enableAllDayScroll?!(a.offsetWidth-a.clientWidth<=i.offsetWidth-i.clientWidth&&i.classList.contains("e-all-day-scroll")):!0;a.offsetWidth-a.clientWidth>0&&u?(o.firstElementChild.style[e.cssProperties.border]=c>0?"1px":"0px",o.style[e.cssProperties.padding]=c>0?c-1+"px":"0px"):(o.firstElementChild.style[e.cssProperties.border]="",o.style[e.cssProperties.padding]=""),e.isPreventScrollUpdate||(this.parent.uiStateValues.isInitial?(this.parent.currentView.indexOf("Timeline")>-1&&(a.scrollTop=this.parent.uiStateValues.top),this.scrollToWorkHour(),this.parent.uiStateValues.isInitial=!1):(s&&(s.scrollTop=this.parent.uiStateValues.top),a.scrollTop=this.parent.uiStateValues.top,a.scrollLeft=this.parent.uiStateValues.left)),this.parent.activeViewOptions.timeScale.enable&&this.highlightCurrentTime(),this.retainScrollPosition(),!v(s)&&!v(a)&&s.scrollTop!==a.scrollTop&&(s.scrollTop=a.scrollTop)}},t.prototype.setContentHeight=function(e,i,n){this.parent.isAdaptive&&!this.isTimelineView()?e.style.height=this.parent.height==="auto"?"auto":bt(n):(v(i)||(i.style.height=this.parent.height==="auto"?"auto":bt(n-this.getScrollXIndent(e))),e.style.height=this.parent.height==="auto"?"auto":bt(n))},t.prototype.scrollToWorkHour=function(){if(this.parent.workHours.highlight){var e=this.element.querySelector("."+Xy);e&&(this.getScrollableElement().scrollTop=e.offsetTop,this.parent.uiStateValues.top=e.offsetTop,this.parent.uiStateValues.left=0)}},t.prototype.scrollToHour=function(e,i){var n=this.parent.getStartEndTime(e);if(!v(i)){var s=this.element.querySelector("."+Co+'[data-date="'+new Date(Ze(i)).getTime()+'"]');if(s)if(this.parent.enableRtl){var a=this.element.querySelector("."+_n);this.getScrollableElement().scrollLeft=-(a.offsetWidth-s.offsetLeft-s.offsetWidth)}else this.getScrollableElement().scrollLeft=s.offsetLeft}v(n)||(this.getScrollableElement().scrollTop=this.getTopFromDateTime(n))},t.prototype.scrollToDate=function(e){this.scrollToHour(null,e)},t.prototype.generateColumnLevels=function(){var e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays),i=[];if(this.parent.activeViewOptions.group.resources.length>0){if(i=this.parent.resourceBase.generateResourceLevels(e),this.parent.activeViewOptions.group.hideNonWorkingDays)for(;i[0].length===0;)this.parent.setProperties({selectedDate:this.parent.activeView.getNextPreviousDate(this.previousNextAction)},!0),this.parent.activeView.getRenderDates(),this.parent.headerModule&&(this.parent.headerModule.setCalendarDate(this.parent.selectedDate),this.parent.headerModule.updateDateRange()),e=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays),i=this.parent.resourceBase.generateResourceLevels(e);if(this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){var n=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex],s=n.resourceData[n.resource.startHourField],a=n.resourceData[n.resource.endHourField],o=this.getDateSlots(n.renderDates,n.workDays,s,a);i=[o]}}else i.push(e);return this.colLevels=i,i},t.prototype.getDateSlots=function(e,i,n,s){n===void 0&&(n=this.parent.workHours.start),s===void 0&&(s=this.parent.workHours.end);for(var a=[],o=this.parent.getStartEndTime(n),l=this.parent.getStartEndTime(s),c=0,u=e;c<u.length;c++){var d=u[c],p=[Co];this.isCurrentDate(d)&&p.push(pK),a.push({date:d,type:"dateHeader",className:p,colSpan:1,workDays:i,startHour:new Date(+o),endHour:new Date(+l)})}return a},t.prototype.isWorkHourRange=function(e){return this.getStartHour().getTime()<=e.getTime()&&this.getEndHour().getTime()>=e.getTime()},t.prototype.highlightCurrentTime=function(){var e=this;if(!(this.parent.activeViewOptions.headerRows.length>0&&this.parent.activeViewOptions.headerRows.slice(-1)[0].option!=="Hour")){var i=this.parent.getCurrentTime();if(this.parent.showTimeIndicator&&this.isWorkHourRange(i)){var n=this.getCurrentTimeIndicatorIndex();if(n.length>0&&!v(this.element.querySelector("."+ci))){if(this.changeCurrentTimePosition(),v(this.currentTimeIndicatorTimer)){var s=ls-(i.getSeconds()*1e3+i.getMilliseconds());s<=ls-1e3&&window.setTimeout(function(){v(e.currentTimeIndicatorTimer)||(e.clearCurrentTimeIndicatorTimer(),e.changeCurrentTimePosition(),e.updateCurrentTimeIndicatorTimer())},s),this.updateCurrentTimeIndicatorTimer()}}else this.clearCurrentTimeIndicatorTimer()}else this.clearCurrentTimeIndicatorTimer()}},t.prototype.getCurrentTimeIndicatorIndex=function(){var e=[];if(!v(this.parent.resourceBase)&&this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var i=0,n=Ze(this.parent.getCurrentTime());if(this.parent.virtualScrollModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.activeViewOptions.group.byDate)for(var s=0,a=this.parent.resourceBase.expandedResources;s<a.length;s++){var o=a[s];Ze(o.date).getTime()===n.getTime()&&e.push(i),i+=1}else for(var l=0,c=this.parent.resourceBase.renderedResources;l<c.length;l++){var o=c[l],u=this.parent.getIndexOfDate(o.renderDates,n);if(u>=0){var d=this.parent.activeViewOptions.group.byDate?this.parent.resourceBase.lastResourceLevel.length*u+i:i+u;e.push(d)}i+=this.parent.activeViewOptions.group.byDate?1:o.renderDates.length}}else{var p=this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0?this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].renderDates:this.renderDates,u=this.parent.getIndexOfDate(p,Ze(this.parent.getCurrentTime()));u>=0&&e.push(u)}return e},t.prototype.clearCurrentTimeIndicatorTimer=function(){v(this.currentTimeIndicatorTimer)||(window.clearInterval(this.currentTimeIndicatorTimer),this.currentTimeIndicatorTimer=null,this.removeCurrentTimeIndicatorElements())},t.prototype.updateCurrentTimeIndicatorTimer=function(){var e=this;this.currentTimeIndicatorTimer=window.setInterval(function(){e.changeCurrentTimePosition()},ls)},t.prototype.removeCurrentTimeIndicatorElements=function(){for(var e="."+cV+",."+aS+",."+lV,i=[].slice.call(this.element.querySelectorAll(e)),n=0,s=i;n<s.length;n++){var a=s[n];ji(a)}},t.prototype.changeCurrentTimePosition=function(){if(!this.parent||this.parent&&this.parent.isDestroyed){this.parent=null;return}this.removeCurrentTimeIndicatorElements();var e=this.getCurrentTimeIndicatorIndex(),i=this.parent.getContentTable().rows[0],n=this.getTopFromDateTime(this.parent.getCurrentTime()),s=bt(n),a=Math.floor(n/i.cells[0].offsetHeight),o=this.getLeftPanelElement(),l=[].slice.call(o.querySelectorAll("tr"));if(!(v(a)||isNaN(a)||a===l.length)){for(var c=[].slice.call(this.element.querySelectorAll("."+gK)),u=0,d=e[0];u<d;u++)c[parseInt(u.toString(),10)].appendChild(Be("div",{className:cV,styles:"top:"+s}));for(var p=0,m=e;p<m.length;p++){var y=m[p];c.length>y&&c[parseInt(y.toString(),10)].appendChild(Be("div",{className:aS,styles:"top:"+s}))}var M=Be("div",{innerHTML:this.parent.getTimeString(this.parent.getCurrentTime()),className:lV,styles:"top:"+s});a<=l.length&&(Oe(o.querySelectorAll("."+d4),d4),l[parseInt(a.toString(),10)]&&pe([l[parseInt(a.toString(),10)].lastElementChild],d4),Ln([M],o),M.style.top=bt(M.offsetTop-M.offsetHeight/2))}},t.prototype.getTopFromDateTime=function(e){var i=this.getStartEndHours(this.parent.activeViewOptions.startHour),n=this.getStartEndHours(this.parent.activeViewOptions.endHour),s=(e.getHours()-i.getHours())*60+(e.getMinutes()-i.getMinutes()),a=fc(Ze(new Date(e.getTime())),i,n),o=(a.endHour.getTime()-a.startHour.getTime())/ls,l=this.parent.activeViewOptions.timeScale.interval,c=0;return i.getHours()===0&&i.getMinutes()===0&&n.getHours()===0&&n.getMinutes()===0?c=l:c=this.parent.activeViewOptions.timeScale.slotCount!==1?l:l>o?o:l,s*this.getWorkCellHeight()*this.parent.activeViewOptions.timeScale.slotCount/c},t.prototype.getWorkCellHeight=function(){return parseFloat(this.parent.getElementHeight(this.element.querySelector("."+ci)).toFixed(2))},t.prototype.getTdContent=function(e,i,n){var s,a=Be("div"),o="",l=this.parent.element.id+"_";switch(i){case"dateHeader":if(this.parent.activeViewOptions.dateHeaderTemplate){o="dateHeaderTemplate";var c={date:e,type:i,groupIndex:n},u=this.parent.activeViewOptions.dateHeaderTemplateName;s=[].slice.call(this.parent.getDateHeaderTemplate()(c,this.parent,o,l+u+o,!1,void 0,void 0,this.parent.root))}else a.innerHTML=this.parent.activeView.isTimelineView()?'<span class="e-header-date e-navigate">'+this.getTimelineDate(e)+"</span>":'<div class="e-header-day">'+Rn(this.getDayName(e),"single")+"</div>"+('<div class="e-header-date e-navigate" role="link">'+this.getDate(e)+"</div>"),s=[].slice.call(a.childNodes);break;case"majorSlot":if(this.parent.activeViewOptions.timeScale.majorSlotTemplate){o="majorSlotTemplate";var c={date:e,type:i};s=[].slice.call(this.parent.getMajorSlotTemplate()(c,this.parent,o,l+o,!1,void 0,void 0,this.parent.root))}else a.innerHTML="<span>"+this.getTime(e)+"</span>",s=[].slice.call(a.childNodes);break;case"minorSlot":if(this.parent.activeViewOptions.timeScale.minorSlotTemplate){o="minorSlotTemplate";var c={date:e,type:i};s=[].slice.call(this.parent.getMinorSlotTemplate()(c,this.parent,o,l+o,!1,void 0,void 0,this.parent.root))}else s=[].slice.call(a.childNodes);break;case"alldayCells":if(this.parent.activeViewOptions.cellTemplate){var u=this.parent.activeViewOptions.cellTemplateName;o="cellTemplate";var c={date:e,type:i,groupIndex:n};s=[].slice.call(this.parent.getCellTemplate()(c,this.parent,o,l+u+o,!1,void 0,void 0,this.parent.root))}break}return s},t.prototype.refreshHeader=function(){ji(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(Mc,{});var e=this.element.querySelector("."+Au);e&&(e.scrollLeft=this.parent.uiStateValues.left)},t.prototype.renderLayout=function(e){this.setPanel(Be("div",{className:Kj}));var i=[this.baseCssClass,this.viewClass];i.push(e),this.parent.activeViewOptions.group.byDate&&i.push("e-by-date"),this.parent.activeViewOptions.timeScale.enable||pe([this.element],[dTe,this.viewClass]),this.parent.activeViewOptions.allowVirtualScrolling&&!this.parent.uiStateValues.isGroupAdaptive&&i.push(EK),this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace&&i.push(SK),this.renderPanel(e),pe([this.element],i),this.element.appendChild(this.createTableLayout($j)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent(),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+cT)&&this.renderResourceMobileLayout(),this.parent.notify(Mc,{})},t.prototype.renderHeader=function(){var e=Be("tr"),i=Be("td");if(i.appendChild(this.renderDatesHeader()),this.parent.activeViewOptions.timeScale.enable){var n=Be("td",{className:zwe});n.appendChild(this.renderLeftIndent()),e.appendChild(n)}e.appendChild(i),Ln([e],this.element.querySelector("tbody"))},t.prototype.renderContent=function(){this.parent.activeViewOptions.group.resources.length>0&&(this.parent.resourceBase.renderedResources=qe([],this.parent.resourceBase.lastResourceLevel,null,!0));var e=Be("tr"),i=Be("td");if(this.parent.isAdaptive){i.setAttribute("colspan",this.parent.activeViewOptions.timeScale.enable?"2":"1");var n=Be("div",{className:uV});this.parent.activeViewOptions.timeScale.enable&&n.appendChild(this.renderTimeCells()),n.appendChild(this.renderContentArea()),i.appendChild(n),se.add(n,"scroll",this.onAdaptiveScroll,this),se.add(n,Re.touchMoveEvent,this.onAdaptiveMove,this),e.appendChild(i)}else{var s=this.colLevels.slice(0);this.parent.virtualScrollModule&&this.resetColLevels();var a=this.renderContentArea();if(i.appendChild(a),this.parent.activeViewOptions.timeScale.enable){var o=Be("td");o.appendChild(this.renderTimeCells()),e.appendChild(o)}e.appendChild(i),this.parent.virtualScrollModule&&(this.colLevels=s,this.parent.virtualScrollModule.renderVirtualTrack(a))}this.element.querySelector("tbody").appendChild(e)},t.prototype.renderLeftIndent=function(){for(var e=Be("div",{className:mK}),i=this.createTableLayout(),n=Be("tr"),s=this.colLevels.length,a,o=0;o<s;o++){var l=n.cloneNode(),c={className:[this.colLevels[parseInt(o.toString(),10)][0]&&this.colLevels[parseInt(o.toString(),10)][0].className[0]],type:"emptyCells"};if(this.parent.activeViewOptions.showWeekNumber&&c.className.indexOf(Co)!==-1){c.className.push(kN);var u=this.parent.getWeekNumberContent(this.renderDates);c.template=[Be("span",{innerHTML:""+u,attrs:{title:this.parent.localeObj.getConstant("week")+" "+u}})]}a=this.createTd(c),this.parent.renderHeaderIndentTemplate(c,a),l.appendChild(a),i.querySelector("tbody").appendChild(l)}var d=n.cloneNode(),p=Be("div",{attrs:{tabindex:"0",role:"button",title:this.parent.localeObj.getConstant("expandAllDaySection"),"aria-disabled":"false","aria-label":this.parent.localeObj.getConstant("expandAllDaySection")},className:bw+" "+iA+" "+xs+" "+hn}),m={className:[tn],type:"emptyCells"};return a=this.createTd(m),a.appendChild(p),this.parent.renderHeaderIndentTemplate(m,a),d.appendChild(a),i.querySelector("tbody").appendChild(d),e.appendChild(i),e},t.prototype.renderDatesHeader=function(){var e=Be("div",{className:Gj}),i=Be("div",{className:Au});e.appendChild(i);for(var n=this.createTableLayout(),s=Be("tr",{className:Jj}),a=this.colLevels.length,o=this.colLevels[a-1],l=0;l<a;l++){for(var c=s.cloneNode(),u=this.colLevels[parseInt(l.toString(),10)],d=0;d<u.length;d++)c.appendChild(this.createTd(u[parseInt(d.toString(),10)]));n.querySelector("tbody").appendChild(c)}return this.createAllDayRow(n,o),this.createColGroup(n,o),i.appendChild(n),e},t.prototype.createAllDayRow=function(e,i){for(var n=Be("tr",{className:ef}),s=0;s<i.length;s++){var a=qe({},i[parseInt(s.toString(),10)]);a.className=[tn],a.type="alldayCells";var o=this.createTd(a);o.setAttribute("data-date",a.date.getTime().toString()),v(a.groupIndex)?this.parent.uiStateValues.isGroupAdaptive&&o.setAttribute("data-group-index",""+this.parent.uiStateValues.groupIndex):o.setAttribute("data-group-index",""+a.groupIndex),this.wireCellEvents(o),n.appendChild(o)}e.querySelector("tbody").appendChild(n);var l=Be("thead");l.appendChild(this.parent.eventBase.createEventWrapper("allDay")),Ln([l],e)},t.prototype.createTd=function(e){var i=Be("td");if(this.addAttributes(e,i),e.date&&e.type){var n=this.getTdContent(e.date,e.type,e.groupIndex);n&&n.length&&ri(n,i)}this.parent.isMinMaxDate(Ze(new Date(""+e.date)))||pe([i],mT),e.type==="resourceHeader"&&this.setResourceHeaderContent(i,e),e.type==="dateHeader"&&e.className.indexOf(Co)>=0&&(i.setAttribute("data-date",e.date.getTime().toString()),v(e.groupIndex)||i.setAttribute("data-group-index",""+e.groupIndex),this.wireMouseEvents(i));var s={elementType:e.type,element:i,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(Eu,s),i},t.prototype.wireCellEvents=function(e){se.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),this.wireMouseEvents(e)},t.prototype.wireMouseEvents=function(e){se.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||se.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t.prototype.renderTimeCells=function(){var e=this,i=Be("div",{className:$O}),n=this.createTableLayout(),s=Be("tr"),a=function(o){o.type=o.first?"majorSlot":"minorSlot",o.className=o.last?[Pwe,sS]:[sS];var l=s.cloneNode(),c={date:o.date,type:o.type,className:o.className};return l.appendChild(e.createTd(c)),n.querySelector("tbody").appendChild(l),o};return this.getTimeSlotRows(a),i.appendChild(n),i},t.prototype.renderContentArea=function(){var e=Be("div",{className:lr}),i=this.createTableLayout(_n);return this.setAriaAttributes(i),this.addAutoHeightClass(i),this.renderContentTable(i),this.createColGroup(i,this.colLevels.slice(-1)[0]),e.appendChild(i),this.wireCellEvents(i.querySelector("tbody")),se.add(e,"scroll",this.onContentScroll,this),se.add(e,Re.touchMoveEvent,this.onAdaptiveMove,this),e},t.prototype.renderContentTable=function(e){var i=e.querySelector("tbody");ri(this.getContentRows(),i),this.renderContentTableHeader(e)},t.prototype.getContentRows=function(){var e=this,i=[],n=Be("tr"),s=Be("td"),a=[];this.parent.virtualScrollModule&&this.parent.activeViewOptions.group.resources.length>0&&(a=this.parent.activeViewOptions.group.byDate?this.getRenderedDate():this.getGroupIndices());var o=function(l){for(var c=n.cloneNode(),u=0,d=e.colLevels[e.colLevels.length-1];u<d.length;u++){var p=d[u],m=!0;if(e.parent.virtualScrollModule&&e.parent.activeViewOptions.group.resources.length>0){var y=e.parent.activeViewOptions.group.byDate?p.date.getTime():p.groupIndex;m=a.indexOf(y)<0}if(m){var M=e.createContentTd(p,l,s);c.appendChild(M)}}return i.push(c),l};return this.getTimeSlotRows(o),i},t.prototype.createContentTd=function(e,i,n){var s=n.cloneNode();e.colSpan&&s.setAttribute("colspan",e.colSpan.toString());var a=this.getContentTdClass(i),o=Ze(e.date);this.parent.isMinMaxDate(o)||a.push(mT),o=new Date(o.setHours(i.date.getHours(),i.date.getMinutes(),i.date.getSeconds(),i.date.getMilliseconds()));var l="workCells";if(e.className.indexOf(fp)!==-1&&(a.push(f1),l="resourceGroupCells"),this.parent.workHours.highlight&&(this.parent.activeViewOptions.timeScale.enable&&this.isWorkHour(o,e.startHour,e.endHour,e.workDays)||!this.parent.activeViewOptions.timeScale.enable&&this.isWorkDay(o,e.workDays))&&a.push(Xy),pe([s],a),this.parent.activeViewOptions.cellTemplate){var c={date:o,type:l,groupIndex:e.groupIndex},u=this.parent.element.id+"_",d=this.parent.activeViewOptions.cellTemplateName,p=u+d+"cellTemplate",m=[].slice.call(this.parent.getCellTemplate()(c,this.parent,"cellTemplate",p,!1,void 0,void 0,this.parent.root));ri(m,s)}s.setAttribute("data-date",o.getTime().toString());var y="full";if(this.parent.activeViewOptions.timeScale.enable){var w=this.parent.globalize.formatDate(o,{type:"dateTime",skeleton:y,calendar:this.parent.getCalendarMode()}),b=this.parent.globalize.formatDate(this.getEndDateFromStartDate(o),{type:"dateTime",skeleton:y,calendar:this.parent.getCalendarMode()});s.setAttribute("aria-label",w+" "+this.parent.localeObj.getConstant("endAt")+" "+b)}else{var M=this.parent.globalize.formatDate(e.date,{skeleton:y,calendar:this.parent.getCalendarMode()});s.setAttribute("aria-label",M)}if(!v(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive){var D=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex;s.setAttribute("data-group-index",""+D)}var E={elementType:l,element:s,date:o,groupIndex:e.groupIndex};return this.parent.trigger(Eu,E),s},t.prototype.getContentTdClass=function(e){return e.last?[ci]:[ci,Fwe]},t.prototype.renderContentTableHeader=function(e){var i=Be("thead");i.appendChild(this.parent.eventBase.createEventWrapper()),this.parent.activeViewOptions.timeScale.enable&&i.appendChild(this.parent.eventBase.createEventWrapper("timeIndicator")),Ln([i],e)},t.prototype.getScrollableElement=function(){return this.parent.isAdaptive&&!this.isTimelineView()?this.element.querySelector("."+uV):this.getContentAreaElement()},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+$O)},t.prototype.getEndDateFromStartDate=function(e){var i=this.parent.activeViewOptions.timeScale.interval*ls,n=i/this.parent.activeViewOptions.timeScale.slotCount,s=new Date(e.getTime());return s.setMilliseconds(s.getMilliseconds()+n),s},t.prototype.getStartEndHours=function(e){if(!v(e)&&e!==""){var i=new Date(2e3,0,0,0),n=e.split(":");return n.length===2&&i.setHours(parseInt(n[0],10),parseInt(n[1],10),0),i}return new Date(2e3,0,0,0)},t.prototype.getTimeSlotRows=function(e){var i=[],n=this.getStartEndHours(this.parent.activeViewOptions.startHour),s=this.getStartEndHours(this.parent.activeViewOptions.endHour),a=this.parent.activeViewOptions.timeScale.interval*ls,o=a/this.parent.activeViewOptions.timeScale.slotCount,l=Math.round(cs/o),c=n.getTime(),u=s.getTime();if(c!==u){var d=n.getTimezoneOffset()!==s.getTimezoneOffset()?u-c-36e5:u-c;l=Math.round(d/o)}this.parent.activeViewOptions.timeScale.enable||(l=1);for(var p=this.parent.getStartEndTime(this.parent.workHours.start),m=this.parent.getStartEndTime(this.parent.workHours.end),y=0;y<l;y++){var M=new Date(c+o*y);if(bwe(M)||new Date(c).getTimezoneOffset()!==M.getTimezoneOffset()){var w=new Date(c).getTimezoneOffset()-M.getTimezoneOffset();M=new Date(M.getTime()-1e3*60*w)}var b=y%(a/o),D={date:new Date(""+M),startHour:p,endHour:m,first:b===0,middle:b<this.parent.activeViewOptions.timeScale.slotCount-1,last:b===this.parent.activeViewOptions.timeScale.slotCount-1,type:""};e&&e(D),i.push(D)}return i},t.prototype.getAdjustedDate=function(e){if(this.parent.activeViewOptions.timeScale.enable){for(var i=this.getTimeSlotRows(),n=new Date(new Date(i[0].date.getTime()).setHours(e.getHours(),e.getMinutes(),e.getMilliseconds())),s=0;s<i.length;s++)if(i[parseInt(s.toString(),10)].date.getTime()>n.getTime())return e.setHours(i[s-1].date.getHours(),i[s-1].date.getMinutes(),i[s-1].date.getMilliseconds()),new Date(e)}else return new Date(e.setHours(0,0,0,0));return null},t.prototype.destroy=function(){if(!this.parent||this.parent&&this.parent.isDestroyed){this.parent=null;return}if(this.clearCurrentTimeIndicatorTimer(),this.element){this.appointment&&(this.appointment.destroy(),this.appointment=null);var e=this.getContentAreaElement();e&&(se.remove(e,"scroll",this.onContentScroll),se.remove(e,Re.touchMoveEvent,this.onAdaptiveMove)),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),r.prototype.destroy.call(this)}},t})(h3),sEe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),aEe=(function(r){sEe(t,r);function t(e){var i=r.call(this,e)||this;return i.viewClass="e-day-view",i}return t.prototype.getModuleName=function(){return"day"},t})(d3),oEe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),lEe=(function(r){oEe(t,r);function t(e){var i=r.call(this,e)||this;return i.viewClass="e-week-view",i}return t.prototype.startDate=function(){return this.getViewStartDate()},t.prototype.endDate=function(){return this.getViewEndDate()},t.prototype.getModuleName=function(){return"week"},t})(d3),cEe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),uEe=(function(r){cEe(t,r);function t(e){var i=r.call(this,e)||this;return i.viewClass="e-work-week-view",i}return t.prototype.startDate=function(){return this.getViewStartDate()},t.prototype.endDate=function(){return this.getViewEndDate()},t.prototype.getModuleName=function(){return"workWeek"},t})(d3),hEe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),dEe=(function(r){hEe(t,r);function t(e){var i=r.call(this,e)||this;return i.dayNameFormat="wide",i.viewClass="e-month-view",i.isInverseTableSelect=!1,i.monthEvent=null,i.monthDates={},i}return t.prototype.addEventListener=function(){this.parent.on(dd,this.onScrollUIUpdate,this),this.parent.on(hd,this.onDataReady,this),this.parent.on(Yp,this.onCellClick,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(dd,this.onScrollUIUpdate),this.parent.off(hd,this.onDataReady),this.parent.off(Yp,this.onCellClick))},t.prototype.onDataReady=function(e){this.monthEvent=new ex(this.parent),this.monthEvent.renderAppointments(),this.parent.notify(Wj,{})},t.prototype.onCellClick=function(e){},t.prototype.onContentScroll=function(e){this.skipPersistenceSave||(this.parent.removeNewEventElement(),this.parent.notify(rS,e),this.scrollTopPanel(e.target),this.scrollLeftPanel(e.target),this.parent.uiStateValues.top=e.target.scrollTop,this.parent.uiStateValues.left=e.target.scrollLeft,this.setPersistence())},t.prototype.scrollLeftPanel=function(e){var i=this.getLeftPanelElement();i&&(i.scrollTop=e.scrollTop)},t.prototype.getLeftPanelElement=function(){return this.element.querySelector("."+lS)},t.prototype.onScrollUIUpdate=function(e){var i=this.getHeaderBarHeight(),n=this.getDatesHeaderElement(),s=this.getContentAreaElement(),a=this.parent.element.offsetHeight-i-n.offsetHeight,o=this.getLeftPanelElement();this.parent.height!=="auto"&&this.setContentHeight(s,o,a);var l=Yj();if(n.firstElementChild.style[e.cssProperties.rtlBorder]="",n.style[e.cssProperties.rtlPadding]="",s.offsetWidth-s.clientWidth>0?(n.firstElementChild.style[e.cssProperties.border]=l>0?"1px":"0px",n.style[e.cssProperties.padding]=l>0?l-1+"px":"0px"):(n.firstElementChild.style[e.cssProperties.border]="",n.style[e.cssProperties.padding]=""),this.setColWidth(s),e.scrollPosition||!e.isPreventScrollUpdate&&this.parent.currentView==="TimelineMonth"){var c=this.parent.currentView==="TimelineMonth"?this.parent.uiStateValues.top:e.scrollPosition.top;o&&(o.scrollTop=c),s.scrollTop=c,this.parent.uiStateValues.isInitial?(this.scrollToSelectedDate(),this.parent.uiStateValues.isInitial=!1):s.scrollLeft=this.parent.currentView==="TimelineMonth"?this.parent.uiStateValues.left:e.scrollPosition.left}this.retainScrollPosition()},t.prototype.scrollToSelectedDate=function(){var e=new Date(this.parent.selectedDate);e.setHours(0,0,0,0);var i=this.element.querySelector("."+Co+'[data-date="'+e.getTime().toString()+'"]'),n=this.getContentAreaElement();v(i)?n.scrollLeft=0:n.scrollLeft=this.parent.enableRtl?-(this.parent.getContentTable().offsetWidth-i.offsetLeft-i.offsetWidth):i.offsetLeft,n.scrollLeft===0&&this.parent.uiStateValues.isInitial&&(this.parent.uiStateValues.left=0)},t.prototype.setContentHeight=function(e,i,n){e.style.height="auto",this.parent.currentView==="Month"&&(e.style.height=bt(n)),i&&(this.parent.currentView==="MonthAgenda"&&(n=this.parent.activeViewOptions.interval>1?this.getContentAreaElement().firstElementChild.offsetHeight:this.element.querySelector("."+_n).offsetHeight),i.style.height="auto",i.style.height=bt(n-this.getScrollXIndent(e)))},t.prototype.generateColumnLevels=function(){var e=[],i=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);if(this.parent.activeViewOptions.group.resources.length>0){if(e=this.parent.resourceBase.generateResourceLevels(i),this.parent.currentView==="MonthAgenda"&&(e=[i]),this.parent.uiStateValues.isGroupAdaptive&&this.parent.resourceBase.lastResourceLevel.length>0){var n=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex],s=this.getDateSlots(n.renderDates,n.workDays);if(this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.group.hideNonWorkingDays){var a=s.findIndex(function(o,l){return l!==0&&o.date.getDay()===s[0].date.getDay()});s=a>-1?s.slice(0,a):s}e=[s]}}else e.push(i);return this.colLevels=e,e},t.prototype.getDateSlots=function(e,i){for(var n=this.parent.activeViewOptions.showWeekend?uh:i.length,s=[],a=this.isCurrentMonth(this.parent.selectedDate),o=0;o<n;o++){var l=[Co],c=e.slice(0,n).map(function(u){return u.getDay()});a&&c.indexOf(this.parent.currentTimezoneDate.getDay())===o&&l.push(pK),s.push({date:e[parseInt(o.toString(),10)],type:"monthDay",className:l,colSpan:1,workDays:i})}return s},t.prototype.getDayNameFormat=function(){return this.parent.isAdaptive||this.parent.activeViewOptions.group.resources.length>0?"abbreviated":"wide"},t.prototype.renderLayout=function(e){this.dayNameFormat=this.getDayNameFormat(),this.setPanel(Be("div",{className:Kj}));var i=[this.viewClass];i.push(e),this.parent.activeViewOptions.group.byDate&&(i.push("e-by-date"),this.parent.currentView!=="Month"&&(this.parent.activeViewOptions.group.hideNonWorkingDays=!1)),this.parent.activeViewOptions.allowVirtualScrolling&&!this.parent.uiStateValues.isGroupAdaptive&&i.push(EK),this.parent.rowAutoHeight&&this.parent.eventSettings.ignoreWhitespace&&i.push(SK),pe([this.element],i),this.renderPanel(e),this.element.appendChild(this.createTableLayout($j)),this.element.querySelector("table").setAttribute("role","presentation"),this.colLevels=this.generateColumnLevels(),this.renderHeader(),this.renderContent();var n=this.parent.currentView==="MonthAgenda"?this.parent.activeView.getPanel():this.parent.element;this.parent.uiStateValues.isGroupAdaptive&&!n.querySelector("."+cT)&&this.renderResourceMobileLayout(),this.parent.notify(Mc,{}),this.parent.uiStateValues.isCustomMonth&&(this.parent.uiStateValues.isCustomMonth=!1)},t.prototype.refreshHeader=function(){ji(this.element.querySelector("tbody tr")),this.renderHeader(),this.parent.notify(Mc,{});var e=this.element.querySelector("."+Au),i=this.element.querySelector("."+lr);e&&(e.scrollLeft=this.parent.uiStateValues.left),i&&(i.scrollLeft=this.parent.uiStateValues.left)},t.prototype.wireCellEvents=function(e){se.add(e,"mousedown",this.parent.workCellAction.cellMouseDown,this.parent.workCellAction),se.add(e,"click",this.parent.workCellAction.cellClick,this.parent.workCellAction),this.parent.isAdaptive||se.add(e,"dblclick",this.parent.workCellAction.cellDblClick,this.parent.workCellAction)},t.prototype.renderHeader=function(){var e=Be("tr");this.renderLeftIndent(e);var i=Be("td");i.appendChild(this.renderDatesHeader()),e.appendChild(i),Ln([e],this.element.querySelector("tbody"))},t.prototype.renderLeftIndent=function(e){this.parent.activeViewOptions.showWeekNumber&&e.appendChild(Be("td",{className:"e-left-indent"}))},t.prototype.renderContent=function(){this.parent.activeViewOptions.group.resources.length>0&&(this.parent.resourceBase.renderedResources=qe([],this.parent.resourceBase.lastResourceLevel,null,!0));var e=Be("tr");this.parent.activeViewOptions.showWeekNumber&&e.appendChild(this.renderWeekNumberContent());var i=Be("td"),n=this.colLevels.slice(0);this.parent.virtualScrollModule&&this.resetColLevels();var s=Be("div",{className:lr}),a=this.renderContentArea();if(this.parent.currentView==="Month")s.appendChild(a);else{var o=Be("div",{className:fh});o.appendChild(a),s.appendChild(o)}se.add(s,"scroll",this.onContentScroll,this),i.appendChild(s),e.appendChild(i),this.parent.virtualScrollModule&&(this.colLevels=n,this.parent.virtualScrollModule.renderVirtualTrack(s)),this.element.querySelector("tbody").appendChild(e),this.renderAppointmentContainer()},t.prototype.renderWeekNumberContent=function(){var e=this.renderDates.map(function(d){return new Date(+d)}),i=Be("td"),n=Be("div",{className:lS});i.appendChild(n);var s=this.createTableLayout();n.appendChild(s);for(var a=this.parent.activeViewOptions.showWeekend?uh:this.parent.activeViewOptions.workDays.length,o=0,l=this.renderDates.length/a;o<l;o++){var c=e.splice(0,a),u=this.parent.getWeekNumberContent(c);s.querySelector("tbody").appendChild(this.createWeekNumberElement(u))}return i},t.prototype.renderAppointmentContainer=function(){},t.prototype.renderDatesHeader=function(){var e=Be("div",{className:Gj}),i=Be("div",{className:Au});e.appendChild(i);var n=this.createTableLayout();if(this.parent.currentView==="Month"){var s=Be("thead");s.appendChild(Be("tr")),Ln([s],n)}this.createColGroup(n,this.colLevels[this.colLevels.length-1]);for(var a=Be("tr"),o=0;o<this.colLevels.length;o++){for(var l=this.colLevels[parseInt(o.toString(),10)],c=a.cloneNode(),u=0;u<l.length;u++){var d=l[parseInt(u.toString(),10)];c.appendChild(this.createHeaderCell(d))}n.querySelector("tbody").appendChild(c)}return i.appendChild(n),e},t.prototype.createHeaderCell=function(e){var i=Be("td");if(this.addAttributes(e,i),e.type==="monthDay"){var n=Be("span",{innerHTML:Rn(this.parent.getDayNames(this.dayNameFormat)[e.date.getDay()],"single")});i.appendChild(n)}if(e.type==="resourceHeader"&&this.setResourceHeaderContent(i,e),e.type==="dateHeader"){if(pe([i],hT),i.setAttribute("data-date",e.date.getTime().toString()),this.parent.activeViewOptions.dateHeaderTemplate){var s={date:e.date,type:e.type},a=this.parent.element.id+"_",o=this.parent.activeViewOptions.dateHeaderTemplateName,l=a+o+"dateHeaderTemplate",c=[].slice.call(this.parent.getDateHeaderTemplate()(s,this.parent,"dateHeaderTemplate",l,!1,void 0,void 0,this.parent.root));c&&c.length&&ri(c,i)}else{var n=Be("span",{className:V1}),u="full",d=this.parent.globalize.formatDate(e.date,{skeleton:u,calendar:this.parent.getCalendarMode()});n.setAttribute("title",Rn(d,"multiple"));var p=this.parent.calendarUtil.isMonthStart(e.date)&&!this.isCurrentDate(e.date)&&!this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()});n.innerHTML=Rn(p,"single"),i.appendChild(n)}this.wireCellEvents(i)}var m={elementType:e.type,element:i,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(Eu,m),i},t.prototype.getContentSlots=function(){if(!(this.colLevels[this.colLevels.length-1]&&this.colLevels[this.colLevels.length-1][0]))return[];var e=[],i=function(P,C,k,_){var H={date:new Date(+C),groupIndex:k.groupIndex,workDays:k.workDays,type:"monthCells",className:_||[ci]};e[parseInt(P.toString(),10)]||(e[parseInt(P.toString(),10)]=[]),e[parseInt(P.toString(),10)].push(H)},n=this.parent.currentView!=="MonthAgenda"&&this.parent.activeViewOptions.group.resources.length>0;if(n&&!this.parent.uiStateValues.isGroupAdaptive&&!this.parent.activeViewOptions.group.byDate)for(var s=0,a=this.colLevels[this.colLevels.length-2];s<a.length;s++)for(var o=a[s],l=o.renderDates.map(function(P){return new Date(+P)}),c=this.parent.activeViewOptions.showWeekend?uh:o.workDays.length,u=0;u<o.renderDates.length/c;u++)for(var d=l.splice(0,c),p=0,m=d;p<m.length;p++){var y=m[p];i(u,y,o)}else for(var l=this.renderDates.map(function(k){return new Date(+k)}),c=this.parent.activeViewOptions.showWeekend?uh:this.parent.activeViewOptions.workDays.length,M=this.colLevels.slice(0,1)[0],w=this.renderDates.map(Number).indexOf(+M[0].date),u=0;u<this.renderDates.length/c;u++)for(var d=l.splice(0,c),b=w,D=function(H){var j=d[parseInt(b.toString(),10)];if(b++,n){var z=E.colLevels[E.colLevels.length-1],F=z.length/c,X=z.slice(0,F);if(E.parent.activeViewOptions.group.hideNonWorkingDays&&(X=z.filter(function(W){return W.date.getDay()===j.getDay()}),X.length===0))return H=H-1,N=H,"continue";for(var J=0;J<X.length;J++){var U=void 0;J!==0&&(U=[ci,fTe]),i(u,j,X[parseInt(J.toString(),10)],U)}}else i(u,j,E.colLevels[E.colLevels.length-1][0]);N=H},E=this,N,B=w;B<this.colLevels[0].length+w&&B<d.length;B++)D(B),B=N;return e},t.prototype.updateClassList=function(e){!this.isCustomMonth()&&this.isOtherMonth(e.date)&&e.className.push(Ps),this.parent.isMinMaxDate(e.date)||e.className.push(mT),this.updateSelectedCellClass(e)},t.prototype.updateSelectedCellClass=function(e){},t.prototype.isOtherMonth=function(e){return e.getTime()<this.monthDates.start.getTime()||e.getTime()>this.monthDates.end.getTime()},t.prototype.renderContentArea=function(){var e=this.createTableLayout(_n);this.setAriaAttributes(e),this.addAutoHeightClass(e),this.parent.currentView==="TimelineMonth"&&this.createColGroup(e,this.colLevels[this.colLevels.length-1]);var i=new Date(this.parent.selectedDate.getTime());this.monthDates={start:this.parent.calendarUtil.firstDateOfMonth(i),end:this.parent.calendarUtil.lastDateOfMonth(cg(i,this.parent.activeViewOptions.interval-1))};var n=e.querySelector("tbody");return ri(this.getContentRows(),n),this.wireCellEvents(n),e},t.prototype.getContentRows=function(){for(var e=[],i=Be("tr"),n=Be("td"),s=this.getContentSlots(),a=this.parent.currentView==="TimelineMonth",o=a?this.getGroupIndices():[],l=0;l<s.length;l++)if(!(o.length>0&&o.indexOf(s[parseInt(l.toString(),10)][0].groupIndex)>-1)){for(var c=i.cloneNode(),u=0;u<s[parseInt(l.toString(),10)].length;u++){var d=this.createContentTd(s[parseInt(l.toString(),10)][parseInt(u.toString(),10)],n);c.appendChild(d)}e.push(c)}return e},t.prototype.createContentTd=function(e,i){var n=i.cloneNode();e.colSpan&&n.setAttribute("colspan",e.colSpan.toString()),this.updateClassList(e);var s=e.type;if(e.className.indexOf(fp)!==-1&&(e.className.push(f1),s="resourceGroupCells"),this.parent.workHours.highlight&&this.isWorkDay(e.date,e.workDays)&&e.className.push(Lwe),this.isCurrentDate(e.date)&&e.className.push(QO),pe([n],e.className),n.setAttribute("data-date",e.date.getTime().toString()),!v(e.groupIndex)||this.parent.uiStateValues.isGroupAdaptive){var a=this.parent.uiStateValues.isGroupAdaptive?this.parent.uiStateValues.groupIndex:e.groupIndex;n.setAttribute("data-group-index",""+a)}if(this.renderDateHeaderElement(e,n),this.parent.activeViewOptions.cellTemplate){var o={date:e.date,type:s,groupIndex:e.groupIndex},l=this.parent.element.id+"_",c=this.parent.activeViewOptions.cellTemplateName,u=l+c+"cellTemplate",d=[].slice.call(this.parent.getCellTemplate()(o,this.parent,"cellTemplate",u,!1,void 0,void 0,this.parent.root));ri(d,n)}var p={elementType:s,element:n,date:e.date,groupIndex:e.groupIndex};return this.parent.trigger(Eu,p),n},t.prototype.renderDateHeaderElement=function(e,i){if(this.parent.currentView!=="TimelineMonth"){var n=Be("div",{className:hT});if(this.parent.activeViewOptions.cellHeaderTemplate){var s={date:e.date,type:e.type,groupIndex:e.groupIndex},a=this.parent.element.id+"_",o=this.parent.activeViewOptions.cellHeaderTemplateName,l=a+o+"cellHeaderTemplate",c=[].slice.call(this.parent.getCellHeaderTemplate()(s,this.parent,"cellHeaderTemplate",l,!1,void 0,void 0,this.parent.root));ri(c,n)}else{var u=this.parent.calendarUtil.isMonthStart(e.date)&&!this.isCurrentDate(e.date)&&!this.parent.isAdaptive?this.parent.globalize.formatDate(e.date,{format:"MMM d",calendar:this.parent.getCalendarMode()}):this.parent.globalize.formatDate(e.date,{skeleton:"d",calendar:this.parent.getCalendarMode()});n.innerHTML=Rn(u,"single")}if(i.appendChild(n),this.getModuleName()==="month"){pe([n],V1);var d="full",p=this.parent.globalize.formatDate(e.date,{skeleton:d,calendar:this.parent.getCalendarMode()});i.setAttribute("aria-label",p)}}},t.prototype.getMonthStart=function(e){var i=this.parent.currentView==="Month"&&!v(this.parent.activeViewOptions.displayDate)&&!this.parent.uiStateValues.isSwipeScroll&&(this.parent.uiStateValues.isCustomMonth||this.isCustomRange()),n=i?this.parent.activeViewOptions.displayDate:!(this.parent.uiStateValues.isCustomMonth||!this.parent.uiStateValues.isSwipeScroll&&this.isCustomRange())&&this.isCustomMonth()?e:this.parent.calendarUtil.firstDateOfMonth(e),s=dh(n,this.parent.activeViewOptions.firstDayOfWeek);return new Date(s.getFullYear(),s.getMonth(),s.getDate())},t.prototype.getMonthEnd=function(e){if(this.isCustomMonth()){var i=this.getMonthStart(e),n=uh*(this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeViewOptions.numberOfWeeks:iV);return Zt(i,n-1)}else{var s=cg(e,this.parent.activeViewOptions.interval-1),a=dh(this.parent.calendarUtil.lastDateOfMonth(s),this.parent.activeViewOptions.firstDayOfWeek);return Zt(a,uh-1)}},t.prototype.isCustomRange=function(){var e=this.parent.getCurrentViewDates();if(e&&e.length>0){var i=Ze(this.parent.selectedDate).getTime(),n=dh(e[e.length-1],this.parent.activeViewOptions.firstDayOfWeek);return!(i>=dh(e[0],this.parent.activeViewOptions.firstDayOfWeek).getTime()&&i<=Zt(n,6).getTime())}return!1},t.prototype.getRenderDates=function(e,i){i===void 0&&(i=this.parent.selectedDate);var n=[],s=Ze(i),a=this.getMonthStart(s),o=this.getMonthEnd(s);do(this.parent.activeViewOptions.showWeekend||this.isWorkDay(a,e))&&n.push(a),a=Zt(a,1),a.getHours()>0&&(a=Ze(a));while(a.getTime()<=o.getTime());return e||(this.renderDates=n),this.parent.headerModule&&this.parent.headerModule.previousNextIconHandler(),n},t.prototype.getNextPreviousDate=function(e){if(this.isCustomMonth()){var i=this.parent.getCurrentViewDates(),n=dh(e==="Next"?i[i.length-1]:i[0],this.parent.activeViewOptions.firstDayOfWeek);return Zt(n,e==="Next"?uh:-(this.parent.activeViewOptions.numberOfWeeks>0?this.parent.activeViewOptions.numberOfWeeks:iV)*uh)}else return cg(this.parent.selectedDate,(e==="Next"?1:-1)*this.parent.activeViewOptions.interval)},t.prototype.getStartDate=function(){return this.getMonthStart(this.parent.selectedDate)},t.prototype.getEndDate=function(){return this.getMonthEnd(this.parent.selectedDate)},t.prototype.getEndDateFromStartDate=function(e){return Zt(new Date(e.getTime()),1)},t.prototype.getDateRangeText=function(e,i){if(e===void 0&&(e=this.parent.selectedDate),i===void 0&&(i=null),this.parent.isAdaptive||v(this.parent.activeViewOptions.dateFormat)){var n=7;e=!v(i)&&i.length>n-1?i[n-1]:e;var s=void 0,a=!1;if(this.isCustomMonth()){var o=!v(i)&&i.length>0?i:this.parent.getCurrentViewDates();a=o[0].getMonth()!==o[o.length-1].getMonth()||o[0].getFullYear()!==o[o.length-1].getFullYear(),a&&(e=o[0],s=o[o.length-1])}var l=this.parent.currentView!=="Month"||!this.isCustomMonth();if(this.parent.activeViewOptions.interval>1&&l||a){if(s=s||cg(B1(e),this.parent.activeViewOptions.interval-1),e.getFullYear()===s.getFullYear()){var c=this.parent.globalize.formatDate(e,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" - "+this.parent.globalize.formatDate(s,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(s,{skeleton:"y",calendar:this.parent.getCalendarMode()});return Rn(c,"single")}var u=this.parent.globalize.formatDate(e,{format:"MMMM",calendar:this.parent.getCalendarMode()})+" "+e.getFullYear()+" - "+this.parent.globalize.formatDate(s,{format:"MMMM ",calendar:this.parent.getCalendarMode()})+this.parent.globalize.formatDate(s,{skeleton:"y",calendar:this.parent.getCalendarMode()});return Rn(u,"single")}var d=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";return Rn(this.parent.globalize.formatDate(e,{format:d,calendar:this.parent.getCalendarMode()}),"single")}return this.formatDateRange(!v(i)&&i.length>0?i[0]:this.parent.selectedDate)},t.prototype.getLabelText=function(e){var i=e.charAt(0).toLowerCase()+e.substring(1);return this.formatViewLabel(i,this.getStartDate(),this.getEndDate())},t.prototype.createWeekNumberElement=function(e){var i=Be("tr"),n=Be("td",{className:kN,attrs:{title:e?this.parent.localeObj.getConstant("week")+" "+e:""},innerHTML:e||""});i.appendChild(n);var s={elementType:"weekNumberCell",element:n};return this.parent.trigger(Eu,s),i},t.prototype.unWireEvents=function(){var e=this.element.querySelector("."+lr);e&&se.remove(e,"scroll",this.onContentScroll)},t.prototype.isCustomMonth=function(){return this.parent.currentView==="Month"&&(!v(this.parent.activeViewOptions.displayDate)||this.parent.activeViewOptions.numberOfWeeks>0)},t.prototype.getModuleName=function(){return"month"},t.prototype.destroy=function(){if(!this.parent||this.parent&&this.parent.isDestroyed){this.parent=null;return}this.element&&(this.monthEvent&&(this.monthEvent.destroy(),this.monthEvent=null),this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.scheduleTouchModule&&this.parent.scheduleTouchModule.resetValues(),r.prototype.destroy.call(this))},t})(h3),fEe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),pEe=(function(r){fEe(t,r);function t(e){return r.call(this,e)||this}return t.prototype.createAgendaContentElement=function(e,i,n,s,a){var o=this,l,c=this.parent.eventFields;if(e==="noEvents"){var u=[{subject:this.parent.localeObj.getConstant("noEvents")}];l=en.createList(this.parent.createElement,u,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass,template:rL(function(){return'<div class="'+mV+'">'+o.parent.localeObj.getConstant("noEvents")+"</div>"})}),l.querySelector(".e-agenda-item").children.length===0&&l.firstElementChild.appendChild(Be("div",{className:mV,innerHTML:this.parent.localeObj.getConstant("noEvents")}))}else{l=en.createList(this.parent.createElement,i,{moduleName:"agenda",listClass:this.parent.activeView.viewClass,itemClass:this.parent.activeView.viewClass});var d=[].slice.call(l.children);d.forEach(function(p,m){var y=Be("div",{className:Ni,attrs:{"data-id":"Appointment_"+i[parseInt(m.toString(),10)][""+o.parent.eventFields.id],"data-guid":i[parseInt(m.toString(),10)].Guid,role:"button",tabindex:"0","aria-disabled":o.parent.eventBase.getReadonlyAttribute(i[parseInt(m.toString(),10)]),"aria-label":o.parent.getAnnouncementString(i[parseInt(m.toString(),10)])}});v(a)||y.setAttribute("data-group-index",a.toString()),o.parent.eventBase.applyResourceColor(y,i[parseInt(m.toString(),10)],"borderColor",s);var M;if(v(o.parent.activeViewOptions.eventTemplate))M=o.createAppointment(i[parseInt(m.toString(),10)]);else{pe([y],gTe);var w=o.parent.element.id+"_",b=o.parent.activeViewOptions.eventTemplateName,D=w+b+"eventTemplate";if(M=o.parent.getAppointmentTemplate()(i[parseInt(m.toString(),10)],o.parent,"eventTemplate",D,!1,void 0,void 0,o.parent.root),!v(i[parseInt(m.toString(),10)][c.recurrenceRule])){var E=i[parseInt(m.toString(),10)][c.id]===i[parseInt(m.toString(),10)][c.recurrenceID]?fT:pT;y.appendChild(Be("div",{className:xs+" "+E}))}}ri([].slice.call(M),y),df(p),p.appendChild(y);var N={data:qe({},i[parseInt(m.toString(),10)],null,!0),element:p,cancel:!1};o.parent.trigger(P1,N,function(B){B.cancel&&ji(p)})})}return n.appendChild(l),(this.parent.currentView==="MonthAgenda"&&this.parent.activeViewOptions.group.resources.length>0||this.parent.currentView==="Agenda")&&pe([n],pV),this.parent.renderTemplates(),n},t.prototype.createAppointment=function(e){var i=this.parent.eventFields,n=e[i.subject]||this.parent.eventSettings.fields.subject.default||this.parent.localeObj.getConstant("addTitle"),s=e[i.location]||this.parent.eventSettings.fields.location.default,a=Be("div",{className:uS});!v(s)&&s!==""&&(n+=",");var o=Be("div",{className:Bs});if(this.parent.sanitize(n,o),a.appendChild(o),!v(s)&&s!==""){var l=Be("div",{className:G0});this.parent.sanitize(s,l),a.appendChild(l)}if(!v(e[i.recurrenceRule])){var c=e[i.id]===e[i.recurrenceID]?fT:pT;a.appendChild(Be("div",{className:xs+" "+c}))}var u=e[i.startTime],d=e[i.endTime],p=e[i.isAllDay],m=this.parent.localeObj.getConstant("allDay"),y=this.parent.getTimeString(u)+" - "+this.parent.getTimeString(d);if(!v(e.data)){var M=d.getTimezoneOffset()!==u.getTimezoneOffset()?d.getTime()-u.getTime()+36e5:d.getTime()-u.getTime(),w=M/cs>=1?m:y;m=w+" ("+this.parent.localeObj.getConstant("day")+" "+e.data.index+"/"+e.data.count+")"}var b=!v(e.data)||p?m:y,D=Be("div",{className:XO,innerHTML:b});return[a,D]},t.prototype.processAgendaEvents=function(e){var i=[];if(v(e))return i;for(var n=0,s=e;n<s.length;n++){var a=s[n],o=this.parent.eventBase.splitEventByDay(a);i=i.concat(o.length>1?o:a)}return i},t.prototype.wireEventActions=function(){for(var e=[].slice.call(this.parent.element.querySelectorAll("."+Ni)),i=0,n=e;i<n.length;i++){var s=n[i];this.parent.eventBase.wireAppointmentEvents(s,this.parent.getEventDetails(s),!0)}for(var a=[].slice.call(this.parent.element.querySelectorAll(".e-m-date")),o=0,l=a;o<l.length;o++){var s=l[o];se.add(s,"click",this.parent.agendaModule.dayNavigationClick,this)}},t.prototype.calculateResourceTableElement=function(e,i,n,s){if(s===void 0&&(s=null),v(this.parent.resourceBase.lastResourceLevel)){var a=this.getDateSlots(this.renderDates,this.parent.activeViewOptions.workDays);this.parent.resourceBase.generateResourceLevels(a)}for(var o=Zt(new Date(n.getTime()),i),l=this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda"?i:1,c=this.parent.resourceBase.resourceCollection,u=this.parent.resourceBase.lastResourceLevel,d=n,p=n,m=this.parent.activeViewOptions.showWeekend,y=0;y<l;y++){var M=[],w=[],b=0,D=void 0,E=void 0,N=Zt(p,y);if(this.parent.currentView==="Agenda"&&this.parent.activeViewOptions.group.byDate&&this.parent.activeViewOptions.allowVirtualScrolling&&!m&&!this.isWorkDay(N)){do if(N=Zt(N,1),N>=s)break;while(!this.isWorkDay(N)||this.parent.eventBase.filterEvents(N,Zt(N,1)).length<1);if(N>=s)break;p=Zt(N,-y),o=Zt(N,1)}var B=this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda"?Zt(N,1):o,P=this.parent.eventBase.filterEvents(N,B);if(P.length>0||!this.parent.hideEmptyAgendaDays||this.parent.currentView==="MonthAgenda"){for(var C=0;C<u.length;C++){i=!this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda"?i:1;var k=[];n=N;var _=this.parent.eventBase.filterEvents(n,o,P,u[parseInt(C.toString(),10)]);if(_.length>0||!this.parent.hideEmptyAgendaDays||this.parent.currentView==="MonthAgenda")for(var H=0;H<i;H++){var j=this.parent.eventBase.filterEvents(n,Zt(n,1),_,void 0);if(((m||!m&&(this.parent.group.byDate?this.isWorkDay(n):this.isWorkDay(n,u[parseInt(C.toString(),10)].workDays)))&&(j.length>0||!this.parent.hideEmptyAgendaDays)||this.parent.currentView==="MonthAgenda")&&(k.push(j[0]),D={rowSpan:1,type:"eventColumn",resource:c[c.length-1],groupIndex:u[parseInt(C.toString(),10)].groupIndex,groupOrder:u[parseInt(C.toString(),10)].groupOrder,resourceData:u[parseInt(C.toString(),10)].resourceData,eventData:j,date:n},E={rowSpan:1,type:"dateColumn",resource:c[parseInt((c.length-1).toString(),10)],groupOrder:u[parseInt(C.toString(),10)].groupOrder,resourceData:u[parseInt(C.toString(),10)].resourceData,date:n,groupIndex:u[parseInt(C.toString(),10)].groupIndex},M[parseInt(b.toString(),10)]||(M[parseInt(b.toString(),10)]=[]),M[parseInt(b.toString(),10)].push(D),M[parseInt(b.toString(),10)].push(E),b++),n=Zt(n,1),n.getTime()>=o.getTime()||this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda"){if(k.length>0){M[M.length-1][1].cssClass=pV;var z={rowSpan:k.length,type:"resourceColumn",resource:c[parseInt((c.length-1).toString(),10)],groupOrder:u[parseInt(C.toString(),10)].groupOrder.slice(0,-1),resourceData:u[parseInt(C.toString(),10)].resourceData,groupIndex:M.length-k.length,className:[yK],date:n};M[parseInt((M.length-k.length).toString(),10)].push(z),w.push(qe({},z,null,!0))}break}}}for(var F=c.slice(0,-1),X=[],J=0,U=0;U<F.length;U++)for(var k=F[F.length-(U+1)].dataSource,W=0;W<k.length;W++)for(var re=0,Z=0;Z<w.length;Z++)w[parseInt(Z.toString(),10)].groupOrder[F.length-(U+1)]===k[parseInt(W.toString(),10)][F[F.length-(U+1)].idField]&&(J=J+w[parseInt(Z.toString(),10)].rowSpan,X.push(qe({},w[parseInt(Z.toString(),10)],null,!0))),++re===w.length&&X.length>0&&(X[0].rowSpan=J,X[0].type="parentColumnLevel_"+(U+1),X[0].resource=F[F.length-(U+1)],X[0].resourceData=k[parseInt(W.toString(),10)],X[0].date=n,M[X[0].groupIndex].push(X[0]),X=[],J=0);this.createResourceTableRow(M,e)}}var Ee=this.parent.eventBase.filterEvents(d,o);Ee.length===0&&!this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.renderEmptyContent(e,d)},t.prototype.createResourceTableRow=function(e,i){var n=Be("tr"),s,a=Be("td"),o,l=0,c;if(this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda"){for(var u=[],d=this.parent.resourceBase.resourceCollection.slice(0,-1),p=0;p<e.length;p++)u=u.concat(e[parseInt(p.toString(),10)]);c=d.length>0?"parentColumnLevel_"+d.length:"resourceColumn";for(var m=u.filter(function(H){return H.type===c}),y=0;y<m.length;y++)l=l+m[parseInt(y.toString(),10)].rowSpan}for(var M=0;M<e.length;M++){s=n.cloneNode();for(var w=e[parseInt(M.toString(),10)].length-1;w>=0;w--){var b=e[parseInt(M.toString(),10)][parseInt(w.toString(),10)],D=a.cloneNode();if(b.type==="dateColumn"){if(this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda"){o=e[parseInt(M.toString(),10)][parseInt(w.toString(),10)];continue}D.setAttribute("data-date",b.date.getTime().toString()),D.appendChild(this.createDateHeaderElement(b.date,b.groupIndex));var E=[Gd,fV];b.cssClass&&E.push(b.cssClass),pe([D],E),this.isCurrentDate(new Date(b.date.getTime()))&&pe(D.childNodes,xK),s.appendChild(D)}else if(b.type==="eventColumn"){for(var N=b.eventData.length===0?"noEvents":"data",B=0;B<s.childNodes.length;B++){var P=s.childNodes.item(B),C=P.classList.contains("e-resource-column")?dwe:uK;this.parent.trigger(Eu,{elementType:C,element:P,date:b.date,groupIndex:b.groupIndex})}D=this.createAgendaContentElement(N,b.eventData,D,b.groupOrder,b.groupIndex),D.setAttribute("data-date",b.date.getTime().toString()),(this.parent.activeViewOptions.group.byDate||this.parent.currentView==="MonthAgenda")&&pe([D],[Gd,Hwe]),s.appendChild(D);var k=b.eventData.length===0?BO:cK;this.parent.trigger(Eu,{elementType:k,element:D,date:b.date,groupIndex:b.groupIndex})}else D.setAttribute("rowspan",b.rowSpan.toString()),pe([D],Uwe),this.setResourceHeaderContent(D,b,b.className[0]),s.appendChild(D)}if(this.parent.activeViewOptions.group.byDate&&M===0&&this.parent.currentView!=="MonthAgenda"){var D=a.cloneNode();D.setAttribute("data-date",o.date.getTime().toString()),D.setAttribute("rowspan",l.toString()),D.appendChild(this.createDateHeaderElement(o.date)),pe([D],[Gd,fV,Vwe]);var _=qO(this.parent.selectedDate.getTime(),o.date.getTime());if(s.setAttribute("data-row-index",_.toString()),this.parent.element.querySelector('.e-agenda-view tr[data-row-index="'+_+'"]'))break;s.insertBefore(D,s.childNodes[0])}i.appendChild(s)}},t.prototype.createDateHeaderElement=function(e,i){var n;if(this.parent.activeViewOptions.dateHeaderTemplate){n=Be("div",{className:dV});var s={date:e,type:"dateHeader",groupIndex:i},a=this.parent.element.id+"_",o=this.parent.activeViewOptions.dateHeaderTemplateName,l=a+o+"dateHeaderTemplate",c=[].slice.call(this.parent.getDateHeaderTemplate()(s,this.parent,"dateHeaderTemplate",l,!1,void 0,void 0,this.parent.root));ri(c,n)}else n=this.getMobileDateElement(e,dV);return n},t.prototype.renderEmptyContent=function(e,i,n){var s=this.createTableRowElement(i,"noEvents"),a=s.children[0],o=Be("div",{className:Ywe,innerHTML:this.parent.localeObj.getConstant("noEvents")});a.appendChild(o),e.appendChild(s),n&&this.parent.trigger(Eu,{elementType:BO,element:a,date:i})},t.prototype.createTableRowElement=function(e,i){var n=qO(this.parent.selectedDate.getTime(),e.getTime()),s=Be("tr",{attrs:{"data-row-index":n.toString()}}),a=Be("td",{attrs:{class:i==="monthHeader"?MK:Gd,"aria-selected":"false","data-column-index":n.toString(),"data-date":e.getTime().toString()}}),o=a.cloneNode(),l=a.cloneNode();return s.appendChild(o),i!=="noEvents"&&s.appendChild(l),s},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t})(h3),mEe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),gEe=(function(r){mEe(t,r);function t(e){var i=r.call(this,e)||this;return i.viewClass="e-agenda-view",i.isInverseTableSelect=!1,i.agendaDates={},i.virtualScrollTop=1,i}return t.prototype.getModuleName=function(){return"agenda"},t.prototype.renderLayout=function(){this.agendaDates={},this.element=Be("div",{className:Kj}),pe([this.element],this.viewClass),this.element.appendChild(this.createTableLayout($j)),this.element.querySelector("table").setAttribute("role","presentation"),this.parent.element.querySelector("."+fh).appendChild(this.element);var e=Be("tr");this.element.querySelector("tbody").appendChild(e);var i=Be("td");e.appendChild(i);var n=Be("div",{className:lr});i.appendChild(n);var s=this.createTableLayout(_n);this.setAriaAttributes(s),n.appendChild(s);var a=s.querySelector("tbody"),o=Ze(this.parent.selectedDate);this.renderEmptyContent(a,o),this.wireEvents(),this.parent.resourceBase&&this.parent.resourceBase.generateResourceLevels([{renderDates:this.parent.activeView.renderDates}]),this.parent.uiStateValues.isGroupAdaptive&&!this.parent.element.querySelector("."+cT)&&this.renderResourceMobileLayout(),this.parent.notify(Mc,{})},t.prototype.eventLoad=function(e){this.dataSource=qe([],this.parent.eventsData,null,!0);for(var i=0,n=this.parent.eventsData;i<n.length;i++){var s=n[i];delete s.generatedDates}var a=this.parent.activeViewOptions.allowVirtualScrolling?e.processedData:this.parent.eventsProcessed;if(this.parent.uiStateValues.isGroupAdaptive){var o=this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];this.dataSource=this.parent.eventBase.filterEventsByResource(o,this.dataSource),a=this.parent.eventBase.filterEventsByResource(o,a)}this.parent.eventsProcessed=this.processAgendaEvents(a);var l=Ze(this.parent.selectedDate),c=this.element.querySelector("."+_n+" tbody"),u=Fe(c,"."+lr),d=u.scrollTop;df(c),this.renderInitialContent(c,l),this.wireEventActions(),u.scrollTop=d,this.parent.notify(Wj,{}),this.parent.activeViewOptions.allowVirtualScrolling||this.retainScrollPosition()},t.prototype.refreshEvent=function(e){for(var i=[],n=this.parent.eventFields,s=0,a=this.dataSource;s<a.length;s++){var o=a[s];v(o[n.recurrenceID])&&!v(o[n.recurrenceRule])&&!v(o.generatedDates)&&e>=o.generatedDates.end&&(i=i.concat(this.parent.eventBase.generateOccurrence(o,e)))}this.parent.eventsProcessed=this.parent.eventsProcessed.concat(this.processAgendaEvents(i))},t.prototype.refreshHeader=function(){var e=this.element.querySelector("."+_n+" tbody");this.parent.activeViewOptions.group.byDate?df(e):ji(e.firstElementChild);var i=Ze(this.parent.selectedDate),n=Be("tbody"),s=new Date(i.getTime()),a=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(s):Zt(s,this.parent.agendaDaysCount);this.renderContent(n,s,a),ri([].slice.call(n.childNodes),e)},t.prototype.renderInitialContent=function(e,i){var n=Be("tbody"),s=new Date(i.getTime()),a=this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays?this.getEndDateFromStartDate(s):Zt(s,this.parent.agendaDaysCount);if(this.renderContent(n,s,a),ri([].slice.call(n.childNodes),e),this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays&&this.parent.eventsData.length>0)for(var o=this.getContentAreaElement(),l=o.querySelector(".e-content-table");o.offsetWidth<=o.clientWidth&&!(this.parent.isAdaptive&&l.offsetHeight>=o.clientHeight);){var c=Be("tbody");if(a=s,s=Zt(a,-this.parent.agendaDaysCount),this.renderContent(c,s,a),Ln([].slice.call(c.childNodes),e),s<=this.parent.minDate)break}e.childNodes.length<=0&&this.renderEmptyContent(e,i,!0)},t.prototype.renderContent=function(e,i,n){var s=this.parent.eventFields,a=new Date(i.getTime()),o=this.appointmentFiltering(a,n);if(o.length>0&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.hideEmptyAgendaDays)if(!this.parent.activeViewOptions.showWeekend&&!this.isAgendaWorkDay(o[0][s.startTime]))for(var l=0,c=o;l<c.length;l++){var u=c[l];if(this.isAgendaWorkDay(u[s.startTime])){i=new Date(new Date(u[s.startTime].getTime()).setHours(0,0,0,0)),this.updateHeaderText(u[s.startTime]);break}}else i=new Date(new Date(o[0][s.startTime].getTime()).setHours(0,0,0,0)),this.updateHeaderText(o[0][s.startTime]);var d;if(!this.parent.hideEmptyAgendaDays||this.parent.agendaDaysCount>0&&o.length>0){if(this.parent.activeViewOptions.group.resources.length>0&&!this.parent.uiStateValues.isGroupAdaptive){var p=i;this.parent.activeViewOptions.group.byDate||(this.parent.activeViewOptions.allowVirtualScrolling=!1,p=a,this.parent.headerModule&&(this.parent.headerModule.updateDateRange(),this.parent.headerModule.updateHeaderItems("remove"))),this.calculateResourceTableElement(e,this.parent.agendaDaysCount,p,n)}else for(var m=0;m<this.parent.agendaDaysCount;m++){var y=this.createTableRowElement(i,"data"),M=this.element.querySelector('tr[data-row-index="'+ +y.dataset.rowIndex+'"]');if(M||!this.parent.activeViewOptions.showWeekend&&!this.isAgendaWorkDay(i)){if(i=Zt(i,1),!M&&this.parent.activeViewOptions.allowVirtualScrolling&&m--,i.getTime()>n.getTime())break;continue}var w=y.children[0],b=y.children[1],D=this.appointmentFiltering(i);if(D.length>0||!this.parent.hideEmptyAgendaDays&&D.length===0){var E=!this.parent.hideEmptyAgendaDays&&D.length===0?"noEvents":"data";w.appendChild(this.createDateHeaderElement(i)),y.appendChild(w),this.parent.trigger(Eu,{elementType:uK,element:w,date:i});var N=this.createAgendaContentElement(E,D,b);y.appendChild(N),N.querySelectorAll("li").length>0&&e.appendChild(y);var B=!this.parent.hideEmptyAgendaDays&&D.length===0?BO:cK;this.parent.trigger(Eu,{elementType:B,element:N,date:i})}else this.parent.activeViewOptions.allowVirtualScrolling&&m--;if(this.isCurrentDate(new Date(i.getTime()))&&pe(w.childNodes,xK),i=Zt(i,1),i.getTime()>n.getTime())break}d=new Date(i.getTime()-cs)}this.agendaDates={start:a,end:d}},t.prototype.isAgendaWorkDay=function(e){return this.parent.uiStateValues.isGroupAdaptive&&!this.parent.group.byDate?this.isWorkDay(e,this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex].workDays):this.isWorkDay(e)},t.prototype.agendaScrolling=function(e){this.parent.quickPopup&&this.parent.quickPopup.quickPopupHide(),this.parent.activeViewOptions.allowVirtualScrolling&&this.virtualScrolling(e),this.parent.activeViewOptions.allowVirtualScrolling||this.setPersistence()},t.prototype.virtualScrolling=function(e){var i=e.target,n=i.scrollTop,s=i.scrollHeight,a=i.clientHeight,o=n+a,l=this.virtualScrollTop<n?"next":"previous",c=i.querySelector("tbody"),u=Be("tbody"),d=this.getElementFromScrollerPosition(e),p=this.parent.getDateFromElement(d),m,y;if(n===0){if(m=this.getPreviousNextDate(Zt(p,-1),l),y=this.appointmentFiltering(m.start,m.end),y.length>0||!this.parent.hideEmptyAgendaDays){this.renderContent(u,m.start,m.end),Ln([].slice.call(u.childNodes),c),this.wireEventActions();for(var M=0,w=c.children;M<w.length;M++)if(w[parseInt(M.toString(),10)].getAttribute("data-row-index")===d.getAttribute("data-column-index")){var b=w[parseInt(M.toString(),10)].offsetTop-this.element.querySelector(".e-agenda-item").offsetHeight;i.scrollTop=b;break}this.updateHeaderText(p)}}else o>=s-5?(m=this.getPreviousNextDate(Zt(p,1),l),y=this.appointmentFiltering(m.start,m.end),(y.length>0||!this.parent.hideEmptyAgendaDays)&&(this.renderContent(u,m.start,m.end),ri([].slice.call(u.childNodes),c),this.wireEventActions(),this.updateHeaderText(p))):this.updateHeaderText(p);this.virtualScrollTop=n;var D=this.parent.eventBase.getSelectedAppointments();D.length>0&&D[D.length-1].focus()},t.prototype.getElementFromScrollerPosition=function(e){var i,n=e.target,s=n.scrollTop,a=n.scrollHeight,o=n.clientHeight,l=s+o,c=[].slice.call(n.querySelectorAll(".e-agenda-item")),u,d;if(c.length>0){if(s===0)u=c[0],i=Fe(u,"."+Gd);else if(l===a)u=c[c.length-1],i=Fe(u,"."+Gd);else for(var p=0,m=c.length;p<m;p++)if(u=c[parseInt(p.toString(),10)],d=u.getBoundingClientRect(),d.top>=0){i=Fe(u,"."+Gd);break}}return i},t.prototype.updateHeaderText=function(e){this.parent.showHeaderBar&&this.parent.headerModule.updateDateRange(e)},t.prototype.getPreviousNextDate=function(e,i){var n=new Date(e.getTime()),s=this.getStartDateFromEndDate(e),a=this.getEndDateFromStartDate(e),o=0;do{if(this.parent.activeViewOptions.showWeekend||!this.parent.activeViewOptions.showWeekend&&this.isAgendaWorkDay(n)){var l=this.appointmentFiltering(n);(l.length>0||!this.parent.hideEmptyAgendaDays)&&o++}if(n=Zt(n,i==="next"?1:-1),n<s||n>a)break}while(o!==this.parent.agendaDaysCount);var c=Zt(n,i==="next"?-1:1);return i==="next"?{start:e,end:Zt(c,1)}:{start:c,end:Zt(e,1)}},t.prototype.appointmentFiltering=function(e,i){var n=this,s,a;!v(e)&&v(i)?(s=Ze(new Date(e.getTime())),a=xwe(new Date(s.getTime()),cs)):(s=new Date(e.getTime()),a=new Date(i.getTime()));var o=this.parent.eventBase.filterEvents(s,a);if(o.length===0&&(this.refreshEvent(e),o=this.parent.eventBase.filterEvents(s,a)),!v(this.parent.minDate)||!v(this.parent.maxDate)){var l=this.parent.eventFields;o=o.filter(function(c){var u=c[l.startTime],d=c[l.endTime];return!(u.getTime()<n.parent.minDate.getTime()||d.getTime()>Zt(n.parent.maxDate,1).getTime())})}return o},t.prototype.getStartDateFromEndDate=function(e){var i,n=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var s=Math.min.apply(Math,this.parent.eventsProcessed.map(function(a){return a[n.startTime].getTime()}));i=this.parent.hideEmptyAgendaDays?new Date(s):this.parent.minDate}else i=this.parent.hideEmptyAgendaDays?cg(e,-1):this.parent.minDate;return Ze(i)},t.prototype.getEndDateFromStartDate=function(e){var i,n=this.parent.eventFields;if(this.parent.eventsProcessed.length>0){var s=Math.max.apply(Math,this.parent.eventsProcessed.map(function(a){return a[n.endTime].getTime()}));i=this.parent.hideEmptyAgendaDays?new Date(s):this.parent.maxDate}else i=this.parent.hideEmptyAgendaDays?cg(e,1):this.parent.maxDate;return Ze(Zt(i,1))},t.prototype.getNextPreviousDate=function(e){var i=e==="Next"?1:-1;return Zt(this.parent.selectedDate,i)},t.prototype.startDate=function(){return Ze(this.parent.selectedDate)},t.prototype.endDate=function(){return this.parent.activeViewOptions.allowVirtualScrolling?this.getEndDateFromStartDate(this.startDate()):Zt(this.startDate(),this.parent.agendaDaysCount)},t.prototype.getDateRangeText=function(e){var i=this.parent.activeViewOptions.dateFormat?this.parent.activeViewOptions.dateFormat:"MMMM y";if(this.parent.activeViewOptions.allowVirtualScrolling||this.parent.isAdaptive){var n=v(e)?this.parent.selectedDate:e;return Rn(this.parent.globalize.formatDate(n,{format:i,calendar:this.parent.getCalendarMode()}),"multiple")}else{var s=this.parent.selectedDate,a=Zt(s,this.parent.agendaDaysCount-1);return this.formatDateRange(s,a)}},t.prototype.dayNavigationClick=function(e){var i=Fe(e.currentTarget,"."+Gd),n=this.parent.getDateFromElement(i);!v(n)&&!this.parent.isAdaptive&&this.parent.isMinMaxDate(n)&&(this.parent.setProperties({selectedDate:n},!0),this.parent.changeView("Day",e))},t.prototype.wireEvents=function(){se.add(this.element.querySelector("."+lr),tV,this.agendaScrolling,this)},t.prototype.unWireEvents=function(){se.remove(this.element.querySelector("."+lr),tV,this.agendaScrolling);for(var e=[].slice.call(this.element.querySelectorAll(".e-m-date")),i=0,n=e;i<n.length;i++){var s=n[i];se.remove(s,"click",this.dayNavigationClick)}},t.prototype.addEventListener=function(){this.parent.on(dd,this.onAgendaScrollUiUpdate,this),this.parent.on(hd,this.eventLoad,this)},t.prototype.removeEventListener=function(){this.parent&&(this.parent.off(dd,this.onAgendaScrollUiUpdate),this.parent.off(hd,this.eventLoad))},t.prototype.onAgendaScrollUiUpdate=function(){var e=this.getHeaderBarHeight();this.parent.headerModule&&(this.parent.activeViewOptions.allowVirtualScrolling?this.parent.headerModule.updateHeaderItems("add"):this.parent.headerModule.updateHeaderItems("remove"));var i=this.element.querySelector("."+lr);this.parent.height!=="auto"&&(i.style.height=bt(this.parent.element.offsetHeight-e))},t.prototype.scrollToDate=function(e){var i=new Date(+Ze(e));if(this.parent.activeViewOptions.allowVirtualScrolling)(!this.parent.hideEmptyAgendaDays||this.parent.getEvents(i,Zt(i,1),!0).length>0)&&this.parent.changeDate(i);else{var n=this.element.querySelector("."+Gd+'[data-date="'+i.getTime()+'"]');n&&(this.getContentAreaElement().scrollTop=n.offsetTop)}},t.prototype.destroy=function(){if(!this.parent||this.parent&&this.parent.isDestroyed){this.parent=null;return}this.element&&(this.unWireEvents(),this.parent.resourceBase&&this.parent.resourceBase.destroy(),this.parent.headerModule&&this.parent.activeViewOptions.allowVirtualScrolling&&this.parent.headerModule.updateHeaderItems("remove"),r.prototype.destroy.call(this))},t})(pEe),vEe=(function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])},r(t,e)};return function(t,e){r(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}})(),GK=(function(r){vEe(t,r);function t(e){var i=r.call(this,e)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.directivekeys={views:"view",resources:"resource",headerRows:"headerRow",toolbarItems:"toolbarItem"},i.statelessTemplateProps=null,i.templateProps=null,i.immediateRender=!1,i.isReactMock=!0,i.portals=[],i}return t.prototype.render=function(){if(this.isReactMock=!1,(this.element&&!this.initRenderCalled||this.refreshing)&&!this.isReactForeceUpdate)r.prototype.render.call(this),this.initRenderCalled=!0;else return ce.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals))},t})(XDe);Tye(GK,[wye,ce.Component]);const yEe=()=>{const[r,t]=ce.useState([]),[e,i]=ce.useState([]),[n,s]=ce.useState(!0),[a,o]=ce.useState(null),[l,c]=ce.useState(!1);ce.useEffect(()=>{u()},[]);const u=async()=>{s(!0);try{const[D,E]=await Promise.all([rg.getJobs(),Xh.getCustomers()]);if(D.success&&E.success){const N=D.jobs,B=E.customers,P=N.map(C=>{const k=B.find(j=>j.id===C.customerId),_=new Date(`${C.date}T${C.time}`),H=new Date(_.getTime()+(parseFloat(C.estimatedDuration)||2)*60*60*1e3);return{Id:C.id,Subject:`${C.serviceType} - ${k?.name||"Unknown Customer"}`,StartTime:_,EndTime:H,Location:C.address||k?.address||"Location TBD",Description:C.notes||"",IsAllDay:!1,RecurrenceRule:"",RecurrenceID:null,RecurrenceException:"",StartTimezone:"",EndTimezone:"",CategoryColor:d(C.status),JobData:{...C,customer:k,status:C.status,totalCost:C.totalCost,estimatedDuration:C.estimatedDuration,actualHours:C.actualHours,assignedTo:C.assignedTo,priority:C.priority||"medium"}}});t(P),i(B)}else mt.error("Failed to load jobs and customers")}catch(D){console.error("Error loading jobs and customers:",D),mt.error("Error loading calendar data")}s(!1)},d=D=>({scheduled:"#3B82F6","in-progress":"#F59E0B",completed:"#10B981",cancelled:"#EF4444","on-hold":"#8B5CF6"})[D]||"#6B7280",p=D=>({scheduled:"Scheduled","in-progress":"In Progress",completed:"Completed",cancelled:"Cancelled","on-hold":"On Hold"})[D]||"Unknown",m=D=>{const E=D.event.JobData;o(E),c(!0)},y=D=>{const E=D.data.JobData;E&&(E.priority==="high"?D.element.style.borderLeft="4px solid #EF4444":E.priority==="low"&&(D.element.style.borderLeft="4px solid #10B981"))},M=D=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(D||0),w=D=>new Date(D).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),b=D=>new Date(`2000-01-01T${D}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return n?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):x.jsxs(ph.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(iT,{className:"h-8 w-8 text-primary-500 mr-3"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Job Calendar"}),x.jsx("p",{className:"text-gray-600",children:"View and manage your scheduled jobs in calendar format"})]})]}),x.jsx("div",{className:"flex items-center space-x-4",children:x.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),x.jsx("span",{className:"text-gray-600",children:"Scheduled"})]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500 mr-2"}),x.jsx("span",{className:"text-gray-600",children:"In Progress"})]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),x.jsx("span",{className:"text-gray-600",children:"Completed"})]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),x.jsx("span",{className:"text-gray-600",children:"Cancelled"})]})]})})]})}),x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:x.jsxs(GK,{height:"650px",selectedDate:new Date,eventSettings:{dataSource:r},eventClick:m,eventRendered:y,showQuickInfo:!0,enableAdaptiveUI:!0,allowDragAndDrop:!1,allowResize:!1,cssClass:"custom-schedule",children:[x.jsxs(Nye,{children:[x.jsx(Kx,{option:"Day"}),x.jsx(Kx,{option:"Week"}),x.jsx(Kx,{option:"WorkWeek"}),x.jsx(Kx,{option:"Month"}),x.jsx(Kx,{option:"Agenda"})]}),x.jsx(Eye,{services:[aEe,lEe,uEe,dEe,gEe,ZDe,rEe]})]})}),l&&a&&x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:x.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:x.jsxs("div",{className:"mt-3",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Job Details"}),x.jsxs("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:[x.jsx("span",{className:"sr-only",children:"Close"}),x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:a.serviceType}),x.jsx("p",{className:"text-gray-600",children:a.customer?.name||"Unknown Customer"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a.status==="completed"?"bg-green-100 text-green-800":a.status==="in-progress"?"bg-amber-100 text-amber-800":a.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:p(a.status)}),a.priority==="high"&&x.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded",children:"High Priority"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(iT,{className:"h-5 w-5 text-gray-400 mr-3"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Date"}),x.jsx("p",{className:"text-sm text-gray-600",children:w(a.date)})]})]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx(hf,{className:"h-5 w-5 text-gray-400 mr-3"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Time"}),x.jsx("p",{className:"text-sm text-gray-600",children:b(a.time)})]})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(NO,{className:"h-5 w-5 text-gray-400 mr-3"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Customer"}),x.jsx("p",{className:"text-sm text-gray-600",children:a.customer?.name||"Unknown"}),a.customer?.phone&&x.jsx("p",{className:"text-xs text-gray-500",children:a.customer.phone})]})]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx(fG,{className:"h-5 w-5 text-gray-400 mr-3"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Location"}),x.jsx("p",{className:"text-sm text-gray-600",children:a.address||a.customer?.address||"TBD"})]})]})]})]}),x.jsxs("div",{className:"space-y-4",children:[a.estimatedDuration&&x.jsxs("div",{className:"flex items-center",children:[x.jsx(hf,{className:"h-5 w-5 text-gray-400 mr-3"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Estimated Duration"}),x.jsxs("p",{className:"text-sm text-gray-600",children:[a.estimatedDuration," hours"]})]})]}),a.totalCost&&x.jsxs("div",{className:"flex items-center",children:[x.jsx(vw,{className:"h-5 w-5 text-gray-400 mr-3"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Total Cost"}),x.jsx("p",{className:"text-sm text-gray-600",children:M(a.totalCost)})]})]}),a.assignedTo&&x.jsxs("div",{className:"flex items-center",children:[x.jsx(NO,{className:"h-5 w-5 text-gray-400 mr-3"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Assigned To"}),x.jsx("p",{className:"text-sm text-gray-600",children:a.assignedTo})]})]}),a.notes&&x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:"Notes"}),x.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-md",children:a.notes})]})]}),x.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[x.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Close"}),x.jsxs("button",{onClick:()=>{window.location.href="/jobs"},className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[x.jsx(tb,{className:"h-4 w-4 mr-2"}),"Edit Job"]})]})]})]})})}),x.jsx("style",{jsx:!0,global:!0,children:`
        .custom-schedule .e-schedule {
          border: none;
        }
        
        .custom-schedule .e-header-cells {
          background-color: #f8fafc;
          color: #374151;
          font-weight: 600;
        }
        
        .custom-schedule .e-content-table .e-content-row .e-content-cell {
          border-color: #e5e7eb;
        }
        
        .custom-schedule .e-appointment {
          border-radius: 6px;
          font-size: 12px;
        }
        
        .custom-schedule .e-appointment .e-subject {
          font-weight: 500;
        }
        
        .custom-schedule .e-toolbar {
          background-color: #ffffff;
          border-bottom: 1px solid #e5e7eb;
        }
        
        .custom-schedule .e-toolbar .e-btn {
          background-color: #10b981;
          border-color: #10b981;
          color: white;
        }
        
        .custom-schedule .e-toolbar .e-btn:hover {
          background-color: #059669;
          border-color: #059669;
        }
        
        .custom-schedule .e-toolbar .e-btn.e-active {
          background-color: #047857;
          border-color: #047857;
        }
      `})]})},xEe="modulepreload",MEe=function(r){return"/"+r},F8={},F4=function(t,e,i){let n=Promise.resolve();if(e&&e.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");n=l(e.map(c=>{if(c=MEe(c),c in F8)return;F8[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":xEe,u||(p.as="script"),p.crossOrigin="",p.href=c,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return n.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function Qn(r){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(r)}var fd=Uint8Array,Du=Uint16Array,f3=Int32Array,p3=new fd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m3=new fd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),B8=new fd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),KK=function(r,t){for(var e=new Du(31),i=0;i<31;++i)e[i]=t+=1<<r[i-1];for(var n=new f3(e[30]),i=1;i<30;++i)for(var s=e[i];s<e[i+1];++s)n[s]=s-e[i]<<5|i;return{b:e,r:n}},$K=KK(p3,2),wEe=$K.b,gk=$K.r;wEe[28]=258,gk[258]=28;var TEe=KK(m3,0),U8=TEe.r,vk=new Du(32768);for(var Ws=0;Ws<32768;++Ws){var Um=(Ws&43690)>>1|(Ws&21845)<<1;Um=(Um&52428)>>2|(Um&13107)<<2,Um=(Um&61680)>>4|(Um&3855)<<4,vk[Ws]=((Um&65280)>>8|(Um&255)<<8)>>1}var Sw=(function(r,t,e){for(var i=r.length,n=0,s=new Du(t);n<i;++n)r[n]&&++s[r[n]-1];var a=new Du(t);for(n=1;n<t;++n)a[n]=a[n-1]+s[n-1]<<1;var o;if(e){o=new Du(1<<t);var l=15-t;for(n=0;n<i;++n)if(r[n])for(var c=n<<4|r[n],u=t-r[n],d=a[r[n]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)o[vk[d]>>l]=c}else for(o=new Du(i),n=0;n<i;++n)r[n]&&(o[n]=vk[a[r[n]-1]++]>>15-r[n]);return o}),fv=new fd(288);for(var Ws=0;Ws<144;++Ws)fv[Ws]=8;for(var Ws=144;Ws<256;++Ws)fv[Ws]=9;for(var Ws=256;Ws<280;++Ws)fv[Ws]=7;for(var Ws=280;Ws<288;++Ws)fv[Ws]=8;var wS=new fd(32);for(var Ws=0;Ws<32;++Ws)wS[Ws]=5;var bEe=Sw(fv,9,0),DEe=Sw(wS,5,0),XK=function(r){return(r+7)/8|0},EEe=function(r,t,e){return(e==null||e>r.length)&&(e=r.length),new fd(r.subarray(t,e))},cp=function(r,t,e){e<<=t&7;var i=t/8|0;r[i]|=e,r[i+1]|=e>>8},VM=function(r,t,e){e<<=t&7;var i=t/8|0;r[i]|=e,r[i+1]|=e>>8,r[i+2]|=e>>16},B4=function(r,t){for(var e=[],i=0;i<r.length;++i)r[i]&&e.push({s:i,f:r[i]});var n=e.length,s=e.slice();if(!n)return{t:ZK,l:0};if(n==1){var a=new fd(e[0].s+1);return a[e[0].s]=1,{t:a,l:1}}e.sort(function(B,P){return B.f-P.f}),e.push({s:-1,f:25001});var o=e[0],l=e[1],c=0,u=1,d=2;for(e[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=n-1;)o=e[e[c].f<e[d].f?c++:d++],l=e[c!=u&&e[c].f<e[d].f?c++:d++],e[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=s[0].s,i=1;i<n;++i)s[i].s>p&&(p=s[i].s);var m=new Du(p+1),y=yk(e[u-1],m,0);if(y>t){var i=0,M=0,w=y-t,b=1<<w;for(s.sort(function(P,C){return m[C.s]-m[P.s]||P.f-C.f});i<n;++i){var D=s[i].s;if(m[D]>t)M+=b-(1<<y-m[D]),m[D]=t;else break}for(M>>=w;M>0;){var E=s[i].s;m[E]<t?M-=1<<t-m[E]++-1:++i}for(;i>=0&&M;--i){var N=s[i].s;m[N]==t&&(--m[N],++M)}y=t}return{t:new fd(m),l:y}},yk=function(r,t,e){return r.s==-1?Math.max(yk(r.l,t,e+1),yk(r.r,t,e+1)):t[r.s]=e},V8=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new Du(++t),i=0,n=r[0],s=1,a=function(l){e[i++]=l},o=1;o<=t;++o)if(r[o]==n&&o!=t)++s;else{if(!n&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(n),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(n);s=1,n=r[o]}return{c:e.subarray(0,i),n:t}},HM=function(r,t){for(var e=0,i=0;i<t.length;++i)e+=r[i]*t[i];return e},JK=function(r,t,e){var i=e.length,n=XK(t+2);r[n]=i&255,r[n+1]=i>>8,r[n+2]=r[n]^255,r[n+3]=r[n+1]^255;for(var s=0;s<i;++s)r[n+s+4]=e[s];return(n+4+i)*8},H8=function(r,t,e,i,n,s,a,o,l,c,u){cp(t,u++,e),++n[256];for(var d=B4(n,15),p=d.t,m=d.l,y=B4(s,15),M=y.t,w=y.l,b=V8(p),D=b.c,E=b.n,N=V8(M),B=N.c,P=N.n,C=new Du(19),k=0;k<D.length;++k)++C[D[k]&31];for(var k=0;k<B.length;++k)++C[B[k]&31];for(var _=B4(C,7),H=_.t,j=_.l,z=19;z>4&&!H[B8[z-1]];--z);var F=c+5<<3,X=HM(n,fv)+HM(s,wS)+a,J=HM(n,p)+HM(s,M)+a+14+3*z+HM(C,H)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&F<=X&&F<=J)return JK(t,u,r.subarray(l,l+c));var U,W,re,Z;if(cp(t,u,1+(J<X)),u+=2,J<X){U=Sw(p,m,0),W=p,re=Sw(M,w,0),Z=M;var Ee=Sw(H,j,0);cp(t,u,E-257),cp(t,u+5,P-1),cp(t,u+10,z-4),u+=14;for(var k=0;k<z;++k)cp(t,u+3*k,H[B8[k]]);u+=3*z;for(var ae=[D,B],L=0;L<2;++L)for(var Y=ae[L],k=0;k<Y.length;++k){var G=Y[k]&31;cp(t,u,Ee[G]),u+=H[G],G>15&&(cp(t,u,Y[k]>>5&127),u+=Y[k]>>12)}}else U=bEe,W=fv,re=DEe,Z=wS;for(var k=0;k<o;++k){var Q=i[k];if(Q>255){var G=Q>>18&31;VM(t,u,U[G+257]),u+=W[G+257],G>7&&(cp(t,u,Q>>23&31),u+=p3[G]);var te=Q&31;VM(t,u,re[te]),u+=Z[te],te>3&&(VM(t,u,Q>>5&8191),u+=m3[te])}else VM(t,u,U[Q]),u+=W[Q]}return VM(t,u,U[256]),u+W[256]},AEe=new f3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ZK=new fd(0),SEe=function(r,t,e,i,n,s){var a=s.z||r.length,o=new fd(i+a+5*(1+Math.ceil(a/7e3))+n),l=o.subarray(i,o.length-n),c=s.l,u=(s.r||0)&7;if(t){u&&(l[0]=s.r>>3);for(var d=AEe[t-1],p=d>>13,m=d&8191,y=(1<<e)-1,M=s.p||new Du(32768),w=s.h||new Du(y+1),b=Math.ceil(e/3),D=2*b,E=function(Ge){return(r[Ge]^r[Ge+1]<<b^r[Ge+2]<<D)&y},N=new f3(25e3),B=new Du(288),P=new Du(32),C=0,k=0,_=s.i||0,H=0,j=s.w||0,z=0;_+2<a;++_){var F=E(_),X=_&32767,J=w[F];if(M[X]=J,w[F]=X,j<=_){var U=a-_;if((C>7e3||H>24576)&&(U>423||!c)){u=H8(r,l,0,N,B,P,k,H,z,_-z,u),H=C=k=0,z=_;for(var W=0;W<286;++W)B[W]=0;for(var W=0;W<30;++W)P[W]=0}var re=2,Z=0,Ee=m,ae=X-J&32767;if(U>2&&F==E(_-ae))for(var L=Math.min(p,U)-1,Y=Math.min(32767,_),G=Math.min(258,U);ae<=Y&&--Ee&&X!=J;){if(r[_+re]==r[_+re-ae]){for(var Q=0;Q<G&&r[_+Q]==r[_+Q-ae];++Q);if(Q>re){if(re=Q,Z=ae,Q>L)break;for(var te=Math.min(ae,Q-2),le=0,W=0;W<te;++W){var Me=_-ae+W&32767,ve=M[Me],Ie=Me-ve&32767;Ie>le&&(le=Ie,J=Me)}}}X=J,J=M[X],ae+=X-J&32767}if(Z){N[H++]=268435456|gk[re]<<18|U8[Z];var Je=gk[re]&31,xe=U8[Z]&31;k+=p3[Je]+m3[xe],++B[257+Je],++P[xe],j=_+re,++C}else N[H++]=r[_],++B[r[_]]}}for(_=Math.max(_,j);_<a;++_)N[H++]=r[_],++B[r[_]];u=H8(r,l,c,N,B,P,k,H,z,_-z,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=w,s.p=M,s.i=_,s.w=j)}else{for(var _=s.w||0;_<a+c;_+=65535){var Ot=_+65535;Ot>=a&&(l[u/8|0]=c,Ot=a),u=JK(l,u+1,r.subarray(_,Ot))}s.i=a}return EEe(o,0,i+XK(u)+n)},e$=function(){var r=1,t=0;return{p:function(e){for(var i=r,n=t,s=e.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)n+=i+=e[a];i=(i&65535)+15*(i>>16),n=(n&65535)+15*(n>>16)}r=i,t=n},d:function(){return r%=65521,t%=65521,(r&255)<<24|(r&65280)<<8|(t&255)<<8|t>>8}}},NEe=function(r,t,e,i,n){if(!n&&(n={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new fd(s.length+r.length);a.set(s),a.set(r,s.length),r=a,n.w=s.length}return SEe(r,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+t.mem,e,i,n)},t$=function(r,t,e){for(;e;++t)r[t]=e,e>>>=8},IEe=function(r,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(r[0]=120,r[1]=i<<6|(t.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,t.dictionary){var n=e$();n.p(t.dictionary),t$(r,2,n.d())}};function xk(r,t){t||(t={});var e=e$();e.p(r);var i=NEe(r,t,t.dictionary?6:2,4);return IEe(i,t),t$(i,i.length-4,e.d()),i}var CEe=typeof TextDecoder<"u"&&new TextDecoder,OEe=0;try{CEe.decode(ZK,{stream:!0}),OEe=1}catch{}function kEe(r){if(Array.isArray(r))return r}function LEe(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var i,n,s,a,o=[],l=!0,c=!1;try{if(s=(e=e.call(r)).next,t!==0)for(;!(l=(i=s.call(e)).done)&&(o.push(i.value),o.length!==t);l=!0);}catch(u){c=!0,n=u}finally{try{if(!l&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(c)throw n}}return o}}function W8(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=Array(t);e<t;e++)i[e]=r[e];return i}function jEe(r,t){if(r){if(typeof r=="string")return W8(r,t);var e={}.toString.call(r).slice(8,-1);return e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set"?Array.from(r):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?W8(r,t):void 0}}function _Ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y8(r,t){return kEe(r)||LEe(r,t)||jEe(r,t)||_Ee()}function q8(r,t="utf8"){return new TextDecoder(t).decode(r)}const zEe=new TextEncoder;function REe(r){return zEe.encode(r)}const PEe=1024*8,FEe=(()=>{const r=new Uint8Array(4),t=new Uint32Array(r.buffer);return!((t[0]=1)&r[0])})(),U4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class g3{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=PEe,e={}){let i=!1;typeof t=="number"?t=new ArrayBuffer(t):(i=!0,this.lastWrittenByte=t.byteLength);const n=e.offset?e.offset>>>0:0,s=t.byteLength-n;let a=n;(ArrayBuffer.isView(t)||t instanceof g3)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+n),t=t.buffer),i?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const i=(this.offset+t)*2,n=new Uint8Array(i);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const i=U4[e].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,s=this.buffer.slice(n,n+i);if(this.littleEndian===FEe&&e!=="uint8"&&e!=="int8"){const o=new Uint8Array(this.buffer.slice(n,n+i));o.reverse();const l=new U4[e](o.buffer);return this.offset+=i,l.reverse(),l}const a=new U4[e](s);return this.offset+=i,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let i=0;i<t;i++)e+=this.readChar();return e}readUtf8(t=1){return q8(this.readBytes(t))}decodeText(t=1,e="utf8"){return q8(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(REe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function tx(r){let t=r.length;for(;--t>=0;)r[t]=0}const BEe=3,UEe=258,i$=29,VEe=256,HEe=VEe+1+i$,r$=30,WEe=512,YEe=new Array((HEe+2)*2);tx(YEe);const qEe=new Array(r$*2);tx(qEe);const QEe=new Array(WEe);tx(QEe);const GEe=new Array(UEe-BEe+1);tx(GEe);const KEe=new Array(i$);tx(KEe);const $Ee=new Array(r$);tx($Ee);const XEe=(r,t,e,i)=>{let n=r&65535|0,s=r>>>16&65535|0,a=0;for(;e!==0;){a=e>2e3?2e3:e,e-=a;do n=n+t[i++]|0,s=s+n|0;while(--a);n%=65521,s%=65521}return n|s<<16|0};var Mk=XEe;const JEe=()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var i=0;i<8;i++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t},ZEe=new Uint32Array(JEe()),eAe=(r,t,e,i)=>{const n=ZEe,s=i+e;r^=-1;for(let a=i;a<s;a++)r=r>>>8^n[(r^t[a])&255];return r^-1};var Bd=eAe,wk={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},n$={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const tAe=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var iAe=function(r){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const i in e)tAe(e,i)&&(r[i]=e[i])}}return r},rAe=r=>{let t=0;for(let i=0,n=r.length;i<n;i++)t+=r[i].length;const e=new Uint8Array(t);for(let i=0,n=0,s=r.length;i<s;i++){let a=r[i];e.set(a,n),n+=a.length}return e},s$={assign:iAe,flattenChunks:rAe};let a$=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a$=!1}const yT=new Uint8Array(256);for(let r=0;r<256;r++)yT[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;yT[254]=yT[254]=1;var nAe=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,i,n,s,a=r.length,o=0;for(n=0;n<a;n++)e=r.charCodeAt(n),(e&64512)===55296&&n+1<a&&(i=r.charCodeAt(n+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),n++)),o+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(o),s=0,n=0;s<o;n++)e=r.charCodeAt(n),(e&64512)===55296&&n+1<a&&(i=r.charCodeAt(n+1),(i&64512)===56320&&(e=65536+(e-55296<<10)+(i-56320),n++)),e<128?t[s++]=e:e<2048?(t[s++]=192|e>>>6,t[s++]=128|e&63):e<65536?(t[s++]=224|e>>>12,t[s++]=128|e>>>6&63,t[s++]=128|e&63):(t[s++]=240|e>>>18,t[s++]=128|e>>>12&63,t[s++]=128|e>>>6&63,t[s++]=128|e&63);return t};const sAe=(r,t)=>{if(t<65534&&r.subarray&&a$)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let i=0;i<t;i++)e+=String.fromCharCode(r[i]);return e};var aAe=(r,t)=>{const e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let i,n;const s=new Array(e*2);for(n=0,i=0;i<e;){let a=r[i++];if(a<128){s[n++]=a;continue}let o=yT[a];if(o>4){s[n++]=65533,i+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&i<e;)a=a<<6|r[i++]&63,o--;if(o>1){s[n++]=65533;continue}a<65536?s[n++]=a:(a-=65536,s[n++]=55296|a>>10&1023,s[n++]=56320|a&1023)}return sAe(s,n)},oAe=(r,t)=>{t=t||r.length,t>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+yT[r[e]]>t?e:t},Tk={string2buf:nAe,buf2string:aAe,utf8border:oAe};function lAe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var cAe=lAe;const yE=16209,uAe=16191;var hAe=function(t,e){let i,n,s,a,o,l,c,u,d,p,m,y,M,w,b,D,E,N,B,P,C,k,_,H;const j=t.state;i=t.next_in,_=t.input,n=i+(t.avail_in-5),s=t.next_out,H=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),l=j.dmax,c=j.wsize,u=j.whave,d=j.wnext,p=j.window,m=j.hold,y=j.bits,M=j.lencode,w=j.distcode,b=(1<<j.lenbits)-1,D=(1<<j.distbits)-1;e:do{y<15&&(m+=_[i++]<<y,y+=8,m+=_[i++]<<y,y+=8),E=M[m&b];t:for(;;){if(N=E>>>24,m>>>=N,y-=N,N=E>>>16&255,N===0)H[s++]=E&65535;else if(N&16){B=E&65535,N&=15,N&&(y<N&&(m+=_[i++]<<y,y+=8),B+=m&(1<<N)-1,m>>>=N,y-=N),y<15&&(m+=_[i++]<<y,y+=8,m+=_[i++]<<y,y+=8),E=w[m&D];i:for(;;){if(N=E>>>24,m>>>=N,y-=N,N=E>>>16&255,N&16){if(P=E&65535,N&=15,y<N&&(m+=_[i++]<<y,y+=8,y<N&&(m+=_[i++]<<y,y+=8)),P+=m&(1<<N)-1,P>l){t.msg="invalid distance too far back",j.mode=yE;break e}if(m>>>=N,y-=N,N=s-a,P>N){if(N=P-N,N>u&&j.sane){t.msg="invalid distance too far back",j.mode=yE;break e}if(C=0,k=p,d===0){if(C+=c-N,N<B){B-=N;do H[s++]=p[C++];while(--N);C=s-P,k=H}}else if(d<N){if(C+=c+d-N,N-=d,N<B){B-=N;do H[s++]=p[C++];while(--N);if(C=0,d<B){N=d,B-=N;do H[s++]=p[C++];while(--N);C=s-P,k=H}}}else if(C+=d-N,N<B){B-=N;do H[s++]=p[C++];while(--N);C=s-P,k=H}for(;B>2;)H[s++]=k[C++],H[s++]=k[C++],H[s++]=k[C++],B-=3;B&&(H[s++]=k[C++],B>1&&(H[s++]=k[C++]))}else{C=s-P;do H[s++]=H[C++],H[s++]=H[C++],H[s++]=H[C++],B-=3;while(B>2);B&&(H[s++]=H[C++],B>1&&(H[s++]=H[C++]))}}else if((N&64)===0){E=w[(E&65535)+(m&(1<<N)-1)];continue i}else{t.msg="invalid distance code",j.mode=yE;break e}break}}else if((N&64)===0){E=M[(E&65535)+(m&(1<<N)-1)];continue t}else if(N&32){j.mode=uAe;break e}else{t.msg="invalid literal/length code",j.mode=yE;break e}break}}while(i<n&&s<o);B=y>>3,i-=B,y-=B<<3,m&=(1<<y)-1,t.next_in=i,t.next_out=s,t.avail_in=i<n?5+(n-i):5-(i-n),t.avail_out=s<o?257+(o-s):257-(s-o),j.hold=m,j.bits=y};const Iy=15,Q8=852,G8=592,K8=0,V4=1,$8=2,dAe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fAe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),pAe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),mAe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gAe=(r,t,e,i,n,s,a,o)=>{const l=o.bits;let c=0,u=0,d=0,p=0,m=0,y=0,M=0,w=0,b=0,D=0,E,N,B,P,C,k=null,_;const H=new Uint16Array(Iy+1),j=new Uint16Array(Iy+1);let z=null,F,X,J;for(c=0;c<=Iy;c++)H[c]=0;for(u=0;u<i;u++)H[t[e+u]]++;for(m=l,p=Iy;p>=1&&H[p]===0;p--);if(m>p&&(m=p),p===0)return n[s++]=1<<24|64<<16|0,n[s++]=1<<24|64<<16|0,o.bits=1,0;for(d=1;d<p&&H[d]===0;d++);for(m<d&&(m=d),w=1,c=1;c<=Iy;c++)if(w<<=1,w-=H[c],w<0)return-1;if(w>0&&(r===K8||p!==1))return-1;for(j[1]=0,c=1;c<Iy;c++)j[c+1]=j[c]+H[c];for(u=0;u<i;u++)t[e+u]!==0&&(a[j[t[e+u]]++]=u);if(r===K8?(k=z=a,_=20):r===V4?(k=dAe,z=fAe,_=257):(k=pAe,z=mAe,_=0),D=0,u=0,c=d,C=s,y=m,M=0,B=-1,b=1<<m,P=b-1,r===V4&&b>Q8||r===$8&&b>G8)return 1;for(;;){F=c-M,a[u]+1<_?(X=0,J=a[u]):a[u]>=_?(X=z[a[u]-_],J=k[a[u]-_]):(X=96,J=0),E=1<<c-M,N=1<<y,d=N;do N-=E,n[C+(D>>M)+N]=F<<24|X<<16|J|0;while(N!==0);for(E=1<<c-1;D&E;)E>>=1;if(E!==0?(D&=E-1,D+=E):D=0,u++,--H[c]===0){if(c===p)break;c=t[e+a[u]]}if(c>m&&(D&P)!==B){for(M===0&&(M=m),C+=d,y=c-M,w=1<<y;y+M<p&&(w-=H[y+M],!(w<=0));)y++,w<<=1;if(b+=1<<y,r===V4&&b>Q8||r===$8&&b>G8)return 1;B=D&P,n[B]=m<<24|y<<16|C-s|0}}return D!==0&&(n[C+D]=c-M<<24|64<<16|0),o.bits=m,0};var Nw=gAe;const vAe=0,o$=1,l$=2,{Z_FINISH:X8,Z_BLOCK:yAe,Z_TREES:xE,Z_OK:pv,Z_STREAM_END:xAe,Z_NEED_DICT:MAe,Z_STREAM_ERROR:wh,Z_DATA_ERROR:c$,Z_MEM_ERROR:u$,Z_BUF_ERROR:wAe,Z_DEFLATED:J8}=n$,PN=16180,Z8=16181,e7=16182,t7=16183,i7=16184,r7=16185,n7=16186,s7=16187,a7=16188,o7=16189,TS=16190,up=16191,H4=16192,l7=16193,W4=16194,c7=16195,u7=16196,h7=16197,d7=16198,ME=16199,wE=16200,f7=16201,p7=16202,m7=16203,g7=16204,v7=16205,Y4=16206,y7=16207,x7=16208,ta=16209,h$=16210,d$=16211,TAe=852,bAe=592,DAe=15,EAe=DAe,M7=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function AAe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const kv=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.mode<PN||t.mode>d$?1:0},f$=r=>{if(kv(r))return wh;const t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=PN,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(TAe),t.distcode=t.distdyn=new Int32Array(bAe),t.sane=1,t.back=-1,pv},p$=r=>{if(kv(r))return wh;const t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,f$(r)},m$=(r,t)=>{let e;if(kv(r))return wh;const i=r.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?wh:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=e,i.wbits=t,p$(r))},g$=(r,t)=>{if(!r)return wh;const e=new AAe;r.state=e,e.strm=r,e.window=null,e.mode=PN;const i=m$(r,t);return i!==pv&&(r.state=null),i},SAe=r=>g$(r,EAe);let w7=!0,q4,Q4;const NAe=r=>{if(w7){q4=new Int32Array(512),Q4=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(Nw(o$,r.lens,0,288,q4,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;Nw(l$,r.lens,0,32,Q4,0,r.work,{bits:5}),w7=!1}r.lencode=q4,r.lenbits=9,r.distcode=Q4,r.distbits=5},v$=(r,t,e,i)=>{let n;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(t.subarray(e-s.wsize,e),0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),s.window.set(t.subarray(e-i,e-i+n),s.wnext),i-=n,i?(s.window.set(t.subarray(e-i,e),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0},IAe=(r,t)=>{let e,i,n,s,a,o,l,c,u,d,p,m,y,M,w=0,b,D,E,N,B,P,C,k;const _=new Uint8Array(4);let H,j;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(kv(r)||!r.output||!r.input&&r.avail_in!==0)return wh;e=r.state,e.mode===up&&(e.mode=H4),a=r.next_out,n=r.output,l=r.avail_out,s=r.next_in,i=r.input,o=r.avail_in,c=e.hold,u=e.bits,d=o,p=l,k=pv;e:for(;;)switch(e.mode){case PN:if(e.wrap===0){e.mode=H4;break}for(;u<16;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(e.wrap&2&&c===35615){e.wbits===0&&(e.wbits=15),e.check=0,_[0]=c&255,_[1]=c>>>8&255,e.check=Bd(e.check,_,2,0),c=0,u=0,e.mode=Z8;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((c&255)<<8)+(c>>8))%31){r.msg="incorrect header check",e.mode=ta;break}if((c&15)!==J8){r.msg="unknown compression method",e.mode=ta;break}if(c>>>=4,u-=4,C=(c&15)+8,e.wbits===0&&(e.wbits=C),C>15||C>e.wbits){r.msg="invalid window size",e.mode=ta;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=c&512?o7:up,c=0,u=0;break;case Z8:for(;u<16;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(e.flags=c,(e.flags&255)!==J8){r.msg="unknown compression method",e.mode=ta;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=ta;break}e.head&&(e.head.text=c>>8&1),e.flags&512&&e.wrap&4&&(_[0]=c&255,_[1]=c>>>8&255,e.check=Bd(e.check,_,2,0)),c=0,u=0,e.mode=e7;case e7:for(;u<32;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}e.head&&(e.head.time=c),e.flags&512&&e.wrap&4&&(_[0]=c&255,_[1]=c>>>8&255,_[2]=c>>>16&255,_[3]=c>>>24&255,e.check=Bd(e.check,_,4,0)),c=0,u=0,e.mode=t7;case t7:for(;u<16;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}e.head&&(e.head.xflags=c&255,e.head.os=c>>8),e.flags&512&&e.wrap&4&&(_[0]=c&255,_[1]=c>>>8&255,e.check=Bd(e.check,_,2,0)),c=0,u=0,e.mode=i7;case i7:if(e.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}e.length=c,e.head&&(e.head.extra_len=c),e.flags&512&&e.wrap&4&&(_[0]=c&255,_[1]=c>>>8&255,e.check=Bd(e.check,_,2,0)),c=0,u=0}else e.head&&(e.head.extra=null);e.mode=r7;case r7:if(e.flags&1024&&(m=e.length,m>o&&(m=o),m&&(e.head&&(C=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(s,s+m),C)),e.flags&512&&e.wrap&4&&(e.check=Bd(e.check,i,m,s)),o-=m,s+=m,e.length-=m),e.length))break e;e.length=0,e.mode=n7;case n7:if(e.flags&2048){if(o===0)break e;m=0;do C=i[s+m++],e.head&&C&&e.length<65536&&(e.head.name+=String.fromCharCode(C));while(C&&m<o);if(e.flags&512&&e.wrap&4&&(e.check=Bd(e.check,i,m,s)),o-=m,s+=m,C)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=s7;case s7:if(e.flags&4096){if(o===0)break e;m=0;do C=i[s+m++],e.head&&C&&e.length<65536&&(e.head.comment+=String.fromCharCode(C));while(C&&m<o);if(e.flags&512&&e.wrap&4&&(e.check=Bd(e.check,i,m,s)),o-=m,s+=m,C)break e}else e.head&&(e.head.comment=null);e.mode=a7;case a7:if(e.flags&512){for(;u<16;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(e.wrap&4&&c!==(e.check&65535)){r.msg="header crc mismatch",e.mode=ta;break}c=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=up;break;case o7:for(;u<32;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}r.adler=e.check=M7(c),c=0,u=0,e.mode=TS;case TS:if(e.havedict===0)return r.next_out=a,r.avail_out=l,r.next_in=s,r.avail_in=o,e.hold=c,e.bits=u,MAe;r.adler=e.check=1,e.mode=up;case up:if(t===yAe||t===xE)break e;case H4:if(e.last){c>>>=u&7,u-=u&7,e.mode=Y4;break}for(;u<3;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}switch(e.last=c&1,c>>>=1,u-=1,c&3){case 0:e.mode=l7;break;case 1:if(NAe(e),e.mode=ME,t===xE){c>>>=2,u-=2;break e}break;case 2:e.mode=u7;break;case 3:r.msg="invalid block type",e.mode=ta}c>>>=2,u-=2;break;case l7:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){r.msg="invalid stored block lengths",e.mode=ta;break}if(e.length=c&65535,c=0,u=0,e.mode=W4,t===xE)break e;case W4:e.mode=c7;case c7:if(m=e.length,m){if(m>o&&(m=o),m>l&&(m=l),m===0)break e;n.set(i.subarray(s,s+m),a),o-=m,s+=m,l-=m,a+=m,e.length-=m;break}e.mode=up;break;case u7:for(;u<14;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(e.nlen=(c&31)+257,c>>>=5,u-=5,e.ndist=(c&31)+1,c>>>=5,u-=5,e.ncode=(c&15)+4,c>>>=4,u-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=ta;break}e.have=0,e.mode=h7;case h7:for(;e.have<e.ncode;){for(;u<3;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}e.lens[z[e.have++]]=c&7,c>>>=3,u-=3}for(;e.have<19;)e.lens[z[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,H={bits:e.lenbits},k=Nw(vAe,e.lens,0,19,e.lencode,0,e.work,H),e.lenbits=H.bits,k){r.msg="invalid code lengths set",e.mode=ta;break}e.have=0,e.mode=d7;case d7:for(;e.have<e.nlen+e.ndist;){for(;w=e.lencode[c&(1<<e.lenbits)-1],b=w>>>24,D=w>>>16&255,E=w&65535,!(b<=u);){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(E<16)c>>>=b,u-=b,e.lens[e.have++]=E;else{if(E===16){for(j=b+2;u<j;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(c>>>=b,u-=b,e.have===0){r.msg="invalid bit length repeat",e.mode=ta;break}C=e.lens[e.have-1],m=3+(c&3),c>>>=2,u-=2}else if(E===17){for(j=b+3;u<j;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}c>>>=b,u-=b,C=0,m=3+(c&7),c>>>=3,u-=3}else{for(j=b+7;u<j;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}c>>>=b,u-=b,C=0,m=11+(c&127),c>>>=7,u-=7}if(e.have+m>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=ta;break}for(;m--;)e.lens[e.have++]=C}}if(e.mode===ta)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=ta;break}if(e.lenbits=9,H={bits:e.lenbits},k=Nw(o$,e.lens,0,e.nlen,e.lencode,0,e.work,H),e.lenbits=H.bits,k){r.msg="invalid literal/lengths set",e.mode=ta;break}if(e.distbits=6,e.distcode=e.distdyn,H={bits:e.distbits},k=Nw(l$,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,H),e.distbits=H.bits,k){r.msg="invalid distances set",e.mode=ta;break}if(e.mode=ME,t===xE)break e;case ME:e.mode=wE;case wE:if(o>=6&&l>=258){r.next_out=a,r.avail_out=l,r.next_in=s,r.avail_in=o,e.hold=c,e.bits=u,hAe(r,p),a=r.next_out,n=r.output,l=r.avail_out,s=r.next_in,i=r.input,o=r.avail_in,c=e.hold,u=e.bits,e.mode===up&&(e.back=-1);break}for(e.back=0;w=e.lencode[c&(1<<e.lenbits)-1],b=w>>>24,D=w>>>16&255,E=w&65535,!(b<=u);){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(D&&(D&240)===0){for(N=b,B=D,P=E;w=e.lencode[P+((c&(1<<N+B)-1)>>N)],b=w>>>24,D=w>>>16&255,E=w&65535,!(N+b<=u);){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}c>>>=N,u-=N,e.back+=N}if(c>>>=b,u-=b,e.back+=b,e.length=E,D===0){e.mode=v7;break}if(D&32){e.back=-1,e.mode=up;break}if(D&64){r.msg="invalid literal/length code",e.mode=ta;break}e.extra=D&15,e.mode=f7;case f7:if(e.extra){for(j=e.extra;u<j;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}e.length+=c&(1<<e.extra)-1,c>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=p7;case p7:for(;w=e.distcode[c&(1<<e.distbits)-1],b=w>>>24,D=w>>>16&255,E=w&65535,!(b<=u);){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if((D&240)===0){for(N=b,B=D,P=E;w=e.distcode[P+((c&(1<<N+B)-1)>>N)],b=w>>>24,D=w>>>16&255,E=w&65535,!(N+b<=u);){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}c>>>=N,u-=N,e.back+=N}if(c>>>=b,u-=b,e.back+=b,D&64){r.msg="invalid distance code",e.mode=ta;break}e.offset=E,e.extra=D&15,e.mode=m7;case m7:if(e.extra){for(j=e.extra;u<j;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}e.offset+=c&(1<<e.extra)-1,c>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=ta;break}e.mode=g7;case g7:if(l===0)break e;if(m=p-l,e.offset>m){if(m=e.offset-m,m>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=ta;break}m>e.wnext?(m-=e.wnext,y=e.wsize-m):y=e.wnext-m,m>e.length&&(m=e.length),M=e.window}else M=n,y=a-e.offset,m=e.length;m>l&&(m=l),l-=m,e.length-=m;do n[a++]=M[y++];while(--m);e.length===0&&(e.mode=wE);break;case v7:if(l===0)break e;n[a++]=e.length,l--,e.mode=wE;break;case Y4:if(e.wrap){for(;u<32;){if(o===0)break e;o--,c|=i[s++]<<u,u+=8}if(p-=l,r.total_out+=p,e.total+=p,e.wrap&4&&p&&(r.adler=e.check=e.flags?Bd(e.check,n,p,a-p):Mk(e.check,n,p,a-p)),p=l,e.wrap&4&&(e.flags?c:M7(c))!==e.check){r.msg="incorrect data check",e.mode=ta;break}c=0,u=0}e.mode=y7;case y7:if(e.wrap&&e.flags){for(;u<32;){if(o===0)break e;o--,c+=i[s++]<<u,u+=8}if(e.wrap&4&&c!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=ta;break}c=0,u=0}e.mode=x7;case x7:k=xAe;break e;case ta:k=c$;break e;case h$:return u$;case d$:default:return wh}return r.next_out=a,r.avail_out=l,r.next_in=s,r.avail_in=o,e.hold=c,e.bits=u,(e.wsize||p!==r.avail_out&&e.mode<ta&&(e.mode<Y4||t!==X8))&&v$(r,r.output,r.next_out,p-r.avail_out),d-=r.avail_in,p-=r.avail_out,r.total_in+=d,r.total_out+=p,e.total+=p,e.wrap&4&&p&&(r.adler=e.check=e.flags?Bd(e.check,n,p,r.next_out-p):Mk(e.check,n,p,r.next_out-p)),r.data_type=e.bits+(e.last?64:0)+(e.mode===up?128:0)+(e.mode===ME||e.mode===W4?256:0),(d===0&&p===0||t===X8)&&k===pv&&(k=wAe),k},CAe=r=>{if(kv(r))return wh;let t=r.state;return t.window&&(t.window=null),r.state=null,pv},OAe=(r,t)=>{if(kv(r))return wh;const e=r.state;return(e.wrap&2)===0?wh:(e.head=t,t.done=!1,pv)},kAe=(r,t)=>{const e=t.length;let i,n,s;return kv(r)||(i=r.state,i.wrap!==0&&i.mode!==TS)?wh:i.mode===TS&&(n=1,n=Mk(n,t,e,0),n!==i.check)?c$:(s=v$(r,t,e,e),s?(i.mode=h$,u$):(i.havedict=1,pv))};var LAe=p$,jAe=m$,_Ae=f$,zAe=SAe,RAe=g$,PAe=IAe,FAe=CAe,BAe=OAe,UAe=kAe,VAe="pako inflate (from Nodeca project)",mp={inflateReset:LAe,inflateReset2:jAe,inflateResetKeep:_Ae,inflateInit:zAe,inflateInit2:RAe,inflate:PAe,inflateEnd:FAe,inflateGetHeader:BAe,inflateSetDictionary:UAe,inflateInfo:VAe};function HAe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var WAe=HAe;const y$=Object.prototype.toString,{Z_NO_FLUSH:YAe,Z_FINISH:qAe,Z_OK:xT,Z_STREAM_END:G4,Z_NEED_DICT:K4,Z_STREAM_ERROR:QAe,Z_DATA_ERROR:T7,Z_MEM_ERROR:GAe}=n$;function lb(r){this.options=s$.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cAe,this.strm.avail_out=0;let e=mp.inflateInit2(this.strm,t.windowBits);if(e!==xT)throw new Error(wk[e]);if(this.header=new WAe,mp.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Tk.string2buf(t.dictionary):y$.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=mp.inflateSetDictionary(this.strm,t.dictionary),e!==xT)))throw new Error(wk[e])}lb.prototype.push=function(r,t){const e=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?qAe:YAe,y$.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),s=mp.inflate(e,a),s===K4&&n&&(s=mp.inflateSetDictionary(e,n),s===xT?s=mp.inflate(e,a):s===T7&&(s=K4));e.avail_in>0&&s===G4&&e.state.wrap>0&&r[e.next_in]!==0;)mp.inflateReset(e),s=mp.inflate(e,a);switch(s){case QAe:case T7:case K4:case GAe:return this.onEnd(s),this.ended=!0,!1}if(o=e.avail_out,e.next_out&&(e.avail_out===0||s===G4))if(this.options.to==="string"){let l=Tk.utf8border(e.output,e.next_out),c=e.next_out-l,u=Tk.buf2string(e.output,l);e.next_out=c,e.avail_out=i-c,c&&e.output.set(e.output.subarray(l,l+c),0),this.onData(u)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(s===xT&&o===0)){if(s===G4)return s=mp.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};lb.prototype.onData=function(r){this.chunks.push(r)};lb.prototype.onEnd=function(r){r===xT&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s$.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function KAe(r,t){const e=new lb(t);if(e.push(r),e.err)throw e.msg||wk[e.err];return e.result}var $Ae=lb,XAe=KAe,JAe={Inflate:$Ae,inflate:XAe};const{Inflate:ZAe,inflate:eSe}=JAe;var b7=ZAe,tSe=eSe;const x$=[];for(let r=0;r<256;r++){let t=r;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;x$[r]=t}const D7=4294967295;function iSe(r,t,e){let i=r;for(let n=0;n<e;n++)i=x$[(i^t[n])&255]^i>>>8;return i}function rSe(r,t){return(iSe(D7,r,t)^D7)>>>0}function E7(r,t,e){const i=r.readUint32(),n=rSe(new Uint8Array(r.buffer,r.byteOffset+r.offset-t-4,t),t);if(n!==i)throw new Error(`CRC mismatch for chunk ${e}. Expected ${i}, found ${n}`)}function M$(r,t,e){for(let i=0;i<e;i++)t[i]=r[i]}function w$(r,t,e,i){let n=0;for(;n<i;n++)t[n]=r[n];for(;n<e;n++)t[n]=r[n]+t[n-i]&255}function T$(r,t,e,i){let n=0;if(e.length===0)for(;n<i;n++)t[n]=r[n];else for(;n<i;n++)t[n]=r[n]+e[n]&255}function b$(r,t,e,i,n){let s=0;if(e.length===0){for(;s<n;s++)t[s]=r[s];for(;s<i;s++)t[s]=r[s]+(t[s-n]>>1)&255}else{for(;s<n;s++)t[s]=r[s]+(e[s]>>1)&255;for(;s<i;s++)t[s]=r[s]+(t[s-n]+e[s]>>1)&255}}function D$(r,t,e,i,n){let s=0;if(e.length===0){for(;s<n;s++)t[s]=r[s];for(;s<i;s++)t[s]=r[s]+t[s-n]&255}else{for(;s<n;s++)t[s]=r[s]+e[s]&255;for(;s<i;s++)t[s]=r[s]+nSe(t[s-n],e[s],e[s-n])&255}}function nSe(r,t,e){const i=r+t-e,n=Math.abs(i-r),s=Math.abs(i-t),a=Math.abs(i-e);return n<=s&&n<=a?r:s<=a?t:e}function sSe(r,t,e,i,n,s){switch(r){case 0:M$(t,e,n);break;case 1:w$(t,e,n,s);break;case 2:T$(t,e,i,n);break;case 3:b$(t,e,i,n,s);break;case 4:D$(t,e,i,n,s);break;default:throw new Error(`Unsupported filter: ${r}`)}}const aSe=new Uint16Array([255]),oSe=new Uint8Array(aSe.buffer),lSe=oSe[0]===255;function cSe(r){const{data:t,width:e,height:i,channels:n,depth:s}=r,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*n,l=new Uint8Array(i*e*o);let c=0;for(let u=0;u<7;u++){const d=a[u],p=Math.ceil((e-d.x)/d.xStep),m=Math.ceil((i-d.y)/d.yStep);if(p<=0||m<=0)continue;const y=p*o,M=new Uint8Array(y);for(let w=0;w<m;w++){const b=t[c++],D=t.subarray(c,c+y);c+=y;const E=new Uint8Array(y);sSe(b,D,E,M,y,o),M.set(E);for(let N=0;N<p;N++){const B=d.x+N*d.xStep,P=d.y+w*d.yStep;if(!(B>=e||P>=i))for(let C=0;C<o;C++)l[(P*e+B)*o+C]=E[N*o+C]}}}if(s===16){const u=new Uint16Array(l.buffer);if(lSe)for(let d=0;d<u.length;d++)u[d]=uSe(u[d]);return u}else return l}function uSe(r){return(r&255)<<8|r>>8&255}const hSe=new Uint16Array([255]),dSe=new Uint8Array(hSe.buffer),fSe=dSe[0]===255,pSe=new Uint8Array(0);function A7(r){const{data:t,width:e,height:i,channels:n,depth:s}=r,a=Math.ceil(s/8)*n,o=Math.ceil(s/8*n*e),l=new Uint8Array(i*o);let c=pSe,u=0,d,p;for(let m=0;m<i;m++){switch(d=t.subarray(u+1,u+1+o),p=l.subarray(m*o,(m+1)*o),t[u]){case 0:M$(d,p,o);break;case 1:w$(d,p,o,a);break;case 2:T$(d,p,c,o);break;case 3:b$(d,p,c,o,a);break;case 4:D$(d,p,c,o,a);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=p,u+=o+1}if(s===16){const m=new Uint16Array(l.buffer);if(fSe)for(let y=0;y<m.length;y++)m[y]=mSe(m[y]);return m}else return l}function mSe(r){return(r&255)<<8|r>>8&255}const aA=Uint8Array.of(137,80,78,71,13,10,26,10);function S7(r){if(!gSe(r.readBytes(aA.length)))throw new Error("wrong PNG signature")}function gSe(r){if(r.length<aA.length)return!1;for(let t=0;t<aA.length;t++)if(r[t]!==aA[t])return!1;return!0}const vSe="tEXt",ySe=0,E$=new TextDecoder("latin1");function xSe(r){if(wSe(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const MSe=/^[\u0000-\u00FF]*$/;function wSe(r){if(!MSe.test(r))throw new Error("invalid latin1 text")}function TSe(r,t,e){const i=A$(t);r[i]=bSe(t,e-i.length-1)}function A$(r){for(r.mark();r.readByte()!==ySe;);const t=r.offset;r.reset();const e=E$.decode(r.readBytes(t-r.offset-1));return r.skip(1),xSe(e),e}function bSe(r,t){return E$.decode(r.readBytes(t))}const fu={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},$4={UNKNOWN:-1,DEFLATE:0},N7={UNKNOWN:-1,ADAPTIVE:0},X4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},TE={NONE:0,BACKGROUND:1,PREVIOUS:2},J4={SOURCE:0,OVER:1};class DSe extends g3{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:i=!1}=e;this._checkCrc=i,this._inflator=new b7,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=$4.UNKNOWN,this._filterMethod=N7.UNKNOWN,this._interlaceMethod=X4.UNKNOWN,this._colorType=fu.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(S7(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(S7(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const i=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case vSe:TSe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?E7(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const i=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=i+t;break}if(this.offset-i!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?E7(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=ESe(this.readUint8());const e=this.readUint8();this._colorType=e;let i;switch(e){case fu.GREYSCALE:i=1;break;case fu.TRUECOLOUR:i=3;break;case fu.INDEXED_COLOUR:i=1;break;case fu.GREYSCALE_ALPHA:i=2;break;case fu.TRUECOLOUR_ALPHA:i=4;break;case fu.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==$4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let n=0;n<e;n++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,i=this.offset+this.byteOffset;if(i+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,i,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case fu.GREYSCALE:case fu.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case fu.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const i=this.readByte();this._palette[e].push(i)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case fu.UNKNOWN:case fu.GREYSCALE_ALPHA:case fu.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=A$(this),i=this.readUint8();if(i!==$4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const n=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:tSe(n)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:e,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=A7({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)e.data=i.data;else{const n=this._apng.frames.at(t-1);this.disposeFrame(i,n,e),this.addFrameDataToCanvas(e,i)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,i){switch(t.disposeOp){case TE.NONE:break;case TE.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let s=0;s<this._png.width;s++){const a=(n*t.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)i.data[a+o]=0}break;case TE.PREVIOUS:i.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const i=1<<this._png.depth,n=(s,a)=>{const o=((s+e.yOffset)*this._png.width+e.xOffset+a)*this._png.channels,l=(s*e.width+a)*this._png.channels;return{index:o,frameIndex:l}};switch(e.blendOp){case J4.SOURCE:for(let s=0;s<e.height;s++)for(let a=0;a<e.width;a++){const{index:o,frameIndex:l}=n(s,a);for(let c=0;c<this._png.channels;c++)t.data[o+c]=e.data[l+c]}break;case J4.OVER:for(let s=0;s<e.height;s++)for(let a=0;a<e.width;a++){const{index:o,frameIndex:l}=n(s,a);for(let c=0;c<this._png.channels;c++){const u=e.data[l+this._png.channels-1]/i,d=c%(this._png.channels-1)===0?1:e.data[l+c],p=Math.floor(u*d+(1-u)*t.data[o+c]);t.data[o+c]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==N7.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===X4.NO_INTERLACE)this._png.data=A7({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===X4.ADAM7)this._png.data=cSe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:TE.NONE,blendOp:J4.SOURCE,data:t}),this._inflator=new b7,this._writingDataChunks=!1}}function ESe(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var I7;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(I7||(I7={}));function ASe(r,t){return new DSe(r,t).decode()}var ur=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Z4(){ur.console&&typeof ur.console.log=="function"&&ur.console.log.apply(ur.console,arguments)}var Ms={log:Z4,warn:function(r){ur.console&&(typeof ur.console.warn=="function"?ur.console.warn.apply(ur.console,arguments):Z4.call(null,arguments))},error:function(r){ur.console&&(typeof ur.console.error=="function"?ur.console.error.apply(ur.console,arguments):Z4(r))}};function e5(r,t,e){var i=new XMLHttpRequest;i.open("GET",r),i.responseType="blob",i.onload=function(){L0(i.response,t,e)},i.onerror=function(){Ms.error("could not download file")},i.send()}function C7(r){var t=new XMLHttpRequest;t.open("HEAD",r,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function bE(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}}var L0=ur.saveAs||((typeof window>"u"?"undefined":Qn(window))!=="object"||window!==ur?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,t,e){var i=ur.URL||ur.webkitURL,n=document.createElement("a");t=t||r.name||"download",n.download=t,n.rel="noopener",typeof r=="string"?(n.href=r,n.origin!==location.origin?C7(n.href)?e5(r,t,e):bE(n,n.target="_blank"):bE(n)):(n.href=i.createObjectURL(r),setTimeout(function(){i.revokeObjectURL(n.href)},4e4),setTimeout(function(){bE(n)},0))}:"msSaveOrOpenBlob"in navigator?function(r,t,e){if(t=t||r.name||"download",typeof r=="string")if(C7(r))e5(r,t,e);else{var i=document.createElement("a");i.href=r,i.target="_blank",setTimeout(function(){bE(i)})}else navigator.msSaveOrOpenBlob((function(n,s){return s===void 0?s={autoBom:!1}:Qn(s)!=="object"&&(Ms.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(r,e),t)}:function(r,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof r=="string")return e5(r,t,e);var n=r.type==="application/octet-stream",s=/constructor/i.test(ur.HTMLElement)||ur.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||n&&s)&&(typeof FileReader>"u"?"undefined":Qn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=u:location=u,i=null},o.readAsDataURL(r)}else{var l=ur.URL||ur.webkitURL,c=l.createObjectURL(r);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function S$(r){var t;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],i=0;i<e.length;i++){var n=e[i].re,s=e[i].process,a=n.exec(r);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var oA=ur.atob.bind(ur),O7=ur.btoa.bind(ur);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function t5(r,t){var e=r[0],i=r[1],n=r[2],s=r[3];e=kl(e,i,n,s,t[0],7,-680876936),s=kl(s,e,i,n,t[1],12,-389564586),n=kl(n,s,e,i,t[2],17,606105819),i=kl(i,n,s,e,t[3],22,-1044525330),e=kl(e,i,n,s,t[4],7,-176418897),s=kl(s,e,i,n,t[5],12,1200080426),n=kl(n,s,e,i,t[6],17,-1473231341),i=kl(i,n,s,e,t[7],22,-45705983),e=kl(e,i,n,s,t[8],7,1770035416),s=kl(s,e,i,n,t[9],12,-1958414417),n=kl(n,s,e,i,t[10],17,-42063),i=kl(i,n,s,e,t[11],22,-1990404162),e=kl(e,i,n,s,t[12],7,1804603682),s=kl(s,e,i,n,t[13],12,-40341101),n=kl(n,s,e,i,t[14],17,-1502002290),e=Ll(e,i=kl(i,n,s,e,t[15],22,1236535329),n,s,t[1],5,-165796510),s=Ll(s,e,i,n,t[6],9,-1069501632),n=Ll(n,s,e,i,t[11],14,643717713),i=Ll(i,n,s,e,t[0],20,-373897302),e=Ll(e,i,n,s,t[5],5,-701558691),s=Ll(s,e,i,n,t[10],9,38016083),n=Ll(n,s,e,i,t[15],14,-660478335),i=Ll(i,n,s,e,t[4],20,-405537848),e=Ll(e,i,n,s,t[9],5,568446438),s=Ll(s,e,i,n,t[14],9,-1019803690),n=Ll(n,s,e,i,t[3],14,-187363961),i=Ll(i,n,s,e,t[8],20,1163531501),e=Ll(e,i,n,s,t[13],5,-1444681467),s=Ll(s,e,i,n,t[2],9,-51403784),n=Ll(n,s,e,i,t[7],14,1735328473),e=jl(e,i=Ll(i,n,s,e,t[12],20,-1926607734),n,s,t[5],4,-378558),s=jl(s,e,i,n,t[8],11,-2022574463),n=jl(n,s,e,i,t[11],16,1839030562),i=jl(i,n,s,e,t[14],23,-35309556),e=jl(e,i,n,s,t[1],4,-1530992060),s=jl(s,e,i,n,t[4],11,1272893353),n=jl(n,s,e,i,t[7],16,-155497632),i=jl(i,n,s,e,t[10],23,-1094730640),e=jl(e,i,n,s,t[13],4,681279174),s=jl(s,e,i,n,t[0],11,-358537222),n=jl(n,s,e,i,t[3],16,-722521979),i=jl(i,n,s,e,t[6],23,76029189),e=jl(e,i,n,s,t[9],4,-640364487),s=jl(s,e,i,n,t[12],11,-421815835),n=jl(n,s,e,i,t[15],16,530742520),e=_l(e,i=jl(i,n,s,e,t[2],23,-995338651),n,s,t[0],6,-198630844),s=_l(s,e,i,n,t[7],10,1126891415),n=_l(n,s,e,i,t[14],15,-1416354905),i=_l(i,n,s,e,t[5],21,-57434055),e=_l(e,i,n,s,t[12],6,1700485571),s=_l(s,e,i,n,t[3],10,-1894986606),n=_l(n,s,e,i,t[10],15,-1051523),i=_l(i,n,s,e,t[1],21,-2054922799),e=_l(e,i,n,s,t[8],6,1873313359),s=_l(s,e,i,n,t[15],10,-30611744),n=_l(n,s,e,i,t[6],15,-1560198380),i=_l(i,n,s,e,t[13],21,1309151649),e=_l(e,i,n,s,t[4],6,-145523070),s=_l(s,e,i,n,t[11],10,-1120210379),n=_l(n,s,e,i,t[2],15,718787259),i=_l(i,n,s,e,t[9],21,-343485551),r[0]=hg(e,r[0]),r[1]=hg(i,r[1]),r[2]=hg(n,r[2]),r[3]=hg(s,r[3])}function FN(r,t,e,i,n,s){return t=hg(hg(t,r),hg(i,s)),hg(t<<n|t>>>32-n,e)}function kl(r,t,e,i,n,s,a){return FN(t&e|~t&i,r,t,n,s,a)}function Ll(r,t,e,i,n,s,a){return FN(t&i|e&~i,r,t,n,s,a)}function jl(r,t,e,i,n,s,a){return FN(t^e^i,r,t,n,s,a)}function _l(r,t,e,i,n,s,a){return FN(e^(t|~i),r,t,n,s,a)}function N$(r){var t,e=r.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=r.length;t+=64)t5(i,SSe(r.substring(t-64,t)));r=r.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r.length;t++)n[t>>2]|=r.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(t5(i,n),t=0;t<16;t++)n[t]=0;return n[14]=8*e,t5(i,n),i}function SSe(r){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24);return e}var k7="0123456789abcdef".split("");function NSe(r){for(var t="",e=0;e<4;e++)t+=k7[r>>8*e+4&15]+k7[r>>8*e&15];return t}function ISe(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function bk(r){return N$(r).map(ISe).join("")}var CSe=(function(r){for(var t=0;t<r.length;t++)r[t]=NSe(r[t]);return r.join("")})(N$("hello"))!="5d41402abc4b2a76b9719d911017c592";function hg(r,t){if(CSe){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}return r+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Dk(r,t){var e,i,n,s;if(r!==e){for(var a=(n=r,s=1+(256/r.length|0),new Array(s+1).join(n)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}e=r,i=o}else o=i;var d=t.length,p=0,m=0,y="";for(l=0;l<d;l++)m=(m+(u=o[p=(p+1)%256]))%256,o[p]=o[m],o[m]=u,a=o[(o[p]+o[m])%256],y+=String.fromCharCode(t.charCodeAt(l)^a);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var L7={print:4,modify:8,copy:16,"annot-forms":32};function Vy(r,t,e,i){this.v=1,this.r=2;var n=192;r.forEach(function(o){if(L7.perm!==void 0)throw new Error("Invalid permission: "+o);n+=L7[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),a=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^n)),this.encryptionKey=bk(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Dk(this.encryptionKey,this.padding)}function Hy(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var t="",e=r.length,i=0;i<e;i++){var n=r.charCodeAt(i);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):r[i]}return t}function j7(r){if(Qn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,n){if(n=n||!1,typeof e!="string"||typeof i!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[i,!!n],s},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),n=[];for(var s in t[e]){var a=t[e][s];try{a[0].apply(r,i)}catch(o){ur.console&&Ms.error("jsPDF PubSub Error",o.message,o)}a[1]&&n.push(s)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function bS(r){if(!(this instanceof bS))return new bS(r);var t="opacity,stroke-opacity".split(",");for(var e in r)r.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=r[e]);this.id="",this.objectNumber=-1}function I$(r,t){this.gState=r,this.matrix=t,this.id="",this.objectNumber=-1}function R0(r,t,e,i,n){if(!(this instanceof R0))return new R0(r,t,e,i,n);this.type=r==="axial"?2:3,this.coords=t,this.colors=e,I$.call(this,i,n)}function e1(r,t,e,i,n){if(!(this instanceof e1))return new e1(r,t,e,i,n);this.boundingBox=r,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,I$.call(this,i,n)}function Vi(r){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],n=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;Qn(r=r||{})==="object"&&(e=r.orientation,i=r.unit||i,n=r.format||n,s=r.compress||r.compressPdf||s,(u=r.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(t=r.precision),r.floatPrecision!==void 0&&(l=r.floatPrecision),c=r.defaultPathOperation||"S"),a=r.filters||(s===!0?["FlateEncode"]:a),i=i||"mm",e=(""+(e||"P")).toLowerCase();var d=r.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=j7;var y="1.3",M=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(V){y=V};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return w};var b=m.__private__.getPageFormat=function(V){return w[V]};n=n||"a4";var D="compat",E="advanced",N=D;function B(){this.saveGraphicsState(),Se(new Pi(Ue,0,0,-Ue,0,Al()*Ue).toString()+" cm"),this.setFontSize(this.getFontSize()/Ue),c="n",N=E}function P(){this.restoreGraphicsState(),c="S",N=D}var C=m.__private__.combineFontStyleAndFontWeight=function(V,ue){if(V=="bold"&&ue=="normal"||V=="bold"&&ue==400||V=="normal"&&ue=="italic"||V=="bold"&&ue=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(V=ue==400||ue==="normal"?V==="italic"?"italic":"normal":ue!=700&&ue!=="bold"||V!=="normal"?(ue==700?"bold":ue)+""+V:"bold"),V};m.advancedAPI=function(V){var ue=N===D;return ue&&B.call(this),typeof V!="function"||(V(this),ue&&P.call(this)),this},m.compatAPI=function(V){var ue=N===E;return ue&&P.call(this),typeof V!="function"||(V(this),ue&&B.call(this)),this},m.isAdvancedAPI=function(){return N===E};var k,_=function(V){if(N!==E)throw new Error(V+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=m.roundToPrecision=m.__private__.roundToPrecision=function(V,ue){var je=t||ue;if(isNaN(V)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return V.toFixed(je).replace(/0+$/,"")};k=m.hpf=m.__private__.hpf=typeof l=="number"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return H(V,l)}:l==="smart"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return H(V,V>-1&&V<1?16:5)}:function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return H(V,16)};var j=m.f2=m.__private__.f2=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f2");return H(V,2)},z=m.__private__.f3=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f3");return H(V,3)},F=m.scale=m.__private__.scale=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.scale");return N===D?V*Ue:N===E?V:void 0},X=function(V){return F((function(ue){return N===D?Al()-ue:N===E?ue:void 0})(V))};m.__private__.setPrecision=m.setPrecision=function(V){typeof parseInt(V,10)=="number"&&(t=parseInt(V,10))};var J,U="00000000000000000000000000000000",W=m.__private__.getFileId=function(){return U},re=m.__private__.setFileId=function(V){return U=V!==void 0&&/^[a-fA-F0-9]{32}$/.test(V)?V.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(En=new Vy(u.userPermissions,u.userPassword,u.ownerPassword,U)),U};m.setFileId=function(V){return re(V),this},m.getFileId=function(){return W()};var Z=m.__private__.convertDateToPDFDate=function(V){var ue=V.getTimezoneOffset(),je=ue<0?"+":"-",He=Math.floor(Math.abs(ue/60)),et=Math.abs(ue%60),It=[je,G(He),"'",G(et),"'"].join("");return["D:",V.getFullYear(),G(V.getMonth()+1),G(V.getDate()),G(V.getHours()),G(V.getMinutes()),G(V.getSeconds()),It].join("")},Ee=m.__private__.convertPDFDateToDate=function(V){var ue=parseInt(V.substr(2,4),10),je=parseInt(V.substr(6,2),10)-1,He=parseInt(V.substr(8,2),10),et=parseInt(V.substr(10,2),10),It=parseInt(V.substr(12,2),10),Ut=parseInt(V.substr(14,2),10);return new Date(ue,je,He,et,It,Ut,0)},ae=m.__private__.setCreationDate=function(V){var ue;if(V===void 0&&(V=new Date),V instanceof Date)ue=Z(V);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(V))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=V}return J=ue},L=m.__private__.getCreationDate=function(V){var ue=J;return V==="jsDate"&&(ue=Ee(J)),ue};m.setCreationDate=function(V){return ae(V),this},m.getCreationDate=function(V){return L(V)};var Y,G=m.__private__.padd2=function(V){return("0"+parseInt(V)).slice(-2)},Q=m.__private__.padd2Hex=function(V){return("00"+(V=V.toString())).substr(V.length)},te=0,le=[],Me=[],ve=0,Ie=[],Je=[],xe=!1,Ot=Me;m.__private__.setCustomOutputDestination=function(V){xe=!0,Ot=V};var Ge=function(V){xe||(Ot=V)};m.__private__.resetCustomOutputDestination=function(){xe=!1,Ot=Me};var Se=m.__private__.out=function(V){return V=V.toString(),ve+=V.length+1,Ot.push(V),Ot},ti=m.__private__.write=function(V){return Se(arguments.length===1?V.toString():Array.prototype.join.call(arguments," "))},Tt=m.__private__.getArrayBuffer=function(V){for(var ue=V.length,je=new ArrayBuffer(ue),He=new Uint8Array(je);ue--;)He[ue]=V.charCodeAt(ue);return je},$t=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return $t};var Lt=r.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(V){return Lt=N===E?V/Ue:V,this};var ni,Yt=m.__private__.getFontSize=m.getFontSize=function(){return N===D?Lt:Lt*Ue},Ri=r.R2L||!1;m.__private__.setR2L=m.setR2L=function(V){return Ri=V,this},m.__private__.getR2L=m.getR2L=function(){return Ri};var pi,Mt=m.__private__.setZoomMode=function(V){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(V))ni=V;else if(isNaN(V)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(V)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+V+'" is not recognized.');ni=V}else ni=parseInt(V,10)};m.__private__.getZoomMode=function(){return ni};var Bt,Xt=m.__private__.setPageMode=function(V){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(V)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+V+'" is not recognized.');pi=V};m.__private__.getPageMode=function(){return pi};var gi=m.__private__.setLayoutMode=function(V){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(V)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+V+'" is not recognized.');Bt=V};m.__private__.getLayoutMode=function(){return Bt},m.__private__.setDisplayMode=m.setDisplayMode=function(V,ue,je){return Mt(V),gi(ue),Xt(je),this};var he={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(V){if(Object.keys(he).indexOf(V)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return he[V]},m.__private__.getDocumentProperties=function(){return he},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(V){for(var ue in he)he.hasOwnProperty(ue)&&V[ue]&&(he[ue]=V[ue]);return this},m.__private__.setDocumentProperty=function(V,ue){if(Object.keys(he).indexOf(V)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return he[V]=ue};var Ne,Ue,Ke,yt,xt,Nt={},hi={},bi=[],vi={},Bi={},Qi={},nn={},sn=null,Dr=0,_i=[],dr=new j7(m),Lo=r.hotfixes||[],Cs={},Zo={},pa=[],Pi=function V(ue,je,He,et,It,Ut){if(!(this instanceof V))return new V(ue,je,He,et,It,Ut);isNaN(ue)&&(ue=1),isNaN(je)&&(je=0),isNaN(He)&&(He=0),isNaN(et)&&(et=1),isNaN(It)&&(It=0),isNaN(Ut)&&(Ut=0),this._matrix=[ue,je,He,et,It,Ut]};Object.defineProperty(Pi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(Pi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(Pi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(Pi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(Pi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(Pi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(Pi.prototype,"a",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(Pi.prototype,"b",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(Pi.prototype,"c",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(Pi.prototype,"d",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(Pi.prototype,"e",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(Pi.prototype,"f",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(Pi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pi.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Pi.prototype.join=function(V){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(V)},Pi.prototype.multiply=function(V){var ue=V.sx*this.sx+V.shy*this.shx,je=V.sx*this.shy+V.shy*this.sy,He=V.shx*this.sx+V.sy*this.shx,et=V.shx*this.shy+V.sy*this.sy,It=V.tx*this.sx+V.ty*this.shx+this.tx,Ut=V.tx*this.shy+V.ty*this.sy+this.ty;return new Pi(ue,je,He,et,It,Ut)},Pi.prototype.decompose=function(){var V=this.sx,ue=this.shy,je=this.shx,He=this.sy,et=this.tx,It=this.ty,Ut=Math.sqrt(V*V+ue*ue),Di=(V/=Ut)*je+(ue/=Ut)*He;je-=V*Di,He-=ue*Di;var Oi=Math.sqrt(je*je+He*He);return Di/=Oi,V*(He/=Oi)<ue*(je/=Oi)&&(V=-V,ue=-ue,Di=-Di,Ut=-Ut),{scale:new Pi(Ut,0,0,Oi,0,0),translate:new Pi(1,0,0,1,et,It),rotate:new Pi(V,ue,-ue,V,0,0),skew:new Pi(1,0,Di,1,0,0)}},Pi.prototype.toString=function(V){return this.join(" ")},Pi.prototype.inversed=function(){var V=this.sx,ue=this.shy,je=this.shx,He=this.sy,et=this.tx,It=this.ty,Ut=1/(V*He-ue*je),Di=He*Ut,Oi=-ue*Ut,Ki=-je*Ut,rr=V*Ut;return new Pi(Di,Oi,Ki,rr,-Di*et-Ki*It,-Oi*et-rr*It)},Pi.prototype.applyToPoint=function(V){var ue=V.x*this.sx+V.y*this.shx+this.tx,je=V.x*this.shy+V.y*this.sy+this.ty;return new tc(ue,je)},Pi.prototype.applyToRectangle=function(V){var ue=this.applyToPoint(V),je=this.applyToPoint(new tc(V.x+V.w,V.y+V.h));return new Ac(ue.x,ue.y,je.x-ue.x,je.y-ue.y)},Pi.prototype.clone=function(){var V=this.sx,ue=this.shy,je=this.shx,He=this.sy,et=this.tx,It=this.ty;return new Pi(V,ue,je,He,et,It)},m.Matrix=Pi;var Fn=m.matrixMult=function(V,ue){return ue.multiply(V)},el=new Pi(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=el;var Os=function(V,ue){if(!Bi[V]){var je=(ue instanceof R0?"Sh":"P")+(Object.keys(vi).length+1).toString(10);ue.id=je,Bi[V]=je,vi[je]=ue,dr.publish("addPattern",ue)}};m.ShadingPattern=R0,m.TilingPattern=e1,m.addShadingPattern=function(V,ue){return _("addShadingPattern()"),Os(V,ue),this},m.beginTilingPattern=function(V){_("beginTilingPattern()"),Sc(V.boundingBox[0],V.boundingBox[1],V.boundingBox[2]-V.boundingBox[0],V.boundingBox[3]-V.boundingBox[1],V.matrix)},m.endTilingPattern=function(V,ue){_("endTilingPattern()"),ue.stream=Je[Y].join(`
`),Os(V,ue),dr.publish("endTilingPattern",ue),pa.pop().restore()};var ia,zn=m.__private__.newObject=function(){var V=bs();return fe(V,!0),V},bs=m.__private__.newObjectDeferred=function(){return te++,le[te]=function(){return ve},te},fe=function(V,ue){return ue=typeof ue=="boolean"&&ue,le[V]=ve,ue&&Se(V+" 0 obj"),V},Le=m.__private__.newAdditionalObject=function(){var V={objId:bs(),content:""};return Ie.push(V),V},be=bs(),De=bs(),Ce=m.__private__.decodeColorString=function(V){var ue=V.split(" ");if(ue.length!==2||ue[1]!=="g"&&ue[1]!=="G")ue.length!==5||ue[4]!=="k"&&ue[4]!=="K"||(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var je=parseFloat(ue[0]);ue=[je,je,je,"r"]}for(var He="#",et=0;et<3;et++)He+=("0"+Math.floor(255*parseFloat(ue[et])).toString(16)).slice(-2);return He},ze=m.__private__.encodeColorString=function(V){var ue;typeof V=="string"&&(V={ch1:V});var je=V.ch1,He=V.ch2,et=V.ch3,It=V.ch4,Ut=V.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var Di=new S$(je);if(Di.ok)je=Di.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var Oi=parseInt(je.substr(1),16);je=Oi>>16&255,He=Oi>>8&255,et=255&Oi}if(He===void 0||It===void 0&&je===He&&He===et)ue=typeof je=="string"?je+" "+Ut[0]:V.precision===2?j(je/255)+" "+Ut[0]:z(je/255)+" "+Ut[0];else if(It===void 0||Qn(It)==="object"){if(It&&!isNaN(It.a)&&It.a===0)return["1.","1.","1.",Ut[1]].join(" ");ue=typeof je=="string"?[je,He,et,Ut[1]].join(" "):V.precision===2?[j(je/255),j(He/255),j(et/255),Ut[1]].join(" "):[z(je/255),z(He/255),z(et/255),Ut[1]].join(" ")}else ue=typeof je=="string"?[je,He,et,It,Ut[2]].join(" "):V.precision===2?[j(je),j(He),j(et),j(It),Ut[2]].join(" "):[z(je),z(He),z(et),z(It),Ut[2]].join(" ");return ue},rt=m.__private__.getFilters=function(){return a},vt=m.__private__.putStream=function(V){var ue=(V=V||{}).data||"",je=V.filters||rt(),He=V.alreadyAppliedFilters||[],et=V.addLength1||!1,It=ue.length,Ut=V.objectId,Di=function(Ks){return Ks};if(u!==null&&Ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Di=En.encryptor(Ut,0));var Oi={};je===!0&&(je=["FlateEncode"]);var Ki=V.additionalKeyValues||[],rr=(Oi=Vi.API.processDataByFilters!==void 0?Vi.API.processDataByFilters(ue,je):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray(He)?He.join(" "):He.toString());if(Oi.data.length!==0&&(Ki.push({key:"Length",value:Oi.data.length}),et===!0&&Ki.push({key:"Length1",value:It})),rr.length!=0)if(rr.split("/").length-1==1)Ki.push({key:"Filter",value:rr});else{Ki.push({key:"Filter",value:"["+rr+"]"});for(var qr=0;qr<Ki.length;qr+=1)if(Ki[qr].key==="DecodeParms"){for(var fn=[],Ds=0;Ds<Oi.reverseChain.split("/").length-1;Ds+=1)fn.push("null");fn.push(Ki[qr].value),Ki[qr].value="["+fn.join(" ")+"]"}}Se("<<");for(var Sn=0;Sn<Ki.length;Sn++)Se("/"+Ki[Sn].key+" "+Ki[Sn].value);Se(">>"),Oi.data.length!==0&&(Se("stream"),Se(Di(Oi.data)),Se("endstream"))},at=m.__private__.putPage=function(V){var ue=V.number,je=V.data,He=V.objId,et=V.contentsObjId;fe(He,!0),Se("<</Type /Page"),Se("/Parent "+V.rootDictionaryObjId+" 0 R"),Se("/Resources "+V.resourceDictionaryObjId+" 0 R"),Se("/MediaBox ["+parseFloat(k(V.mediaBox.bottomLeftX))+" "+parseFloat(k(V.mediaBox.bottomLeftY))+" "+k(V.mediaBox.topRightX)+" "+k(V.mediaBox.topRightY)+"]"),V.cropBox!==null&&Se("/CropBox ["+k(V.cropBox.bottomLeftX)+" "+k(V.cropBox.bottomLeftY)+" "+k(V.cropBox.topRightX)+" "+k(V.cropBox.topRightY)+"]"),V.bleedBox!==null&&Se("/BleedBox ["+k(V.bleedBox.bottomLeftX)+" "+k(V.bleedBox.bottomLeftY)+" "+k(V.bleedBox.topRightX)+" "+k(V.bleedBox.topRightY)+"]"),V.trimBox!==null&&Se("/TrimBox ["+k(V.trimBox.bottomLeftX)+" "+k(V.trimBox.bottomLeftY)+" "+k(V.trimBox.topRightX)+" "+k(V.trimBox.topRightY)+"]"),V.artBox!==null&&Se("/ArtBox ["+k(V.artBox.bottomLeftX)+" "+k(V.artBox.bottomLeftY)+" "+k(V.artBox.topRightX)+" "+k(V.artBox.topRightY)+"]"),typeof V.userUnit=="number"&&V.userUnit!==1&&Se("/UserUnit "+V.userUnit),dr.publish("putPage",{objId:He,pageContext:_i[ue],pageNumber:ue,page:je}),Se("/Contents "+et+" 0 R"),Se(">>"),Se("endobj");var It=je.join(`
`);return N===E&&(It+=`
Q`),fe(et,!0),vt({data:It,filters:rt(),objectId:et}),Se("endobj"),He},ot=m.__private__.putPages=function(){var V,ue,je=[];for(V=1;V<=Dr;V++)_i[V].objId=bs(),_i[V].contentsObjId=bs();for(V=1;V<=Dr;V++)je.push(at({number:V,data:Je[V],objId:_i[V].objId,contentsObjId:_i[V].contentsObjId,mediaBox:_i[V].mediaBox,cropBox:_i[V].cropBox,bleedBox:_i[V].bleedBox,trimBox:_i[V].trimBox,artBox:_i[V].artBox,userUnit:_i[V].userUnit,rootDictionaryObjId:be,resourceDictionaryObjId:De}));fe(be,!0),Se("<</Type /Pages");var He="/Kids [";for(ue=0;ue<Dr;ue++)He+=je[ue]+" 0 R ";Se(He+"]"),Se("/Count "+Dr),Se(">>"),Se("endobj"),dr.publish("postPutPages")},lt=function(V){dr.publish("putFont",{font:V,out:Se,newObject:zn,putStream:vt}),V.isAlreadyPutted!==!0&&(V.objectNumber=zn(),Se("<<"),Se("/Type /Font"),Se("/BaseFont /"+Hy(V.postScriptName)),Se("/Subtype /Type1"),typeof V.encoding=="string"&&Se("/Encoding /"+V.encoding),Se("/FirstChar 32"),Se("/LastChar 255"),Se(">>"),Se("endobj"))},Vt=function(V){V.objectNumber=zn();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[k(V.x),k(V.y),k(V.x+V.width),k(V.y+V.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+V.matrix.toString()+"]"});var je=V.pages[1].join(`
`);vt({data:je,additionalKeyValues:ue,objectId:V.objectNumber}),Se("endobj")},Jt=function(V,ue){ue||(ue=21);var je=zn(),He=(function(Ut,Di){var Oi,Ki=[],rr=1/(Di-1);for(Oi=0;Oi<1;Oi+=rr)Ki.push(Oi);if(Ki.push(1),Ut[0].offset!=0){var qr={offset:0,color:Ut[0].color};Ut.unshift(qr)}if(Ut[Ut.length-1].offset!=1){var fn={offset:1,color:Ut[Ut.length-1].color};Ut.push(fn)}for(var Ds="",Sn=0,Ks=0;Ks<Ki.length;Ks++){for(Oi=Ki[Ks];Oi>Ut[Sn+1].offset;)Sn++;var Ls=Ut[Sn].offset,$s=(Oi-Ls)/(Ut[Sn+1].offset-Ls),Jn=Ut[Sn].color,mo=Ut[Sn+1].color;Ds+=Q(Math.round((1-$s)*Jn[0]+$s*mo[0]).toString(16))+Q(Math.round((1-$s)*Jn[1]+$s*mo[1]).toString(16))+Q(Math.round((1-$s)*Jn[2]+$s*mo[2]).toString(16))}return Ds.trim()})(V.colors,ue),et=[];et.push({key:"FunctionType",value:"0"}),et.push({key:"Domain",value:"[0.0 1.0]"}),et.push({key:"Size",value:"["+ue+"]"}),et.push({key:"BitsPerSample",value:"8"}),et.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),et.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vt({data:He,additionalKeyValues:et,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),Se("endobj"),V.objectNumber=zn(),Se("<< /ShadingType "+V.type),Se("/ColorSpace /DeviceRGB");var It="/Coords ["+k(parseFloat(V.coords[0]))+" "+k(parseFloat(V.coords[1]))+" ";V.type===2?It+=k(parseFloat(V.coords[2]))+" "+k(parseFloat(V.coords[3])):It+=k(parseFloat(V.coords[2]))+" "+k(parseFloat(V.coords[3]))+" "+k(parseFloat(V.coords[4]))+" "+k(parseFloat(V.coords[5])),Se(It+="]"),V.matrix&&Se("/Matrix ["+V.matrix.toString()+"]"),Se("/Function "+je+" 0 R"),Se("/Extend [true true]"),Se(">>"),Se("endobj")},ai=function(V,ue){var je=bs(),He=zn();ue.push({resourcesOid:je,objectOid:He}),V.objectNumber=He;var et=[];et.push({key:"Type",value:"/Pattern"}),et.push({key:"PatternType",value:"1"}),et.push({key:"PaintType",value:"1"}),et.push({key:"TilingType",value:"1"}),et.push({key:"BBox",value:"["+V.boundingBox.map(k).join(" ")+"]"}),et.push({key:"XStep",value:k(V.xStep)}),et.push({key:"YStep",value:k(V.yStep)}),et.push({key:"Resources",value:je+" 0 R"}),V.matrix&&et.push({key:"Matrix",value:"["+V.matrix.toString()+"]"}),vt({data:V.stream,additionalKeyValues:et,objectId:V.objectNumber}),Se("endobj")},Qt=function(V){for(var ue in V.objectNumber=zn(),Se("<<"),V)switch(ue){case"opacity":Se("/ca "+j(V[ue]));break;case"stroke-opacity":Se("/CA "+j(V[ue]))}Se(">>"),Se("endobj")},ii=function(V){fe(V.resourcesOid,!0),Se("<<"),Se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ue in Se("/Font <<"),Nt)Nt.hasOwnProperty(ue)&&(d===!1||d===!0&&p.hasOwnProperty(ue))&&Se("/"+ue+" "+Nt[ue].objectNumber+" 0 R");Se(">>")})(),(function(){if(Object.keys(vi).length>0){for(var ue in Se("/Shading <<"),vi)vi.hasOwnProperty(ue)&&vi[ue]instanceof R0&&vi[ue].objectNumber>=0&&Se("/"+ue+" "+vi[ue].objectNumber+" 0 R");dr.publish("putShadingPatternDict"),Se(">>")}})(),(function(ue){if(Object.keys(vi).length>0){for(var je in Se("/Pattern <<"),vi)vi.hasOwnProperty(je)&&vi[je]instanceof m.TilingPattern&&vi[je].objectNumber>=0&&vi[je].objectNumber<ue&&Se("/"+je+" "+vi[je].objectNumber+" 0 R");dr.publish("putTilingPatternDict"),Se(">>")}})(V.objectOid),(function(){if(Object.keys(Qi).length>0){var ue;for(ue in Se("/ExtGState <<"),Qi)Qi.hasOwnProperty(ue)&&Qi[ue].objectNumber>=0&&Se("/"+ue+" "+Qi[ue].objectNumber+" 0 R");dr.publish("putGStateDict"),Se(">>")}})(),(function(){for(var ue in Se("/XObject <<"),Cs)Cs.hasOwnProperty(ue)&&Cs[ue].objectNumber>=0&&Se("/"+ue+" "+Cs[ue].objectNumber+" 0 R");dr.publish("putXobjectDict"),Se(">>")})(),Se(">>"),Se("endobj")},yi=function(V){hi[V.fontName]=hi[V.fontName]||{},hi[V.fontName][V.fontStyle]=V.id},Xr=function(V,ue,je,He,et){var It={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:V,fontName:ue,fontStyle:je,encoding:He,isStandardFont:et||!1,metadata:{}};return dr.publish("addFont",{font:It,instance:this}),Nt[It.id]=It,yi(It),It.id},fr=m.__private__.pdfEscape=m.pdfEscape=function(V,ue){return(function(je,He){var et,It,Ut,Di,Oi,Ki,rr,qr,fn;if(Ut=(He=He||{}).sourceEncoding||"Unicode",Oi=He.outputEncoding,(He.autoencode||Oi)&&Nt[Ne].metadata&&Nt[Ne].metadata[Ut]&&Nt[Ne].metadata[Ut].encoding&&(Di=Nt[Ne].metadata[Ut].encoding,!Oi&&Nt[Ne].encoding&&(Oi=Nt[Ne].encoding),!Oi&&Di.codePages&&(Oi=Di.codePages[0]),typeof Oi=="string"&&(Oi=Di[Oi]),Oi)){for(rr=!1,Ki=[],et=0,It=je.length;et<It;et++)(qr=Oi[je.charCodeAt(et)])?Ki.push(String.fromCharCode(qr)):Ki.push(je[et]),Ki[et].charCodeAt(0)>>8&&(rr=!0);je=Ki.join("")}for(et=je.length;rr===void 0&&et!==0;)je.charCodeAt(et-1)>>8&&(rr=!0),et--;if(!rr)return je;for(Ki=He.noBOM?[]:[254,255],et=0,It=je.length;et<It;et++){if((fn=(qr=je.charCodeAt(et))>>8)>>8)throw new Error("Character at position "+et+" of string '"+je+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ki.push(fn),Ki.push(qr-(fn<<8))}return String.fromCharCode.apply(void 0,Ki)})(V,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_r=m.__private__.beginPage=function(V){Je[++Dr]=[],_i[Dr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(V[0]),topRightY:Number(V[1])}},El(Dr),Ge(Je[Y])},Ia=function(V,ue){var je,He,et;switch(e=ue||e,typeof V=="string"&&(je=b(V.toLowerCase()),Array.isArray(je)&&(He=je[0],et=je[1])),Array.isArray(V)&&(He=V[0]*Ue,et=V[1]*Ue),isNaN(He)&&(He=n[0],et=n[1]),(He>14400||et>14400)&&(Ms.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),He=Math.min(14400,He),et=Math.min(14400,et)),n=[He,et],e.substr(0,1)){case"l":et>He&&(n=[et,He]);break;case"p":He>et&&(n=[et,He])}_r(n),il(ku),Se($a),An!==0&&Se(An+" J"),ga!==0&&Se(ga+" j"),dr.publish("addPage",{pageNumber:Dr})},Zl=function(V){V>0&&V<=Dr&&(Je.splice(V,1),_i.splice(V,1),Dr--,Y>Dr&&(Y=Dr),this.setPage(Y))},El=function(V){V>0&&V<=Dr&&(Y=V)},jo=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Je.length-1},ru=function(V,ue,je){var He,et=void 0;return je=je||{},V=V!==void 0?V:Nt[Ne].fontName,ue=ue!==void 0?ue:Nt[Ne].fontStyle,He=V.toLowerCase(),hi[He]!==void 0&&hi[He][ue]!==void 0?et=hi[He][ue]:hi[V]!==void 0&&hi[V][ue]!==void 0?et=hi[V][ue]:je.disableWarning===!1&&Ms.warn("Unable to look up font label for font '"+V+"', '"+ue+"'. Refer to getFontList() for available fonts."),et||je.noFallback||(et=hi.times[ue])==null&&(et=hi.times.normal),et},ks=m.__private__.putInfo=function(){var V=zn(),ue=function(He){return He};for(var je in u!==null&&(ue=En.encryptor(V,0)),Se("<<"),Se("/Producer ("+fr(ue("jsPDF "+Vi.version))+")"),he)he.hasOwnProperty(je)&&he[je]&&Se("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+fr(ue(he[je]))+")");Se("/CreationDate ("+fr(ue(J))+")"),Se(">>"),Se("endobj")},Iu=m.__private__.putCatalog=function(V){var ue=(V=V||{}).rootDictionaryObjId||be;switch(zn(),Se("<<"),Se("/Type /Catalog"),Se("/Pages "+ue+" 0 R"),ni||(ni="fullwidth"),ni){case"fullwidth":Se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Se("/OpenAction [3 0 R /Fit]");break;case"original":Se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+ni;je.substr(je.length-1)==="%"&&(ni=parseInt(ni)/100),typeof ni=="number"&&Se("/OpenAction [3 0 R /XYZ null null "+j(ni)+"]")}switch(Bt||(Bt="continuous"),Bt){case"continuous":Se("/PageLayout /OneColumn");break;case"single":Se("/PageLayout /SinglePage");break;case"two":case"twoleft":Se("/PageLayout /TwoColumnLeft");break;case"tworight":Se("/PageLayout /TwoColumnRight")}pi&&Se("/PageMode /"+pi),dr.publish("putCatalog"),Se(">>"),Se("endobj")},dn=m.__private__.putTrailer=function(){Se("trailer"),Se("<<"),Se("/Size "+(te+1)),Se("/Root "+te+" 0 R"),Se("/Info "+(te-1)+" 0 R"),u!==null&&Se("/Encrypt "+En.oid+" 0 R"),Se("/ID [ <"+U+"> <"+U+"> ]"),Se(">>")},Ka=m.__private__.putHeader=function(){Se("%PDF-"+y),Se("%")},bf=m.__private__.putXRef=function(){var V="0000000000";Se("xref"),Se("0 "+(te+1)),Se("0000000000 65535 f ");for(var ue=1;ue<=te;ue++)typeof le[ue]=="function"?Se((V+le[ue]()).slice(-10)+" 00000 n "):le[ue]!==void 0?Se((V+le[ue]).slice(-10)+" 00000 n "):Se("0000000000 00000 n ")},nu=m.__private__.buildDocument=function(){var V;te=0,ve=0,Me=[],le=[],Ie=[],be=bs(),De=bs(),Ge(Me),dr.publish("buildDocument"),Ka(),ot(),(function(){dr.publish("putAdditionalObjects");for(var je=0;je<Ie.length;je++){var He=Ie[je];fe(He.objId,!0),Se(He.content),Se("endobj")}dr.publish("postPutAdditionalObjects")})(),V=[],(function(){for(var je in Nt)Nt.hasOwnProperty(je)&&(d===!1||d===!0&&p.hasOwnProperty(je))&&lt(Nt[je])})(),(function(){var je;for(je in Qi)Qi.hasOwnProperty(je)&&Qt(Qi[je])})(),(function(){for(var je in Cs)Cs.hasOwnProperty(je)&&Vt(Cs[je])})(),(function(je){var He;for(He in vi)vi.hasOwnProperty(He)&&(vi[He]instanceof R0?Jt(vi[He]):vi[He]instanceof e1&&ai(vi[He],je))})(V),dr.publish("putResources"),V.forEach(ii),ii({resourcesOid:De,objectOid:Number.MAX_SAFE_INTEGER}),dr.publish("postPutResources"),u!==null&&(En.oid=zn(),Se("<<"),Se("/Filter /Standard"),Se("/V "+En.v),Se("/R "+En.r),Se("/U <"+En.toHexString(En.U)+">"),Se("/O <"+En.toHexString(En.O)+">"),Se("/P "+En.P),Se(">>"),Se("endobj")),ks(),Iu();var ue=ve;return bf(),dn(),Se("startxref"),Se(""+ue),Se("%%EOF"),Ge(Je[Y]),Me.join(`
`)},wc=m.__private__.getBlob=function(V){return new Blob([Tt(V)],{type:"application/pdf"})},tl=m.output=m.__private__.output=(ia=function(V,ue){switch(typeof(ue=ue||{})=="string"?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",V){case void 0:return nu();case"save":m.save(ue.filename);break;case"arraybuffer":return Tt(nu());case"blob":return wc(nu());case"bloburi":case"bloburl":if(ur.URL!==void 0&&typeof ur.URL.createObjectURL=="function")return ur.URL&&ur.URL.createObjectURL(wc(nu()))||void 0;Ms.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",He=nu();try{je=O7(He)}catch{je=O7(unescape(encodeURIComponent(He)))}return"data:application/pdf;filename="+ue.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var et="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",It=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(et=ue.pdfObjectUrl,It="");var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+et+'"'+It+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",Di=ur.open();return Di!==null&&Di.document.write(Ut),Di}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var Oi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',Ki=ur.open();if(Ki!==null){Ki.document.write(Oi);var rr=this;Ki.document.documentElement.querySelector("#pdfViewer").onload=function(){Ki.document.title=ue.filename,Ki.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(rr.output("bloburl"))}}return Ki}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ur)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',fn=ur.open();if(fn!==null&&(fn.document.write(qr),fn.document.title=ue.filename),fn||typeof safari>"u")return fn;break;case"datauri":case"dataurl":return ur.document.location.href=this.output("datauristring",ue);default:return null}},ia.foo=function(){try{return ia.apply(this,arguments)}catch(je){var V=je.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var ue="Error in function "+V.split(`
`)[0].split("<")[0]+": "+je.message;if(!ur.console)throw new Error(ue);ur.console.error(ue,je),ur.alert&&alert(ue)}},ia.foo.bar=ia,ia.foo),Tc=function(V){return Array.isArray(Lo)===!0&&Lo.indexOf(V)>-1};switch(i){case"pt":Ue=1;break;case"mm":Ue=72/25.4;break;case"cm":Ue=72/2.54;break;case"in":Ue=72;break;case"px":Ue=Tc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ue=12;break;case"ex":Ue=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ue=i}var En=null;ae(),re();var Xn=m.__private__.getPageInfo=m.getPageInfo=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_i[V].objId,pageNumber:V,pageContext:_i[V]}},Cu=m.__private__.getPageInfoByObjId=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in _i)if(_i[ue].objId===V)break;return Xn(ue)},Dh=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:_i[Y].objId,pageNumber:Y,pageContext:_i[Y]}};m.addPage=function(){return Ia.apply(this,arguments),this},m.setPage=function(){return El.apply(this,arguments),Ge.call(this,Je[Y]),this},m.insertPage=function(V){return this.addPage(),this.movePage(Y,V),this},m.movePage=function(V,ue){var je,He;if(V>ue){je=Je[V],He=_i[V];for(var et=V;et>ue;et--)Je[et]=Je[et-1],_i[et]=_i[et-1];Je[ue]=je,_i[ue]=He,this.setPage(ue)}else if(V<ue){je=Je[V],He=_i[V];for(var It=V;It<ue;It++)Je[It]=Je[It+1],_i[It]=_i[It+1];Je[ue]=je,_i[ue]=He,this.setPage(ue)}return this},m.deletePage=function(){return Zl.apply(this,arguments),this},m.__private__.text=m.text=function(V,ue,je,He,et){var It,Ut,Di,Oi,Ki,rr,qr,fn,Ds,Sn=(He=He||{}).scope||this;if(typeof V=="number"&&typeof ue=="number"&&(typeof je=="string"||Array.isArray(je))){var Ks=je;je=ue,ue=V,V=Ks}if(arguments[3]instanceof Pi==0?(Di=arguments[4],Oi=arguments[5],Qn(qr=arguments[3])==="object"&&qr!==null||(typeof Di=="string"&&(Oi=Di,Di=null),typeof qr=="string"&&(Oi=qr,qr=null),typeof qr=="number"&&(Di=qr,qr=null),He={flags:qr,angle:Di,align:Oi})):(_("The transform parameter of text() with a Matrix value"),Ds=et),isNaN(ue)||isNaN(je)||V==null)throw new Error("Invalid arguments passed to jsPDF.text");if(V.length===0)return Sn;var Ls,$s="",Jn=typeof He.lineHeightFactor=="number"?He.lineHeightFactor:bc,mo=Sn.internal.scaleFactor;function kf(pn){return pn=pn.split("	").join(Array(He.TabLen||9).join(" ")),fr(pn,qr)}function ic(pn){for(var Jr,es=pn.concat(),na=[],Uu=es.length;Uu--;)typeof(Jr=es.shift())=="string"?na.push(Jr):Array.isArray(pn)&&(Jr.length===1||Jr[1]===void 0&&Jr[2]===void 0)?na.push(Jr[0]):na.push([Jr[0],Jr[1],Jr[2]]);return na}function S(pn,Jr){var es;if(typeof pn=="string")es=Jr(pn)[0];else if(Array.isArray(pn)){for(var na,Uu,ou=pn.concat(),jf=[],Kg=ou.length;Kg--;)typeof(na=ou.shift())=="string"?jf.push(Jr(na)[0]):Array.isArray(na)&&typeof na[0]=="string"&&(Uu=Jr(na[0],na[1],na[2]),jf.push([Uu[0],Uu[1],Uu[2]]));es=jf}return es}var K=!1,oe=!0;if(typeof V=="string")K=!0;else if(Array.isArray(V)){var Te=V.concat();Ut=[];for(var it,ft=Te.length;ft--;)(typeof(it=Te.shift())!="string"||Array.isArray(it)&&typeof it[0]!="string")&&(oe=!1);K=oe}if(K===!1)throw new Error('Type of text must be string or Array. "'+V+'" is not recognized.');typeof V=="string"&&(V=V.match(/[\r?\n]/)?V.split(/\r\n|\r|\n/g):[V]);var ei=Lt/Sn.internal.scaleFactor,zr=ei*(Jn-1);switch(He.baseline){case"bottom":je-=zr;break;case"top":je+=ei-zr;break;case"hanging":je+=ei-2*zr;break;case"middle":je+=ei/2-zr}if((rr=He.maxWidth||0)>0&&(typeof V=="string"?V=Sn.splitTextToSize(V,rr):Object.prototype.toString.call(V)==="[object Array]"&&(V=V.reduce(function(pn,Jr){return pn.concat(Sn.splitTextToSize(Jr,rr))},[]))),It={text:V,x:ue,y:je,options:He,mutex:{pdfEscape:fr,activeFontKey:Ne,fonts:Nt,activeFontSize:Lt}},dr.publish("preProcessText",It),V=It.text,Di=(He=It.options).angle,Ds instanceof Pi==0&&Di&&typeof Di=="number"){Di*=Math.PI/180,He.rotationDirection===0&&(Di=-Di),N===E&&(Di=-Di);var Es=Math.cos(Di),pr=Math.sin(Di);Ds=new Pi(Es,pr,-pr,Es,0,0)}else Di&&Di instanceof Pi&&(Ds=Di);N!==E||Ds||(Ds=el),(Ki=He.charSpace||Ec)!==void 0&&($s+=k(F(Ki))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fn=He.horizontalScale)!==void 0&&($s+=k(100*fn)+` Tz
`),He.lang;var Sr=-1,Zn=He.renderingMode!==void 0?He.renderingMode:He.stroke,rc=Sn.internal.getCurrentPageInfo().pageContext;switch(Zn){case 0:case!1:case"fill":Sr=0;break;case 1:case!0:case"stroke":Sr=1;break;case 2:case"fillThenStroke":Sr=2;break;case 3:case"invisible":Sr=3;break;case 4:case"fillAndAddForClipping":Sr=4;break;case 5:case"strokeAndAddPathForClipping":Sr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Sr=6;break;case 7:case"addToPathForClipping":Sr=7}var go=rc.usedRenderingMode!==void 0?rc.usedRenderingMode:-1;Sr!==-1?$s+=Sr+` Tr
`:go!==-1&&($s+=`0 Tr
`),Sr!==-1&&(rc.usedRenderingMode=Sr),Oi=He.align||"left";var Ja,sl=Lt*Jn,Sh=Sn.internal.pageSize.getWidth(),Gg=Nt[Ne];Ki=He.charSpace||Ec,rr=He.maxWidth||0,qr=Object.assign({autoencode:!0,noBOM:!0},He.flags);var au=[],xd=function(pn){return Sn.getStringUnitWidth(pn,{font:Gg,charSpace:Ki,fontSize:Lt,doKerning:!1})*Lt/mo};if(Object.prototype.toString.call(V)==="[object Array]"){var Sl;Ut=ic(V),Oi!=="left"&&(Ja=Ut.map(xd));var al,zu=0;if(Oi==="right"){ue-=Ja[0],V=[],ft=Ut.length;for(var Ru=0;Ru<ft;Ru++)Ru===0?(al=Gs(ue),Sl=Oa(je)):(al=F(zu-Ja[Ru]),Sl=-sl),V.push([Ut[Ru],al,Sl]),zu=Ja[Ru]}else if(Oi==="center"){ue-=Ja[0]/2,V=[],ft=Ut.length;for(var Nh=0;Nh<ft;Nh++)Nh===0?(al=Gs(ue),Sl=Oa(je)):(al=F((zu-Ja[Nh])/2),Sl=-sl),V.push([Ut[Nh],al,Sl]),zu=Ja[Nh]}else if(Oi==="left"){V=[],ft=Ut.length;for(var rm=0;rm<ft;rm++)V.push(Ut[rm])}else if(Oi==="justify"&&Gg.encoding==="Identity-H"){V=[],ft=Ut.length,rr=rr!==0?rr:Sh;for(var nm=0,ra=0;ra<ft;ra++)if(Sl=ra===0?Oa(je):-sl,al=ra===0?Gs(ue):nm,ra<ft-1){var Bv=F((rr-Ja[ra])/(Ut[ra].split(" ").length-1)),Pu=Ut[ra].split(" ");V.push([Pu[0]+" ",al,Sl]),nm=0;for(var Fu=1;Fu<Pu.length;Fu++){var vo=(xd(Pu[Fu-1]+" "+Pu[Fu])-xd(Pu[Fu]))*mo+Bv;Fu==Pu.length-1?V.push([Pu[Fu],vo,0]):V.push([Pu[Fu]+" ",vo,0]),nm-=vo}}else V.push([Ut[ra],al,Sl]);V.push(["",nm,0])}else{if(Oi!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(V=[],ft=Ut.length,rr=rr!==0?rr:Sh,ra=0;ra<ft;ra++){Sl=ra===0?Oa(je):-sl,al=ra===0?Gs(ue):0;var Ih=Ut[ra].split(" ").length-1,sm=Ih>0?(rr-Ja[ra])/Ih:0;ra<ft-1?au.push(k(F(sm))):au.push(0),V.push([Ut[ra],al,Sl])}}}(typeof He.R2L=="boolean"?He.R2L:Ri)===!0&&(V=S(V,function(pn,Jr,es){return[pn.split("").reverse().join(""),Jr,es]})),It={text:V,x:ue,y:je,options:He,mutex:{pdfEscape:fr,activeFontKey:Ne,fonts:Nt,activeFontSize:Lt}},dr.publish("postProcessText",It),V=It.text,Ls=It.mutex.isHex||!1;var am=Nt[Ne].encoding;am!=="WinAnsiEncoding"&&am!=="StandardEncoding"||(V=S(V,function(pn,Jr,es){return[kf(pn),Jr,es]})),Ut=ic(V),V=[];for(var Ch,Oh,Bu,Lf=Array.isArray(Ut[0])?1:0,nc="",kh=function(pn,Jr,es){var na="";return es instanceof Pi?(es=typeof He.angle=="number"?Fn(es,new Pi(1,0,0,1,pn,Jr)):Fn(new Pi(1,0,0,1,pn,Jr),es),N===E&&(es=Fn(new Pi(1,0,0,-1,0,0),es)),na=es.join(" ")+` Tm
`):na=k(pn)+" "+k(Jr)+` Td
`,na},zo=0;zo<Ut.length;zo++){switch(nc="",Lf){case 1:Bu=(Ls?"<":"(")+Ut[zo][0]+(Ls?">":")"),Ch=parseFloat(Ut[zo][1]),Oh=parseFloat(Ut[zo][2]);break;case 0:Bu=(Ls?"<":"(")+Ut[zo]+(Ls?">":")"),Ch=Gs(ue),Oh=Oa(je)}au!==void 0&&au[zo]!==void 0&&(nc=au[zo]+` Tw
`),zo===0?V.push(nc+kh(Ch,Oh,Ds)+Bu):Lf===0?V.push(nc+Bu):Lf===1&&V.push(nc+kh(Ch,Oh,Ds)+Bu)}V=Lf===0?V.join(` Tj
T* `):V.join(` Tj
`),V+=` Tj
`;var Cc=`BT
/`;return Cc+=Ne+" "+Lt+` Tf
`,Cc+=k(Lt*Jn)+` TL
`,Cc+=_o+`
`,Cc+=$s,Cc+=V,Se(Cc+="ET"),p[Ne]=!0,Sn};var vd=m.__private__.clip=m.clip=function(V){return Se(V==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return vd("evenodd")},m.__private__.discardPath=m.discardPath=function(){return Se("n"),this};var Mr=m.__private__.isValidStyle=function(V){var ue=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(V)!==-1&&(ue=!0),ue};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(V){return Mr(V)&&(c=V),this};var Ou=m.__private__.getStyle=m.getStyle=function(V){var ue=c;switch(V){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=V}return ue},su=m.close=function(){return Se("h"),this};m.stroke=function(){return Se("S"),this},m.fill=function(V){return Ca("f",V),this},m.fillEvenOdd=function(V){return Ca("f*",V),this},m.fillStroke=function(V){return Ca("B",V),this},m.fillStrokeEvenOdd=function(V){return Ca("B*",V),this};var Ca=function(V,ue){Qn(ue)==="object"?em(ue,V):Se(V)},Df=function(V){V===null||N===E&&V===void 0||(V=Ou(V),Se(V))};function Ef(V,ue,je,He,et){var It=new e1(ue||this.boundingBox,je||this.xStep,He||this.yStep,this.gState,et||this.matrix);It.stream=this.stream;var Ut=V+"$$"+this.cloneIndex+++"$$";return Os(Ut,It),It}var em=function(V,ue){var je=Bi[V.key],He=vi[je];if(He instanceof R0)Se("q"),Se(Af(ue)),He.gState&&m.setGState(He.gState),Se(V.matrix.toString()+" cm"),Se("/"+je+" sh"),Se("Q");else if(He instanceof e1){var et=new Pi(1,0,0,-1,0,Al());V.matrix&&(et=et.multiply(V.matrix||el),je=Ef.call(He,V.key,V.boundingBox,V.xStep,V.yStep,et).id),Se("q"),Se("/Pattern cs"),Se("/"+je+" scn"),He.gState&&m.setGState(He.gState),Se(ue),Se("Q")}},Af=function(V){switch(V){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Sf=m.moveTo=function(V,ue){return Se(k(F(V))+" "+k(X(ue))+" m"),this},Eh=m.lineTo=function(V,ue){return Se(k(F(V))+" "+k(X(ue))+" l"),this},po=m.curveTo=function(V,ue,je,He,et,It){return Se([k(F(V)),k(X(ue)),k(F(je)),k(X(He)),k(F(et)),k(X(It)),"c"].join(" ")),this};m.__private__.line=m.line=function(V,ue,je,He,et){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(He)||!Mr(et))throw new Error("Invalid arguments passed to jsPDF.line");return N===D?this.lines([[je-V,He-ue]],V,ue,[1,1],et||"S"):this.lines([[je-V,He-ue]],V,ue,[1,1]).stroke()},m.__private__.lines=m.lines=function(V,ue,je,He,et,It){var Ut,Di,Oi,Ki,rr,qr,fn,Ds,Sn,Ks,Ls,$s;if(typeof V=="number"&&($s=je,je=ue,ue=V,V=$s),He=He||[1,1],It=It||!1,isNaN(ue)||isNaN(je)||!Array.isArray(V)||!Array.isArray(He)||!Mr(et)||typeof It!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Sf(ue,je),Ut=He[0],Di=He[1],Ki=V.length,Ks=ue,Ls=je,Oi=0;Oi<Ki;Oi++)(rr=V[Oi]).length===2?(Ks=rr[0]*Ut+Ks,Ls=rr[1]*Di+Ls,Eh(Ks,Ls)):(qr=rr[0]*Ut+Ks,fn=rr[1]*Di+Ls,Ds=rr[2]*Ut+Ks,Sn=rr[3]*Di+Ls,Ks=rr[4]*Ut+Ks,Ls=rr[5]*Di+Ls,po(qr,fn,Ds,Sn,Ks,Ls));return It&&su(),Df(et),this},m.path=function(V){for(var ue=0;ue<V.length;ue++){var je=V[ue],He=je.c;switch(je.op){case"m":Sf(He[0],He[1]);break;case"l":Eh(He[0],He[1]);break;case"c":po.apply(this,He);break;case"h":su()}}return this},m.__private__.rect=m.rect=function(V,ue,je,He,et){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(He)||!Mr(et))throw new Error("Invalid arguments passed to jsPDF.rect");return N===D&&(He=-He),Se([k(F(V)),k(X(ue)),k(F(je)),k(F(He)),"re"].join(" ")),Df(et),this},m.__private__.triangle=m.triangle=function(V,ue,je,He,et,It,Ut){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(He)||isNaN(et)||isNaN(It)||!Mr(Ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-V,He-ue],[et-je,It-He],[V-et,ue-It]],V,ue,[1,1],Ut,!0),this},m.__private__.roundedRect=m.roundedRect=function(V,ue,je,He,et,It,Ut){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(He)||isNaN(et)||isNaN(It)||!Mr(Ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Di=4/3*(Math.SQRT2-1);return et=Math.min(et,.5*je),It=Math.min(It,.5*He),this.lines([[je-2*et,0],[et*Di,0,et,It-It*Di,et,It],[0,He-2*It],[0,It*Di,-et*Di,It,-et,It],[2*et-je,0],[-et*Di,0,-et,-It*Di,-et,-It],[0,2*It-He],[0,-It*Di,et*Di,-It,et,-It]],V+et,ue,[1,1],Ut,!0),this},m.__private__.ellipse=m.ellipse=function(V,ue,je,He,et){if(isNaN(V)||isNaN(ue)||isNaN(je)||isNaN(He)||!Mr(et))throw new Error("Invalid arguments passed to jsPDF.ellipse");var It=4/3*(Math.SQRT2-1)*je,Ut=4/3*(Math.SQRT2-1)*He;return Sf(V+je,ue),po(V+je,ue-Ut,V+It,ue-He,V,ue-He),po(V-It,ue-He,V-je,ue-Ut,V-je,ue),po(V-je,ue+Ut,V-It,ue+He,V,ue+He),po(V+It,ue+He,V+je,ue+Ut,V+je,ue),Df(et),this},m.__private__.circle=m.circle=function(V,ue,je,He){if(isNaN(V)||isNaN(ue)||isNaN(je)||!Mr(He))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(V,ue,je,je,He)},m.setFont=function(V,ue,je){return je&&(ue=C(ue,je)),Ne=ru(V,ue,{disableWarning:!1}),this};var ma=m.__private__.getFont=m.getFont=function(){return Nt[ru.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var V,ue,je={};for(V in hi)if(hi.hasOwnProperty(V))for(ue in je[V]=[],hi[V])hi[V].hasOwnProperty(ue)&&je[V].push(ue);return je},m.addFont=function(V,ue,je,He,et){var It=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&It.indexOf(arguments[3])!==-1?et=arguments[3]:arguments[3]&&It.indexOf(arguments[3])==-1&&(je=C(je,He)),Xr.call(this,V,ue,je,et=et||"Identity-H")};var bc,ku=r.lineWidth||.200025,Gi=m.__private__.getLineWidth=m.getLineWidth=function(){return ku},il=m.__private__.setLineWidth=m.setLineWidth=function(V){return ku=V,Se(k(F(V))+" w"),this};m.__private__.setLineDash=Vi.API.setLineDash=Vi.API.setLineDashPattern=function(V,ue){if(V=V||[],ue=ue||0,isNaN(ue)||!Array.isArray(V))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return V=V.map(function(je){return k(F(je))}).join(" "),ue=k(F(ue)),Se("["+V+"] "+ue+" d"),this};var tm=m.__private__.getLineHeight=m.getLineHeight=function(){return Lt*bc};m.__private__.getLineHeight=m.getLineHeight=function(){return Lt*bc};var Nf=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(V){return typeof(V=V||1.15)=="number"&&(bc=V),this},im=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return bc};Nf(r.lineHeight);var Gs=m.__private__.getHorizontalCoordinate=function(V){return F(V)},Oa=m.__private__.getVerticalCoordinate=function(V){return N===E?V:_i[Y].mediaBox.topRightY-_i[Y].mediaBox.bottomLeftY-F(V)},If=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(V){return k(Gs(V))},Dc=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(V){return k(Oa(V))},$a=r.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Ce($a)},m.__private__.setStrokeColor=m.setDrawColor=function(V,ue,je,He){return $a=ze({ch1:V,ch2:ue,ch3:je,ch4:He,pdfColorType:"draw",precision:2}),Se($a),this};var Lu=r.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Ce(Lu)},m.__private__.setFillColor=m.setFillColor=function(V,ue,je,He){return Lu=ze({ch1:V,ch2:ue,ch3:je,ch4:He,pdfColorType:"fill",precision:2}),Se(Lu),this};var _o=r.textColor||"0 g",ec=m.__private__.getTextColor=m.getTextColor=function(){return Ce(_o)};m.__private__.setTextColor=m.setTextColor=function(V,ue,je,He){return _o=ze({ch1:V,ch2:ue,ch3:je,ch4:He,pdfColorType:"text",precision:3}),this};var Ec=r.charSpace,ju=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Ec||0)};m.__private__.setCharSpace=m.setCharSpace=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ec=V,this};var An=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(V){var ue=m.CapJoinStyles[V];if(ue===void 0)throw new Error("Line cap style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return An=ue,Se(ue+" J"),this};var ga=0;m.__private__.setLineJoin=m.setLineJoin=function(V){var ue=m.CapJoinStyles[V];if(ue===void 0)throw new Error("Line join style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ga=ue,Se(ue+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(V){if(V=V||0,isNaN(V))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Se(k(F(V))+" M"),this},m.GState=bS,m.setGState=function(V){(V=typeof V=="string"?Qi[nn[V]]:rl(null,V)).equals(sn)||(Se("/"+V.id+" gs"),sn=V)};var rl=function(V,ue){if(!V||!nn[V]){var je=!1;for(var He in Qi)if(Qi.hasOwnProperty(He)&&Qi[He].equals(ue)){je=!0;break}if(je)ue=Qi[He];else{var et="GS"+(Object.keys(Qi).length+1).toString(10);Qi[et]=ue,ue.id=et}return V&&(nn[V]=ue.id),dr.publish("addGState",ue),ue}};m.addGState=function(V,ue){return rl(V,ue),this},m.saveGraphicsState=function(){return Se("q"),bi.push({key:Ne,size:Lt,color:_o}),this},m.restoreGraphicsState=function(){Se("Q");var V=bi.pop();return Ne=V.key,Lt=V.size,_o=V.color,sn=null,this},m.setCurrentTransformationMatrix=function(V){return Se(V.toString()+" cm"),this},m.comment=function(V){return Se("#"+V),this};var tc=function(V,ue){var je=V||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(It){isNaN(It)||(je=parseFloat(It))}});var He=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return He},set:function(It){isNaN(It)||(He=parseFloat(It))}});var et="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return et},set:function(It){et=It.toString()}}),this},Ac=function(V,ue,je,He){tc.call(this,V,ue),this.type="rect";var et=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return et},set:function(Ut){isNaN(Ut)||(et=parseFloat(Ut))}});var It=He||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return It},set:function(Ut){isNaN(Ut)||(It=parseFloat(Ut))}}),this},Ah=function(){this.page=Dr,this.currentPage=Y,this.pages=Je.slice(0),this.pagesContext=_i.slice(0),this.x=Ke,this.y=yt,this.matrix=xt,this.width=Xa(Y),this.height=Ic(Y),this.outputDestination=Ot,this.id="",this.objectNumber=-1};Ah.prototype.restore=function(){Dr=this.page,Y=this.currentPage,_i=this.pagesContext,Je=this.pages,Ke=this.x,yt=this.y,xt=this.matrix,_u(Y,this.width),nl(Y,this.height),Ot=this.outputDestination};var Sc=function(V,ue,je,He,et){pa.push(new Ah),Dr=Y=0,Je=[],Ke=V,yt=ue,xt=et,_r([je,He])};for(var Nc in m.beginFormObject=function(V,ue,je,He,et){return Sc(V,ue,je,He,et),this},m.endFormObject=function(V){return(function(ue){if(Zo[ue])pa.pop().restore();else{var je=new Ah,He="Xo"+(Object.keys(Cs).length+1).toString(10);je.id=He,Zo[ue]=He,Cs[He]=je,dr.publish("addFormObject",je),pa.pop().restore()}})(V),this},m.doFormObject=function(V,ue){var je=Cs[Zo[V]];return Se("q"),Se(ue.toString()+" cm"),Se("/"+je.id+" Do"),Se("Q"),this},m.getFormObject=function(V){var ue=Cs[Zo[V]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},m.save=function(V,ue){return V=V||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,ue.returnPromise===!1?(L0(wc(nu()),V),typeof L0.unload=="function"&&ur.setTimeout&&setTimeout(L0.unload,911),this):new Promise(function(je,He){try{var et=L0(wc(nu()),V);typeof L0.unload=="function"&&ur.setTimeout&&setTimeout(L0.unload,911),je(et)}catch(It){He(It.message)}})},Vi.API)Vi.API.hasOwnProperty(Nc)&&(Nc==="events"&&Vi.API.events.length?(function(V,ue){var je,He,et;for(et=ue.length-1;et!==-1;et--)je=ue[et][0],He=ue[et][1],V.subscribe.apply(V,[je].concat(typeof He=="function"?[He]:He))})(dr,Vi.API.events):m[Nc]=Vi.API[Nc]);function Xa(V){return _i[V].mediaBox.topRightX-_i[V].mediaBox.bottomLeftX}function _u(V,ue){_i[V].mediaBox.topRightX=ue+_i[V].mediaBox.bottomLeftX}function Ic(V){return _i[V].mediaBox.topRightY-_i[V].mediaBox.bottomLeftY}function nl(V,ue){_i[V].mediaBox.topRightY=ue+_i[V].mediaBox.bottomLeftY}var Cf=m.getPageWidth=function(V){return Xa(V=V||Y)/Ue},yd=m.setPageWidth=function(V,ue){_u(V,ue*Ue)},Al=m.getPageHeight=function(V){return Ic(V=V||Y)/Ue},Of=m.setPageHeight=function(V,ue){nl(V,ue*Ue)};return m.internal={pdfEscape:fr,getStyle:Ou,getFont:ma,getFontSize:Yt,getCharSpace:ju,getTextColor:ec,getLineHeight:tm,getLineHeightFactor:im,getLineWidth:Gi,write:ti,getHorizontalCoordinate:Gs,getVerticalCoordinate:Oa,getCoordinateString:If,getVerticalCoordinateString:Dc,collections:{},newObject:zn,newAdditionalObject:Le,newObjectDeferred:bs,newObjectDeferredBegin:fe,getFilters:rt,putStream:vt,events:dr,scaleFactor:Ue,pageSize:{getWidth:function(){return Cf(Y)},setWidth:function(V){yd(Y,V)},getHeight:function(){return Al(Y)},setHeight:function(V){Of(Y,V)}},encryptionOptions:u,encryption:En,getEncryptor:function(V){return u!==null?En.encryptor(V,0):function(ue){return ue}},output:tl,getNumberOfPages:jo,pages:Je,out:Se,f2:j,f3:z,getPageInfo:Xn,getPageInfoByObjId:Cu,getCurrentPageInfo:Dh,getPDFVersion:M,Point:tc,Rectangle:Ac,Matrix:Pi,hasHotfix:Tc},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Cf(Y)},set:function(V){yd(Y,V)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Al(Y)},set:function(V){Of(Y,V)},enumerable:!0,configurable:!0}),(function(V){for(var ue=0,je=$t.length;ue<je;ue++){var He=Xr.call(this,V[ue][0],V[ue][1],V[ue][2],$t[ue][3],!0);d===!1&&(p[He]=!0);var et=V[ue][0].split("-");yi({id:He,fontName:et[0],fontStyle:et[1]||""})}dr.publish("addFonts",{fonts:Nt,dictionary:hi})}).call(m,$t),Ne="F1",Ia(n,e),dr.publish("initialized"),m}Vy.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Vy.prototype.toHexString=function(r){return r.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Vy.prototype.hexToBytes=function(r){for(var t=[],e=0;e<r.length;e+=2)t.push(String.fromCharCode(parseInt(r.substr(e,2),16)));return t.join("")},Vy.prototype.processOwnerPassword=function(r,t){return Dk(bk(t).substr(0,5),r)},Vy.prototype.encryptor=function(r,t){var e=bk(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return Dk(e,i)}},bS.prototype.equals=function(r){var t,e="id,objectNumber,equals";if(!r||Qn(r)!==Qn(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!r.hasOwnProperty(t)||this[t]!==r[t])return!1;i++}for(t in r)r.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Vi.API={events:[]},Vi.version="3.0.3";var ba=Vi.API,v3=1,Lv=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cy=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vr=function(r){return r.toFixed(2)},Vm=function(r){return r.toFixed(5)};ba.__acroform__={};var iu=function(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r},_7=function(r){return r*v3},Hd=function(r){var t=new O$,e=Li.internal.getHeight(r)||0,i=Li.internal.getWidth(r)||0;return t.BBox=[0,0,Number(vr(i)),Number(vr(e))],t},OSe=ba.__acroform__.setBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<t},kSe=ba.__acroform__.clearBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<t)},LSe=ba.__acroform__.getBit=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<t?1:0},Ba=ba.__acroform__.getBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return LSe(r,t-1)},Ua=ba.__acroform__.setBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return OSe(r,t-1)},Va=ba.__acroform__.clearBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kSe(r,t-1)},jSe=ba.__acroform__.calculateCoordinates=function(r,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,n=r[0],s=r[1],a=r[2],o=r[3],l={};return l.lowerLeft_X=e(n)||0,l.lowerLeft_Y=i(s+o)||0,l.upperRight_X=e(n+a)||0,l.upperRight_Y=i(s)||0,[Number(vr(l.lowerLeft_X)),Number(vr(l.lowerLeft_Y)),Number(vr(l.upperRight_X)),Number(vr(l.upperRight_Y))]},_Se=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var t=[],e=r._V||r.DV,i=Ek(r,e),n=r.scope.internal.getFont(r.fontName,r.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(r.scope.__private__.encodeColorString(r.color)),t.push("/"+n+" "+vr(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Hd(r);return s.scope=r.scope,s.stream=t.join(`
`),s}},Ek=function(r,t){var e=r.fontSize===0?r.maxFontSize:r.fontSize,i={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=r.multiline?n.map(function(j){return j.split(`
`)}):n.map(function(j){return[j]});var s=e,a=Li.internal.getHeight(r)||0;a=a<0?-a:a;var o=Li.internal.getWidth(r)||0;o=o<0?-o:o;var l=function(j,z,F){if(j+1<n.length){var X=z+" "+n[j+1][0];return DE(X,r,F).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var c,u,d=DE("3",r,s).height,p=r.multiline?a-s:(a-d)/2,m=p+=2,y=0,M=0,w=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+DE(t,r,s=12).width+", FieldWidth:"+o+`
`;break}for(var b="",D=0,E=0;E<n.length;E++)if(n.hasOwnProperty(E)){var N=!1;if(n[E].length!==1&&w!==n[E].length-1){if((d+2)*(D+2)+2>a)continue e;b+=n[E][w],N=!0,M=E,E--}else{b=(b+=n[E][w]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var B=parseInt(E),P=l(B,b,s),C=E>=n.length-1;if(P&&!C){b+=" ",w=0;continue}if(P||C){if(C)M=B;else if(r.multiline&&(d+2)*(D+2)+2>a)continue e}else{if(!r.multiline||(d+2)*(D+2)+2>a)continue e;M=B}}for(var k="",_=y;_<=M;_++){var H=n[_];if(r.multiline){if(_===M){k+=H[w]+" ",w=(w+1)%H.length;continue}if(_===y){k+=H[H.length-1]+" ";continue}}k+=H[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,u=DE(k,r,s).width,r.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}t+=vr(c)+" "+vr(m)+` Td
`,t+="("+Lv(k)+`) Tj
`,t+=-vr(c)+` 0 Td
`,m=-(s+2),u=0,y=N?M:M+1,D++,b=""}break}return i.text=t,i.fontSize=s,i},DE=function(r,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(r,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:n}},zSe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},RSe=function(r,t){var e={type:"reference",object:r};t.internal.getPageInfo(r.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(r.page).pageContext.annotations.push(e)},PSe=function(r,t){if(t.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(md.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(zSe)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");v3=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new k$,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in i)if(i.hasOwnProperty(n)){var s=i[n];s.objId=void 0,s.hasAnnotation&&RSe(s,e)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(e){(function(i,n){var s=!i;for(var a in i||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var o=i[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=jSe(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Li.createDefaultAppearanceStream(o),Qn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=_Se(o);l.push({key:"AP",value:"<</N "+u+">>"}),n.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var d="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var m=o.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var y=m[a];typeof y=="function"&&(y=y.call(n,o)),d+="/"+a+" "+y+" ",n.internal.acroformPlugin.xForms.indexOf(y)>=0||n.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(n,o)),d+="/"+a+" "+y,n.internal.acroformPlugin.xForms.indexOf(y)>=0||n.internal.acroformPlugin.xForms.push(y);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}n.internal.putStream({additionalKeyValues:l,objectId:o.objId}),n.internal.out("endobj")}s&&(function(M,w){for(var b in M)if(M.hasOwnProperty(b)){var D=b,E=M[b];w.internal.newObjectDeferredBegin(E.objId,!0),Qn(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete M[D]}})(n.internal.acroformPlugin.xForms,n)})(e,r)}),r.internal.acroformPlugin.isInitialized=!0}},C$=ba.__acroform__.arrayToPdfArray=function(r,t,e){var i=function(a){return a};if(Array.isArray(r)){for(var n="[",s=0;s<r.length;s++)switch(s!==0&&(n+=" "),Qn(r[s])){case"boolean":case"number":case"object":n+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),n+="("+Lv(i(r[s].toString()))+")"):n+=r[s].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},i5=function(r,t,e){var i=function(n){return n};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(r=r||"").toString(),"("+Lv(i(r))+")"},rf=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};rf.prototype.toString=function(){return this.objId+" 0 R"},rf.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},rf.prototype.getKeyValueListForStream=function(){var r=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],n=this[i];n&&(Array.isArray(n)?r.push({key:i,value:C$(n,this.objId,this.scope)}):n instanceof rf?(n.scope=this.scope,r.push({key:i,value:n.objId+" 0 R"})):typeof n!="function"&&r.push({key:i,value:n}))}return r};var O$=function(){rf.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){r=e.trim()},get:function(){return r||null}})};iu(O$,rf);var k$=function(){rf.call(this);var r,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Lv(e(r))+")"}},set:function(e){r=e}})};iu(k$,rf);var md=function r(){rf.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ba(t,3)},set:function(b){b?this.F=Ua(t,3):this.F=Va(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');e=b}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(b){i=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(b){i[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(b){i[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(b){i[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(b){i[3]=b}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof DS)return;s="FieldObject"+r.FieldNum++}var b=function(D){return D};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Lv(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/v3:c},set:function(b){c=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof DS||this instanceof K0))return i5(d,this.objId,this.scope)},set:function(b){b=b.toString(),d=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ko==0?i5(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof Ko==0?b.substr(0,1)==="("?Cy(b.substr(1,b.length-2)):Cy(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ko==1?Cy(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof Ko==1?"/"+b:b}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ko==0?i5(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof Ko==0?b.substr(0,1)==="("?Cy(b.substr(1,b.length-2)):Cy(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ko==1?Cy(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof Ko==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(b){b=!!b,M=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,1)},set:function(b){b?this.Ff=Ua(this.Ff,1):this.Ff=Va(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,2)},set:function(b){b?this.Ff=Ua(this.Ff,2):this.Ff=Va(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,3)},set:function(b){b?this.Ff=Ua(this.Ff,3):this.Ff=Va(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');w=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(w){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};iu(md,rf);var m1=function(){md.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){r=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return C$(t,this.objId,this.scope)},set:function(e){var i,n;n=[],typeof(i=e)=="string"&&(n=(function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c})(i,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,18)},set:function(e){e?this.Ff=Ua(this.Ff,18):this.Ff=Va(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Ua(this.Ff,19):this.Ff=Va(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,20)},set:function(e){e?(this.Ff=Ua(this.Ff,20),t.sort()):this.Ff=Va(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,22)},set:function(e){e?this.Ff=Ua(this.Ff,22):this.Ff=Va(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,23)},set:function(e){e?this.Ff=Ua(this.Ff,23):this.Ff=Va(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,27)},set:function(e){e?this.Ff=Ua(this.Ff,27):this.Ff=Va(this.Ff,27)}}),this.hasAppearanceStream=!1};iu(m1,md);var g1=function(){m1.call(this),this.fontName="helvetica",this.combo=!1};iu(g1,m1);var v1=function(){g1.call(this),this.combo=!0};iu(v1,g1);var lA=function(){v1.call(this),this.edit=!0};iu(lA,v1);var Ko=function(){md.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,15)},set:function(e){e?this.Ff=Ua(this.Ff,15):this.Ff=Va(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,16)},set:function(e){e?this.Ff=Ua(this.Ff,16):this.Ff=Va(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,17)},set:function(e){e?this.Ff=Ua(this.Ff,17):this.Ff=Va(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,26)},set:function(e){e?this.Ff=Ua(this.Ff,26):this.Ff=Va(this.Ff,26)}});var r,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,n=[];for(i in n.push("<<"),t)n.push("/"+i+" ("+Lv(e(t[i]))+")");return n.push(">>"),n.join(`
`)}},set:function(e){Qn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}})};iu(Ko,md);var cA=function(){Ko.call(this),this.pushButton=!0};iu(cA,Ko);var y1=function(){Ko.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t!==void 0?t:[]}})};iu(y1,Ko);var DS=function(){var r,t;md.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),i)a.push("/"+s+" ("+Lv(n(i[s]))+")");return a.push(">>"),a.join(`
`)},set:function(n){Qn(n)==="object"&&(i=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(n){typeof n=="string"&&(i.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Li.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};iu(DS,md),y1.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=r.createAppearanceStream(e.optionName),e.caption=r.getCA()}},y1.prototype.createOption=function(r){var t=new DS;return t.Parent=this,t.optionName=r,this.Kids.push(t),FSe.call(this.scope,t),t};var uA=function(){Ko.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Li.CheckBox.createAppearanceStream()};iu(uA,Ko);var K0=function(){md.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,13)},set:function(t){t?this.Ff=Ua(this.Ff,13):this.Ff=Va(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,21)},set:function(t){t?this.Ff=Ua(this.Ff,21):this.Ff=Va(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,23)},set:function(t){t?this.Ff=Ua(this.Ff,23):this.Ff=Va(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,24)},set:function(t){t?this.Ff=Ua(this.Ff,24):this.Ff=Va(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,25)},set:function(t){t?this.Ff=Ua(this.Ff,25):this.Ff=Va(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,26)},set:function(t){t?this.Ff=Ua(this.Ff,26):this.Ff=Va(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){Number.isInteger(t)&&(r=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};iu(K0,md);var hA=function(){K0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,14)},set:function(r){r?this.Ff=Ua(this.Ff,14):this.Ff=Va(this.Ff,14)}}),this.password=!0};iu(hA,K0);var Li={CheckBox:{createAppearanceStream:function(){return{N:{On:Li.CheckBox.YesNormal},D:{On:Li.CheckBox.YesPushDown,Off:Li.CheckBox.OffPushDown}}},YesPushDown:function(r){var t=Hd(r);t.scope=r.scope;var e=[],i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=Ek(r,r.caption);return e.push("0.749023 g"),e.push("0 0 "+vr(Li.internal.getWidth(r))+" "+vr(Li.internal.getHeight(r))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+vr(s.fontSize)+" Tf "+n),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(r){var t=Hd(r);t.scope=r.scope;var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),n=[],s=Li.internal.getHeight(r),a=Li.internal.getWidth(r),o=Ek(r,r.caption);return n.push("1 g"),n.push("0 0 "+vr(a)+" "+vr(s)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+vr(a-1)+" "+vr(s-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+e+" "+vr(o.fontSize)+" Tf "+i),n.push(o.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(r){var t=Hd(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+vr(Li.internal.getWidth(r))+" "+vr(Li.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(r){var t={D:{Off:Li.RadioButton.Circle.OffPushDown},N:{}};return t.N[r]=Li.RadioButton.Circle.YesNormal,t.D[r]=Li.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(r){var t=Hd(r);t.scope=r.scope;var e=[],i=Li.internal.getWidth(r)<=Li.internal.getHeight(r)?Li.internal.getWidth(r)/4:Li.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var n=Li.internal.Bezier_C,s=Number((i*n).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Vm(Li.internal.getWidth(r)/2)+" "+Vm(Li.internal.getHeight(r)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=Hd(r);t.scope=r.scope;var e=[],i=Li.internal.getWidth(r)<=Li.internal.getHeight(r)?Li.internal.getWidth(r)/4:Li.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),s=Number((n*Li.internal.Bezier_C).toFixed(5)),a=Number((i*Li.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Vm(Li.internal.getWidth(r)/2)+" "+Vm(Li.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),e.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),e.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),e.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Vm(Li.internal.getWidth(r)/2)+" "+Vm(Li.internal.getHeight(r)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(r){var t=Hd(r);t.scope=r.scope;var e=[],i=Li.internal.getWidth(r)<=Li.internal.getHeight(r)?Li.internal.getWidth(r)/4:Li.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),s=Number((n*Li.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Vm(Li.internal.getWidth(r)/2)+" "+Vm(Li.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),e.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),e.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),e.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(r){var t={D:{Off:Li.RadioButton.Cross.OffPushDown},N:{}};return t.N[r]=Li.RadioButton.Cross.YesNormal,t.D[r]=Li.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(r){var t=Hd(r);t.scope=r.scope;var e=[],i=Li.internal.calculateCross(r);return e.push("q"),e.push("1 1 "+vr(Li.internal.getWidth(r)-2)+" "+vr(Li.internal.getHeight(r)-2)+" re"),e.push("W"),e.push("n"),e.push(vr(i.x1.x)+" "+vr(i.x1.y)+" m"),e.push(vr(i.x2.x)+" "+vr(i.x2.y)+" l"),e.push(vr(i.x4.x)+" "+vr(i.x4.y)+" m"),e.push(vr(i.x3.x)+" "+vr(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=Hd(r);t.scope=r.scope;var e=Li.internal.calculateCross(r),i=[];return i.push("0.749023 g"),i.push("0 0 "+vr(Li.internal.getWidth(r))+" "+vr(Li.internal.getHeight(r))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+vr(Li.internal.getWidth(r)-2)+" "+vr(Li.internal.getHeight(r)-2)+" re"),i.push("W"),i.push("n"),i.push(vr(e.x1.x)+" "+vr(e.x1.y)+" m"),i.push(vr(e.x2.x)+" "+vr(e.x2.y)+" l"),i.push(vr(e.x4.x)+" "+vr(e.x4.y)+" m"),i.push(vr(e.x3.x)+" "+vr(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(r){var t=Hd(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+vr(Li.internal.getWidth(r))+" "+vr(Li.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(r){var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,e=r.scope.__private__.encodeColorString(r.color);return"/"+t+" "+r.fontSize+" Tf "+e}};Li.internal={Bezier_C:.551915024494,calculateCross:function(r){var t=Li.internal.getWidth(r),e=Li.internal.getHeight(r),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},Li.internal.getWidth=function(r){var t=0;return Qn(r)==="object"&&(t=_7(r.Rect[2])),t},Li.internal.getHeight=function(r){var t=0;return Qn(r)==="object"&&(t=_7(r.Rect[3])),t};var FSe=ba.addField=function(r){if(PSe(this,r),!(r instanceof md))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=r).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};ba.AcroFormChoiceField=m1,ba.AcroFormListBox=g1,ba.AcroFormComboBox=v1,ba.AcroFormEditBox=lA,ba.AcroFormButton=Ko,ba.AcroFormPushButton=cA,ba.AcroFormRadioButton=y1,ba.AcroFormCheckBox=uA,ba.AcroFormTextField=K0,ba.AcroFormPasswordField=hA,ba.AcroFormAppearance=Li,ba.AcroForm={ChoiceField:m1,ListBox:g1,ComboBox:v1,EditBox:lA,Button:Ko,PushButton:cA,RadioButton:y1,CheckBox:uA,TextField:K0,PasswordField:hA,Appearance:Li},Vi.AcroForm={ChoiceField:m1,ListBox:g1,ComboBox:v1,EditBox:lA,Button:Ko,PushButton:cA,RadioButton:y1,CheckBox:uA,TextField:K0,PasswordField:hA,Appearance:Li};Vi.AcroForm;function L$(r){return r.reduce(function(t,e,i){return t[e]=i,t},{})}(function(r){var t="addImage_";r.__addimage__={};var e="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(j,z){var F,X,J,U,W,re=e;if((z=z||e)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(P(j))for(W in i)for(J=i[W],F=0;F<J.length;F+=1){for(U=!0,X=0;X<J[F].length;X+=1)if(J[F][X]!==void 0&&J[F][X]!==j[X]){U=!1;break}if(U===!0){re=W;break}}else for(W in i)for(J=i[W],F=0;F<J.length;F+=1){for(U=!0,X=0;X<J[F].length;X+=1)if(J[F][X]!==void 0&&J[F][X]!==j.charCodeAt(X)){U=!1;break}if(U===!0){re=W;break}}return re===e&&z!==e&&(re=z),re},s=function j(z){for(var F=this.internal.write,X=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:z.width}),U.push({key:"Height",value:z.height}),z.colorSpace===b.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===b.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)&&z.transparency.length>0){for(var W="",re=0,Z=z.transparency.length;re<Z;re++)W+=z.transparency[re]+" "+z.transparency[re]+" ";U.push({key:"Mask",value:"["+W+"]"})}z.sMask!==void 0&&U.push({key:"SMask",value:z.objectId+1+" 0 R"});var Ee=z.filter!==void 0?["/"+z.filter]:void 0;if(X({data:z.data,additionalKeyValues:U,alreadyAppliedFilters:Ee,objectId:z.objectId}),F("endobj"),"sMask"in z&&z.sMask!==void 0){var ae,L=(ae=z.sMaskBitsPerComponent)!==null&&ae!==void 0?ae:z.bitsPerComponent,Y={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:z.sMask};"filter"in z&&(Y.decodeParameters="/Predictor ".concat(z.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(z.width),Y.filter=z.filter),j.call(this,Y)}if(z.colorSpace===b.INDEXED){var G=this.internal.newObject();X({data:k(new Uint8Array(z.palette)),objectId:G}),F("endobj")}},a=function(){var j=this.internal.collections[t+"images"];for(var z in j)s.call(this,j[z])},o=function(){var j,z=this.internal.collections[t+"images"],F=this.internal.write;for(var X in z)F("/I"+(j=z[X]).index,j.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var j=this.internal.collections[t+"images"];return l.call(this),j},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},d=function(j){return typeof r["process"+j.toUpperCase()]=="function"},p=function(j){return Qn(j)==="object"&&j.nodeType===1},m=function(j,z){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var F=""+j.getAttribute("src");if(F.indexOf("data:image/")===0)return oA(unescape(F).split("base64,").pop());var X=r.loadFile(F,!0);if(X!==void 0)return X}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var J;switch(z){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;default:J="image/jpeg"}return oA(j.toDataURL(J,1).split("base64,").pop())}},y=function(j){var z=this.internal.collections[t+"images"];if(z){for(var F in z)if(j===z[F].alias)return z[F]}},M=function(j,z,F){return j||z||(j=-96,z=-96),j<0&&(j=-1*F.width*72/j/this.internal.scaleFactor),z<0&&(z=-1*F.height*72/z/this.internal.scaleFactor),j===0&&(j=z*F.width/F.height),z===0&&(z=j*F.height/F.width),[j,z]},w=function(j,z,F,X,J,U){var W=M.call(this,F,X,J),re=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,Ee=c.call(this);if(F=W[0],X=W[1],Ee[J.index]=J,U){U*=Math.PI/180;var ae=Math.cos(U),L=Math.sin(U),Y=function(Q){return Q.toFixed(4)},G=[Y(ae),Y(L),Y(-1*L),Y(ae),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,re(j),Z(z+X),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([re(F),"0","0",re(X),"0","0","cm"].join(" "))):this.internal.write([re(F),"0","0",re(X),re(j),Z(z+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},b=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=r.__addimage__.sHashCode=function(j){var z,F,X=0;if(typeof j=="string")for(F=j.length,z=0;z<F;z++)X=(X<<5)-X+j.charCodeAt(z),X|=0;else if(P(j))for(F=j.byteLength/2,z=0;z<F;z++)X=(X<<5)-X+j[z],X|=0;return X},N=r.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var z=!0;return j.length===0&&(z=!1),j.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(z=!1),z},B=r.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var z=j.indexOf(",");return z<0?null:j.substring(0,z).trim().endsWith("base64")?j.substring(z+1):null};r.__addimage__.isArrayBuffer=function(j){return j instanceof ArrayBuffer};var P=r.__addimage__.isArrayBufferView=function(j){return j instanceof Int8Array||j instanceof Uint8Array||j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array},C=r.__addimage__.binaryStringToUint8Array=function(j){for(var z=j.length,F=new Uint8Array(z),X=0;X<z;X++)F[X]=j.charCodeAt(X);return F},k=r.__addimage__.arrayBufferToBinaryString=function(j){for(var z="",F=P(j)?j:new Uint8Array(j),X=0;X<F.length;X+=8192)z+=String.fromCharCode.apply(null,F.subarray(X,X+8192));return z};r.addImage=function(){var j,z,F,X,J,U,W,re,Z;if(typeof arguments[1]=="number"?(z=e,F=arguments[1],X=arguments[2],J=arguments[3],U=arguments[4],W=arguments[5],re=arguments[6],Z=arguments[7]):(z=arguments[1],F=arguments[2],X=arguments[3],J=arguments[4],U=arguments[5],W=arguments[6],re=arguments[7],Z=arguments[8]),Qn(j=arguments[0])==="object"&&!p(j)&&"imageData"in j){var Ee=j;j=Ee.imageData,z=Ee.format||z||e,F=Ee.x||F||0,X=Ee.y||X||0,J=Ee.w||Ee.width||J,U=Ee.h||Ee.height||U,W=Ee.alias||W,re=Ee.compression||re,Z=Ee.rotation||Ee.angle||Z}var ae=this.internal.getFilters();if(re===void 0&&ae.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(F)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var L=_.call(this,j,z,W,re);return w.call(this,F,X,J,U,L,Z),this};var _=function(j,z,F,X){var J,U,W;if(typeof j=="string"&&n(j)===e){j=unescape(j);var re=H(j,!1);(re!==""||(re=r.loadFile(j,!0))!==void 0)&&(j=re)}if(p(j)&&(j=m(j,z)),z=n(j,z),!d(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((W=F)==null||W.length===0)&&(F=(function(Z){return typeof Z=="string"||P(Z)?E(Z):P(Z.data)?E(Z.data):null})(j)),(J=y.call(this,F))||(j instanceof Uint8Array||z==="RGBA"||(U=j,j=C(j)),J=this["process"+z.toUpperCase()](j,u.call(this),F,(function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in r.image_compression?Z:D.NONE})(X),U)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},H=r.__addimage__.convertBase64ToBinaryString=function(j,z){z=typeof z!="boolean"||z;var F,X="";if(typeof j=="string"){var J;F=(J=B(j))!==null&&J!==void 0?J:j;try{X=oA(F)}catch(U){if(z)throw N(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};r.getImageProperties=function(j){var z,F,X="";if(p(j)&&(j=m(j)),typeof j=="string"&&n(j)===e&&((X=H(j,!1))===""&&(X=r.loadFile(j)||""),j=X),F=n(j),!d(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(j instanceof Uint8Array||(j=C(j)),!(z=this["process"+F.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=F,z}})(Vi.API),(function(r){var t=function(e){if(e!==void 0&&e!="")return!0};Vi.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(e){for(var i,n,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((i=c[d]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){i=c[p];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(M.objId),D=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(n="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y)+"] ")+"/Contents ("+m(b(i.contents))+")",s+=" /Popup "+w.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(b(D))+") >>",M.content=s;var E=M.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+a(i.bounds.x+30)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+o(i.bounds.y)+"] ")+" /Parent "+E,i.open&&(s+=" /Open true"),s+=" >>",w.content=s,this.internal.write(M.objId,"0 R",w.objId,"0 R");break;case"freetext":n="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y+i.bounds.h)+"] ";var N=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+m(y(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var B=this.annotations._nameMap[i.options.name];i.options.pageNumber=B.page,i.options.top=B.y}else i.options.top||(i.options.top=0);if(n="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var P=o(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+P+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},r.link=function(e,i,n,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(e),y:c(i),w:l(e+n),h:c(i+s)},options:a,type:"link"})},r.textWithLink=function(e,i,n,s){var a,o,l=this.getTextWidth(e),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(e,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(e,i,n,s),n+=.2*c,s.align==="center"&&(i-=l/2),s.align==="right"&&(i-=l),this.link(i,n-c,o,a,s),l},r.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}})(Vi.API),(function(r){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(M){return t[M.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},o=r.__arabicParser__.isArabicEndLetter=function(M){return a(M)&&s(M)&&t[M.charCodeAt(0)].length<=2},l=r.__arabicParser__.isArabicAlfLetter=function(M){return a(M)&&n.indexOf(M.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return a(M)&&s(M)&&t[M.charCodeAt(0)].length>=1};var c=r.__arabicParser__.arabicLetterHasFinalForm=function(M){return a(M)&&s(M)&&t[M.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(M){return a(M)&&s(M)&&t[M.charCodeAt(0)].length>=3};var u=r.__arabicParser__.arabicLetterHasMedialForm=function(M){return a(M)&&s(M)&&t[M.charCodeAt(0)].length==4},d=r.__arabicParser__.resolveLigatures=function(M){var w=0,b=e,D="",E=0;for(w=0;w<M.length;w+=1)b[M.charCodeAt(w)]!==void 0?(E++,typeof(b=b[M.charCodeAt(w)])=="number"&&(D+=String.fromCharCode(b),b=e,E=0),w===M.length-1&&(b=e,D+=M.charAt(w-(E-1)),w-=E-1,E=0)):(b=e,D+=M.charAt(w-E),w-=E,E=0);return D};r.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&i[M.charCodeAt(0)]!==void 0};var p=r.__arabicParser__.getCorrectForm=function(M,w,b){return a(M)?s(M)===!1?-1:!c(M)||!a(w)&&!a(b)||!a(b)&&o(w)||o(M)&&!a(w)||o(M)&&l(w)||o(M)&&o(w)?0:u(M)&&a(w)&&!o(w)&&a(b)&&c(b)?3:o(M)||!a(b)?1:2:-1},m=function(M){var w=0,b=0,D=0,E="",N="",B="",P=(M=M||"").split("\\s+"),C=[];for(w=0;w<P.length;w+=1){for(C.push(""),b=0;b<P[w].length;b+=1)E=P[w][b],N=P[w][b-1],B=P[w][b+1],a(E)?(D=p(E,N,B),C[w]+=D!==-1?String.fromCharCode(t[E.charCodeAt(0)][D]):E):C[w]+=E;C[w]=d(C[w])}return C.join(" ")},y=r.__arabicParser__.processArabic=r.processArabic=function(){var M,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(w)){var D=0;for(b=[],D=0;D<w.length;D+=1)Array.isArray(w[D])?b.push([m(w[D][0]),w[D][1],w[D][2]]):b.push([m(w[D])]);M=b}else M=m(w);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};r.events.push(["preProcessText",y])})(Vi.API),Vi.API.autoPrint=function(r){var t;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(r){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(o){e=o}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var n;if((e=e||"2d")!=="2d")return null;for(n in i)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=i[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Vi.API),(function(r){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(M){l=M}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(M){c=M}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(M){u=M}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(M){d=M}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(M){p=M}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(M){m=M}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(M){y=M}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},r.getTextDimensions=function(l,c){i.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,m=0,y=0,M=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,N){return E.concat(w.splitTextToSize(N,b))},[])):l=Array.isArray(l)?l:[l];for(var D=0;D<l.length;D++)m<(M=this.getStringUnitWidth(l[D],{font:d})*u)&&(m=M);return m!==0&&(y=l.length),{w:m/=p,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},r.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,m&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};r.table=function(l,c,u,d,p){if(i.call(this),!u)throw new Error("No data for PDF table.");var m,y,M,w,b=[],D=[],E=[],N={},B={},P=[],C=[],k=(p=p||{}).autoSize||!1,_=p.printHeaders!==!1,H=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,j=p.margins||Object.assign({width:this.getPageWidth()},t),z=typeof p.padding=="number"?p.padding:3,F=p.headerBackgroundColor||"#c8c8c8",X=p.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=X,this.setFontSize(H),d==null)D=b=Object.keys(u[0]),E=b.map(function(){return"left"});else if(Array.isArray(d)&&Qn(d[0])==="object")for(b=d.map(function(Ee){return Ee.name}),D=d.map(function(Ee){return Ee.prompt||Ee.name||""}),E=d.map(function(Ee){return Ee.align||"left"}),m=0;m<d.length;m+=1)B[d[m].name]=.7499990551181103*d[m].width;else Array.isArray(d)&&typeof d[0]=="string"&&(D=b=d,E=b.map(function(){return"left"}));if(k||Array.isArray(d)&&typeof d[0]=="string")for(m=0;m<b.length;m+=1){for(N[w=b[m]]=u.map(function(Ee){return Ee[w]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(D[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=N[w],this.setFont(void 0,"normal"),M=0;M<y.length;M+=1)P.push(this.getTextDimensions(y[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[w]=Math.max.apply(null,P)+z+z,P=[]}if(_){var J={};for(m=0;m<b.length;m+=1)J[b[m]]={},J[b[m]].text=D[m],J[b[m]].align=E[m];var U=o.call(this,J,B);C=b.map(function(Ee){return new s(l,c,B[Ee],U,J[Ee].text,void 0,J[Ee].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var W=d.reduce(function(Ee,ae){return Ee[ae.name]=ae.align,Ee},{});for(m=0;m<u.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:u[m]},this);var re=o.call(this,u[m],B);for(M=0;M<b.length;M+=1){var Z=u[m][b[M]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:M,data:Z},this),a.call(this,new s(l,c,B[b[M]],re,Z,m+2,W[b[M]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(m){var y=l[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*d/p+u+u},this).reduce(function(m,y){return Math.max(m,y)},0)};r.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},r.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),e=!1}})(Vi.API);var j$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},_$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ak=L$(_$),z$=[100,200,300,400,500,600,700,800,900],BSe=L$(z$);function r5(r){var t=r.family.replace(/"|'/g,"").toLowerCase(),e=(function(s){return j$[s=s||"normal"]?s:"normal"})(r.style),i=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(r.weight),n=(function(s){return typeof Ak[s=s||"normal"]=="number"?s:"normal"})(r.stretch);return{family:t,style:e,weight:i,stretch:n,src:r.src||[],ref:r.ref||{name:t,style:[n,e,i].join(" ")}}}function z7(r,t,e,i){var n;for(n=e;n>=0&&n<t.length;n+=i)if(r[t[n]])return r[t[n]];for(n=e;n>=0&&n<t.length;n-=i)if(r[t[n]])return r[t[n]]}var USe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},R7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function P7(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function F7(r){return r.trimLeft()}function VSe(r,t){for(var e=0;e<r.length;){if(r.charAt(e)===t)return[r.substring(0,e),r.substring(e+1)];e+=1}return null}function HSe(r){var t=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],r.substring(t[0].length)]}var EE,B7,U7,Oy,AE,V7,H7,W7,n5=["times"];function Y7(r,t,e,i,n){var s=4,a=Q7;switch(n){case Vi.API.image_compression.FAST:s=1,a=q7;break;case Vi.API.image_compression.MEDIUM:s=6,a=G7;break;case Vi.API.image_compression.SLOW:s=9,a=K7}r=(function(l,c,u,d){for(var p,m=l.length/c,y=new Uint8Array(l.length+m),M=[WSe,q7,Q7,G7,K7],w=0;w<m;w+=1){var b=w*c,D=l.subarray(b,b+c);if(d)y.set(d(D,u,p),b+w);else{for(var E=M.length,N=[],B=0;B<E;B+=1)N[B]=M[B](D,u,p);var P=qSe(N.concat());y.set(N[P],b+w)}p=D}return y})(r,t,Math.ceil(e*i/8),a);var o=xk(r,{level:s});return Vi.API.__addimage__.arrayBufferToBinaryString(o)}function WSe(r){var t=Array.apply([],r);return t.unshift(0),t}function q7(r,t){var e=r.length,i=[];i[0]=1;for(var n=0;n<e;n+=1){var s=r[n-t]||0;i[n+1]=r[n]-s+256&255}return i}function Q7(r,t,e){var i=r.length,n=[];n[0]=2;for(var s=0;s<i;s+=1){var a=e&&e[s]||0;n[s+1]=r[s]-a+256&255}return n}function G7(r,t,e){var i=r.length,n=[];n[0]=3;for(var s=0;s<i;s+=1){var a=r[s-t]||0,o=e&&e[s]||0;n[s+1]=r[s]+256-(a+o>>>1)&255}return n}function K7(r,t,e){var i=r.length,n=[];n[0]=4;for(var s=0;s<i;s+=1){var a=YSe(r[s-t]||0,e&&e[s]||0,e&&e[s-t]||0);n[s+1]=r[s]-a+256&255}return n}function YSe(r,t,e){if(r===t&&t===e)return r;var i=Math.abs(t-e),n=Math.abs(r-e),s=Math.abs(r+t-e-e);return i<=n&&i<=s?r:n<=s?t:e}function qSe(r){var t=r.map(function(e){return e.reduce(function(i,n){return i+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function s5(r,t,e){var i=t*e,n=Math.floor(i/8),s=16-(i-8*n+e),a=(1<<e)-1;return R$(r,n)>>s&a}function $7(r,t,e,i){var n=e*i,s=Math.floor(n/8),a=16-(n-8*s+i),o=(1<<i)-1,l=(t&o)<<a;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var p=d>>8&255;c.setUint8(u,p)}})(r,s,R$(r,s)&~(o<<a)&65535|l)}function R$(r,t){return t+1<r.byteLength?r.getUint16(t,!1):r.getUint8(t)<<8}function QSe(r){var t=0;if(r[t++]!==71||r[t++]!==73||r[t++]!==70||r[t++]!==56||(r[t++]+1&253)!=56||r[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=r[t++]|r[t++]<<8,i=r[t++]|r[t++]<<8,n=r[t++],s=n>>7,a=1<<1+(7&n);r[t++],r[t++];var o=null,l=null;s&&(o=t,l=a,t+=3*a);var c=!0,u=[],d=0,p=null,m=0,y=null;for(this.width=e,this.height=i;c&&t<r.length;)switch(r[t++]){case 33:switch(r[t++]){case 255:if(r[t]!==11||r[t+1]==78&&r[t+2]==69&&r[t+3]==84&&r[t+4]==83&&r[t+5]==67&&r[t+6]==65&&r[t+7]==80&&r[t+8]==69&&r[t+9]==50&&r[t+10]==46&&r[t+11]==48&&r[t+12]==3&&r[t+13]==1&&r[t+16]==0)t+=14,y=r[t++]|r[t++]<<8,t++;else for(t+=12;;){if(!((j=r[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}break;case 249:if(r[t++]!==4||r[t+4]!==0)throw new Error("Invalid graphics extension block.");var M=r[t++];d=r[t++]|r[t++]<<8,p=r[t++],1&M||(p=null),m=M>>2&7,t++;break;case 254:for(;;){if(!((j=r[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}break;default:throw new Error("Unknown graphic control label: 0x"+r[t-1].toString(16))}break;case 44:var w=r[t++]|r[t++]<<8,b=r[t++]|r[t++]<<8,D=r[t++]|r[t++]<<8,E=r[t++]|r[t++]<<8,N=r[t++],B=N>>6&1,P=1<<1+(7&N),C=o,k=l,_=!1;N>>7&&(_=!0,C=t,k=P,t+=3*P);var H=t;for(t++;;){var j;if(!((j=r[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}u.push({x:w,y:b,width:D,height:E,has_local_palette:_,palette_offset:C,palette_size:k,data_offset:H,data_length:t-H,transparent_index:p,interlaced:!!B,delay:d,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+r[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(z){if(z<0||z>=u.length)throw new Error("Frame index out of range.");return u[z]},this.decodeAndBlitFrameBGRA=function(z,F){var X=this.frameInfo(z),J=X.width*X.height,U=new Uint8Array(J);X7(r,X.data_offset,U,J);var W=X.palette_offset,re=X.transparent_index;re===null&&(re=256);var Z=X.width,Ee=e-Z,ae=Z,L=4*(X.y*e+X.x),Y=4*((X.y+X.height)*e+X.x),G=L,Q=4*Ee;X.interlaced===!0&&(Q+=4*e*7);for(var te=8,le=0,Me=U.length;le<Me;++le){var ve=U[le];if(ae===0&&(ae=Z,(G+=Q)>=Y&&(Q=4*Ee+4*e*(te-1),G=L+(Z+Ee)*(te<<1),te>>=1)),ve===re)G+=4;else{var Ie=r[W+3*ve],Je=r[W+3*ve+1],xe=r[W+3*ve+2];F[G++]=xe,F[G++]=Je,F[G++]=Ie,F[G++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(z,F){var X=this.frameInfo(z),J=X.width*X.height,U=new Uint8Array(J);X7(r,X.data_offset,U,J);var W=X.palette_offset,re=X.transparent_index;re===null&&(re=256);var Z=X.width,Ee=e-Z,ae=Z,L=4*(X.y*e+X.x),Y=4*((X.y+X.height)*e+X.x),G=L,Q=4*Ee;X.interlaced===!0&&(Q+=4*e*7);for(var te=8,le=0,Me=U.length;le<Me;++le){var ve=U[le];if(ae===0&&(ae=Z,(G+=Q)>=Y&&(Q=4*Ee+4*e*(te-1),G=L+(Z+Ee)*(te<<1),te>>=1)),ve===re)G+=4;else{var Ie=r[W+3*ve],Je=r[W+3*ve+1],xe=r[W+3*ve+2];F[G++]=Ie,F[G++]=Je,F[G++]=xe,F[G++]=255}--ae}}}function X7(r,t,e,i){for(var n=r[t++],s=1<<n,a=s+1,o=a+1,l=n+1,c=(1<<l)-1,u=0,d=0,p=0,m=r[t++],y=new Int32Array(4096),M=null;;){for(;u<16&&m!==0;)d|=r[t++]<<u,u+=8,m===1?m=r[t++]:--m;if(u<l)break;var w=d&c;if(d>>=l,u-=l,w!==s){if(w===a)break;for(var b=w<o?w:M,D=0,E=b;E>s;)E=y[E]>>8,++D;var N=E;if(p+D+(b!==w?1:0)>i)return void Ms.log("Warning, gif stream longer than expected.");e[p++]=N;var B=p+=D;for(b!==w&&(e[p++]=N),E=b;D--;)E=y[E],e[--B]=255&E,E>>=8;M!==null&&o<4096&&(y[o++]=M<<8|N,o>=c+1&&l<12&&(++l,c=c<<1|1)),M=w}else o=a+1,c=(1<<(l=n+1))-1,M=null}return p!==i&&Ms.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function a5(r){var t,e,i,n,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),p=new Array(65535),m=new Array(64),y=new Array(64),M=[],w=0,b=7,D=new Array(64),E=new Array(64),N=new Array(64),B=new Array(256),P=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(L,Y){for(var G=0,Q=0,te=new Array,le=1;le<=16;le++){for(var Me=1;Me<=L[le];Me++)te[Y[Q]]=[],te[Y[Q]][0]=G,te[Y[Q]][1]=le,Q++,G++;G*=2}return te}function W(L){for(var Y=L[0],G=L[1]-1;G>=0;)Y&1<<G&&(w|=1<<b),G--,--b<0&&(w==255?(re(255),re(0)):re(w),b=7,w=0)}function re(L){M.push(L)}function Z(L){re(L>>8&255),re(255&L)}function Ee(L,Y,G,Q,te){for(var le,Me=te[0],ve=te[240],Ie=(function(Lt,ni){var Yt,Ri,pi,Mt,Bt,Xt,gi,he,Ne,Ue,Ke=0;for(Ne=0;Ne<8;++Ne){Yt=Lt[Ke],Ri=Lt[Ke+1],pi=Lt[Ke+2],Mt=Lt[Ke+3],Bt=Lt[Ke+4],Xt=Lt[Ke+5],gi=Lt[Ke+6];var yt=Yt+(he=Lt[Ke+7]),xt=Yt-he,Nt=Ri+gi,hi=Ri-gi,bi=pi+Xt,vi=pi-Xt,Bi=Mt+Bt,Qi=Mt-Bt,nn=yt+Bi,sn=yt-Bi,Dr=Nt+bi,_i=Nt-bi;Lt[Ke]=nn+Dr,Lt[Ke+4]=nn-Dr;var dr=.707106781*(_i+sn);Lt[Ke+2]=sn+dr,Lt[Ke+6]=sn-dr;var Lo=.382683433*((nn=Qi+vi)-(_i=hi+xt)),Cs=.5411961*nn+Lo,Zo=1.306562965*_i+Lo,pa=.707106781*(Dr=vi+hi),Pi=xt+pa,Fn=xt-pa;Lt[Ke+5]=Fn+Cs,Lt[Ke+3]=Fn-Cs,Lt[Ke+1]=Pi+Zo,Lt[Ke+7]=Pi-Zo,Ke+=8}for(Ke=0,Ne=0;Ne<8;++Ne){Yt=Lt[Ke],Ri=Lt[Ke+8],pi=Lt[Ke+16],Mt=Lt[Ke+24],Bt=Lt[Ke+32],Xt=Lt[Ke+40],gi=Lt[Ke+48];var el=Yt+(he=Lt[Ke+56]),Os=Yt-he,ia=Ri+gi,zn=Ri-gi,bs=pi+Xt,fe=pi-Xt,Le=Mt+Bt,be=Mt-Bt,De=el+Le,Ce=el-Le,ze=ia+bs,rt=ia-bs;Lt[Ke]=De+ze,Lt[Ke+32]=De-ze;var vt=.707106781*(rt+Ce);Lt[Ke+16]=Ce+vt,Lt[Ke+48]=Ce-vt;var at=.382683433*((De=be+fe)-(rt=zn+Os)),ot=.5411961*De+at,lt=1.306562965*rt+at,Vt=.707106781*(ze=fe+zn),Jt=Os+Vt,ai=Os-Vt;Lt[Ke+40]=ai+ot,Lt[Ke+24]=ai-ot,Lt[Ke+8]=Jt+lt,Lt[Ke+56]=Jt-lt,Ke++}for(Ne=0;Ne<64;++Ne)Ue=Lt[Ne]*ni[Ne],m[Ne]=Ue>0?Ue+.5|0:Ue-.5|0;return m})(L,Y),Je=0;Je<64;++Je)y[C[Je]]=Ie[Je];var xe=y[0]-G;G=y[0],xe==0?W(Q[0]):(W(Q[p[le=32767+xe]]),W(d[le]));for(var Ot=63;Ot>0&&y[Ot]==0;)Ot--;if(Ot==0)return W(Me),G;for(var Ge,Se=1;Se<=Ot;){for(var ti=Se;y[Se]==0&&Se<=Ot;)++Se;var Tt=Se-ti;if(Tt>=16){Ge=Tt>>4;for(var $t=1;$t<=Ge;++$t)W(ve);Tt&=15}le=32767+y[Se],W(te[(Tt<<4)+p[le]]),W(d[le]),Se++}return Ot!=63&&W(Me),G}function ae(L){L=Math.min(Math.max(L,1),100),s!=L&&((function(Y){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var te=a((G[Q]*Y+50)/100);te=Math.min(Math.max(te,1),255),o[C[Q]]=te}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Me=0;Me<64;Me++){var ve=a((le[Me]*Y+50)/100);ve=Math.min(Math.max(ve,1),255),l[C[Me]]=ve}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Je=0,xe=0;xe<8;xe++)for(var Ot=0;Ot<8;Ot++)c[Je]=1/(o[C[Je]]*Ie[xe]*Ie[Ot]*8),u[Je]=1/(l[C[Je]]*Ie[xe]*Ie[Ot]*8),Je++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),s=L)}this.encode=function(L,Y){Y&&ae(Y),M=new Array,w=0,b=7,Z(65496),Z(65504),Z(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),Z(1),Z(1),re(0),re(0),(function(){Z(65499),Z(132),re(0);for(var Ri=0;Ri<64;Ri++)re(o[Ri]);re(1);for(var pi=0;pi<64;pi++)re(l[pi])})(),(function(Ri,pi){Z(65472),Z(17),re(8),Z(pi),Z(Ri),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)})(L.width,L.height),(function(){Z(65476),Z(418),re(0);for(var Ri=0;Ri<16;Ri++)re(k[Ri+1]);for(var pi=0;pi<=11;pi++)re(_[pi]);re(16);for(var Mt=0;Mt<16;Mt++)re(H[Mt+1]);for(var Bt=0;Bt<=161;Bt++)re(j[Bt]);re(1);for(var Xt=0;Xt<16;Xt++)re(z[Xt+1]);for(var gi=0;gi<=11;gi++)re(F[gi]);re(17);for(var he=0;he<16;he++)re(X[he+1]);for(var Ne=0;Ne<=161;Ne++)re(J[Ne])})(),Z(65498),Z(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var G=0,Q=0,te=0;w=0,b=7,this.encode.displayName="_encode_";for(var le,Me,ve,Ie,Je,xe,Ot,Ge,Se,ti=L.data,Tt=L.width,$t=L.height,Lt=4*Tt,ni=0;ni<$t;){for(le=0;le<Lt;){for(Je=Lt*ni+le,Ot=-1,Ge=0,Se=0;Se<64;Se++)xe=Je+(Ge=Se>>3)*Lt+(Ot=4*(7&Se)),ni+Ge>=$t&&(xe-=Lt*(ni+1+Ge-$t)),le+Ot>=Lt&&(xe-=le+Ot-Lt+4),Me=ti[xe++],ve=ti[xe++],Ie=ti[xe++],D[Se]=(P[Me]+P[ve+256|0]+P[Ie+512|0]>>16)-128,E[Se]=(P[Me+768|0]+P[ve+1024|0]+P[Ie+1280|0]>>16)-128,N[Se]=(P[Me+1280|0]+P[ve+1536|0]+P[Ie+1792|0]>>16)-128;G=Ee(D,c,G,t,i),Q=Ee(E,u,Q,e,n),te=Ee(N,u,te,e,n),le+=32}ni+=8}if(b>=0){var Yt=[];Yt[1]=b+1,Yt[0]=(1<<b+1)-1,W(Yt)}return Z(65497),new Uint8Array(M)},r=r||50,(function(){for(var L=String.fromCharCode,Y=0;Y<256;Y++)B[Y]=L(Y)})(),t=U(k,_),e=U(z,F),i=U(H,j),n=U(X,J),(function(){for(var L=1,Y=2,G=1;G<=15;G++){for(var Q=L;Q<Y;Q++)p[32767+Q]=G,d[32767+Q]=[],d[32767+Q][1]=G,d[32767+Q][0]=Q;for(var te=-(Y-1);te<=-L;te++)p[32767+te]=G,d[32767+te]=[],d[32767+te][1]=G,d[32767+te][0]=Y-1+te;L<<=1,Y<<=1}})(),(function(){for(var L=0;L<256;L++)P[L]=19595*L,P[L+256|0]=38470*L,P[L+512|0]=7471*L+32768,P[L+768|0]=-11059*L,P[L+1024|0]=-21709*L,P[L+1280|0]=32768*L+8421375,P[L+1536|0]=-27439*L,P[L+1792|0]=-5329*L})(),ae(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Gh(r,t){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function J7(r){function t(_){if(!_)throw Error("assert :P")}function e(_,H,j){for(var z=0;4>z;z++)if(_[H+z]!=j.charCodeAt(z))return!0;return!1}function i(_,H,j,z,F){for(var X=0;X<F;X++)_[H+X]=j[z+X]}function n(_,H,j,z){for(var F=0;F<z;F++)_[H+F]=j}function s(_){return new Int32Array(_)}function a(_,H){for(var j=[],z=0;z<_;z++)j.push(new H);return j}function o(_,H){var j=[];return(function z(F,X,J){for(var U=J[X],W=0;W<U&&(F.push(J.length>X+1?[]:new H),!(J.length<X+1));W++)z(F[W],X+1,J)})(j,0,_),j}var l=function(){var _=this;function H(A,O){for(var q=1<<O-1>>>0;A&q;)q>>>=1;return q?(A&q-1)+q:A}function j(A,O,q,ie,de){t(!(ie%q));do A[O+(ie-=q)]=de;while(0<ie)}function z(A,O,q,ie,de){if(t(2328>=de),512>=de)var me=s(512);else if((me=s(de))==null)return 0;return(function(ge,we,Ae,_e,We,ct){var ke,Qe,nt=we,At=1<<Ae,st=s(16),Dt=s(16);for(t(We!=0),t(_e!=null),t(ge!=null),t(0<Ae),Qe=0;Qe<We;++Qe){if(15<_e[Qe])return 0;++st[_e[Qe]]}if(st[0]==We)return 0;for(Dt[1]=0,ke=1;15>ke;++ke){if(st[ke]>1<<ke)return 0;Dt[ke+1]=Dt[ke]+st[ke]}for(Qe=0;Qe<We;++Qe)ke=_e[Qe],0<_e[Qe]&&(ct[Dt[ke]++]=Qe);if(Dt[15]==1)return(_e=new F).g=0,_e.value=ct[0],j(ge,nt,1,At,_e),At;var kt,qt=-1,Ft=At-1,ki=0,xi=1,cr=1,Si=1<<Ae;for(Qe=0,ke=1,We=2;ke<=Ae;++ke,We<<=1){if(xi+=cr<<=1,0>(cr-=st[ke]))return 0;for(;0<st[ke];--st[ke])(_e=new F).g=ke,_e.value=ct[Qe++],j(ge,nt+ki,We,Si,_e),ki=H(ki,ke)}for(ke=Ae+1,We=2;15>=ke;++ke,We<<=1){if(xi+=cr<<=1,0>(cr-=st[ke]))return 0;for(;0<st[ke];--st[ke]){if(_e=new F,(ki&Ft)!=qt){for(nt+=Si,kt=1<<(qt=ke)-Ae;15>qt&&!(0>=(kt-=st[qt]));)++qt,kt<<=1;At+=Si=1<<(kt=qt-Ae),ge[we+(qt=ki&Ft)].g=kt+Ae,ge[we+qt].value=nt-we-qt}_e.g=ke-Ae,_e.value=ct[Qe++],j(ge,nt+(ki>>Ae),We,Si,_e),ki=H(ki,ke)}}return xi!=2*Dt[15]-1?0:At})(A,O,q,ie,de,me)}function F(){this.value=this.g=0}function X(){this.value=this.g=0}function J(){this.G=a(5,F),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(xd,X)}function U(A,O,q,ie){t(A!=null),t(O!=null),t(2147483648>ie),A.Ca=254,A.I=0,A.b=-8,A.Ka=0,A.oa=O,A.pa=q,A.Jd=O,A.Yc=q+ie,A.Zc=4<=ie?q+ie-4+1:q,Me(A)}function W(A,O){for(var q=0;0<O--;)q|=Ie(A,128)<<O;return q}function re(A,O){var q=W(A,O);return ve(A)?-q:q}function Z(A,O,q,ie){var de,me=0;for(t(A!=null),t(O!=null),t(4294967288>ie),A.Sb=ie,A.Ra=0,A.u=0,A.h=0,4<ie&&(ie=4),de=0;de<ie;++de)me+=O[q+de]<<8*de;A.Ra=me,A.bb=ie,A.oa=O,A.pa=q}function Ee(A){for(;8<=A.u&&A.bb<A.Sb;)A.Ra>>>=8,A.Ra+=A.oa[A.pa+A.bb]<<zu-8>>>0,++A.bb,A.u-=8;Q(A)&&(A.h=1,A.u=0)}function ae(A,O){if(t(0<=O),!A.h&&O<=al){var q=G(A)&Sl[O];return A.u+=O,Ee(A),q}return A.h=1,A.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(A){return A.Ra>>>(A.u&zu-1)>>>0}function Q(A){return t(A.bb<=A.Sb),A.h||A.bb==A.Sb&&A.u>zu}function te(A,O){A.u=O,A.h=Q(A)}function le(A){A.u>=Ru&&(t(A.u>=Ru),Ee(A))}function Me(A){t(A!=null&&A.oa!=null),A.pa<A.Zc?(A.I=(A.oa[A.pa++]|A.I<<8)>>>0,A.b+=8):(t(A!=null&&A.oa!=null),A.pa<A.Yc?(A.b+=8,A.I=A.oa[A.pa++]|A.I<<8):A.Ka?A.b=0:(A.I<<=8,A.b+=8,A.Ka=1))}function ve(A){return W(A,1)}function Ie(A,O){var q=A.Ca;0>A.b&&Me(A);var ie=A.b,de=q*O>>>8,me=(A.I>>>ie>de)+0;for(me?(q-=de,A.I-=de+1<<ie>>>0):q=de+1,ie=q,de=0;256<=ie;)de+=8,ie>>=8;return ie=7^de+Nh[ie],A.b-=ie,A.Ca=(q<<ie)-1,me}function Je(A,O,q){A[O+0]=q>>24&255,A[O+1]=q>>16&255,A[O+2]=q>>8&255,A[O+3]=255&q}function xe(A,O){return A[O+0]|A[O+1]<<8}function Ot(A,O){return xe(A,O)|A[O+2]<<16}function Ge(A,O){return xe(A,O)|xe(A,O+2)<<16}function Se(A,O){var q=1<<O;return t(A!=null),t(0<O),A.X=s(q),A.X==null?0:(A.Mb=32-O,A.Xa=O,1)}function ti(A,O){t(A!=null),t(O!=null),t(A.Xa==O.Xa),i(O.X,0,A.X,0,1<<O.Xa)}function Tt(){this.X=[],this.Xa=this.Mb=0}function $t(A,O,q,ie){t(q!=null),t(ie!=null);var de=q[0],me=ie[0];return de==0&&(de=(A*me+O/2)/O),me==0&&(me=(O*de+A/2)/A),0>=de||0>=me?0:(q[0]=de,ie[0]=me,1)}function Lt(A,O){return A+(1<<O)-1>>>O}function ni(A,O){return((4278255360&A)+(4278255360&O)>>>0&4278255360)+((16711935&A)+(16711935&O)>>>0&16711935)>>>0}function Yt(A,O){_[O]=function(q,ie,de,me,ge,we,Ae){var _e;for(_e=0;_e<ge;++_e){var We=_[A](we[Ae+_e-1],de,me+_e);we[Ae+_e]=ni(q[ie+_e],We)}}}function Ri(){this.ud=this.hd=this.jd=0}function pi(A,O){return((4278124286&(A^O))>>>1)+(A&O)>>>0}function Mt(A){return 0<=A&&256>A?A:0>A?0:255<A?255:void 0}function Bt(A,O){return Mt(A+(A-O+.5>>1))}function Xt(A,O,q){return Math.abs(O-q)-Math.abs(A-q)}function gi(A,O,q,ie,de,me,ge){for(ie=me[ge-1],q=0;q<de;++q)me[ge+q]=ie=ni(A[O+q],ie)}function he(A,O,q,ie,de){var me;for(me=0;me<q;++me){var ge=A[O+me],we=ge>>8&255,Ae=16711935&(Ae=(Ae=16711935&ge)+((we<<16)+we));ie[de+me]=(4278255360&ge)+Ae>>>0}}function Ne(A,O){O.jd=255&A,O.hd=A>>8&255,O.ud=A>>16&255}function Ue(A,O,q,ie,de,me){var ge;for(ge=0;ge<ie;++ge){var we=O[q+ge],Ae=we>>>8,_e=we,We=255&(We=(We=we>>>16)+((A.jd<<24>>24)*(Ae<<24>>24)>>>5));_e=255&(_e=(_e+=(A.hd<<24>>24)*(Ae<<24>>24)>>>5)+((A.ud<<24>>24)*(We<<24>>24)>>>5)),de[me+ge]=(4278255360&we)+(We<<16)+_e}}function Ke(A,O,q,ie,de){_[O]=function(me,ge,we,Ae,_e,We,ct,ke,Qe){for(Ae=ct;Ae<ke;++Ae)for(ct=0;ct<Qe;++ct)_e[We++]=de(we[ie(me[ge++])])},_[A]=function(me,ge,we,Ae,_e,We,ct){var ke=8>>me.b,Qe=me.Ea,nt=me.K[0],At=me.w;if(8>ke)for(me=(1<<me.b)-1,At=(1<<ke)-1;ge<we;++ge){var st,Dt=0;for(st=0;st<Qe;++st)st&me||(Dt=ie(Ae[_e++])),We[ct++]=de(nt[Dt&At]),Dt>>=ke}else _["VP8LMapColor"+q](Ae,_e,nt,At,We,ct,ge,we,Qe)}}function yt(A,O,q,ie,de){for(q=O+q;O<q;){var me=A[O++];ie[de++]=me>>16&255,ie[de++]=me>>8&255,ie[de++]=255&me}}function xt(A,O,q,ie,de){for(q=O+q;O<q;){var me=A[O++];ie[de++]=me>>16&255,ie[de++]=me>>8&255,ie[de++]=255&me,ie[de++]=me>>24&255}}function Nt(A,O,q,ie,de){for(q=O+q;O<q;){var me=(ge=A[O++])>>16&240|ge>>12&15,ge=240&ge|ge>>28&15;ie[de++]=me,ie[de++]=ge}}function hi(A,O,q,ie,de){for(q=O+q;O<q;){var me=(ge=A[O++])>>16&248|ge>>13&7,ge=ge>>5&224|ge>>3&31;ie[de++]=me,ie[de++]=ge}}function bi(A,O,q,ie,de){for(q=O+q;O<q;){var me=A[O++];ie[de++]=255&me,ie[de++]=me>>8&255,ie[de++]=me>>16&255}}function vi(A,O,q,ie,de,me){if(me==0)for(q=O+q;O<q;)Je(ie,((me=A[O++])[0]>>24|me[1]>>8&65280|me[2]<<8&16711680|me[3]<<24)>>>0),de+=32;else i(ie,de,A,O,q)}function Bi(A,O){_[O][0]=_[A+"0"],_[O][1]=_[A+"1"],_[O][2]=_[A+"2"],_[O][3]=_[A+"3"],_[O][4]=_[A+"4"],_[O][5]=_[A+"5"],_[O][6]=_[A+"6"],_[O][7]=_[A+"7"],_[O][8]=_[A+"8"],_[O][9]=_[A+"9"],_[O][10]=_[A+"10"],_[O][11]=_[A+"11"],_[O][12]=_[A+"12"],_[O][13]=_[A+"13"],_[O][14]=_[A+"0"],_[O][15]=_[A+"0"]}function Qi(A){return A==t0||A==Yv||A==lm||A==qv}function nn(){this.eb=[],this.size=this.A=this.fb=0}function sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new nn,this.f.kb=new sn,this.sd=null}function _i(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Lo(A){return alert("todo:WebPSamplerProcessPlane"),A.T}function Cs(A,O){var q=A.T,ie=O.ba.f.RGBA,de=ie.eb,me=ie.fb+A.ka*ie.A,ge=Mo[O.ba.S],we=A.y,Ae=A.O,_e=A.f,We=A.N,ct=A.ea,ke=A.W,Qe=O.cc,nt=O.dc,At=O.Mc,st=O.Nc,Dt=A.ka,kt=A.ka+A.T,qt=A.U,Ft=qt+1>>1;for(Dt==0?ge(we,Ae,null,null,_e,We,ct,ke,_e,We,ct,ke,de,me,null,null,qt):(ge(O.ec,O.fc,we,Ae,Qe,nt,At,st,_e,We,ct,ke,de,me-ie.A,de,me,qt),++q);Dt+2<kt;Dt+=2)Qe=_e,nt=We,At=ct,st=ke,We+=A.Rc,ke+=A.Rc,me+=2*ie.A,ge(we,(Ae+=2*A.fa)-A.fa,we,Ae,Qe,nt,At,st,_e,We,ct,ke,de,me-ie.A,de,me,qt);return Ae+=A.fa,A.j+kt<A.o?(i(O.ec,O.fc,we,Ae,qt),i(O.cc,O.dc,_e,We,Ft),i(O.Mc,O.Nc,ct,ke,Ft),q--):1&kt||ge(we,Ae,null,null,_e,We,ct,ke,_e,We,ct,ke,de,me+ie.A,null,null,qt),q}function Zo(A,O,q){var ie=A.F,de=[A.J];if(ie!=null){var me=A.U,ge=O.ba.S,we=ge==e0||ge==lm;O=O.ba.f.RGBA;var Ae=[0],_e=A.ka;Ae[0]=A.T,A.Kb&&(_e==0?--Ae[0]:(--_e,de[0]-=A.width),A.j+A.ka+A.T==A.o&&(Ae[0]=A.o-A.j-_e));var We=O.eb;_e=O.fb+_e*O.A,A=$g(ie,de[0],A.width,me,Ae,We,_e+(we?0:3),O.A),t(q==Ae),A&&Qi(ge)&&_f(We,_e,we,me,Ae,O.A)}return 0}function pa(A){var O=A.ma,q=O.ba.S,ie=11>q,de=q==Po||q==kc||q==e0||q==om||q==12||Qi(q);if(O.memory=null,O.Ib=null,O.Jb=null,O.Nd=null,!Sh(O.Oa,A,de?11:12))return 0;if(de&&Qi(q)&&kf(),A.da)alert("todo:use_scaling");else{if(ie){if(O.Ib=Lo,A.Kb){if(q=A.U+1>>1,O.memory=s(A.U+2*q),O.memory==null)return 0;O.ec=O.memory,O.fc=0,O.cc=O.ec,O.dc=O.fc+A.U,O.Mc=O.cc,O.Nc=O.dc+q,O.Ib=Cs,kf()}}else alert("todo:EmitYUV");de&&(O.Jb=Zo,ie&&Jn())}if(ie&&!Ad){for(A=0;256>A;++A)wo[A]=89858*(A-128)+hm>>Pc,$N[A]=-22014*(A-128)+hm,Tb[A]=-45773*(A-128),Xv[A]=113618*(A-128)+hm>>Pc;for(A=Ff;A<Ed;++A)O=76283*(A-16)+hm>>Pc,XN[A-Ff]=Sr(O,255),JN[A-Ff]=Sr(O+8>>4,15);Ad=1}return 1}function Pi(A){var O=A.ma,q=A.U,ie=A.T;return t(!(1&A.ka)),0>=q||0>=ie?0:(q=O.Ib(A,O),O.Jb!=null&&O.Jb(A,O,q),O.Dc+=q,1)}function Fn(A){A.ma.memory=null}function el(A,O,q,ie){return ae(A,8)!=47?0:(O[0]=ae(A,14)+1,q[0]=ae(A,14)+1,ie[0]=ae(A,1),ae(A,3)!=0?0:!A.h)}function Os(A,O){if(4>A)return A+1;var q=A-2>>1;return(2+(1&A)<<q)+ae(O,q)+1}function ia(A,O){return 120<O?O-120:1<=(q=((q=jc[O-1])>>4)*A+(8-(15&q)))?q:1;var q}function zn(A,O,q){var ie=G(q),de=A[O+=255&ie].g-8;return 0<de&&(te(q,q.u+8),ie=G(q),O+=A[O].value,O+=ie&(1<<de)-1),te(q,q.u+A[O].g),A[O].value}function bs(A,O,q){return q.g+=A.g,q.value+=A.value<<O>>>0,t(8>=q.g),A.g}function fe(A,O,q){var ie=A.xc;return t((O=ie==0?0:A.vc[A.md*(q>>ie)+(O>>ie)])<A.Wb),A.Ya[O]}function Le(A,O,q,ie){var de=A.ab,me=A.c*O,ge=A.C;O=ge+O;var we=q,Ae=ie;for(ie=A.Ta,q=A.Ua;0<de--;){var _e=A.gc[de],We=ge,ct=O,ke=we,Qe=Ae,nt=(Ae=ie,we=q,_e.Ea);switch(t(We<ct),t(ct<=_e.nc),_e.hc){case 2:ra(ke,Qe,(ct-We)*nt,Ae,we);break;case 0:var At=We,st=ct,Dt=Ae,kt=we,qt=(Si=_e).Ea;At==0&&(rm(ke,Qe,null,null,1,Dt,kt),gi(ke,Qe+1,0,0,qt-1,Dt,kt+1),Qe+=qt,kt+=qt,++At);for(var Ft=1<<Si.b,ki=Ft-1,xi=Lt(qt,Si.b),cr=Si.K,Si=Si.w+(At>>Si.b)*xi;At<st;){var Rr=cr,ds=Si,mr=1;for(nm(ke,Qe,Dt,kt-qt,1,Dt,kt);mr<qt;){var Mi=(mr&~ki)+Ft;Mi>qt&&(Mi=qt),(0,Ih[Rr[ds++]>>8&15])(ke,Qe+ +mr,Dt,kt+mr-qt,Mi-mr,Dt,kt+mr),mr=Mi}Qe+=qt,kt+=qt,++At&ki||(Si+=xi)}ct!=_e.nc&&i(Ae,we-nt,Ae,we+(ct-We-1)*nt,nt);break;case 1:for(nt=ke,st=Qe,qt=(ke=_e.Ea)-(kt=ke&~(Dt=(Qe=1<<_e.b)-1)),At=Lt(ke,_e.b),Ft=_e.K,_e=_e.w+(We>>_e.b)*At;We<ct;){for(ki=Ft,xi=_e,cr=new Ri,Si=st+kt,Rr=st+ke;st<Si;)Ne(ki[xi++],cr),sm(cr,nt,st,Qe,Ae,we),st+=Qe,we+=Qe;st<Rr&&(Ne(ki[xi++],cr),sm(cr,nt,st,qt,Ae,we),st+=qt,we+=qt),++We&Dt||(_e+=At)}break;case 3:if(ke==Ae&&Qe==we&&0<_e.b){for(st=Ae,ke=nt=we+(ct-We)*nt-(kt=(ct-We)*Lt(_e.Ea,_e.b)),Qe=Ae,Dt=we,At=[],kt=(qt=kt)-1;0<=kt;--kt)At[kt]=Qe[Dt+kt];for(kt=qt-1;0<=kt;--kt)st[ke+kt]=At[kt];Bv(_e,We,ct,Ae,nt,Ae,we)}else Bv(_e,We,ct,ke,Qe,Ae,we)}we=ie,Ae=q}Ae!=q&&i(ie,q,we,Ae,me)}function be(A,O){var q=A.V,ie=A.Ba+A.c*A.C,de=O-A.C;if(t(O<=A.l.o),t(16>=de),0<de){var me=A.l,ge=A.Ta,we=A.Ua,Ae=me.width;if(Le(A,de,q,ie),de=we=[we],t((q=A.C)<(ie=O)),t(me.v<me.va),ie>me.o&&(ie=me.o),q<me.j){var _e=me.j-q;q=me.j,de[0]+=_e*Ae}if(q>=ie?q=0:(de[0]+=4*me.v,me.ka=q-me.j,me.U=me.va-me.v,me.T=ie-q,q=1),q){if(we=we[0],11>(q=A.ca).S){var We=q.f.RGBA,ct=(ie=q.S,de=me.U,me=me.T,_e=We.eb,We.A),ke=me;for(We=We.fb+A.Ma*We.A;0<ke--;){var Qe=ge,nt=we,At=de,st=_e,Dt=We;switch(ie){case Hv:am(Qe,nt,At,st,Dt);break;case Po:Ch(Qe,nt,At,st,Dt);break;case t0:Ch(Qe,nt,At,st,Dt),_f(st,Dt,0,At,1,0);break;case Wv:Lf(Qe,nt,At,st,Dt);break;case kc:vi(Qe,nt,At,st,Dt,1);break;case Yv:vi(Qe,nt,At,st,Dt,1),_f(st,Dt,0,At,1,0);break;case e0:vi(Qe,nt,At,st,Dt,0);break;case lm:vi(Qe,nt,At,st,Dt,0),_f(st,Dt,1,At,1,0);break;case om:Oh(Qe,nt,At,st,Dt);break;case qv:Oh(Qe,nt,At,st,Dt),Oc(st,Dt,At,1,0);break;case Md:Bu(Qe,nt,At,st,Dt);break;default:t(0)}we+=Ae,We+=ct}A.Ma+=me}else alert("todo:EmitRescaledRowsYUVA");t(A.Ma<=q.height)}}A.C=O,t(A.C<=A.i)}function De(A){var O;if(0<A.ua)return 0;for(O=0;O<A.Wb;++O){var q=A.Ya[O].G,ie=A.Ya[O].H;if(0<q[1][ie[1]+0].g||0<q[2][ie[2]+0].g||0<q[3][ie[3]+0].g)return 0}return 1}function Ce(A,O,q,ie,de,me){if(A.Z!=0){var ge=A.qd,we=A.rd;for(t(jh[A.Z]!=null);O<q;++O)jh[A.Z](ge,we,ie,de,ie,de,me),ge=ie,we=de,de+=me;A.qd=ge,A.rd=we}}function ze(A,O){var q=A.l.ma,ie=q.Z==0||q.Z==1?A.l.j:A.C;if(ie=A.C<ie?ie:A.C,t(O<=A.l.o),O>ie){var de=A.l.width,me=q.ca,ge=q.tb+de*ie,we=A.V,Ae=A.Ba+A.c*ie,_e=A.gc;t(A.ab==1),t(_e[0].hc==3),Fu(_e[0],ie,O,we,Ae,me,ge),Ce(q,ie,O,me,ge,de)}A.C=A.Ma=O}function rt(A,O,q,ie,de,me,ge){var we=A.$/ie,Ae=A.$%ie,_e=A.m,We=A.s,ct=q+A.$,ke=ct;de=q+ie*de;var Qe=q+ie*me,nt=280+We.ua,At=A.Pb?we:16777216,st=0<We.ua?We.Wa:null,Dt=We.wc,kt=ct<Qe?fe(We,Ae,we):null;t(A.C<me),t(Qe<=de);var qt=!1;e:for(;;){for(;qt||ct<Qe;){var Ft=0;if(we>=At){var ki=ct-q;t((At=A).Pb),At.wd=At.m,At.xd=ki,0<At.s.ua&&ti(At.s.Wa,At.s.vb),At=we+wd}if(Ae&Dt||(kt=fe(We,Ae,we)),t(kt!=null),kt.Qb&&(O[ct]=kt.qb,qt=!0),!qt)if(le(_e),kt.jc){Ft=_e,ki=O;var xi=ct,cr=kt.pd[G(Ft)&xd-1];t(kt.jc),256>cr.g?(te(Ft,Ft.u+cr.g),ki[xi]=cr.value,Ft=0):(te(Ft,Ft.u+cr.g-256),t(256<=cr.value),Ft=cr.value),Ft==0&&(qt=!0)}else Ft=zn(kt.G[0],kt.H[0],_e);if(_e.h)break;if(qt||256>Ft){if(!qt)if(kt.nd)O[ct]=(kt.qb|Ft<<8)>>>0;else{if(le(_e),qt=zn(kt.G[1],kt.H[1],_e),le(_e),ki=zn(kt.G[2],kt.H[2],_e),xi=zn(kt.G[3],kt.H[3],_e),_e.h)break;O[ct]=(xi<<24|qt<<16|Ft<<8|ki)>>>0}if(qt=!1,++ct,++Ae>=ie&&(Ae=0,++we,ge!=null&&we<=me&&!(we%16)&&ge(A,we),st!=null))for(;ke<ct;)Ft=O[ke++],st.X[(506832829*Ft&4294967295)>>>st.Mb]=Ft}else if(280>Ft){if(Ft=Os(Ft-256,_e),ki=zn(kt.G[4],kt.H[4],_e),le(_e),ki=ia(ie,ki=Os(ki,_e)),_e.h)break;if(ct-q<ki||de-ct<Ft)break e;for(xi=0;xi<Ft;++xi)O[ct+xi]=O[ct+xi-ki];for(ct+=Ft,Ae+=Ft;Ae>=ie;)Ae-=ie,++we,ge!=null&&we<=me&&!(we%16)&&ge(A,we);if(t(ct<=de),Ae&Dt&&(kt=fe(We,Ae,we)),st!=null)for(;ke<ct;)Ft=O[ke++],st.X[(506832829*Ft&4294967295)>>>st.Mb]=Ft}else{if(!(Ft<nt))break e;for(qt=Ft-280,t(st!=null);ke<ct;)Ft=O[ke++],st.X[(506832829*Ft&4294967295)>>>st.Mb]=Ft;Ft=ct,t(!(qt>>>(ki=st).Xa)),O[Ft]=ki.X[qt],qt=!0}qt||t(_e.h==Q(_e))}if(A.Pb&&_e.h&&ct<de)t(A.m.h),A.a=5,A.m=A.wd,A.$=A.xd,0<A.s.ua&&ti(A.s.vb,A.s.Wa);else{if(_e.h)break e;ge?.(A,we>me?me:we),A.a=0,A.$=ct-q}return 1}return A.a=3,0}function vt(A){t(A!=null),A.vc=null,A.yc=null,A.Ya=null;var O=A.Wa;O!=null&&(O.X=null),A.vb=null,t(A!=null)}function at(){var A=new Oi;return A==null?null:(A.a=0,A.xb=ux,Bi("Predictor","VP8LPredictors"),Bi("Predictor","VP8LPredictors_C"),Bi("PredictorAdd","VP8LPredictorsAdd"),Bi("PredictorAdd","VP8LPredictorsAdd_C"),ra=he,sm=Ue,am=yt,Ch=xt,Oh=Nt,Bu=hi,Lf=bi,_.VP8LMapColor32b=Pu,_.VP8LMapColor8b=vo,A)}function ot(A,O,q,ie,de){var me=1,ge=[A],we=[O],Ae=ie.m,_e=ie.s,We=null,ct=0;e:for(;;){if(q)for(;me&&ae(Ae,1);){var ke=ge,Qe=we,nt=ie,At=1,st=nt.m,Dt=nt.gc[nt.ab],kt=ae(st,2);if(nt.Oc&1<<kt)me=0;else{switch(nt.Oc|=1<<kt,Dt.hc=kt,Dt.Ea=ke[0],Dt.nc=Qe[0],Dt.K=[null],++nt.ab,t(4>=nt.ab),kt){case 0:case 1:Dt.b=ae(st,3)+2,At=ot(Lt(Dt.Ea,Dt.b),Lt(Dt.nc,Dt.b),0,nt,Dt.K),Dt.K=Dt.K[0];break;case 3:var qt,Ft=ae(st,8)+1,ki=16<Ft?0:4<Ft?1:2<Ft?2:3;if(ke[0]=Lt(Dt.Ea,ki),Dt.b=ki,qt=At=ot(Ft,1,0,nt,Dt.K)){var xi,cr=Ft,Si=Dt,Rr=1<<(8>>Si.b),ds=s(Rr);if(ds==null)qt=0;else{var mr=Si.K[0],Mi=Si.w;for(ds[0]=Si.K[0][0],xi=1;xi<1*cr;++xi)ds[xi]=ni(mr[Mi+xi],ds[xi-1]);for(;xi<4*Rr;++xi)ds[xi]=0;Si.K[0]=null,Si.K[0]=ds,qt=1}}At=qt;break;case 2:break;default:t(0)}me=At}}if(ge=ge[0],we=we[0],me&&ae(Ae,1)&&!(me=1<=(ct=ae(Ae,4))&&11>=ct)){ie.a=3;break e}var li;if(li=me)t:{var js,Zi,wr,Nn=ie,ka=ge,To=we,ts=ct,va=q,Fo=Nn.m,ya=Nn.s,Or=[null],an=1,_s=0,mn=_c[ts];i:for(;;){if(va&&ae(Fo,1)){var La=ae(Fo,3)+2,zs=Lt(ka,La),on=Lt(To,La),aa=zs*on;if(!ot(zs,on,0,Nn,Or))break i;for(Or=Or[0],ya.xc=La,js=0;js<aa;++js){var In=Or[js]>>8&65535;Or[js]=In,In>=an&&(an=In+1)}}if(Fo.h)break i;for(Zi=0;5>Zi;++Zi){var xa=Rf[Zi];!Zi&&0<ts&&(xa+=1<<ts),_s<xa&&(_s=xa)}var Ma=a(an*mn,F),Bn=an,Zr=a(Bn,J);if(Zr==null)var Bo=null;else t(65536>=Bn),Bo=Zr;var Js=s(_s);if(Bo==null||Js==null||Ma==null){Nn.a=1;break i}var Yi=Ma;for(js=wr=0;js<an;++js){var $i=Bo[js],ln=$i.G,Nl=$i.H,Fc=0,ll=1,wa=0;for(Zi=0;5>Zi;++Zi){xa=Rf[Zi],ln[Zi]=Yi,Nl[Zi]=wr,!Zi&&0<ts&&(xa+=1<<ts);n:{var Sd,Nd=xa,Zv=Nn,is=Js,dx=Yi,fx=wr,ey=0,_h=Zv.m,ZN=ae(_h,1);if(n(is,0,0,Nd),ZN){var px=ae(_h,1)+1,mx=ae(_h,1),ty=ae(_h,mx==0?1:8);is[ty]=1,px==2&&(is[ty=ae(_h,8)]=1);var Za=1}else{var Zs=s(19),s0=ae(_h,4)+4;if(19<s0){Zv.a=3;var Id=0;break n}for(Sd=0;Sd<s0;++Sd)Zs[i0[Sd]]=ae(_h,3);var fm=void 0,Bf=void 0,Hu=Zv,iy=Zs,pm=Nd,ry=is,ny=0,zh=Hu.m,gx=8,vx=a(128,F);r:for(;z(vx,0,7,iy,19);){if(ae(zh,1)){var bb=2+2*ae(zh,3);if((fm=2+ae(zh,bb))>pm)break r}else fm=pm;for(Bf=0;Bf<pm&&fm--;){le(zh);var yx=vx[0+(127&G(zh))];te(zh,zh.u+yx.g);var Cd=yx.value;if(16>Cd)ry[Bf++]=Cd,Cd!=0&&(gx=Cd);else{var Db=Cd==16,Eb=Cd-16,Ab=cm[Eb],xx=ae(zh,Lc[Eb])+Ab;if(Bf+xx>pm)break r;for(var Sb=Db?gx:0;0<xx--;)ry[Bf++]=Sb}}ny=1;break r}ny||(Hu.a=3),Za=ny}(Za=Za&&!_h.h)&&(ey=z(dx,fx,8,is,Nd)),Za&&ey!=0?Id=ey:(Zv.a=3,Id=0)}if(Id==0)break i;if(ll&&Qv[Zi]==1&&(ll=Yi[wr].g==0),Fc+=Yi[wr].g,wr+=Id,3>=Zi){var Uf,sy=Js[0];for(Uf=1;Uf<xa;++Uf)Js[Uf]>sy&&(sy=Js[Uf]);wa+=sy}}if($i.nd=ll,$i.Qb=0,ll&&($i.qb=(ln[3][Nl[3]+0].value<<24|ln[1][Nl[1]+0].value<<16|ln[2][Nl[2]+0].value)>>>0,Fc==0&&256>ln[0][Nl[0]+0].value&&($i.Qb=1,$i.qb+=ln[0][Nl[0]+0].value<<8)),$i.jc=!$i.Qb&&6>wa,$i.jc){var a0,Wu=$i;for(a0=0;a0<xd;++a0){var Rh=a0,Ph=Wu.pd[Rh],ay=Wu.G[0][Wu.H[0]+Rh];256<=ay.value?(Ph.g=ay.g+256,Ph.value=ay.value):(Ph.g=0,Ph.value=0,Rh>>=bs(ay,8,Ph),Rh>>=bs(Wu.G[1][Wu.H[1]+Rh],16,Ph),Rh>>=bs(Wu.G[2][Wu.H[2]+Rh],0,Ph),bs(Wu.G[3][Wu.H[3]+Rh],24,Ph))}}}ya.vc=Or,ya.Wb=an,ya.Ya=Bo,ya.yc=Ma,li=1;break t}li=0}if(!(me=li)){ie.a=3;break e}if(0<ct){if(_e.ua=1<<ct,!Se(_e.Wa,ct)){ie.a=1,me=0;break e}}else _e.ua=0;var oy=ie,Vf=ge,Nb=we,mm=oy.s,gm=mm.xc;if(oy.c=Vf,oy.i=Nb,mm.md=Lt(Vf,gm),mm.wc=gm==0?-1:(1<<gm)-1,q){ie.xb=Td;break e}if((We=s(ge*we))==null){ie.a=1,me=0;break e}me=(me=rt(ie,We,0,ge,we,we,null))&&!Ae.h;break e}return me?(de!=null?de[0]=We:(t(We==null),t(q)),ie.$=0,q||vt(_e)):vt(_e),me}function lt(A,O){var q=A.c*A.i,ie=q+O+16*O;return t(A.c<=O),A.V=s(ie),A.V==null?(A.Ta=null,A.Ua=0,A.a=1,0):(A.Ta=A.V,A.Ua=A.Ba+q+O,1)}function Vt(A,O){var q=A.C,ie=O-q,de=A.V,me=A.Ba+A.c*q;for(t(O<=A.l.o);0<ie;){var ge=16<ie?16:ie,we=A.l.ma,Ae=A.l.width,_e=Ae*ge,We=we.ca,ct=we.tb+Ae*q,ke=A.Ta,Qe=A.Ua;Le(A,ge,de,me),sc(ke,Qe,We,ct,_e),Ce(we,q,q+ge,We,ct,Ae),ie-=ge,de+=ge*A.c,q+=ge}t(q==O),A.C=A.Ma=O}function Jt(){this.ub=this.yd=this.td=this.Rb=0}function ai(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ii(){this.Yb=(function(){var A=[];return(function O(q,ie,de){for(var me=de[ie],ge=0;ge<me&&(q.push(de.length>ie+1?[]:0),!(de.length<ie+1));ge++)O(q[ge],ie+1,de)})(A,0,[3,11]),A})()}function yi(){this.jb=s(3),this.Wc=o([4,8],ii),this.Xc=o([4,17],ii)}function Xr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function fr(){this.ld=this.La=this.dd=this.tc=0}function _r(){this.Na=this.la=0}function Ia(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function El(){this.uc=this.M=this.Nb=0,this.wa=Array(new fr),this.Y=0,this.ya=Array(new Zl),this.aa=0,this.l=new ks}function jo(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ru(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new Jt,this.Kc=new ai,this.ed=new Xr,this.Qa=new Qt,this.Ic=this.$c=this.Aa=0,this.D=new El,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,L),this.ia=0,this.pb=a(4,Ia),this.Pa=new yi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jo),this.Hd=0,this.rb=Array(new _r),this.sb=0,this.wa=Array(new fr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zl),this.L=this.aa=0,this.gd=o([4,2],fr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ks(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Iu(){var A=new ru;return A!=null&&(A.a=0,A.sc="OK",A.cb=0,A.Xb=0,ac||(ac=nu)),A}function dn(A,O,q){return A.a==0&&(A.a=O,A.sc=q,A.cb=0),0}function Ka(A,O,q){return 3<=q&&A[O+0]==157&&A[O+1]==1&&A[O+2]==42}function bf(A,O){if(A==null)return 0;if(A.a=0,A.sc="OK",O==null)return dn(A,2,"null VP8Io passed to VP8GetHeaders()");var q=O.data,ie=O.w,de=O.ha;if(4>de)return dn(A,7,"Truncated header.");var me=q[ie+0]|q[ie+1]<<8|q[ie+2]<<16,ge=A.Od;if(ge.Rb=!(1&me),ge.td=me>>1&7,ge.yd=me>>4&1,ge.ub=me>>5,3<ge.td)return dn(A,3,"Incorrect keyframe parameters.");if(!ge.yd)return dn(A,4,"Frame not displayable.");ie+=3,de-=3;var we=A.Kc;if(ge.Rb){if(7>de)return dn(A,7,"cannot parse picture header");if(!Ka(q,ie,de))return dn(A,3,"Bad code word");we.c=16383&(q[ie+4]<<8|q[ie+3]),we.Td=q[ie+4]>>6,we.i=16383&(q[ie+6]<<8|q[ie+5]),we.Ud=q[ie+6]>>6,ie+=7,de-=7,A.za=we.c+15>>4,A.Ub=we.i+15>>4,O.width=we.c,O.height=we.i,O.Da=0,O.j=0,O.v=0,O.va=O.width,O.o=O.height,O.da=0,O.ib=O.width,O.hb=O.height,O.U=O.width,O.T=O.height,n((me=A.Pa).jb,0,255,me.jb.length),t((me=A.Qa)!=null),me.Cb=0,me.Bb=0,me.Fb=1,n(me.Zb,0,0,me.Zb.length),n(me.Lb,0,0,me.Lb)}if(ge.ub>de)return dn(A,7,"bad partition length");U(me=A.m,q,ie,ge.ub),ie+=ge.ub,de-=ge.ub,ge.Rb&&(we.Ld=ve(me),we.Kd=ve(me)),we=A.Qa;var Ae,_e=A.Pa;if(t(me!=null),t(we!=null),we.Cb=ve(me),we.Cb){if(we.Bb=ve(me),ve(me)){for(we.Fb=ve(me),Ae=0;4>Ae;++Ae)we.Zb[Ae]=ve(me)?re(me,7):0;for(Ae=0;4>Ae;++Ae)we.Lb[Ae]=ve(me)?re(me,6):0}if(we.Bb)for(Ae=0;3>Ae;++Ae)_e.jb[Ae]=ve(me)?W(me,8):255}else we.Bb=0;if(me.Ka)return dn(A,3,"cannot parse segment header");if((we=A.ed).zd=ve(me),we.Tb=W(me,6),we.wb=W(me,3),we.Pc=ve(me),we.Pc&&ve(me)){for(_e=0;4>_e;++_e)ve(me)&&(we.vd[_e]=re(me,6));for(_e=0;4>_e;++_e)ve(me)&&(we.od[_e]=re(me,6))}if(A.L=we.Tb==0?0:we.zd?1:2,me.Ka)return dn(A,3,"cannot parse filter header");var We=de;if(de=Ae=ie,ie=Ae+We,we=We,A.Xb=(1<<W(A.m,2))-1,We<3*(_e=A.Xb))q=7;else{for(Ae+=3*_e,we-=3*_e,We=0;We<_e;++We){var ct=q[de+0]|q[de+1]<<8|q[de+2]<<16;ct>we&&(ct=we),U(A.Jc[+We],q,Ae,ct),Ae+=ct,we-=ct,de+=3}U(A.Jc[+_e],q,Ae,we),q=Ae<ie?0:5}if(q!=0)return dn(A,q,"cannot parse partitions");for(q=W(Ae=A.m,7),de=ve(Ae)?re(Ae,4):0,ie=ve(Ae)?re(Ae,4):0,we=ve(Ae)?re(Ae,4):0,_e=ve(Ae)?re(Ae,4):0,Ae=ve(Ae)?re(Ae,4):0,We=A.Qa,ct=0;4>ct;++ct){if(We.Cb){var ke=We.Zb[ct];We.Fb||(ke+=q)}else{if(0<ct){A.pb[ct]=A.pb[0];continue}ke=q}var Qe=A.pb[ct];Qe.Sc[0]=zc[Sr(ke+de,127)],Qe.Sc[1]=Rc[Sr(ke+0,127)],Qe.Eb[0]=2*zc[Sr(ke+ie,127)],Qe.Eb[1]=101581*Rc[Sr(ke+we,127)]>>16,8>Qe.Eb[1]&&(Qe.Eb[1]=8),Qe.Qc[0]=zc[Sr(ke+_e,117)],Qe.Qc[1]=Rc[Sr(ke+Ae,127)],Qe.lc=ke+Ae}if(!ge.Rb)return dn(A,4,"Not a key frame.");for(ve(me),ge=A.Pa,q=0;4>q;++q){for(de=0;8>de;++de)for(ie=0;3>ie;++ie)for(we=0;11>we;++we)_e=Ie(me,hs[q][de][ie][we])?W(me,8):wb[q][de][ie][we],ge.Wc[q][de].Yb[ie][we]=_e;for(de=0;17>de;++de)ge.Xc[q][de]=ge.Wc[q][Ur[de]]}return A.kc=ve(me),A.kc&&(A.Bd=W(me,8)),A.cb=1}function nu(A,O,q,ie,de,me,ge){var we=O[de].Yb[q];for(q=0;16>de;++de){if(!Ie(A,we[q+0]))return de;for(;!Ie(A,we[q+1]);)if(we=O[++de].Yb[0],q=0,de==16)return 16;var Ae=O[de+1].Yb;if(Ie(A,we[q+2])){var _e=A,We=0;if(Ie(_e,(ke=we)[(ct=q)+3]))if(Ie(_e,ke[ct+6])){for(we=0,ct=2*(We=Ie(_e,ke[ct+8]))+(ke=Ie(_e,ke[ct+9+We])),We=0,ke=Mb[ct];ke[we];++we)We+=We+Ie(_e,ke[we]);We+=3+(8<<ct)}else Ie(_e,ke[ct+7])?(We=7+2*Ie(_e,165),We+=Ie(_e,145)):We=5+Ie(_e,159);else We=Ie(_e,ke[ct+4])?3+Ie(_e,ke[ct+5]):2;we=Ae[2]}else We=1,we=Ae[1];Ae=ge+cx[de],0>(_e=A).b&&Me(_e);var ct,ke=_e.b,Qe=(ct=_e.Ca>>1)-(_e.I>>ke)>>31;--_e.b,_e.Ca+=Qe,_e.Ca|=1,_e.I-=(ct+1&Qe)<<ke,me[Ae]=((We^Qe)-Qe)*ie[(0<de)+0]}return 16}function wc(A){var O=A.rb[A.sb-1];O.la=0,O.Na=0,n(A.zc,0,0,A.zc.length),A.ja=0}function tl(A,O,q,ie,de){de=A[O+q+32*ie]+(de>>3),A[O+q+32*ie]=-256&de?0>de?0:255:de}function Tc(A,O,q,ie,de,me){tl(A,O,0,q,ie+de),tl(A,O,1,q,ie+me),tl(A,O,2,q,ie-me),tl(A,O,3,q,ie-de)}function En(A){return(20091*A>>16)+A}function Xn(A,O,q,ie){var de,me=0,ge=s(16);for(de=0;4>de;++de){var we=A[O+0]+A[O+8],Ae=A[O+0]-A[O+8],_e=(35468*A[O+4]>>16)-En(A[O+12]),We=En(A[O+4])+(35468*A[O+12]>>16);ge[me+0]=we+We,ge[me+1]=Ae+_e,ge[me+2]=Ae-_e,ge[me+3]=we-We,me+=4,O++}for(de=me=0;4>de;++de)we=(A=ge[me+0]+4)+ge[me+8],Ae=A-ge[me+8],_e=(35468*ge[me+4]>>16)-En(ge[me+12]),tl(q,ie,0,0,we+(We=En(ge[me+4])+(35468*ge[me+12]>>16))),tl(q,ie,1,0,Ae+_e),tl(q,ie,2,0,Ae-_e),tl(q,ie,3,0,we-We),me++,ie+=32}function Cu(A,O,q,ie){var de=A[O+0]+4,me=35468*A[O+4]>>16,ge=En(A[O+4]),we=35468*A[O+1]>>16;Tc(q,ie,0,de+ge,A=En(A[O+1]),we),Tc(q,ie,1,de+me,A,we),Tc(q,ie,2,de-me,A,we),Tc(q,ie,3,de-ge,A,we)}function Dh(A,O,q,ie,de){Xn(A,O,q,ie),de&&Xn(A,O+16,q,ie+4)}function vd(A,O,q,ie){kh(A,O+0,q,ie,1),kh(A,O+32,q,ie+128,1)}function Mr(A,O,q,ie){var de;for(A=A[O+0]+4,de=0;4>de;++de)for(O=0;4>O;++O)tl(q,ie,O,de,A)}function Ou(A,O,q,ie){A[O+0]&&pn(A,O+0,q,ie),A[O+16]&&pn(A,O+16,q,ie+4),A[O+32]&&pn(A,O+32,q,ie+128),A[O+48]&&pn(A,O+48,q,ie+128+4)}function su(A,O,q,ie){var de,me=s(16);for(de=0;4>de;++de){var ge=A[O+0+de]+A[O+12+de],we=A[O+4+de]+A[O+8+de],Ae=A[O+4+de]-A[O+8+de],_e=A[O+0+de]-A[O+12+de];me[0+de]=ge+we,me[8+de]=ge-we,me[4+de]=_e+Ae,me[12+de]=_e-Ae}for(de=0;4>de;++de)ge=(A=me[0+4*de]+3)+me[3+4*de],we=me[1+4*de]+me[2+4*de],Ae=me[1+4*de]-me[2+4*de],_e=A-me[3+4*de],q[ie+0]=ge+we>>3,q[ie+16]=_e+Ae>>3,q[ie+32]=ge-we>>3,q[ie+48]=_e-Ae>>3,ie+=64}function Ca(A,O,q){var ie,de=O-32,me=Ro,ge=255-A[de-1];for(ie=0;ie<q;++ie){var we,Ae=me,_e=ge+A[O-1];for(we=0;we<q;++we)A[O+we]=Ae[_e+A[de+we]];O+=32}}function Df(A,O){Ca(A,O,4)}function Ef(A,O){Ca(A,O,8)}function em(A,O){Ca(A,O,16)}function Af(A,O){var q;for(q=0;16>q;++q)i(A,O+32*q,A,O-32,16)}function Sf(A,O){var q;for(q=16;0<q;--q)n(A,O,A[O-1],16),O+=32}function Eh(A,O,q){var ie;for(ie=0;16>ie;++ie)n(O,q+32*ie,A,16)}function po(A,O){var q,ie=16;for(q=0;16>q;++q)ie+=A[O-1+32*q]+A[O+q-32];Eh(ie>>5,A,O)}function ma(A,O){var q,ie=8;for(q=0;16>q;++q)ie+=A[O-1+32*q];Eh(ie>>4,A,O)}function bc(A,O){var q,ie=8;for(q=0;16>q;++q)ie+=A[O+q-32];Eh(ie>>4,A,O)}function ku(A,O){Eh(128,A,O)}function Gi(A,O,q){return A+2*O+q+2>>2}function il(A,O){var q,ie=O-32;for(ie=new Uint8Array([Gi(A[ie-1],A[ie+0],A[ie+1]),Gi(A[ie+0],A[ie+1],A[ie+2]),Gi(A[ie+1],A[ie+2],A[ie+3]),Gi(A[ie+2],A[ie+3],A[ie+4])]),q=0;4>q;++q)i(A,O+32*q,ie,0,ie.length)}function tm(A,O){var q=A[O-1],ie=A[O-1+32],de=A[O-1+64],me=A[O-1+96];Je(A,O+0,16843009*Gi(A[O-1-32],q,ie)),Je(A,O+32,16843009*Gi(q,ie,de)),Je(A,O+64,16843009*Gi(ie,de,me)),Je(A,O+96,16843009*Gi(de,me,me))}function Nf(A,O){var q,ie=4;for(q=0;4>q;++q)ie+=A[O+q-32]+A[O-1+32*q];for(ie>>=3,q=0;4>q;++q)n(A,O+32*q,ie,4)}function im(A,O){var q=A[O-1+0],ie=A[O-1+32],de=A[O-1+64],me=A[O-1-32],ge=A[O+0-32],we=A[O+1-32],Ae=A[O+2-32],_e=A[O+3-32];A[O+0+96]=Gi(ie,de,A[O-1+96]),A[O+1+96]=A[O+0+64]=Gi(q,ie,de),A[O+2+96]=A[O+1+64]=A[O+0+32]=Gi(me,q,ie),A[O+3+96]=A[O+2+64]=A[O+1+32]=A[O+0+0]=Gi(ge,me,q),A[O+3+64]=A[O+2+32]=A[O+1+0]=Gi(we,ge,me),A[O+3+32]=A[O+2+0]=Gi(Ae,we,ge),A[O+3+0]=Gi(_e,Ae,we)}function Gs(A,O){var q=A[O+1-32],ie=A[O+2-32],de=A[O+3-32],me=A[O+4-32],ge=A[O+5-32],we=A[O+6-32],Ae=A[O+7-32];A[O+0+0]=Gi(A[O+0-32],q,ie),A[O+1+0]=A[O+0+32]=Gi(q,ie,de),A[O+2+0]=A[O+1+32]=A[O+0+64]=Gi(ie,de,me),A[O+3+0]=A[O+2+32]=A[O+1+64]=A[O+0+96]=Gi(de,me,ge),A[O+3+32]=A[O+2+64]=A[O+1+96]=Gi(me,ge,we),A[O+3+64]=A[O+2+96]=Gi(ge,we,Ae),A[O+3+96]=Gi(we,Ae,Ae)}function Oa(A,O){var q=A[O-1+0],ie=A[O-1+32],de=A[O-1+64],me=A[O-1-32],ge=A[O+0-32],we=A[O+1-32],Ae=A[O+2-32],_e=A[O+3-32];A[O+0+0]=A[O+1+64]=me+ge+1>>1,A[O+1+0]=A[O+2+64]=ge+we+1>>1,A[O+2+0]=A[O+3+64]=we+Ae+1>>1,A[O+3+0]=Ae+_e+1>>1,A[O+0+96]=Gi(de,ie,q),A[O+0+64]=Gi(ie,q,me),A[O+0+32]=A[O+1+96]=Gi(q,me,ge),A[O+1+32]=A[O+2+96]=Gi(me,ge,we),A[O+2+32]=A[O+3+96]=Gi(ge,we,Ae),A[O+3+32]=Gi(we,Ae,_e)}function If(A,O){var q=A[O+0-32],ie=A[O+1-32],de=A[O+2-32],me=A[O+3-32],ge=A[O+4-32],we=A[O+5-32],Ae=A[O+6-32],_e=A[O+7-32];A[O+0+0]=q+ie+1>>1,A[O+1+0]=A[O+0+64]=ie+de+1>>1,A[O+2+0]=A[O+1+64]=de+me+1>>1,A[O+3+0]=A[O+2+64]=me+ge+1>>1,A[O+0+32]=Gi(q,ie,de),A[O+1+32]=A[O+0+96]=Gi(ie,de,me),A[O+2+32]=A[O+1+96]=Gi(de,me,ge),A[O+3+32]=A[O+2+96]=Gi(me,ge,we),A[O+3+64]=Gi(ge,we,Ae),A[O+3+96]=Gi(we,Ae,_e)}function Dc(A,O){var q=A[O-1+0],ie=A[O-1+32],de=A[O-1+64],me=A[O-1+96];A[O+0+0]=q+ie+1>>1,A[O+2+0]=A[O+0+32]=ie+de+1>>1,A[O+2+32]=A[O+0+64]=de+me+1>>1,A[O+1+0]=Gi(q,ie,de),A[O+3+0]=A[O+1+32]=Gi(ie,de,me),A[O+3+32]=A[O+1+64]=Gi(de,me,me),A[O+3+64]=A[O+2+64]=A[O+0+96]=A[O+1+96]=A[O+2+96]=A[O+3+96]=me}function $a(A,O){var q=A[O-1+0],ie=A[O-1+32],de=A[O-1+64],me=A[O-1+96],ge=A[O-1-32],we=A[O+0-32],Ae=A[O+1-32],_e=A[O+2-32];A[O+0+0]=A[O+2+32]=q+ge+1>>1,A[O+0+32]=A[O+2+64]=ie+q+1>>1,A[O+0+64]=A[O+2+96]=de+ie+1>>1,A[O+0+96]=me+de+1>>1,A[O+3+0]=Gi(we,Ae,_e),A[O+2+0]=Gi(ge,we,Ae),A[O+1+0]=A[O+3+32]=Gi(q,ge,we),A[O+1+32]=A[O+3+64]=Gi(ie,q,ge),A[O+1+64]=A[O+3+96]=Gi(de,ie,q),A[O+1+96]=Gi(me,de,ie)}function Lu(A,O){var q;for(q=0;8>q;++q)i(A,O+32*q,A,O-32,8)}function _o(A,O){var q;for(q=0;8>q;++q)n(A,O,A[O-1],8),O+=32}function ec(A,O,q){var ie;for(ie=0;8>ie;++ie)n(O,q+32*ie,A,8)}function Ec(A,O){var q,ie=8;for(q=0;8>q;++q)ie+=A[O+q-32]+A[O-1+32*q];ec(ie>>4,A,O)}function ju(A,O){var q,ie=4;for(q=0;8>q;++q)ie+=A[O+q-32];ec(ie>>3,A,O)}function An(A,O){var q,ie=4;for(q=0;8>q;++q)ie+=A[O-1+32*q];ec(ie>>3,A,O)}function ga(A,O){ec(128,A,O)}function rl(A,O,q){var ie=A[O-q],de=A[O+0],me=3*(de-ie)+Lh[1020+A[O-2*q]-A[O+q]],ge=Zg[112+(me+4>>3)];A[O-q]=Ro[255+ie+Zg[112+(me+3>>3)]],A[O+0]=Ro[255+de-ge]}function tc(A,O,q,ie){var de=A[O+0],me=A[O+q];return yo[255+A[O-2*q]-A[O-q]]>ie||yo[255+me-de]>ie}function Ac(A,O,q,ie){return 4*yo[255+A[O-q]-A[O+0]]+yo[255+A[O-2*q]-A[O+q]]<=ie}function Ah(A,O,q,ie,de){var me=A[O-3*q],ge=A[O-2*q],we=A[O-q],Ae=A[O+0],_e=A[O+q],We=A[O+2*q],ct=A[O+3*q];return 4*yo[255+we-Ae]+yo[255+ge-_e]>ie?0:yo[255+A[O-4*q]-me]<=de&&yo[255+me-ge]<=de&&yo[255+ge-we]<=de&&yo[255+ct-We]<=de&&yo[255+We-_e]<=de&&yo[255+_e-Ae]<=de}function Sc(A,O,q,ie){var de=2*ie+1;for(ie=0;16>ie;++ie)Ac(A,O+ie,q,de)&&rl(A,O+ie,q)}function Nc(A,O,q,ie){var de=2*ie+1;for(ie=0;16>ie;++ie)Ac(A,O+ie*q,1,de)&&rl(A,O+ie*q,1)}function Xa(A,O,q,ie){var de;for(de=3;0<de;--de)Sc(A,O+=4*q,q,ie)}function _u(A,O,q,ie){var de;for(de=3;0<de;--de)Nc(A,O+=4,q,ie)}function Ic(A,O,q,ie,de,me,ge,we){for(me=2*me+1;0<de--;){if(Ah(A,O,q,me,ge))if(tc(A,O,q,we))rl(A,O,q);else{var Ae=A,_e=O,We=q,ct=Ae[_e-2*We],ke=Ae[_e-We],Qe=Ae[_e+0],nt=Ae[_e+We],At=Ae[_e+2*We],st=27*(kt=Lh[1020+3*(Qe-ke)+Lh[1020+ct-nt]])+63>>7,Dt=18*kt+63>>7,kt=9*kt+63>>7;Ae[_e-3*We]=Ro[255+Ae[_e-3*We]+kt],Ae[_e-2*We]=Ro[255+ct+Dt],Ae[_e-We]=Ro[255+ke+st],Ae[_e+0]=Ro[255+Qe-st],Ae[_e+We]=Ro[255+nt-Dt],Ae[_e+2*We]=Ro[255+At-kt]}O+=ie}}function nl(A,O,q,ie,de,me,ge,we){for(me=2*me+1;0<de--;){if(Ah(A,O,q,me,ge))if(tc(A,O,q,we))rl(A,O,q);else{var Ae=A,_e=O,We=q,ct=Ae[_e-We],ke=Ae[_e+0],Qe=Ae[_e+We],nt=Zg[112+(4+(At=3*(ke-ct))>>3)],At=Zg[112+(At+3>>3)],st=nt+1>>1;Ae[_e-2*We]=Ro[255+Ae[_e-2*We]+st],Ae[_e-We]=Ro[255+ct+At],Ae[_e+0]=Ro[255+ke-nt],Ae[_e+We]=Ro[255+Qe-st]}O+=ie}}function Cf(A,O,q,ie,de,me){Ic(A,O,q,1,16,ie,de,me)}function yd(A,O,q,ie,de,me){Ic(A,O,1,q,16,ie,de,me)}function Al(A,O,q,ie,de,me){var ge;for(ge=3;0<ge;--ge)nl(A,O+=4*q,q,1,16,ie,de,me)}function Of(A,O,q,ie,de,me){var ge;for(ge=3;0<ge;--ge)nl(A,O+=4,1,q,16,ie,de,me)}function V(A,O,q,ie,de,me,ge,we){Ic(A,O,de,1,8,me,ge,we),Ic(q,ie,de,1,8,me,ge,we)}function ue(A,O,q,ie,de,me,ge,we){Ic(A,O,1,de,8,me,ge,we),Ic(q,ie,1,de,8,me,ge,we)}function je(A,O,q,ie,de,me,ge,we){nl(A,O+4*de,de,1,8,me,ge,we),nl(q,ie+4*de,de,1,8,me,ge,we)}function He(A,O,q,ie,de,me,ge,we){nl(A,O+4,1,de,8,me,ge,we),nl(q,ie+4,1,de,8,me,ge,we)}function et(){this.ba=new Dr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function It(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Di(){this.ua=0,this.Wa=new Tt,this.vb=new Tt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new F}function Oi(){this.xb=this.a=0,this.l=new ks,this.ca=new Dr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Di,this.ab=0,this.gc=a(4,Ut),this.Oc=0}function Ki(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ks,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rr(A,O,q,ie,de,me,ge){for(A=A==null?0:A[O+0],O=0;O<ge;++O)de[me+O]=A+q[ie+O]&255,A=de[me+O]}function qr(A,O,q,ie,de,me,ge){var we;if(A==null)rr(null,null,q,ie,de,me,ge);else for(we=0;we<ge;++we)de[me+we]=A[O+we]+q[ie+we]&255}function fn(A,O,q,ie,de,me,ge){if(A==null)rr(null,null,q,ie,de,me,ge);else{var we,Ae=A[O+0],_e=Ae,We=Ae;for(we=0;we<ge;++we)_e=We+(Ae=A[O+we])-_e,We=q[ie+we]+(-256&_e?0>_e?0:255:_e)&255,_e=Ae,de[me+we]=We}}function Ds(A,O,q,ie){var de=O.width,me=O.o;if(t(A!=null&&O!=null),0>q||0>=ie||q+ie>me)return null;if(!A.Cc){if(A.ga==null){var ge;if(A.ga=new Ki,(ge=A.ga==null)||(ge=O.width*O.o,t(A.Gb.length==0),A.Gb=s(ge),A.Uc=0,A.Gb==null?ge=0:(A.mb=A.Gb,A.nb=A.Uc,A.rc=null,ge=1),ge=!ge),!ge){ge=A.ga;var we=A.Fa,Ae=A.P,_e=A.qc,We=A.mb,ct=A.nb,ke=Ae+1,Qe=_e-1,nt=ge.l;if(t(we!=null&&We!=null&&O!=null),jh[0]=null,jh[1]=rr,jh[2]=qr,jh[3]=fn,ge.ca=We,ge.tb=ct,ge.c=O.width,ge.i=O.height,t(0<ge.c&&0<ge.i),1>=_e)O=0;else if(ge.$a=3&we[Ae+0],ge.Z=we[Ae+0]>>2&3,ge.Lc=we[Ae+0]>>4&3,Ae=we[Ae+0]>>6&3,0>ge.$a||1<ge.$a||4<=ge.Z||1<ge.Lc||Ae)O=0;else if(nt.put=Pi,nt.ac=pa,nt.bc=Fn,nt.ma=ge,nt.width=O.width,nt.height=O.height,nt.Da=O.Da,nt.v=O.v,nt.va=O.va,nt.j=O.j,nt.o=O.o,ge.$a)e:{t(ge.$a==1),O=at();t:for(;;){if(O==null){O=0;break e}if(t(ge!=null),ge.mc=O,O.c=ge.c,O.i=ge.i,O.l=ge.l,O.l.ma=ge,O.l.width=ge.c,O.l.height=ge.i,O.a=0,Z(O.m,we,ke,Qe),!ot(ge.c,ge.i,1,O,null)||(O.ab==1&&O.gc[0].hc==3&&De(O.s)?(ge.ic=1,we=O.c*O.i,O.Ta=null,O.Ua=0,O.V=s(we),O.Ba=0,O.V==null?(O.a=1,O=0):O=1):(ge.ic=0,O=lt(O,ge.c)),!O))break t;O=1;break e}ge.mc=null,O=0}else O=Qe>=ge.c*ge.i;ge=!O}if(ge)return null;A.ga.Lc!=1?A.Ga=0:ie=me-q}t(A.ga!=null),t(q+ie<=me);e:{if(O=(we=A.ga).c,me=we.l.o,we.$a==0){if(ke=A.rc,Qe=A.Vc,nt=A.Fa,Ae=A.P+1+q*O,_e=A.mb,We=A.nb+q*O,t(Ae<=A.P+A.qc),we.Z!=0)for(t(jh[we.Z]!=null),ge=0;ge<ie;++ge)jh[we.Z](ke,Qe,nt,Ae,_e,We,O),ke=_e,Qe=We,We+=O,Ae+=O;else for(ge=0;ge<ie;++ge)i(_e,We,nt,Ae,O),ke=_e,Qe=We,We+=O,Ae+=O;A.rc=ke,A.Vc=Qe}else{if(t(we.mc!=null),O=q+ie,t((ge=we.mc)!=null),t(O<=ge.i),ge.C>=O)O=1;else if(we.ic||Jn(),we.ic){we=ge.V,ke=ge.Ba,Qe=ge.c;var At=ge.i,st=(nt=1,Ae=ge.$/Qe,_e=ge.$%Qe,We=ge.m,ct=ge.s,ge.$),Dt=Qe*At,kt=Qe*O,qt=ct.wc,Ft=st<kt?fe(ct,_e,Ae):null;t(st<=Dt),t(O<=At),t(De(ct));t:for(;;){for(;!We.h&&st<kt;){if(_e&qt||(Ft=fe(ct,_e,Ae)),t(Ft!=null),le(We),256>(At=zn(Ft.G[0],Ft.H[0],We)))we[ke+st]=At,++st,++_e>=Qe&&(_e=0,++Ae<=O&&!(Ae%16)&&ze(ge,Ae));else{if(!(280>At)){nt=0;break t}At=Os(At-256,We);var ki,xi=zn(Ft.G[4],Ft.H[4],We);if(le(We),!(st>=(xi=ia(Qe,xi=Os(xi,We)))&&Dt-st>=At)){nt=0;break t}for(ki=0;ki<At;++ki)we[ke+st+ki]=we[ke+st+ki-xi];for(st+=At,_e+=At;_e>=Qe;)_e-=Qe,++Ae<=O&&!(Ae%16)&&ze(ge,Ae);st<kt&&_e&qt&&(Ft=fe(ct,_e,Ae))}t(We.h==Q(We))}ze(ge,Ae>O?O:Ae);break t}!nt||We.h&&st<Dt?(nt=0,ge.a=We.h?5:3):ge.$=st,O=nt}else O=rt(ge,ge.V,ge.Ba,ge.c,ge.i,O,Vt);if(!O){ie=0;break e}}q+ie>=me&&(A.Cc=1),ie=1}if(!ie)return null;if(A.Cc&&((ie=A.ga)!=null&&(ie.mc=null),A.ga=null,0<A.Ga))return alert("todo:WebPDequantizeLevels"),null}return A.nb+q*de}function Sn(A,O,q,ie,de,me){for(;0<de--;){var ge,we=A,Ae=O+(q?1:0),_e=A,We=O+(q?0:3);for(ge=0;ge<ie;++ge){var ct=_e[We+4*ge];ct!=255&&(ct*=32897,we[Ae+4*ge+0]=we[Ae+4*ge+0]*ct>>23,we[Ae+4*ge+1]=we[Ae+4*ge+1]*ct>>23,we[Ae+4*ge+2]=we[Ae+4*ge+2]*ct>>23)}O+=me}}function Ks(A,O,q,ie,de){for(;0<ie--;){var me;for(me=0;me<q;++me){var ge=A[O+2*me+0],we=15&(_e=A[O+2*me+1]),Ae=4369*we,_e=(240&_e|_e>>4)*Ae>>16;A[O+2*me+0]=(240&ge|ge>>4)*Ae>>16&240|(15&ge|ge<<4)*Ae>>16>>4&15,A[O+2*me+1]=240&_e|we}O+=de}}function Ls(A,O,q,ie,de,me,ge,we){var Ae,_e,We=255;for(_e=0;_e<de;++_e){for(Ae=0;Ae<ie;++Ae){var ct=A[O+Ae];me[ge+4*Ae]=ct,We&=ct}O+=q,ge+=we}return We!=255}function $s(A,O,q,ie,de){var me;for(me=0;me<de;++me)q[ie+me]=A[O+me]>>8}function Jn(){_f=Sn,Oc=Ks,$g=Ls,sc=$s}function mo(A,O,q){_[A]=function(ie,de,me,ge,we,Ae,_e,We,ct,ke,Qe,nt,At,st,Dt,kt,qt){var Ft,ki=qt-1>>1,xi=we[Ae+0]|_e[We+0]<<16,cr=ct[ke+0]|Qe[nt+0]<<16;t(ie!=null);var Si=3*xi+cr+131074>>2;for(O(ie[de+0],255&Si,Si>>16,At,st),me!=null&&(Si=3*cr+xi+131074>>2,O(me[ge+0],255&Si,Si>>16,Dt,kt)),Ft=1;Ft<=ki;++Ft){var Rr=we[Ae+Ft]|_e[We+Ft]<<16,ds=ct[ke+Ft]|Qe[nt+Ft]<<16,mr=xi+Rr+cr+ds+524296,Mi=mr+2*(Rr+cr)>>3;Si=Mi+xi>>1,xi=(mr=mr+2*(xi+ds)>>3)+Rr>>1,O(ie[de+2*Ft-1],255&Si,Si>>16,At,st+(2*Ft-1)*q),O(ie[de+2*Ft-0],255&xi,xi>>16,At,st+(2*Ft-0)*q),me!=null&&(Si=mr+cr>>1,xi=Mi+ds>>1,O(me[ge+2*Ft-1],255&Si,Si>>16,Dt,kt+(2*Ft-1)*q),O(me[ge+2*Ft+0],255&xi,xi>>16,Dt,kt+(2*Ft+0)*q)),xi=Rr,cr=ds}1&qt||(Si=3*xi+cr+131074>>2,O(ie[de+qt-1],255&Si,Si>>16,At,st+(qt-1)*q),me!=null&&(Si=3*cr+xi+131074>>2,O(me[ge+qt-1],255&Si,Si>>16,Dt,kt+(qt-1)*q)))}}function kf(){Mo[Hv]=Pf,Mo[Po]=um,Mo[Wv]=hx,Mo[kc]=Kv,Mo[e0]=bd,Mo[om]=Vu,Mo[Md]=Dd,Mo[t0]=um,Mo[Yv]=Kv,Mo[lm]=bd,Mo[qv]=Vu}function ic(A){return A&-16384?0>A?0:255:A>>$v}function S(A,O){return ic((19077*A>>8)+(26149*O>>8)-14234)}function K(A,O,q){return ic((19077*A>>8)-(6419*O>>8)-(13320*q>>8)+8708)}function oe(A,O){return ic((19077*A>>8)+(33050*O>>8)-17685)}function Te(A,O,q,ie,de){ie[de+0]=S(A,q),ie[de+1]=K(A,O,q),ie[de+2]=oe(A,O)}function it(A,O,q,ie,de){ie[de+0]=oe(A,O),ie[de+1]=K(A,O,q),ie[de+2]=S(A,q)}function ft(A,O,q,ie,de){var me=K(A,O,q);O=me<<3&224|oe(A,O)>>3,ie[de+0]=248&S(A,q)|me>>5,ie[de+1]=O}function ei(A,O,q,ie,de){var me=240&oe(A,O)|15;ie[de+0]=240&S(A,q)|K(A,O,q)>>4,ie[de+1]=me}function zr(A,O,q,ie,de){ie[de+0]=255,Te(A,O,q,ie,de+1)}function Es(A,O,q,ie,de){it(A,O,q,ie,de),ie[de+3]=255}function pr(A,O,q,ie,de){Te(A,O,q,ie,de),ie[de+3]=255}function Sr(A,O){return 0>A?0:A>O?O:A}function Zn(A,O,q){_[A]=function(ie,de,me,ge,we,Ae,_e,We,ct){for(var ke=We+(-2&ct)*q;We!=ke;)O(ie[de+0],me[ge+0],we[Ae+0],_e,We),O(ie[de+1],me[ge+0],we[Ae+0],_e,We+q),de+=2,++ge,++Ae,We+=2*q;1&ct&&O(ie[de+0],me[ge+0],we[Ae+0],_e,We)}}function rc(A,O,q){return q==0?A==0?O==0?6:5:O==0?4:0:q}function go(A,O,q,ie,de){switch(A>>>30){case 3:kh(O,q,ie,de,0);break;case 2:zo(O,q,ie,de);break;case 1:pn(O,q,ie,de)}}function Ja(A,O){var q,ie,de=O.M,me=O.Nb,ge=A.oc,we=A.pc+40,Ae=A.oc,_e=A.pc+584,We=A.oc,ct=A.pc+600;for(q=0;16>q;++q)ge[we+32*q-1]=129;for(q=0;8>q;++q)Ae[_e+32*q-1]=129,We[ct+32*q-1]=129;for(0<de?ge[we-1-32]=Ae[_e-1-32]=We[ct-1-32]=129:(n(ge,we-32-1,127,21),n(Ae,_e-32-1,127,9),n(We,ct-32-1,127,9)),ie=0;ie<A.za;++ie){var ke=O.ya[O.aa+ie];if(0<ie){for(q=-1;16>q;++q)i(ge,we+32*q-4,ge,we+32*q+12,4);for(q=-1;8>q;++q)i(Ae,_e+32*q-4,Ae,_e+32*q+4,4),i(We,ct+32*q-4,We,ct+32*q+4,4)}var Qe=A.Gd,nt=A.Hd+ie,At=ke.ad,st=ke.Hc;if(0<de&&(i(ge,we-32,Qe[nt].y,0,16),i(Ae,_e-32,Qe[nt].f,0,8),i(We,ct-32,Qe[nt].ea,0,8)),ke.Za){var Dt=ge,kt=we-32+16;for(0<de&&(ie>=A.za-1?n(Dt,kt,Qe[nt].y[15],4):i(Dt,kt,Qe[nt+1].y,0,4)),q=0;4>q;q++)Dt[kt+128+q]=Dt[kt+256+q]=Dt[kt+384+q]=Dt[kt+0+q];for(q=0;16>q;++q,st<<=2)Dt=ge,kt=we+sa[q],Xs[ke.Ob[q]](Dt,kt),go(st,At,16*+q,Dt,kt)}else if(Dt=rc(ie,de,ke.Ob[0]),ol[Dt](ge,we),st!=0)for(q=0;16>q;++q,st<<=2)go(st,At,16*+q,ge,we+sa[q]);for(q=ke.Gc,Dt=rc(ie,de,ke.Dd),lu[Dt](Ae,_e),lu[Dt](We,ct),st=At,Dt=Ae,kt=_e,255&(ke=0|q)&&(170&ke?Cc(st,256,Dt,kt):Jr(st,256,Dt,kt)),ke=We,st=ct,255&(q>>=8)&&(170&q?Cc(At,320,ke,st):Jr(At,320,ke,st)),de<A.Ub-1&&(i(Qe[nt].y,0,ge,we+480,16),i(Qe[nt].f,0,Ae,_e+224,8),i(Qe[nt].ea,0,We,ct+224,8)),q=8*me*A.B,Qe=A.sa,nt=A.ta+16*ie+16*me*A.R,At=A.qa,ke=A.ra+8*ie+q,st=A.Ha,Dt=A.Ia+8*ie+q,q=0;16>q;++q)i(Qe,nt+q*A.R,ge,we+32*q,16);for(q=0;8>q;++q)i(At,ke+q*A.B,Ae,_e+32*q,8),i(st,Dt+q*A.B,We,ct+32*q,8)}}function sl(A,O,q,ie,de,me,ge,we,Ae){var _e=[0],We=[0],ct=0,ke=Ae!=null?Ae.kd:0,Qe=Ae??new It;if(A==null||12>q)return 7;Qe.data=A,Qe.w=O,Qe.ha=q,O=[O],q=[q],Qe.gb=[Qe.gb];e:{var nt=O,At=q,st=Qe.gb;if(t(A!=null),t(At!=null),t(st!=null),st[0]=0,12<=At[0]&&!e(A,nt[0],"RIFF")){if(e(A,nt[0]+8,"WEBP")){st=3;break e}var Dt=Ge(A,nt[0]+4);if(12>Dt||4294967286<Dt){st=3;break e}if(ke&&Dt>At[0]-8){st=7;break e}st[0]=Dt,nt[0]+=12,At[0]-=12}st=0}if(st!=0)return st;for(Dt=0<Qe.gb[0],q=q[0];;){e:{var kt=A;At=O,st=q;var qt=_e,Ft=We,ki=nt=[0];if((Si=ct=[ct])[0]=0,8>st[0])st=7;else{if(!e(kt,At[0],"VP8X")){if(Ge(kt,At[0]+4)!=10){st=3;break e}if(18>st[0]){st=7;break e}var xi=Ge(kt,At[0]+8),cr=1+Ot(kt,At[0]+12);if(2147483648<=cr*(kt=1+Ot(kt,At[0]+15))){st=3;break e}ki!=null&&(ki[0]=xi),qt!=null&&(qt[0]=cr),Ft!=null&&(Ft[0]=kt),At[0]+=18,st[0]-=18,Si[0]=1}st=0}}if(ct=ct[0],nt=nt[0],st!=0)return st;if(At=!!(2&nt),!Dt&&ct)return 3;if(me!=null&&(me[0]=!!(16&nt)),ge!=null&&(ge[0]=At),we!=null&&(we[0]=0),ge=_e[0],nt=We[0],ct&&At&&Ae==null){st=0;break}if(4>q){st=7;break}if(Dt&&ct||!Dt&&!ct&&!e(A,O[0],"ALPH")){q=[q],Qe.na=[Qe.na],Qe.P=[Qe.P],Qe.Sa=[Qe.Sa];e:{xi=A,st=O,Dt=q;var Si=Qe.gb;qt=Qe.na,Ft=Qe.P,ki=Qe.Sa,cr=22,t(xi!=null),t(Dt!=null),kt=st[0];var Rr=Dt[0];for(t(qt!=null),t(ki!=null),qt[0]=null,Ft[0]=null,ki[0]=0;;){if(st[0]=kt,Dt[0]=Rr,8>Rr){st=7;break e}var ds=Ge(xi,kt+4);if(4294967286<ds){st=3;break e}var mr=8+ds+1&-2;if(cr+=mr,0<Si&&cr>Si){st=3;break e}if(!e(xi,kt,"VP8 ")||!e(xi,kt,"VP8L")){st=0;break e}if(Rr[0]<mr){st=7;break e}e(xi,kt,"ALPH")||(qt[0]=xi,Ft[0]=kt+8,ki[0]=ds),kt+=mr,Rr-=mr}}if(q=q[0],Qe.na=Qe.na[0],Qe.P=Qe.P[0],Qe.Sa=Qe.Sa[0],st!=0)break}q=[q],Qe.Ja=[Qe.Ja],Qe.xa=[Qe.xa];e:if(Si=A,st=O,Dt=q,qt=Qe.gb[0],Ft=Qe.Ja,ki=Qe.xa,xi=st[0],kt=!e(Si,xi,"VP8 "),cr=!e(Si,xi,"VP8L"),t(Si!=null),t(Dt!=null),t(Ft!=null),t(ki!=null),8>Dt[0])st=7;else{if(kt||cr){if(Si=Ge(Si,xi+4),12<=qt&&Si>qt-12){st=3;break e}if(ke&&Si>Dt[0]-8){st=7;break e}Ft[0]=Si,st[0]+=8,Dt[0]-=8,ki[0]=cr}else ki[0]=5<=Dt[0]&&Si[xi+0]==47&&!(Si[xi+4]>>5),Ft[0]=Dt[0];st=0}if(q=q[0],Qe.Ja=Qe.Ja[0],Qe.xa=Qe.xa[0],O=O[0],st!=0)break;if(4294967286<Qe.Ja)return 3;if(we==null||At||(we[0]=Qe.xa?2:1),ge=[ge],nt=[nt],Qe.xa){if(5>q){st=7;break}we=ge,ke=nt,At=me,A==null||5>q?A=0:5<=q&&A[O+0]==47&&!(A[O+4]>>5)?(Dt=[0],Si=[0],qt=[0],Z(Ft=new Y,A,O,q),el(Ft,Dt,Si,qt)?(we!=null&&(we[0]=Dt[0]),ke!=null&&(ke[0]=Si[0]),At!=null&&(At[0]=qt[0]),A=1):A=0):A=0}else{if(10>q){st=7;break}we=nt,A==null||10>q||!Ka(A,O+3,q-3)?A=0:(ke=A[O+0]|A[O+1]<<8|A[O+2]<<16,At=16383&(A[O+7]<<8|A[O+6]),A=16383&(A[O+9]<<8|A[O+8]),1&ke||3<(ke>>1&7)||!(ke>>4&1)||ke>>5>=Qe.Ja||!At||!A?A=0:(ge&&(ge[0]=At),we&&(we[0]=A),A=1))}if(!A||(ge=ge[0],nt=nt[0],ct&&(_e[0]!=ge||We[0]!=nt)))return 3;Ae!=null&&(Ae[0]=Qe,Ae.offset=O-Ae.w,t(4294967286>O-Ae.w),t(Ae.offset==Ae.ha-q));break}return st==0||st==7&&ct&&Ae==null?(me!=null&&(me[0]|=Qe.na!=null&&0<Qe.na.length),ie!=null&&(ie[0]=ge),de!=null&&(de[0]=nt),0):st}function Sh(A,O,q){var ie=O.width,de=O.height,me=0,ge=0,we=ie,Ae=de;if(O.Da=A!=null&&0<A.Da,O.Da&&(we=A.cd,Ae=A.bd,me=A.v,ge=A.j,11>q||(me&=-2,ge&=-2),0>me||0>ge||0>=we||0>=Ae||me+we>ie||ge+Ae>de))return 0;if(O.v=me,O.j=ge,O.va=me+we,O.o=ge+Ae,O.U=we,O.T=Ae,O.da=A!=null&&0<A.da,O.da){if(!$t(we,Ae,q=[A.ib],me=[A.hb]))return 0;O.ib=q[0],O.hb=me[0]}return O.ob=A!=null&&A.ob,O.Kb=A==null||!A.Sd,O.da&&(O.ob=O.ib<3*ie/4&&O.hb<3*de/4,O.Kb=0),1}function Gg(A){if(A==null)return 2;if(11>A.S){var O=A.f.RGBA;O.fb+=(A.height-1)*O.A,O.A=-O.A}else O=A.f.kb,A=A.height,O.O+=(A-1)*O.fa,O.fa=-O.fa,O.N+=(A-1>>1)*O.Ab,O.Ab=-O.Ab,O.W+=(A-1>>1)*O.Db,O.Db=-O.Db,O.F!=null&&(O.J+=(A-1)*O.lb,O.lb=-O.lb);return 0}function au(A,O,q,ie){if(ie==null||0>=A||0>=O)return 2;if(q!=null){if(q.Da){var de=q.cd,me=q.bd,ge=-2&q.v,we=-2&q.j;if(0>ge||0>we||0>=de||0>=me||ge+de>A||we+me>O)return 2;A=de,O=me}if(q.da){if(!$t(A,O,de=[q.ib],me=[q.hb]))return 2;A=de[0],O=me[0]}}ie.width=A,ie.height=O;e:{var Ae=ie.width,_e=ie.height;if(A=ie.S,0>=Ae||0>=_e||!(A>=Hv&&13>A))A=2;else{if(0>=ie.Rd&&ie.sd==null){ge=me=de=O=0;var We=(we=Ae*Jv[A])*_e;if(11>A||(me=(_e+1)/2*(O=(Ae+1)/2),A==12&&(ge=(de=Ae)*_e)),(_e=s(We+2*me+ge))==null){A=1;break e}ie.sd=_e,11>A?((Ae=ie.f.RGBA).eb=_e,Ae.fb=0,Ae.A=we,Ae.size=We):((Ae=ie.f.kb).y=_e,Ae.O=0,Ae.fa=we,Ae.Fd=We,Ae.f=_e,Ae.N=0+We,Ae.Ab=O,Ae.Cd=me,Ae.ea=_e,Ae.W=0+We+me,Ae.Db=O,Ae.Ed=me,A==12&&(Ae.F=_e,Ae.J=0+We+2*me),Ae.Tc=ge,Ae.lb=de)}if(O=1,de=ie.S,me=ie.width,ge=ie.height,de>=Hv&&13>de)if(11>de)A=ie.f.RGBA,O&=(we=Math.abs(A.A))*(ge-1)+me<=A.size,O&=we>=me*Jv[de],O&=A.eb!=null;else{A=ie.f.kb,we=(me+1)/2,We=(ge+1)/2,Ae=Math.abs(A.fa),_e=Math.abs(A.Ab);var ct=Math.abs(A.Db),ke=Math.abs(A.lb),Qe=ke*(ge-1)+me;O&=Ae*(ge-1)+me<=A.Fd,O&=_e*(We-1)+we<=A.Cd,O=(O&=ct*(We-1)+we<=A.Ed)&Ae>=me&_e>=we&ct>=we,O&=A.y!=null,O&=A.f!=null,O&=A.ea!=null,de==12&&(O&=ke>=me,O&=Qe<=A.Tc,O&=A.F!=null)}else O=0;A=O?0:2}}return A!=0||q!=null&&q.fd&&(A=Gg(ie)),A}var xd=64,Sl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],al=24,zu=32,Ru=8,Nh=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Yt("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(A){return A},_.Predictor2=function(A,O,q){return O[q+0]},_.Predictor3=function(A,O,q){return O[q+1]},_.Predictor4=function(A,O,q){return O[q-1]},_.Predictor5=function(A,O,q){return pi(pi(A,O[q+1]),O[q+0])},_.Predictor6=function(A,O,q){return pi(A,O[q-1])},_.Predictor7=function(A,O,q){return pi(A,O[q+0])},_.Predictor8=function(A,O,q){return pi(O[q-1],O[q+0])},_.Predictor9=function(A,O,q){return pi(O[q+0],O[q+1])},_.Predictor10=function(A,O,q){return pi(pi(A,O[q-1]),pi(O[q+0],O[q+1]))},_.Predictor11=function(A,O,q){var ie=O[q+0];return 0>=Xt(ie>>24&255,A>>24&255,(O=O[q-1])>>24&255)+Xt(ie>>16&255,A>>16&255,O>>16&255)+Xt(ie>>8&255,A>>8&255,O>>8&255)+Xt(255&ie,255&A,255&O)?ie:A},_.Predictor12=function(A,O,q){var ie=O[q+0];return(Mt((A>>24&255)+(ie>>24&255)-((O=O[q-1])>>24&255))<<24|Mt((A>>16&255)+(ie>>16&255)-(O>>16&255))<<16|Mt((A>>8&255)+(ie>>8&255)-(O>>8&255))<<8|Mt((255&A)+(255&ie)-(255&O)))>>>0},_.Predictor13=function(A,O,q){var ie=O[q-1];return(Bt((A=pi(A,O[q+0]))>>24&255,ie>>24&255)<<24|Bt(A>>16&255,ie>>16&255)<<16|Bt(A>>8&255,ie>>8&255)<<8|Bt(255&A,255&ie))>>>0};var rm=_.PredictorAdd0;_.PredictorAdd1=gi,Yt("Predictor2","PredictorAdd2"),Yt("Predictor3","PredictorAdd3"),Yt("Predictor4","PredictorAdd4"),Yt("Predictor5","PredictorAdd5"),Yt("Predictor6","PredictorAdd6"),Yt("Predictor7","PredictorAdd7"),Yt("Predictor8","PredictorAdd8"),Yt("Predictor9","PredictorAdd9"),Yt("Predictor10","PredictorAdd10"),Yt("Predictor11","PredictorAdd11"),Yt("Predictor12","PredictorAdd12"),Yt("Predictor13","PredictorAdd13");var nm=_.PredictorAdd2;Ke("ColorIndexInverseTransform","MapARGB","32b",function(A){return A>>8&255},function(A){return A}),Ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(A){return A},function(A){return A>>8&255});var ra,Bv=_.ColorIndexInverseTransform,Pu=_.MapARGB,Fu=_.VP8LColorIndexInverseTransformAlpha,vo=_.MapAlpha,Ih=_.VP8LPredictorsAdd=[];Ih.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var sm,am,Ch,Oh,Bu,Lf,nc,kh,zo,Cc,pn,Jr,es,na,Uu,ou,jf,Kg,ax,vb,yb,xb,ox,lx,_f,Oc,$g,sc,zf=s(511),Uv=s(2041),Xg=s(225),Jg=s(767),Vv=0,Lh=Uv,Zg=Xg,Ro=Jg,yo=zf,Hv=0,Po=1,Wv=2,kc=3,e0=4,om=5,Md=6,t0=7,Yv=8,lm=9,qv=10,Lc=[2,3,7],cm=[3,3,11],Rf=[280,256,256,256,40],Qv=[0,1,1,1,0],i0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],jc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],_c=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wd=8,zc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ac=null,Mb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],wb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xo=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],hs=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ur=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ol=[],Xs=[],lu=[],Td=1,ux=2,jh=[],Mo=[];mo("UpsampleRgbLinePair",Te,3),mo("UpsampleBgrLinePair",it,3),mo("UpsampleRgbaLinePair",pr,4),mo("UpsampleBgraLinePair",Es,4),mo("UpsampleArgbLinePair",zr,4),mo("UpsampleRgba4444LinePair",ei,2),mo("UpsampleRgb565LinePair",ft,2);var Pf=_.UpsampleRgbLinePair,hx=_.UpsampleBgrLinePair,um=_.UpsampleRgbaLinePair,Kv=_.UpsampleBgraLinePair,bd=_.UpsampleArgbLinePair,Vu=_.UpsampleRgba4444LinePair,Dd=_.UpsampleRgb565LinePair,Pc=16,hm=1<<Pc-1,Ff=-227,Ed=482,$v=6,Ad=0,wo=s(256),Xv=s(256),Tb=s(256),$N=s(256),XN=s(Ed-Ff),JN=s(Ed-Ff);Zn("YuvToRgbRow",Te,3),Zn("YuvToBgrRow",it,3),Zn("YuvToRgbaRow",pr,4),Zn("YuvToBgraRow",Es,4),Zn("YuvToArgbRow",zr,4),Zn("YuvToRgba4444Row",ei,2),Zn("YuvToRgb565Row",ft,2);var sa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],dm=[0,2,8],r0=[8,7,6,4,4,2,2,2,1,1,1,1],n0=1;this.WebPDecodeRGBA=function(A,O,q,ie,de){var me=Po,ge=new et,we=new Dr;ge.ba=we,we.S=me,we.width=[we.width],we.height=[we.height];var Ae=we.width,_e=we.height,We=new _i;if(We==null||A==null)var ct=2;else t(We!=null),ct=sl(A,O,q,We.width,We.height,We.Pd,We.Qd,We.format,null);if(ct!=0?Ae=0:(Ae!=null&&(Ae[0]=We.width[0]),_e!=null&&(_e[0]=We.height[0]),Ae=1),Ae){we.width=we.width[0],we.height=we.height[0],ie!=null&&(ie[0]=we.width),de!=null&&(de[0]=we.height);e:{if(ie=new ks,(de=new It).data=A,de.w=O,de.ha=q,de.kd=1,O=[0],t(de!=null),((A=sl(de.data,de.w,de.ha,null,null,null,O,null,de))==0||A==7)&&O[0]&&(A=4),(O=A)==0){if(t(ge!=null),ie.data=de.data,ie.w=de.w+de.offset,ie.ha=de.ha-de.offset,ie.put=Pi,ie.ac=pa,ie.bc=Fn,ie.ma=ge,de.xa){if((A=at())==null){ge=1;break e}if((function(ke,Qe){var nt=[0],At=[0],st=[0];t:for(;;){if(ke==null)return 0;if(Qe==null)return ke.a=2,0;if(ke.l=Qe,ke.a=0,Z(ke.m,Qe.data,Qe.w,Qe.ha),!el(ke.m,nt,At,st)){ke.a=3;break t}if(ke.xb=ux,Qe.width=nt[0],Qe.height=At[0],!ot(nt[0],At[0],1,ke,null))break t;return 1}return t(ke.a!=0),0})(A,ie)){if(ie=(O=au(ie.width,ie.height,ge.Oa,ge.ba))==0){t:{ie=A;i:for(;;){if(ie==null){ie=0;break t}if(t(ie.s.yc!=null),t(ie.s.Ya!=null),t(0<ie.s.Wb),t((q=ie.l)!=null),t((de=q.ma)!=null),ie.xb!=0){if(ie.ca=de.ba,ie.tb=de.tb,t(ie.ca!=null),!Sh(de.Oa,q,kc)){ie.a=2;break i}if(!lt(ie,q.width)||q.da)break i;if((q.da||Qi(ie.ca.S))&&Jn(),11>ie.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ie.ca.f.kb.F!=null&&Jn()),ie.Pb&&0<ie.s.ua&&ie.s.vb.X==null&&!Se(ie.s.vb,ie.s.Wa.Xa)){ie.a=1;break i}ie.xb=0}if(!rt(ie,ie.V,ie.Ba,ie.c,ie.i,q.o,be))break i;de.Dc=ie.Ma,ie=1;break t}t(ie.a!=0),ie=0}ie=!ie}ie&&(O=A.a)}else O=A.a}else{if((A=new Iu)==null){ge=1;break e}if(A.Fa=de.na,A.P=de.P,A.qc=de.Sa,bf(A,ie)){if((O=au(ie.width,ie.height,ge.Oa,ge.ba))==0){if(A.Aa=0,q=ge.Oa,t((de=A)!=null),q!=null){if(0<(Ae=0>(Ae=q.Md)?0:100<Ae?255:255*Ae/100)){for(_e=We=0;4>_e;++_e)12>(ct=de.pb[_e]).lc&&(ct.ia=Ae*r0[0>ct.lc?0:ct.lc]>>3),We|=ct.ia;We&&(alert("todo:VP8InitRandom"),de.ia=1)}de.Ga=q.Id,100<de.Ga?de.Ga=100:0>de.Ga&&(de.Ga=0)}(function(ke,Qe){if(ke==null)return 0;if(Qe==null)return dn(ke,2,"NULL VP8Io parameter in VP8Decode().");if(!ke.cb&&!bf(ke,Qe))return 0;if(t(ke.cb),Qe.ac==null||Qe.ac(Qe)){Qe.ob&&(ke.L=0);var nt=dm[ke.L];if(ke.L==2?(ke.yb=0,ke.zb=0):(ke.yb=Qe.v-nt>>4,ke.zb=Qe.j-nt>>4,0>ke.yb&&(ke.yb=0),0>ke.zb&&(ke.zb=0)),ke.Va=Qe.o+15+nt>>4,ke.Hb=Qe.va+15+nt>>4,ke.Hb>ke.za&&(ke.Hb=ke.za),ke.Va>ke.Ub&&(ke.Va=ke.Ub),0<ke.L){var At=ke.ed;for(nt=0;4>nt;++nt){var st;if(ke.Qa.Cb){var Dt=ke.Qa.Lb[nt];ke.Qa.Fb||(Dt+=At.Tb)}else Dt=At.Tb;for(st=0;1>=st;++st){var kt=ke.gd[nt][st],qt=Dt;if(At.Pc&&(qt+=At.vd[0],st&&(qt+=At.od[0])),0<(qt=0>qt?0:63<qt?63:qt)){var Ft=qt;0<At.wb&&(Ft=4<At.wb?Ft>>2:Ft>>1)>9-At.wb&&(Ft=9-At.wb),1>Ft&&(Ft=1),kt.dd=Ft,kt.tc=2*qt+Ft,kt.ld=40<=qt?2:15<=qt?1:0}else kt.tc=0;kt.La=st}}}nt=0}else dn(ke,6,"Frame setup failed"),nt=ke.a;if(nt=nt==0){if(nt){ke.$c=0,0<ke.Aa||(ke.Ic=n0);t:{nt=ke.Ic,At=4*(Ft=ke.za);var ki=32*Ft,xi=Ft+1,cr=0<ke.L?Ft*(0<ke.Aa?2:1):0,Si=(ke.Aa==2?2:1)*Ft;if((kt=At+832+(st=3*(16*nt+dm[ke.L])/2*ki)+(Dt=ke.Fa!=null&&0<ke.Fa.length?ke.Kc.c*ke.Kc.i:0))!=kt)nt=0;else{if(kt>ke.Vb){if(ke.Vb=0,ke.Ec=s(kt),ke.Fc=0,ke.Ec==null){nt=dn(ke,1,"no memory during frame initialization.");break t}ke.Vb=kt}kt=ke.Ec,qt=ke.Fc,ke.Ac=kt,ke.Bc=qt,qt+=At,ke.Gd=a(ki,jo),ke.Hd=0,ke.rb=a(xi+1,_r),ke.sb=1,ke.wa=cr?a(cr,fr):null,ke.Y=0,ke.D.Nb=0,ke.D.wa=ke.wa,ke.D.Y=ke.Y,0<ke.Aa&&(ke.D.Y+=Ft),t(!0),ke.oc=kt,ke.pc=qt,qt+=832,ke.ya=a(Si,Zl),ke.aa=0,ke.D.ya=ke.ya,ke.D.aa=ke.aa,ke.Aa==2&&(ke.D.aa+=Ft),ke.R=16*Ft,ke.B=8*Ft,Ft=(ki=dm[ke.L])*ke.R,ki=ki/2*ke.B,ke.sa=kt,ke.ta=qt+Ft,ke.qa=ke.sa,ke.ra=ke.ta+16*nt*ke.R+ki,ke.Ha=ke.qa,ke.Ia=ke.ra+8*nt*ke.B+ki,ke.$c=0,qt+=st,ke.mb=Dt?kt:null,ke.nb=Dt?qt:null,t(qt+Dt<=ke.Fc+ke.Vb),wc(ke),n(ke.Ac,ke.Bc,0,At),nt=1}}if(nt){if(Qe.ka=0,Qe.y=ke.sa,Qe.O=ke.ta,Qe.f=ke.qa,Qe.N=ke.ra,Qe.ea=ke.Ha,Qe.Vd=ke.Ia,Qe.fa=ke.R,Qe.Rc=ke.B,Qe.F=null,Qe.J=0,!Vv){for(nt=-255;255>=nt;++nt)zf[255+nt]=0>nt?-nt:nt;for(nt=-1020;1020>=nt;++nt)Uv[1020+nt]=-128>nt?-128:127<nt?127:nt;for(nt=-112;112>=nt;++nt)Xg[112+nt]=-16>nt?-16:15<nt?15:nt;for(nt=-255;510>=nt;++nt)Jg[255+nt]=0>nt?0:255<nt?255:nt;Vv=1}nc=su,kh=Dh,Cc=vd,pn=Mr,Jr=Ou,zo=Cu,es=Cf,na=yd,Uu=V,ou=ue,jf=Al,Kg=Of,ax=je,vb=He,yb=Sc,xb=Nc,ox=Xa,lx=_u,Xs[0]=Nf,Xs[1]=Df,Xs[2]=il,Xs[3]=tm,Xs[4]=im,Xs[5]=Oa,Xs[6]=Gs,Xs[7]=If,Xs[8]=$a,Xs[9]=Dc,ol[0]=po,ol[1]=em,ol[2]=Af,ol[3]=Sf,ol[4]=ma,ol[5]=bc,ol[6]=ku,lu[0]=Ec,lu[1]=Ef,lu[2]=Lu,lu[3]=_o,lu[4]=An,lu[5]=ju,lu[6]=ga,nt=1}else nt=0}nt&&(nt=(function(Rr,ds){for(Rr.M=0;Rr.M<Rr.Va;++Rr.M){var mr,Mi=Rr.Jc[Rr.M&Rr.Xb],li=Rr.m,js=Rr;for(mr=0;mr<js.za;++mr){var Zi=li,wr=js,Nn=wr.Ac,ka=wr.Bc+4*mr,To=wr.zc,ts=wr.ya[wr.aa+mr];if(wr.Qa.Bb?ts.$b=Ie(Zi,wr.Pa.jb[0])?2+Ie(Zi,wr.Pa.jb[2]):Ie(Zi,wr.Pa.jb[1]):ts.$b=0,wr.kc&&(ts.Ad=Ie(Zi,wr.Bd)),ts.Za=!Ie(Zi,145)+0,ts.Za){var va=ts.Ob,Fo=0;for(wr=0;4>wr;++wr){var ya,Or=To[0+wr];for(ya=0;4>ya;++ya){Or=xo[Nn[ka+ya]][Or];for(var an=Gv[Ie(Zi,Or[0])];0<an;)an=Gv[2*an+Ie(Zi,Or[an])];Or=-an,Nn[ka+ya]=Or}i(va,Fo,Nn,ka,4),Fo+=4,To[0+wr]=Or}}else Or=Ie(Zi,156)?Ie(Zi,128)?1:3:Ie(Zi,163)?2:0,ts.Ob[0]=Or,n(Nn,ka,Or,4),n(To,0,Or,4);ts.Dd=Ie(Zi,142)?Ie(Zi,114)?Ie(Zi,183)?1:3:2:0}if(js.m.Ka)return dn(Rr,7,"Premature end-of-partition0 encountered.");for(;Rr.ja<Rr.za;++Rr.ja){if(js=Mi,Zi=(li=Rr).rb[li.sb-1],Nn=li.rb[li.sb+li.ja],mr=li.ya[li.aa+li.ja],ka=li.kc?mr.Ad:0)Zi.la=Nn.la=0,mr.Za||(Zi.Na=Nn.Na=0),mr.Hc=0,mr.Gc=0,mr.ia=0;else{var _s,mn;if(Zi=Nn,Nn=js,ka=li.Pa.Xc,To=li.ya[li.aa+li.ja],ts=li.pb[To.$b],wr=To.ad,va=0,Fo=li.rb[li.sb-1],Or=ya=0,n(wr,va,0,384),To.Za)var La=0,zs=ka[3];else{an=s(16);var on=Zi.Na+Fo.Na;if(on=ac(Nn,ka[1],on,ts.Eb,0,an,0),Zi.Na=Fo.Na=(0<on)+0,1<on)nc(an,0,wr,va);else{var aa=an[0]+3>>3;for(an=0;256>an;an+=16)wr[va+an]=aa}La=1,zs=ka[0]}var In=15&Zi.la,xa=15&Fo.la;for(an=0;4>an;++an){var Ma=1&xa;for(aa=mn=0;4>aa;++aa)In=In>>1|(Ma=(on=ac(Nn,zs,on=Ma+(1&In),ts.Sc,La,wr,va))>La)<<7,mn=mn<<2|(3<on?3:1<on?2:wr[va+0]!=0),va+=16;In>>=4,xa=xa>>1|Ma<<7,ya=(ya<<8|mn)>>>0}for(zs=In,La=xa>>4,_s=0;4>_s;_s+=2){for(mn=0,In=Zi.la>>4+_s,xa=Fo.la>>4+_s,an=0;2>an;++an){for(Ma=1&xa,aa=0;2>aa;++aa)on=Ma+(1&In),In=In>>1|(Ma=0<(on=ac(Nn,ka[2],on,ts.Qc,0,wr,va)))<<3,mn=mn<<2|(3<on?3:1<on?2:wr[va+0]!=0),va+=16;In>>=2,xa=xa>>1|Ma<<5}Or|=mn<<4*_s,zs|=In<<4<<_s,La|=(240&xa)<<_s}Zi.la=zs,Fo.la=La,To.Hc=ya,To.Gc=Or,To.ia=43690&Or?0:ts.ia,ka=!(ya|Or)}if(0<li.L&&(li.wa[li.Y+li.ja]=li.gd[mr.$b][mr.Za],li.wa[li.Y+li.ja].La|=!ka),js.Ka)return dn(Rr,7,"Premature end-of-file encountered.")}if(wc(Rr),li=ds,js=1,mr=(Mi=Rr).D,Zi=0<Mi.L&&Mi.M>=Mi.zb&&Mi.M<=Mi.Va,Mi.Aa==0)t:{if(mr.M=Mi.M,mr.uc=Zi,Ja(Mi,mr),js=1,mr=(mn=Mi.D).Nb,Zi=(Or=dm[Mi.L])*Mi.R,Nn=Or/2*Mi.B,an=16*mr*Mi.R,aa=8*mr*Mi.B,ka=Mi.sa,To=Mi.ta-Zi+an,ts=Mi.qa,wr=Mi.ra-Nn+aa,va=Mi.Ha,Fo=Mi.Ia-Nn+aa,xa=(In=mn.M)==0,ya=In>=Mi.Va-1,Mi.Aa==2&&Ja(Mi,mn),mn.uc)for(Ma=(on=Mi).D.M,t(on.D.uc),mn=on.yb;mn<on.Hb;++mn){La=mn,zs=Ma;var Bn=(Zr=(wa=on).D).Nb;_s=wa.R;var Zr=Zr.wa[Zr.Y+La],Bo=wa.sa,Js=wa.ta+16*Bn*_s+16*La,Yi=Zr.dd,$i=Zr.tc;if($i!=0)if(t(3<=$i),wa.L==1)0<La&&xb(Bo,Js,_s,$i+4),Zr.La&&lx(Bo,Js,_s,$i),0<zs&&yb(Bo,Js,_s,$i+4),Zr.La&&ox(Bo,Js,_s,$i);else{var ln=wa.B,Nl=wa.qa,Fc=wa.ra+8*Bn*ln+8*La,ll=wa.Ha,wa=wa.Ia+8*Bn*ln+8*La;Bn=Zr.ld,0<La&&(na(Bo,Js,_s,$i+4,Yi,Bn),ou(Nl,Fc,ll,wa,ln,$i+4,Yi,Bn)),Zr.La&&(Kg(Bo,Js,_s,$i,Yi,Bn),vb(Nl,Fc,ll,wa,ln,$i,Yi,Bn)),0<zs&&(es(Bo,Js,_s,$i+4,Yi,Bn),Uu(Nl,Fc,ll,wa,ln,$i+4,Yi,Bn)),Zr.La&&(jf(Bo,Js,_s,$i,Yi,Bn),ax(Nl,Fc,ll,wa,ln,$i,Yi,Bn))}}if(Mi.ia&&alert("todo:DitherRow"),li.put!=null){if(mn=16*In,In=16*(In+1),xa?(li.y=Mi.sa,li.O=Mi.ta+an,li.f=Mi.qa,li.N=Mi.ra+aa,li.ea=Mi.Ha,li.W=Mi.Ia+aa):(mn-=Or,li.y=ka,li.O=To,li.f=ts,li.N=wr,li.ea=va,li.W=Fo),ya||(In-=Or),In>li.o&&(In=li.o),li.F=null,li.J=null,Mi.Fa!=null&&0<Mi.Fa.length&&mn<In&&(li.J=Ds(Mi,li,mn,In-mn),li.F=Mi.mb,li.F==null&&li.F.length==0)){js=dn(Mi,3,"Could not decode alpha data.");break t}mn<li.j&&(Or=li.j-mn,mn=li.j,t(!(1&Or)),li.O+=Mi.R*Or,li.N+=Mi.B*(Or>>1),li.W+=Mi.B*(Or>>1),li.F!=null&&(li.J+=li.width*Or)),mn<In&&(li.O+=li.v,li.N+=li.v>>1,li.W+=li.v>>1,li.F!=null&&(li.J+=li.v),li.ka=mn-li.j,li.U=li.va-li.v,li.T=In-mn,js=li.put(li))}mr+1!=Mi.Ic||ya||(i(Mi.sa,Mi.ta-Zi,ka,To+16*Mi.R,Zi),i(Mi.qa,Mi.ra-Nn,ts,wr+8*Mi.B,Nn),i(Mi.Ha,Mi.Ia-Nn,va,Fo+8*Mi.B,Nn))}if(!js)return dn(Rr,6,"Output aborted.")}return 1})(ke,Qe)),Qe.bc!=null&&Qe.bc(Qe),nt&=1}return nt?(ke.cb=0,nt):0})(A,ie)||(O=A.a)}}else O=A.a}O==0&&ge.Oa!=null&&ge.Oa.fd&&(O=Gg(ge.ba))}ge=O}me=ge!=0?null:11>me?we.f.RGBA.eb:we.f.kb.y}else me=null;return me};var Jv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(_,H){for(var j="",z=0;z<4;z++)j+=String.fromCharCode(_[H++]);return j}function u(_,H){return _[H+0]|_[H+1]<<8}function d(_,H){return(_[H+0]|_[H+1]<<8|_[H+2]<<16)>>>0}function p(_,H){return(_[H+0]|_[H+1]<<8|_[H+2]<<16|_[H+3]<<24)>>>0}new l;var m=[0],y=[0],M=[],w=new l,b=r,D=(function(_,H){var j={},z=0,F=!1,X=0,J=0;if(j.frames=[],!(function(L,Y){for(var G=0;G<4;G++)if(L[Y+G]!="RIFF".charCodeAt(G))return!0;return!1})(_,H)){for(p(_,H+=4),H+=8;H<_.length;){var U=c(_,H),W=p(_,H+=4);H+=4;var re=W+(1&W);switch(U){case"VP8 ":case"VP8L":j.frames[z]===void 0&&(j.frames[z]={}),(ae=j.frames[z]).src_off=F?J:H-8,ae.src_size=X+W+8,z++,F&&(F=!1,X=0,J=0);break;case"VP8X":(ae=j.header={}).feature_flags=_[H];var Z=H+4;ae.canvas_width=1+d(_,Z),Z+=3,ae.canvas_height=1+d(_,Z),Z+=3;break;case"ALPH":F=!0,X=re+8,J=H-8;break;case"ANIM":(ae=j.header).bgcolor=p(_,H),Z=H+4,ae.loop_count=u(_,Z),Z+=2;break;case"ANMF":var Ee,ae;(ae=j.frames[z]={}).offset_x=2*d(_,H),H+=3,ae.offset_y=2*d(_,H),H+=3,ae.width=1+d(_,H),H+=3,ae.height=1+d(_,H),H+=3,ae.duration=d(_,H),H+=3,Ee=_[H++],ae.dispose=1&Ee,ae.blend=Ee>>1&1}U!="ANMF"&&(H+=re)}return j}})(b,0);D.response=b,D.rgbaoutput=!0,D.dataurl=!1;var E=D.header?D.header:null,N=D.frames?D.frames:null;if(E){E.loop_counter=E.loop_count,m=[E.canvas_height],y=[E.canvas_width];for(var B=0;B<N.length&&N[B].blend!=0;B++);}var P=N[0],C=w.WebPDecodeRGBA(b,P.src_off,P.src_size,y,m);P.rgba=C,P.imgwidth=y[0],P.imgheight=m[0];for(var k=0;k<y[0]*m[0]*4;k++)M[k]=C[k];return this.width=y,this.height=m,this.data=M,this}(function(r){var t,e,i,n,s,a,o,l,c,u=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new a,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new a,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=L;Object.defineProperty(this,"pdf",{get:function(){return Y}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(Ge){G=!!Ge}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(Ge){Q=!!Ge}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(Ge){isNaN(Ge)||(te=Ge)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Ge){isNaN(Ge)||(le=Ge)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ge){var Se;typeof Ge=="number"?Se=[Ge,Ge,Ge,Ge]:((Se=new Array(4))[0]=Ge[0],Se[1]=Ge.length>=2?Ge[1]:Se[0],Se[2]=Ge.length>=3?Ge[2]:Se[0],Se[3]=Ge.length>=4?Ge[3]:Se[1]),c.margin=Se}});var Me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Me},set:function(Ge){Me=Ge}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(Ge){ve=Ge}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(Ge){Ie=Ge}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ge){Ge instanceof u&&(c=Ge)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ge){c.path=Ge}});var Je=[];Object.defineProperty(this,"ctxStack",{get:function(){return Je},set:function(Ge){Je=Ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ge){var Se;Se=p(Ge),this.ctx.fillStyle=Se.style,this.ctx.isFillTransparent=Se.a===0,this.ctx.fillOpacity=Se.a,this.pdf.setFillColor(Se.r,Se.g,Se.b,{a:Se.a}),this.pdf.setTextColor(Se.r,Se.g,Se.b,{a:Se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ge){var Se=p(Ge);this.ctx.strokeStyle=Se.style,this.ctx.isStrokeTransparent=Se.a===0,this.ctx.strokeOpacity=Se.a,Se.a===0?this.pdf.setDrawColor(255,255,255):(Se.a,this.pdf.setDrawColor(Se.r,Se.g,Se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ge){["butt","round","square"].indexOf(Ge)!==-1&&(this.ctx.lineCap=Ge,this.pdf.setLineCap(Ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ge){isNaN(Ge)||(this.ctx.lineWidth=Ge,this.pdf.setLineWidth(Ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ge){["bevel","round","miter"].indexOf(Ge)!==-1&&(this.ctx.lineJoin=Ge,this.pdf.setLineJoin(Ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ge){isNaN(Ge)||(this.ctx.miterLimit=Ge,this.pdf.setMiterLimit(Ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ge){this.ctx.textBaseline=Ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ge){["right","end","center","left","start"].indexOf(Ge)!==-1&&(this.ctx.textAlign=Ge)}});var xe=null,Ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ot},set:function(Ge){xe=null,Ot=Ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ge){var Se;if(this.ctx.font=Ge,(Se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ge))!==null){var ti=Se[1];Se[2];var Tt=Se[3],$t=Se[4];Se[5];var Lt=Se[6],ni=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($t)[2];$t=Math.floor(ni==="px"?parseFloat($t)*this.pdf.internal.scaleFactor:ni==="em"?parseFloat($t)*this.pdf.getFontSize():parseFloat($t)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($t);var Yt=(function(Ue){var Ke,yt,xt=[],Nt=Ue.trim();if(Nt==="")return n5;if(Nt in R7)return[R7[Nt]];for(;Nt!=="";){switch(yt=null,Ke=(Nt=F7(Nt)).charAt(0)){case'"':case"'":yt=VSe(Nt.substring(1),Ke);break;default:yt=HSe(Nt)}if(yt===null||(xt.push(yt[0]),(Nt=F7(yt[1]))!==""&&Nt.charAt(0)!==","))return n5;Nt=Nt.replace(/^,/,"")}return xt})(Lt);if(this.fontFaces){var Ri=(function(Ue,Ke){if(xe===null){var yt=(function(xt){var Nt=[];return Object.keys(xt).forEach(function(hi){xt[hi].forEach(function(bi){var vi=null;switch(bi){case"bold":vi={family:hi,weight:"bold"};break;case"italic":vi={family:hi,style:"italic"};break;case"bolditalic":vi={family:hi,weight:"bold",style:"italic"};break;case"":case"normal":vi={family:hi}}vi!==null&&(vi.ref={name:hi,style:bi},Nt.push(vi))})}),Nt})(Ue.getFontList());xe=(function(xt){for(var Nt={},hi=0;hi<xt.length;++hi){var bi=r5(xt[hi]),vi=bi.family,Bi=bi.stretch,Qi=bi.style,nn=bi.weight;Nt[vi]=Nt[vi]||{},Nt[vi][Bi]=Nt[vi][Bi]||{},Nt[vi][Bi][Qi]=Nt[vi][Bi][Qi]||{},Nt[vi][Bi][Qi][nn]=bi}return Nt})(yt.concat(Ke))}return xe})(this.pdf,this.fontFaces),pi=Yt.map(function(Ue){return{family:Ue,stretch:"normal",weight:Tt,style:ti}}),Mt=(function(Ue,Ke,yt){for(var xt=(yt=yt||{}).defaultFontFamily||"times",Nt=Object.assign({},USe,yt.genericFontFamilies||{}),hi=null,bi=null,vi=0;vi<Ke.length;++vi)if(Nt[(hi=r5(Ke[vi])).family]&&(hi.family=Nt[hi.family]),Ue.hasOwnProperty(hi.family)){bi=Ue[hi.family];break}if(!(bi=bi||Ue[xt]))throw new Error("Could not find a font-family for the rule '"+P7(hi)+"' and default family '"+xt+"'.");if(bi=(function(Bi,Qi){if(Qi[Bi])return Qi[Bi];var nn=Ak[Bi],sn=nn<=Ak.normal?-1:1,Dr=z7(Qi,_$,nn,sn);if(!Dr)throw new Error("Could not find a matching font-stretch value for "+Bi);return Dr})(hi.stretch,bi),bi=(function(Bi,Qi){if(Qi[Bi])return Qi[Bi];for(var nn=j$[Bi],sn=0;sn<nn.length;++sn)if(Qi[nn[sn]])return Qi[nn[sn]];throw new Error("Could not find a matching font-style for "+Bi)})(hi.style,bi),!(bi=(function(Bi,Qi){if(Qi[Bi])return Qi[Bi];if(Bi===400&&Qi[500])return Qi[500];if(Bi===500&&Qi[400])return Qi[400];var nn=BSe[Bi],sn=z7(Qi,z$,nn,Bi<400?-1:1);if(!sn)throw new Error("Could not find a matching font-weight for value "+Bi);return sn})(hi.weight,bi)))throw new Error("Failed to resolve a font for the rule '"+P7(hi)+"'.");return bi})(Ri,pi);this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var Bt="";(Tt==="bold"||parseInt(Tt,10)>=700||ti==="bold")&&(Bt="bold"),ti==="italic"&&(Bt+="italic"),Bt.length===0&&(Bt="normal");for(var Xt="",gi={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},he=0;he<Yt.length;he++){if(this.pdf.internal.getFont(Yt[he],Bt,{noFallback:!0,disableWarning:!0})!==void 0){Xt=Yt[he];break}if(Bt==="bolditalic"&&this.pdf.internal.getFont(Yt[he],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Xt=Yt[he],Bt="bold";else if(this.pdf.internal.getFont(Yt[he],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Xt=Yt[he],Bt="normal";break}}if(Xt===""){for(var Ne=0;Ne<Yt.length;Ne++)if(gi[Yt[Ne]]){Xt=gi[Yt[Ne]];break}}Xt=Xt===""?"Times":Xt,this.pdf.setFont(Xt,Bt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ge){this.ctx.globalCompositeOperation=Ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ge){this.ctx.globalAlpha=Ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ge){this.ctx.lineDashOffset=Ge,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ge){this.ctx.lineDash=Ge,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ge){this.ctx.ignoreClearRect=!!Ge}})};d.prototype.setLineDash=function(L){this.lineDash=L},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){N.call(this,"fill",!1)},d.prototype.stroke=function(){N.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(L,Y){if(isNaN(L)||isNaN(Y))throw Ms.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new a(L,Y));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(L,Y)},d.prototype.closePath=function(){var L=new a(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Qn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){L=new a(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(L.x,L.y)},d.prototype.lineTo=function(L,Y){if(isNaN(L)||isNaN(Y))throw Ms.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new a(L,Y));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(G.x,G.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},d.prototype.quadraticCurveTo=function(L,Y,G,Q){if(isNaN(G)||isNaN(Q)||isNaN(L)||isNaN(Y))throw Ms.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new a(G,Q)),le=this.ctx.transform.applyToPoint(new a(L,Y));this.path.push({type:"qct",x1:le.x,y1:le.y,x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},d.prototype.bezierCurveTo=function(L,Y,G,Q,te,le){if(isNaN(te)||isNaN(le)||isNaN(L)||isNaN(Y)||isNaN(G)||isNaN(Q))throw Ms.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Me=this.ctx.transform.applyToPoint(new a(te,le)),ve=this.ctx.transform.applyToPoint(new a(L,Y)),Ie=this.ctx.transform.applyToPoint(new a(G,Q));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:Ie.x,y2:Ie.y,x:Me.x,y:Me.y}),this.ctx.lastPoint=new a(Me.x,Me.y)},d.prototype.arc=function(L,Y,G,Q,te,le){if(isNaN(L)||isNaN(Y)||isNaN(G)||isNaN(Q)||isNaN(te))throw Ms.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var Me=this.ctx.transform.applyToPoint(new a(L,Y));L=Me.x,Y=Me.y;var ve=this.ctx.transform.applyToPoint(new a(0,G)),Ie=this.ctx.transform.applyToPoint(new a(0,0));G=Math.sqrt(Math.pow(ve.x-Ie.x,2)+Math.pow(ve.y-Ie.y,2))}Math.abs(te-Q)>=2*Math.PI&&(Q=0,te=2*Math.PI),this.path.push({type:"arc",x:L,y:Y,radius:G,startAngle:Q,endAngle:te,counterclockwise:le})},d.prototype.arcTo=function(L,Y,G,Q,te){throw new Error("arcTo not implemented.")},d.prototype.rect=function(L,Y,G,Q){if(isNaN(L)||isNaN(Y)||isNaN(G)||isNaN(Q))throw Ms.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,Y),this.lineTo(L+G,Y),this.lineTo(L+G,Y+Q),this.lineTo(L,Y+Q),this.lineTo(L,Y),this.lineTo(L+G,Y),this.lineTo(L,Y)},d.prototype.fillRect=function(L,Y,G,Q){if(isNaN(L)||isNaN(Y)||isNaN(G)||isNaN(Q))throw Ms.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,Y,G,Q),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},d.prototype.strokeRect=function(L,Y,G,Q){if(isNaN(L)||isNaN(Y)||isNaN(G)||isNaN(Q))throw Ms.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(L,Y,G,Q),this.stroke())},d.prototype.clearRect=function(L,Y,G,Q){if(isNaN(L)||isNaN(Y)||isNaN(G)||isNaN(Q))throw Ms.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,Y,G,Q))},d.prototype.save=function(L){L=typeof L!="boolean"||L;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},d.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(L){var Y,G,Q,te;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))Y=0,G=0,Q=0,te=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(le!==null)Y=parseInt(le[1]),G=parseInt(le[2]),Q=parseInt(le[3]),te=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)Y=parseInt(le[1]),G=parseInt(le[2]),Q=parseInt(le[3]),te=parseFloat(le[4]);else{if(te=1,typeof L=="string"&&L.charAt(0)!=="#"){var Me=new S$(L);L=Me.ok?Me.toHex():"#000000"}L.length===4?(Y=L.substring(1,2),Y+=Y,G=L.substring(2,3),G+=G,Q=L.substring(3,4),Q+=Q):(Y=L.substring(1,3),G=L.substring(3,5),Q=L.substring(5,7)),Y=parseInt(Y,16),G=parseInt(G,16),Q=parseInt(Q,16)}}return{r:Y,g:G,b:Q,a:te,style:L}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(L,Y,G,Q){if(isNaN(Y)||isNaN(G)||typeof L!="string")throw Ms.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!m.call(this)){var te=re(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;z.call(this,{text:L,x:Y,y:G,scale:le,angle:te,align:this.textAlign,maxWidth:Q})}},d.prototype.strokeText=function(L,Y,G,Q){if(isNaN(Y)||isNaN(G)||typeof L!="string")throw Ms.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){Q=isNaN(Q)?void 0:Q;var te=re(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;z.call(this,{text:L,x:Y,y:G,scale:le,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:Q})}},d.prototype.measureText=function(L){if(typeof L!="string")throw Ms.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,G=this.pdf.internal.scaleFactor,Q=Y.internal.getFontSize(),te=Y.getStringUnitWidth(L)*Q/Y.internal.scaleFactor;return new function(le){var Me=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Me}}),this}({width:te*=Math.round(96*G/72*1e4)/1e4})},d.prototype.scale=function(L,Y){if(isNaN(L)||isNaN(Y))throw Ms.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(L,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.rotate=function(L){if(isNaN(L))throw Ms.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.translate=function(L,Y){if(isNaN(L)||isNaN(Y))throw Ms.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,L,Y);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.transform=function(L,Y,G,Q,te,le){if(isNaN(L)||isNaN(Y)||isNaN(G)||isNaN(Q)||isNaN(te)||isNaN(le))throw Ms.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Me=new l(L,Y,G,Q,te,le);this.ctx.transform=this.ctx.transform.multiply(Me)},d.prototype.setTransform=function(L,Y,G,Q,te,le){L=isNaN(L)?1:L,Y=isNaN(Y)?0:Y,G=isNaN(G)?0:G,Q=isNaN(Q)?1:Q,te=isNaN(te)?0:te,le=isNaN(le)?0:le,this.ctx.transform=new l(L,Y,G,Q,te,le)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(L,Y,G,Q,te,le,Me,ve,Ie){var Je=this.pdf.getImageProperties(L),xe=1,Ot=1,Ge=1,Se=1;Q!==void 0&&ve!==void 0&&(Ge=ve/Q,Se=Ie/te,xe=Je.width/Q*ve/Q,Ot=Je.height/te*Ie/te),le===void 0&&(le=Y,Me=G,Y=0,G=0),Q!==void 0&&ve===void 0&&(ve=Q,Ie=te),Q===void 0&&ve===void 0&&(ve=Je.width,Ie=Je.height);for(var ti,Tt=this.ctx.transform.decompose(),$t=re(Tt.rotate.shx),Lt=new l,ni=(Lt=(Lt=(Lt=Lt.multiply(Tt.translate)).multiply(Tt.skew)).multiply(Tt.scale)).applyToRectangle(new o(le-Y*Ge,Me-G*Se,Q*xe,te*Ot)),Yt=w.call(this,ni),Ri=[],pi=0;pi<Yt.length;pi+=1)Ri.indexOf(Yt[pi])===-1&&Ri.push(Yt[pi]);if(E(Ri),this.autoPaging)for(var Mt=Ri[0],Bt=Ri[Ri.length-1],Xt=Mt;Xt<Bt+1;Xt++){this.pdf.setPage(Xt);var gi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],he=Xt===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=Xt===1?0:Ne+(Xt-2)*Ue;if(this.ctx.clip_path.length!==0){var yt=this.path;ti=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ti,this.posX+this.margin[3],-Ke+he+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=yt}var xt=JSON.parse(JSON.stringify(ni));xt=D([xt],this.posX+this.margin[3],-Ke+he+this.ctx.prevPageLastElemOffset)[0];var Nt=(Xt>Mt||Xt<Bt)&&M.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gi,Ue,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,$t),Nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",ni.x,ni.y,ni.w,ni.h,null,null,$t)};var w=function(L,Y,G){var Q=[];Y=Y||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":Q.push(Math.floor((L.y+te)/G)+1);break;case"arc":Q.push(Math.floor((L.y+te-L.radius)/G)+1),Q.push(Math.floor((L.y+te+L.radius)/G)+1);break;case"qct":var le=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);Q.push(Math.floor((le.y+te)/G)+1),Q.push(Math.floor((le.y+le.h+te)/G)+1);break;case"bct":var Me=Ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);Q.push(Math.floor((Me.y+te)/G)+1),Q.push(Math.floor((Me.y+Me.h+te)/G)+1);break;case"rect":Q.push(Math.floor((L.y+te)/G)+1),Q.push(Math.floor((L.y+L.h+te)/G)+1)}for(var ve=0;ve<Q.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<Q[ve];)b.call(this);return Q},b=function(){var L=this.fillStyle,Y=this.strokeStyle,G=this.font,Q=this.lineCap,te=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=Y,this.font=G,this.lineCap=Q,this.lineWidth=te,this.lineJoin=le},D=function(L,Y,G){for(var Q=0;Q<L.length;Q++)switch(L[Q].type){case"bct":L[Q].x2+=Y,L[Q].y2+=G;case"qct":L[Q].x1+=Y,L[Q].y1+=G;default:L[Q].x+=Y,L[Q].y+=G}return L},E=function(L){return L.sort(function(Y,G){return Y-G})},N=function(L,Y){for(var G,Q,te=this.fillStyle,le=this.strokeStyle,Me=this.lineCap,ve=this.lineWidth,Ie=Math.abs(ve*this.ctx.transform.scaleX),Je=this.lineJoin,xe=JSON.parse(JSON.stringify(this.path)),Ot=JSON.parse(JSON.stringify(this.path)),Ge=[],Se=0;Se<Ot.length;Se++)if(Ot[Se].x!==void 0)for(var ti=w.call(this,Ot[Se]),Tt=0;Tt<ti.length;Tt+=1)Ge.indexOf(ti[Tt])===-1&&Ge.push(ti[Tt]);for(var $t=0;$t<Ge.length;$t++)for(;this.pdf.internal.getNumberOfPages()<Ge[$t];)b.call(this);if(E(Ge),this.autoPaging)for(var Lt=Ge[0],ni=Ge[Ge.length-1],Yt=Lt;Yt<ni+1;Yt++){this.pdf.setPage(Yt),this.fillStyle=te,this.strokeStyle=le,this.lineCap=Me,this.lineWidth=Ie,this.lineJoin=Je;var Ri=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pi=Yt===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xt=Yt===1?0:Mt+(Yt-2)*Bt;if(this.ctx.clip_path.length!==0){var gi=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(G,this.posX+this.margin[3],-Xt+pi+this.ctx.prevPageLastElemOffset),B.call(this,L,!0),this.path=gi}if(Q=JSON.parse(JSON.stringify(xe)),this.path=D(Q,this.posX+this.margin[3],-Xt+pi+this.ctx.prevPageLastElemOffset),Y===!1||Yt===0){var he=(Yt>Lt||Yt<ni)&&M.call(this);he&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ri,Bt,null).clip().discardPath()),B.call(this,L,Y),he&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=Ie,B.call(this,L,Y),this.lineWidth=ve;this.path=xe},B=function(L,Y){if((L!=="stroke"||Y||!y.call(this))&&(L==="stroke"||Y||!m.call(this))){for(var G,Q,te=[],le=this.path,Me=0;Me<le.length;Me++){var ve=le[Me];switch(ve.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:ve,deltas:[],abs:[]});break;case"lt":var Ie=te.length;if(le[Me-1]&&!isNaN(le[Me-1].x)&&(G=[ve.x-le[Me-1].x,ve.y-le[Me-1].y],Ie>0)){for(;Ie>=0;Ie--)if(te[Ie-1].close!==!0&&te[Ie-1].begin!==!0){te[Ie-1].deltas.push(G),te[Ie-1].abs.push(ve);break}}break;case"bct":G=[ve.x1-le[Me-1].x,ve.y1-le[Me-1].y,ve.x2-le[Me-1].x,ve.y2-le[Me-1].y,ve.x-le[Me-1].x,ve.y-le[Me-1].y],te[te.length-1].deltas.push(G);break;case"qct":var Je=le[Me-1].x+2/3*(ve.x1-le[Me-1].x),xe=le[Me-1].y+2/3*(ve.y1-le[Me-1].y),Ot=ve.x+2/3*(ve.x1-ve.x),Ge=ve.y+2/3*(ve.y1-ve.y),Se=ve.x,ti=ve.y;G=[Je-le[Me-1].x,xe-le[Me-1].y,Ot-le[Me-1].x,Ge-le[Me-1].y,Se-le[Me-1].x,ti-le[Me-1].y],te[te.length-1].deltas.push(G);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(ve)}}Q=Y?null:L==="stroke"?"stroke":"fill";for(var Tt=!1,$t=0;$t<te.length;$t++)if(te[$t].arc)for(var Lt=te[$t].abs,ni=0;ni<Lt.length;ni++){var Yt=Lt[ni];Yt.type==="arc"?k.call(this,Yt.x,Yt.y,Yt.radius,Yt.startAngle,Yt.endAngle,Yt.counterclockwise,void 0,Y,!Tt):F.call(this,Yt.x,Yt.y),Tt=!0}else if(te[$t].close===!0)this.pdf.internal.out("h"),Tt=!1;else if(te[$t].begin!==!0){var Ri=te[$t].start.x,pi=te[$t].start.y;X.call(this,te[$t].deltas,Ri,pi),Tt=!0}Q&&_.call(this,Q),Y&&H.call(this)}},P=function(L){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-G;case"top":return L+Y-G;case"hanging":return L+Y-2*G;case"middle":return L+Y/2-G;default:return L}},C=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(Y,G){this.colorStops.push([Y,G])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(L,Y,G,Q,te,le,Me,ve,Ie){for(var Je=U.call(this,G,Q,te,le),xe=0;xe<Je.length;xe++){var Ot=Je[xe];xe===0&&(Ie?j.call(this,Ot.x1+L,Ot.y1+Y):F.call(this,Ot.x1+L,Ot.y1+Y)),J.call(this,L,Y,Ot.x2,Ot.y2,Ot.x3,Ot.y3,Ot.x4,Ot.y4)}ve?H.call(this):_.call(this,Me)},_=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(L,Y){this.pdf.internal.out(e(L)+" "+i(Y)+" m")},z=function(L){var Y;switch(L.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var G=this.pdf.getTextDimensions(L.text),Q=P.call(this,L.y),te=C.call(this,Q)-G.h,le=this.ctx.transform.applyToPoint(new a(L.x,Q)),Me=this.ctx.transform.decompose(),ve=new l;ve=(ve=(ve=ve.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale);for(var Ie,Je,xe,Ot=this.ctx.transform.applyToRectangle(new o(L.x,Q,G.w,G.h)),Ge=ve.applyToRectangle(new o(L.x,te,G.w,G.h)),Se=w.call(this,Ge),ti=[],Tt=0;Tt<Se.length;Tt+=1)ti.indexOf(Se[Tt])===-1&&ti.push(Se[Tt]);if(E(ti),this.autoPaging)for(var $t=ti[0],Lt=ti[ti.length-1],ni=$t;ni<Lt+1;ni++){this.pdf.setPage(ni);var Yt=ni===1?this.posY+this.margin[0]:this.margin[0],Ri=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pi=this.pdf.internal.pageSize.height-this.margin[2],Mt=pi-this.margin[0],Bt=this.pdf.internal.pageSize.width-this.margin[1],Xt=Bt-this.margin[3],gi=ni===1?0:Ri+(ni-2)*Mt;if(this.ctx.clip_path.length!==0){var he=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Ie,this.posX+this.margin[3],-1*gi+Yt),B.call(this,"fill",!0),this.path=he}var Ne=D([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-gi+Yt+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Je*L.scale),xe=this.lineWidth,this.lineWidth=xe*L.scale);var Ue=this.autoPaging!=="text";if(Ue||Ne.y+Ne.h<=pi){if(Ue||Ne.y>=Yt&&Ne.x<=Bt){var Ke=Ue?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Bt-Ne.x)[0],yt=D([JSON.parse(JSON.stringify(Ot))],this.posX+this.margin[3],-gi+Yt+this.ctx.prevPageLastElemOffset)[0],xt=Ue&&(ni>$t||ni<Lt)&&M.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,Mt,null).clip().discardPath()),this.pdf.text(Ke,yt.x,yt.y,{angle:L.angle,align:Y,renderingMode:L.renderingMode}),xt&&this.pdf.restoreGraphicsState()}}else Ne.y<pi&&(this.ctx.prevPageLastElemOffset+=pi-Ne.y);L.scale>=.01&&(this.pdf.setFontSize(Je),this.lineWidth=xe)}else L.scale>=.01&&(Je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Je*L.scale),xe=this.lineWidth,this.lineWidth=xe*L.scale),this.pdf.text(L.text,le.x+this.posX,le.y+this.posY,{angle:L.angle,align:Y,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Je),this.lineWidth=xe)},F=function(L,Y,G,Q){G=G||0,Q=Q||0,this.pdf.internal.out(e(L+G)+" "+i(Y+Q)+" l")},X=function(L,Y,G){return this.pdf.lines(L,Y,G,null,null)},J=function(L,Y,G,Q,te,le,Me,ve){this.pdf.internal.out([t(n(G+L)),t(s(Q+Y)),t(n(te+L)),t(s(le+Y)),t(n(Me+L)),t(s(ve+Y)),"c"].join(" "))},U=function(L,Y,G,Q){for(var te=2*Math.PI,le=Math.PI/2;Y>G;)Y-=te;var Me=Math.abs(G-Y);Me<te&&Q&&(Me=te-Me);for(var ve=[],Ie=Q?-1:1,Je=Y;Me>1e-5;){var xe=Je+Ie*Math.min(Me,le);ve.push(W.call(this,L,Je,xe)),Me-=Math.abs(xe-Je),Je=xe}return ve},W=function(L,Y,G){var Q=(G-Y)/2,te=L*Math.cos(Q),le=L*Math.sin(Q),Me=te,ve=-le,Ie=Me*Me+ve*ve,Je=Ie+Me*te+ve*le,xe=4/3*(Math.sqrt(2*Ie*Je)-Je)/(Me*le-ve*te),Ot=Me-xe*ve,Ge=ve+xe*Me,Se=Ot,ti=-Ge,Tt=Q+Y,$t=Math.cos(Tt),Lt=Math.sin(Tt);return{x1:L*Math.cos(Y),y1:L*Math.sin(Y),x2:Ot*$t-Ge*Lt,y2:Ot*Lt+Ge*$t,x3:Se*$t-ti*Lt,y3:Se*Lt+ti*$t,x4:L*Math.cos(G),y4:L*Math.sin(G)}},re=function(L){return 180*L/Math.PI},Z=function(L,Y,G,Q,te,le){var Me=L+.5*(G-L),ve=Y+.5*(Q-Y),Ie=te+.5*(G-te),Je=le+.5*(Q-le),xe=Math.min(L,te,Me,Ie),Ot=Math.max(L,te,Me,Ie),Ge=Math.min(Y,le,ve,Je),Se=Math.max(Y,le,ve,Je);return new o(xe,Ge,Ot-xe,Se-Ge)},Ee=function(L,Y,G,Q,te,le,Me,ve){var Ie,Je,xe,Ot,Ge,Se,ti,Tt,$t,Lt,ni,Yt,Ri,pi,Mt=G-L,Bt=Q-Y,Xt=te-G,gi=le-Q,he=Me-te,Ne=ve-le;for(Je=0;Je<41;Je++)$t=(ti=(xe=L+(Ie=Je/40)*Mt)+Ie*((Ge=G+Ie*Xt)-xe))+Ie*(Ge+Ie*(te+Ie*he-Ge)-ti),Lt=(Tt=(Ot=Y+Ie*Bt)+Ie*((Se=Q+Ie*gi)-Ot))+Ie*(Se+Ie*(le+Ie*Ne-Se)-Tt),Je==0?(ni=$t,Yt=Lt,Ri=$t,pi=Lt):(ni=Math.min(ni,$t),Yt=Math.min(Yt,Lt),Ri=Math.max(Ri,$t),pi=Math.max(pi,Lt));return new o(Math.round(ni),Math.round(Yt),Math.round(Ri-ni),Math.round(pi-Yt))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,Y,G=(L=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:Y}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Vi.API),(function(r){var t=function(a){var o,l,c,u,d,p,m,y,M,w;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(d=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(p=(d=((d=((d=((d=(d-(w=d%85))/85)-(M=d%85))/85)-(y=d%85))/85)-(m=d%85))/85)%85,l.push(p+33,m+33,y+33,M+33,w+33)):l.push(122);return(function(b,D){for(var E=D;E>0;E--)b.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},e=function(a){var o,l,c,u,d,p=String,m="length",y=255,M="charCodeAt",w="slice",b="replace";for(a[w](-2),a=a[w](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),c=[],u=0,d=(a+=o="uuuuu"[w](a[m]%5||5))[m];d>u;u+=5)l=52200625*(a[M](u)-33)+614125*(a[M](u+1)-33)+7225*(a[M](u+2)-33)+85*(a[M](u+3)-33)+(a[M](u+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return(function(D,E){for(var N=E;N>0;N--)D.pop()})(c,o[m]),p.fromCharCode.apply(p,c)},i=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=xk(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};r.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=e(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=i(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(Vi.API),(function(r){r.loadFile=function(t,e,i){return(function(n,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(l,c,u){var d=new XMLHttpRequest,p=0,m=function(y){var M=y.length,w=[],b=String.fromCharCode;for(p=0;p<M;p+=1)w.push(b(255&y.charCodeAt(p)));return w.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(m(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return m(d.responseText)})(n,s,a)}catch{}return o})(t,e,i)},r.loadImageFile=r.loadFile})(Vi.API),(function(r){function t(){return(ur.html2canvas?Promise.resolve(ur.html2canvas):F4(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(ur.DOMPurify?Promise.resolve(ur.DOMPurify):F4(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var l=Qn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},n=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(o(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(e).then(function(c){return this.set({src:n("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var y=u[m],M=y.src.find(function(w){return w.format==="truetype"});M&&c.addFont(M.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(i(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Vi.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,d).then(function(p){return c.updateProgress(1),p})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),p=c.call(d,o,l);return a.convert(p,u.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Vi.getPageSize=function(o,l,c){if(Qn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,p=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var y,M=0,w=0;if(m.hasOwnProperty(p))M=m[p][1]/d,w=m[p][0]/d;else try{M=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",w>M&&(y=w,w=M,M=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",M>w&&(y=w,w=M,M=y)}return{width:w,height:M,unit:l,k:d,orientation:o}},r.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(r5):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}})(Vi.API),Vi.API.addJS=function(r){return U7=r,this.internal.events.subscribe("postPutResources",function(){EE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(EE+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),B7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+U7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){EE!==void 0&&B7!==void 0&&this.internal.out("/Names <</JavaScript "+EE+" 0 R>>")}),this},(function(r){var t;r.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),s=0;s<n.length;s++){var a=n[s],o=i.exec(a);if(o!=null){var l=o[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=e.internal.newObject();u.push(d);var p=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<u.length;s++)e.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+m+" 0 R"),e.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),r.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,n,s){var a={title:n,options:s,children:[]};return i==null&&(i=this.root),i.children.push(a),a},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var n=0;n<i.children.length;n++)this.genIds_r(i.children[n])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var a=i.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,n){for(var s=0;s<n.children.length;s++)i.count++,this.count_r(i,n.children[s]);return i.count}}])})(Vi.API),(function(r){var t=[192,193,194,195,196,197,198,199];r.processJPEG=function(e,i,n,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,l=(function(d){for(var p,m=256*d.charCodeAt(4)+d.charCodeAt(5),y=d.length,M={width:0,height:0,numcomponents:1},w=4;w<y;w+=2){if(w+=m,t.indexOf(d.charCodeAt(w+1))!==-1){p=256*d.charCodeAt(w+5)+d.charCodeAt(w+6),M={width:256*d.charCodeAt(w+7)+d.charCodeAt(w+8),height:p,numcomponents:d.charCodeAt(w+9)};break}m=256*d.charCodeAt(w+2)+d.charCodeAt(w+3)}return M})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:e,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:i,alias:n}}return u}})(Vi.API),Vi.API.processPNG=function(r,t,e,i){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var n,s=ASe(r,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,u=s.depth;n=c&&l===1?(function(k){for(var _=k.width,H=k.height,j=k.data,z=k.palette,F=k.depth,X=!1,J=[],U=[],W=void 0,re=!1,Z=0,Ee=0;Ee<z.length;Ee++){var ae=Y8(z[Ee],4),L=ae[0],Y=ae[1],G=ae[2],Q=ae[3];J.push(L,Y,G),Q!=null&&(Q===0?(Z++,U.length<1&&U.push(Ee)):Q<255&&(re=!0))}if(re||Z>1){X=!0,U=void 0;var te=_*H;W=new Uint8Array(te);for(var le=new DataView(j.buffer),Me=0;Me<te;Me++){var ve=s5(le,Me,F),Ie=Y8(z[ve],4)[3];W[Me]=Ie}}else Z===0&&(U=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:X?8:void 0,colorBytes:j,alphaBytes:W,needSMask:X,palette:J,mask:U}})(s):l===2||l===4?(function(k){for(var _=k.data,H=k.width,j=k.height,z=k.channels,F=k.depth,X=z===2?"DeviceGray":"DeviceRGB",J=z-1,U=H*j,W=J,re=U*W,Z=1*U,Ee=Math.ceil(re*F/8),ae=Math.ceil(Z*F/8),L=new Uint8Array(Ee),Y=new Uint8Array(ae),G=new DataView(_.buffer),Q=new DataView(L.buffer),te=new DataView(Y.buffer),le=!1,Me=0;Me<U;Me++){for(var ve=Me*z,Ie=0;Ie<W;Ie++)$7(Q,s5(G,ve+Ie,F),Me*W+Ie,F);var Je=s5(G,ve+W,F);Je<(1<<F)-1&&(le=!0),$7(te,Je,1*Me,F)}return{colorSpace:X,colorsPerPixel:J,sMaskBitsPerComponent:le?F:void 0,colorBytes:L,alphaBytes:Y,needSMask:le}})(s):(function(k){var _=k.data,H=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:_ instanceof Uint16Array?(function(j){for(var z=j.length,F=new Uint8Array(2*z),X=new DataView(F.buffer,F.byteOffset,F.byteLength),J=0;J<z;J++)X.setUint16(2*J,j[J],!1);return F})(_):_,needSMask:!1}})(s);var d,p,m,y=n,M=y.colorSpace,w=y.colorsPerPixel,b=y.sMaskBitsPerComponent,D=y.colorBytes,E=y.alphaBytes,N=y.needSMask,B=y.palette,P=y.mask,C=null;return i!==Vi.API.image_compression.NONE&&typeof xk=="function"?(C=(function(k){var _;switch(k){case Vi.API.image_compression.FAST:_=11;break;case Vi.API.image_compression.MEDIUM:_=13;break;case Vi.API.image_compression.SLOW:_=14;break;default:_=12}return _})(i),d=this.decode.FLATE_DECODE,p="/Predictor ".concat(C," /Colors ").concat(w," /BitsPerComponent ").concat(u," /Columns ").concat(a),r=Y7(D,Math.ceil(a*w*u/8),w,u,i),N&&(m=Y7(E,Math.ceil(a*b/8),1,b,i))):(d=void 0,p=void 0,r=D,N&&(m=E)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:e,data:r,index:t,filter:d,decodeParameters:p,transparency:P,palette:B,sMask:m,predictor:C,width:a,height:o,bitsPerComponent:u,sMaskBitsPerComponent:b,colorSpace:M}}},(function(r){r.processGIF89A=function(t,e,i,n){var s=new QSe(t),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new a5(100).encode(c,100);return r.processJPEG.call(this,u,e,i,n)},r.processGIF87A=r.processGIF89A})(Vi.API),Gh.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var t=0;t<r;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:i,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Gh.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[r]()}catch(e){Ms.log("bit decode error:"+e)}},Gh.prototype.bit1=function(){var r,t=Math.ceil(this.width/8),e=t%4;for(r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<t;n++)for(var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}e!==0&&(this.pos+=4-e)}},Gh.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),t=r%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,n=0;n<r;n++){var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*n*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*n+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Gh.prototype.bit8=function(){for(var r=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;if(n<this.palette.length){var a=this.palette[n];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Gh.prototype.bit15=function(){for(var r=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,u=i*this.width*4+4*n;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=r}},Gh.prototype.bit16=function(){for(var r=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&e)/e*255|0,c=(a>>11)/t*255|0,u=n*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=r}},Gh.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=s,this.data[a+1]=n,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},Gh.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=n,this.data[o+2]=i,this.data[o+3]=a}},Gh.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(t,e,i,n){var s=new Gh(t,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new a5(100).encode(l,100);return r.processJPEG.call(this,c,e,i,n)}})(Vi.API),J7.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(t,e,i,n){var s=new J7(t),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new a5(100).encode(l,100);return r.processJPEG.call(this,c,e,i,n)}})(Vi.API),Vi.API.processRGBA=function(r,t,e){for(var i=r.data,n=i.length,s=new Uint8Array(n/4*3),a=new Uint8Array(n/4),o=0,l=0,c=0;c<n;c+=4){var u=i[c],d=i[c+1],p=i[c+2],m=i[c+3];s[o++]=u,s[o++]=d,s[o++]=p,a[l++]=m}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:y,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Vi.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Oy=Vi.API,AE=Oy.getCharWidthsArray=function(r,t){var e,i,n=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:n.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:n.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,p=0,m=r.length,y=0,M=o[0]||l,w=[];for(e=0;e<m;e++)i=r.charCodeAt(e),typeof n.metadata.widthOfString=="function"?w.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(p=d&&Qn(c[i])==="object"&&!isNaN(parseInt(c[i][y],10))?c[i][y]/u:0,w.push((o[i]||M)/l+p)),y=i;return w},V7=Oy.getStringUnitWidth=function(r,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return Oy.processArabic&&(r=Oy.processArabic(r)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(r,e,n)/e:AE.apply(this,arguments).reduce(function(s,a){return s+a},0)},H7=function(r,t,e,i){for(var n=[],s=0,a=r.length,o=0;s!==a&&o+t[s]<e;)o+=t[s],s++;n.push(r.slice(0,s));var l=s;for(o=0;s!==a;)o+t[s]>i&&(n.push(r.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&n.push(r.slice(l,s)),n},W7=function(r,t,e){e||(e={});var i,n,s,a,o,l,c,u=[],d=[u],p=e.textIndent||0,m=0,y=0,M=r.split(" "),w=AE.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?M[0].length+2:e.lineIndent||0){var b=Array(l).join(" "),D=[];M.map(function(N){(N=N.split(/\s*\n/)).length>1?D=D.concat(N.map(function(B,P){return(P&&B.length?`
`:"")+B})):D.push(N[0])}),M=D,l=V7.apply(this,[b,e])}for(s=0,a=M.length;s<a;s++){var E=0;if(i=M[s],l&&i[0]==`
`&&(i=i.substr(1),E=1),p+m+(y=(n=AE.apply(this,[i,e])).reduce(function(N,B){return N+B},0))>t||E){if(y>t){for(o=H7.apply(this,[i,n,t-(p+m),t]),u.push(o.shift()),u=[o.pop()];o.length;)d.push([o.shift()]);y=n.slice(i.length-(u[0]?u[0].length:0)).reduce(function(N,B){return N+B},0)}else u=[i];d.push(u),p=y+l,m=w}else u.push(i),p+=m+y,m=w}return c=l?function(N,B){return(B?b:"")+N.join(" ")}:function(N){return N.join(" ")},d.map(c)},Oy.splitTextToSize=function(r,t,e){var i,n=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return d.metadata[p]?{widths:d.metadata[p].widths||{0:1},kerning:d.metadata[p].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/n;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/n:0,s.lineIndent=e.lineIndent;var o,l,c=[];for(o=0,l=i.length;o<l;o++)c=c.concat(W7.apply(this,[i[o],a,s]));return c},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",i={},n={},s=0;s<16;s++)i[e[s]]=t[s],n[t[s]]=e[s];var a=function(p){return"0x"+parseInt(p,10).toString(16)},o=r.__fontmetrics__.compress=function(p){var m,y,M,w,b=["{"];for(var D in p){if(m=p[D],isNaN(parseInt(D,10))?y="'"+D+"'":(D=parseInt(D,10),y=(y=a(D).slice(2)).slice(0,-1)+n[y.slice(-1)]),typeof m=="number")m<0?(M=a(m).slice(3),w="-"):(M=a(m).slice(2),w=""),M=w+M.slice(0,-1)+n[M.slice(-1)];else{if(Qn(m)!=="object")throw new Error("Don't know what to do with value type "+Qn(m)+".");M=o(m)}b.push(y+M)}return b.push("}"),b.join("")},l=r.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,y,M,w,b={},D=1,E=b,N=[],B="",P="",C=p.length-1,k=1;k<C;k+=1)(w=p[k])=="'"?m?(M=m.join(""),m=void 0):m=[]:m?m.push(w):w=="{"?(N.push([E,M]),E={},M=void 0):w=="}"?((y=N.pop())[0][y[1]]=E,M=void 0,E=y[0]):w=="-"?D=-1:M===void 0?i.hasOwnProperty(w)?(B+=i[w],M=parseInt(B,16)*D,D=1,B=""):B+=w:i.hasOwnProperty(w)?(P+=i[w],E[M]=parseInt(P,16)*D,D=1,M=void 0,P=""):P+=w;return b},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(p){var m=p.font,y=d.Unicode[m.postScriptName];y&&(m.metadata.Unicode={},m.metadata.Unicode.widths=y.widths,m.metadata.Unicode.kerning=y.kerning);var M=u.Unicode[m.postScriptName];M&&(m.metadata.Unicode.encoding=M,m.encoding=M.codePages[0])}])})(Vi.API),(function(r){var t=function(e){for(var i=e.length,n=new Uint8Array(i),s=0;s<i;s++)n[s]=e.charCodeAt(s);return n};r.API.events.push(["addFont",function(e){var i=void 0,n=e.font,s=e.instance;if(!n.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(i=s.existsFileInVFS(n.postScriptName)===!1?s.loadFile(n.postScriptName):s.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(oA(o)),a.metadata=r.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(n,i)}}])})(Vi),Vi.API.addSvgAsImage=function(r,t,e,i,n,s,a,o){if(isNaN(t)||isNaN(e))throw Ms.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(n))throw Ms.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=n;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(ur.canvg?Promise.resolve(ur.canvg):F4(()=>import("./index.es-coyQX5z8.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,r,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),t,e,i,n,a,o)})},Vi.API.putTotalPages=function(r){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(r,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var n=0;n<this.internal.pages[i].length;n++)this.internal.pages[i][n]=this.internal.pages[i][n].replace(t,e);return this},Vi.API.viewerPreferences=function(r,t){var e;r=r||{},t=t||!1;var i,n,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,d=0;function p(y,M){var w,b=!1;for(w=0;w<y.length;w+=1)y[w]===M&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,r==="reset"||t===!0){var m=o.length;for(d=0;d<m;d+=1)e[o[d]].value=e[o[d]].defaultValue,e[o[d]].explicitSet=!1}if(Qn(r)==="object"){for(n in r)if(s=r[n],p(o,n)&&s!==void 0){if(e[n].type==="boolean"&&typeof s=="boolean")e[n].value=s;else if(e[n].type==="name"&&p(e[n].valueSet,s))e[n].value=s;else if(e[n].type==="integer"&&Number.isInteger(s))e[n].value=s;else if(e[n].type==="array"){for(c=0;c<s.length;c+=1)if(i=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(i=!1);i===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}e[n].value="["+l.join(" ")+"]"}else e[n].value=e[n].defaultValue;e[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,M=[];for(y in e)e[y].explicitSet===!0&&(e[y].type==="name"?M.push("/"+y+" /"+e[y].value):M.push("/"+y+" "+e[y].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(r){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+n.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(n+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(i,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Vi.API),(function(r){var t=r.API,e=t.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,p=s.length;d<p;++d){if(o=a.metadata.characterToGlyph(s.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},i=function(s){var a,o,l,c,u,d,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,p=(o=Object.keys(s).sort(function(m,y){return m-y})).length;d<p;d++)a=o[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",y=0;y<p.length;y++)m+=String.fromCharCode(p[y]);var M=c();u({data:m,addLength1:!0,objectId:M}),l("endobj");var w=c();u({data:i(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Hy(o.fontName)),l("/FontFile2 "+M+" 0 R"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var D=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Hy(o.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+r.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+Hy(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+D+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,p="",m=0;m<d.length;m++)p+=String.fromCharCode(d[m]);var y=c();u({data:p,addLength1:!0,objectId:y}),l("endobj");var M=c();u({data:i(o.metadata.toUnicode),addLength1:!0,objectId:M}),l("endobj");var w=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Hy(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var b=0;b<o.metadata.hmtx.widths.length;b++)o.metadata.hmtx.widths[b]=parseInt(o.metadata.hmtx.widths[b]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+Hy(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var n=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},p=d.pdfEscape,m=d.activeFontKey,y=d.fonts,M=m,w="",b=0,D="",E=y[M].encoding;if(y[M].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:d};for(D=o,M=m,Array.isArray(o)&&(D=o[0]),b=0;b<D.length;b+=1)y[M].metadata.hasOwnProperty("cmap")&&(a=y[M].metadata.cmap.unicode.codeMap[D[b].charCodeAt(0)]),a||D[b].charCodeAt(0)<256&&y[M].metadata.hasOwnProperty("Unicode")?w+=D[b]:w+="";var N="";return parseInt(M.slice(1))<14||E==="WinAnsiEncoding"?N=p(w,M).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(N=e(w,y[M])),d.isHex=!0,{text:N,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([n(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(n(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=n(Object.assign({},l,{text:a})).text}])})(Vi),(function(r){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},r.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},r.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Vi.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(i){var n,s,a,o,l,c,u,d=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,E=0;this.__bidiEngine__={};var N=function(j){var z=j.charCodeAt(),F=z>>8,X=M[F];return X!==void 0?d[256*X+(255&z)]:F===252||F===253?"AL":b.test(F)?"L":F===8?"R":"N"},B=function(j){for(var z,F=0;F<j.length;F++){if((z=N(j.charAt(F)))==="L")return!1;if(z==="R")return!0}return!1},P=function(j,z,F,X){var J,U,W,re,Z=z[X];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(Z="AN");break;case"AL":D=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":X<1||X+1>=z.length||(J=F[X-1])!=="EN"&&J!=="AN"||(U=z[X+1])!=="EN"&&U!=="AN"?Z="N":D&&(U="AN"),Z=U===J?U:"N";break;case"ES":Z=(J=X>0?F[X-1]:"B")==="EN"&&X+1<z.length&&z[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&F[X-1]==="EN"){Z="EN";break}if(D){Z="N";break}for(W=X+1,re=z.length;W<re&&z[W]==="ET";)W++;Z=W<re&&z[W]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(re=z.length,W=X+1;W<re&&z[W]==="NSM";)W++;if(W<re){var Ee=j[X],ae=Ee>=1425&&Ee<=2303||Ee===64286;if(J=z[W],ae&&(J==="R"||J==="AL")){Z="R";break}}}Z=X<1||(J=z[X-1])==="B"?"N":F[X-1];break;case"B":D=!1,n=!0,Z=E;break;case"S":s=!0,Z="N"}return Z},C=function(j,z,F){var X=j.split("");return F&&k(X,F,{hiLevel:E}),X.reverse(),z&&z.reverse(),X.join("")},k=function(j,z,F){var X,J,U,W,re,Z=-1,Ee=j.length,ae=0,L=[],Y=E?m:p,G=[];for(D=!1,n=!1,s=!1,J=0;J<Ee;J++)G[J]=N(j[J]);for(U=0;U<Ee;U++){if(re=ae,L[U]=P(j,G,L,U),X=240&(ae=Y[re][y[L[U]]]),ae&=15,z[U]=W=Y[ae][5],X>0)if(X===16){for(J=Z;J<U;J++)z[J]=1;Z=-1}else Z=-1;if(Y[ae][6])Z===-1&&(Z=U);else if(Z>-1){for(J=Z;J<U;J++)z[J]=W;Z=-1}G[U]==="B"&&(z[U]=0),F.hiLevel|=W}s&&(function(Q,te,le){for(var Me=0;Me<le;Me++)if(Q[Me]==="S"){te[Me]=E;for(var ve=Me-1;ve>=0&&Q[ve]==="WS";ve--)te[ve]=E}})(G,z,Ee)},_=function(j,z,F,X,J){if(!(J.hiLevel<j)){if(j===1&&E===1&&!n)return z.reverse(),void(F&&F.reverse());for(var U,W,re,Z,Ee=z.length,ae=0;ae<Ee;){if(X[ae]>=j){for(re=ae+1;re<Ee&&X[re]>=j;)re++;for(Z=ae,W=re-1;Z<W;Z++,W--)U=z[Z],z[Z]=z[W],z[W]=U,F&&(U=F[Z],F[Z]=F[W],F[W]=U);ae=re}ae++}}},H=function(j,z,F){var X=j.split(""),J={hiLevel:E};return F||(F=[]),k(X,F,J),(function(U,W,re){if(re.hiLevel!==0&&u)for(var Z,Ee=0;Ee<U.length;Ee++)W[Ee]===1&&(Z=w.indexOf(U[Ee]))>=0&&(U[Ee]=w[Z+1])})(X,F,J),_(2,X,z,F,J),_(1,X,z,F,J),X.join("")};return this.__bidiEngine__.doBidiReorder=function(j,z,F){if((function(J,U){if(U)for(var W=0;W<J.length;W++)U[W]=W;o===void 0&&(o=B(J)),c===void 0&&(c=B(J))})(j,z),a||!l||c)if(a&&l&&o^c)E=o?1:0,j=C(j,z,F);else if(!a&&l&&c)E=o?1:0,j=H(j,z,F),j=C(j,z);else if(!a||o||l||c){if(a&&!l&&o^c)j=C(j,z),o?(E=0,j=H(j,z,F)):(E=1,j=H(j,z,F),j=C(j,z));else if(a&&o&&!l&&c)E=1,j=H(j,z,F),j=C(j,z);else if(!a&&!l&&o^c){var X=u;o?(E=1,j=H(j,z,F),E=0,u=!1,j=H(j,z,F),u=X):(E=0,j=H(j,z,F),j=C(j,z),E=1,u=!1,j=H(j,z,F),u=X,j=C(j,z))}}else E=0,j=H(j,z,F);else E=o?1:0,j=H(j,z,F);return j},this.__bidiEngine__.setOptions=function(j){j&&(a=j.isInputVisual,l=j.isOutputVisual,o=j.isInputRtl,c=j.isOutputRtl,u=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(i){var n=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(a=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?a.push([e.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):a.push([e.doBidiReorder(n[o])]);i.text=a}else i.text=e.doBidiReorder(n);e.setOptions({isInputVisual:!0})}])})(Vi),Vi.API.TTFFont=(function(){function r(t){var e;if(this.rawData=t,e=this.contents=new Lg(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new lNe(this),this.registerTTF()}return r.open=function(t){return new r(t)},r.prototype.parse=function(){return this.directory=new GSe(this.contents),this.head=new $Se(this),this.name=new tNe(this),this.cmap=new P$(this),this.toUnicode={},this.hhea=new XSe(this),this.maxp=new iNe(this),this.hmtx=new rNe(this),this.post=new ZSe(this),this.os2=new JSe(this),this.loca=new oNe(this),this.glyf=new nNe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var t,e,i,n,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)t=l[a],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(i=255&(n=this.post.italic_angle),32768&(e=n>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},r.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},r.prototype.widthOfString=function(t,e,i){var n,s,a,o;for(a=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)n=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(n))+i*(1e3/e)||0;return a*(e/1e3)},r.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},r})();var gd,Lg=(function(){function r(t){this.data=t??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(t){return this.data[this.pos++]=t},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},r.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},r.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},r.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},r.prototype.writeString=function(t){var e,i,n;for(n=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)n.push(this.writeByte(t.charCodeAt(e)));return n},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(t){return this.writeInt16(t)},r.prototype.readLongLong=function(){var t,e,i,n,s,a,o,l;return t=this.readByte(),e=this.readByte(),i=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^n)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*n+16777216*s+65536*a+256*o+l},r.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(t){return this.writeInt32(t)},r.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},r.prototype.write=function(t){var e,i,n,s;for(s=[],i=0,n=t.length;i<n;i++)e=t[i],s.push(this.writeByte(e));return s},r})(),GSe=(function(){var r;function t(e){var i,n,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,s=this.tableCount;0<=s?n<s:n>s;n=0<=s?++n:--n)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,n,s,a,o,l,c,u,d,p,m,y,M;for(M in m=Object.keys(e).length,l=Math.log(2),d=16*Math.floor(Math.log(m)/l),a=Math.floor(d/l),u=16*m-d,(n=new Lg).writeInt(this.scalarType),n.writeShort(m),n.writeShort(d),n.writeShort(a),n.writeShort(u),s=16*m,c=n.pos+s,o=null,y=[],e)for(p=e[M],n.writeString(M),n.writeInt(r(p)),n.writeInt(c),n.writeInt(p.length),y=y.concat(p),M==="head"&&(o=c),c+=p.length;c%4;)y.push(0),c++;return n.write(y),i=2981146554-r(n.data),n.pos=o+8,n.writeUInt32(i),n.data},r=function(e){var i,n,s,a;for(e=F$.call(e);e.length%4;)e.push(0);for(s=new Lg(e),n=0,i=0,a=e.length;i<a;i=i+=4)n+=s.readUInt32();return 4294967295&n},t})(),KSe={}.hasOwnProperty,Mf=function(r,t){for(var e in t)KSe.call(t,e)&&(r[e]=t[e]);function i(){this.constructor=r}return i.prototype=t.prototype,r.prototype=new i,r.__super__=t.prototype,r};gd=(function(){function r(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var $Se=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Mf(r,gd),r.prototype.tag="head",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},r.prototype.encode=function(t){var e;return(e=new Lg).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},r})(),Z7=(function(){function r(t,e){var i,n,s,a,o,l,c,u,d,p,m,y,M,w,b,D,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),p=m/2,t.pos+=6,s=(function(){var N,B;for(B=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)B.push(t.readUInt16());return B})(),t.pos+=2,M=(function(){var N,B;for(B=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)B.push(t.readUInt16());return B})(),c=(function(){var N,B;for(B=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)B.push(t.readUInt16());return B})(),u=(function(){var N,B;for(B=[],l=N=0;0<=p?N<p:N>p;l=0<=p?++N:--N)B.push(t.readUInt16());return B})(),n=(this.length-t.pos+this.offset)/2,o=(function(){var N,B;for(B=[],l=N=0;0<=n?N<n:N>n;l=0<=n?++N:--N)B.push(t.readUInt16());return B})(),l=b=0,E=s.length;b<E;l=++b)for(w=s[l],i=D=y=M[l];y<=w?D<=w:D>=w;i=y<=w?++D:--D)u[l]===0?a=i+c[l]:(a=o[u[l]/2+(i-y)-(p-l)]||0)!==0&&(a+=c[l]),this.codeMap[i]=65535&a}t.pos=d}return r.encode=function(t,e){var i,n,s,a,o,l,c,u,d,p,m,y,M,w,b,D,E,N,B,P,C,k,_,H,j,z,F,X,J,U,W,re,Z,Ee,ae,L,Y,G,Q,te,le,Me,ve,Ie,Je,xe;switch(X=new Lg,a=Object.keys(t).sort(function(Ot,Ge){return Ot-Ge}),e){case"macroman":for(M=0,w=(function(){var Ot=[];for(y=0;y<256;++y)Ot.push(0);return Ot})(),D={0:0},s={},J=0,Z=a.length;J<Z;J++)D[ve=t[n=a[J]]]==null&&(D[ve]=++M),s[n]={old:t[n],new:D[t[n]]},w[n]=D[t[n]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(w),{charMap:s,subtable:X.data,maxGlyphID:M+1};case"unicode":for(z=[],d=[],E=0,D={},i={},b=c=null,U=0,Ee=a.length;U<Ee;U++)D[B=t[n=a[U]]]==null&&(D[B]=++E),i[n]={old:B,new:D[B]},o=D[B]-n,b!=null&&o===c||(b&&d.push(b),z.push(n),c=o),b=n;for(b&&d.push(b),d.push(65535),z.push(65535),H=2*(_=z.length),k=2*Math.pow(Math.log(_)/Math.LN2,2),p=Math.log(k/2)/Math.LN2,C=2*_-k,l=[],P=[],m=[],y=W=0,ae=z.length;W<ae;y=++W){if(j=z[y],u=d[y],j===65535){l.push(0),P.push(0);break}if(j-(F=i[j].new)>=32768)for(l.push(0),P.push(2*(m.length+_-y)),n=re=j;j<=u?re<=u:re>=u;n=j<=u?++re:--re)m.push(i[n].new);else l.push(F-j),P.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*_+2*m.length),X.writeUInt16(0),X.writeUInt16(H),X.writeUInt16(k),X.writeUInt16(p),X.writeUInt16(C),le=0,L=d.length;le<L;le++)n=d[le],X.writeUInt16(n);for(X.writeUInt16(0),Me=0,Y=z.length;Me<Y;Me++)n=z[Me],X.writeUInt16(n);for(Ie=0,G=l.length;Ie<G;Ie++)o=l[Ie],X.writeUInt16(o);for(Je=0,Q=P.length;Je<Q;Je++)N=P[Je],X.writeUInt16(N);for(xe=0,te=m.length;xe<te;xe++)M=m[xe],X.writeUInt16(M);return{charMap:i,subtable:X.data,maxGlyphID:E+1}}},r})(),P$=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Mf(r,gd),r.prototype.tag="cmap",r.prototype.parse=function(t){var e,i,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)e=new Z7(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},r.encode=function(t,e){var i,n;return e==null&&(e="macroman"),i=Z7.encode(t,e),(n=new Lg).writeUInt16(0),n.writeUInt16(1),i.table=n.data.concat(i.subtable),i},r})(),XSe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Mf(r,gd),r.prototype.tag="hhea",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},r})(),JSe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Mf(r,gd),r.prototype.tag="OS/2",r.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,i;for(i=[],e=0;e<10;++e)i.push(t.readByte());return i})(),this.charRange=(function(){var e,i;for(i=[],e=0;e<4;++e)i.push(t.readInt());return i})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,i;for(i=[],e=0;e<2;e=++e)i.push(t.readInt());return i})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},r})(),ZSe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Mf(r,gd),r.prototype.tag="post",r.prototype.parse=function(t){var e,i,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)e=t.readByte(),n.push(this.names.push(t.readString(e)));return n;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(t.readUInt32());return l}).call(this)}},r})(),eNe=function(r,t){this.raw=r,this.length=r.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},tNe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Mf(r,gd),r.prototype.tag="name",r.prototype.parse=function(t){var e,i,n,s,a,o,l,c,u,d,p;for(t.pos=this.offset,t.readShort(),e=t.readShort(),o=t.readShort(),i=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},s=u=0,d=i.length;u<d;s=++u)n=i[s],t.pos=n.offset,c=t.readString(n.length),a=new eNe(c,n),l[p=n.nameID]==null&&(l[p]=[]),l[n.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},r})(),iNe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Mf(r,gd),r.prototype.tag="maxp",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},r})(),rNe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Mf(r,gd),r.prototype.tag="hmtx",r.prototype.parse=function(t){var e,i,n,s,a,o,l;for(t.pos=this.offset,this.metrics=[],e=0,o=this.file.hhea.numberOfMetrics;0<=o?e<o:e>o;e=0<=o?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],e=c=0;0<=n?c<n:c>n;e=0<=n?++c:--c)u.push(t.readInt16());return u})(),this.widths=(function(){var c,u,d,p;for(p=[],c=0,u=(d=this.metrics).length;c<u;c++)s=d[c],p.push(s.advance);return p}).call(this),i=this.widths[this.widths.length-1],l=[],e=a=0;0<=n?a<n:a>n;e=0<=n?++a:--a)l.push(this.widths.push(i));return l},r.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},r})(),F$=[].slice,nNe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Mf(r,gd),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(t){var e,i,n,s,a,o,l,c,u,d;return t in this.cache?this.cache[t]:(s=this.file.loca,e=this.file.contents,i=s.indexOf(t),(n=s.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+i,a=(o=new Lg(e.read(n))).readShort(),c=o.readShort(),d=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[t]=a===-1?new aNe(o,c,d,l,u):new sNe(o,a,c,d,l,u),this.cache[t]))},r.prototype.encode=function(t,e,i){var n,s,a,o,l;for(a=[],s=[],o=0,l=e.length;o<l;o++)n=t[e[o]],s.push(a.length),n&&(a=a.concat(n.encode(i)));return s.push(a.length),{table:a,offsets:s}},r})(),sNe=(function(){function r(t,e,i,n,s,a){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=n,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),aNe=(function(){function r(t,e,i,n,s){var a,o;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=n,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return r.prototype.encode=function(){var t,e,i;for(e=new Lg(F$.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},r})(),oNe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Mf(r,gd),r.prototype.tag="loca",r.prototype.parse=function(t){var e,i;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var n,s;for(s=[],i=0,n=this.length;i<n;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var n,s;for(s=[],i=0,n=this.length;i<n;i+=4)s.push(t.readUInt32());return s}).call(this)},r.prototype.indexOf=function(t){return this.offsets[t]},r.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},r.prototype.encode=function(t,e){for(var i=new Uint32Array(this.offsets.length),n=0,s=0,a=0;a<i.length;++a)if(i[a]=n,s<e.length&&e[s]==a){++s,i[a]=n;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(n+=l)}for(var c=new Array(4*i.length),u=0;u<i.length;++u)c[4*u+3]=255&i[u],c[4*u+2]=(65280&i[u])>>8,c[4*u+1]=(16711680&i[u])>>16,c[4*u]=(4278190080&i[u])>>24;return c},r})(),lNe=(function(){function r(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var t,e,i,n,s;for(e in n=this.font.cmap.tables[0].codeMap,t={},s=this.subset)i=s[e],t[e]=n[i];return t},r.prototype.glyphsFor=function(t){var e,i,n,s,a,o,l;for(n={},a=0,o=t.length;a<o;a++)n[s=t[a]]=this.font.glyf.glyphFor(s);for(s in e=[],n)(i=n[s])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(s in l=this.glyphsFor(e))i=l[s],n[s]=i;return n},r.prototype.encode=function(t,e){var i,n,s,a,o,l,c,u,d,p,m,y,M,w,b;for(n in i=P$.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),m={0:0},b=i.charMap)m[(l=b[n]).old]=l.new;for(y in p=i.maxGlyphID,a)y in m||(m[y]=p++);return u=(function(D){var E,N;for(E in N={},D)N[D[E]]=E;return N})(m),d=Object.keys(u).sort(function(D,E){return D-E}),M=(function(){var D,E,N;for(N=[],D=0,E=d.length;D<E;D++)o=d[D],N.push(u[o]);return N})(),s=this.font.glyf.encode(a,M,m),c=this.font.loca.encode(s.offsets,M),w={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},r})();Vi.API.PDFObject=(function(){var r;function t(){}return r=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,n,s,a;if(Array.isArray(e))return"["+(function(){var o,l,c;for(c=[],o=0,l=e.length;o<l;o++)i=e[o],c.push(t.convert(i));return c})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+r(e.getUTCFullYear(),4)+r(e.getUTCMonth(),2)+r(e.getUTCDate(),2)+r(e.getUTCHours(),2)+r(e.getUTCMinutes(),2)+r(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(n in s=["<<"],e)a=e[n],s.push("/"+n+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+e},t})();function B$(r,t,e,i,n){i=i||{};var s=1.15,a=n.internal.scaleFactor,o=n.internal.getFontSize()/a,l=n.getLineHeightFactor?n.getLineHeightFactor():s,c=o*l,u=/\r\n|\r|\n/g,d="",p=1;if((i.valign==="middle"||i.valign==="bottom"||i.halign==="center"||i.halign==="right")&&(d=typeof r=="string"?r.split(u):r,p=d.length||1),e+=o*(2-s),i.valign==="middle"?e-=p/2*c:i.valign==="bottom"&&(e-=p*c),i.halign==="center"||i.halign==="right"){var m=o;if(i.halign==="center"&&(m*=.5),d&&p>=1){for(var y=0;y<d.length;y++)n.text(d[y],t-n.getStringUnitWidth(d[y])*m,e),e+=c;return n}t-=n.getStringUnitWidth(r)*m}return i.halign==="justify"?n.text(r,t,e,{maxWidth:i.maxWidth||100,align:"justify"}):n.text(r,t,e),n}var eH={},x1=(function(){function r(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:eH=t},r.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},r.prototype.applyStyles=function(t,e){var i,n,s;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var u=r.unifyColor(t.fillColor);u&&(i=this.jsPDFDocument).setFillColor.apply(i,u),u=r.unifyColor(t.textColor),u&&(n=this.jsPDFDocument).setTextColor.apply(n,u),u=r.unifyColor(t.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},r.prototype.splitTextToSize=function(t,e,i){return this.jsPDFDocument.splitTextToSize(t,e,i)},r.prototype.rect=function(t,e,i,n,s){return this.jsPDFDocument.rect(t,e,i,n,s)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return eH||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r})(),Sk=function(r,t){return Sk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])},Sk(r,t)};function U$(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Sk(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var V$=(function(r){U$(t,r);function t(e){var i=r.call(this)||this;return i._element=e,i}return t})(Array);function cNe(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function uNe(r){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[r]}function ES(r,t,e){e.applyStyles(t,!0);var i=Array.isArray(r)?r:[r],n=i.map(function(s){return e.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return n}function H$(r,t,e,i){var n=t.settings.tableLineWidth,s=t.settings.tableLineColor;r.applyStyles({lineWidth:n,lineColor:s});var a=W$(n,!1);a&&r.rect(e.x,e.y,t.getWidth(r.pageSize().width),i.y-e.y,a)}function W$(r,t){var e=r>0,i=t||t===0;return e&&i?"DF":e?"S":i?"F":null}function BN(r,t){var e,i,n,s;if(r=r||t,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=t}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(e=r.left)!==null&&e!==void 0?e:t,top:(i=r.top)!==null&&i!==void 0?i:t,right:(n=r.right)!==null&&n!==void 0?n:t,bottom:(s=r.bottom)!==null&&s!==void 0?s:t}):(typeof r!="number"&&(r=t),{top:r,right:r,bottom:r,left:r})}function Y$(r,t){var e=BN(t.settings.margin,0);return r.pageSize().width-(e.left+e.right)}function hNe(r,t,e,i,n){var s={},a=1.3333333333333333,o=o5(t,function(E){return n.getComputedStyle(E).backgroundColor});o!=null&&(s.fillColor=o);var l=o5(t,function(E){return n.getComputedStyle(E).color});l!=null&&(s.textColor=l);var c=fNe(i,e);c&&(s.cellPadding=c);var u="borderTopColor",d=a*e,p=i.borderTopWidth;if(i.borderBottomWidth===p&&i.borderRightWidth===p&&i.borderLeftWidth===p){var m=(parseFloat(p)||0)/d;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/d,right:(parseFloat(i.borderRightWidth)||0)/d,bottom:(parseFloat(i.borderBottomWidth)||0)/d,left:(parseFloat(i.borderLeftWidth)||0)/d},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var y=o5(t,function(E){return n.getComputedStyle(E)[u]});y!=null&&(s.lineColor=y);var M=["left","right","center","justify"];M.indexOf(i.textAlign)!==-1&&(s.halign=i.textAlign),M=["middle","bottom","top"],M.indexOf(i.verticalAlign)!==-1&&(s.valign=i.verticalAlign);var w=parseInt(i.fontSize||"");isNaN(w)||(s.fontSize=w/a);var b=dNe(i);b&&(s.fontStyle=b);var D=(i.fontFamily||"").toLowerCase();return r.indexOf(D)!==-1&&(s.font=D),s}function dNe(r){var t="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(t="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(t+="italic"),t}function o5(r,t){var e=q$(r,t);if(!e)return null;var i=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!i||!Array.isArray(i))return null;var n=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3])],s=parseInt(i[4]);return s===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function q$(r,t){var e=t(r);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?r.parentElement==null?null:q$(r.parentElement,t):e}function fNe(r,t){var e=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],i=96/(72/t),n=(parseInt(r.lineHeight)-parseInt(r.fontSize))/t/2,s=e.map(function(o){return parseInt(o||"0")/i}),a=BN(s,0);return n>a.top&&(a.top=n),n>a.bottom&&(a.bottom=n),a}function Q$(r,t,e,i,n){var s,a;i===void 0&&(i=!1),n===void 0&&(n=!1);var o;typeof t=="string"?o=e.document.querySelector(t):o=t;var l=Object.keys(r.getFontList()),c=r.scaleFactor(),u=[],d=[],p=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:d,foot:p};for(var m=0;m<o.rows.length;m++){var y=o.rows[m],M=(a=(s=y?.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),w=pNe(l,c,e,y,i,n);w&&(M==="thead"?u.push(w):M==="tfoot"?p.push(w):d.push(w))}return{head:u,body:d,foot:p}}function pNe(r,t,e,i,n,s){for(var a=new V$(i),o=0;o<i.cells.length;o++){var l=i.cells[o],c=e.getComputedStyle(l);if(n||c.display!=="none"){var u=void 0;s&&(u=hNe(r,l,t,c,e)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:mNe(l)})}}var d=e.getComputedStyle(i);if(a.length>0&&(n||d.display!=="none"))return a}function mNe(r){var t=r.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function gNe(r,t,e){for(var i=0,n=[r,t,e];i<n.length;i++){var s=n[i];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Ap(r,t,e,i,n){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(r),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function G$(r,t){var e=new x1(r),i=e.getDocumentOptions(),n=e.getGlobalOptions();gNe(n,i,t);var s=Ap({},n,i,t),a;typeof window<"u"&&(a=window);var o=vNe(n,i,t),l=yNe(n,i,t),c=xNe(e,s),u=wNe(e,s,a);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function vNe(r,t,e){for(var i={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(l){if(l==="columnStyles"){var c=r[l],u=t[l],d=e[l];i.columnStyles=Ap({},c,u,d)}else{var p=[r,t,e],m=p.map(function(y){return y[l]||{}});i[l]=Ap({},m[0],m[1],m[2])}},s=0,a=Object.keys(i);s<a.length;s++){var o=a[s];n(o)}return i}function yNe(r,t,e){for(var i=[r,t,e],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=i;s<a.length;s++){var o=a[s];o.didParseCell&&n.didParseCell.push(o.didParseCell),o.willDrawCell&&n.willDrawCell.push(o.willDrawCell),o.didDrawCell&&n.didDrawCell.push(o.didDrawCell),o.willDrawPage&&n.willDrawPage.push(o.willDrawPage),o.didDrawPage&&n.didDrawPage.push(o.didDrawPage)}return n}function xNe(r,t){var e,i,n,s,a,o,l,c,u,d,p,m,y=BN(t.margin,40/r.scaleFactor()),M=(e=MNe(r,t.startY))!==null&&e!==void 0?e:y.top,w;t.showFoot===!0?w="everyPage":t.showFoot===!1?w="never":w=(i=t.showFoot)!==null&&i!==void 0?i:"everyPage";var b;t.showHead===!0?b="everyPage":t.showHead===!1?b="never":b=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var D=(s=t.useCss)!==null&&s!==void 0?s:!1,E=t.theme||(D?"plain":"striped"),N=!!t.horizontalPageBreak,B=(a=t.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:D,theme:E,startY:M,margin:y,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:b,showFoot:w,tableLineWidth:(d=t.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:N,horizontalPageBreakRepeat:B,horizontalPageBreakBehaviour:(m=t.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function MNe(r,t){var e=r.getLastAutoTable(),i=r.scaleFactor(),n=r.pageNumber(),s=!1;if(e&&e.startPageNumber){var a=e.startPageNumber+e.pageNumber-1;s=a===n}return typeof t=="number"?t:(t==null||t===!1)&&s&&e?.finalY!=null?e.finalY+20/i:null}function wNe(r,t,e){var i=t.head||[],n=t.body||[],s=t.foot||[];if(t.html){var a=t.includeHiddenHtml;if(e){var o=Q$(r,t.html,e,a,t.useCss)||{};i=o.head||i,n=o.body||i,s=o.foot||i}else console.error("Cannot parse html in non browser environment")}var l=t.columns||TNe(i,n,s);return{columns:l,head:i,body:n,foot:s}}function TNe(r,t,e){var i=r[0]||t[0]||e[0]||[],n=[];return Object.keys(i).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(i)?o=i[parseInt(s)]:o=i[s],typeof o=="object"&&!Array.isArray(o)&&(a=o?.colSpan||1);for(var l=0;l<a;l++){var c=void 0;Array.isArray(i)?c=n.length:c=s+(l>0?"_".concat(l):"");var u={dataKey:c};n.push(u)}}),n}var Nk=(function(){function r(t,e,i){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=i,this.doc=t.getDocument()}return r})(),bNe=(function(r){U$(t,r);function t(e,i,n,s,a,o){var l=r.call(this,e,i,o)||this;return l.cell=n,l.row=s,l.column=a,l.section=s.section,l}return t})(Nk),DNe=(function(){function r(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return r.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},r.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,i){return e+i.getMaxCellHeight(t)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(t,e,i,n,s,a){for(var o=0,l=e;o<l.length;o++){var c=l[o],u=new bNe(t,this,i,n,s,a),d=c(u)===!1;if(i.text=Array.isArray(i.text)?i.text:[i.text],d)return!1}return!0},r.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var i=0,n=this.hooks.didDrawPage;i<n.length;i++){var s=n[i];s(new Nk(t,this,e))}},r.prototype.callWillDrawPageHooks=function(t,e){for(var i=0,n=this.hooks.willDrawPage;i<n.length;i++){var s=n[i];s(new Nk(t,this,e))}},r.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(n,s){return n+s.wrappedWidth},0);return e}else{var i=this.settings.margin;return t-i.left-i.right}},r})(),K$=(function(){function r(t,e,i,n,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof V$&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=i,this.cells=n,this.spansMultiplePages=s}return r.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(i,n){var s;return Math.max(i,((s=e.cells[n.index])===null||s===void 0?void 0:s.height)||0)},0)},r.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(i){var n=e.cells[i.index];return n?n.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},r.prototype.getMinimumRowHeight=function(t,e){var i=this;return t.reduce(function(n,s){var a=i.cells[s.index];if(!a)return 0;var o=e.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),c=l+o;return c>n?c:n},0)},r})(),$$=(function(){function r(t,e,i){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=i,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return r.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var i;if(this.styles.halign==="right")i=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");i=this.x+n/2+this.padding("left")}else i=this.x+this.padding("left");return{x:i,y:t}},r.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var i=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*e,s=i*n+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},r.prototype.padding=function(t){var e=BN(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},r})(),ENe=(function(){function r(t,e,i){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=i}return r.prototype.getMaxCustomCellWidth=function(t){for(var e=0,i=0,n=t.allRows();i<n.length;i++){var s=n[i],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(e=Math.max(e,a.styles.cellWidth))}return e},r})();function ANe(r,t){SNe(r,t);var e=[],i=0;t.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(t);a?s.width=a:(s.width=s.wrappedWidth,e.push(s)),i+=s.width});var n=t.getWidth(r.pageSize().width)-i;n&&(n=Ik(e,n,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),n&&(n=Ik(e,n,function(s){return s.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/r.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),INe(t),CNe(t,r),NNe(t)}function SNe(r,t){var e=r.scaleFactor(),i=t.settings.horizontalPageBreak,n=Y$(r,t);t.allRows().forEach(function(s){for(var a=0,o=t.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(r,u,c,s,l,null);var d=c.padding("horizontal");c.contentWidth=ES(c.text,c.styles,r)+d;var p=ES(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,r);if(c.minReadableWidth=p+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||i===!0)c.contentWidth>n?(c.minWidth=n,c.wrappedWidth=n):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var m=10/e;c.minWidth=c.styles.minCellWidth||m,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(s){for(var a=0,o=t.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function Ik(r,t,e){for(var i=t,n=r.reduce(function(m,y){return m+y.wrappedWidth},0),s=0;s<r.length;s++){var a=r[s],o=a.wrappedWidth/n,l=i*o,c=a.width+l,u=e(a),d=c<u?u:c;t-=d-a.width,a.width=d}if(t=Math.round(t*1e10)/1e10,t){var p=r.filter(function(m){return t<0?m.width>e(m):!0});p.length&&(t=Ik(p,t,e))}return t}function NNe(r){for(var t={},e=1,i=r.allRows(),n=0;n<i.length;n++)for(var s=i[n],a=0,o=r.columns;a<o.length;a++){var l=o[a],c=t[l.index];if(e>1)e--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,e=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=s.cells[l.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var d=i.length-n,p=u.rowSpan>d?d:u.rowSpan;t[l.index]={cell:u,left:p,row:s}}}}}function INe(r){for(var t=r.allRows(),e=0;e<t.length;e++)for(var i=t[e],n=null,s=0,a=0,o=0;o<r.columns.length;o++){var l=r.columns[o];if(a-=1,a>1&&r.columns[o+1])s+=l.width,delete i.cells[l.index];else if(n){var c=n;delete i.cells[l.index],n=null,c.width=l.width+s}else{var c=i.cells[l.index];if(!c)continue;if(a=c.colSpan,s=0,c.colSpan>1){n=c,s+=l.width;continue}c.width=l.width+s}}}function CNe(r,t){for(var e={count:0,height:0},i=0,n=r.allRows();i<n.length;i++){for(var s=n[i],a=0,o=r.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=tH(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=tH(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var d=c.styles.overflow(c.text,u);typeof d=="string"?c.text=[d]:c.text=d}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=c.contentHeight/c.rowSpan;c.rowSpan>1&&e.count*e.height<p*c.rowSpan?e={height:p,count:c.rowSpan}:e&&e.count>0&&e.height>p&&(p=e.height),p>s.height&&(s.height=p)}}e.count--}}function tH(r,t,e,i,n){return r.map(function(s){return ONe(s,t,e,i,n)})}function ONe(r,t,e,i,n){var s=1e4*i.scaleFactor();if(t=Math.ceil(t*s)/s,t>=ES(r,e,i))return r;for(;t<ES(r+n,e,i)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+n}function X$(r,t){var e=new x1(r),i=kNe(t,e.scaleFactor()),n=new DNe(t,i);return ANe(e,n),e.applyStyles(e.userStyles),n}function kNe(r,t){var e=r.content,i=jNe(e.columns);if(e.head.length===0){var n=iH(i,"head");n&&e.head.push(n)}if(e.foot.length===0){var n=iH(i,"foot");n&&e.foot.push(n)}var s=r.settings.theme,a=r.styles;return{columns:i,head:l5("head",e.head,i,a,s,t),body:l5("body",e.body,i,a,s,t),foot:l5("foot",e.foot,i,a,s,t)}}function l5(r,t,e,i,n,s){var a={},o=t.map(function(l,c){for(var u=0,d={},p=0,m=0,y=0,M=e;y<M.length;y++){var w=M[y];if(a[w.index]==null||a[w.index].left===0)if(m===0){var b=void 0;Array.isArray(l)?b=l[w.index-p-u]:b=l[w.dataKey];var D={};typeof b=="object"&&!Array.isArray(b)&&(D=b?.styles||{});var E=_Ne(r,w,c,n,i,s,D),N=new $$(b,E,r);d[w.dataKey]=N,d[w.index]=N,m=N.colSpan-1,a[w.index]={left:N.rowSpan-1,times:m}}else m--,p++;else a[w.index].left--,m=a[w.index].times,u++}return new K$(l,c,r,d)});return o}function iH(r,t){var e={};return r.forEach(function(i){if(i.raw!=null){var n=LNe(t,i.raw);n!=null&&(e[i.dataKey]=n)}}),Object.keys(e).length>0?e:null}function LNe(r,t){if(r==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(r==="foot"&&typeof t=="object")return t.footer;return null}function jNe(r){return r.map(function(t,e){var i,n;return typeof t=="object"?n=(i=t.dataKey)!==null&&i!==void 0?i:e:n=e,new ENe(n,t,e)})}function _Ne(r,t,e,i,n,s,a){var o=uNe(i),l;r==="head"?l=n.headStyles:r==="body"?l=n.bodyStyles:r==="foot"&&(l=n.footStyles);var c=Ap({},o.table,o[r],n.styles,l),u=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},d=r==="body"?u:{},p=r==="body"&&e%2===0?Ap({},o.alternateRow,n.alternateRowStyles):{},m=cNe(s),y=Ap({},m,c,p,d);return Ap(y,a)}function zNe(r,t,e){var i;e===void 0&&(e={});var n=Y$(r,t),s=new Map,a=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var m=t.columns.find(function(y){return y.dataKey===p||y.index===p});m&&!s.has(m.index)&&(s.set(m.index,!0),a.push(m.index),o.push(t.columns[m.index]),n-=m.wrappedWidth)});for(var c=!0,u=(i=e?.start)!==null&&i!==void 0?i:0;u<t.columns.length;){if(s.has(u)){u++;continue}var d=t.columns[u].wrappedWidth;if(c||n>=d)c=!1,a.push(u),o.push(t.columns[u]),n-=d;else break;u++}return{colIndexes:a,columns:o,lastIndex:u-1}}function RNe(r,t){for(var e=[],i=0;i<t.columns.length;i++){var n=zNe(r,t,{start:i});n.columns.length&&(e.push(n),i=n.lastIndex)}return e}function J$(r,t){var e=t.settings,i=e.startY,n=e.margin,s={x:n.left,y:i},a=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=i+n.bottom+a;if(e.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(p,m){return p+m.height},0);o+=c}var u=new x1(r);(e.pageBreak==="always"||e.startY!=null&&o>u.pageSize().height)&&(eX(u),s.y=n.top),t.callWillDrawPageHooks(u,s);var d=Ap({},s);t.startPageNumber=u.pageNumber(),e.horizontalPageBreak?PNe(u,t,d,s):(u.applyStyles(u.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(p){return Gp(u,t,p,s,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(p,m){var y=m===t.body.length-1;AS(u,t,p,y,d,s,t.columns)}),u.applyStyles(u.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(p){return Gp(u,t,p,s,t.columns)})),H$(u,t,d,s),t.callEndPageHooks(u,s),t.finalY=s.y,r.lastAutoTable=t,u.applyStyles(u.userStyles)}function PNe(r,t,e,i){var n=RNe(r,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(c,u){r.applyStyles(r.userStyles),u>0?Iw(r,t,e,i,c.columns,!0):rH(r,t,i,c.columns),FNe(r,t,e,i,c.columns),c5(r,t,i,c.columns)});else for(var a=-1,o=n[0],l=function(){var c=a;if(o){r.applyStyles(r.userStyles);var u=o.columns;a>=0?Iw(r,t,e,i,u,!0):rH(r,t,i,u),c=nH(r,t,a+1,i,u),c5(r,t,i,u)}var d=c-a;n.slice(1).forEach(function(p){r.applyStyles(r.userStyles),Iw(r,t,e,i,p.columns,!0),nH(r,t,a+1,i,p.columns,d),c5(r,t,i,p.columns)}),a=c};a<t.body.length-1;)l()}function rH(r,t,e,i){var n=t.settings;r.applyStyles(r.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(s){return Gp(r,t,s,e,i)})}function FNe(r,t,e,i,n){r.applyStyles(r.userStyles),t.body.forEach(function(s,a){var o=a===t.body.length-1;AS(r,t,s,o,e,i,n)})}function nH(r,t,e,i,n,s){r.applyStyles(r.userStyles),s=s??t.body.length;var a=Math.min(e+s,t.body.length),o=-1;return t.body.slice(e,a).forEach(function(l,c){var u=e+c===t.body.length-1,d=Z$(r,t,u,i);l.canEntireRowFit(d,n)&&(Gp(r,t,l,i,n),o=e+c)}),o}function c5(r,t,e,i){var n=t.settings;r.applyStyles(r.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(s){return Gp(r,t,s,e,i)})}function BNe(r,t,e){var i=e.getLineHeight(r.styles.fontSize),n=r.padding("vertical"),s=Math.floor((t-n)/i);return Math.max(0,s)}function UNe(r,t,e,i){var n={};r.spansMultiplePages=!0,r.height=0;for(var s=0,a=0,o=e.columns;a<o.length;a++){var l=o[a],c=r.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new $$(c.raw,c.styles,c.section);u=Ap(u,c),u.text=[];var d=BNe(c,t,i);c.text.length>d&&(u.text=c.text.splice(d,c.text.length));var p=i.scaleFactor(),m=i.getLineHeightFactor();c.contentHeight=c.getContentHeight(p,m),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>r.height&&(r.height=c.contentHeight),u.contentHeight=u.getContentHeight(p,m),u.contentHeight>s&&(s=u.contentHeight),n[l.index]=u}}var y=new K$(r.raw,-1,r.section,n,!0);y.height=s;for(var M=0,w=e.columns;M<w.length;M++){var l=w[M],u=y.cells[l.index];u&&(u.height=y.height);var c=r.cells[l.index];c&&(c.height=r.height)}return y}function VNe(r,t,e,i){var n=r.pageSize().height,s=i.settings.margin,a=s.top+s.bottom,o=n-a;t.section==="body"&&(o-=i.getHeadHeight(i.columns)+i.getFootHeight(i.columns));var l=t.getMinimumRowHeight(i.columns,r),c=l<e;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(i.columns),d=t.getMaxCellHeight(i.columns)>o;return d?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||i.settings.rowPageBreak==="avoid")}function AS(r,t,e,i,n,s,a){var o=Z$(r,t,i,s);if(e.canEntireRowFit(o,a))Gp(r,t,e,s,a);else if(VNe(r,e,o,t)){var l=UNe(e,o,t,r);Gp(r,t,e,s,a),Iw(r,t,n,s,a),AS(r,t,l,i,n,s,a)}else Iw(r,t,n,s,a),AS(r,t,e,i,n,s,a)}function Gp(r,t,e,i,n){i.x=t.settings.margin.left;for(var s=0,a=n;s<a.length;s++){var o=a[s],l=e.cells[o.index];if(!l){i.x+=o.width;continue}r.applyStyles(l.styles),l.x=i.x,l.y=i.y;var c=t.callCellHooks(r,t.hooks.willDrawCell,l,e,o,i);if(c===!1){i.x+=o.width;continue}HNe(r,l,i);var u=l.getTextPos();B$(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},r.getDocument()),t.callCellHooks(r,t.hooks.didDrawCell,l,e,o,i),i.x+=o.width}i.y+=e.height}function HNe(r,t,e){var i=t.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof i.lineWidth=="number"){var n=W$(i.lineWidth,i.fillColor);n&&r.rect(t.x,e.y,t.width,t.height,n)}else typeof i.lineWidth=="object"&&(i.fillColor&&r.rect(t.x,e.y,t.width,t.height,"F"),WNe(r,t,e,i.lineWidth))}function WNe(r,t,e,i){var n,s,a,o;i.top&&(n=e.x,s=e.y,a=e.x+t.width,o=e.y,i.right&&(a+=.5*i.right),i.left&&(n-=.5*i.left),l(i.top,n,s,a,o)),i.bottom&&(n=e.x,s=e.y+t.height,a=e.x+t.width,o=e.y+t.height,i.right&&(a+=.5*i.right),i.left&&(n-=.5*i.left),l(i.bottom,n,s,a,o)),i.left&&(n=e.x,s=e.y,a=e.x,o=e.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(o+=.5*i.bottom),l(i.left,n,s,a,o)),i.right&&(n=e.x+t.width,s=e.y,a=e.x+t.width,o=e.y+t.height,i.top&&(s-=.5*i.top),i.bottom&&(o+=.5*i.bottom),l(i.right,n,s,a,o));function l(c,u,d,p,m){r.getDocument().setLineWidth(c),r.getDocument().line(u,d,p,m,"S")}}function Z$(r,t,e,i){var n=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&e)&&(n+=t.getFootHeight(t.columns)),r.pageSize().height-i.y-n}function Iw(r,t,e,i,n,s){n===void 0&&(n=[]),s===void 0&&(s=!1),r.applyStyles(r.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(o){return Gp(r,t,o,i,n)}),t.callEndPageHooks(r,i);var a=t.settings.margin;H$(r,t,e,i),eX(r),t.pageNumber++,i.x=a.left,i.y=a.top,e.y=a.top,t.callWillDrawPageHooks(r,i),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Gp(r,t,o,i,n)}),r.applyStyles(r.userStyles))}function eX(r){var t=r.pageNumber();r.setPage(t+1);var e=r.pageNumber();return e===t?(r.addPage(),!0):!1}function YNe(r){r.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],n=G$(this,i),s=X$(this,n);return J$(this,s),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(t,e,i,n){B$(t,e,i,n,this)},r.API.autoTableSetDefaults=function(t){return x1.setDefaults(t,this),this},r.autoTableSetDefaults=function(t,e){x1.setDefaults(t,e)},r.API.autoTableHtmlToJson=function(t,e){var i;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new x1(this),s=Q$(n,t,window,e,!1),a=s.head,o=s.body,l=((i=a[0])===null||i===void 0?void 0:i.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var u5;function qNe(r,t){var e=G$(r,t),i=X$(r,e);J$(r,i)}try{if(typeof window<"u"&&window){var sH=window,aH=sH.jsPDF||((u5=sH.jspdf)===null||u5===void 0?void 0:u5.jsPDF);aH&&YNe(aH)}}catch(r){console.error("Could not apply autoTable plugin",r)}class S0{static getCurrentUserId(){const t=wl.currentUser;if(!t)throw new Error("No user is currently signed in");return t.uid}static generateInvoiceNumber(){const t=new Date().getFullYear(),e=Date.now().toString().slice(-6);return`INV-${t}-${e}`}static async createInvoiceFromJob(t,e={}){try{const i=this.getCurrentUserId(),n=await rg.getJob(t);if(!n.success||!n.job)return{success:!1,error:"Job not found"};const s=n.job;if(s.status!=="completed")return{success:!1,error:"Can only create invoices for completed jobs"};let a=null;if(s.customerId){const M=await Xh.getCustomer(s.customerId);M.success&&M.customer&&(a=M.customer)}if(!a&&s.customerName){const M=await Xh.getCustomers(100);M.success&&M.customers&&(a=M.customers.find(w=>w.name&&w.name.trim().toLowerCase()===s.customerName.trim().toLowerCase()))}if(!a)return{success:!1,error:`Customer "${s.customerName||"Unknown"}" not found. Please ensure the customer exists in your customer list.`};if(!a.emailConsent)return{success:!1,error:"Customer has not consented to email invoices"};const o=await this.getUserProfile();if(!o?.companyId)return{success:!1,error:"Company not found"};const l=await $o.getCompany(o.companyId);if(!l.success||!l.company)return{success:!1,error:"Company not found"};const c=l.company,u=this.generateInvoiceNumber(),d=new Date().toISOString(),p=e.dueDate||this.calculateDueDate(d,e.paymentTerms||"net30"),m={invoiceNumber:u,jobId:t,customerId:a.id,customerName:a.name,customerEmail:a.email||"",customerAddress:this.formatCustomerAddress(a),companyId:c.id,companyName:c.name,companyAddress:this.formatCompanyAddress(c),companyPhone:c.phone,companyEmail:c.email,companyLogo:c.logo||"",status:"drafted",invoiceDate:d,dueDate:p,paymentTerms:e.paymentTerms||"net30",items:this.buildInvoiceItems(s,e),subtotal:e.subtotal||s.totalCost||0,tax:e.tax||0,taxRate:e.taxRate||0,total:this.calculateTotal(e.subtotal||s.totalCost||0,e.tax||0),notes:e.notes||"",terms:e.terms||this.getDefaultTerms(),userId:i,createdAt:d,updatedAt:d,sentAt:null,viewedAt:null,paidAt:null},y=await Cp(Pn(Ai,"invoices"),m);return{success:!0,invoice:{id:y.id,...m},invoiceId:y.id}}catch(i){return console.error("Error creating invoice:",i),{success:!1,error:i.message||"Failed to create invoice"}}}static buildInvoiceItems(t,e){const i=[];return i.push({description:t.serviceType||"Service",quantity:1,unitPrice:e.subtotal||t.totalCost||0,amount:e.subtotal||t.totalCost||0,notes:t.actualWorkDone||t.completionNotes||""}),e.additionalItems&&Array.isArray(e.additionalItems)&&e.additionalItems.forEach(n=>{i.push({description:n.description||"",quantity:n.quantity||1,unitPrice:n.unitPrice||0,amount:(n.quantity||1)*(n.unitPrice||0),notes:n.notes||""})}),i}static calculateDueDate(t,e){const i=new Date(t);return e==="net15"?i.setDate(i.getDate()+15):e==="net30"?i.setDate(i.getDate()+30):e==="net60"?i.setDate(i.getDate()+60):e==="dueOnReceipt"?i.setDate(i.getDate()):i.setDate(i.getDate()+30),i.toISOString()}static calculateTotal(t,e){return t+e}static formatCompanyAddress(t){const e=[];if(t.address&&e.push(t.address),t.city||t.state||t.zipCode){const i=[t.city,t.state,t.zipCode].filter(Boolean).join(", ");i&&e.push(i)}return e.join(`
`)}static formatCustomerAddress(t){if(t.address)return t.address;const e=[];if((t.street||t.addressLine1)&&e.push(t.street||t.addressLine1),t.city||t.state||t.zipCode){const i=[t.city,t.state,t.zipCode].filter(Boolean).join(", ");i&&e.push(i)}return e.length>0?e.join(`
`):""}static getDefaultTerms(){return"Payment is due within the terms specified above. Late payments may be subject to a late fee."}static async getUserProfile(){try{const t=this.getCurrentUserId(),e=await vh(Br(Ai,"users",t));return e.exists()?{id:e.id,...e.data()}:null}catch(t){return console.error("Error getting user profile:",t),null}}static async generatePDF(t){try{const e=new Vi,i=e.internal.pageSize.getWidth(),n=20;let s=n,a=null;if(t.companyLogo)try{a=await this.loadImage(t.companyLogo)}catch(d){console.warn("Could not load logo:",d)}a&&e.addImage(a,"PNG",n,s,40,15);const o=a?i-n-80:n;e.setFontSize(16),e.setFont("helvetica","bold"),e.text(t.companyName||"Company Name",o,s+10),e.setFontSize(10),e.setFont("helvetica","normal"),s+=15,t.companyAddress&&t.companyAddress.split(`
`).forEach(p=>{e.text(p,o,s),s+=5}),t.companyPhone&&(e.text(`Phone: ${t.companyPhone}`,o,s),s+=5),t.companyEmail&&(e.text(`Email: ${t.companyEmail}`,o,s),s+=5),s+=10,e.setFontSize(20),e.setFont("helvetica","bold"),e.text("INVOICE",n,s),e.setFontSize(10),e.setFont("helvetica","normal"),s+=10,e.text(`Invoice #: ${t.invoiceNumber}`,n,s),s+=5,e.text(`Date: ${this.formatDate(t.invoiceDate)}`,n,s),s+=5,e.text(`Due Date: ${this.formatDate(t.dueDate)}`,n,s),s+=5,e.text(`Payment Terms: ${t.paymentTerms||"Net 30"}`,n,s),s+=10,e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Bill To:",n,s),e.setFontSize(10),e.setFont("helvetica","normal"),s+=7,e.text(t.customerName||"Customer",n,s),s+=5,t.customerAddress&&t.customerAddress.split(`
`).forEach(p=>{e.text(p,n,s),s+=5}),t.customerEmail&&(e.text(t.customerEmail,n,s),s+=5),s+=10;const l=t.items.map(d=>[d.description||"",d.quantity||1,this.formatCurrency(d.unitPrice||0),this.formatCurrency(d.amount||0)]);qNe(e,{startY:s,head:[["Description","Qty","Unit Price","Amount"]],body:l,theme:"striped",headStyles:{fillColor:[16,185,129]},styles:{fontSize:9},columnStyles:{1:{halign:"center"},2:{halign:"right"},3:{halign:"right"}}}),s=e.lastAutoTable.finalY+10;const c=i-n-60;e.setFontSize(10),e.text("Subtotal:",c,s),e.text(this.formatCurrency(t.subtotal||0),i-n,s,{align:"right"}),s+=7,t.tax&&t.tax>0&&(e.text(`Tax (${t.taxRate||0}%):`,c,s),e.text(this.formatCurrency(t.tax||0),i-n,s,{align:"right"}),s+=7),e.setFont("helvetica","bold"),e.setFontSize(12),e.text("Total:",c,s),e.text(this.formatCurrency(t.total||0),i-n,s,{align:"right"}),s+=15,t.notes&&(e.setFontSize(10),e.setFont("helvetica","bold"),e.text("Notes:",n,s),s+=7,e.setFont("helvetica","normal"),e.splitTextToSize(t.notes,i-2*n).forEach(p=>{e.text(p,n,s),s+=5}),s+=5),t.terms&&(e.setFontSize(9),e.setFont("helvetica","italic"),e.splitTextToSize(t.terms,i-2*n).forEach(p=>{e.text(p,n,s),s+=4}));const u=e.output("blob");return{success:!0,pdfBlob:u,pdfUrl:URL.createObjectURL(u)}}catch(e){return console.error("Error generating PDF:",e),{success:!1,error:e.message||"Failed to generate PDF"}}}static loadImage(t){return new Promise((e,i)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>e(n),n.onerror=i,n.src=t})}static formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}static formatCurrency(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}static async getInvoice(t){try{const e=await vh(Br(Ai,"invoices",t));return e.exists()?{success:!0,invoice:{id:e.id,...e.data()}}:{success:!1,error:"Invoice not found"}}catch(e){return console.error("Error getting invoice:",e),{success:!1,error:e.message||"Failed to get invoice"}}}static async getInvoices(t=50,e={}){try{const i=this.getCurrentUserId();let n=Hs(Pn(Ai,"invoices"),qn("userId","==",i),vu("invoiceDate","desc"),ZL(t));return e.status&&(n=Hs(n,qn("status","==",e.status))),e.customerId&&(n=Hs(n,qn("customerId","==",e.customerId))),{success:!0,invoices:(await Wa(n)).docs.map(o=>({id:o.id,...o.data()}))}}catch(i){return console.error("Error getting invoices:",i),{success:!1,error:i.message||"Failed to get invoices"}}}static async updateInvoiceStatus(t,e,i={}){try{const n={status:e,updatedAt:new Date().toISOString(),...i};return e==="sent"&&(n.sentAt=new Date().toISOString()),e==="viewed"&&(n.viewedAt=new Date().toISOString()),e==="paid"&&(n.paidAt=new Date().toISOString()),await ql(Br(Ai,"invoices",t),n),{success:!0}}catch(n){return console.error("Error updating invoice status:",n),{success:!1,error:n.message||"Failed to update invoice status"}}}static async sendInvoiceEmail(t){try{const e=wl.currentUser;if(!e)return{success:!1,error:"You must be authenticated to send invoices"};const i=await e.getIdToken(!0);if(console.log("Auth check - User ID:",e.uid),console.log("Auth check - Token obtained:",!!i),!i)return{success:!1,error:"Failed to obtain authentication token"};const n="https://us-central1-mi-factotum-field-service.cloudfunctions.net/sendInvoiceEmail";console.log("Calling Cloud Function via HTTP with invoiceId:",t),console.log("Auth state check - currentUser:",wl.currentUser?.uid);const s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({invoiceId:t}),mode:"cors"});let a;try{a=await s.json()}catch{const c=await s.text();throw console.error("Failed to parse response as JSON:",c),new Error(`Server error: ${s.status} ${s.statusText}`)}if(!s.ok)throw console.error("Response error:",a),new Error(a.error||a.message||`HTTP ${s.status}`);const o=a;return o&&o.success?{success:!0,message:o.message||"Invoice sent successfully"}:{success:!1,error:o?.error||"Failed to send invoice"}}catch(e){console.error("Error sending invoice email:",e);let i="Failed to send invoice email";return e.code==="functions/unauthenticated"?i="You must be authenticated to send invoices":e.code==="functions/permission-denied"?i="You do not have permission to send this invoice":e.code==="functions/invalid-argument"?i="Invalid invoice data":e.code==="functions/not-found"?i="Invoice, company, or customer not found":e.code==="functions/failed-precondition"?i=e.message||"Customer has not consented to email invoices":e.message&&(i=e.message),{success:!1,error:i}}}}const QNe=()=>{const[r,t]=ce.useState([]),[e,i]=ce.useState([]),[n,s]=ce.useState(!1),[a,o]=ce.useState(""),[l,c]=ce.useState(!1),[u,d]=ce.useState(!1),[p,m]=ce.useState(!1),[y,M]=ce.useState(null),[w,b]=ce.useState([]),[D,E]=ce.useState(null),[N,B]=ce.useState(null),[P,C]=ce.useState({totalInvoices:0,drafted:0,sent:0,paid:0,overdue:0,totalRevenue:0}),[k,_]=ce.useState("all"),[H,j]=ce.useState("date"),[z,F]=ce.useState({paymentTerms:"net30",taxRate:0,notes:"",terms:""});ce.useEffect(()=>{X(),J()},[]),ce.useEffect(()=>{U()},[r,a,k,H]);const X=async()=>{s(!0);try{const le=await S0.getInvoices(100);le.success?t(le.invoices):mt.error(le.error)}catch(le){console.error("Error loading invoices:",le),mt.error("Error loading invoices")}s(!1)},J=async()=>{try{const le=await S0.getInvoices(1e3);if(le.success){const Me=le.invoices,ve={totalInvoices:Me.length,drafted:Me.filter(Ie=>Ie.status==="drafted").length,sent:Me.filter(Ie=>Ie.status==="sent").length,paid:Me.filter(Ie=>Ie.status==="paid").length,overdue:Me.filter(Ie=>Ie.status==="overdue").length,totalRevenue:Me.filter(Ie=>Ie.status==="paid").reduce((Ie,Je)=>Ie+(Je.total||0),0)};C(ve)}}catch(le){console.error("Error loading stats:",le)}},U=()=>{let le=[...r];a&&(le=le.filter(Me=>{const ve=a.toLowerCase();return Me.invoiceNumber?.toLowerCase().includes(ve)||Me.customerName?.toLowerCase().includes(ve)||Me.customerEmail?.toLowerCase().includes(ve)})),k!=="all"&&(le=le.filter(Me=>Me.status===k)),le.sort((Me,ve)=>{switch(H){case"date":return new Date(ve.invoiceDate)-new Date(Me.invoiceDate);case"amount":return(ve.total||0)-(Me.total||0);case"status":return Me.status.localeCompare(ve.status);default:return 0}}),i(le)},W=async()=>{try{const le=await rg.getJobsByStatus("completed");if(le.success){const Me=new Set(r.map(Ie=>Ie.jobId)),ve=le.jobs.filter(Ie=>!Me.has(Ie.id));b(ve)}}catch(le){console.error("Error loading completed jobs:",le),mt.error("Error loading completed jobs")}},re=async()=>{if(!D){mt.error("Please select a job");return}s(!0);try{const le=await S0.createInvoiceFromJob(D.id,{paymentTerms:z.paymentTerms,taxRate:z.taxRate,tax:Z(D.totalCost||0,z.taxRate),subtotal:D.totalCost||0,notes:z.notes,terms:z.terms});le.success?(t(Me=>[le.invoice,...Me]),c(!1),E(null),F({paymentTerms:"net30",taxRate:0,notes:"",terms:""}),J(),mt.success("Invoice created successfully!")):mt.error(le.error)}catch(le){console.error("Error creating invoice:",le),mt.error("Error creating invoice")}s(!1)},Z=(le,Me)=>le*(Me/100),Ee=async le=>{s(!0);try{const Me=await S0.generatePDF(le);if(Me.success&&Me.pdfBlob){const ve=URL.createObjectURL(Me.pdfBlob),Ie=document.createElement("a");Ie.href=ve,Ie.download=`Invoice-${le.invoiceNumber}.pdf`,document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie),URL.revokeObjectURL(ve),mt.success("PDF downloaded successfully!")}else mt.error(Me.error||"Failed to generate PDF")}catch(Me){console.error("Error generating PDF:",Me),mt.error("Error generating PDF")}s(!1)},ae=async le=>{s(!0);try{const Me=await S0.generatePDF(le);Me.success&&Me.pdfUrl?(B(Me.pdfUrl),M(le),m(!0)):mt.error(Me.error||"Failed to generate preview")}catch(Me){console.error("Error generating preview:",Me),mt.error("Error generating preview")}s(!1)},L=async(le,Me=!1)=>{const ve=Me?"Resend this invoice to the customer via email?":"Send this invoice to the customer via email?";if(window.confirm(ve)){s(!0);try{const Ie=await S0.sendInvoiceEmail(le);Ie.success?(await S0.updateInvoiceStatus(le,"sent"),await X(),mt.success(Me?"Invoice resent successfully!":"Invoice sent successfully!")):mt.error(Ie.error||"Failed to send invoice")}catch(Ie){console.error("Error sending invoice:",Ie),mt.error("Error sending invoice")}s(!1)}},Y=le=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(le||0),G=le=>le?new Date(le).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",Q=le=>{const Me={drafted:{bg:"bg-gray-100",text:"text-gray-800",label:"Drafted",icon:td},sent:{bg:"bg-blue-100",text:"text-blue-800",label:"Sent",icon:XC},viewed:{bg:"bg-purple-100",text:"text-purple-800",label:"Viewed",icon:rT},paid:{bg:"bg-green-100",text:"text-green-800",label:"Paid",icon:Ig},overdue:{bg:"bg-red-100",text:"text-red-800",label:"Overdue",icon:B6},cancelled:{bg:"bg-gray-100",text:"text-gray-800",label:"Cancelled",icon:yw}},ve=Me[le]||Me.drafted,Ie=ve.icon;return x.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${ve.bg} ${ve.text}`,children:[x.jsx(Ie,{className:"h-3 w-3"}),ve.label]})},te=()=>{c(!0),W()};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(td,{className:"h-8 w-8 text-primary-500 mr-3"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Invoice Management"}),x.jsx("p",{className:"text-gray-600",children:"Create, manage, and send invoices"})]})]}),x.jsxs("button",{onClick:te,className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[x.jsx(cv,{className:"h-5 w-5 mr-2"}),"Create Invoice"]})]}),x.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-6",children:[x.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(td,{className:"h-6 w-6 text-primary-500"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Invoices"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:P.totalInvoices})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(hf,{className:"h-6 w-6 text-gray-400"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Drafted"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:P.drafted})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(XC,{className:"h-6 w-6 text-blue-500"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Sent"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:P.sent})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(Ig,{className:"h-6 w-6 text-green-500"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Paid"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:P.paid})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(B6,{className:"h-6 w-6 text-red-500"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Overdue"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:P.overdue})]})})]})})}),x.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:x.jsx("div",{className:"p-5",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-6 w-6 bg-green-600 rounded-full"})}),x.jsx("div",{className:"ml-5 w-0 flex-1",children:x.jsxs("dl",{children:[x.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),x.jsx("dd",{className:"text-lg font-medium text-gray-900",children:Y(P.totalRevenue)})]})})]})})})]}),x.jsx("div",{className:"bg-white shadow rounded-lg p-4",children:x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[x.jsx("div",{className:"flex-1",children:x.jsxs("div",{className:"relative",children:[x.jsx(eb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),x.jsx("input",{type:"text",placeholder:"Search invoices...",value:a,onChange:le=>o(le.target.value),className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("select",{value:k,onChange:le=>_(le.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[x.jsx("option",{value:"all",children:"All Status"}),x.jsx("option",{value:"drafted",children:"Drafted"}),x.jsx("option",{value:"sent",children:"Sent"}),x.jsx("option",{value:"viewed",children:"Viewed"}),x.jsx("option",{value:"paid",children:"Paid"}),x.jsx("option",{value:"overdue",children:"Overdue"})]}),x.jsxs("select",{value:H,onChange:le=>j(le.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[x.jsx("option",{value:"date",children:"Sort by Date"}),x.jsx("option",{value:"amount",children:"Sort by Amount"}),x.jsx("option",{value:"status",children:"Sort by Status"})]})]})]})}),x.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:n&&e.length===0?x.jsxs("div",{className:"p-8 text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),x.jsx("p",{className:"mt-2 text-gray-500",children:"Loading invoices..."})]}):e.length===0?x.jsxs("div",{className:"p-8 text-center",children:[x.jsx(td,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),x.jsx("p",{className:"text-gray-500",children:"No invoices found"}),x.jsx("button",{onClick:te,className:"mt-4 text-primary-600 hover:text-primary-700 font-medium",children:"Create your first invoice"})]}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(le=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:le.invoiceNumber}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[x.jsx("div",{className:"text-sm text-gray-900",children:le.customerName}),x.jsx("div",{className:"text-sm text-gray-500",children:le.customerEmail})]}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G(le.invoiceDate)}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:G(le.dueDate)}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Y(le.total)}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Q(le.status)}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[x.jsx("button",{onClick:()=>ae(le),className:"text-primary-600 hover:text-primary-900",title:"Preview",children:x.jsx(rT,{className:"h-5 w-5"})}),x.jsx("button",{onClick:()=>Ee(le),className:"text-gray-600 hover:text-gray-900",title:"Download PDF",children:x.jsx(Nj,{className:"h-5 w-5"})}),le.status==="drafted"&&x.jsx("button",{onClick:()=>L(le.id,!1),className:"text-blue-600 hover:text-blue-900",title:"Send Invoice",children:x.jsx(XC,{className:"h-5 w-5"})}),(le.status==="sent"||le.status==="viewed")&&x.jsx("button",{onClick:()=>L(le.id,!0),className:"text-green-600 hover:text-green-900",title:"Resend Invoice",children:x.jsx(xg,{className:"h-5 w-5"})})]})})]},le.id))})]})})}),l&&x.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:x.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[x.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>c(!1)}),x.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:[x.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create Invoice"}),x.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-500",children:x.jsx(yw,{className:"h-6 w-6"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Completed Job *"}),w.length===0?x.jsx("p",{className:"text-sm text-gray-500",children:"No completed jobs available for invoicing."}):x.jsxs("select",{value:D?.id||"",onChange:le=>{const Me=w.find(ve=>ve.id===le.target.value);E(Me)},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[x.jsx("option",{value:"",children:"-- Select a job --"}),w.map(le=>x.jsxs("option",{value:le.id,children:[le.customerName," - ",le.serviceType," - ",Y(le.totalCost||0)," - ",G(le.date)]},le.id))]})]}),D&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:x.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-medium text-gray-700",children:"Customer:"}),x.jsx("p",{className:"text-gray-900",children:D.customerName})]}),x.jsxs("div",{children:[x.jsx("span",{className:"font-medium text-gray-700",children:"Service:"}),x.jsx("p",{className:"text-gray-900",children:D.serviceType})]}),x.jsxs("div",{children:[x.jsx("span",{className:"font-medium text-gray-700",children:"Amount:"}),x.jsx("p",{className:"text-gray-900",children:Y(D.totalCost||0)})]}),x.jsxs("div",{children:[x.jsx("span",{className:"font-medium text-gray-700",children:"Date:"}),x.jsx("p",{className:"text-gray-900",children:G(D.date)})]})]})}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Terms"}),x.jsxs("select",{value:z.paymentTerms,onChange:le=>F(Me=>({...Me,paymentTerms:le.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[x.jsx("option",{value:"dueOnReceipt",children:"Due on Receipt"}),x.jsx("option",{value:"net15",children:"Net 15"}),x.jsx("option",{value:"net30",children:"Net 30"}),x.jsx("option",{value:"net60",children:"Net 60"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tax Rate (%)"}),x.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:z.taxRate,onChange:le=>{const Me=parseFloat(le.target.value)||0;F(ve=>({...ve,taxRate:Me}))},className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tax Amount"}),x.jsx("input",{type:"text",value:Y(Z(D.totalCost||0,z.taxRate)),disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-50 shadow-sm sm:text-sm"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),x.jsx("textarea",{value:z.notes,onChange:le=>F(Me=>({...Me,notes:le.target.value})),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Additional notes for the invoice..."})]})]})]})]}),x.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[x.jsx("button",{onClick:re,disabled:!D||n,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating...":"Create Invoice"}),x.jsx("button",{onClick:()=>c(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})}),p&&N&&x.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:x.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[x.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>{m(!1),N&&(URL.revokeObjectURL(N),B(null))}}),x.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[x.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Invoice Preview"}),x.jsx("button",{onClick:()=>{m(!1),N&&(URL.revokeObjectURL(N),B(null))},className:"text-gray-400 hover:text-gray-500",children:x.jsx(yw,{className:"h-6 w-6"})})]}),x.jsx("iframe",{src:N,className:"w-full h-[600px] border border-gray-200 rounded",title:"Invoice Preview"})]}),x.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[x.jsx("button",{onClick:()=>Ee(y),className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Download PDF"}),x.jsx("button",{onClick:()=>{m(!1),N&&(URL.revokeObjectURL(N),B(null))},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Close"})]})]})]})})]})};class WM{static getCurrentUserId(){const t=wl.currentUser;if(!t)throw new Error("No user is currently signed in");return t.uid}static async createRecurringJob(t){try{const e=this.getCurrentUserId(),i={...t,userId:e,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=await Cp(Pn(Ai,"recurringJobs"),i);return{success:!0,recurringJobId:n.id,recurringJob:{id:n.id,...i}}}catch(e){return console.error("Error creating recurring job:",e),{success:!1,error:e.message}}}static async getRecurringJobs(){try{const t=this.getCurrentUserId(),e=Hs(Pn(Ai,"recurringJobs"),qn("userId","==",t),vu("createdAt","desc")),i=await Wa(e),n=[];return i.forEach(s=>{n.push({id:s.id,...s.data()})}),{success:!0,recurringJobs:n}}catch(t){return console.error("Error getting recurring jobs:",t),{success:!1,error:t.message}}}static async getRecurringJob(t){try{const e=this.getCurrentUserId(),i=await vh(Br(Ai,"recurringJobs",t));if(!i.exists())return{success:!1,error:"Recurring job not found"};const n=i.data();return n.userId!==e?{success:!1,error:"Unauthorized to access this recurring job"}:{success:!0,recurringJob:{id:i.id,...n}}}catch(e){return console.error("Error getting recurring job:",e),{success:!1,error:e.message}}}static async updateRecurringJob(t,e){try{const i=this.getCurrentUserId(),n=await this.getRecurringJob(t);if(!n.success)return n;const s={...e,updatedAt:new Date().toISOString()};return await ql(Br(Ai,"recurringJobs",t),s),{success:!0,recurringJob:{...n.recurringJob,...s}}}catch(i){return console.error("Error updating recurring job:",i),{success:!1,error:i.message}}}static async deleteRecurringJob(t){try{const e=this.getCurrentUserId(),i=await this.getRecurringJob(t);return i.success?(await Z1(Br(Ai,"recurringJobs",t)),{success:!0}):i}catch(e){return console.error("Error deleting recurring job:",e),{success:!1,error:e.message}}}static async toggleRecurringJobActive(t,e){return this.updateRecurringJob(t,{isActive:e})}static calculateNextOccurrence(t,e,i=null){const n=new Date(t),s=new Date(n);switch(e){case"daily":s.setDate(s.getDate()+1);break;case"weekly":s.setDate(s.getDate()+7);break;case"bi-weekly":s.setDate(s.getDate()+14);break;case"monthly":s.setMonth(s.getMonth()+1);break;case"bi-monthly":s.setMonth(s.getMonth()+2);break;case"quarterly":s.setMonth(s.getMonth()+3);break;case"annually":s.setFullYear(s.getFullYear()+1);break;default:s.setDate(s.getDate()+7)}if(i!=null){const a=s.getDay(),l=i-a;s.setDate(s.getDate()+(l>=0?l:l+7))}return s}}const oH=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-Weekly"},{value:"monthly",label:"Monthly"},{value:"bi-monthly",label:"Bi-Monthly"},{value:"quarterly",label:"Quarterly"},{value:"annually",label:"Annually"}],lH=[{value:0,label:"Sunday"},{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"}],GNe=()=>{const{userProfile:r,isSuperAdmin:t}=vf(),[e,i]=ce.useState([]),[n,s]=ce.useState([]),[a,o]=ce.useState([]),[l,c]=ce.useState(!1),[u,d]=ce.useState(!1),[p,m]=ce.useState(!1),[y,M]=ce.useState(null),[w,b]=ce.useState({customerId:"",customerName:"",serviceType:"",frequency:"weekly",dayOfWeek:null,time:"09:00 AM",duration:"",estimatedCost:"",notes:"",startDate:"",endDate:"",isActive:!0});ce.useEffect(()=>{D(),E(),X()},[r]);const D=async()=>{c(!0);try{const W=await WM.getRecurringJobs();W.success?i(W.recurringJobs):mt.error(W.error)}catch(W){console.error("Error loading recurring jobs:",W),mt.error("Error loading recurring jobs")}c(!1)},E=async()=>{try{const W=await Xh.getCustomers();W.success&&s(W.customers)}catch(W){console.error("Error loading customers:",W)}},N=(W,re)=>{b(Z=>({...Z,[W]:re}))},B=W=>{const re=n.find(Z=>Z.id===W);b(Z=>({...Z,customerId:W||"",customerName:re?re.name:""}))},P=async()=>{if(!w.customerId||!w.serviceType){mt.error("Please select a customer and service type");return}c(!0);try{const W={...w,startDate:w.startDate?new Date(w.startDate).toISOString():null,endDate:w.endDate?new Date(w.endDate).toISOString():null,dayOfWeek:w.dayOfWeek!==null&&w.dayOfWeek!==""?parseInt(w.dayOfWeek):null},re=await WM.createRecurringJob(W);re.success?(d(!1),j(),D(),mt.success("Recurring job created successfully!")):mt.error(re.error)}catch(W){console.error("Error creating recurring job:",W),mt.error("Error creating recurring job")}c(!1)},C=async()=>{if(y){c(!0);try{const W={...w,startDate:w.startDate?new Date(w.startDate).toISOString():null,endDate:w.endDate?new Date(w.endDate).toISOString():null,dayOfWeek:w.dayOfWeek!==null&&w.dayOfWeek!==""?parseInt(w.dayOfWeek):null},re=await WM.updateRecurringJob(y.id,W);re.success?(m(!1),M(null),j(),D(),mt.success("Recurring job updated successfully!")):mt.error(re.error)}catch(W){console.error("Error updating recurring job:",W),mt.error("Error updating recurring job")}c(!1)}},k=async W=>{if(window.confirm("Are you sure you want to delete this recurring job? This will not delete existing scheduled jobs.")){c(!0);try{const re=await WM.deleteRecurringJob(W);re.success?(D(),mt.success("Recurring job deleted successfully!")):mt.error(re.error)}catch(re){console.error("Error deleting recurring job:",re),mt.error("Error deleting recurring job")}c(!1)}},_=async(W,re)=>{c(!0);try{const Z=await WM.toggleRecurringJobActive(W,!re);Z.success?(D(),mt.success(`Recurring job ${re?"deactivated":"activated"} successfully!`)):mt.error(Z.error)}catch(Z){console.error("Error toggling recurring job status:",Z),mt.error("Error updating recurring job status")}c(!1)},H=W=>{M(W),b({customerId:W.customerId||"",customerName:W.customerName||"",serviceType:W.serviceType||"",frequency:W.frequency||"weekly",dayOfWeek:W.dayOfWeek!==void 0?W.dayOfWeek.toString():"",time:W.time||"09:00 AM",duration:W.duration||"",estimatedCost:W.estimatedCost||"",notes:W.notes||"",startDate:W.startDate?W.startDate.toDate?W.startDate.toDate().toISOString().split("T")[0]:W.startDate.split("T")[0]:"",endDate:W.endDate?W.endDate.toDate?W.endDate.toDate().toISOString().split("T")[0]:W.endDate.split("T")[0]:"",isActive:W.isActive!==void 0?W.isActive:!0}),m(!0)},j=()=>{b({customerId:"",customerName:"",serviceType:"",frequency:"weekly",dayOfWeek:null,time:"09:00 AM",duration:"",estimatedCost:"",notes:"",startDate:"",endDate:"",isActive:!0})},z=W=>{if(!W)return"N/A";try{return(W.toDate?W.toDate():new Date(W)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return W}},F=W=>{const re=oH.find(Z=>Z.value===W);return re?re.label:W},X=async()=>{try{if(t){o(ew.flatMap(W=>W.services));return}if(r?.companyId){const W=await $o.getCompany(r.companyId);W.success&&W.company.services?o(W.company.services):o(ew.flatMap(re=>re.services))}else o([])}catch(W){console.error("Error loading company services:",W),o(ew.flatMap(re=>re.services))}},J=()=>a.length>0?a:ew.flatMap(W=>W.services),U=(W=!1)=>{const re=J();return x.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:x.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[x.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>{W?(m(!1),M(null)):d(!1),j()}}),x.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:[x.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:W?"Edit Recurring Job":"Create Recurring Job"}),x.jsx("button",{onClick:()=>{W?(m(!1),M(null)):d(!1),j()},className:"text-gray-400 hover:text-gray-500",children:x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer *"}),x.jsxs("select",{value:w.customerId,onChange:Z=>B(Z.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[x.jsx("option",{value:"",children:"-- Select Customer --"}),n.map(Z=>x.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type *"}),x.jsxs("select",{value:w.serviceType,onChange:Z=>N("serviceType",Z.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[x.jsx("option",{value:"",children:"-- Select Service --"}),re.length>0?re.map((Z,Ee)=>x.jsx("option",{value:Z,children:Z},Ee)):x.jsx("option",{disabled:!0,children:"No services configured. Please set up company services first."})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency *"}),x.jsx("select",{value:w.frequency,onChange:Z=>N("frequency",Z.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:oH.map(Z=>x.jsx("option",{value:Z.value,children:Z.label},Z.value))})]}),w.frequency!=="daily"&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Day of Week"}),x.jsxs("select",{value:w.dayOfWeek||"",onChange:Z=>N("dayOfWeek",Z.target.value||null),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[x.jsx("option",{value:"",children:"Any Day"}),lH.map(Z=>x.jsx("option",{value:Z.value,children:Z.label},Z.value))]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),x.jsx("input",{type:"text",value:w.time,onChange:Z=>N("time",Z.target.value),placeholder:"09:00 AM",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (hours)"}),x.jsx("input",{type:"text",value:w.duration,onChange:Z=>N("duration",Z.target.value),placeholder:"2",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),x.jsx("input",{type:"date",value:w.startDate,onChange:Z=>N("startDate",Z.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date (optional)"}),x.jsx("input",{type:"date",value:w.endDate,onChange:Z=>N("endDate",Z.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Cost (optional)"}),x.jsx("input",{type:"text",value:w.estimatedCost,onChange:Z=>N("estimatedCost",Z.target.value),placeholder:"0.00",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),x.jsx("textarea",{value:w.notes,onChange:Z=>N("notes",Z.target.value),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Additional notes for recurring jobs..."})]})]})]}),x.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[x.jsx("button",{onClick:W?C:P,disabled:!w.customerId||!w.serviceType||l,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Saving...":W?"Update Recurring Job":"Create Recurring Job"}),x.jsx("button",{onClick:()=>{W?(m(!1),M(null)):d(!1),j()},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})})};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(xg,{className:"h-8 w-8 text-primary-500 mr-3"}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recurring Jobs"}),x.jsx("p",{className:"text-gray-600",children:"Manage automated job scheduling"})]})]}),x.jsxs("button",{onClick:()=>{j(),d(!0)},className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[x.jsx(cv,{className:"h-5 w-5 mr-2"}),"Create Recurring Job"]})]}),x.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:l&&e.length===0?x.jsxs("div",{className:"p-8 text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),x.jsx("p",{className:"mt-2 text-gray-500",children:"Loading recurring jobs..."})]}):e.length===0?x.jsxs("div",{className:"p-8 text-center",children:[x.jsx(xg,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),x.jsx("p",{className:"text-gray-500",children:"No recurring jobs found"}),x.jsx("button",{onClick:()=>{j(),d(!0)},className:"mt-4 text-primary-600 hover:text-primary-700 font-medium",children:"Create your first recurring job"})]}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequency"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schedule"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(W=>x.jsxs("tr",{className:"hover:bg-gray-50",children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx(NO,{className:"h-5 w-5 text-gray-400 mr-2"}),x.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.customerName})]})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx(VA,{className:"h-5 w-5 text-gray-400 mr-2"}),x.jsx("div",{className:"text-sm text-gray-900",children:W.serviceType})]})}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[F(W.frequency),W.dayOfWeek!==null&&W.dayOfWeek!==void 0&&x.jsxs("span",{className:"ml-1",children:["(",lH.find(re=>re.value===W.dayOfWeek)?.label||"N/A",")"]})]}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(hf,{className:"h-4 w-4 mr-1"}),W.time||"N/A"]}),x.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[W.startDate?`Starts: ${z(W.startDate)}`:"",W.endDate?` | Ends: ${z(W.endDate)}`:""]})]}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${W.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:W.isActive?"Active":"Inactive"})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:x.jsxs("div",{className:"flex items-center justify-end gap-2",children:[x.jsx("button",{onClick:()=>_(W.id,W.isActive),className:`${W.isActive?"text-yellow-600 hover:text-yellow-900":"text-green-600 hover:text-green-900"}`,title:W.isActive?"Deactivate":"Activate",children:W.isActive?x.jsx(Z0e,{className:"h-5 w-5"}):x.jsx(q0e,{className:"h-5 w-5"})}),x.jsx("button",{onClick:()=>H(W),className:"text-primary-600 hover:text-primary-900",title:"Edit",children:x.jsx(tb,{className:"h-5 w-5"})}),x.jsx("button",{onClick:()=>k(W.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:x.jsx(AN,{className:"h-5 w-5"})})]})})]},W.id))})]})})}),u&&U(!1),p&&U(!0)]})};class rw{static generateInvitationCode(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let i=0;i<8;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}static async createInvitation(t,e,i="field_tech",n){try{if(!(n||$o.getCurrentUserId()))return{success:!1,error:"No user is currently signed in"};const a=await $o.getCompany(t);if(!a.success)return{success:!1,error:"Company not found"};const o=Hs(Pn(Ai,"invitations"),qn("companyId","==",t),qn("email","==",e.toLowerCase()),qn("status","==","pending"));if(!(await Wa(o)).empty)return{success:!1,error:"An invitation already exists for this email"};const c=this.generateInvitationCode(),u={companyId:t,companyName:a.company.name,email:e.toLowerCase(),role:i,invitationCode:c,invitedBy:n,status:"pending",createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+10080*60*1e3).toISOString()},d=await Cp(Pn(Ai,"invitations"),u);return{success:!0,invitationId:d.id,invitation:{id:d.id,...u}}}catch(s){return console.error("Error creating invitation:",s),{success:!1,error:s.message}}}static async getInvitationByCode(t){try{const e=Hs(Pn(Ai,"invitations"),qn("invitationCode","==",t.toUpperCase()),qn("status","==","pending")),i=await Wa(e);if(i.empty)return{success:!1,error:"Invitation not found or expired"};const n=i.docs[0],s={id:n.id,...n.data()};return new Date(s.expiresAt)<new Date?(await ql(Br(Ai,"invitations",n.id),{status:"expired"}),{success:!1,error:"Invitation has expired"}):{success:!0,invitation:s}}catch(e){return console.error("Error getting invitation:",e),{success:!1,error:e.message}}}static async acceptInvitation(t,e){try{const i=await this.getInvitationByCode(e);if(!i.success)return i;const n=i.invitation;return await ql(Br(Ai,"users",t),{companyId:n.companyId,role:n.role,updatedAt:new Date().toISOString()}),await ql(Br(Ai,"invitations",n.id),{status:"accepted",acceptedAt:new Date().toISOString(),acceptedBy:t}),{success:!0,company:{id:n.companyId,name:n.companyName},role:n.role}}catch(i){return console.error("Error accepting invitation:",i),{success:!1,error:i.message}}}static async getCompanyInvitations(t){try{if(!$o.getCurrentUserId())return{success:!1,error:"No user is currently signed in",invitations:[]};const i=Hs(Pn(Ai,"invitations"),qn("companyId","==",t),vu("createdAt","desc")),n=await Wa(i),s=[];return n.forEach(a=>{s.push({id:a.id,...a.data()})}),{success:!0,invitations:s}}catch(e){return console.error("Error getting invitations:",e),{success:!1,error:e.message,invitations:[]}}}static async cancelInvitation(t){try{return $o.getCurrentUserId()?(await Z1(Br(Ai,"invitations",t)),{success:!0}):{success:!1,error:"No user is currently signed in"}}catch(e){return console.error("Error canceling invitation:",e),{success:!1,error:e.message}}}static async resendInvitation(t){try{if(!$o.getCurrentUserId())return{success:!1,error:"No user is currently signed in"};await ql(Br(Ai,"invitations",t),{expiresAt:new Date(Date.now()+10080*60*1e3).toISOString(),createdAt:new Date().toISOString()});const i=await vh(Br(Ai,"invitations",t));return{success:!0,invitation:{id:i.id,...i.data()}}}catch(e){return console.error("Error resending invitation:",e),{success:!1,error:e.message}}}}const cH=[{value:"admin",label:"Company Administrator"},{value:"supervisor",label:"Supervisor"},{value:"field_tech",label:"Field Technician"}],KNe=()=>{const{userProfile:r,isSuperAdmin:t}=vf(),[e,i]=ce.useState(null),[n,s]=ce.useState([]),[a,o]=ce.useState(!1),[l,c]=ce.useState(!1),[u,d]=ce.useState(""),[p,m]=ce.useState("field_tech");ce.useEffect(()=>{r?.companyId&&(y(),M())},[r]);const y=async()=>{if(r?.companyId)try{const P=await $o.getCompany(r.companyId);P.success&&i(P.company)}catch(P){console.error("Error loading company:",P)}},M=async()=>{if(r?.companyId){o(!0);try{const P=await rw.getCompanyInvitations(r.companyId);P.success&&s(P.invitations)}catch(P){console.error("Error loading invitations:",P),mt.error("Failed to load invitations")}finally{o(!1)}}},w=async()=>{if(!u.trim()){mt.error("Please enter an email address");return}if(!r?.companyId){mt.error("No company associated");return}o(!0);try{const P=await rw.createInvitation(r.companyId,u,p,r.id);P.success?(mt.success("Invitation created successfully!"),await b(P.invitation),d(""),m("field_tech"),c(!1),M()):mt.error(P.error||"Failed to create invitation")}catch(P){console.error("Error creating invitation:",P),mt.error("Failed to create invitation")}finally{o(!1)}},b=async P=>{try{const k="https://us-central1-mi-factotum-field-service.cloudfunctions.net/sendInvitationEmail",_=await wl.currentUser?.getIdToken();if(!(await fetch(k,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({invitationId:P.id,email:P.email,companyName:P.companyName,invitationCode:P.invitationCode,role:P.role,expiresAt:P.expiresAt})})).ok)throw new Error("Failed to send email");mt.success("Invitation email sent!")}catch(C){console.error("Error sending invitation email:",C),mt.info("Invitation created, but email sending failed. Share the code manually.")}},D=async P=>{if(confirm("Are you sure you want to cancel this invitation?")){o(!0);try{const C=await rw.cancelInvitation(P);C.success?(mt.success("Invitation cancelled"),M()):mt.error(C.error||"Failed to cancel invitation")}catch(C){console.error("Error cancelling invitation:",C),mt.error("Failed to cancel invitation")}finally{o(!1)}}},E=async P=>{o(!0);try{const C=await rw.resendInvitation(P.id);C.success?(await b(C.invitation),mt.success("Invitation resent!"),M()):mt.error(C.error||"Failed to resend invitation")}catch(C){console.error("Error resending invitation:",C),mt.error("Failed to resend invitation")}finally{o(!1)}},N=P=>{navigator.clipboard.writeText(P),mt.success("Invitation code copied to clipboard!")},B=(P,C)=>P==="accepted"?x.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[x.jsx(Ig,{className:"w-4 h-4 mr-1"}),"Accepted"]}):P==="expired"?x.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[x.jsx(hf,{className:"w-4 h-4 mr-1"}),"Expired"]}):new Date(C)<new Date?x.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[x.jsx(hf,{className:"w-4 h-4 mr-1"}),"Expired"]}):x.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[x.jsx(hf,{className:"w-4 h-4 mr-1"}),"Pending"]});return r?.companyId?x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Team Invitations"}),x.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Invite team members to join ",e?.name||"your company"]})]}),x.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[x.jsx(cv,{className:"w-5 h-5 mr-2"}),"New Invitation"]})]}),x.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),x.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a&&n.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-sm text-gray-500",children:"Loading invitations..."})}):n.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No invitations yet. Create your first invitation above."})}):n.map(P=>x.jsxs("tr",{children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.email}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:cH.find(C=>C.value===P.role)?.label||P.role}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.jsx("button",{onClick:()=>N(P.invitationCode),className:"font-mono text-primary-600 hover:text-primary-800 underline",title:"Click to copy",children:P.invitationCode})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B(P.status,P.expiresAt)}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.expiresAt).toLocaleDateString()}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:P.status==="pending"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>E(P),className:"text-primary-600 hover:text-primary-900 mr-4",title:"Resend invitation",children:x.jsx(xg,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>D(P.id),className:"text-red-600 hover:text-red-900",title:"Cancel invitation",children:x.jsx(HA,{className:"w-5 h-5"})})]})})]},P.id))})]})}),l&&x.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[x.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Invite Team Member"}),x.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-500",children:x.jsx(HA,{className:"w-6 h-6"})})]}),x.jsxs("div",{className:"px-6 py-4 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),x.jsx("input",{type:"email",value:u,onChange:P=>d(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"team@example.com"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),x.jsx("select",{value:p,onChange:P=>m(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:cH.map(P=>x.jsx("option",{value:P.value,children:P.label},P.value))})]}),x.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:x.jsxs("p",{className:"text-sm text-blue-800",children:[x.jsx("strong",{children:"Note:"})," An invitation email will be sent with a code. The user can use this code during signup or enter it manually."]})})]}),x.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[x.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),x.jsx("button",{onClick:w,disabled:a,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:a?"Sending...":"Send Invitation"})]})]})})]}):x.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:x.jsx("div",{className:"text-center",children:x.jsx("p",{className:"text-gray-500",children:"Please set up your company first."})})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var SS={};SS.version="0.18.5";var tX=1252,$Ne=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],y3={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},x3=function(r){$Ne.indexOf(r)!=-1&&(tX=y3[0]=r)};function XNe(){x3(1252)}var rd=function(r){x3(r)};function M3(){rd(1200),XNe()}function uH(r){for(var t=[],e=0,i=r.length;e<i;++e)t[e]=r.charCodeAt(e);return t}function JNe(r){for(var t=[],e=0;e<r.length>>1;++e)t[e]=String.fromCharCode(r.charCodeAt(2*e)+(r.charCodeAt(2*e+1)<<8));return t.join("")}function iX(r){for(var t=[],e=0;e<r.length>>1;++e)t[e]=String.fromCharCode(r.charCodeAt(2*e+1)+(r.charCodeAt(2*e)<<8));return t.join("")}var nw=function(r){var t=r.charCodeAt(0),e=r.charCodeAt(1);return t==255&&e==254?JNe(r.slice(2)):t==254&&e==255?iX(r.slice(2)):t==65279?r.slice(1):r},SE=function(t){return String.fromCharCode(t)},hH=function(t){return String.fromCharCode(t)},MT,dg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function wT(r){for(var t="",e=0,i=0,n=0,s=0,a=0,o=0,l=0,c=0;c<r.length;)e=r.charCodeAt(c++),s=e>>2,i=r.charCodeAt(c++),a=(e&3)<<4|i>>4,n=r.charCodeAt(c++),o=(i&15)<<2|n>>6,l=n&63,isNaN(i)?o=l=64:isNaN(n)&&(l=64),t+=dg.charAt(s)+dg.charAt(a)+dg.charAt(o)+dg.charAt(l);return t}function Nu(r){var t="",e=0,i=0,n=0,s=0,a=0,o=0,l=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<r.length;)s=dg.indexOf(r.charAt(c++)),a=dg.indexOf(r.charAt(c++)),e=s<<2|a>>4,t+=String.fromCharCode(e),o=dg.indexOf(r.charAt(c++)),i=(a&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(i)),l=dg.indexOf(r.charAt(c++)),n=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(n));return t}var jr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Xp=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function jg(r){return jr?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function dH(r){return jr?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Mu=function(t){return jr?Xp(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)&255})};function UN(r){if(typeof ArrayBuffer>"u")return Mu(r);for(var t=new ArrayBuffer(r.length),e=new Uint8Array(t),i=0;i!=r.length;++i)e[i]=r.charCodeAt(i)&255;return t}function Yg(r){if(Array.isArray(r))return r.map(function(i){return String.fromCharCode(i)}).join("");for(var t=[],e=0;e<r.length;++e)t[e]=String.fromCharCode(r[e]);return t.join("")}function ZNe(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}function w3(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return w3(new Uint8Array(r));for(var t=new Array(r.length),e=0;e<r.length;++e)t[e]=r[e];return t}var Xo=jr?function(r){return Buffer.concat(r.map(function(t){return Buffer.isBuffer(t)?t:Xp(t)}))}:function(r){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<r.length;++t)e+=r[t].length;var i=new Uint8Array(e),n=0;for(t=0,e=0;t<r.length;e+=n,++t)if(n=r[t].length,r[t]instanceof Uint8Array)i.set(r[t],e);else{if(typeof r[t]=="string")throw"wtf";i.set(new Uint8Array(r[t]),e)}return i}return[].concat.apply([],r.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function eIe(r){for(var t=[],e=0,i=r.length+250,n=jg(r.length+255),s=0;s<r.length;++s){var a=r.charCodeAt(s);if(a<128)n[e++]=a;else if(a<2048)n[e++]=192|a>>6&31,n[e++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=r.charCodeAt(++s)&1023;n[e++]=240|a>>8&7,n[e++]=128|a>>2&63,n[e++]=128|o>>6&15|(a&3)<<4,n[e++]=128|o&63}else n[e++]=224|a>>12&15,n[e++]=128|a>>6&63,n[e++]=128|a&63;e>i&&(t.push(n.slice(0,e)),e=0,n=jg(65535),i=65530)}return t.push(n.slice(0,e)),Xo(t)}var xc=/\u0000/g,sw=/[\u0001-\u0006]/g;function M1(r){for(var t="",e=r.length-1;e>=0;)t+=r.charAt(e--);return t}function nd(r,t){var e=""+r;return e.length>=t?e:Da("0",t-e.length)+e}function T3(r,t){var e=""+r;return e.length>=t?e:Da(" ",t-e.length)+e}function NS(r,t){var e=""+r;return e.length>=t?e:e+Da(" ",t-e.length)}function tIe(r,t){var e=""+Math.round(r);return e.length>=t?e:Da("0",t-e.length)+e}function iIe(r,t){var e=""+r;return e.length>=t?e:Da("0",t-e.length)+e}var fH=Math.pow(2,32);function ky(r,t){if(r>fH||r<-fH)return tIe(r,t);var e=Math.round(r);return iIe(e,t)}function IS(r,t){return t=t||0,r.length>=7+t&&(r.charCodeAt(t)|32)===103&&(r.charCodeAt(t+1)|32)===101&&(r.charCodeAt(t+2)|32)===110&&(r.charCodeAt(t+3)|32)===101&&(r.charCodeAt(t+4)|32)===114&&(r.charCodeAt(t+5)|32)===97&&(r.charCodeAt(t+6)|32)===108}var pH=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],h5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function rIe(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var ir={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},mH={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},nIe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function CS(r,t,e){for(var i=r<0?-1:1,n=r*i,s=0,a=1,o=0,l=1,c=0,u=0,d=Math.floor(n);c<t&&(d=Math.floor(n),o=d*a+s,u=d*c+l,!(n-d<5e-8));)n=1/(n-d),s=a,a=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=s):(u=c,o=a)),!e)return[0,i*o,u];var p=Math.floor(i*o/u);return[p,i*o-p*u,u]}function U0(r,t,e){if(r>2958465||r<0)return null;var i=r|0,n=Math.floor(86400*(r-i)),s=0,a=[],o={D:i,T:n,u:86400*(r-i)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(i+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++i,++o.D)),i===60)a=e?[1317,10,29]:[1900,2,29],s=3;else if(i===0)a=e?[1317,8,29]:[1900,1,0],s=6;else{i>60&&--i;var l=new Date(1900,0,1);l.setDate(l.getDate()+i-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),i<60&&(s=(s+6)%7),e&&(s=uIe(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=s,o}var rX=new Date(1899,11,31,0,0,0),sIe=rX.getTime(),aIe=new Date(1900,2,1,0,0,0);function nX(r,t){var e=r.getTime();return t?e-=1461*24*60*60*1e3:r>=aIe&&(e+=1440*60*1e3),(e-(sIe+(r.getTimezoneOffset()-rX.getTimezoneOffset())*6e4))/(1440*60*1e3)}function b3(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function oIe(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function lIe(r){var t=r<0?12:11,e=b3(r.toFixed(12));return e.length<=t||(e=r.toPrecision(10),e.length<=t)?e:r.toExponential(5)}function cIe(r){var t=b3(r.toFixed(11));return t.length>(r<0?12:11)||t==="0"||t==="-0"?r.toPrecision(6):t}function TT(r){var t=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),e;return t>=-4&&t<=-1?e=r.toPrecision(10+t):Math.abs(t)<=9?e=lIe(r):t===10?e=r.toFixed(10).substr(0,12):e=cIe(r),b3(oIe(e.toUpperCase()))}function mv(r,t){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):TT(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return Th(14,nX(r,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+r)}function uIe(r,t){t[0]-=581;var e=r.getDay();return r<60&&(e=(e+6)%7),e}function hIe(r,t,e,i){var n="",s=0,a=0,o=e.y,l,c=0;switch(r){case 98:o=e.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=e.m,c=t.length;break;case 3:return h5[e.m-1][1];case 5:return h5[e.m-1][0];default:return h5[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=e.d,c=t.length;break;case 3:return pH[e.q][0];default:return pH[e.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(e.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=e.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=e.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return e.u===0&&(t=="s"||t=="ss")?nd(e.S,t.length):(i>=2?a=i===3?1e3:100:a=i===1?10:1,s=Math.round(a*(e.S+e.u)),s>=60*a&&(s=0),t==="s"?s===0?"0":""+s/a:(n=nd(s,2+i),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=e.D*24+e.H;break;case"[m]":case"[mm]":l=(e.D*24+e.H)*60+e.M;break;case"[s]":case"[ss]":l=((e.D*24+e.H)*60+e.M)*60+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?nd(l,c):"";return u}function fg(r){var t=3;if(r.length<=t)return r;for(var e=r.length%t,i=r.substr(0,e);e!=r.length;e+=t)i+=(i.length>0?",":"")+r.substr(e,t);return i}var sX=/%/g;function dIe(r,t,e){var i=t.replace(sX,""),n=t.length-i.length;return jp(r,i,e*Math.pow(10,2*n))+Da("%",n)}function fIe(r,t,e){for(var i=t.length-1;t.charCodeAt(i-1)===44;)--i;return jp(r,t.substr(0,i),e/Math.pow(10,3*(t.length-i)))}function aX(r,t){var e,i=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+aX(r,-t);var n=r.indexOf(".");n===-1&&(n=r.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%n;if(s<0&&(s+=n),e=(t/Math.pow(10,s)).toPrecision(i+1+(n+s)%n),e.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+s):e+="E+"+(a-s);e.substr(0,2)==="0.";)e=e.charAt(0)+e.substr(2,n)+"."+e.substr(2+n),e=e.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(n+s)%n)+"."+u.substr(s)+"E"})}else e=t.toExponential(i);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var oX=/# (\?+)( ?)\/( ?)(\d+)/;function pIe(r,t,e){var i=parseInt(r[4],10),n=Math.round(t*i),s=Math.floor(n/i),a=n-s*i,o=i;return e+(s===0?"":""+s)+" "+(a===0?Da(" ",r[1].length+1+r[4].length):T3(a,r[1].length)+r[2]+"/"+r[3]+nd(o,r[4].length))}function mIe(r,t,e){return e+(t===0?"":""+t)+Da(" ",r[1].length+2+r[4].length)}var lX=/^#*0*\.([0#]+)/,cX=/\).*[0#]/,uX=/\(###\) ###\\?-####/;function pc(r){for(var t="",e,i=0;i!=r.length;++i)switch(e=r.charCodeAt(i)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function gH(r,t){var e=Math.pow(10,t);return""+Math.round(r*e)/e}function vH(r,t){var e=r-Math.floor(r),i=Math.pow(10,t);return t<(""+Math.round(e*i)).length?0:Math.round(e*i)}function gIe(r,t){return t<(""+Math.round((r-Math.floor(r))*Math.pow(10,t))).length?1:0}function vIe(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function rh(r,t,e){if(r.charCodeAt(0)===40&&!t.match(cX)){var i=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?rh("n",i,e):"("+rh("n",i,-e)+")"}if(t.charCodeAt(t.length-1)===44)return fIe(r,t,e);if(t.indexOf("%")!==-1)return dIe(r,t,e);if(t.indexOf("E")!==-1)return aX(t,e);if(t.charCodeAt(0)===36)return"$"+rh(r,t.substr(t.charAt(1)==" "?2:1),e);var n,s,a,o,l=Math.abs(e),c=e<0?"-":"";if(t.match(/^00+$/))return c+ky(l,t.length);if(t.match(/^[#?]+$/))return n=ky(e,0),n==="0"&&(n=""),n.length>t.length?n:pc(t.substr(0,t.length-n.length))+n;if(s=t.match(oX))return pIe(s,l,c);if(t.match(/^#+0+$/))return c+ky(l,t.length-t.indexOf("0"));if(s=t.match(lX))return n=gH(e,s[1].length).replace(/^([^\.]+)$/,"$1."+pc(s[1])).replace(/\.$/,"."+pc(s[1])).replace(/\.(\d*)$/,function(y,M){return"."+M+Da("0",pc(s[1]).length-M.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+gH(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+fg(ky(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+rh(r,t,-e):fg(""+(Math.floor(e)+gIe(e,s[1].length)))+"."+nd(vH(e,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return rh(r,t.replace(/^#,#*,/,""),e);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=M1(rh(r,t.replace(/[\\-]/g,""),e)),a=0,M1(M1(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<n.length?n.charAt(a++):y==="0"?"0":""}));if(t.match(uX))return n=rh(r,"##########",e),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=CS(l,Math.pow(10,a)-1,!1),n=""+c,u=jp("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+s[2]+"/"+s[3],u=NS(o[2],a),u.length<s[4].length&&(u=pc(s[4].substr(s[4].length-u.length))+u),n+=u,n;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=CS(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?T3(o[1],a)+s[2]+"/"+s[3]+NS(o[2],a):Da(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return n=ky(e,0),t.length<=n.length?n:pc(t.substr(0,t.length-n.length))+n;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+e.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=n.indexOf(".");var d=t.indexOf(".")-a,p=t.length-n.length-d;return pc(t.substr(0,d)+n+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return a=vH(e,s[1].length),e<0?"-"+rh(r,t,-e):fg(vIe(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?nd(0,3-y.length):"")+y})+"."+nd(a,s[1].length);switch(t){case"###,##0.00":return rh(r,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var m=fg(ky(l,0));return m!=="0"?c+m:"";case"###,###.00":return rh(r,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return rh(r,"#,##0.00",e).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function yIe(r,t,e){for(var i=t.length-1;t.charCodeAt(i-1)===44;)--i;return jp(r,t.substr(0,i),e/Math.pow(10,3*(t.length-i)))}function xIe(r,t,e){var i=t.replace(sX,""),n=t.length-i.length;return jp(r,i,e*Math.pow(10,2*n))+Da("%",n)}function hX(r,t){var e,i=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+hX(r,-t);var n=r.indexOf(".");n===-1&&(n=r.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%n;if(s<0&&(s+=n),e=(t/Math.pow(10,s)).toPrecision(i+1+(n+s)%n),!e.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+s):e+="E+"+(a-s),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(n+s)%n)+"."+u.substr(s)+"E"})}else e=t.toExponential(i);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function Wd(r,t,e){if(r.charCodeAt(0)===40&&!t.match(cX)){var i=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Wd("n",i,e):"("+Wd("n",i,-e)+")"}if(t.charCodeAt(t.length-1)===44)return yIe(r,t,e);if(t.indexOf("%")!==-1)return xIe(r,t,e);if(t.indexOf("E")!==-1)return hX(t,e);if(t.charCodeAt(0)===36)return"$"+Wd(r,t.substr(t.charAt(1)==" "?2:1),e);var n,s,a,o,l=Math.abs(e),c=e<0?"-":"";if(t.match(/^00+$/))return c+nd(l,t.length);if(t.match(/^[#?]+$/))return n=""+e,e===0&&(n=""),n.length>t.length?n:pc(t.substr(0,t.length-n.length))+n;if(s=t.match(oX))return mIe(s,l,c);if(t.match(/^#+0+$/))return c+nd(l,t.length-t.indexOf("0"));if(s=t.match(lX))return n=(""+e).replace(/^([^\.]+)$/,"$1."+pc(s[1])).replace(/\.$/,"."+pc(s[1])),n=n.replace(/\.(\d*)$/,function(y,M){return"."+M+Da("0",pc(s[1]).length-M.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+fg(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Wd(r,t,-e):fg(""+e)+"."+Da("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Wd(r,t.replace(/^#,#*,/,""),e);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=M1(Wd(r,t.replace(/[\\-]/g,""),e)),a=0,M1(M1(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<n.length?n.charAt(a++):y==="0"?"0":""}));if(t.match(uX))return n=Wd(r,"##########",e),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=CS(l,Math.pow(10,a)-1,!1),n=""+c,u=jp("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+s[2]+"/"+s[3],u=NS(o[2],a),u.length<s[4].length&&(u=pc(s[4].substr(s[4].length-u.length))+u),n+=u,n;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=CS(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?T3(o[1],a)+s[2]+"/"+s[3]+NS(o[2],a):Da(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return n=""+e,t.length<=n.length?n:pc(t.substr(0,t.length-n.length))+n;if(s=t.match(/^([#0]+)\.([#0]+)$/)){n=""+e.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=n.indexOf(".");var d=t.indexOf(".")-a,p=t.length-n.length-d;return pc(t.substr(0,d)+n+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+Wd(r,t,-e):fg(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?nd(0,3-y.length):"")+y})+"."+nd(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=fg(""+l);return m!=="0"?c+m:"";default:if(t.match(/\.[0#?]*$/))return Wd(r,t.slice(0,t.lastIndexOf(".")),e)+pc(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function jp(r,t,e){return(e|0)===e?Wd(r,t,e):rh(r,t,e)}function MIe(r){for(var t=[],e=!1,i=0,n=0;i<r.length;++i)switch(r.charCodeAt(i)){case 34:e=!e;break;case 95:case 42:case 92:++i;break;case 59:t[t.length]=r.substr(n,i-n),n=i+1}if(t[t.length]=r.substr(n),e===!0)throw new Error("Format |"+r+"| unterminated string ");return t}var dX=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ix(r){for(var t=0,e="",i="";t<r.length;)switch(e=r.charAt(t)){case"G":IS(r,t)&&(t+=6),t++;break;case'"':for(;r.charCodeAt(++t)!==34&&t<r.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(r.charAt(t+1)==="1"||r.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(t,3).toUpperCase()==="A/P"||r.substr(t,5).toUpperCase()==="AM/PM"||r.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(i=e;r.charAt(t++)!=="]"&&t<r.length;)i+=r.charAt(t);if(i.match(dX))return!0;break;case".":case"0":case"#":for(;t<r.length&&("0#?.,E+-%".indexOf(e=r.charAt(++t))>-1||e=="\\"&&r.charAt(t+1)=="-"&&"0#".indexOf(r.charAt(t+2))>-1););break;case"?":for(;r.charAt(++t)===e;);break;case"*":++t,(r.charAt(t)==" "||r.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<r.length&&"0123456789".indexOf(r.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function wIe(r,t,e,i){for(var n=[],s="",a=0,o="",l="t",c,u,d,p="H";a<r.length;)switch(o=r.charAt(a)){case"G":if(!IS(r,a))throw new Error("unrecognized character "+o+" in "+r);n[n.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(d=r.charCodeAt(++a))!==34&&a<r.length;)s+=String.fromCharCode(d);n[n.length]={t:"t",v:s},++a;break;case"\\":var m=r.charAt(++a),y=m==="("||m===")"?m:"t";n[n.length]={t:y,v:m},++a;break;case"_":n[n.length]={t:"t",v:" "},a+=2;break;case"@":n[n.length]={t:"T",v:t},++a;break;case"B":case"b":if(r.charAt(a+1)==="1"||r.charAt(a+1)==="2"){if(c==null&&(c=U0(t,e,r.charAt(a+1)==="2"),c==null))return"";n[n.length]={t:"X",v:r.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=U0(t,e),c==null))return"";for(s=o;++a<r.length&&r.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),n[n.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var M={t:o,v:o};if(c==null&&(c=U0(t,e)),r.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(M.v=c.H>=12?"P":"A"),M.t="T",p="h",a+=3):r.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(M.v=c.H>=12?"PM":"AM"),M.t="T",a+=5,p="h"):r.substr(a,5).toUpperCase()==="/"?(c!=null&&(M.v=c.H>=12?"":""),M.t="T",a+=5,p="h"):(M.t="t",++a),c==null&&M.t==="T")return"";n[n.length]=M,l=o;break;case"[":for(s=o;r.charAt(a++)!=="]"&&a<r.length;)s+=r.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(dX)){if(c==null&&(c=U0(t,e),c==null))return"";n[n.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",ix(r)||(n[n.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<r.length&&(o=r.charAt(a))==="0";)s+=o;n[n.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(a))>-1;)s+=o;n[n.length]={t:"n",v:s};break;case"?":for(s=o;r.charAt(++a)===o;)s+=o;n[n.length]={t:o,v:s},l=o;break;case"*":++a,(r.charAt(a)==" "||r.charAt(a)=="*")&&++a;break;case"(":case")":n[n.length]={t:i===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<r.length&&"0123456789".indexOf(r.charAt(++a))>-1;)s+=r.charAt(a);n[n.length]={t:"D",v:s};break;case" ":n[n.length]={t:o,v:o},++a;break;case"$":n[n.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);n[n.length]={t:"t",v:o},++a;break}var w=0,b=0,D;for(a=n.length-1,l="t";a>=0;--a)switch(n[a].t){case"h":case"H":n[a].t=p,l="h",w<1&&(w=1);break;case"s":(D=n[a].v.match(/\.0+$/))&&(b=Math.max(b,D[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":l=n[a].t;break;case"m":l==="s"&&(n[a].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&n[a].v.match(/[Hh]/)&&(w=1),w<2&&n[a].v.match(/[Mm]/)&&(w=2),w<3&&n[a].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var E="",N;for(a=0;a<n.length;++a)switch(n[a].t){case"t":case"T":case" ":case"D":break;case"X":n[a].v="",n[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[a].v=hIe(n[a].t.charCodeAt(0),n[a].v,c,b),n[a].t="t";break;case"n":case"?":for(N=a+1;n[N]!=null&&((o=n[N].t)==="?"||o==="D"||(o===" "||o==="t")&&n[N+1]!=null&&(n[N+1].t==="?"||n[N+1].t==="t"&&n[N+1].v==="/")||n[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[N].v==="/"||n[N].v===" "&&n[N+1]!=null&&n[N+1].t=="?"));)n[a].v+=n[N].v,n[N]={v:"",t:";"},++N;E+=n[a].v,a=N-1;break;case"G":n[a].t="t",n[a].v=mv(t,e);break}var B="",P,C;if(E.length>0){E.charCodeAt(0)==40?(P=t<0&&E.charCodeAt(0)===45?-t:t,C=jp("n",E,P)):(P=t<0&&i>1?-t:t,C=jp("n",E,P),P<0&&n[0]&&n[0].t=="t"&&(C=C.substr(1),n[0].v="-"+n[0].v)),N=C.length-1;var k=n.length;for(a=0;a<n.length;++a)if(n[a]!=null&&n[a].t!="t"&&n[a].v.indexOf(".")>-1){k=a;break}var _=n.length;if(k===n.length&&C.indexOf("E")===-1){for(a=n.length-1;a>=0;--a)n[a]==null||"n?".indexOf(n[a].t)===-1||(N>=n[a].v.length-1?(N-=n[a].v.length,n[a].v=C.substr(N+1,n[a].v.length)):N<0?n[a].v="":(n[a].v=C.substr(0,N+1),N=-1),n[a].t="t",_=a);N>=0&&_<n.length&&(n[_].v=C.substr(0,N+1)+n[_].v)}else if(k!==n.length&&C.indexOf("E")===-1){for(N=C.indexOf(".")-1,a=k;a>=0;--a)if(!(n[a]==null||"n?".indexOf(n[a].t)===-1)){for(u=n[a].v.indexOf(".")>-1&&a===k?n[a].v.indexOf(".")-1:n[a].v.length-1,B=n[a].v.substr(u+1);u>=0;--u)N>=0&&(n[a].v.charAt(u)==="0"||n[a].v.charAt(u)==="#")&&(B=C.charAt(N--)+B);n[a].v=B,n[a].t="t",_=a}for(N>=0&&_<n.length&&(n[_].v=C.substr(0,N+1)+n[_].v),N=C.indexOf(".")+1,a=k;a<n.length;++a)if(!(n[a]==null||"n?(".indexOf(n[a].t)===-1&&a!==k)){for(u=n[a].v.indexOf(".")>-1&&a===k?n[a].v.indexOf(".")+1:0,B=n[a].v.substr(0,u);u<n[a].v.length;++u)N<C.length&&(B+=C.charAt(N++));n[a].v=B,n[a].t="t",_=a}}}for(a=0;a<n.length;++a)n[a]!=null&&"n?".indexOf(n[a].t)>-1&&(P=i>1&&t<0&&a>0&&n[a-1].v==="-"?-t:t,n[a].v=jp(n[a].t,n[a].v,P),n[a].t="t");var H="";for(a=0;a!==n.length;++a)n[a]!=null&&(H+=n[a].v);return H}var yH=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function xH(r,t){if(t==null)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(r==e)return!0;break;case">":if(r>e)return!0;break;case"<":if(r<e)return!0;break;case"<>":if(r!=e)return!0;break;case">=":if(r>=e)return!0;break;case"<=":if(r<=e)return!0;break}return!1}function TIe(r,t){var e=MIe(r),i=e.length,n=e[i-1].indexOf("@");if(i<4&&n>-1&&--i,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if(typeof t!="number")return[4,e.length===4||n>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=n>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=n>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=n>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"];break}var s=t>0?e[0]:t<0?e[1]:e[2];if(e[0].indexOf("[")===-1&&e[1].indexOf("[")===-1)return[i,s];if(e[0].match(/\[[=<>]/)!=null||e[1].match(/\[[=<>]/)!=null){var a=e[0].match(yH),o=e[1].match(yH);return xH(t,a)?[i,e[0]]:xH(t,o)?[i,e[1]]:[i,e[a!=null&&o!=null?2:1]]}return[i,s]}function Th(r,t,e){e==null&&(e={});var i="";switch(typeof r){case"string":r=="m/d/yy"&&e.dateNF?i=e.dateNF:i=r;break;case"number":r==14&&e.dateNF?i=e.dateNF:i=(e.table!=null?e.table:ir)[r],i==null&&(i=e.table&&e.table[mH[r]]||ir[mH[r]]),i==null&&(i=nIe[r]||"General");break}if(IS(i,0))return mv(t,e);t instanceof Date&&(t=nX(t,e.date1904));var n=TIe(i,t);if(IS(n[1]))return mv(t,e);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return wIe(n[1],t,e,n[0])}function _p(r,t){if(typeof t!="number"){t=+t||-1;for(var e=0;e<392;++e){if(ir[e]==null){t<0&&(t=e);continue}if(ir[e]==r){t=e;break}}t<0&&(t=391)}return ir[t]=r,t}function VN(r){for(var t=0;t!=392;++t)r[t]!==void 0&&_p(r[t],t)}function rx(){ir=rIe()}var bIe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},fX=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function DIe(r){var t=typeof r=="number"?ir[r]:r;return t=t.replace(fX,"(\\d+)"),new RegExp("^"+t+"$")}function EIe(r,t,e){var i=-1,n=-1,s=-1,a=-1,o=-1,l=-1;(t.match(fX)||[]).forEach(function(d,p){var m=parseInt(e[p+1],10);switch(d.toLowerCase().charAt(0)){case"y":i=m;break;case"d":s=m;break;case"h":a=m;break;case"s":l=m;break;case"m":a>=0?o=m:n=m;break}}),l>=0&&o==-1&&n>=0&&(o=n,n=-1);var c=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:i==-1&&n==-1&&s==-1?u:c+"T"+u}var AIe=(function(){var r={};r.version="1.2.0";function t(){for(var C=0,k=new Array(256),_=0;_!=256;++_)C=_,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,k[_]=C;return typeof Int32Array<"u"?new Int32Array(k):k}var e=t();function i(C){var k=0,_=0,H=0,j=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)j[H]=C[H];for(H=0;H!=256;++H)for(_=C[H],k=256+H;k<4096;k+=256)_=j[k]=_>>>8^C[_&255];var z=[];for(H=1;H!=16;++H)z[H-1]=typeof Int32Array<"u"?j.subarray(H*256,H*256+256):j.slice(H*256,H*256+256);return z}var n=i(e),s=n[0],a=n[1],o=n[2],l=n[3],c=n[4],u=n[5],d=n[6],p=n[7],m=n[8],y=n[9],M=n[10],w=n[11],b=n[12],D=n[13],E=n[14];function N(C,k){for(var _=k^-1,H=0,j=C.length;H<j;)_=_>>>8^e[(_^C.charCodeAt(H++))&255];return~_}function B(C,k){for(var _=k^-1,H=C.length-15,j=0;j<H;)_=E[C[j++]^_&255]^D[C[j++]^_>>8&255]^b[C[j++]^_>>16&255]^w[C[j++]^_>>>24]^M[C[j++]]^y[C[j++]]^m[C[j++]]^p[C[j++]]^d[C[j++]]^u[C[j++]]^c[C[j++]]^l[C[j++]]^o[C[j++]]^a[C[j++]]^s[C[j++]]^e[C[j++]];for(H+=15;j<H;)_=_>>>8^e[(_^C[j++])&255];return~_}function P(C,k){for(var _=k^-1,H=0,j=C.length,z=0,F=0;H<j;)z=C.charCodeAt(H++),z<128?_=_>>>8^e[(_^z)&255]:z<2048?(_=_>>>8^e[(_^(192|z>>6&31))&255],_=_>>>8^e[(_^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,F=C.charCodeAt(H++)&1023,_=_>>>8^e[(_^(240|z>>8&7))&255],_=_>>>8^e[(_^(128|z>>2&63))&255],_=_>>>8^e[(_^(128|F>>6&15|(z&3)<<4))&255],_=_>>>8^e[(_^(128|F&63))&255]):(_=_>>>8^e[(_^(224|z>>12&15))&255],_=_>>>8^e[(_^(128|z>>6&63))&255],_=_>>>8^e[(_^(128|z&63))&255]);return~_}return r.table=e,r.bstr=N,r.buf=B,r.str=P,r})(),Ji=(function(){var t={};t.version="1.2.1";function e(fe,Le){for(var be=fe.split("/"),De=Le.split("/"),Ce=0,ze=0,rt=Math.min(be.length,De.length);Ce<rt;++Ce){if(ze=be[Ce].length-De[Ce].length)return ze;if(be[Ce]!=De[Ce])return be[Ce]<De[Ce]?-1:1}return be.length-De.length}function i(fe){if(fe.charAt(fe.length-1)=="/")return fe.slice(0,-1).indexOf("/")===-1?fe:i(fe.slice(0,-1));var Le=fe.lastIndexOf("/");return Le===-1?fe:fe.slice(0,Le+1)}function n(fe){if(fe.charAt(fe.length-1)=="/")return n(fe.slice(0,-1));var Le=fe.lastIndexOf("/");return Le===-1?fe:fe.slice(Le+1)}function s(fe,Le){typeof Le=="string"&&(Le=new Date(Le));var be=Le.getHours();be=be<<6|Le.getMinutes(),be=be<<5|Le.getSeconds()>>>1,fe.write_shift(2,be);var De=Le.getFullYear()-1980;De=De<<4|Le.getMonth()+1,De=De<<5|Le.getDate(),fe.write_shift(2,De)}function a(fe){var Le=fe.read_shift(2)&65535,be=fe.read_shift(2)&65535,De=new Date,Ce=be&31;be>>>=5;var ze=be&15;be>>>=4,De.setMilliseconds(0),De.setFullYear(be+1980),De.setMonth(ze-1),De.setDate(Ce);var rt=Le&31;Le>>>=5;var vt=Le&63;return Le>>>=6,De.setHours(Le),De.setMinutes(vt),De.setSeconds(rt<<1),De}function o(fe){vl(fe,0);for(var Le={},be=0;fe.l<=fe.length-4;){var De=fe.read_shift(2),Ce=fe.read_shift(2),ze=fe.l+Ce,rt={};switch(De){case 21589:be=fe.read_shift(1),be&1&&(rt.mtime=fe.read_shift(4)),Ce>5&&(be&2&&(rt.atime=fe.read_shift(4)),be&4&&(rt.ctime=fe.read_shift(4))),rt.mtime&&(rt.mt=new Date(rt.mtime*1e3));break}fe.l=ze,Le[De]=rt}return Le}var l;function c(){return l||(l={})}function u(fe,Le){if(fe[0]==80&&fe[1]==75)return nn(fe,Le);if((fe[0]|32)==109&&(fe[1]|32)==105)return Pi(fe,Le);if(fe.length<512)throw new Error("CFB file size "+fe.length+" < 512");var be=3,De=512,Ce=0,ze=0,rt=0,vt=0,at=0,ot=[],lt=fe.slice(0,512);vl(lt,0);var Vt=d(lt);switch(be=Vt[0],be){case 3:De=512;break;case 4:De=4096;break;case 0:if(Vt[1]==0)return nn(fe,Le);default:throw new Error("Major Version: Expected 3 or 4 saw "+be)}De!==512&&(lt=fe.slice(0,De),vl(lt,28));var Jt=fe.slice(0,De);p(lt,be);var ai=lt.read_shift(4,"i");if(be===3&&ai!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ai);lt.l+=4,rt=lt.read_shift(4,"i"),lt.l+=4,lt.chk("00100000","Mini Stream Cutoff Size: "),vt=lt.read_shift(4,"i"),Ce=lt.read_shift(4,"i"),at=lt.read_shift(4,"i"),ze=lt.read_shift(4,"i");for(var Qt=-1,ii=0;ii<109&&(Qt=lt.read_shift(4,"i"),!(Qt<0));++ii)ot[ii]=Qt;var yi=m(fe,De);w(at,ze,yi,De,ot);var Xr=D(yi,rt,ot,De);Xr[rt].name="!Directory",Ce>0&&vt!==F&&(Xr[vt].name="!MiniFAT"),Xr[ot[0]].name="!FAT",Xr.fat_addrs=ot,Xr.ssz=De;var fr={},_r=[],Ia=[],Zl=[];E(rt,Xr,yi,_r,Ce,fr,Ia,vt),y(Ia,Zl,_r),_r.shift();var El={FileIndex:Ia,FullPaths:Zl};return Le&&Le.raw&&(El.raw={header:Jt,sectors:yi}),El}function d(fe){if(fe[fe.l]==80&&fe[fe.l+1]==75)return[0,0];fe.chk(X,"Header Signature: "),fe.l+=16;var Le=fe.read_shift(2,"u");return[fe.read_shift(2,"u"),Le]}function p(fe,Le){var be=9;switch(fe.l+=2,be=fe.read_shift(2)){case 9:if(Le!=3)throw new Error("Sector Shift: Expected 9 saw "+be);break;case 12:if(Le!=4)throw new Error("Sector Shift: Expected 12 saw "+be);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+be)}fe.chk("0600","Mini Sector Shift: "),fe.chk("000000000000","Reserved: ")}function m(fe,Le){for(var be=Math.ceil(fe.length/Le)-1,De=[],Ce=1;Ce<be;++Ce)De[Ce-1]=fe.slice(Ce*Le,(Ce+1)*Le);return De[be-1]=fe.slice(be*Le),De}function y(fe,Le,be){for(var De=0,Ce=0,ze=0,rt=0,vt=0,at=be.length,ot=[],lt=[];De<at;++De)ot[De]=lt[De]=De,Le[De]=be[De];for(;vt<lt.length;++vt)De=lt[vt],Ce=fe[De].L,ze=fe[De].R,rt=fe[De].C,ot[De]===De&&(Ce!==-1&&ot[Ce]!==Ce&&(ot[De]=ot[Ce]),ze!==-1&&ot[ze]!==ze&&(ot[De]=ot[ze])),rt!==-1&&(ot[rt]=De),Ce!==-1&&De!=ot[De]&&(ot[Ce]=ot[De],lt.lastIndexOf(Ce)<vt&&lt.push(Ce)),ze!==-1&&De!=ot[De]&&(ot[ze]=ot[De],lt.lastIndexOf(ze)<vt&&lt.push(ze));for(De=1;De<at;++De)ot[De]===De&&(ze!==-1&&ot[ze]!==ze?ot[De]=ot[ze]:Ce!==-1&&ot[Ce]!==Ce&&(ot[De]=ot[Ce]));for(De=1;De<at;++De)if(fe[De].type!==0){if(vt=De,vt!=ot[vt])do vt=ot[vt],Le[De]=Le[vt]+"/"+Le[De];while(vt!==0&&ot[vt]!==-1&&vt!=ot[vt]);ot[De]=-1}for(Le[0]+="/",De=1;De<at;++De)fe[De].type!==2&&(Le[De]+="/")}function M(fe,Le,be){for(var De=fe.start,Ce=fe.size,ze=[],rt=De;be&&Ce>0&&rt>=0;)ze.push(Le.slice(rt*z,rt*z+z)),Ce-=z,rt=P0(be,rt*4);return ze.length===0?St(0):Xo(ze).slice(0,fe.size)}function w(fe,Le,be,De,Ce){var ze=F;if(fe===F){if(Le!==0)throw new Error("DIFAT chain shorter than expected")}else if(fe!==-1){var rt=be[fe],vt=(De>>>2)-1;if(!rt)return;for(var at=0;at<vt&&(ze=P0(rt,at*4))!==F;++at)Ce.push(ze);w(P0(rt,De-4),Le-1,be,De,Ce)}}function b(fe,Le,be,De,Ce){var ze=[],rt=[];Ce||(Ce=[]);var vt=De-1,at=0,ot=0;for(at=Le;at>=0;){Ce[at]=!0,ze[ze.length]=at,rt.push(fe[at]);var lt=be[Math.floor(at*4/De)];if(ot=at*4&vt,De<4+ot)throw new Error("FAT boundary crossed: "+at+" 4 "+De);if(!fe[lt])break;at=P0(fe[lt],ot)}return{nodes:ze,data:OH([rt])}}function D(fe,Le,be,De){var Ce=fe.length,ze=[],rt=[],vt=[],at=[],ot=De-1,lt=0,Vt=0,Jt=0,ai=0;for(lt=0;lt<Ce;++lt)if(vt=[],Jt=lt+Le,Jt>=Ce&&(Jt-=Ce),!rt[Jt]){at=[];var Qt=[];for(Vt=Jt;Vt>=0;){Qt[Vt]=!0,rt[Vt]=!0,vt[vt.length]=Vt,at.push(fe[Vt]);var ii=be[Math.floor(Vt*4/De)];if(ai=Vt*4&ot,De<4+ai)throw new Error("FAT boundary crossed: "+Vt+" 4 "+De);if(!fe[ii]||(Vt=P0(fe[ii],ai),Qt[Vt]))break}ze[Jt]={nodes:vt,data:OH([at])}}return ze}function E(fe,Le,be,De,Ce,ze,rt,vt){for(var at=0,ot=De.length?2:0,lt=Le[fe].data,Vt=0,Jt=0,ai;Vt<lt.length;Vt+=128){var Qt=lt.slice(Vt,Vt+128);vl(Qt,64),Jt=Qt.read_shift(2),ai=C3(Qt,0,Jt-ot),De.push(ai);var ii={name:ai,type:Qt.read_shift(1),color:Qt.read_shift(1),L:Qt.read_shift(4,"i"),R:Qt.read_shift(4,"i"),C:Qt.read_shift(4,"i"),clsid:Qt.read_shift(16),state:Qt.read_shift(4,"i"),start:0,size:0},yi=Qt.read_shift(2)+Qt.read_shift(2)+Qt.read_shift(2)+Qt.read_shift(2);yi!==0&&(ii.ct=N(Qt,Qt.l-8));var Xr=Qt.read_shift(2)+Qt.read_shift(2)+Qt.read_shift(2)+Qt.read_shift(2);Xr!==0&&(ii.mt=N(Qt,Qt.l-8)),ii.start=Qt.read_shift(4,"i"),ii.size=Qt.read_shift(4,"i"),ii.size<0&&ii.start<0&&(ii.size=ii.type=0,ii.start=F,ii.name=""),ii.type===5?(at=ii.start,Ce>0&&at!==F&&(Le[at].name="!StreamData")):ii.size>=4096?(ii.storage="fat",Le[ii.start]===void 0&&(Le[ii.start]=b(be,ii.start,Le.fat_addrs,Le.ssz)),Le[ii.start].name=ii.name,ii.content=Le[ii.start].data.slice(0,ii.size)):(ii.storage="minifat",ii.size<0?ii.size=0:at!==F&&ii.start!==F&&Le[at]&&(ii.content=M(ii,Le[at].data,(Le[vt]||{}).data))),ii.content&&vl(ii.content,0),ze[ai]=ii,rt.push(ii)}}function N(fe,Le){return new Date((xu(fe,Le+4)/1e7*Math.pow(2,32)+xu(fe,Le)/1e7-11644473600)*1e3)}function B(fe,Le){return c(),u(l.readFileSync(fe),Le)}function P(fe,Le){var be=Le&&Le.type;switch(be||jr&&Buffer.isBuffer(fe)&&(be="buffer"),be||"base64"){case"file":return B(fe,Le);case"base64":return u(Mu(Nu(fe)),Le);case"binary":return u(Mu(fe),Le)}return u(fe,Le)}function C(fe,Le){var be=Le||{},De=be.root||"Root Entry";if(fe.FullPaths||(fe.FullPaths=[]),fe.FileIndex||(fe.FileIndex=[]),fe.FullPaths.length!==fe.FileIndex.length)throw new Error("inconsistent CFB structure");fe.FullPaths.length===0&&(fe.FullPaths[0]=De+"/",fe.FileIndex[0]={name:De,type:5}),be.CLSID&&(fe.FileIndex[0].clsid=be.CLSID),k(fe)}function k(fe){var Le="Sh33tJ5";if(!Ji.find(fe,"/"+Le)){var be=St(4);be[0]=55,be[1]=be[3]=50,be[2]=54,fe.FileIndex.push({name:Le,type:2,content:be,size:4,L:69,R:69,C:69}),fe.FullPaths.push(fe.FullPaths[0]+Le),_(fe)}}function _(fe,Le){C(fe);for(var be=!1,De=!1,Ce=fe.FullPaths.length-1;Ce>=0;--Ce){var ze=fe.FileIndex[Ce];switch(ze.type){case 0:De?be=!0:(fe.FileIndex.pop(),fe.FullPaths.pop());break;case 1:case 2:case 5:De=!0,isNaN(ze.R*ze.L*ze.C)&&(be=!0),ze.R>-1&&ze.L>-1&&ze.R==ze.L&&(be=!0);break;default:be=!0;break}}if(!(!be&&!Le)){var rt=new Date(1987,1,19),vt=0,at=Object.create?Object.create(null):{},ot=[];for(Ce=0;Ce<fe.FullPaths.length;++Ce)at[fe.FullPaths[Ce]]=!0,fe.FileIndex[Ce].type!==0&&ot.push([fe.FullPaths[Ce],fe.FileIndex[Ce]]);for(Ce=0;Ce<ot.length;++Ce){var lt=i(ot[Ce][0]);De=at[lt],De||(ot.push([lt,{name:n(lt).replace("/",""),type:1,clsid:U,ct:rt,mt:rt,content:null}]),at[lt]=!0)}for(ot.sort(function(ai,Qt){return e(ai[0],Qt[0])}),fe.FullPaths=[],fe.FileIndex=[],Ce=0;Ce<ot.length;++Ce)fe.FullPaths[Ce]=ot[Ce][0],fe.FileIndex[Ce]=ot[Ce][1];for(Ce=0;Ce<ot.length;++Ce){var Vt=fe.FileIndex[Ce],Jt=fe.FullPaths[Ce];if(Vt.name=n(Jt).replace("/",""),Vt.L=Vt.R=Vt.C=-(Vt.color=1),Vt.size=Vt.content?Vt.content.length:0,Vt.start=0,Vt.clsid=Vt.clsid||U,Ce===0)Vt.C=ot.length>1?1:-1,Vt.size=0,Vt.type=5;else if(Jt.slice(-1)=="/"){for(vt=Ce+1;vt<ot.length&&i(fe.FullPaths[vt])!=Jt;++vt);for(Vt.C=vt>=ot.length?-1:vt,vt=Ce+1;vt<ot.length&&i(fe.FullPaths[vt])!=i(Jt);++vt);Vt.R=vt>=ot.length?-1:vt,Vt.type=1}else i(fe.FullPaths[Ce+1]||"")==i(Jt)&&(Vt.R=Ce+1),Vt.type=2}}}function H(fe,Le){var be=Le||{};if(be.fileType=="mad")return Fn(fe,be);switch(_(fe),be.fileType){case"zip":return Dr(fe,be)}var De=(function(ai){for(var Qt=0,ii=0,yi=0;yi<ai.FileIndex.length;++yi){var Xr=ai.FileIndex[yi];if(Xr.content){var fr=Xr.content.length;fr>0&&(fr<4096?Qt+=fr+63>>6:ii+=fr+511>>9)}}for(var _r=ai.FullPaths.length+3>>2,Ia=Qt+7>>3,Zl=Qt+127>>7,El=Ia+ii+_r+Zl,jo=El+127>>7,ru=jo<=109?0:Math.ceil((jo-109)/127);El+jo+ru+127>>7>jo;)ru=++jo<=109?0:Math.ceil((jo-109)/127);var ks=[1,ru,jo,Zl,_r,ii,Qt,0];return ai.FileIndex[0].size=Qt<<6,ks[7]=(ai.FileIndex[0].start=ks[0]+ks[1]+ks[2]+ks[3]+ks[4]+ks[5])+(ks[6]+7>>3),ks})(fe),Ce=St(De[7]<<9),ze=0,rt=0;{for(ze=0;ze<8;++ze)Ce.write_shift(1,J[ze]);for(ze=0;ze<8;++ze)Ce.write_shift(2,0);for(Ce.write_shift(2,62),Ce.write_shift(2,3),Ce.write_shift(2,65534),Ce.write_shift(2,9),Ce.write_shift(2,6),ze=0;ze<3;++ze)Ce.write_shift(2,0);for(Ce.write_shift(4,0),Ce.write_shift(4,De[2]),Ce.write_shift(4,De[0]+De[1]+De[2]+De[3]-1),Ce.write_shift(4,0),Ce.write_shift(4,4096),Ce.write_shift(4,De[3]?De[0]+De[1]+De[2]-1:F),Ce.write_shift(4,De[3]),Ce.write_shift(-4,De[1]?De[0]-1:F),Ce.write_shift(4,De[1]),ze=0;ze<109;++ze)Ce.write_shift(-4,ze<De[2]?De[1]+ze:-1)}if(De[1])for(rt=0;rt<De[1];++rt){for(;ze<236+rt*127;++ze)Ce.write_shift(-4,ze<De[2]?De[1]+ze:-1);Ce.write_shift(-4,rt===De[1]-1?F:rt+1)}var vt=function(ai){for(rt+=ai;ze<rt-1;++ze)Ce.write_shift(-4,ze+1);ai&&(++ze,Ce.write_shift(-4,F))};for(rt=ze=0,rt+=De[1];ze<rt;++ze)Ce.write_shift(-4,W.DIFSECT);for(rt+=De[2];ze<rt;++ze)Ce.write_shift(-4,W.FATSECT);vt(De[3]),vt(De[4]);for(var at=0,ot=0,lt=fe.FileIndex[0];at<fe.FileIndex.length;++at)lt=fe.FileIndex[at],lt.content&&(ot=lt.content.length,!(ot<4096)&&(lt.start=rt,vt(ot+511>>9)));for(vt(De[6]+7>>3);Ce.l&511;)Ce.write_shift(-4,W.ENDOFCHAIN);for(rt=ze=0,at=0;at<fe.FileIndex.length;++at)lt=fe.FileIndex[at],lt.content&&(ot=lt.content.length,!(!ot||ot>=4096)&&(lt.start=rt,vt(ot+63>>6)));for(;Ce.l&511;)Ce.write_shift(-4,W.ENDOFCHAIN);for(ze=0;ze<De[4]<<2;++ze){var Vt=fe.FullPaths[ze];if(!Vt||Vt.length===0){for(at=0;at<17;++at)Ce.write_shift(4,0);for(at=0;at<3;++at)Ce.write_shift(4,-1);for(at=0;at<12;++at)Ce.write_shift(4,0);continue}lt=fe.FileIndex[ze],ze===0&&(lt.start=lt.size?lt.start-1:F);var Jt=ze===0&&be.root||lt.name;if(ot=2*(Jt.length+1),Ce.write_shift(64,Jt,"utf16le"),Ce.write_shift(2,ot),Ce.write_shift(1,lt.type),Ce.write_shift(1,lt.color),Ce.write_shift(-4,lt.L),Ce.write_shift(-4,lt.R),Ce.write_shift(-4,lt.C),lt.clsid)Ce.write_shift(16,lt.clsid,"hex");else for(at=0;at<4;++at)Ce.write_shift(4,0);Ce.write_shift(4,lt.state||0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,lt.start),Ce.write_shift(4,lt.size),Ce.write_shift(4,0)}for(ze=1;ze<fe.FileIndex.length;++ze)if(lt=fe.FileIndex[ze],lt.size>=4096)if(Ce.l=lt.start+1<<9,jr&&Buffer.isBuffer(lt.content))lt.content.copy(Ce,Ce.l,0,lt.size),Ce.l+=lt.size+511&-512;else{for(at=0;at<lt.size;++at)Ce.write_shift(1,lt.content[at]);for(;at&511;++at)Ce.write_shift(1,0)}for(ze=1;ze<fe.FileIndex.length;++ze)if(lt=fe.FileIndex[ze],lt.size>0&&lt.size<4096)if(jr&&Buffer.isBuffer(lt.content))lt.content.copy(Ce,Ce.l,0,lt.size),Ce.l+=lt.size+63&-64;else{for(at=0;at<lt.size;++at)Ce.write_shift(1,lt.content[at]);for(;at&63;++at)Ce.write_shift(1,0)}if(jr)Ce.l=Ce.length;else for(;Ce.l<Ce.length;)Ce.write_shift(1,0);return Ce}function j(fe,Le){var be=fe.FullPaths.map(function(at){return at.toUpperCase()}),De=be.map(function(at){var ot=at.split("/");return ot[ot.length-(at.slice(-1)=="/"?2:1)]}),Ce=!1;Le.charCodeAt(0)===47?(Ce=!0,Le=be[0].slice(0,-1)+Le):Ce=Le.indexOf("/")!==-1;var ze=Le.toUpperCase(),rt=Ce===!0?be.indexOf(ze):De.indexOf(ze);if(rt!==-1)return fe.FileIndex[rt];var vt=!ze.match(sw);for(ze=ze.replace(xc,""),vt&&(ze=ze.replace(sw,"!")),rt=0;rt<be.length;++rt)if((vt?be[rt].replace(sw,"!"):be[rt]).replace(xc,"")==ze||(vt?De[rt].replace(sw,"!"):De[rt]).replace(xc,"")==ze)return fe.FileIndex[rt];return null}var z=64,F=-2,X="d0cf11e0a1b11ae1",J=[208,207,17,224,161,177,26,225],U="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:X,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:U,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(fe,Le,be){c();var De=H(fe,be);l.writeFileSync(Le,De)}function Z(fe){for(var Le=new Array(fe.length),be=0;be<fe.length;++be)Le[be]=String.fromCharCode(fe[be]);return Le.join("")}function Ee(fe,Le){var be=H(fe,Le);switch(Le&&Le.type||"buffer"){case"file":return c(),l.writeFileSync(Le.filename,be),be;case"binary":return typeof be=="string"?be:Z(be);case"base64":return wT(typeof be=="string"?be:Z(be));case"buffer":if(jr)return Buffer.isBuffer(be)?be:Xp(be);case"array":return typeof be=="string"?Mu(be):be}return be}var ae;function L(fe){try{var Le=fe.InflateRaw,be=new Le;if(be._processChunk(new Uint8Array([3,0]),be._finishFlushFlag),be.bytesRead)ae=fe;else throw new Error("zlib does not expose bytesRead")}catch(De){console.error("cannot use native zlib: "+(De.message||De))}}function Y(fe,Le){if(!ae)return Bi(fe,Le);var be=ae.InflateRaw,De=new be,Ce=De._processChunk(fe.slice(fe.l),De._finishFlushFlag);return fe.l+=De.bytesRead,Ce}function G(fe){return ae?ae.deflateRawSync(fe):Ue(fe)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Me(fe){var Le=(fe<<1|fe<<11)&139536|(fe<<5|fe<<15)&558144;return(Le>>16|Le>>8|Le)&255}for(var ve=typeof Uint8Array<"u",Ie=ve?new Uint8Array(256):[],Je=0;Je<256;++Je)Ie[Je]=Me(Je);function xe(fe,Le){var be=Ie[fe&255];return Le<=8?be>>>8-Le:(be=be<<8|Ie[fe>>8&255],Le<=16?be>>>16-Le:(be=be<<8|Ie[fe>>16&255],be>>>24-Le))}function Ot(fe,Le){var be=Le&7,De=Le>>>3;return(fe[De]|(be<=6?0:fe[De+1]<<8))>>>be&3}function Ge(fe,Le){var be=Le&7,De=Le>>>3;return(fe[De]|(be<=5?0:fe[De+1]<<8))>>>be&7}function Se(fe,Le){var be=Le&7,De=Le>>>3;return(fe[De]|(be<=4?0:fe[De+1]<<8))>>>be&15}function ti(fe,Le){var be=Le&7,De=Le>>>3;return(fe[De]|(be<=3?0:fe[De+1]<<8))>>>be&31}function Tt(fe,Le){var be=Le&7,De=Le>>>3;return(fe[De]|(be<=1?0:fe[De+1]<<8))>>>be&127}function $t(fe,Le,be){var De=Le&7,Ce=Le>>>3,ze=(1<<be)-1,rt=fe[Ce]>>>De;return be<8-De||(rt|=fe[Ce+1]<<8-De,be<16-De)||(rt|=fe[Ce+2]<<16-De,be<24-De)||(rt|=fe[Ce+3]<<24-De),rt&ze}function Lt(fe,Le,be){var De=Le&7,Ce=Le>>>3;return De<=5?fe[Ce]|=(be&7)<<De:(fe[Ce]|=be<<De&255,fe[Ce+1]=(be&7)>>8-De),Le+3}function ni(fe,Le,be){var De=Le&7,Ce=Le>>>3;return be=(be&1)<<De,fe[Ce]|=be,Le+1}function Yt(fe,Le,be){var De=Le&7,Ce=Le>>>3;return be<<=De,fe[Ce]|=be&255,be>>>=8,fe[Ce+1]=be,Le+8}function Ri(fe,Le,be){var De=Le&7,Ce=Le>>>3;return be<<=De,fe[Ce]|=be&255,be>>>=8,fe[Ce+1]=be&255,fe[Ce+2]=be>>>8,Le+16}function pi(fe,Le){var be=fe.length,De=2*be>Le?2*be:Le+5,Ce=0;if(be>=Le)return fe;if(jr){var ze=dH(De);if(fe.copy)fe.copy(ze);else for(;Ce<fe.length;++Ce)ze[Ce]=fe[Ce];return ze}else if(ve){var rt=new Uint8Array(De);if(rt.set)rt.set(fe);else for(;Ce<be;++Ce)rt[Ce]=fe[Ce];return rt}return fe.length=De,fe}function Mt(fe){for(var Le=new Array(fe),be=0;be<fe;++be)Le[be]=0;return Le}function Bt(fe,Le,be){var De=1,Ce=0,ze=0,rt=0,vt=0,at=fe.length,ot=ve?new Uint16Array(32):Mt(32);for(ze=0;ze<32;++ze)ot[ze]=0;for(ze=at;ze<be;++ze)fe[ze]=0;at=fe.length;var lt=ve?new Uint16Array(at):Mt(at);for(ze=0;ze<at;++ze)ot[Ce=fe[ze]]++,De<Ce&&(De=Ce),lt[ze]=0;for(ot[0]=0,ze=1;ze<=De;++ze)ot[ze+16]=vt=vt+ot[ze-1]<<1;for(ze=0;ze<at;++ze)vt=fe[ze],vt!=0&&(lt[ze]=ot[vt+16]++);var Vt=0;for(ze=0;ze<at;++ze)if(Vt=fe[ze],Vt!=0)for(vt=xe(lt[ze],De)>>De-Vt,rt=(1<<De+4-Vt)-1;rt>=0;--rt)Le[vt|rt<<Vt]=Vt&15|ze<<4;return De}var Xt=ve?new Uint16Array(512):Mt(512),gi=ve?new Uint16Array(32):Mt(32);if(!ve){for(var he=0;he<512;++he)Xt[he]=0;for(he=0;he<32;++he)gi[he]=0}(function(){for(var fe=[],Le=0;Le<32;Le++)fe.push(5);Bt(fe,gi,32);var be=[];for(Le=0;Le<=143;Le++)be.push(8);for(;Le<=255;Le++)be.push(9);for(;Le<=279;Le++)be.push(7);for(;Le<=287;Le++)be.push(8);Bt(be,Xt,288)})();var Ne=(function(){for(var Le=ve?new Uint8Array(32768):[],be=0,De=0;be<le.length-1;++be)for(;De<le[be+1];++De)Le[De]=be;for(;De<32768;++De)Le[De]=29;var Ce=ve?new Uint8Array(259):[];for(be=0,De=0;be<te.length-1;++be)for(;De<te[be+1];++De)Ce[De]=be;function ze(vt,at){for(var ot=0;ot<vt.length;){var lt=Math.min(65535,vt.length-ot),Vt=ot+lt==vt.length;for(at.write_shift(1,+Vt),at.write_shift(2,lt),at.write_shift(2,~lt&65535);lt-- >0;)at[at.l++]=vt[ot++]}return at.l}function rt(vt,at){for(var ot=0,lt=0,Vt=ve?new Uint16Array(32768):[];lt<vt.length;){var Jt=Math.min(65535,vt.length-lt);if(Jt<10){for(ot=Lt(at,ot,+(lt+Jt==vt.length)),ot&7&&(ot+=8-(ot&7)),at.l=ot/8|0,at.write_shift(2,Jt),at.write_shift(2,~Jt&65535);Jt-- >0;)at[at.l++]=vt[lt++];ot=at.l*8;continue}ot=Lt(at,ot,+(lt+Jt==vt.length)+2);for(var ai=0;Jt-- >0;){var Qt=vt[lt];ai=(ai<<5^Qt)&32767;var ii=-1,yi=0;if((ii=Vt[ai])&&(ii|=lt&-32768,ii>lt&&(ii-=32768),ii<lt))for(;vt[ii+yi]==vt[lt+yi]&&yi<250;)++yi;if(yi>2){Qt=Ce[yi],Qt<=22?ot=Yt(at,ot,Ie[Qt+1]>>1)-1:(Yt(at,ot,3),ot+=5,Yt(at,ot,Ie[Qt-23]>>5),ot+=3);var Xr=Qt<8?0:Qt-4>>2;Xr>0&&(Ri(at,ot,yi-te[Qt]),ot+=Xr),Qt=Le[lt-ii],ot=Yt(at,ot,Ie[Qt]>>3),ot-=3;var fr=Qt<4?0:Qt-2>>1;fr>0&&(Ri(at,ot,lt-ii-le[Qt]),ot+=fr);for(var _r=0;_r<yi;++_r)Vt[ai]=lt&32767,ai=(ai<<5^vt[lt])&32767,++lt;Jt-=yi-1}else Qt<=143?Qt=Qt+48:ot=ni(at,ot,1),ot=Yt(at,ot,Ie[Qt]),Vt[ai]=lt&32767,++lt}ot=Yt(at,ot,0)-1}return at.l=(ot+7)/8|0,at.l}return function(at,ot){return at.length<8?ze(at,ot):rt(at,ot)}})();function Ue(fe){var Le=St(50+Math.floor(fe.length*1.1)),be=Ne(fe,Le);return Le.slice(0,be)}var Ke=ve?new Uint16Array(32768):Mt(32768),yt=ve?new Uint16Array(32768):Mt(32768),xt=ve?new Uint16Array(128):Mt(128),Nt=1,hi=1;function bi(fe,Le){var be=ti(fe,Le)+257;Le+=5;var De=ti(fe,Le)+1;Le+=5;var Ce=Se(fe,Le)+4;Le+=4;for(var ze=0,rt=ve?new Uint8Array(19):Mt(19),vt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],at=1,ot=ve?new Uint8Array(8):Mt(8),lt=ve?new Uint8Array(8):Mt(8),Vt=rt.length,Jt=0;Jt<Ce;++Jt)rt[Q[Jt]]=ze=Ge(fe,Le),at<ze&&(at=ze),ot[ze]++,Le+=3;var ai=0;for(ot[0]=0,Jt=1;Jt<=at;++Jt)lt[Jt]=ai=ai+ot[Jt-1]<<1;for(Jt=0;Jt<Vt;++Jt)(ai=rt[Jt])!=0&&(vt[Jt]=lt[ai]++);var Qt=0;for(Jt=0;Jt<Vt;++Jt)if(Qt=rt[Jt],Qt!=0){ai=Ie[vt[Jt]]>>8-Qt;for(var ii=(1<<7-Qt)-1;ii>=0;--ii)xt[ai|ii<<Qt]=Qt&7|Jt<<3}var yi=[];for(at=1;yi.length<be+De;)switch(ai=xt[Tt(fe,Le)],Le+=ai&7,ai>>>=3){case 16:for(ze=3+Ot(fe,Le),Le+=2,ai=yi[yi.length-1];ze-- >0;)yi.push(ai);break;case 17:for(ze=3+Ge(fe,Le),Le+=3;ze-- >0;)yi.push(0);break;case 18:for(ze=11+Tt(fe,Le),Le+=7;ze-- >0;)yi.push(0);break;default:yi.push(ai),at<ai&&(at=ai);break}var Xr=yi.slice(0,be),fr=yi.slice(be);for(Jt=be;Jt<286;++Jt)Xr[Jt]=0;for(Jt=De;Jt<30;++Jt)fr[Jt]=0;return Nt=Bt(Xr,Ke,286),hi=Bt(fr,yt,30),Le}function vi(fe,Le){if(fe[0]==3&&!(fe[1]&3))return[jg(Le),2];for(var be=0,De=0,Ce=dH(Le||1<<18),ze=0,rt=Ce.length>>>0,vt=0,at=0;(De&1)==0;){if(De=Ge(fe,be),be+=3,De>>>1)De>>1==1?(vt=9,at=5):(be=bi(fe,be),vt=Nt,at=hi);else{be&7&&(be+=8-(be&7));var ot=fe[be>>>3]|fe[(be>>>3)+1]<<8;if(be+=32,ot>0)for(!Le&&rt<ze+ot&&(Ce=pi(Ce,ze+ot),rt=Ce.length);ot-- >0;)Ce[ze++]=fe[be>>>3],be+=8;continue}for(;;){!Le&&rt<ze+32767&&(Ce=pi(Ce,ze+32767),rt=Ce.length);var lt=$t(fe,be,vt),Vt=De>>>1==1?Xt[lt]:Ke[lt];if(be+=Vt&15,Vt>>>=4,(Vt>>>8&255)===0)Ce[ze++]=Vt;else{if(Vt==256)break;Vt-=257;var Jt=Vt<8?0:Vt-4>>2;Jt>5&&(Jt=0);var ai=ze+te[Vt];Jt>0&&(ai+=$t(fe,be,Jt),be+=Jt),lt=$t(fe,be,at),Vt=De>>>1==1?gi[lt]:yt[lt],be+=Vt&15,Vt>>>=4;var Qt=Vt<4?0:Vt-2>>1,ii=le[Vt];for(Qt>0&&(ii+=$t(fe,be,Qt),be+=Qt),!Le&&rt<ai&&(Ce=pi(Ce,ai+100),rt=Ce.length);ze<ai;)Ce[ze]=Ce[ze-ii],++ze}}}return Le?[Ce,be+7>>>3]:[Ce.slice(0,ze),be+7>>>3]}function Bi(fe,Le){var be=fe.slice(fe.l||0),De=vi(be,Le);return fe.l+=De[1],De[0]}function Qi(fe,Le){if(fe)typeof console<"u"&&console.error(Le);else throw new Error(Le)}function nn(fe,Le){var be=fe;vl(be,0);var De=[],Ce=[],ze={FileIndex:De,FullPaths:Ce};C(ze,{root:Le.root});for(var rt=be.length-4;(be[rt]!=80||be[rt+1]!=75||be[rt+2]!=5||be[rt+3]!=6)&&rt>=0;)--rt;be.l=rt+4,be.l+=4;var vt=be.read_shift(2);be.l+=6;var at=be.read_shift(4);for(be.l=at,rt=0;rt<vt;++rt){be.l+=20;var ot=be.read_shift(4),lt=be.read_shift(4),Vt=be.read_shift(2),Jt=be.read_shift(2),ai=be.read_shift(2);be.l+=8;var Qt=be.read_shift(4),ii=o(be.slice(be.l+Vt,be.l+Vt+Jt));be.l+=Vt+Jt+ai;var yi=be.l;be.l=Qt+4,sn(be,ot,lt,ze,ii),be.l=yi}return ze}function sn(fe,Le,be,De,Ce){fe.l+=2;var ze=fe.read_shift(2),rt=fe.read_shift(2),vt=a(fe);if(ze&8257)throw new Error("Unsupported ZIP encryption");for(var at=fe.read_shift(4),ot=fe.read_shift(4),lt=fe.read_shift(4),Vt=fe.read_shift(2),Jt=fe.read_shift(2),ai="",Qt=0;Qt<Vt;++Qt)ai+=String.fromCharCode(fe[fe.l++]);if(Jt){var ii=o(fe.slice(fe.l,fe.l+Jt));(ii[21589]||{}).mt&&(vt=ii[21589].mt),((Ce||{})[21589]||{}).mt&&(vt=Ce[21589].mt)}fe.l+=Jt;var yi=fe.slice(fe.l,fe.l+ot);switch(rt){case 8:yi=Y(fe,lt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+rt)}var Xr=!1;ze&8&&(at=fe.read_shift(4),at==134695760&&(at=fe.read_shift(4),Xr=!0),ot=fe.read_shift(4),lt=fe.read_shift(4)),ot!=Le&&Qi(Xr,"Bad compressed size: "+Le+" != "+ot),lt!=be&&Qi(Xr,"Bad uncompressed size: "+be+" != "+lt),Os(De,ai,yi,{unsafe:!0,mt:vt})}function Dr(fe,Le){var be=Le||{},De=[],Ce=[],ze=St(1),rt=be.compression?8:0,vt=0,at=0,ot=0,lt=0,Vt=0,Jt=fe.FullPaths[0],ai=Jt,Qt=fe.FileIndex[0],ii=[],yi=0;for(at=1;at<fe.FullPaths.length;++at)if(ai=fe.FullPaths[at].slice(Jt.length),Qt=fe.FileIndex[at],!(!Qt.size||!Qt.content||ai=="Sh33tJ5")){var Xr=lt,fr=St(ai.length);for(ot=0;ot<ai.length;++ot)fr.write_shift(1,ai.charCodeAt(ot)&127);fr=fr.slice(0,fr.l),ii[Vt]=AIe.buf(Qt.content,0);var _r=Qt.content;rt==8&&(_r=G(_r)),ze=St(30),ze.write_shift(4,67324752),ze.write_shift(2,20),ze.write_shift(2,vt),ze.write_shift(2,rt),Qt.mt?s(ze,Qt.mt):ze.write_shift(4,0),ze.write_shift(-4,ii[Vt]),ze.write_shift(4,_r.length),ze.write_shift(4,Qt.content.length),ze.write_shift(2,fr.length),ze.write_shift(2,0),lt+=ze.length,De.push(ze),lt+=fr.length,De.push(fr),lt+=_r.length,De.push(_r),ze=St(46),ze.write_shift(4,33639248),ze.write_shift(2,0),ze.write_shift(2,20),ze.write_shift(2,vt),ze.write_shift(2,rt),ze.write_shift(4,0),ze.write_shift(-4,ii[Vt]),ze.write_shift(4,_r.length),ze.write_shift(4,Qt.content.length),ze.write_shift(2,fr.length),ze.write_shift(2,0),ze.write_shift(2,0),ze.write_shift(2,0),ze.write_shift(2,0),ze.write_shift(4,0),ze.write_shift(4,Xr),yi+=ze.l,Ce.push(ze),yi+=fr.length,Ce.push(fr),++Vt}return ze=St(22),ze.write_shift(4,101010256),ze.write_shift(2,0),ze.write_shift(2,0),ze.write_shift(2,Vt),ze.write_shift(2,Vt),ze.write_shift(4,yi),ze.write_shift(4,lt),ze.write_shift(2,0),Xo([Xo(De),Xo(Ce),ze])}var _i={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function dr(fe,Le){if(fe.ctype)return fe.ctype;var be=fe.name||"",De=be.match(/\.([^\.]+)$/);return De&&_i[De[1]]||Le&&(De=(be=Le).match(/[\.\\]([^\.\\])+$/),De&&_i[De[1]])?_i[De[1]]:"application/octet-stream"}function Lo(fe){for(var Le=wT(fe),be=[],De=0;De<Le.length;De+=76)be.push(Le.slice(De,De+76));return be.join(`\r
`)+`\r
`}function Cs(fe){var Le=fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ot){var lt=ot.charCodeAt(0).toString(16).toUpperCase();return"="+(lt.length==1?"0"+lt:lt)});Le=Le.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Le.charAt(0)==`
`&&(Le="=0D"+Le.slice(1)),Le=Le.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var be=[],De=Le.split(`\r
`),Ce=0;Ce<De.length;++Ce){var ze=De[Ce];if(ze.length==0){be.push("");continue}for(var rt=0;rt<ze.length;){var vt=76,at=ze.slice(rt,rt+vt);at.charAt(vt-1)=="="?vt--:at.charAt(vt-2)=="="?vt-=2:at.charAt(vt-3)=="="&&(vt-=3),at=ze.slice(rt,rt+vt),rt+=vt,rt<ze.length&&(at+="="),be.push(at)}}return be.join(`\r
`)}function Zo(fe){for(var Le=[],be=0;be<fe.length;++be){for(var De=fe[be];be<=fe.length&&De.charAt(De.length-1)=="=";)De=De.slice(0,De.length-1)+fe[++be];Le.push(De)}for(var Ce=0;Ce<Le.length;++Ce)Le[Ce]=Le[Ce].replace(/[=][0-9A-Fa-f]{2}/g,function(ze){return String.fromCharCode(parseInt(ze.slice(1),16))});return Mu(Le.join(`\r
`))}function pa(fe,Le,be){for(var De="",Ce="",ze="",rt,vt=0;vt<10;++vt){var at=Le[vt];if(!at||at.match(/^\s*$/))break;var ot=at.match(/^(.*?):\s*([^\s].*)$/);if(ot)switch(ot[1].toLowerCase()){case"content-location":De=ot[2].trim();break;case"content-type":ze=ot[2].trim();break;case"content-transfer-encoding":Ce=ot[2].trim();break}}switch(++vt,Ce.toLowerCase()){case"base64":rt=Mu(Nu(Le.slice(vt).join("")));break;case"quoted-printable":rt=Zo(Le.slice(vt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ce)}var lt=Os(fe,De.slice(be.length),rt,{unsafe:!0});ze&&(lt.ctype=ze)}function Pi(fe,Le){if(Z(fe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var be=Le&&Le.root||"",De=(jr&&Buffer.isBuffer(fe)?fe.toString("binary"):Z(fe)).split(`\r
`),Ce=0,ze="";for(Ce=0;Ce<De.length;++Ce)if(ze=De[Ce],!!/^Content-Location:/i.test(ze)&&(ze=ze.slice(ze.indexOf("file")),be||(be=ze.slice(0,ze.lastIndexOf("/")+1)),ze.slice(0,be.length)!=be))for(;be.length>0&&(be=be.slice(0,be.length-1),be=be.slice(0,be.lastIndexOf("/")+1),ze.slice(0,be.length)!=be););var rt=(De[1]||"").match(/boundary="(.*?)"/);if(!rt)throw new Error("MAD cannot find boundary");var vt="--"+(rt[1]||""),at=[],ot=[],lt={FileIndex:at,FullPaths:ot};C(lt);var Vt,Jt=0;for(Ce=0;Ce<De.length;++Ce){var ai=De[Ce];ai!==vt&&ai!==vt+"--"||(Jt++&&pa(lt,De.slice(Vt,Ce),be),Vt=Ce)}return lt}function Fn(fe,Le){var be=Le||{},De=be.boundary||"SheetJS";De="------="+De;for(var Ce=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+De.slice(2)+'"',"","",""],ze=fe.FullPaths[0],rt=ze,vt=fe.FileIndex[0],at=1;at<fe.FullPaths.length;++at)if(rt=fe.FullPaths[at].slice(ze.length),vt=fe.FileIndex[at],!(!vt.size||!vt.content||rt=="Sh33tJ5")){rt=rt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(yi){return"_x"+yi.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(yi){return"_u"+yi.charCodeAt(0).toString(16)+"_"});for(var ot=vt.content,lt=jr&&Buffer.isBuffer(ot)?ot.toString("binary"):Z(ot),Vt=0,Jt=Math.min(1024,lt.length),ai=0,Qt=0;Qt<=Jt;++Qt)(ai=lt.charCodeAt(Qt))>=32&&ai<128&&++Vt;var ii=Vt>=Jt*4/5;Ce.push(De),Ce.push("Content-Location: "+(be.root||"file:///C:/SheetJS/")+rt),Ce.push("Content-Transfer-Encoding: "+(ii?"quoted-printable":"base64")),Ce.push("Content-Type: "+dr(vt,rt)),Ce.push(""),Ce.push(ii?Cs(lt):Lo(lt))}return Ce.push(De+`--\r
`),Ce.join(`\r
`)}function el(fe){var Le={};return C(Le,fe),Le}function Os(fe,Le,be,De){var Ce=De&&De.unsafe;Ce||C(fe);var ze=!Ce&&Ji.find(fe,Le);if(!ze){var rt=fe.FullPaths[0];Le.slice(0,rt.length)==rt?rt=Le:(rt.slice(-1)!="/"&&(rt+="/"),rt=(rt+Le).replace("//","/")),ze={name:n(Le),type:2},fe.FileIndex.push(ze),fe.FullPaths.push(rt),Ce||Ji.utils.cfb_gc(fe)}return ze.content=be,ze.size=be?be.length:0,De&&(De.CLSID&&(ze.clsid=De.CLSID),De.mt&&(ze.mt=De.mt),De.ct&&(ze.ct=De.ct)),ze}function ia(fe,Le){C(fe);var be=Ji.find(fe,Le);if(be){for(var De=0;De<fe.FileIndex.length;++De)if(fe.FileIndex[De]==be)return fe.FileIndex.splice(De,1),fe.FullPaths.splice(De,1),!0}return!1}function zn(fe,Le,be){C(fe);var De=Ji.find(fe,Le);if(De){for(var Ce=0;Ce<fe.FileIndex.length;++Ce)if(fe.FileIndex[Ce]==De)return fe.FileIndex[Ce].name=n(be),fe.FullPaths[Ce]=be,!0}return!1}function bs(fe){_(fe,!0)}return t.find=j,t.read=P,t.parse=u,t.write=Ee,t.writeFile=re,t.utils={cfb_new:el,cfb_add:Os,cfb_del:ia,cfb_mov:zn,cfb_gc:bs,ReadShift:Cw,CheckField:_X,prep_blob:vl,bconcat:Xo,use_zlib:L,_deflateRaw:Ue,_inflateRaw:Bi,consts:W},t})();function SIe(r){return typeof r=="string"?UN(r):Array.isArray(r)?ZNe(r):r}function cb(r,t,e){if(typeof Deno<"u"){if(e&&typeof t=="string")switch(e){case"utf8":t=new TextEncoder(e).encode(t);break;case"binary":t=UN(t);break;default:throw new Error("Unsupported encoding "+e)}return Deno.writeFileSync(r,t)}var i=e=="utf8"?nf(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(i,r);if(typeof Blob<"u"){var n=new Blob([SIe(i)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,r);if(typeof saveAs<"u")return saveAs(n,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:r,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=r,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(r);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Yg(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+r)}function NIe(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(r);t.open("r"),t.encoding="binary";var e=t.read();return t.close(),e}catch(i){if(!i.message||!i.message.match(/onstruct/))throw i}throw new Error("Cannot access file "+r)}function Sa(r){for(var t=Object.keys(r),e=[],i=0;i<t.length;++i)Object.prototype.hasOwnProperty.call(r,t[i])&&e.push(t[i]);return e}function MH(r,t){for(var e=[],i=Sa(r),n=0;n!==i.length;++n)e[r[i[n]][t]]==null&&(e[r[i[n]][t]]=i[n]);return e}function HN(r){for(var t=[],e=Sa(r),i=0;i!==e.length;++i)t[r[e[i]]]=e[i];return t}function WN(r){for(var t=[],e=Sa(r),i=0;i!==e.length;++i)t[r[e[i]]]=parseInt(e[i],10);return t}function IIe(r){for(var t=[],e=Sa(r),i=0;i!==e.length;++i)t[r[e[i]]]==null&&(t[r[e[i]]]=[]),t[r[e[i]]].push(e[i]);return t}var OS=new Date(1899,11,30,0,0,0);function ko(r,t){var e=r.getTime(),i=OS.getTime()+(r.getTimezoneOffset()-OS.getTimezoneOffset())*6e4;return(e-i)/(1440*60*1e3)}var pX=new Date,CIe=OS.getTime()+(pX.getTimezoneOffset()-OS.getTimezoneOffset())*6e4,wH=pX.getTimezoneOffset();function YN(r){var t=new Date;return t.setTime(r*24*60*60*1e3+CIe),t.getTimezoneOffset()!==wH&&t.setTime(t.getTime()+(t.getTimezoneOffset()-wH)*6e4),t}function OIe(r){var t=0,e=0,i=!1,n=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var s=1;s!=n.length;++s)if(n[s]){switch(e=1,s>3&&(i=!0),n[s].slice(n[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[s].slice(n[s].length-1));case"D":e*=24;case"H":e*=60;case"M":if(i)e*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=e*parseInt(n[s],10)}return t}var TH=new Date("2017-02-19T19:06:09.000Z"),mX=isNaN(TH.getFullYear())?new Date("2/19/17"):TH,kIe=mX.getFullYear()==2017;function qs(r,t){var e=new Date(r);if(kIe)return t>0?e.setTime(e.getTime()+e.getTimezoneOffset()*60*1e3):t<0&&e.setTime(e.getTime()-e.getTimezoneOffset()*60*1e3),e;if(r instanceof Date)return r;if(mX.getFullYear()==1917&&!isNaN(e.getFullYear())){var i=e.getFullYear();return r.indexOf(""+i)>-1||e.setFullYear(e.getFullYear()+100),e}var n=r.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return r.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function gv(r,t){if(jr&&Buffer.isBuffer(r)){if(t){if(r[0]==255&&r[1]==254)return nf(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return nf(iX(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(r[0]==255&&r[1]==254)return nf(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return nf(new TextDecoder("utf-16be").decode(r.slice(2)))}var e={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(s){return e[s]||s})}catch{}for(var i=[],n=0;n!=r.length;++n)i.push(String.fromCharCode(r[n]));return i.join("")}function Qs(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=Qs(r[e]));return t}function Da(r,t){for(var e="";e.length<t;)e+=r;return e}function ad(r){var t=Number(r);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(r))return t;var e=1,i=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return!isNaN(t=Number(i))||(i=i.replace(/[(](.*)[)]/,function(n,s){return e=-e,s}),!isNaN(t=Number(i)))?t/e:t}var LIe=["january","february","march","april","may","june","july","august","september","october","november","december"];function W1(r){var t=new Date(r),e=new Date(NaN),i=t.getYear(),n=t.getMonth(),s=t.getDate();if(isNaN(s))return e;var a=r.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&LIe.indexOf(a)==-1)return e}else if(a.match(/[a-z]/))return e;return i<0||i>8099?e:(n>0||s>1)&&i!=101?t:r.match(/[^-0-9:,\/\\]/)?e:t}var jIe=(function(){var r="abacaba".split(/(:?b)/i).length==5;return function(e,i,n){if(r||typeof i=="string")return e.split(i);for(var s=e.split(i),a=[s[0]],o=1;o<s.length;++o)a.push(n),a.push(s[o]);return a}})();function gX(r){return r?r.content&&r.type?gv(r.content,!0):r.data?nw(r.data):r.asNodeBuffer&&jr?nw(r.asNodeBuffer().toString("binary")):r.asBinary?nw(r.asBinary()):r._data&&r._data.getContent?nw(gv(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function vX(r){if(!r)return null;if(r.data)return uH(r.data);if(r.asNodeBuffer&&jr)return r.asNodeBuffer();if(r._data&&r._data.getContent){var t=r._data.getContent();return typeof t=="string"?uH(t):Array.prototype.slice.call(t)}return r.content&&r.type?r.content:null}function _Ie(r){return r&&r.name.slice(-4)===".bin"?vX(r):gX(r)}function ch(r,t){for(var e=r.FullPaths||Sa(r.files),i=t.toLowerCase().replace(/[\/]/g,"\\"),n=i.replace(/\\/g,"/"),s=0;s<e.length;++s){var a=e[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(i==a||n==a)return r.files?r.files[e[s]]:r.FileIndex[s]}return null}function D3(r,t){var e=ch(r,t);if(e==null)throw new Error("Cannot find file "+t+" in zip");return e}function oo(r,t,e){if(!e)return _Ie(D3(r,t));if(!t)return null;try{return oo(r,t)}catch{return null}}function wu(r,t,e){if(!e)return gX(D3(r,t));if(!t)return null;try{return wu(r,t)}catch{return null}}function zIe(r,t,e){return vX(D3(r,t))}function bH(r){for(var t=r.FullPaths||Sa(r.files),e=[],i=0;i<t.length;++i)t[i].slice(-1)!="/"&&e.push(t[i].replace(/^Root Entry[\/]/,""));return e.sort()}function Cr(r,t,e){if(r.FullPaths){if(typeof e=="string"){var i;return jr?i=Xp(e):i=eIe(e),Ji.utils.cfb_add(r,t,i)}Ji.utils.cfb_add(r,t,e)}else r.file(t,e)}function E3(){return Ji.utils.cfb_new()}function yX(r,t){switch(t.type){case"base64":return Ji.read(r,{type:"base64"});case"binary":return Ji.read(r,{type:"binary"});case"buffer":case"array":return Ji.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function aw(r,t){if(r.charAt(0)=="/")return r.slice(1);var e=t.split("/");t.slice(-1)!="/"&&e.pop();for(var i=r.split("/");i.length!==0;){var n=i.shift();n===".."?e.pop():n!=="."&&e.push(n)}return e.join("/")}var Ga=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,RIe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,DH=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,PIe=/<[^>]*>/g,Jl=Ga.match(DH)?DH:PIe,FIe=/<\w*:/,BIe=/<(\/?)\w+:/;function ar(r,t,e){for(var i={},n=0,s=0;n!==r.length&&!((s=r.charCodeAt(n))===32||s===10||s===13);++n);if(t||(i[0]=r.slice(0,n)),n===r.length)return i;var a=r.match(RIe),o=0,l="",c=0,u="",d="",p=1;if(a)for(c=0;c!=a.length;++c){for(d=a[c],s=0;s!=d.length&&d.charCodeAt(s)!==61;++s);for(u=d.slice(0,s).trim();d.charCodeAt(s+1)==32;)++s;for(p=(n=d.charCodeAt(s+1))==34||n==39?1:0,l=d.slice(s+1+p,d.length-p),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),i[u]=l,i[u.toLowerCase()]=l;else{var m=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(i[m]&&u.slice(o-3,o)=="ext")continue;i[m]=l,i[m.toLowerCase()]=l}}return i}function wf(r){return r.replace(BIe,"<$1")}var xX={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},A3=HN(xX),yn=(function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function e(i){var n=i+"",s=n.indexOf("<![CDATA[");if(s==-1)return n.replace(r,function(o,l){return xX[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=n.indexOf("]]>");return e(n.slice(0,s))+n.slice(s+9,a)+e(n.slice(a+3))}})(),S3=/[&<>'"]/g,UIe=/[\u0000-\u0008\u000b-\u001f]/g;function Gn(r){var t=r+"";return t.replace(S3,function(e){return A3[e]}).replace(UIe,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function EH(r){return Gn(r).replace(/ /g,"_x0020_")}var MX=/[\u0000-\u001f]/g;function N3(r){var t=r+"";return t.replace(S3,function(e){return A3[e]}).replace(/\n/g,"<br/>").replace(MX,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function VIe(r){var t=r+"";return t.replace(S3,function(e){return A3[e]}).replace(MX,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}var AH=(function(){var r=/&#(\d+);/g;function t(e,i){return String.fromCharCode(parseInt(i,10))}return function(i){return i.replace(r,t)}})();function HIe(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function Vs(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function d5(r){for(var t="",e=0,i=0,n=0,s=0,a=0,o=0;e<r.length;){if(i=r.charCodeAt(e++),i<128){t+=String.fromCharCode(i);continue}if(n=r.charCodeAt(e++),i>191&&i<224){a=(i&31)<<6,a|=n&63,t+=String.fromCharCode(a);continue}if(s=r.charCodeAt(e++),i<240){t+=String.fromCharCode((i&15)<<12|(n&63)<<6|s&63);continue}a=r.charCodeAt(e++),o=((i&7)<<18|(n&63)<<12|(s&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function SH(r){var t=jg(2*r.length),e,i,n=1,s=0,a=0,o;for(i=0;i<r.length;i+=n)n=1,(o=r.charCodeAt(i))<128?e=o:o<224?(e=(o&31)*64+(r.charCodeAt(i+1)&63),n=2):o<240?(e=(o&15)*4096+(r.charCodeAt(i+1)&63)*64+(r.charCodeAt(i+2)&63),n=3):(n=4,e=(o&7)*262144+(r.charCodeAt(i+1)&63)*4096+(r.charCodeAt(i+2)&63)*64+(r.charCodeAt(i+3)&63),e-=65536,a=55296+(e>>>10&1023),e=56320+(e&1023)),a!==0&&(t[s++]=a&255,t[s++]=a>>>8,a=0),t[s++]=e%256,t[s++]=e>>>8;return t.slice(0,s).toString("ucs2")}function NH(r){return Xp(r,"binary").toString("utf8")}var NE="foo bar baz",us=jr&&(NH(NE)==d5(NE)&&NH||SH(NE)==d5(NE)&&SH)||d5,nf=jr?function(r){return Xp(r,"utf8").toString("binary")}:function(r){for(var t=[],e=0,i=0,n=0;e<r.length;)switch(i=r.charCodeAt(e++),!0){case i<128:t.push(String.fromCharCode(i));break;case i<2048:t.push(String.fromCharCode(192+(i>>6))),t.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,n=r.charCodeAt(e++)-56320+(i<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(i>>12))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)))}return t.join("")},bT=(function(){var r={};return function(e,i){var n=e+"|"+(i||"");return r[n]?r[n]:r[n]=new RegExp("<(?:\\w+:)?"+e+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+e+">",i||"")}})(),wX=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var i=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<r.length;++n)i=i.replace(r[n][0],r[n][1]);return i}})(),WIe=(function(){var r={};return function(e){return r[e]!==void 0?r[e]:r[e]=new RegExp("<(?:vt:)?"+e+">([\\s\\S]*?)</(?:vt:)?"+e+">","g")}})(),YIe=/<\/?(?:vt:)?variant>/g,qIe=/<(?:vt:)([^>]*)>([\s\S]*)</;function IH(r,t){var e=ar(r),i=r.match(WIe(e.baseType))||[],n=[];if(i.length!=e.size){if(t.WTF)throw new Error("unexpected vector length "+i.length+" != "+e.size);return n}return i.forEach(function(s){var a=s.replace(YIe,"").match(qIe);a&&n.push({v:us(a[2]),t:a[1]})}),n}var TX=/(^\s|\s$|\n)/;function Ml(r,t){return"<"+r+(t.match(TX)?' xml:space="preserve"':"")+">"+t+"</"+r+">"}function DT(r){return Sa(r).map(function(t){return" "+t+'="'+r[t]+'"'}).join("")}function si(r,t,e){return"<"+r+(e!=null?DT(e):"")+(t!=null?(t.match(TX)?' xml:space="preserve"':"")+">"+t+"</"+r:"/")+">"}function Ck(r,t){try{return r.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}return""}function QIe(r,t){switch(typeof r){case"string":var e=si("vt:lpwstr",Gn(r));return e=e.replace(/&quot;/g,"_x0022_"),e;case"number":return si((r|0)==r?"vt:i4":"vt:r8",Gn(String(r)));case"boolean":return si("vt:bool",r?"true":"false")}if(r instanceof Date)return si("vt:filetime",Ck(r));throw new Error("Unable to serialize "+r)}function I3(r){if(jr&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return us(Yg(w3(r)));throw new Error("Bad input format: expected Buffer or string")}var ET=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,So={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},jv=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],yu={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function GIe(r,t){for(var e=1-2*(r[t+7]>>>7),i=((r[t+7]&127)<<4)+(r[t+6]>>>4&15),n=r[t+6]&15,s=5;s>=0;--s)n=n*256+r[t+s];return i==2047?n==0?e*(1/0):NaN:(i==0?i=-1022:(i-=1023,n+=Math.pow(2,52)),e*Math.pow(2,i-52)*n)}function KIe(r,t,e){var i=(t<0||1/t==-1/0?1:0)<<7,n=0,s=0,a=i?-t:t;isFinite(a)?a==0?n=s=0:(n=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-n),n<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?n=-1022:(s-=Math.pow(2,52),n+=1023)):(n=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)r[e+o]=s&255;r[e+6]=(n&15)<<4|s&15,r[e+7]=n>>4|i}var CH=function(r){for(var t=[],e=10240,i=0;i<r[0].length;++i)if(r[0][i])for(var n=0,s=r[0][i].length;n<s;n+=e)t.push.apply(t,r[0][i].slice(n,n+e));return t},OH=jr?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(t){return Buffer.isBuffer(t)?t:Xp(t)})):CH(r)}:CH,kH=function(r,t,e){for(var i=[],n=t;n<e;n+=2)i.push(String.fromCharCode(Sp(r,n)));return i.join("").replace(xc,"")},C3=jr?function(r,t,e){return Buffer.isBuffer(r)?r.toString("utf16le",t,e).replace(xc,""):kH(r,t,e)}:kH,LH=function(r,t,e){for(var i=[],n=t;n<t+e;++n)i.push(("0"+r[n].toString(16)).slice(-2));return i.join("")},bX=jr?function(r,t,e){return Buffer.isBuffer(r)?r.toString("hex",t,t+e):LH(r,t,e)}:LH,jH=function(r,t,e){for(var i=[],n=t;n<e;n++)i.push(String.fromCharCode(Wy(r,n)));return i.join("")},ub=jr?function(t,e,i){return Buffer.isBuffer(t)?t.toString("utf8",e,i):jH(t,e,i)}:jH,DX=function(r,t){var e=xu(r,t);return e>0?ub(r,t+4,t+4+e-1):""},EX=DX,AX=function(r,t){var e=xu(r,t);return e>0?ub(r,t+4,t+4+e-1):""},SX=AX,NX=function(r,t){var e=2*xu(r,t);return e>0?ub(r,t+4,t+4+e-1):""},IX=NX,CX=function(t,e){var i=xu(t,e);return i>0?C3(t,e+4,e+4+i):""},OX=CX,kX=function(r,t){var e=xu(r,t);return e>0?ub(r,t+4,t+4+e):""},LX=kX,jX=function(r,t){return GIe(r,t)},kS=jX,O3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};jr&&(EX=function(t,e){if(!Buffer.isBuffer(t))return DX(t,e);var i=t.readUInt32LE(e);return i>0?t.toString("utf8",e+4,e+4+i-1):""},SX=function(t,e){if(!Buffer.isBuffer(t))return AX(t,e);var i=t.readUInt32LE(e);return i>0?t.toString("utf8",e+4,e+4+i-1):""},IX=function(t,e){if(!Buffer.isBuffer(t))return NX(t,e);var i=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+i-1)},OX=function(t,e){if(!Buffer.isBuffer(t))return CX(t,e);var i=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+i)},LX=function(t,e){if(!Buffer.isBuffer(t))return kX(t,e);var i=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+i)},kS=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):jX(t,e)},O3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Wy=function(r,t){return r[t]},Sp=function(r,t){return r[t+1]*256+r[t]},$Ie=function(r,t){var e=r[t+1]*256+r[t];return e<32768?e:(65535-e+1)*-1},xu=function(r,t){return r[t+3]*(1<<24)+(r[t+2]<<16)+(r[t+1]<<8)+r[t]},P0=function(r,t){return r[t+3]<<24|r[t+2]<<16|r[t+1]<<8|r[t]},XIe=function(r,t){return r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]};function Cw(r,t){var e="",i,n,s=[],a,o,l,c;switch(t){case"dbcs":if(c=this.l,jr&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*r).toString("utf16le");else for(l=0;l<r;++l)e+=String.fromCharCode(Sp(this,c)),c+=2;r*=2;break;case"utf8":e=ub(this,this.l,this.l+r);break;case"utf16le":r*=2,e=C3(this,this.l,this.l+r);break;case"wstr":return Cw.call(this,r,"dbcs");case"lpstr-ansi":e=EX(this,this.l),r=4+xu(this,this.l);break;case"lpstr-cp":e=SX(this,this.l),r=4+xu(this,this.l);break;case"lpwstr":e=IX(this,this.l),r=4+2*xu(this,this.l);break;case"lpp4":r=4+xu(this,this.l),e=OX(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+xu(this,this.l),e=LX(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,e="";(a=Wy(this,this.l+r++))!==0;)s.push(SE(a));e=s.join("");break;case"_wstr":for(r=0,e="";(a=Sp(this,this.l+r))!==0;)s.push(SE(a)),r+=2;r+=2,e=s.join("");break;case"dbcs-cont":for(e="",c=this.l,l=0;l<r;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Wy(this,c),this.l=c+1,o=Cw.call(this,r-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(SE(Sp(this,c))),c+=2}e=s.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(e="",c=this.l,l=0;l!=r;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Wy(this,c),this.l=c+1,o=Cw.call(this,r-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(SE(Wy(this,c))),c+=1}e=s.join("");break;default:switch(r){case 1:return i=Wy(this,this.l),this.l++,i;case 2:return i=(t==="i"?$Ie:Sp)(this,this.l),this.l+=2,i;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(i=(r>0?P0:XIe)(this,this.l),this.l+=4,i):(n=xu(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return r==8?n=kS(this,this.l):n=kS([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;r=8;case 16:e=bX(this,this.l,r);break}}return this.l+=r,e}var JIe=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24&255},ZIe=function(r,t,e){r[e]=t&255,r[e+1]=t>>8&255,r[e+2]=t>>16&255,r[e+3]=t>>24&255},eCe=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255};function tCe(r,t,e){var i=0,n=0;if(e==="dbcs"){for(n=0;n!=t.length;++n)eCe(this,t.charCodeAt(n),this.l+2*n);i=2*t.length}else if(e==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;i=t.length}else if(e==="hex"){for(;n<r;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(e==="utf16le"){var s=Math.min(this.l+r,this.length);for(n=0;n<Math.min(t.length,r);++n){var a=t.charCodeAt(n);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(r){case 1:i=1,this[this.l]=t&255;break;case 2:i=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:i=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:i=4,JIe(this,t,this.l);break;case 8:if(i=8,e==="f"){KIe(this,t,this.l);break}case 16:break;case-4:i=4,ZIe(this,t,this.l);break}return this.l+=i,this}function _X(r,t){var e=bX(this,this.l,r.length>>1);if(e!==r)throw new Error(t+"Expected "+r+" saw "+e);this.l+=r.length>>1}function vl(r,t){r.l=t,r.read_shift=Cw,r.chk=_X,r.write_shift=tCe}function Xl(r,t){r.l+=t}function St(r){var t=jg(r);return vl(t,0),t}function Jp(r,t,e){if(r){var i,n,s;vl(r,r.l||0);for(var a=r.length,o=0,l=0;r.l<a;){o=r.read_shift(1),o&128&&(o=(o&127)+((r.read_shift(1)&127)<<7));var c=OT[o]||OT[65535];for(i=r.read_shift(1),s=i&127,n=1;n<4&&i&128;++n)s+=((i=r.read_shift(1))&127)<<7*n;l=r.l+s;var u=c.f&&c.f(r,s,e);if(r.l=l,t(u,c,o))return}}}function Zc(){var r=[],t=jr?256:2048,e=function(c){var u=St(c);return vl(u,0),u},i=e(t),n=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&r.push(i),i=null)},s=function(c){return i&&c<i.length-i.l?i:(n(),i=e(Math.max(c+1,t)))},a=function(){return n(),Xo(r)},o=function(c){n(),i=c,i.l==null&&(i.l=i.length),s(t)};return{next:s,push:o,end:a,_bufs:r}}function Wt(r,t,e,i){var n=+t,s;if(!isNaN(n)){i||(i=OT[n].p||(e||[]).length||0),s=1+(n>=128?1:0)+1,i>=128&&++s,i>=16384&&++s,i>=2097152&&++s;var a=r.next(s);n<=127?a.write_shift(1,n):(a.write_shift(1,(n&127)+128),a.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(i>=128)a.write_shift(1,(i&127)+128),i>>=7;else{a.write_shift(1,i);break}i>0&&O3(e)&&r.push(e)}}function Ow(r,t,e){var i=Qs(r);if(t.s?(i.cRel&&(i.c+=t.s.c),i.rRel&&(i.r+=t.s.r)):(i.cRel&&(i.c+=t.c),i.rRel&&(i.r+=t.r)),!e||e.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function _H(r,t,e){var i=Qs(r);return i.s=Ow(i.s,t.s,e),i.e=Ow(i.e,t.s,e),i}function kw(r,t){if(r.cRel&&r.c<0)for(r=Qs(r);r.c<0;)r.c+=t>8?16384:256;if(r.rRel&&r.r<0)for(r=Qs(r);r.r<0;)r.r+=t>8?1048576:t>5?65536:16384;var e=sr(r);return!r.cRel&&r.cRel!=null&&(e=nCe(e)),!r.rRel&&r.rRel!=null&&(e=iCe(e)),e}function f5(r,t){return r.s.r==0&&!r.s.rRel&&r.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+ua(r.s.c)+":"+(r.e.cRel?"":"$")+ua(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(t.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+Qa(r.s.r)+":"+(r.e.rRel?"":"$")+Qa(r.e.r):kw(r.s,t.biff)+":"+kw(r.e,t.biff)}function k3(r){return parseInt(rCe(r),10)-1}function Qa(r){return""+(r+1)}function iCe(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function rCe(r){return r.replace(/\$(\d+)$/,"$1")}function L3(r){for(var t=sCe(r),e=0,i=0;i!==t.length;++i)e=26*e+t.charCodeAt(i)-64;return e-1}function ua(r){if(r<0)throw new Error("invalid column "+r);var t="";for(++r;r;r=Math.floor((r-1)/26))t=String.fromCharCode((r-1)%26+65)+t;return t}function nCe(r){return r.replace(/^([A-Z])/,"$$$1")}function sCe(r){return r.replace(/^\$([A-Z])/,"$1")}function aCe(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ha(r){for(var t=0,e=0,i=0;i<r.length;++i){var n=r.charCodeAt(i);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(e=26*e+(n-64))}return{c:e-1,r:t-1}}function sr(r){for(var t=r.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(r.r+1)}function tu(r){var t=r.indexOf(":");return t==-1?{s:ha(r),e:ha(r)}:{s:ha(r.slice(0,t)),e:ha(r.slice(t+1))}}function Ar(r,t){return typeof t>"u"||typeof t=="number"?Ar(r.s,r.e):(typeof r!="string"&&(r=sr(r)),typeof t!="string"&&(t=sr(t)),r==t?r:r+":"+t)}function xn(r){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,i=0,n=0,s=r.length;for(e=0;i<s&&!((n=r.charCodeAt(i)-64)<1||n>26);++i)e=26*e+n;for(t.s.c=--e,e=0;i<s&&!((n=r.charCodeAt(i)-48)<0||n>9);++i)e=10*e+n;if(t.s.r=--e,i===s||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++i,e=0;i!=s&&!((n=r.charCodeAt(i)-64)<1||n>26);++i)e=26*e+n;for(t.e.c=--e,e=0;i!=s&&!((n=r.charCodeAt(i)-48)<0||n>9);++i)e=10*e+n;return t.e.r=--e,t}function zH(r,t){var e=r.t=="d"&&t instanceof Date;if(r.z!=null)try{return r.w=Th(r.z,e?ko(t):t)}catch{}try{return r.w=Th((r.XF||{}).numFmtId||(e?14:0),e?ko(t):t)}catch{return""+t}}function Kp(r,t,e){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&e&&e.dateNF&&(r.z=e.dateNF),r.t=="e"?Zp[r.v]||r.v:t==null?zH(r,r.v):zH(r,t))}function qg(r,t){var e=t&&t.sheet?t.sheet:"Sheet1",i={};return i[e]=r,{SheetNames:[e],Sheets:i}}function zX(r,t,e){var i=e||{},n=r?Array.isArray(r):i.dense,s=r||(n?[]:{}),a=0,o=0;if(s&&i.origin!=null){if(typeof i.origin=="number")a=i.origin;else{var l=typeof i.origin=="string"?ha(i.origin):i.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=xn(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[d].length;++p)if(!(typeof t[d][p]>"u")){var m={v:t[d][p]},y=a+d,M=o+p;if(c.s.r>y&&(c.s.r=y),c.s.c>M&&(c.s.c=M),c.e.r<y&&(c.e.r=y),c.e.c<M&&(c.e.c=M),t[d][p]&&typeof t[d][p]=="object"&&!Array.isArray(t[d][p])&&!(t[d][p]instanceof Date))m=t[d][p];else if(Array.isArray(m.v)&&(m.f=t[d][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(i.nullError)m.t="e",m.v=0;else if(i.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=i.dateNF||ir[14],i.cellDates?(m.t="d",m.w=Th(m.z,ko(m.v))):(m.t="n",m.v=ko(m.v),m.w=Th(m.z,m.v))):m.t="s";if(n)s[y]||(s[y]=[]),s[y][M]&&s[y][M].z&&(m.z=s[y][M].z),s[y][M]=m;else{var w=sr({c:M,r:y});s[w]&&s[w].z&&(m.z=s[w].z),s[w]=m}}}return c.s.c<1e7&&(s["!ref"]=Ar(c)),s}function nx(r,t){return zX(null,r,t)}function oCe(r){return r.read_shift(4,"i")}function od(r,t){return t||(t=St(4)),t.write_shift(4,r),t}function Kl(r){var t=r.read_shift(4);return t===0?"":r.read_shift(t,"dbcs")}function Jo(r,t){var e=!1;return t==null&&(e=!0,t=St(4+2*r.length)),t.write_shift(4,r.length),r.length>0&&t.write_shift(0,r,"dbcs"),e?t.slice(0,t.l):t}function lCe(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function cCe(r,t){return t||(t=St(4)),t.write_shift(2,0),t.write_shift(2,0),t}function j3(r,t){var e=r.l,i=r.read_shift(1),n=Kl(r),s=[],a={t:n,h:n};if((i&1)!==0){for(var o=r.read_shift(4),l=0;l!=o;++l)s.push(lCe(r));a.r=s}else a.r=[{ich:0,ifnt:0}];return r.l=e+t,a}function uCe(r,t){var e=!1;return t==null&&(e=!0,t=St(15+4*r.t.length)),t.write_shift(1,0),Jo(r.t,t),e?t.slice(0,t.l):t}var hCe=j3;function dCe(r,t){var e=!1;return t==null&&(e=!0,t=St(23+4*r.t.length)),t.write_shift(1,1),Jo(r.t,t),t.write_shift(4,1),cCe({},t),e?t.slice(0,t.l):t}function bh(r){var t=r.read_shift(4),e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:t,iStyleRef:e}}function _v(r,t){return t==null&&(t=St(8)),t.write_shift(-4,r.c),t.write_shift(3,r.iStyleRef||r.s),t.write_shift(1,0),t}function zv(r){var t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:t}}function Rv(r,t){return t==null&&(t=St(4)),t.write_shift(3,r.iStyleRef||r.s),t.write_shift(1,0),t}var fCe=Kl,RX=Jo;function _3(r){var t=r.read_shift(4);return t===0||t===4294967295?"":r.read_shift(t,"dbcs")}function LS(r,t){var e=!1;return t==null&&(e=!0,t=St(127)),t.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&t.write_shift(0,r,"dbcs"),e?t.slice(0,t.l):t}var pCe=Kl,Ok=_3,z3=LS;function R3(r){var t=r.slice(r.l,r.l+4),e=t[0]&1,i=t[0]&2;r.l+=4;var n=i===0?kS([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):P0(t,0)>>2;return e?n/100:n}function PX(r,t){t==null&&(t=St(4));var e=0,i=0,n=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?i=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(i=1,e=1),i)t.write_shift(-4,((e?n:r)<<2)+(e+2));else throw new Error("unsupported RkNumber "+r)}function FX(r){var t={s:{},e:{}};return t.s.r=r.read_shift(4),t.e.r=r.read_shift(4),t.s.c=r.read_shift(4),t.e.c=r.read_shift(4),t}function mCe(r,t){return t||(t=St(16)),t.write_shift(4,r.s.r),t.write_shift(4,r.e.r),t.write_shift(4,r.s.c),t.write_shift(4,r.e.c),t}var Pv=FX,sx=mCe;function Wl(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function vv(r,t){return(t||St(8)).write_shift(8,r,"f")}function gCe(r){var t={},e=r.read_shift(1),i=e>>>1,n=r.read_shift(1),s=r.read_shift(2,"i"),a=r.read_shift(1),o=r.read_shift(1),l=r.read_shift(1);switch(r.l++,i){case 0:t.auto=1;break;case 1:t.index=n;var c=$0[n];c&&(t.rgb=ST(c));break;case 2:t.rgb=ST([a,o,l]);break;case 3:t.theme=n;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function jS(r,t){if(t||(t=St(8)),!r||r.auto)return t.write_shift(4,0),t.write_shift(4,0),t;r.index!=null?(t.write_shift(1,2),t.write_shift(1,r.index)):r.theme!=null?(t.write_shift(1,6),t.write_shift(1,r.theme)):(t.write_shift(1,5),t.write_shift(1,0));var e=r.tint||0;if(e>0?e*=32767:e<0&&(e*=32768),t.write_shift(2,e),!r.rgb||r.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var i=r.rgb||"FFFFFF";typeof i=="number"&&(i=("000000"+i.toString(16)).slice(-6)),t.write_shift(1,parseInt(i.slice(0,2),16)),t.write_shift(1,parseInt(i.slice(2,4),16)),t.write_shift(1,parseInt(i.slice(4,6),16)),t.write_shift(1,255)}return t}function vCe(r){var t=r.read_shift(1);r.l++;var e={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return e}function yCe(r,t){t||(t=St(2));var e=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return t.write_shift(1,e),t.write_shift(1,0),t}function BX(r,t){var e={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},i=r.read_shift(4);switch(i){case 0:return"";case 4294967295:case 4294967294:return e[r.read_shift(4)]||""}if(i>400)throw new Error("Unsupported Clipboard: "+i.toString(16));return r.l-=4,r.read_shift(0,t==1?"lpstr":"lpwstr")}function xCe(r){return BX(r,1)}function MCe(r){return BX(r,2)}var P3=2,Kc=3,IE=11,RH=12,_S=19,CE=64,wCe=65,TCe=71,bCe=4108,DCe=4126,Go=80,UX=81,ECe=[Go,UX],kk={1:{n:"CodePage",t:P3},2:{n:"Category",t:Go},3:{n:"PresentationFormat",t:Go},4:{n:"ByteCount",t:Kc},5:{n:"LineCount",t:Kc},6:{n:"ParagraphCount",t:Kc},7:{n:"SlideCount",t:Kc},8:{n:"NoteCount",t:Kc},9:{n:"HiddenCount",t:Kc},10:{n:"MultimediaClipCount",t:Kc},11:{n:"ScaleCrop",t:IE},12:{n:"HeadingPairs",t:bCe},13:{n:"TitlesOfParts",t:DCe},14:{n:"Manager",t:Go},15:{n:"Company",t:Go},16:{n:"LinksUpToDate",t:IE},17:{n:"CharacterCount",t:Kc},19:{n:"SharedDoc",t:IE},22:{n:"HyperlinksChanged",t:IE},23:{n:"AppVersion",t:Kc,p:"version"},24:{n:"DigSig",t:wCe},26:{n:"ContentType",t:Go},27:{n:"ContentStatus",t:Go},28:{n:"Language",t:Go},29:{n:"Version",t:Go},255:{},2147483648:{n:"Locale",t:_S},2147483651:{n:"Behavior",t:_S},1919054434:{}},Lk={1:{n:"CodePage",t:P3},2:{n:"Title",t:Go},3:{n:"Subject",t:Go},4:{n:"Author",t:Go},5:{n:"Keywords",t:Go},6:{n:"Comments",t:Go},7:{n:"Template",t:Go},8:{n:"LastAuthor",t:Go},9:{n:"RevNumber",t:Go},10:{n:"EditTime",t:CE},11:{n:"LastPrinted",t:CE},12:{n:"CreatedDate",t:CE},13:{n:"ModifiedDate",t:CE},14:{n:"PageCount",t:Kc},15:{n:"WordCount",t:Kc},16:{n:"CharCount",t:Kc},17:{n:"Thumbnail",t:TCe},18:{n:"Application",t:Go},19:{n:"DocSecurity",t:Kc},255:{},2147483648:{n:"Locale",t:_S},2147483651:{n:"Behavior",t:_S},1919054434:{}},PH={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},ACe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function SCe(r){return r.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var NCe=SCe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),$0=Qs(NCe),Zp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},VX={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},jk={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},OE={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function F3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function ICe(r){var t=F3();if(!r||!r.match)return t;var e={};if((r.match(Jl)||[]).forEach(function(i){var n=ar(i);switch(n[0].replace(FIe,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":e[n.Extension]=n.ContentType;break;case"<Override":t[jk[n.ContentType]]!==void 0&&t[jk[n.ContentType]].push(n.PartName);break}}),t.xmlns!==So.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=e,delete t.calcchains,t}function HX(r,t){var e=IIe(jk),i=[],n;i[i.length]=Ga,i[i.length]=si("Types",null,{xmlns:So.CT,"xmlns:xsd":So.xsd,"xmlns:xsi":So.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return si("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){r[l]&&r[l].length>0&&(n=r[l][0],i[i.length]=si("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:OE[l][t.bookType]||OE[l].xlsx}))},a=function(l){(r[l]||[]).forEach(function(c){i[i.length]=si("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:OE[l][t.bookType]||OE[l].xlsx})})},o=function(l){(r[l]||[]).forEach(function(c){i[i.length]=si("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:e[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var Fr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function AT(r){var t=r.lastIndexOf("/");return r.slice(0,t+1)+"_rels/"+r.slice(t+1)+".rels"}function Lw(r,t){var e={"!id":{}};if(!r)return e;t.charAt(0)!=="/"&&(t="/"+t);var i={};return(r.match(Jl)||[]).forEach(function(n){var s=ar(n);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:aw(s.Target,t);e[o]=a,i[s.Id]=a}}),e["!id"]=i,e}function w1(r){var t=[Ga,si("Relationships",null,{xmlns:So.RELS})];return Sa(r["!id"]).forEach(function(e){t[t.length]=si("Relationship",null,r["!id"][e])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Wn(r,t,e,i,n,s){if(n||(n={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),t<0)for(t=r["!idx"];r["!id"]["rId"+t];++t);if(r["!idx"]=t+1,n.Id="rId"+t,n.Type=i,n.Target=e,[Fr.HLINK,Fr.XPATH,Fr.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),r["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return r["!id"][n.Id]=n,r[("/"+n.Target).replace("//","/")]=n,t}var CCe="application/vnd.oasis.opendocument.spreadsheet";function OCe(r,t){for(var e=I3(r),i,n;i=ET.exec(e);)switch(i[3]){case"manifest":break;case"file-entry":if(n=ar(i[0],!1),n.path=="/"&&n.type!==CCe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw i}}function kCe(r){var t=[Ga];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var e=0;e<r.length;++e)t.push('  <manifest:file-entry manifest:full-path="'+r[e][0]+'" manifest:media-type="'+r[e][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function FH(r,t,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(e||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function LCe(r,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function jCe(r){var t=[Ga];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var e=0;e!=r.length;++e)t.push(FH(r[e][0],r[e][1])),t.push(LCe("",r[e][0]));return t.push(FH("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function WX(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+SS.version+"</meta:generator></office:meta></office:document-meta>"}var yh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],_Ce=(function(){for(var r=new Array(yh.length),t=0;t<yh.length;++t){var e=yh[t],i="(?:"+e[0].slice(0,e[0].indexOf(":"))+":)"+e[0].slice(e[0].indexOf(":")+1);r[t]=new RegExp("<"+i+"[^>]*>([\\s\\S]*?)</"+i+">")}return r})();function YX(r){var t={};r=us(r);for(var e=0;e<yh.length;++e){var i=yh[e],n=r.match(_Ce[e]);n!=null&&n.length>0&&(t[i[1]]=yn(n[1])),i[2]==="date"&&t[i[1]]&&(t[i[1]]=qs(t[i[1]]))}return t}function p5(r,t,e,i,n){n[r]!=null||t==null||t===""||(n[r]=t,t=Gn(t),i[i.length]=e?si(r,t,e):Ml(r,t))}function qX(r,t){var e=t||{},i=[Ga,si("cp:coreProperties",null,{"xmlns:cp":So.CORE_PROPS,"xmlns:dc":So.dc,"xmlns:dcterms":So.dcterms,"xmlns:dcmitype":So.dcmitype,"xmlns:xsi":So.xsi})],n={};if(!r&&!e.Props)return i.join("");r&&(r.CreatedDate!=null&&p5("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:Ck(r.CreatedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},i,n),r.ModifiedDate!=null&&p5("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:Ck(r.ModifiedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},i,n));for(var s=0;s!=yh.length;++s){var a=yh[s],o=e.Props&&e.Props[a[1]]!=null?e.Props[a[1]]:r?r[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&p5(a[0],o,null,i,n)}return i.length>2&&(i[i.length]="</cp:coreProperties>",i[1]=i[1].replace("/>",">")),i.join("")}var X0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],QX=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function GX(r,t,e,i){var n=[];if(typeof r=="string")n=IH(r,i);else for(var s=0;s<r.length;++s)n=n.concat(r[s].map(function(u){return{v:u}}));var a=typeof t=="string"?IH(t,i).map(function(u){return u.v}):t,o=0,l=0;if(a.length>0)for(var c=0;c!==n.length;c+=2){switch(l=+n[c+1].v,n[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":e.Worksheets=l,e.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":e.NamedRanges=l,e.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":e.Chartsheets=l,e.ChartNames=a.slice(o,o+l);break}o+=l}}function zCe(r,t,e){var i={};return t||(t={}),r=us(r),X0.forEach(function(n){var s=(r.match(bT(n[0]))||[])[1];switch(n[2]){case"string":s&&(t[n[1]]=yn(s));break;case"bool":t[n[1]]=s==="true";break;case"raw":var a=r.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));a&&a.length>0&&(i[n[1]]=a[1]);break}}),i.HeadingPairs&&i.TitlesOfParts&&GX(i.HeadingPairs,i.TitlesOfParts,t,e),t}function KX(r){var t=[],e=si;return r||(r={}),r.Application="SheetJS",t[t.length]=Ga,t[t.length]=si("Properties",null,{xmlns:So.EXT_PROPS,"xmlns:vt":So.vt}),X0.forEach(function(i){if(r[i[1]]!==void 0){var n;switch(i[2]){case"string":n=Gn(String(r[i[1]]));break;case"bool":n=r[i[1]]?"true":"false";break}n!==void 0&&(t[t.length]=e(i[0],n))}}),t[t.length]=e("HeadingPairs",e("vt:vector",e("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+e("vt:variant",e("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=e("TitlesOfParts",e("vt:vector",r.SheetNames.map(function(i){return"<vt:lpstr>"+Gn(i)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var RCe=/<[^>]+>[^<]*/g;function PCe(r,t){var e={},i="",n=r.match(RCe);if(n)for(var s=0;s!=n.length;++s){var a=n[s],o=ar(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":i=yn(o.name);break;case"</property>":i=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":e[i]=yn(u);break;case"bool":e[i]=Vs(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":e[i]=parseInt(u,10);break;case"r4":case"r8":case"decimal":e[i]=parseFloat(u);break;case"filetime":case"date":e[i]=qs(u);break;case"cy":case"error":e[i]=yn(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(t.WTF)throw new Error(a)}}}return e}function $X(r){var t=[Ga,si("Properties",null,{xmlns:So.CUST_PROPS,"xmlns:vt":So.vt})];if(!r)return t.join("");var e=1;return Sa(r).forEach(function(n){++e,t[t.length]=si("property",QIe(r[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e,name:Gn(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var _k={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},m5;function FCe(r,t,e){m5||(m5=HN(_k)),t=m5[t]||t,r[t]=e}function BCe(r,t){var e=[];return Sa(_k).map(function(i){for(var n=0;n<yh.length;++n)if(yh[n][1]==i)return yh[n];for(n=0;n<X0.length;++n)if(X0[n][1]==i)return X0[n];throw i}).forEach(function(i){if(r[i[1]]!=null){var n=t&&t.Props&&t.Props[i[1]]!=null?t.Props[i[1]]:r[i[1]];switch(i[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),e.push(Ml(_k[i[1]]||i[1],n))}}),si("DocumentProperties",e.join(""),{xmlns:yu.o})}function UCe(r,t){var e=["Worksheets","SheetNames"],i="CustomDocumentProperties",n=[];return r&&Sa(r).forEach(function(s){if(Object.prototype.hasOwnProperty.call(r,s)){for(var a=0;a<yh.length;++a)if(s==yh[a][1])return;for(a=0;a<X0.length;++a)if(s==X0[a][1])return;for(a=0;a<e.length;++a)if(s==e[a])return;var o=r[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),n.push(si(EH(s),o,{"dt:dt":l}))}}),t&&Sa(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(r&&Object.prototype.hasOwnProperty.call(r,s))){var a=t[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),n.push(si(EH(s),a,{"dt:dt":o}))}}),"<"+i+' xmlns="'+yu.o+'">'+n.join("")+"</"+i+">"}function B3(r){var t=r.read_shift(4),e=r.read_shift(4);return new Date((e/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function VCe(r){var t=typeof r=="string"?new Date(Date.parse(r)):r,e=t.getTime()/1e3+11644473600,i=e%Math.pow(2,32),n=(e-i)/Math.pow(2,32);i*=1e7,n*=1e7;var s=i/Math.pow(2,32)|0;s>0&&(i=i%Math.pow(2,32),n+=s);var a=St(8);return a.write_shift(4,i),a.write_shift(4,n),a}function XX(r,t,e){var i=r.l,n=r.read_shift(0,"lpstr-cp");if(e)for(;r.l-i&3;)++r.l;return n}function JX(r,t,e){var i=r.read_shift(0,"lpwstr");return i}function ZX(r,t,e){return t===31?JX(r):XX(r,t,e)}function zk(r,t,e){return ZX(r,t,e===!1?0:4)}function HCe(r,t){if(!t)throw new Error("VtUnalignedString must have positive length");return ZX(r,t,0)}function WCe(r){for(var t=r.read_shift(4),e=[],i=0;i!=t;++i){var n=r.l;e[i]=r.read_shift(0,"lpwstr").replace(xc,""),r.l-n&2&&(r.l+=2)}return e}function YCe(r){for(var t=r.read_shift(4),e=[],i=0;i!=t;++i)e[i]=r.read_shift(0,"lpstr-cp").replace(xc,"");return e}function qCe(r){var t=r.l,e=zS(r,UX);r[r.l]==0&&r[r.l+1]==0&&r.l-t&2&&(r.l+=2);var i=zS(r,Kc);return[e,i]}function QCe(r){for(var t=r.read_shift(4),e=[],i=0;i<t/2;++i)e.push(qCe(r));return e}function BH(r,t){for(var e=r.read_shift(4),i={},n=0;n!=e;++n){var s=r.read_shift(4),a=r.read_shift(4);i[s]=r.read_shift(a,t===1200?"utf16le":"utf8").replace(xc,"").replace(sw,"!"),t===1200&&a%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),i}function eJ(r){var t=r.read_shift(4),e=r.slice(r.l,r.l+t);return r.l+=t,(t&3)>0&&(r.l+=4-(t&3)&3),e}function GCe(r){var t={};return t.Size=r.read_shift(4),r.l+=t.Size+3-(t.Size-1)%4,t}function zS(r,t,e){var i=r.read_shift(2),n,s=e||{};if(r.l+=2,t!==RH&&i!==t&&ECe.indexOf(t)===-1&&!((t&65534)==4126&&(i&65534)==4126))throw new Error("Expected type "+t+" saw "+i);switch(t===RH?i:t){case 2:return n=r.read_shift(2,"i"),s.raw||(r.l+=2),n;case 3:return n=r.read_shift(4,"i"),n;case 11:return r.read_shift(4)!==0;case 19:return n=r.read_shift(4),n;case 30:return XX(r,i,4).replace(xc,"");case 31:return JX(r);case 64:return B3(r);case 65:return eJ(r);case 71:return GCe(r);case 80:return zk(r,i,!s.raw).replace(xc,"");case 81:return HCe(r,i).replace(xc,"");case 4108:return QCe(r);case 4126:case 4127:return i==4127?WCe(r):YCe(r);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+i)}}function UH(r,t){var e=St(4),i=St(4);switch(e.write_shift(4,r==80?31:r),r){case 3:i.write_shift(-4,t);break;case 5:i=St(8),i.write_shift(8,t,"f");break;case 11:i.write_shift(4,t?1:0);break;case 64:i=VCe(t);break;case 31:case 80:for(i=St(4+2*(t.length+1)+(t.length%2?0:2)),i.write_shift(4,t.length+1),i.write_shift(0,t,"dbcs");i.l!=i.length;)i.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+t)}return Xo([e,i])}function VH(r,t){var e=r.l,i=r.read_shift(4),n=r.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=n;++a){var u=r.read_shift(4),d=r.read_shift(4);s[a]=[u,d+e]}s.sort(function(D,E){return D[1]-E[1]});var p={};for(a=0;a!=n;++a){if(r.l!==s[a][1]){var m=!0;if(a>0&&t)switch(t[s[a-1][0]].t){case 2:r.l+2===s[a][1]&&(r.l+=2,m=!1);break;case 80:r.l<=s[a][1]&&(r.l=s[a][1],m=!1);break;case 4108:r.l<=s[a][1]&&(r.l=s[a][1],m=!1);break}if((!t||a==0)&&r.l<=s[a][1]&&(m=!1,r.l=s[a][1]),m)throw new Error("Read Error: Expected address "+s[a][1]+" at "+r.l+" :"+a)}if(t){var y=t[s[a][0]];if(p[y.n]=zS(r,y.t,{raw:!0}),y.p==="version"&&(p[y.n]=String(p[y.n]>>16)+"."+("0000"+String(p[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(p[y.n]){case 0:p[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:rd(o=p[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[y.n])}}else if(s[a][0]===1){if(o=p.CodePage=zS(r,P3),rd(o),l!==-1){var M=r.l;r.l=s[l][1],c=BH(r,o),r.l=M}}else if(s[a][0]===0){if(o===0){l=a,r.l=s[a+1][1];continue}c=BH(r,o)}else{var w=c[s[a][0]],b;switch(r[r.l]){case 65:r.l+=4,b=eJ(r);break;case 30:r.l+=4,b=zk(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,b=zk(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,b=r.read_shift(4,"i");break;case 19:r.l+=4,b=r.read_shift(4);break;case 5:r.l+=4,b=r.read_shift(8,"f");break;case 11:r.l+=4,b=za(r,4);break;case 64:r.l+=4,b=qs(B3(r));break;default:throw new Error("unparsed value: "+r[r.l])}p[w]=b}}return r.l=e+i,p}var tJ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function KCe(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function HH(r,t,e){var i=St(8),n=[],s=[],a=8,o=0,l=St(8),c=St(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),n.push(c),a+=8+l.length,!t){c=St(8),c.write_shift(4,0),n.unshift(c);var u=[St(4)];for(u[0].write_shift(4,r.length),o=0;o<r.length;++o){var d=r[o][0];for(l=St(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Xo(u),s.unshift(l),a+=8+l.length}for(o=0;o<r.length;++o)if(!(t&&!t[r[o][0]])&&!(tJ.indexOf(r[o][0])>-1||QX.indexOf(r[o][0])>-1)&&r[o][1]!=null){var p=r[o][1],m=0;if(t){m=+t[r[o][0]];var y=e[m];if(y.p=="version"&&typeof p=="string"){var M=p.split(".");p=(+M[0]<<16)+(+M[1]||0)}l=UH(y.t,p)}else{var w=KCe(p);w==-1&&(w=31,p=String(p)),l=UH(w,p)}s.push(l),c=St(8),c.write_shift(4,t?m:2+o),n.push(c),a+=8+l.length}var b=8*(s.length+1);for(o=0;o<s.length;++o)n[o].write_shift(4,b),b+=s[o].length;return i.write_shift(4,a),i.write_shift(4,s.length),Xo([i].concat(n).concat(s))}function WH(r,t,e){var i=r.content;if(!i)return{};vl(i,0);var n,s,a,o,l=0;i.chk("feff","Byte Order: "),i.read_shift(2);var c=i.read_shift(4),u=i.read_shift(16);if(u!==Ji.utils.consts.HEADER_CLSID&&u!==e)throw new Error("Bad PropertySet CLSID "+u);if(n=i.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(s=i.read_shift(16),o=i.read_shift(4),n===1&&o!==i.l)throw new Error("Length mismatch: "+o+" !== "+i.l);n===2&&(a=i.read_shift(16),l=i.read_shift(4));var d=VH(i,t),p={SystemIdentifier:c};for(var m in d)p[m]=d[m];if(p.FMTID=s,n===1)return p;if(l-i.l==2&&(i.l+=2),i.l!==l)throw new Error("Length mismatch 2: "+i.l+" !== "+l);var y;try{y=VH(i,null)}catch{}for(m in y)p[m]=y[m];return p.FMTID=[s,a],p}function YH(r,t,e,i,n,s){var a=St(n?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Ji.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,n?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,n?68:48);var l=HH(r,e,i);if(o.push(l),n){var c=HH(n,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return Xo(o)}function Hm(r,t){return r.read_shift(t),null}function $Ce(r,t){t||(t=St(r));for(var e=0;e<r;++e)t.write_shift(1,0);return t}function XCe(r,t,e){for(var i=[],n=r.l+t;r.l<n;)i.push(e(r,n-r.l));if(n!==r.l)throw new Error("Slurp error");return i}function za(r,t){return r.read_shift(t)===1}function mc(r,t){return t||(t=St(2)),t.write_shift(2,+!!r),t}function lo(r){return r.read_shift(2,"u")}function hh(r,t){return t||(t=St(2)),t.write_shift(2,r),t}function iJ(r,t){return XCe(r,t,lo)}function JCe(r){var t=r.read_shift(1),e=r.read_shift(1);return e===1?t:t===1}function rJ(r,t,e){return e||(e=St(2)),e.write_shift(1,t=="e"?+r:+!!r),e.write_shift(1,t=="e"?1:0),e}function hb(r,t,e){var i=r.read_shift(e&&e.biff>=12?2:1),n="sbcs-cont";if(e&&e.biff>=8,!e||e.biff==8){var s=r.read_shift(1);s&&(n="dbcs-cont")}else e.biff==12&&(n="wstr");e.biff>=2&&e.biff<=5&&(n="cpstr");var a=i?r.read_shift(i,n):"";return a}function ZCe(r){var t=r.read_shift(2),e=r.read_shift(1),i=e&4,n=e&8,s=1+(e&1),a=0,o,l={};n&&(a=r.read_shift(2)),i&&(o=r.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=t===0?"":r.read_shift(t,c);return n&&(r.l+=4*a),i&&(r.l+=o),l.t=u,n||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function e2e(r){var t=r.t||"",e=St(3);e.write_shift(2,t.length),e.write_shift(1,1);var i=St(2*t.length);i.write_shift(2*t.length,t,"utf16le");var n=[e,i];return Xo(n)}function yv(r,t,e){var i;if(e){if(e.biff>=2&&e.biff<=5)return r.read_shift(t,"cpstr");if(e.biff>=12)return r.read_shift(t,"dbcs-cont")}var n=r.read_shift(1);return n===0?i=r.read_shift(t,"sbcs-cont"):i=r.read_shift(t,"dbcs-cont"),i}function db(r,t,e){var i=r.read_shift(e&&e.biff==2?1:2);return i===0?(r.l++,""):yv(r,i,e)}function Fv(r,t,e){if(e.biff>5)return db(r,t,e);var i=r.read_shift(1);return i===0?(r.l++,""):r.read_shift(i,e.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function nJ(r,t,e){return e||(e=St(3+2*r.length)),e.write_shift(2,r.length),e.write_shift(1,1),e.write_shift(31,r,"utf16le"),e}function t2e(r){var t=r.read_shift(1);r.l++;var e=r.read_shift(2);return r.l+=2,[t,e]}function i2e(r){var t=r.read_shift(4),e=r.l,i=!1;t>24&&(r.l+=t-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(i=!0),r.l=e);var n=r.read_shift((i?t-24:t)>>1,"utf16le").replace(xc,"");return i&&(r.l+=24),n}function r2e(r){for(var t=r.read_shift(2),e="";t-- >0;)e+="../";var i=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=r.read_shift(4);if(n===0)return e+i.replace(/\\/g,"/");var s=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=r.read_shift(s>>1,"utf16le").replace(xc,"");return e+a}function n2e(r,t){var e=r.read_shift(16);switch(e){case"e0c9ea79f9bace118c8200aa004ba90b":return i2e(r);case"0303000000000000c000000000000046":return r2e(r);default:throw new Error("Unsupported Moniker "+e)}}function kE(r){var t=r.read_shift(4),e=t>0?r.read_shift(t,"utf16le").replace(xc,""):"";return e}function qH(r,t){t||(t=St(6+r.length*2)),t.write_shift(4,1+r.length);for(var e=0;e<r.length;++e)t.write_shift(2,r.charCodeAt(e));return t.write_shift(2,0),t}function s2e(r,t){var e=r.l+t,i=r.read_shift(4);if(i!==2)throw new Error("Unrecognized streamVersion: "+i);var n=r.read_shift(2);r.l+=2;var s,a,o,l,c="",u,d;n&16&&(s=kE(r,e-r.l)),n&128&&(a=kE(r,e-r.l)),(n&257)===257&&(o=kE(r,e-r.l)),(n&257)===1&&(l=n2e(r,e-r.l)),n&8&&(c=kE(r,e-r.l)),n&32&&(u=r.read_shift(16)),n&64&&(d=B3(r)),r.l=e;var p=a||o||l||"";p&&c&&(p+="#"+c),p||(p="#"+c),n&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var m={Target:p};return u&&(m.guid=u),d&&(m.time=d),s&&(m.Tooltip=s),m}function a2e(r){var t=St(512),e=0,i=r.Target;i.slice(0,7)=="file://"&&(i=i.slice(7));var n=i.indexOf("#"),s=n>-1?31:23;switch(i.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(e=0;e<a.length;++e)t.write_shift(4,a[e]);if(s==28)i=i.slice(1),qH(i,t);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),e=0;e<a.length;++e)t.write_shift(1,parseInt(a[e],16));var o=n>-1?i.slice(0,n):i;for(t.write_shift(4,2*(o.length+1)),e=0;e<o.length;++e)t.write_shift(2,o.charCodeAt(e));t.write_shift(2,0),s&8&&qH(n>-1?i.slice(n+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),e=0;e<a.length;++e)t.write_shift(1,parseInt(a[e],16));for(var l=0;i.slice(l*3,l*3+3)=="../"||i.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,i.length-3*l+1),e=0;e<i.length-3*l;++e)t.write_shift(1,i.charCodeAt(e+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),e=0;e<6;++e)t.write_shift(4,0)}return t.slice(0,t.l)}function sJ(r){var t=r.read_shift(1),e=r.read_shift(1),i=r.read_shift(1),n=r.read_shift(1);return[t,e,i,n]}function aJ(r,t){var e=sJ(r);return e[3]=0,e}function Tf(r){var t=r.read_shift(2),e=r.read_shift(2),i=r.read_shift(2);return{r:t,c:e,ixfe:i}}function xv(r,t,e,i){return i||(i=St(6)),i.write_shift(2,r),i.write_shift(2,t),i.write_shift(2,e||0),i}function o2e(r){var t=r.read_shift(2),e=r.read_shift(2);return r.l+=8,{type:t,flags:e}}function l2e(r,t,e){return t===0?"":Fv(r,t,e)}function c2e(r,t,e){var i=e.biff>8?4:2,n=r.read_shift(i),s=r.read_shift(i,"i"),a=r.read_shift(i,"i");return[n,s,a]}function oJ(r){var t=r.read_shift(2),e=R3(r);return[t,e]}function u2e(r,t,e){r.l+=4,t-=4;var i=r.l+t,n=hb(r,t,e),s=r.read_shift(2);if(i-=r.l,s!==i)throw new Error("Malformed AddinUdf: padding = "+i+" != "+s);return r.l+=s,n}function qN(r){var t=r.read_shift(2),e=r.read_shift(2),i=r.read_shift(2),n=r.read_shift(2);return{s:{c:i,r:t},e:{c:n,r:e}}}function lJ(r,t){return t||(t=St(8)),t.write_shift(2,r.s.r),t.write_shift(2,r.e.r),t.write_shift(2,r.s.c),t.write_shift(2,r.e.c),t}function cJ(r){var t=r.read_shift(2),e=r.read_shift(2),i=r.read_shift(1),n=r.read_shift(1);return{s:{c:i,r:t},e:{c:n,r:e}}}var h2e=cJ;function uJ(r){r.l+=4;var t=r.read_shift(2),e=r.read_shift(2),i=r.read_shift(2);return r.l+=12,[e,t,i]}function d2e(r){var t={};return r.l+=4,r.l+=16,t.fSharedNote=r.read_shift(2),r.l+=4,t}function f2e(r){var t={};return r.l+=4,r.cf=r.read_shift(2),t}function zl(r){r.l+=2,r.l+=r.read_shift(2)}var p2e={0:zl,4:zl,5:zl,6:zl,7:f2e,8:zl,9:zl,10:zl,11:zl,12:zl,13:d2e,14:zl,15:zl,16:zl,17:zl,18:zl,19:zl,20:zl,21:uJ};function m2e(r,t){for(var e=r.l+t,i=[];r.l<e;){var n=r.read_shift(2);r.l-=2;try{i.push(p2e[n](r,e-r.l))}catch{return r.l=e,i}}return r.l!=e&&(r.l=e),i}function LE(r,t){var e={BIFFVer:0,dt:0};switch(e.BIFFVer=r.read_shift(2),t-=2,t>=2&&(e.dt=r.read_shift(2),r.l-=2),e.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+e.BIFFVer)}return r.read_shift(t),e}function U3(r,t,e){var i=1536,n=16;switch(e.bookType){case"biff8":break;case"biff5":i=1280,n=8;break;case"biff4":i=4,n=6;break;case"biff3":i=3,n=6;break;case"biff2":i=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=St(n);return s.write_shift(2,i),s.write_shift(2,t),n>4&&s.write_shift(2,29282),n>6&&s.write_shift(2,1997),n>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function g2e(r,t){return t===0||r.read_shift(2),1200}function v2e(r,t,e){if(e.enc)return r.l+=t,"";var i=r.l,n=Fv(r,0,e);return r.read_shift(t+i-r.l),n}function y2e(r,t){var e=!t||t.biff==8,i=St(e?112:54);for(i.write_shift(t.biff==8?2:1,7),e&&i.write_shift(1,0),i.write_shift(4,859007059),i.write_shift(4,5458548|(e?0:536870912));i.l<i.length;)i.write_shift(1,e?0:32);return i}function x2e(r,t,e){var i=e&&e.biff==8||t==2?r.read_shift(2):(r.l+=t,0);return{fDialog:i&16,fBelow:i&64,fRight:i&128}}function M2e(r,t,e){var i=r.read_shift(4),n=r.read_shift(1)&3,s=r.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=hb(r,0,e);return a.length===0&&(a="Sheet1"),{pos:i,hs:n,dt:s,name:a}}function w2e(r,t){var e=!t||t.biff>=8?2:1,i=St(8+e*r.name.length);i.write_shift(4,r.pos),i.write_shift(1,r.hs||0),i.write_shift(1,r.dt),i.write_shift(1,r.name.length),t.biff>=8&&i.write_shift(1,1),i.write_shift(e*r.name.length,r.name,t.biff<8?"sbcs":"utf16le");var n=i.slice(0,i.l);return n.l=i.l,n}function T2e(r,t){for(var e=r.l+t,i=r.read_shift(4),n=r.read_shift(4),s=[],a=0;a!=n&&r.l<e;++a)s.push(ZCe(r));return s.Count=i,s.Unique=n,s}function b2e(r,t){var e=St(8);e.write_shift(4,r.Count),e.write_shift(4,r.Unique);for(var i=[],n=0;n<r.length;++n)i[n]=e2e(r[n]);var s=Xo([e].concat(i));return s.parts=[e.length].concat(i.map(function(a){return a.length})),s}function D2e(r,t){var e={};return e.dsst=r.read_shift(2),r.l+=t-2,e}function E2e(r){var t={};t.r=r.read_shift(2),t.c=r.read_shift(2),t.cnt=r.read_shift(2)-t.c;var e=r.read_shift(2);r.l+=4;var i=r.read_shift(1);return r.l+=3,i&7&&(t.level=i&7),i&32&&(t.hidden=!0),i&64&&(t.hpt=e/20),t}function A2e(r){var t=o2e(r);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var e=r.read_shift(4);return e!==0}function S2e(r){return r.read_shift(2),r.read_shift(4)}function QH(r,t,e){var i=0;e&&e.biff==2||(i=r.read_shift(2));var n=r.read_shift(2);e&&e.biff==2&&(i=1-(n>>15),n&=32767);var s={Unsynced:i&1,DyZero:(i&2)>>1,ExAsc:(i&4)>>2,ExDsc:(i&8)>>3};return[s,n]}function N2e(r){var t=r.read_shift(2),e=r.read_shift(2),i=r.read_shift(2),n=r.read_shift(2),s=r.read_shift(2),a=r.read_shift(2),o=r.read_shift(2),l=r.read_shift(2),c=r.read_shift(2);return{Pos:[t,e],Dim:[i,n],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function I2e(){var r=St(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function C2e(r,t,e){if(e&&e.biff>=2&&e.biff<5)return{};var i=r.read_shift(2);return{RTL:i&64}}function O2e(r){var t=St(18),e=1718;return r&&r.RTL&&(e|=64),t.write_shift(2,e),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function k2e(){}function L2e(r,t,e){var i={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(e&&e.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return i.name=hb(r,0,e),i}function j2e(r,t){var e=r.name||"Arial",i=t&&t.biff==5,n=i?15+e.length:16+2*e.length,s=St(n);return s.write_shift(2,r.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,e.length),i||s.write_shift(1,1),s.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le"),s}function _2e(r){var t=Tf(r);return t.isst=r.read_shift(4),t}function z2e(r,t,e,i){var n=St(10);return xv(r,t,i,n),n.write_shift(4,e),n}function R2e(r,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var i=r.l+t,n=Tf(r);e.biff==2&&r.l++;var s=db(r,i-r.l,e);return n.val=s,n}function P2e(r,t,e,i,n){var s=!n||n.biff==8,a=St(8+ +s+(1+s)*e.length);return xv(r,t,i,a),a.write_shift(2,e.length),s&&a.write_shift(1,1),a.write_shift((1+s)*e.length,e,s?"utf16le":"sbcs"),a}function F2e(r,t,e){var i=r.read_shift(2),n=Fv(r,0,e);return[i,n]}function B2e(r,t,e,i){var n=e&&e.biff==5;i||(i=St(n?3+t.length:5+2*t.length)),i.write_shift(2,r),i.write_shift(n?1:2,t.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var s=i.length>i.l?i.slice(0,i.l):i;return s.l==null&&(s.l=s.length),s}var U2e=Fv;function GH(r,t,e){var i=r.l+t,n=e.biff==8||!e.biff?4:2,s=r.read_shift(n),a=r.read_shift(n),o=r.read_shift(2),l=r.read_shift(2);return r.l=i,{s:{r:s,c:o},e:{r:a,c:l}}}function V2e(r,t){var e=t.biff==8||!t.biff?4:2,i=St(2*e+6);return i.write_shift(e,r.s.r),i.write_shift(e,r.e.r+1),i.write_shift(2,r.s.c),i.write_shift(2,r.e.c+1),i.write_shift(2,0),i}function H2e(r){var t=r.read_shift(2),e=r.read_shift(2),i=oJ(r);return{r:t,c:e,ixfe:i[0],rknum:i[1]}}function W2e(r,t){for(var e=r.l+t-2,i=r.read_shift(2),n=r.read_shift(2),s=[];r.l<e;)s.push(oJ(r));if(r.l!==e)throw new Error("MulRK read error");var a=r.read_shift(2);if(s.length!=a-n+1)throw new Error("MulRK length mismatch");return{r:i,c:n,C:a,rkrec:s}}function Y2e(r,t){for(var e=r.l+t-2,i=r.read_shift(2),n=r.read_shift(2),s=[];r.l<e;)s.push(r.read_shift(2));if(r.l!==e)throw new Error("MulBlank read error");var a=r.read_shift(2);if(s.length!=a-n+1)throw new Error("MulBlank length mismatch");return{r:i,c:n,C:a,ixfe:s}}function q2e(r,t,e,i){var n={},s=r.read_shift(4),a=r.read_shift(4),o=r.read_shift(4),l=r.read_shift(2);return n.patternType=ACe[o>>26],i.cellStyles&&(n.alc=s&7,n.fWrap=s>>3&1,n.alcV=s>>4&7,n.fJustLast=s>>7&1,n.trot=s>>8&255,n.cIndent=s>>16&15,n.fShrinkToFit=s>>20&1,n.iReadOrder=s>>22&2,n.fAtrNum=s>>26&1,n.fAtrFnt=s>>27&1,n.fAtrAlc=s>>28&1,n.fAtrBdr=s>>29&1,n.fAtrPat=s>>30&1,n.fAtrProt=s>>31&1,n.dgLeft=a&15,n.dgRight=a>>4&15,n.dgTop=a>>8&15,n.dgBottom=a>>12&15,n.icvLeft=a>>16&127,n.icvRight=a>>23&127,n.grbitDiag=a>>30&3,n.icvTop=o&127,n.icvBottom=o>>7&127,n.icvDiag=o>>14&127,n.dgDiag=o>>21&15,n.icvFore=l&127,n.icvBack=l>>7&127,n.fsxButton=l>>14&1),n}function Q2e(r,t,e){var i={};return i.ifnt=r.read_shift(2),i.numFmtId=r.read_shift(2),i.flags=r.read_shift(2),i.fStyle=i.flags>>2&1,t-=6,i.data=q2e(r,t,i.fStyle,e),i}function KH(r,t,e,i){var n=e&&e.biff==5;i||(i=St(n?16:20)),i.write_shift(2,0),r.style?(i.write_shift(2,r.numFmtId||0),i.write_shift(2,65524)):(i.write_shift(2,r.numFmtId||0),i.write_shift(2,t<<4));var s=0;return r.numFmtId>0&&n&&(s|=1024),i.write_shift(4,s),i.write_shift(4,0),n||i.write_shift(4,0),i.write_shift(2,0),i}function G2e(r){r.l+=4;var t=[r.read_shift(2),r.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function K2e(r){var t=St(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function $H(r,t,e){var i=Tf(r);(e.biff==2||t==9)&&++r.l;var n=JCe(r);return i.val=n,i.t=n===!0||n===!1?"b":"e",i}function $2e(r,t,e,i,n,s){var a=St(8);return xv(r,t,i,a),rJ(e,s,a),a}function X2e(r,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var i=Tf(r),n=Wl(r);return i.val=n,i}function J2e(r,t,e,i){var n=St(14);return xv(r,t,i,n),vv(e,n),n}var XH=l2e;function Z2e(r,t,e){var i=r.l+t,n=r.read_shift(2),s=r.read_shift(2);if(e.sbcch=s,s==1025||s==14849)return[s,n];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=yv(r,s),o=[];i>r.l;)o.push(db(r));return[s,n,a,o]}function JH(r,t,e){var i=r.read_shift(2),n,s={fBuiltIn:i&1,fWantAdvise:i>>>1&1,fWantPict:i>>>2&1,fOle:i>>>3&1,fOleLink:i>>>4&1,cf:i>>>5&1023,fIcon:i>>>15&1};return e.sbcch===14849&&(n=u2e(r,t-2,e)),s.body=n||r.read_shift(t-2),typeof n=="string"&&(s.Name=n),s}var e4e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function ZH(r,t,e){var i=r.l+t,n=r.read_shift(2),s=r.read_shift(1),a=r.read_shift(1),o=r.read_shift(e&&e.biff==2?1:2),l=0;(!e||e.biff>=5)&&(e.biff!=5&&(r.l+=2),l=r.read_shift(2),e.biff==5&&(r.l+=2),r.l+=4);var c=yv(r,a,e);n&32&&(c=e4e[c.charCodeAt(0)]);var u=i-r.l;e&&e.biff==2&&--u;var d=i==r.l||o===0||!(u>0)?[]:mLe(r,u,e,o);return{chKey:s,Name:c,itab:l,rgce:d}}function hJ(r,t,e){if(e.biff<8)return t4e(r,t,e);for(var i=[],n=r.l+t,s=r.read_shift(e.biff>8?4:2);s--!==0;)i.push(c2e(r,e.biff>8?12:6,e));if(r.l!=n)throw new Error("Bad ExternSheet: "+r.l+" != "+n);return i}function t4e(r,t,e){r[r.l+1]==3&&r[r.l]++;var i=hb(r,t,e);return i.charCodeAt(0)==3?i.slice(1):i}function i4e(r,t,e){if(e.biff<8){r.l+=t;return}var i=r.read_shift(2),n=r.read_shift(2),s=yv(r,i,e),a=yv(r,n,e);return[s,a]}function r4e(r,t,e){var i=cJ(r);r.l++;var n=r.read_shift(1);return t-=8,[gLe(r,t,e),n,i]}function e9(r,t,e){var i=h2e(r);switch(e.biff){case 2:r.l++,t-=7;break;case 3:case 4:r.l+=2,t-=8;break;default:r.l+=6,t-=12}return[i,fLe(r,t,e)]}function n4e(r){var t=r.read_shift(4)!==0,e=r.read_shift(4)!==0,i=r.read_shift(4);return[t,e,i]}function s4e(r,t,e){if(!(e.biff<8)){var i=r.read_shift(2),n=r.read_shift(2),s=r.read_shift(2),a=r.read_shift(2),o=Fv(r,0,e);return e.biff<8&&r.read_shift(1),[{r:i,c:n},o,a,s]}}function a4e(r,t,e){return s4e(r,t,e)}function o4e(r,t){for(var e=[],i=r.read_shift(2);i--;)e.push(qN(r));return e}function l4e(r){var t=St(2+r.length*8);t.write_shift(2,r.length);for(var e=0;e<r.length;++e)lJ(r[e],t);return t}function c4e(r,t,e){if(e&&e.biff<8)return h4e(r,t,e);var i=uJ(r),n=m2e(r,t-22,i[1]);return{cmo:i,ft:n}}var u4e={8:function(r,t){var e=r.l+t;r.l+=10;var i=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var n=r.read_shift(1);return r.l+=n,r.l=e,{fmt:i}}};function h4e(r,t,e){r.l+=4;var i=r.read_shift(2),n=r.read_shift(2),s=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,t-=36;var a=[];return a.push((u4e[i]||Xl)(r,t,e)),{cmo:[n,i,s],ft:a}}function d4e(r,t,e){var i=r.l,n="";try{r.l+=4;var s=(e.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?r.l+=6:a=t2e(r,6,e);var o=r.read_shift(2);r.read_shift(2),lo(r,2);var l=r.read_shift(2);r.l+=l;for(var c=1;c<r.lens.length-1;++c){if(r.l-i!=r.lens[c])throw new Error("TxO: bad continue record");var u=r[r.l],d=yv(r,r.lens[c+1]-r.lens[c]-1);if(n+=d,n.length>=(u?o:2*o))break}if(n.length!==o&&n.length!==o*2)throw new Error("cchText: "+o+" != "+n.length);return r.l=i+t,{t:n}}catch{return r.l=i+t,{t:n}}}function f4e(r,t){var e=qN(r);r.l+=16;var i=s2e(r,t-24);return[e,i]}function p4e(r){var t=St(24),e=ha(r[0]);t.write_shift(2,e.r),t.write_shift(2,e.r),t.write_shift(2,e.c),t.write_shift(2,e.c);for(var i="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(i[n],16));return Xo([t,a2e(r[1])])}function m4e(r,t){r.read_shift(2);var e=qN(r),i=r.read_shift((t-10)/2,"dbcs-cont");return i=i.replace(xc,""),[e,i]}function g4e(r){var t=r[1].Tooltip,e=St(10+2*(t.length+1));e.write_shift(2,2048);var i=ha(r[0]);e.write_shift(2,i.r),e.write_shift(2,i.r),e.write_shift(2,i.c),e.write_shift(2,i.c);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function v4e(r){var t=[0,0],e;return e=r.read_shift(2),t[0]=PH[e]||e,e=r.read_shift(2),t[1]=PH[e]||e,t}function y4e(r){return r||(r=St(4)),r.write_shift(2,1),r.write_shift(2,1),r}function x4e(r){for(var t=r.read_shift(2),e=[];t-- >0;)e.push(aJ(r));return e}function M4e(r){for(var t=r.read_shift(2),e=[];t-- >0;)e.push(aJ(r));return e}function w4e(r){r.l+=2;var t={cxfs:0,crc:0};return t.cxfs=r.read_shift(2),t.crc=r.read_shift(4),t}function dJ(r,t,e){if(!e.cellStyles)return Xl(r,t);var i=e&&e.biff>=12?4:2,n=r.read_shift(i),s=r.read_shift(i),a=r.read_shift(i),o=r.read_shift(i),l=r.read_shift(2);i==2&&(r.l+=2);var c={s:n,e:s,w:a,ixfe:o,flags:l};return(e.biff>=5||!e.biff)&&(c.level=l>>8&7),c}function T4e(r,t){var e=St(12);e.write_shift(2,t),e.write_shift(2,t),e.write_shift(2,r.width*256),e.write_shift(2,0);var i=0;return r.hidden&&(i|=1),e.write_shift(1,i),i=r.level||0,e.write_shift(1,i),e.write_shift(2,0),e}function b4e(r,t){var e={};return t<32||(r.l+=16,e.header=Wl(r),e.footer=Wl(r),r.l+=2),e}function D4e(r,t,e){var i={area:!1};if(e.biff!=5)return r.l+=t,i;var n=r.read_shift(1);return r.l+=3,n&16&&(i.area=!0),i}function E4e(r){for(var t=St(2*r),e=0;e<r;++e)t.write_shift(2,e+1);return t}var A4e=Tf,S4e=iJ,N4e=db;function I4e(r){var t=r.read_shift(2),e=r.read_shift(2),i=r.read_shift(4),n={fmt:t,env:e,len:i,data:r.slice(r.l,r.l+i)};return r.l+=i,n}function C4e(r,t,e){e.biffguess&&e.biff==5&&(e.biff=2);var i=Tf(r);++r.l;var n=Fv(r,t-7,e);return i.t="str",i.val=n,i}function O4e(r){var t=Tf(r);++r.l;var e=Wl(r);return t.t="n",t.val=e,t}function k4e(r,t,e){var i=St(15);return gb(i,r,t),i.write_shift(8,e,"f"),i}function L4e(r){var t=Tf(r);++r.l;var e=r.read_shift(2);return t.t="n",t.val=e,t}function j4e(r,t,e){var i=St(9);return gb(i,r,t),i.write_shift(2,e),i}function _4e(r){var t=r.read_shift(1);return t===0?(r.l++,""):r.read_shift(t,"sbcs-cont")}function z4e(r,t){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=t-13}function R4e(r,t,e){var i=r.l+t,n=Tf(r),s=r.read_shift(2),a=yv(r,s,e);return r.l=i,n.t="str",n.val=a,n}var P4e=[2,3,48,49,131,139,140,245],Rk=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=HN({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function e(o,l){var c=[],u=jg(1);switch(l.type){case"base64":u=Mu(Nu(o));break;case"binary":u=Mu(o);break;case"buffer":case"array":u=o;break}vl(u,0);var d=u.read_shift(1),p=!!(d&136),m=!1,y=!1;switch(d){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var M=0,w=521;d==2&&(M=u.read_shift(2)),u.l+=3,d!=2&&(M=u.read_shift(4)),M>1048576&&(M=1e6),d!=2&&(w=u.read_shift(2));var b=u.read_shift(2),D=l.codepage||1252;d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(D=r[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var E=[],N={},B=Math.min(u.length,d==2?521:w-10-(m?264:0)),P=y?32:11;u.l<B&&u[u.l]!=13;)switch(N={},N.name=MT.utils.decode(D,u.slice(u.l,u.l+P)).replace(/[\u0000\r\n].*$/g,""),u.l+=P,N.type=String.fromCharCode(u.read_shift(1)),d!=2&&!y&&(N.offset=u.read_shift(4)),N.len=u.read_shift(1),d==2&&(N.offset=u.read_shift(2)),N.dec=u.read_shift(1),N.name.length&&E.push(N),d!=2&&(u.l+=y?13:14),N.type){case"B":(!m||N.len!=8)&&l.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(u[u.l]!==13&&(u.l=w-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=w;var C=0,k=0;for(c[0]=[],k=0;k!=E.length;++k)c[0][k]=E[k].name;for(;M-- >0;){if(u[u.l]===42){u.l+=b;continue}for(++u.l,c[++C]=[],k=0,k=0;k!=E.length;++k){var _=u.slice(u.l,u.l+E[k].len);u.l+=E[k].len,vl(_,0);var H=MT.utils.decode(D,_);switch(E[k].type){case"C":H.trim().length&&(c[C][k]=H.replace(/\s+$/,""));break;case"D":H.length===8?c[C][k]=new Date(+H.slice(0,4),+H.slice(4,6)-1,+H.slice(6,8)):c[C][k]=H;break;case"F":c[C][k]=parseFloat(H.trim());break;case"+":case"I":c[C][k]=y?_.read_shift(-4,"i")^2147483648:_.read_shift(4,"i");break;case"L":switch(H.trim().toUpperCase()){case"Y":case"T":c[C][k]=!0;break;case"N":case"F":c[C][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+H+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[C][k]="##MEMO##"+(y?parseInt(H.trim(),10):_.read_shift(4));break;case"N":H=H.replace(/\u0000/g,"").trim(),H&&H!="."&&(c[C][k]=+H||0);break;case"@":c[C][k]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":c[C][k]=new Date((_.read_shift(4)-2440588)*864e5+_.read_shift(4));break;case"Y":c[C][k]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[C][k]=-_.read_shift(-8,"f");break;case"B":if(m&&E[k].len==8){c[C][k]=_.read_shift(8,"f");break}case"G":case"P":_.l+=E[k].len;break;case"0":if(E[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[k].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=E,c}function i(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=nx(e(o,c),c);return u["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,u}function n(o,l){try{return qg(i(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&rd(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Zc(),d=BS(o,{header:1,raw:!0,cellDates:!0}),p=d[0],m=d.slice(1),y=o["!cols"]||[],M=0,w=0,b=0,D=1;for(M=0;M<p.length;++M){if(((y[M]||{}).DBF||{}).name){p[M]=y[M].DBF.name,++b;continue}if(p[M]!=null){if(++b,typeof p[M]=="number"&&(p[M]=p[M].toString(10)),typeof p[M]!="string")throw new Error("DBF Invalid column name "+p[M]+" |"+typeof p[M]+"|");if(p.indexOf(p[M])!==M){for(w=0;w<1024;++w)if(p.indexOf(p[M]+"_"+w)==-1){p[M]+="_"+w;break}}}}var E=xn(o["!ref"]),N=[],B=[],P=[];for(M=0;M<=E.e.c-E.s.c;++M){var C="",k="",_=0,H=[];for(w=0;w<m.length;++w)m[w][M]!=null&&H.push(m[w][M]);if(H.length==0||p[M]==null){N[M]="?";continue}for(w=0;w<H.length;++w){switch(typeof H[w]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=H[w]instanceof Date?"D":"C";break;default:k="C"}_=Math.max(_,String(H[w]).length),C=C&&C!=k?"C":k}_>250&&(_=250),k=((y[M]||{}).DBF||{}).type,k=="C"&&y[M].DBF.len>_&&(_=y[M].DBF.len),C=="B"&&k=="N"&&(C="N",P[M]=y[M].DBF.dec,_=y[M].DBF.len),B[M]=C=="C"||k=="N"?_:s[C]||0,D+=B[M],N[M]=C}var j=u.next(32);for(j.write_shift(4,318902576),j.write_shift(4,m.length),j.write_shift(2,296+32*b),j.write_shift(2,D),M=0;M<4;++M)j.write_shift(4,0);for(j.write_shift(4,0|(+t[tX]||3)<<8),M=0,w=0;M<p.length;++M)if(p[M]!=null){var z=u.next(32),F=(p[M].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,F,"sbcs"),z.write_shift(1,N[M]=="?"?"C":N[M],"sbcs"),z.write_shift(4,w),z.write_shift(1,B[M]||s[N[M]]||0),z.write_shift(1,P[M]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),w+=B[M]||s[N[M]]||0}var X=u.next(264);for(X.write_shift(4,13),M=0;M<65;++M)X.write_shift(4,0);for(M=0;M<m.length;++M){var J=u.next(D);for(J.write_shift(1,0),w=0;w<p.length;++w)if(p[w]!=null)switch(N[w]){case"L":J.write_shift(1,m[M][w]==null?63:m[M][w]?84:70);break;case"B":J.write_shift(8,m[M][w]||0,"f");break;case"N":var U="0";for(typeof m[M][w]=="number"&&(U=m[M][w].toFixed(P[w]||0)),b=0;b<B[w]-U.length;++b)J.write_shift(1,32);J.write_shift(1,U,"sbcs");break;case"D":m[M][w]?(J.write_shift(4,("0000"+m[M][w].getFullYear()).slice(-4),"sbcs"),J.write_shift(2,("00"+(m[M][w].getMonth()+1)).slice(-2),"sbcs"),J.write_shift(2,("00"+m[M][w].getDate()).slice(-2),"sbcs")):J.write_shift(8,"00000000","sbcs");break;case"C":var W=String(m[M][w]!=null?m[M][w]:"").slice(0,B[w]);for(J.write_shift(1,W,"sbcs"),b=0;b<B[w]-W.length;++b)J.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:n,to_sheet:i,from_sheet:a}})(),fJ=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Sa(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(p,m){var y=r[m];return typeof y=="number"?hH(y):y},i=function(p,m,y){var M=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return M==59?p:hH(M)};r["|"]=254;function n(p,m){switch(m.type){case"base64":return s(Nu(p),m);case"binary":return s(p,m);case"buffer":return s(jr&&Buffer.isBuffer(p)?p.toString("binary"):Yg(p),m);case"array":return s(gv(p),m)}throw new Error("Unrecognized type "+m.type)}function s(p,m){var y=p.split(/[\n\r]+/),M=-1,w=-1,b=0,D=0,E=[],N=[],B=null,P={},C=[],k=[],_=[],H=0,j;for(+m.codepage>=0&&rd(+m.codepage);b!==y.length;++b){H=0;var z=y[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(t,e),F=z.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),X=F[0],J;if(z.length>0)switch(X){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&N.push(z.slice(3).replace(/;;/g,";"));break;case"C":var U=!1,W=!1,re=!1,Z=!1,Ee=-1,ae=-1;for(D=1;D<F.length;++D)switch(F[D].charAt(0)){case"A":break;case"X":w=parseInt(F[D].slice(1))-1,W=!0;break;case"Y":for(M=parseInt(F[D].slice(1))-1,W||(w=0),j=E.length;j<=M;++j)E[j]=[];break;case"K":J=F[D].slice(1),J.charAt(0)==='"'?J=J.slice(1,J.length-1):J==="TRUE"?J=!0:J==="FALSE"?J=!1:isNaN(ad(J))?isNaN(W1(J).getDate())||(J=qs(J)):(J=ad(J),B!==null&&ix(B)&&(J=YN(J))),U=!0;break;case"E":Z=!0;var L=T1(F[D].slice(1),{r:M,c:w});E[M][w]=[E[M][w],L];break;case"S":re=!0,E[M][w]=[E[M][w],"S5S"];break;case"G":break;case"R":Ee=parseInt(F[D].slice(1))-1;break;case"C":ae=parseInt(F[D].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+z)}if(U&&(E[M][w]&&E[M][w].length==2?E[M][w][0]=J:E[M][w]=J,B=null),re){if(Z)throw new Error("SYLK shared formula cannot have own formula");var Y=Ee>-1&&E[Ee][ae];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");E[M][w][1]=OJ(Y[1],{r:M-Ee,c:w-ae})}break;case"F":var G=0;for(D=1;D<F.length;++D)switch(F[D].charAt(0)){case"X":w=parseInt(F[D].slice(1))-1,++G;break;case"Y":for(M=parseInt(F[D].slice(1))-1,j=E.length;j<=M;++j)E[j]=[];break;case"M":H=parseInt(F[D].slice(1))/20;break;case"F":break;case"G":break;case"P":B=N[parseInt(F[D].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_=F[D].slice(1).split(" "),j=parseInt(_[0],10);j<=parseInt(_[1],10);++j)H=parseInt(_[2],10),k[j-1]=H===0?{hidden:!0}:{wch:H},_g(k[j-1]);break;case"C":w=parseInt(F[D].slice(1))-1,k[w]||(k[w]={});break;case"R":M=parseInt(F[D].slice(1))-1,C[M]||(C[M]={}),H>0?(C[M].hpt=H,C[M].hpx=q1(H)):H===0&&(C[M].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+z)}G<1&&(B=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+z)}}return C.length>0&&(P["!rows"]=C),k.length>0&&(P["!cols"]=k),m&&m.sheetRows&&(E=E.slice(0,m.sheetRows)),[E,P]}function a(p,m){var y=n(p,m),M=y[0],w=y[1],b=nx(M,m);return Sa(w).forEach(function(D){b[D]=w[D]}),b}function o(p,m){return qg(a(p,m),m)}function l(p,m,y,M){var w="C;Y"+(y+1)+";X"+(M+1)+";K";switch(p.t){case"n":w+=p.v||0,p.f&&!p.F&&(w+=";E"+Q3(p.f,{r:y,c:M}));break;case"b":w+=p.v?"TRUE":"FALSE";break;case"e":w+=p.w||p.v;break;case"d":w+='"'+(p.w||p.v)+'"';break;case"s":w+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function c(p,m){m.forEach(function(y,M){var w="F;W"+(M+1)+" "+(M+1)+" ";y.hidden?w+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=NT(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=IT(y.wpx)),typeof y.wch=="number"&&(w+=Math.round(y.wch))),w.charAt(w.length-1)!=" "&&p.push(w)})}function u(p,m){m.forEach(function(y,M){var w="F;";y.hidden?w+="M0;":y.hpt?w+="M"+20*y.hpt+";":y.hpx&&(w+="M"+20*CT(y.hpx)+";"),w.length>2&&p.push(w+"R"+(M+1))})}function d(p,m){var y=["ID;PWXL;N;E"],M=[],w=xn(p["!ref"]),b,D=Array.isArray(p),E=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),p["!cols"]&&c(y,p["!cols"]),p["!rows"]&&u(y,p["!rows"]),y.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var N=w.s.r;N<=w.e.r;++N)for(var B=w.s.c;B<=w.e.c;++B){var P=sr({r:N,c:B});b=D?(p[N]||[])[B]:p[P],!(!b||b.v==null&&(!b.f||b.F))&&M.push(l(b,p,N,B))}return y.join(E)+E+M.join(E)+E+"E"+E}return{to_workbook:o,to_sheet:a,from_sheet:d}})(),pJ=(function(){function r(s,a){switch(a.type){case"base64":return t(Nu(s),a);case"binary":return t(s,a);case"buffer":return t(jr&&Buffer.isBuffer(s)?s.toString("binary"):Yg(s),a);case"array":return t(gv(s),a)}throw new Error("Unrecognized type "+a.type)}function t(s,a){for(var o=s.split(`
`),l=-1,c=-1,u=0,d=[];u!==o.length;++u){if(o[u].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var p=o[u].trim().split(","),m=p[0],y=p[1];++u;for(var M=o[u]||"";(M.match(/["]/g)||[]).length&1&&u<o.length-1;)M+=`
`+o[++u];switch(M=M.trim(),+m){case-1:if(M==="BOT"){d[++l]=[],c=0;continue}else if(M!=="EOD")throw new Error("Unrecognized DIF special command "+M);break;case 0:M==="TRUE"?d[l][c]=!0:M==="FALSE"?d[l][c]=!1:isNaN(ad(y))?isNaN(W1(y).getDate())?d[l][c]=y:d[l][c]=qs(y):d[l][c]=ad(y),++c;break;case 1:M=M.slice(1,M.length-1),M=M.replace(/""/g,'"'),M&&M.match(/^=".*"$/)&&(M=M.slice(2,-1)),d[l][c++]=M!==""?M:null;break}if(M==="EOD")break}}return a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),d}function e(s,a){return nx(r(s,a),a)}function i(s,a){return qg(e(s,a),a)}var n=(function(){var s=function(l,c,u,d,p){l.push(c),l.push(u+","+d),l.push('"'+p.replace(/"/g,'""')+'"')},a=function(l,c,u,d){l.push(c+","+u),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],u=xn(l["!ref"]),d,p=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){a(c,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var M=sr({r:m,c:y});if(d=p?(l[m]||[])[y]:l[M],!d){a(c,1,0,"");continue}switch(d.t){case"n":var w=d.w;!w&&d.v!=null&&(w=d.v),w==null?d.f&&!d.F?a(c,1,0,"="+d.f):a(c,1,0,""):a(c,0,w,"V");break;case"b":a(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Th(d.z||ir[14],ko(qs(d.v)))),a(c,0,d.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var b=`\r
`,D=c.join(b);return D}})();return{to_workbook:i,to_sheet:e,from_sheet:n}})(),mJ=(function(){function r(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function e(d,p){for(var m=d.split(`
`),y=-1,M=-1,w=0,b=[];w!==m.length;++w){var D=m[w].trim().split(":");if(D[0]==="cell"){var E=ha(D[1]);if(b.length<=E.r)for(y=b.length;y<=E.r;++y)b[y]||(b[y]=[]);switch(y=E.r,M=E.c,D[2]){case"t":b[y][M]=r(D[3]);break;case"v":b[y][M]=+D[3];break;case"vtf":var N=D[D.length-1];case"vtc":switch(D[3]){case"nl":b[y][M]=!!+D[4];break;default:b[y][M]=+D[4];break}D[2]=="vtf"&&(b[y][M]=[b[y][M],N])}}}return p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),b}function i(d,p){return nx(e(d,p),p)}function n(d,p){return qg(i(d,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var p=[],m=[],y,M="",w=tu(d["!ref"]),b=Array.isArray(d),D=w.s.r;D<=w.e.r;++D)for(var E=w.s.c;E<=w.e.c;++E)if(M=sr({r:D,c:E}),y=b?(d[D]||[])[E]:d[M],!(!y||y.v==null||y.t==="z")){switch(m=["cell",M,"t"],y.t){case"s":case"str":m.push(t(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=t(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var N=ko(qs(y.v));m[2]="vtc",m[3]="nd",m[4]=""+N,m[5]=y.w||Th(y.z||ir[14],N);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function u(d){return[s,a,o,a,c(d),l].join(`
`)}return{to_workbook:n,to_sheet:i,from_sheet:u}})(),Y1=(function(){function r(u,d,p,m,y){y.raw?d[p][m]=u:u===""||(u==="TRUE"?d[p][m]=!0:u==="FALSE"?d[p][m]=!1:isNaN(ad(u))?isNaN(W1(u).getDate())?d[p][m]=u:d[p][m]=qs(u):d[p][m]=ad(u))}function t(u,d){var p=d||{},m=[];if(!u||u.length===0)return m;for(var y=u.split(/[\r\n]/),M=y.length-1;M>=0&&y[M].length===0;)--M;for(var w=10,b=0,D=0;D<=M;++D)b=y[D].indexOf(" "),b==-1?b=y[D].length:b++,w=Math.max(w,b);for(D=0;D<=M;++D){m[D]=[];var E=0;for(r(y[D].slice(0,w).trim(),m,D,E,p),E=1;E<=(y[D].length-w)/10+1;++E)r(y[D].slice(w+(E-1)*10,w+E*10).trim(),m,D,E,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var e={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function n(u){for(var d={},p=!1,m=0,y=0;m<u.length;++m)(y=u.charCodeAt(m))==34?p=!p:!p&&y in e&&(d[y]=(d[y]||0)+1);y=[];for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&y.push([d[m],m]);if(!y.length){d=i;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&y.push([d[m],m])}return y.sort(function(M,w){return M[0]-w[0]||i[M[1]]-i[w[1]]}),e[y.pop()[1]]||44}function s(u,d){var p=d||{},m="",y=p.dense?[]:{},M={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=n(u.slice(0,1024)):p&&p.FS?m=p.FS:m=n(u.slice(0,1024));var w=0,b=0,D=0,E=0,N=0,B=m.charCodeAt(0),P=!1,C=0,k=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var _=p.dateNF!=null?DIe(p.dateNF):null;function H(){var j=u.slice(E,N),z={};if(j.charAt(0)=='"'&&j.charAt(j.length-1)=='"'&&(j=j.slice(1,-1).replace(/""/g,'"')),j.length===0)z.t="z";else if(p.raw)z.t="s",z.v=j;else if(j.trim().length===0)z.t="s",z.v=j;else if(j.charCodeAt(0)==61)j.charCodeAt(1)==34&&j.charCodeAt(j.length-1)==34?(z.t="s",z.v=j.slice(2,-1).replace(/""/g,'"')):ZOe(j)?(z.t="n",z.f=j.slice(1)):(z.t="s",z.v=j);else if(j=="TRUE")z.t="b",z.v=!0;else if(j=="FALSE")z.t="b",z.v=!1;else if(!isNaN(D=ad(j)))z.t="n",p.cellText!==!1&&(z.w=j),z.v=D;else if(!isNaN(W1(j).getDate())||_&&j.match(_)){z.z=p.dateNF||ir[14];var F=0;_&&j.match(_)&&(j=EIe(j,p.dateNF,j.match(_)||[]),F=1),p.cellDates?(z.t="d",z.v=qs(j,F)):(z.t="n",z.v=ko(qs(j,F))),p.cellText!==!1&&(z.w=Th(z.z,z.v instanceof Date?ko(z.v):z.v)),p.cellNF||delete z.z}else z.t="s",z.v=j;if(z.t=="z"||(p.dense?(y[w]||(y[w]=[]),y[w][b]=z):y[sr({c:b,r:w})]=z),E=N+1,k=u.charCodeAt(E),M.e.c<b&&(M.e.c=b),M.e.r<w&&(M.e.r=w),C==B)++b;else if(b=0,++w,p.sheetRows&&p.sheetRows<=w)return!0}e:for(;N<u.length;++N)switch(C=u.charCodeAt(N)){case 34:k===34&&(P=!P);break;case B:case 10:case 13:if(!P&&H())break e;break}return N-E>0&&H(),y["!ref"]=Ar(M),y}function a(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,d):nx(t(u,d),d)}function o(u,d){var p="",m=d.type=="string"?[0,0,0,0]:t_(u,d);switch(d.type){case"base64":p=Nu(u);break;case"binary":p=u;break;case"buffer":d.codepage==65001?p=u.toString("utf8"):d.codepage&&typeof MT<"u"||(p=jr&&Buffer.isBuffer(u)?u.toString("binary"):Yg(u));break;case"array":p=gv(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+d.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=us(p.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?p=us(p):d.type=="binary"&&typeof MT<"u",p.slice(0,19)=="socialcalc:version:"?mJ.to_sheet(d.type=="string"?p:us(p),d):a(p,d)}function l(u,d){return qg(o(u,d),d)}function c(u){for(var d=[],p=xn(u["!ref"]),m,y=Array.isArray(u),M=p.s.r;M<=p.e.r;++M){for(var w=[],b=p.s.c;b<=p.e.c;++b){var D=sr({r:M,c:b});if(m=y?(u[M]||[])[b]:u[D],!m||m.v==null){w.push("          ");continue}for(var E=(m.w||(Kp(m),m.w)||"").slice(0,10);E.length<10;)E+=" ";w.push(E+(b===0?" ":""))}d.push(w.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function F4e(r,t){var e=t||{},i=!!e.WTF;e.WTF=!0;try{var n=fJ.to_workbook(r,e);return e.WTF=i,n}catch(s){if(e.WTF=i,!s.message.match(/SYLK bad record ID/)&&i)throw s;return Y1.to_workbook(r,t)}}var J0=(function(){function r(L,Y,G){if(L){vl(L,L.l||0);for(var Q=G.Enum||Ee;L.l<L.length;){var te=L.read_shift(2),le=Q[te]||Q[65535],Me=L.read_shift(2),ve=L.l+Me,Ie=le.f&&le.f(L,Me,G);if(L.l=ve,Y(Ie,le,te))return}}}function t(L,Y){switch(Y.type){case"base64":return e(Mu(Nu(L)),Y);case"binary":return e(Mu(L),Y);case"buffer":case"array":return e(L,Y)}throw"Unsupported type "+Y.type}function e(L,Y){if(!L)return L;var G=Y||{},Q=G.dense?[]:{},te="Sheet1",le="",Me=0,ve={},Ie=[],Je=[],xe={s:{r:0,c:0},e:{r:0,c:0}},Ot=G.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)G.Enum=Ee,r(L,function(Tt,$t,Lt){switch(Lt){case 0:G.vers=Tt,Tt>=4096&&(G.qpro=!0);break;case 6:xe=Tt;break;case 204:Tt&&(le=Tt);break;case 222:le=Tt;break;case 15:case 51:G.qpro||(Tt[1].v=Tt[1].v.slice(1));case 13:case 14:case 16:Lt==14&&(Tt[2]&112)==112&&(Tt[2]&15)>1&&(Tt[2]&15)<15&&(Tt[1].z=G.dateNF||ir[14],G.cellDates&&(Tt[1].t="d",Tt[1].v=YN(Tt[1].v))),G.qpro&&Tt[3]>Me&&(Q["!ref"]=Ar(xe),ve[te]=Q,Ie.push(te),Q=G.dense?[]:{},xe={s:{r:0,c:0},e:{r:0,c:0}},Me=Tt[3],te=le||"Sheet"+(Me+1),le="");var ni=G.dense?(Q[Tt[0].r]||[])[Tt[0].c]:Q[sr(Tt[0])];if(ni){ni.t=Tt[1].t,ni.v=Tt[1].v,Tt[1].z!=null&&(ni.z=Tt[1].z),Tt[1].f!=null&&(ni.f=Tt[1].f);break}G.dense?(Q[Tt[0].r]||(Q[Tt[0].r]=[]),Q[Tt[0].r][Tt[0].c]=Tt[1]):Q[sr(Tt[0])]=Tt[1];break}},G);else if(L[2]==26||L[2]==14)G.Enum=ae,L[2]==14&&(G.qpro=!0,L.l=0),r(L,function(Tt,$t,Lt){switch(Lt){case 204:te=Tt;break;case 22:Tt[1].v=Tt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Tt[3]>Me&&(Q["!ref"]=Ar(xe),ve[te]=Q,Ie.push(te),Q=G.dense?[]:{},xe={s:{r:0,c:0},e:{r:0,c:0}},Me=Tt[3],te="Sheet"+(Me+1)),Ot>0&&Tt[0].r>=Ot)break;G.dense?(Q[Tt[0].r]||(Q[Tt[0].r]=[]),Q[Tt[0].r][Tt[0].c]=Tt[1]):Q[sr(Tt[0])]=Tt[1],xe.e.c<Tt[0].c&&(xe.e.c=Tt[0].c),xe.e.r<Tt[0].r&&(xe.e.r=Tt[0].r);break;case 27:Tt[14e3]&&(Je[Tt[14e3][0]]=Tt[14e3][1]);break;case 1537:Je[Tt[0]]=Tt[1],Tt[0]==Me&&(te=Tt[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(Q["!ref"]=Ar(xe),ve[le||te]=Q,Ie.push(le||te),!Je.length)return{SheetNames:Ie,Sheets:ve};for(var Ge={},Se=[],ti=0;ti<Je.length;++ti)ve[Ie[ti]]?(Se.push(Je[ti]||Ie[ti]),Ge[Je[ti]]=ve[Je[ti]]||ve[Ie[ti]]):(Se.push(Je[ti]),Ge[Je[ti]]={"!ref":"A1"});return{SheetNames:Se,Sheets:Ge}}function i(L,Y){var G=Y||{};if(+G.codepage>=0&&rd(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=Zc(),te=xn(L["!ref"]),le=Array.isArray(L),Me=[];oi(Q,0,s(1030)),oi(Q,6,l(te));for(var ve=Math.min(te.e.r,8191),Ie=te.s.r;Ie<=ve;++Ie)for(var Je=Qa(Ie),xe=te.s.c;xe<=te.e.c;++xe){Ie===te.s.r&&(Me[xe]=ua(xe));var Ot=Me[xe]+Je,Ge=le?(L[Ie]||[])[xe]:L[Ot];if(!(!Ge||Ge.t=="z"))if(Ge.t=="n")(Ge.v|0)==Ge.v&&Ge.v>=-32768&&Ge.v<=32767?oi(Q,13,m(Ie,xe,Ge.v)):oi(Q,14,M(Ie,xe,Ge.v));else{var Se=Kp(Ge);oi(Q,15,d(Ie,xe,Se.slice(0,239)))}}return oi(Q,1),Q.end()}function n(L,Y){var G=Y||{};if(+G.codepage>=0&&rd(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=Zc();oi(Q,0,a(L));for(var te=0,le=0;te<L.SheetNames.length;++te)(L.Sheets[L.SheetNames[te]]||{})["!ref"]&&oi(Q,27,Z(L.SheetNames[te],le++));var Me=0;for(te=0;te<L.SheetNames.length;++te){var ve=L.Sheets[L.SheetNames[te]];if(!(!ve||!ve["!ref"])){for(var Ie=xn(ve["!ref"]),Je=Array.isArray(ve),xe=[],Ot=Math.min(Ie.e.r,8191),Ge=Ie.s.r;Ge<=Ot;++Ge)for(var Se=Qa(Ge),ti=Ie.s.c;ti<=Ie.e.c;++ti){Ge===Ie.s.r&&(xe[ti]=ua(ti));var Tt=xe[ti]+Se,$t=Je?(ve[Ge]||[])[ti]:ve[Tt];if(!(!$t||$t.t=="z"))if($t.t=="n")oi(Q,23,H(Ge,ti,Me,$t.v));else{var Lt=Kp($t);oi(Q,22,C(Ge,ti,Me,Lt.slice(0,239)))}}++Me}}return oi(Q,1),Q.end()}function s(L){var Y=St(2);return Y.write_shift(2,L),Y}function a(L){var Y=St(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var G=0,Q=0,te=0,le=0;le<L.SheetNames.length;++le){var Me=L.SheetNames[le],ve=L.Sheets[Me];if(!(!ve||!ve["!ref"])){++te;var Ie=tu(ve["!ref"]);G<Ie.e.r&&(G=Ie.e.r),Q<Ie.e.c&&(Q=Ie.e.c)}}return G>8191&&(G=8191),Y.write_shift(2,G),Y.write_shift(1,te),Y.write_shift(1,Q),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function o(L,Y,G){var Q={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&G.qpro?(Q.s.c=L.read_shift(1),L.l++,Q.s.r=L.read_shift(2),Q.e.c=L.read_shift(1),L.l++,Q.e.r=L.read_shift(2),Q):(Q.s.c=L.read_shift(2),Q.s.r=L.read_shift(2),Y==12&&G.qpro&&(L.l+=2),Q.e.c=L.read_shift(2),Q.e.r=L.read_shift(2),Y==12&&G.qpro&&(L.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function l(L){var Y=St(8);return Y.write_shift(2,L.s.c),Y.write_shift(2,L.s.r),Y.write_shift(2,L.e.c),Y.write_shift(2,L.e.r),Y}function c(L,Y,G){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(Q[0].c=L.read_shift(1),Q[3]=L.read_shift(1),Q[0].r=L.read_shift(2),L.l+=2):(Q[2]=L.read_shift(1),Q[0].c=L.read_shift(2),Q[0].r=L.read_shift(2)),Q}function u(L,Y,G){var Q=L.l+Y,te=c(L,Y,G);if(te[1].t="s",G.vers==20768){L.l++;var le=L.read_shift(1);return te[1].v=L.read_shift(le,"utf8"),te}return G.qpro&&L.l++,te[1].v=L.read_shift(Q-L.l,"cstr"),te}function d(L,Y,G){var Q=St(7+G.length);Q.write_shift(1,255),Q.write_shift(2,Y),Q.write_shift(2,L),Q.write_shift(1,39);for(var te=0;te<Q.length;++te){var le=G.charCodeAt(te);Q.write_shift(1,le>=128?95:le)}return Q.write_shift(1,0),Q}function p(L,Y,G){var Q=c(L,Y,G);return Q[1].v=L.read_shift(2,"i"),Q}function m(L,Y,G){var Q=St(7);return Q.write_shift(1,255),Q.write_shift(2,Y),Q.write_shift(2,L),Q.write_shift(2,G,"i"),Q}function y(L,Y,G){var Q=c(L,Y,G);return Q[1].v=L.read_shift(8,"f"),Q}function M(L,Y,G){var Q=St(13);return Q.write_shift(1,255),Q.write_shift(2,Y),Q.write_shift(2,L),Q.write_shift(8,G,"f"),Q}function w(L,Y,G){var Q=L.l+Y,te=c(L,Y,G);if(te[1].v=L.read_shift(8,"f"),G.qpro)L.l=Q;else{var le=L.read_shift(2);N(L.slice(L.l,L.l+le),te),L.l+=le}return te}function b(L,Y,G){var Q=Y&32768;return Y&=-32769,Y=(Q?L:0)+(Y>=8192?Y-16384:Y),(Q?"":"$")+(G?ua(Y):Qa(Y))}var D={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(L,Y){vl(L,0);for(var G=[],Q=0,te="",le="",Me="",ve="";L.l<L.length;){var Ie=L[L.l++];switch(Ie){case 0:G.push(L.read_shift(8,"f"));break;case 1:le=b(Y[0].c,L.read_shift(2),!0),te=b(Y[0].r,L.read_shift(2),!1),G.push(le+te);break;case 2:{var Je=b(Y[0].c,L.read_shift(2),!0),xe=b(Y[0].r,L.read_shift(2),!1);le=b(Y[0].c,L.read_shift(2),!0),te=b(Y[0].r,L.read_shift(2),!1),G.push(Je+xe+":"+le+te)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(L.read_shift(2));break;case 6:{for(var Ot="";Ie=L[L.l++];)Ot+=String.fromCharCode(Ie);G.push('"'+Ot.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:ve=G.pop(),Me=G.pop(),G.push(["AND","OR"][Ie-20]+"("+Me+","+ve+")");break;default:if(Ie<32&&E[Ie])ve=G.pop(),Me=G.pop(),G.push(Me+E[Ie]+ve);else if(D[Ie]){if(Q=D[Ie][1],Q==69&&(Q=L[L.l++]),Q>G.length){console.error("WK1 bad formula parse 0x"+Ie.toString(16)+":|"+G.join("|")+"|");return}var Ge=G.slice(-Q);G.length-=Q,G.push(D[Ie][0]+"("+Ge.join(",")+")")}else return Ie<=7?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=24?console.error("WK1 unsupported op "+Ie.toString(16)):Ie<=30?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=115?console.error("WK1 unsupported function opcode "+Ie.toString(16)):console.error("WK1 unrecognized opcode "+Ie.toString(16))}}G.length==1?Y[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function B(L){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=L.read_shift(2),Y[3]=L[L.l++],Y[0].c=L[L.l++],Y}function P(L,Y){var G=B(L);return G[1].t="s",G[1].v=L.read_shift(Y-4,"cstr"),G}function C(L,Y,G,Q){var te=St(6+Q.length);te.write_shift(2,L),te.write_shift(1,G),te.write_shift(1,Y),te.write_shift(1,39);for(var le=0;le<Q.length;++le){var Me=Q.charCodeAt(le);te.write_shift(1,Me>=128?95:Me)}return te.write_shift(1,0),te}function k(L,Y){var G=B(L);G[1].v=L.read_shift(2);var Q=G[1].v>>1;if(G[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return G[1].v=Q,G}function _(L,Y){var G=B(L),Q=L.read_shift(4),te=L.read_shift(4),le=L.read_shift(2);if(le==65535)return Q===0&&te===3221225472?(G[1].t="e",G[1].v=15):Q===0&&te===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var Me=le&32768;return le=(le&32767)-16446,G[1].v=(1-Me*2)*(te*Math.pow(2,le+32)+Q*Math.pow(2,le)),G}function H(L,Y,G,Q){var te=St(14);if(te.write_shift(2,L),te.write_shift(1,G),te.write_shift(1,Y),Q==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var le=0,Me=0,ve=0,Ie=0;return Q<0&&(le=1,Q=-Q),Me=Math.log2(Q)|0,Q/=Math.pow(2,Me-31),Ie=Q>>>0,(Ie&2147483648)==0&&(Q/=2,++Me,Ie=Q>>>0),Q-=Ie,Ie|=2147483648,Ie>>>=0,Q*=Math.pow(2,32),ve=Q>>>0,te.write_shift(4,ve),te.write_shift(4,Ie),Me+=16383+(le?32768:0),te.write_shift(2,Me),te}function j(L,Y){var G=_(L);return L.l+=Y-14,G}function z(L,Y){var G=B(L),Q=L.read_shift(4);return G[1].v=Q>>6,G}function F(L,Y){var G=B(L),Q=L.read_shift(8,"f");return G[1].v=Q,G}function X(L,Y){var G=F(L);return L.l+=Y-10,G}function J(L,Y){return L[L.l+Y-1]==0?L.read_shift(Y,"cstr"):""}function U(L,Y){var G=L[L.l++];G>Y-1&&(G=Y-1);for(var Q="";Q.length<G;)Q+=String.fromCharCode(L[L.l++]);return Q}function W(L,Y,G){if(!(!G.qpro||Y<21)){var Q=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var te=L.read_shift(Y-21,"cstr");return[Q,te]}}function re(L,Y){for(var G={},Q=L.l+Y;L.l<Q;){var te=L.read_shift(2);if(te==14e3){for(G[te]=[0,""],G[te][0]=L.read_shift(2);L[L.l];)G[te][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return G}function Z(L,Y){var G=St(5+L.length);G.write_shift(2,14e3),G.write_shift(2,Y);for(var Q=0;Q<L.length;++Q){var te=L.charCodeAt(Q);G[G.l++]=te>127?95:te}return G[G.l++]=0,G}var Ee={0:{n:"BOF",f:lo},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:J},222:{n:"SHEETNAMELP",f:U},65535:{n:""}},ae={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:_},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:j},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:X},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:J},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:n,to_workbook:t}})();function B4e(r){var t={},e=r.match(Jl),i=0,n=!1;if(e)for(;i!=e.length;++i){var s=ar(e[i]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=y3[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(s[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+s[0])}}return t}var U4e=(function(){var r=bT("t"),t=bT("rPr");function e(s){var a=s.match(r);if(!a)return{t:"s",v:""};var o={t:"s",v:yn(a[1])},l=s.match(t);return l&&(o.s=B4e(l[1])),o}var i=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(a){return a.replace(i,"").split(n).map(e).filter(function(o){return o.v})}})(),V4e=(function(){var t=/(\r\n|\n)/g;function e(n,s,a){var o=[];n.u&&o.push("text-decoration: underline;"),n.uval&&o.push("text-underline-style:"+n.uval+";"),n.sz&&o.push("font-size:"+n.sz+"pt;"),n.outline&&o.push("text-effect: outline;"),n.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),n.b&&(s.push("<b>"),a.push("</b>")),n.i&&(s.push("<i>"),a.push("</i>")),n.strike&&(s.push("<s>"),a.push("</s>"));var l=n.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),n}function i(n){var s=[[],n.v,[]];return n.v?(n.s&&e(n.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(i).join("")}})(),H4e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,W4e=/<(?:\w+:)?r>/,Y4e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function V3(r,t){var e=t?t.cellHTML:!0,i={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(i.t=yn(us(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),i.r=us(r),e&&(i.h=N3(i.t))):r.match(W4e)&&(i.r=us(r),i.t=yn(us((r.replace(Y4e,"").match(H4e)||[]).join("").replace(Jl,""))),e&&(i.h=V4e(U4e(i.r)))),i):{t:""}}var q4e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Q4e=/<(?:\w+:)?(?:si|sstItem)>/g,G4e=/<\/(?:\w+:)?(?:si|sstItem)>/;function K4e(r,t){var e=[],i="";if(!r)return e;var n=r.match(q4e);if(n){i=n[2].replace(Q4e,"").split(G4e);for(var s=0;s!=i.length;++s){var a=V3(i[s].trim(),t);a!=null&&(e[e.length]=a)}n=ar(n[1]),e.Count=n.count,e.Unique=n.uniqueCount}return e}var $4e=/^\s|\s$|[\t\n\r]/;function gJ(r,t){if(!t.bookSST)return"";var e=[Ga];e[e.length]=si("sst",null,{xmlns:jv[0],count:r.Count,uniqueCount:r.Unique});for(var i=0;i!=r.length;++i)if(r[i]!=null){var n=r[i],s="<si>";n.r?s+=n.r:(s+="<t",n.t||(n.t=""),n.t.match($4e)&&(s+=' xml:space="preserve"'),s+=">"+Gn(n.t)+"</t>"),s+="</si>",e[e.length]=s}return e.length>2&&(e[e.length]="</sst>",e[1]=e[1].replace("/>",">")),e.join("")}function X4e(r){return[r.read_shift(4),r.read_shift(4)]}function J4e(r,t){var e=[],i=!1;return Jp(r,function(s,a,o){switch(o){case 159:e.Count=s[0],e.Unique=s[1];break;case 19:e.push(s);break;case 160:return!0;case 35:i=!0;break;case 36:i=!1;break;default:if(a.T,!i||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),e}function Z4e(r,t){return t||(t=St(8)),t.write_shift(4,r.Count),t.write_shift(4,r.Unique),t}var e5e=uCe;function t5e(r){var t=Zc();Wt(t,159,Z4e(r));for(var e=0;e<r.length;++e)Wt(t,19,e5e(r[e]));return Wt(t,160),t.end()}function vJ(r){for(var t=[],e=r.split(""),i=0;i<e.length;++i)t[i]=e[i].charCodeAt(0);return t}function zp(r,t){var e={};return e.Major=r.read_shift(2),e.Minor=r.read_shift(2),t>=4&&(r.l+=t-4),e}function i5e(r){var t={};return t.id=r.read_shift(0,"lpp4"),t.R=zp(r,4),t.U=zp(r,4),t.W=zp(r,4),t}function r5e(r){for(var t=r.read_shift(4),e=r.l+t-4,i={},n=r.read_shift(4),s=[];n-- >0;)s.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(i.name=r.read_shift(0,"lpp4"),i.comps=s,r.l!=e)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+e);return i}function n5e(r){var t=[];r.l+=4;for(var e=r.read_shift(4);e-- >0;)t.push(r5e(r));return t}function s5e(r){var t=[];r.l+=4;for(var e=r.read_shift(4);e-- >0;)t.push(r.read_shift(0,"lpp4"));return t}function a5e(r){var t={};return r.read_shift(4),r.l+=4,t.id=r.read_shift(0,"lpp4"),t.name=r.read_shift(0,"lpp4"),t.R=zp(r,4),t.U=zp(r,4),t.W=zp(r,4),t}function o5e(r){var t=a5e(r);if(t.ename=r.read_shift(0,"8lpp4"),t.blksz=r.read_shift(4),t.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function yJ(r,t){var e=r.l+t,i={};i.Flags=r.read_shift(4)&63,r.l+=4,i.AlgID=r.read_shift(4);var n=!1;switch(i.AlgID){case 26126:case 26127:case 26128:n=i.Flags==36;break;case 26625:n=i.Flags==4;break;case 0:n=i.Flags==16||i.Flags==4||i.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+i.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return i.AlgIDHash=r.read_shift(4),i.KeySize=r.read_shift(4),i.ProviderType=r.read_shift(4),r.l+=8,i.CSPName=r.read_shift(e-r.l>>1,"utf16le"),r.l=e,i}function xJ(r,t){var e={},i=r.l+t;return r.l+=4,e.Salt=r.slice(r.l,r.l+16),r.l+=16,e.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),e.VerifierHash=r.slice(r.l,i),r.l=i,e}function l5e(r){var t=zp(r);switch(t.Minor){case 2:return[t.Minor,c5e(r)];case 3:return[t.Minor,u5e()];case 4:return[t.Minor,h5e(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function c5e(r){var t=r.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var e=r.read_shift(4),i=yJ(r,e),n=xJ(r,r.length-r.l);return{t:"Std",h:i,v:n}}function u5e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function h5e(r){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var e=r.read_shift(r.length-r.l,"utf8"),i={};return e.replace(Jl,function(s){var a=ar(s);switch(wf(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){i[o]=a[o]});break;case"<dataIntegrity":i.encryptedHmacKey=a.encryptedHmacKey,i.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":i.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":i.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":i.encs.push(a);break;default:throw a[0]}}),i}function d5e(r,t){var e={},i=e.EncryptionVersionInfo=zp(r,4);if(t-=4,i.Minor!=2)throw new Error("unrecognized minor version code: "+i.Minor);if(i.Major>4||i.Major<2)throw new Error("unrecognized major version code: "+i.Major);e.Flags=r.read_shift(4),t-=4;var n=r.read_shift(4);return t-=4,e.EncryptionHeader=yJ(r,n),t-=n,e.EncryptionVerifier=xJ(r,t),e}function f5e(r){var t={},e=t.EncryptionVersionInfo=zp(r,4);if(e.Major!=1||e.Minor!=1)throw"unrecognized version code "+e.Major+" : "+e.Minor;return t.Salt=r.read_shift(16),t.EncryptedVerifier=r.read_shift(16),t.EncryptedVerifierHash=r.read_shift(16),t}function H3(r){var t=0,e,i=vJ(r),n=i.length+1,s,a,o,l,c;for(e=jg(n),e[0]=i.length,s=1;s!=n;++s)e[s]=i[s-1];for(s=n-1;s>=0;--s)a=e[s],o=(t&16384)===0?0:1,l=t<<1&32767,c=o|l,t=c^a;return t^52811}var MJ=(function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],e=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],i=function(a){return(a/2|a*128)&255},n=function(a,o){return i(a^o)},s=function(a){for(var o=t[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var u=a[c],d=0;d!=7;++d)u&64&&(o^=e[l]),u*=2,--l;return o};return function(a){for(var o=vJ(a),l=s(o),c=o.length,u=jg(16),d=0;d!=16;++d)u[d]=0;var p,m,y;for((c&1)===1&&(p=l>>8,u[c]=n(r[0],p),--c,p=l&255,m=o[o.length-1],u[c]=n(m,p));c>0;)--c,p=l>>8,u[c]=n(o[c],p),--c,p=l&255,u[c]=n(o[c],p);for(c=15,y=15-o.length;y>0;)p=l>>8,u[c]=n(r[y],p),--c,--y,p=l&255,u[c]=n(o[c],p),--c,--y;return u}})(),p5e=function(r,t,e,i,n){n||(n=t),i||(i=MJ(r));var s,a;for(s=0;s!=t.length;++s)a=t[s],a^=i[e],a=(a>>5|a<<3)&255,n[s]=a,++e;return[n,e,i]},m5e=function(r){var t=0,e=MJ(r);return function(i){var n=p5e("",i,t,e);return t=n[1],n[0]}};function g5e(r,t,e,i){var n={key:lo(r),verificationBytes:lo(r)};return e.password&&(n.verifier=H3(e.password)),i.valid=n.verificationBytes===n.verifier,i.valid&&(i.insitu=m5e(e.password)),n}function v5e(r,t,e){var i=e||{};return i.Info=r.read_shift(2),r.l-=2,i.Info===1?i.Data=f5e(r):i.Data=d5e(r,t),i}function y5e(r,t,e){var i={Type:e.biff>=8?r.read_shift(2):0};return i.Type?v5e(r,t-2,i):g5e(r,e.biff>=8?t:t-2,e,i),i}var wJ=(function(){function r(n,s){switch(s.type){case"base64":return t(Nu(n),s);case"binary":return t(n,s);case"buffer":return t(jr&&Buffer.isBuffer(n)?n.toString("binary"):Yg(n),s);case"array":return t(gv(n),s)}throw new Error("Unrecognized type "+s.type)}function t(n,s){var a=s||{},o=a.dense?[]:{},l=n.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,d){Array.isArray(o)&&(o[d]=[]);for(var p=/\\\w+\b/g,m=0,y,M=-1;y=p.exec(u);){switch(y[0]){case"\\cell":var w=u.slice(m,p.lastIndex-y[0].length);if(w[0]==" "&&(w=w.slice(1)),++M,w.length){var b={v:w,t:"s"};Array.isArray(o)?o[d][M]=b:o[sr({r:d,c:M})]=b}break}m=p.lastIndex}M>c.e.c&&(c.e.c=M)}),o["!ref"]=Ar(c),o}function e(n,s){return qg(r(n,s),s)}function i(n){for(var s=["{\\rtf1\\ansi"],a=xn(n["!ref"]),o,l=Array.isArray(n),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var d=sr({r:c,c:u});o=l?(n[c]||[])[u]:n[d],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Kp(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:e,to_sheet:r,from_sheet:i}})();function x5e(r){var t=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function ST(r){for(var t=0,e=1;t!=3;++t)e=e*256+(r[t]>255?255:r[t]<0?0:r[t]);return e.toString(16).toUpperCase().slice(1)}function M5e(r){var t=r[0]/255,e=r[1]/255,i=r[2]/255,n=Math.max(t,e,i),s=Math.min(t,e,i),a=n-s;if(a===0)return[0,0,t];var o=0,l=0,c=n+s;switch(l=a/(c>1?2-c:c),n){case t:o=((e-i)/a+6)%6;break;case e:o=(i-t)/a+2;break;case i:o=(t-e)/a+4;break}return[o/6,l,c/2]}function w5e(r){var t=r[0],e=r[1],i=r[2],n=e*2*(i<.5?i:1-i),s=i-n/2,a=[s,s,s],o=6*t,l;if(e!==0)switch(o|0){case 0:case 6:l=n*o,a[0]+=n,a[1]+=l;break;case 1:l=n*(2-o),a[0]+=l,a[1]+=n;break;case 2:l=n*(o-2),a[1]+=n,a[2]+=l;break;case 3:l=n*(4-o),a[1]+=l,a[2]+=n;break;case 4:l=n*(o-4),a[2]+=n,a[0]+=l;break;case 5:l=n*(6-o),a[2]+=l,a[0]+=n;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function RS(r,t){if(t===0)return r;var e=M5e(x5e(r));return t<0?e[2]=e[2]*(1+t):e[2]=1-(1-e[2])*(1-t),ST(w5e(e))}var TJ=6,T5e=15,b5e=1,Hl=TJ;function NT(r){return Math.floor((r+Math.round(128/Hl)/256)*Hl)}function IT(r){return Math.floor((r-5)/Hl*100+.5)/100}function PS(r){return Math.round((r*Hl+5)/Hl*256)/256}function g5(r){return PS(IT(NT(r)))}function W3(r){var t=Math.abs(r-g5(r)),e=Hl;if(t>.005)for(Hl=b5e;Hl<T5e;++Hl)Math.abs(r-g5(r))<=t&&(t=Math.abs(r-g5(r)),e=Hl);Hl=e}function _g(r){r.width?(r.wpx=NT(r.width),r.wch=IT(r.wpx),r.MDW=Hl):r.wpx?(r.wch=IT(r.wpx),r.width=PS(r.wch),r.MDW=Hl):typeof r.wch=="number"&&(r.width=PS(r.wch),r.wpx=NT(r.width),r.MDW=Hl),r.customWidth&&delete r.customWidth}var D5e=96,bJ=D5e;function CT(r){return r*96/bJ}function q1(r){return r*bJ/96}var E5e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function A5e(r,t,e,i){t.Borders=[];var n={},s=!1;(r[0].match(Jl)||[]).forEach(function(a){var o=ar(a);switch(wf(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},o.diagonalUp&&(n.diagonalUp=Vs(o.diagonalUp)),o.diagonalDown&&(n.diagonalDown=Vs(o.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i&&i.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function S5e(r,t,e,i){t.Fills=[];var n={},s=!1;(r[0].match(Jl)||[]).forEach(function(a){var o=ar(a);switch(wf(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":o.patternType&&(n.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),o.indexed&&(n.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(n.bgColor.theme=parseInt(o.theme,10)),o.tint&&(n.bgColor.tint=parseFloat(o.tint)),o.rgb&&(n.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),o.theme&&(n.fgColor.theme=parseInt(o.theme,10)),o.tint&&(n.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(n.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i&&i.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function N5e(r,t,e,i){t.Fonts=[];var n={},s=!1;(r[0].match(Jl)||[]).forEach(function(a){var o=ar(a);switch(wf(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":o.val&&(n.name=us(o.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=o.val?Vs(o.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=o.val?Vs(o.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(o.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=o.val?Vs(o.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=o.val?Vs(o.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=o.val?Vs(o.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=o.val?Vs(o.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=o.val?Vs(o.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":o.val&&(n.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(n.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(n.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(n.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=y3[parseInt(o.val,10)];break;case"<color":if(n.color||(n.color={}),o.auto&&(n.color.auto=Vs(o.auto)),o.rgb)n.color.rgb=o.rgb.slice(-6);else if(o.indexed){n.color.index=parseInt(o.indexed,10);var l=$0[n.color.index];n.color.index==81&&(l=$0[1]),l||(l=$0[1]),n.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(n.color.theme=parseInt(o.theme,10),o.tint&&(n.color.tint=parseFloat(o.tint)),o.theme&&e.themeElements&&e.themeElements.clrScheme&&(n.color.rgb=RS(e.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i&&i.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function I5e(r,t,e){t.NumberFmt=[];for(var i=Sa(ir),n=0;n<i.length;++n)t.NumberFmt[i[n]]=ir[i[n]];var s=r[0].match(Jl);if(s)for(n=0;n<s.length;++n){var a=ar(s[n]);switch(wf(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=yn(us(a.formatCode)),l=parseInt(a.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}_p(o,l)}}break;case"</numFmt>":break;default:if(e.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function C5e(r){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var i=e[0];i<=e[1];++i)r[i]!=null&&(t[t.length]=si("numFmt",null,{numFmtId:i,formatCode:Gn(r[i])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=si("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var jE=["numFmtId","fillId","fontId","borderId","xfId"],_E=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function O5e(r,t,e){t.CellXf=[];var i,n=!1;(r[0].match(Jl)||[]).forEach(function(s){var a=ar(s),o=0;switch(wf(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(i=a,delete i[0],o=0;o<jE.length;++o)i[jE[o]]&&(i[jE[o]]=parseInt(i[jE[o]],10));for(o=0;o<_E.length;++o)i[_E[o]]&&(i[_E[o]]=Vs(i[_E[o]]));if(t.NumberFmt&&i.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[i.numFmtId]==t.NumberFmt[o]){i.numFmtId=o;break}}t.CellXf.push(i);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=Vs(a.wrapText)),i.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(e&&e.WTF&&!n)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function k5e(r){var t=[];return t[t.length]=si("cellXfs",null),r.forEach(function(e){t[t.length]=si("xf",null,e)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=si("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var L5e=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,e=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,i=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(t))&&I5e(d,u,c),(d=o.match(n))&&N5e(d,u,l,c),(d=o.match(i))&&S5e(d,u,l,c),(d=o.match(s))&&A5e(d,u,l,c),(d=o.match(e))&&O5e(d,u,c),u}})();function DJ(r,t){var e=[Ga,si("styleSheet",null,{xmlns:jv[0],"xmlns:vt":So.vt})],i;return r.SSF&&(i=C5e(r.SSF))!=null&&(e[e.length]=i),e[e.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',e[e.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',e[e.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',e[e.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(i=k5e(t.cellXfs))&&(e[e.length]=i),e[e.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',e[e.length]='<dxfs count="0"/>',e[e.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',e.length>2&&(e[e.length]="</styleSheet>",e[1]=e[1].replace("/>",">")),e.join("")}function j5e(r,t){var e=r.read_shift(2),i=Kl(r);return[e,i]}function _5e(r,t,e){e||(e=St(6+4*t.length)),e.write_shift(2,r),Jo(t,e);var i=e.length>e.l?e.slice(0,e.l):e;return e.l==null&&(e.l=e.length),i}function z5e(r,t,e){var i={};i.sz=r.read_shift(2)/20;var n=vCe(r);n.fItalic&&(i.italic=1),n.fCondense&&(i.condense=1),n.fExtend&&(i.extend=1),n.fShadow&&(i.shadow=1),n.fOutline&&(i.outline=1),n.fStrikeout&&(i.strike=1);var s=r.read_shift(2);switch(s===700&&(i.bold=1),r.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var a=r.read_shift(1);a!=0&&(i.underline=a);var o=r.read_shift(1);o>0&&(i.family=o);var l=r.read_shift(1);switch(l>0&&(i.charset=l),r.l++,i.color=gCe(r),r.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=Kl(r),i}function R5e(r,t){t||(t=St(153)),t.write_shift(2,r.sz*20),yCe(r,t),t.write_shift(2,r.bold?700:400);var e=0;r.vertAlign=="superscript"?e=1:r.vertAlign=="subscript"&&(e=2),t.write_shift(2,e),t.write_shift(1,r.underline||0),t.write_shift(1,r.family||0),t.write_shift(1,r.charset||0),t.write_shift(1,0),jS(r.color,t);var i=0;return i=2,t.write_shift(1,i),Jo(r.name,t),t.length>t.l?t.slice(0,t.l):t}var P5e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],v5,F5e=Xl;function t9(r,t){t||(t=St(84)),v5||(v5=HN(P5e));var e=v5[r.patternType];e==null&&(e=40),t.write_shift(4,e);var i=0;if(e!=40)for(jS({auto:1},t),jS({auto:1},t);i<12;++i)t.write_shift(4,0);else{for(;i<4;++i)t.write_shift(4,0);for(;i<12;++i)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function B5e(r,t){var e=r.l+t,i=r.read_shift(2),n=r.read_shift(2);return r.l=e,{ixfe:i,numFmtId:n}}function EJ(r,t,e){e||(e=St(16)),e.write_shift(2,t||0),e.write_shift(2,r.numFmtId||0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);var i=0;return e.write_shift(1,i),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e}function YM(r,t){return t||(t=St(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var U5e=Xl;function V5e(r,t){return t||(t=St(51)),t.write_shift(1,0),YM(null,t),YM(null,t),YM(null,t),YM(null,t),YM(null,t),t.length>t.l?t.slice(0,t.l):t}function H5e(r,t){return t||(t=St(52)),t.write_shift(4,r.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),LS(r.name||"",t),t.length>t.l?t.slice(0,t.l):t}function W5e(r,t,e){var i=St(2052);return i.write_shift(4,r),LS(t,i),LS(e,i),i.length>i.l?i.slice(0,i.l):i}function Y5e(r,t,e){var i={};i.NumberFmt=[];for(var n in ir)i.NumberFmt[n]=ir[n];i.CellXf=[],i.Fonts=[];var s=[],a=!1;return Jp(r,function(l,c,u){switch(u){case 44:i.NumberFmt[l[0]]=l[1],_p(l[1],l[0]);break;case 43:i.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=RS(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&i.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!a||e.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),i}function q5e(r,t){if(t){var e=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var n=i[0];n<=i[1];++n)t[n]!=null&&++e}),e!=0&&(Wt(r,615,od(e)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var n=i[0];n<=i[1];++n)t[n]!=null&&Wt(r,44,_5e(n,t[n]))}),Wt(r,616))}}function Q5e(r){var t=1;Wt(r,611,od(t)),Wt(r,43,R5e({sz:12,color:{theme:1},name:"Calibri",family:2})),Wt(r,612)}function G5e(r){var t=2;Wt(r,603,od(t)),Wt(r,45,t9({patternType:"none"})),Wt(r,45,t9({patternType:"gray125"})),Wt(r,604)}function K5e(r){var t=1;Wt(r,613,od(t)),Wt(r,46,V5e()),Wt(r,614)}function $5e(r){var t=1;Wt(r,626,od(t)),Wt(r,47,EJ({numFmtId:0},65535)),Wt(r,627)}function X5e(r,t){Wt(r,617,od(t.length)),t.forEach(function(e){Wt(r,47,EJ(e,0))}),Wt(r,618)}function J5e(r){var t=1;Wt(r,619,od(t)),Wt(r,48,H5e({xfId:0,name:"Normal"})),Wt(r,620)}function Z5e(r){var t=0;Wt(r,505,od(t)),Wt(r,506)}function eOe(r){var t=0;Wt(r,508,W5e(t,"TableStyleMedium9","PivotStyleMedium4")),Wt(r,509)}function tOe(r,t){var e=Zc();return Wt(e,278),q5e(e,r.SSF),Q5e(e),G5e(e),K5e(e),$5e(e),X5e(e,t.cellXfs),J5e(e),Z5e(e),eOe(e),Wt(e,279),e.end()}var iOe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function rOe(r,t,e){t.themeElements.clrScheme=[];var i={};(r[0].match(Jl)||[]).forEach(function(n){var s=ar(n);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":i.rgb=s.val;break;case"<a:sysClr":i.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[iOe.indexOf(s[0])]=i,i={}):i.name=s[0].slice(3,s[0].length-1);break;default:if(e&&e.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function nOe(){}function sOe(){}var aOe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,oOe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,lOe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function cOe(r,t,e){t.themeElements={};var i;[["clrScheme",aOe,rOe],["fontScheme",oOe,nOe],["fmtScheme",lOe,sOe]].forEach(function(n){if(!(i=r.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](i,t,e)})}var uOe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function AJ(r,t){(!r||r.length===0)&&(r=Y3());var e,i={};if(!(e=r.match(uOe)))throw new Error("themeElements not found in theme");return cOe(e[0],i,t),i.raw=r,i}function Y3(r,t){if(t&&t.themeXLSX)return t.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var e=[Ga];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function hOe(r,t,e){var i=r.l+t,n=r.read_shift(4);if(n!==124226){if(!e.cellStyles){r.l=i;return}var s=r.slice(r.l);r.l=i;var a;try{a=yX(s,{type:"array"})}catch{return}var o=wu(a,"theme/theme/theme1.xml",!0);if(o)return AJ(o,e)}}function dOe(r){return r.read_shift(4)}function fOe(r){var t={};switch(t.xclrType=r.read_shift(2),t.nTintShade=r.read_shift(2),t.xclrType){case 0:r.l+=4;break;case 1:t.xclrValue=pOe(r,4);break;case 2:t.xclrValue=sJ(r);break;case 3:t.xclrValue=dOe(r);break;case 4:r.l+=4;break}return r.l+=8,t}function pOe(r,t){return Xl(r,t)}function mOe(r,t){return Xl(r,t)}function gOe(r){var t=r.read_shift(2),e=r.read_shift(2)-4,i=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:i[1]=fOe(r);break;case 6:i[1]=mOe(r,e);break;case 14:case 15:i[1]=r.read_shift(e===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+e)}return i}function vOe(r,t){var e=r.l+t;r.l+=2;var i=r.read_shift(2);r.l+=2;for(var n=r.read_shift(2),s=[];n-- >0;)s.push(gOe(r,e-r.l));return{ixfe:i,ext:s}}function yOe(r,t){t.forEach(function(e){e[0]})}function xOe(r,t){return{flags:r.read_shift(4),version:r.read_shift(4),name:Kl(r)}}function MOe(r){var t=St(12+2*r.name.length);return t.write_shift(4,r.flags),t.write_shift(4,r.version),Jo(r.name,t),t.slice(0,t.l)}function wOe(r){for(var t=[],e=r.read_shift(4);e-- >0;)t.push([r.read_shift(4),r.read_shift(4)]);return t}function TOe(r){var t=St(4+8*r.length);t.write_shift(4,r.length);for(var e=0;e<r.length;++e)t.write_shift(4,r[e][0]),t.write_shift(4,r[e][1]);return t}function bOe(r,t){var e=St(8+2*t.length);return e.write_shift(4,r),Jo(t,e),e.slice(0,e.l)}function DOe(r){return r.l+=4,r.read_shift(4)!=0}function EOe(r,t){var e=St(8);return e.write_shift(4,r),e.write_shift(4,1),e}function AOe(r,t,e){var i={Types:[],Cell:[],Value:[]},n=e||{},s=[],a=!1,o=2;return Jp(r,function(l,c,u){switch(u){case 335:i.Types.push({name:l.name});break;case 51:l.forEach(function(d){o==1?i.Cell.push({type:i.Types[d[0]-1].name,index:d[1]}):o==0&&i.Value.push({type:i.Types[d[0]-1].name,index:d[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||n.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),i}function SOe(){var r=Zc();return Wt(r,332),Wt(r,334,od(1)),Wt(r,335,MOe({name:"XLDAPR",version:12e4,flags:3496657072})),Wt(r,336),Wt(r,339,bOe(1,"XLDAPR")),Wt(r,52),Wt(r,35,od(514)),Wt(r,4096,od(0)),Wt(r,4097,hh(1)),Wt(r,36),Wt(r,53),Wt(r,340),Wt(r,337,EOe(1)),Wt(r,51,TOe([[1,0]])),Wt(r,338),Wt(r,333),r.end()}function NOe(r,t,e){var i={Types:[],Cell:[],Value:[]};if(!r)return i;var n=!1,s=2,a;return r.replace(Jl,function(o){var l=ar(o);switch(wf(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":i.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<i.Types.length;++c)i.Types[c].name==l.name&&(a=i.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?i.Cell.push({type:i.Types[l.t-1].name,index:+l.v}):s==0&&i.Value.push({type:i.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!n&&e.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),i}function SJ(){var r=[Ga];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function IOe(r){var t=[];if(!r)return t;var e=1;return(r.match(Jl)||[]).forEach(function(i){var n=ar(i);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?e=n.i:n.i=e,t.push(n);break}}),t}function COe(r){var t={};t.i=r.read_shift(4);var e={};e.r=r.read_shift(4),e.c=r.read_shift(4),t.r=sr(e);var i=r.read_shift(1);return i&2&&(t.l="1"),i&8&&(t.a="1"),t}function OOe(r,t,e){var i=[];return Jp(r,function(s,a,o){switch(o){case 63:i.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),i}function kOe(r,t,e,i){if(!r)return r;var n=i||{},s=!1;Jp(r,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||n.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},n)}function LOe(r,t){if(!r)return"??";var e=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][e].Target}var t1=1024;function NJ(r,t){for(var e=[21600,21600],i=["m0,0l0",e[1],e[0],e[1],e[0],"0xe"].join(","),n=[si("xml",null,{"xmlns:v":yu.v,"xmlns:o":yu.o,"xmlns:x":yu.x,"xmlns:mv":yu.mv}).replace(/\/>/,">"),si("o:shapelayout",si("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),si("v:shapetype",[si("v:stroke",null,{joinstyle:"miter"}),si("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:e.join(","),path:i})];t1<r*1e3;)t1+=1e3;return t.forEach(function(s){var a=ha(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?si("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=si("v:fill",l,o),u={on:"t",obscured:"t"};++t1,n=n.concat(["<v:shape"+DT({id:"_x0000_s"+t1,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,si("v:shadow",null,u),si("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ml("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Ml("x:AutoFill","False"),Ml("x:Row",String(a.r)),Ml("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function i9(r,t,e,i){var n=Array.isArray(r),s;t.forEach(function(a){var o=ha(a.ref);if(n?(r[o.r]||(r[o.r]=[]),s=r[o.r][o.c]):s=r[a.ref],!s){s={t:"z"},n?r[o.r][o.c]=s:r[a.ref]=s;var l=xn(r["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Ar(l);c!==r["!ref"]&&(r["!ref"]=c)}s.c||(s.c=[]);var u={a:a.author,t:a.t,r:a.r,T:e};a.h&&(u.h=a.h);for(var d=s.c.length-1;d>=0;--d){if(!e&&s.c[d].T)return;e&&!s.c[d].T&&s.c.splice(d,1)}if(e&&i){for(d=0;d<i.length;++d)if(u.a==i[d].id){u.a=i[d].name||u.a;break}}s.c.push(u)})}function jOe(r,t){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var e=[],i=[],n=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&e.push(o[1])}});var s=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=ar(o[0]),c={author:l.authorId&&e[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=ha(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var d=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!d&&!!d[1]&&V3(d[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=p.h),i.push(c)}}}}),i}function IJ(r){var t=[Ga,si("comments",null,{xmlns:jv[0]})],e=[];return t.push("<authors>"),r.forEach(function(i){i[1].forEach(function(n){var s=Gn(n.a);e.indexOf(s)==-1&&(e.push(s),t.push("<author>"+s+"</author>")),n.T&&n.ID&&e.indexOf("tc="+n.ID)==-1&&(e.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),e.length==0&&(e.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),r.forEach(function(i){var n=0,s=[];if(i[1][0]&&i[1][0].T&&i[1][0].ID?n=e.indexOf("tc="+i[1][0].ID):i[1].forEach(function(l){l.a&&(n=e.indexOf(Gn(l.a))),s.push(l.t||"")}),t.push('<comment ref="'+i[0]+'" authorId="'+n+'"><text>'),s.length<=1)t.push(Ml("t",Gn(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;t.push(Ml("t",Gn(a)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function _Oe(r,t){var e=[],i=!1,n={},s=0;return r.replace(Jl,function(o,l){var c=ar(o);switch(wf(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":n.t!=null&&e.push(n);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":n.t=r.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":i=!0;break;case"</mentions>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(!i&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),e}function zOe(r,t,e){var i=[Ga,si("ThreadedComments",null,{xmlns:So.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(n){var s="";(n[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&t.indexOf(a.a)==-1&&t.push(a.a);var l={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+e.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),i.push(si("threadedComment",Ml("text",a.t||""),l))})}),i.push("</ThreadedComments>"),i.join("")}function ROe(r,t){var e=[],i=!1;return r.replace(Jl,function(s){var a=ar(s);switch(wf(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":e.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(!i&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),e}function POe(r){var t=[Ga,si("personList",null,{xmlns:So.TCMNT,"xmlns:x":jv[0]}).replace(/[\/]>/,">")];return r.forEach(function(e,i){t.push(si("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+i).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}function FOe(r){var t={};t.iauthor=r.read_shift(4);var e=Pv(r);return t.rfx=e.s,t.ref=sr(e.s),r.l+=16,t}function BOe(r,t){return t==null&&(t=St(36)),t.write_shift(4,r[1].iauthor),sx(r[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var UOe=Kl;function VOe(r){return Jo(r.slice(0,54))}function HOe(r,t){var e=[],i=[],n={},s=!1;return Jp(r,function(o,l,c){switch(c){case 632:i.push(o);break;case 635:n=o;break;case 637:n.t=o.t,n.h=o.h,n.r=o.r;break;case 636:if(n.author=i[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,e.push(n);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),e}function WOe(r){var t=Zc(),e=[];return Wt(t,628),Wt(t,630),r.forEach(function(i){i[1].forEach(function(n){e.indexOf(n.a)>-1||(e.push(n.a.slice(0,54)),Wt(t,632,VOe(n.a)))})}),Wt(t,631),Wt(t,633),r.forEach(function(i){i[1].forEach(function(n){n.iauthor=e.indexOf(n.a);var s={s:ha(i[0]),e:ha(i[0])};Wt(t,635,BOe([s,n])),n.t&&n.t.length>0&&Wt(t,637,dCe(n)),Wt(t,636),delete n.iauthor})}),Wt(t,634),Wt(t,629),t.end()}var YOe="application/vnd.ms-office.vbaProject";function qOe(r){var t=Ji.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(e,i){if(!(e.slice(-1)==="/"||!e.match(/_VBA_PROJECT_CUR/))){var n=e.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ji.utils.cfb_add(t,n,r.FileIndex[i].content)}}),Ji.write(t)}function QOe(r,t){t.FullPaths.forEach(function(e,i){if(i!=0){var n=e.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&Ji.utils.cfb_add(r,n,t.FileIndex[i].content)}})}var CJ=["xlsb","xlsm","xlam","biff8","xla"];function GOe(){return{"!type":"dialog"}}function KOe(){return{"!type":"dialog"}}function $Oe(){return{"!type":"macro"}}function XOe(){return{"!type":"macro"}}var T1=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(i,n,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,n+(o?"":"$")+ua(u)+(l?"":"$")+Qa(c)}return function(n,s){return t=s,n.replace(r,e)}})(),q3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Q3=(function(){return function(t,e){return t.replace(q3,function(i,n,s,a,o,l){var c=L3(a)-(s?0:e.c),u=k3(l)-(o?0:e.r),d=u==0?"":o?u+1:"["+u+"]",p=c==0?"":s?c+1:"["+c+"]";return n+"R"+d+"C"+p})}})();function OJ(r,t){return r.replace(q3,function(e,i,n,s,a,o){return i+(n=="$"?n+s:ua(L3(s)+t.c))+(a=="$"?a+o:Qa(k3(o)+t.r))})}function JOe(r,t,e){var i=tu(t),n=i.s,s=ha(e),a={r:s.r-n.r,c:s.c-n.c};return OJ(r,a)}function ZOe(r){return r.length!=1}function r9(r){return r.replace(/_xlfn\./g,"")}function ro(r){r.l+=1}function zg(r,t){var e=r.read_shift(2);return[e&16383,e>>14&1,e>>15&1]}function kJ(r,t,e){var i=2;if(e){if(e.biff>=2&&e.biff<=5)return LJ(r);e.biff==12&&(i=4)}var n=r.read_shift(i),s=r.read_shift(i),a=zg(r),o=zg(r);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function LJ(r){var t=zg(r),e=zg(r),i=r.read_shift(1),n=r.read_shift(1);return{s:{r:t[0],c:i,cRel:t[1],rRel:t[2]},e:{r:e[0],c:n,cRel:e[1],rRel:e[2]}}}function eke(r,t,e){if(e.biff<8)return LJ(r);var i=r.read_shift(e.biff==12?4:2),n=r.read_shift(e.biff==12?4:2),s=zg(r),a=zg(r);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:n,c:a[0],cRel:a[1],rRel:a[2]}}}function jJ(r,t,e){if(e&&e.biff>=2&&e.biff<=5)return tke(r);var i=r.read_shift(e&&e.biff==12?4:2),n=zg(r);return{r:i,c:n[0],cRel:n[1],rRel:n[2]}}function tke(r){var t=zg(r),e=r.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}function ike(r){var t=r.read_shift(2),e=r.read_shift(2);return{r:t,c:e&255,fQuoted:!!(e&16384),cRel:e>>15,rRel:e>>15}}function rke(r,t,e){var i=e&&e.biff?e.biff:8;if(i>=2&&i<=5)return nke(r);var n=r.read_shift(i>=12?4:2),s=r.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;n>524287;)n-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:n,c:s,cRel:a,rRel:o}}function nke(r){var t=r.read_shift(2),e=r.read_shift(1),i=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,i==1&&t>=8192&&(t=t-16384),n==1&&e>=128&&(e=e-256),{r:t,c:e,cRel:n,rRel:i}}function ske(r,t,e){var i=(r[r.l++]&96)>>5,n=kJ(r,e.biff>=2&&e.biff<=5?6:8,e);return[i,n]}function ake(r,t,e){var i=(r[r.l++]&96)>>5,n=r.read_shift(2,"i"),s=8;if(e)switch(e.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}var a=kJ(r,s,e);return[i,n,a]}function oke(r,t,e){var i=(r[r.l++]&96)>>5;return r.l+=e&&e.biff>8?12:e.biff<8?6:8,[i]}function lke(r,t,e){var i=(r[r.l++]&96)>>5,n=r.read_shift(2),s=8;if(e)switch(e.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}return r.l+=s,[i,n]}function cke(r,t,e){var i=(r[r.l++]&96)>>5,n=eke(r,t-1,e);return[i,n]}function uke(r,t,e){var i=(r[r.l++]&96)>>5;return r.l+=e.biff==2?6:e.biff==12?14:7,[i]}function n9(r){var t=r[r.l+1]&1,e=1;return r.l+=4,[t,e]}function hke(r,t,e){r.l+=2;for(var i=r.read_shift(e&&e.biff==2?1:2),n=[],s=0;s<=i;++s)n.push(r.read_shift(e&&e.biff==2?1:2));return n}function dke(r,t,e){var i=r[r.l+1]&255?1:0;return r.l+=2,[i,r.read_shift(e&&e.biff==2?1:2)]}function fke(r,t,e){var i=r[r.l+1]&255?1:0;return r.l+=2,[i,r.read_shift(e&&e.biff==2?1:2)]}function pke(r){var t=r[r.l+1]&255?1:0;return r.l+=2,[t,r.read_shift(2)]}function mke(r,t,e){var i=r[r.l+1]&255?1:0;return r.l+=e&&e.biff==2?3:4,[i]}function _J(r){var t=r.read_shift(1),e=r.read_shift(1);return[t,e]}function gke(r){return r.read_shift(2),_J(r)}function vke(r){return r.read_shift(2),_J(r)}function yke(r,t,e){var i=(r[r.l]&96)>>5;r.l+=1;var n=jJ(r,0,e);return[i,n]}function xke(r,t,e){var i=(r[r.l]&96)>>5;r.l+=1;var n=rke(r,0,e);return[i,n]}function Mke(r,t,e){var i=(r[r.l]&96)>>5;r.l+=1;var n=r.read_shift(2);e&&e.biff==5&&(r.l+=12);var s=jJ(r,0,e);return[i,n,s]}function wke(r,t,e){var i=(r[r.l]&96)>>5;r.l+=1;var n=r.read_shift(e&&e.biff<=3?1:2);return[DLe[n],PJ[n],i]}function Tke(r,t,e){var i=r[r.l++],n=r.read_shift(1),s=e&&e.biff<=3?[i==88?-1:0,r.read_shift(1)]:bke(r);return[n,(s[0]===0?PJ:bLe)[s[1]]]}function bke(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function Dke(r,t,e){r.l+=e&&e.biff==2?3:4}function Eke(r,t,e){if(r.l++,e&&e.biff==12)return[r.read_shift(4,"i"),0];var i=r.read_shift(2),n=r.read_shift(e&&e.biff==2?1:2);return[i,n]}function Ake(r){return r.l++,Zp[r.read_shift(1)]}function Ske(r){return r.l++,r.read_shift(2)}function Nke(r){return r.l++,r.read_shift(1)!==0}function Ike(r){return r.l++,Wl(r)}function Cke(r,t,e){return r.l++,hb(r,t-1,e)}function Oke(r,t){var e=[r.read_shift(1)];if(t==12)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2;break}switch(e[0]){case 4:e[1]=za(r,1)?"TRUE":"FALSE",t!=12&&(r.l+=7);break;case 37:case 16:e[1]=Zp[r[r.l]],r.l+=t==12?4:8;break;case 0:r.l+=8;break;case 1:e[1]=Wl(r);break;case 2:e[1]=Fv(r,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function kke(r,t,e){for(var i=r.read_shift(e.biff==12?4:2),n=[],s=0;s!=i;++s)n.push((e.biff==12?Pv:qN)(r));return n}function Lke(r,t,e){var i=0,n=0;e.biff==12?(i=r.read_shift(4),n=r.read_shift(4)):(n=1+r.read_shift(1),i=1+r.read_shift(2)),e.biff>=2&&e.biff<8&&(--i,--n==0&&(n=256));for(var s=0,a=[];s!=i&&(a[s]=[]);++s)for(var o=0;o!=n;++o)a[s][o]=Oke(r,e.biff);return a}function jke(r,t,e){var i=r.read_shift(1)>>>5&3,n=!e||e.biff>=8?4:2,s=r.read_shift(n);switch(e.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[i,0,s]}function _ke(r,t,e){if(e.biff==5)return zke(r);var i=r.read_shift(1)>>>5&3,n=r.read_shift(2),s=r.read_shift(4);return[i,n,s]}function zke(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2,"i");r.l+=8;var i=r.read_shift(2);return r.l+=12,[t,e,i]}function Rke(r,t,e){var i=r.read_shift(1)>>>5&3;r.l+=e&&e.biff==2?3:4;var n=r.read_shift(e&&e.biff==2?1:2);return[i,n]}function Pke(r,t,e){var i=r.read_shift(1)>>>5&3,n=r.read_shift(e&&e.biff==2?1:2);return[i,n]}function Fke(r,t,e){var i=r.read_shift(1)>>>5&3;return r.l+=4,e.biff<8&&r.l--,e.biff==12&&(r.l+=2),[i]}function Bke(r,t,e){var i=(r[r.l++]&96)>>5,n=r.read_shift(2),s=4;if(e)switch(e.biff){case 5:s=15;break;case 12:s=6;break}return r.l+=s,[i,n]}var Uke=Xl,Vke=Xl,Hke=Xl;function fb(r,t,e){return r.l+=2,[ike(r)]}function G3(r){return r.l+=6,[]}var Wke=fb,Yke=G3,qke=G3,Qke=fb;function zJ(r){return r.l+=2,[lo(r),r.read_shift(2)&1]}var Gke=fb,Kke=zJ,$ke=G3,Xke=fb,Jke=fb,Zke=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function eLe(r){r.l+=2;var t=r.read_shift(2),e=r.read_shift(2),i=r.read_shift(4),n=r.read_shift(2),s=r.read_shift(2),a=Zke[e>>2&31];return{ixti:t,coltype:e&3,rt:a,idx:i,c:n,C:s}}function tLe(r){return r.l+=2,[r.read_shift(4)]}function iLe(r,t,e){return r.l+=5,r.l+=2,r.l+=e.biff==2?1:4,["PTGSHEET"]}function rLe(r,t,e){return r.l+=e.biff==2?4:5,["PTGENDSHEET"]}function nLe(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function sLe(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function aLe(r){return r.l+=4,[0,0]}var s9={1:{n:"PtgExp",f:Eke},2:{n:"PtgTbl",f:Hke},3:{n:"PtgAdd",f:ro},4:{n:"PtgSub",f:ro},5:{n:"PtgMul",f:ro},6:{n:"PtgDiv",f:ro},7:{n:"PtgPower",f:ro},8:{n:"PtgConcat",f:ro},9:{n:"PtgLt",f:ro},10:{n:"PtgLe",f:ro},11:{n:"PtgEq",f:ro},12:{n:"PtgGe",f:ro},13:{n:"PtgGt",f:ro},14:{n:"PtgNe",f:ro},15:{n:"PtgIsect",f:ro},16:{n:"PtgUnion",f:ro},17:{n:"PtgRange",f:ro},18:{n:"PtgUplus",f:ro},19:{n:"PtgUminus",f:ro},20:{n:"PtgPercent",f:ro},21:{n:"PtgParen",f:ro},22:{n:"PtgMissArg",f:ro},23:{n:"PtgStr",f:Cke},26:{n:"PtgSheet",f:iLe},27:{n:"PtgEndSheet",f:rLe},28:{n:"PtgErr",f:Ake},29:{n:"PtgBool",f:Nke},30:{n:"PtgInt",f:Ske},31:{n:"PtgNum",f:Ike},32:{n:"PtgArray",f:uke},33:{n:"PtgFunc",f:wke},34:{n:"PtgFuncVar",f:Tke},35:{n:"PtgName",f:jke},36:{n:"PtgRef",f:yke},37:{n:"PtgArea",f:ske},38:{n:"PtgMemArea",f:Rke},39:{n:"PtgMemErr",f:Uke},40:{n:"PtgMemNoMem",f:Vke},41:{n:"PtgMemFunc",f:Pke},42:{n:"PtgRefErr",f:Fke},43:{n:"PtgAreaErr",f:oke},44:{n:"PtgRefN",f:xke},45:{n:"PtgAreaN",f:cke},46:{n:"PtgMemAreaN",f:nLe},47:{n:"PtgMemNoMemN",f:sLe},57:{n:"PtgNameX",f:_ke},58:{n:"PtgRef3d",f:Mke},59:{n:"PtgArea3d",f:ake},60:{n:"PtgRefErr3d",f:Bke},61:{n:"PtgAreaErr3d",f:lke},255:{}},oLe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},lLe={1:{n:"PtgElfLel",f:zJ},2:{n:"PtgElfRw",f:Xke},3:{n:"PtgElfCol",f:Wke},6:{n:"PtgElfRwV",f:Jke},7:{n:"PtgElfColV",f:Qke},10:{n:"PtgElfRadical",f:Gke},11:{n:"PtgElfRadicalS",f:$ke},13:{n:"PtgElfColS",f:Yke},15:{n:"PtgElfColSV",f:qke},16:{n:"PtgElfRadicalLel",f:Kke},25:{n:"PtgList",f:eLe},29:{n:"PtgSxName",f:tLe},255:{}},cLe={0:{n:"PtgAttrNoop",f:aLe},1:{n:"PtgAttrSemi",f:mke},2:{n:"PtgAttrIf",f:fke},4:{n:"PtgAttrChoose",f:hke},8:{n:"PtgAttrGoto",f:dke},16:{n:"PtgAttrSum",f:Dke},32:{n:"PtgAttrBaxcel",f:n9},33:{n:"PtgAttrBaxcel",f:n9},64:{n:"PtgAttrSpace",f:gke},65:{n:"PtgAttrSpaceSemi",f:vke},128:{n:"PtgAttrIfError",f:pke},255:{}};function pb(r,t,e,i){if(i.biff<8)return Xl(r,t);for(var n=r.l+t,s=[],a=0;a!==e.length;++a)switch(e[a][0]){case"PtgArray":e[a][1]=Lke(r,0,i),s.push(e[a][1]);break;case"PtgMemArea":e[a][2]=kke(r,e[a][1],i),s.push(e[a][2]);break;case"PtgExp":i&&i.biff==12&&(e[a][1][1]=r.read_shift(4),s.push(e[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[a][0]}return t=n-r.l,t!==0&&s.push(Xl(r,t)),s}function mb(r,t,e){for(var i=r.l+t,n,s,a=[];i!=r.l;)t=i-r.l,s=r[r.l],n=s9[s]||s9[oLe[s]],(s===24||s===25)&&(n=(s===24?lLe:cLe)[r[r.l+1]]),!n||!n.f?Xl(r,t):a.push([n.n,n.f(r,t,e)]);return a}function uLe(r){for(var t=[],e=0;e<r.length;++e){for(var i=r[e],n=[],s=0;s<i.length;++s){var a=i[s];if(a)switch(a[0]){case 2:n.push('"'+a[1].replace(/"/g,'""')+'"');break;default:n.push(a[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var hLe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function dLe(r,t){if(!r&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function RJ(r,t,e){if(!r)return"SH33TJSERR0";if(e.biff>8&&(!r.XTI||!r.XTI[t]))return r.SheetNames[t];if(!r.XTI)return"SH33TJSERR6";var i=r.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":r.XTI[t-1];if(!i)return"SH33TJSERR1";var n="";if(e.biff>8)switch(r[i[0]][0]){case 357:return n=i[1]==-1?"#REF":r.SheetNames[i[1]],i[1]==i[2]?n:n+":"+r.SheetNames[i[2]];case 358:return e.SID!=null?r.SheetNames[e.SID]:"SH33TJSSAME"+r[i[0]][0];case 355:default:return"SH33TJSSRC"+r[i[0]][0]}switch(r[i[0]][0][0]){case 1025:return n=i[1]==-1?"#REF":r.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?n:n+":"+r.SheetNames[i[2]];case 14849:return r[i[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return r[i[0]][0][3]?(n=i[1]==-1?"#REF":r[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?n:n+":"+r[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function a9(r,t,e){var i=RJ(r,t,e);return i=="#REF"?i:dLe(i,e)}function Ul(r,t,e,i,n){var s=n&&n.biff||8,a={s:{c:0,r:0}},o=[],l,c,u,d=0,p=0,m,y="";if(!r[0]||!r[0][0])return"";for(var M=-1,w="",b=0,D=r[0].length;b<D;++b){var E=r[0][b];switch(E[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),M>=0){switch(r[0][M][1][0]){case 0:w=Da(" ",r[0][M][1][1]);break;case 1:w=Da("\r",r[0][M][1][1]);break;default:if(w="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][M][1][0])}c=c+w,M=-1}o.push(c+hLe[E[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Ow(E[1][1],a,n),o.push(kw(u,s));break;case"PtgRefN":u=e?Ow(E[1][1],e,n):E[1][1],o.push(kw(u,s));break;case"PtgRef3d":d=E[1][1],u=Ow(E[1][2],a,n),y=a9(i,d,n),o.push(y+"!"+kw(u,s));break;case"PtgFunc":case"PtgFuncVar":var N=E[1][0],B=E[1][1];N||(N=0),N&=127;var P=N==0?[]:o.slice(-N);o.length-=N,B==="User"&&(B=P.shift()),o.push(B+"("+P.join(",")+")");break;case"PtgBool":o.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(E[1]);break;case"PtgNum":o.push(String(E[1]));break;case"PtgStr":o.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(E[1]);break;case"PtgAreaN":m=_H(E[1][1],e?{s:e}:a,n),o.push(f5(m,n));break;case"PtgArea":m=_H(E[1][1],a,n),o.push(f5(m,n));break;case"PtgArea3d":d=E[1][1],m=E[1][2],y=a9(i,d,n),o.push(y+"!"+f5(m,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=E[1][2];var C=(i.names||[])[p-1]||(i[0]||[])[p],k=C?C.Name:"SH33TJSNAME"+String(p);k&&k.slice(0,6)=="_xlfn."&&!n.xlfn&&(k=k.slice(6)),o.push(k);break;case"PtgNameX":var _=E[1][1];p=E[1][2];var H;if(n.biff<=5)_<0&&(_=-_),i[_]&&(H=i[_][p]);else{var j="";if(((i[_]||[])[0]||[])[0]==14849||(((i[_]||[])[0]||[])[0]==1025?i[_][p]&&i[_][p].itab>0&&(j=i.SheetNames[i[_][p].itab-1]+"!"):j=i.SheetNames[p-1]+"!"),i[_]&&i[_][p])j+=i[_][p].Name;else if(i[0]&&i[0][p])j+=i[0][p].Name;else{var z=(RJ(i,_,n)||"").split(";;");z[p-1]?j=z[p-1]:j+="SH33TJSERRX"}o.push(j);break}H||(H={Name:"SH33TJSERRY"}),o.push(H.Name);break;case"PtgParen":var F="(",X=")";if(M>=0){switch(w="",r[0][M][1][0]){case 2:F=Da(" ",r[0][M][1][1])+F;break;case 3:F=Da("\r",r[0][M][1][1])+F;break;case 4:X=Da(" ",r[0][M][1][1])+X;break;case 5:X=Da("\r",r[0][M][1][1])+X;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][M][1][0])}M=-1}o.push(F+o.pop()+X);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:E[1][1],r:E[1][0]};var J={c:e.c,r:e.r};if(i.sharedf[sr(u)]){var U=i.sharedf[sr(u)];o.push(Ul(U,a,J,i,n))}else{var W=!1;for(l=0;l!=i.arrayf.length;++l)if(c=i.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Ul(c[1],a,J,i,n)),W=!0;break}W||o.push(E[1])}break;case"PtgArray":o.push("{"+uLe(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":M=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&M>=0&&re.indexOf(r[0][b][0])==-1){E=r[0][M];var Z=!0;switch(E[1][0]){case 4:Z=!1;case 0:w=Da(" ",E[1][1]);break;case 5:Z=!1;case 1:w=Da("\r",E[1][1]);break;default:if(w="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}o.push((Z?w:"")+o.pop()+(Z?"":w)),M=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function fLe(r,t,e){var i=r.l+t,n=e.biff==2?1:2,s,a=r.read_shift(n);if(a==65535)return[[],Xl(r,t-2)];var o=mb(r,a,e);return t!==a+n&&(s=pb(r,t-a-n,o,e)),r.l=i,[o,s]}function pLe(r,t,e){var i=r.l+t,n=e.biff==2?1:2,s,a=r.read_shift(n);if(a==65535)return[[],Xl(r,t-2)];var o=mb(r,a,e);return t!==a+n&&(s=pb(r,t-a-n,o,e)),r.l=i,[o,s]}function mLe(r,t,e,i){var n=r.l+t,s=mb(r,i,e),a;return n!==r.l&&(a=pb(r,n-r.l,s,e)),[s,a]}function gLe(r,t,e){var i=r.l+t,n,s=r.read_shift(2),a=mb(r,s,e);return s==65535?[[],Xl(r,t-2)]:(t!==s+2&&(n=pb(r,i-s-2,a,e)),[a,n])}function vLe(r){var t;if(Sp(r,r.l+6)!==65535)return[Wl(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return t=r[r.l+2]===1,r.l+=8,[t,"b"];case 2:return t=r[r.l+2],r.l+=8,[t,"e"];case 3:return r.l+=8,["","s"]}return[]}function yLe(r){if(r==null){var t=St(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof r=="number")return vv(r);return vv(0)}function y5(r,t,e){var i=r.l+t,n=Tf(r);e.biff==2&&++r.l;var s=vLe(r),a=r.read_shift(1);e.biff!=2&&(r.read_shift(1),e.biff>=5&&r.read_shift(4));var o=pLe(r,i-r.l,e);return{cell:n,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function xLe(r,t,e,i,n){var s=xv(t,e,n),a=yLe(r.v),o=St(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=St(r.bf.length),u=0;u<r.bf.length;++u)c[u]=r.bf[u];var d=Xo([s,a,o,c]);return d}function QN(r,t,e){var i=r.read_shift(4),n=mb(r,i,e),s=r.read_shift(4),a=s>0?pb(r,s,n,e):null;return[n,a]}var MLe=QN,GN=QN,wLe=QN,TLe=QN,bLe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},PJ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},DLe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function o9(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,e){return e.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function ELe(r){var t="of:="+r.replace(q3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function x5(r){var t=r.split(":"),e=t[0].split(".")[0];return[e,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function ALe(r){return r.replace(/\./,"!")}var jw={},b1={},_w=typeof Map<"u";function K3(r,t,e){var i=0,n=r.length;if(e){if(_w?e.has(t):Object.prototype.hasOwnProperty.call(e,t)){for(var s=_w?e.get(t):e[t];i<s.length;++i)if(r[s[i]].t===t)return r.Count++,s[i]}}else for(;i<n;++i)if(r[i].t===t)return r.Count++,i;return r[n]={t},r.Count++,r.Unique++,e&&(_w?(e.has(t)||e.set(t,[]),e.get(t).push(n)):(Object.prototype.hasOwnProperty.call(e,t)||(e[t]=[]),e[t].push(n))),n}function KN(r,t){var e={min:r+1,max:r+1},i=-1;return t.MDW&&(Hl=t.MDW),t.width!=null?e.customWidth=1:t.wpx!=null?i=IT(t.wpx):t.wch!=null&&(i=t.wch),i>-1?(e.width=PS(i),e.customWidth=1):t.width!=null&&(e.width=t.width),t.hidden&&(e.hidden=!0),t.level!=null&&(e.outlineLevel=e.level=t.level),e}function Z0(r,t){if(r){var e=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(e=[1,1,1,1,.5,.5]),r.left==null&&(r.left=e[0]),r.right==null&&(r.right=e[1]),r.top==null&&(r.top=e[2]),r.bottom==null&&(r.bottom=e[3]),r.header==null&&(r.header=e[4]),r.footer==null&&(r.footer=e[5])}}function Qg(r,t,e){var i=e.revssf[t.z!=null?t.z:"General"],n=60,s=r.length;if(i==null&&e.ssf){for(;n<392;++n)if(e.ssf[n]==null){_p(t.z,n),e.ssf[n]=t.z,e.revssf[t.z]=i=n;break}}for(n=0;n!=s;++n)if(r[n].numFmtId===i)return n;return r[s]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function FJ(r,t,e,i,n,s){try{i.cellNF&&(r.z=ir[t])}catch(o){if(i.WTF)throw o}if(!(r.t==="z"&&!i.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=qs(r.v)),(!i||i.cellText!==!1)&&r.t!=="z")try{if(ir[t]==null&&_p(bIe[t]||"General",t),r.t==="e")r.w=r.w||Zp[r.v];else if(t===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=TT(r.v);else if(r.t==="d"){var a=ko(r.v);(a|0)===a?r.w=a.toString(10):r.w=TT(a)}else{if(r.v===void 0)return"";r.w=mv(r.v,b1)}else r.t==="d"?r.w=Th(t,ko(r.v),b1):r.w=Th(t,r.v,b1)}catch(o){if(i.WTF)throw o}if(i.cellStyles&&e!=null)try{r.s=s.Fills[e],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=RS(n.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),i.WTF&&(r.s.fgColor.raw_rgb=n.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=RS(n.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),i.WTF&&(r.s.bgColor.raw_rgb=n.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(o){if(i.WTF&&s.Fills)throw o}}}function SLe(r,t,e){if(r&&r["!ref"]){var i=xn(r["!ref"]);if(i.e.c<i.s.c||i.e.r<i.s.r)throw new Error("Bad range ("+e+"): "+r["!ref"])}}function NLe(r,t){var e=xn(t);e.s.r<=e.e.r&&e.s.c<=e.e.c&&e.s.r>=0&&e.s.c>=0&&(r["!ref"]=Ar(e))}var ILe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,CLe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,OLe=/<(?:\w:)?hyperlink [^>]*>/mg,kLe=/"(\w*:\w*)"/,LLe=/<(?:\w:)?col\b[^>]*[\/]?>/g,jLe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,_Le=/<(?:\w:)?pageMargins[^>]*\/>/g,BJ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,zLe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,RLe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function PLe(r,t,e,i,n,s,a){if(!r)return r;i||(i={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",d=r.match(CLe);d?(c=r.slice(0,d.index),u=r.slice(d.index+d[0].length)):c=u=r;var p=c.match(BJ);p?$3(p[0],o,n,e):(p=c.match(zLe))&&BLe(p[0],p[1]||"",o,n,e);var m=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var y=c.slice(m,m+50).match(kLe);y&&NLe(o,y[1])}var M=c.match(RLe);M&&M[1]&&ZLe(M[1],n);var w=[];if(t.cellStyles){var b=c.match(LLe);b&&GLe(w,b)}d&&ije(d[1],o,t,l,s,a);var D=u.match(jLe);D&&(o["!autofilter"]=$Le(D[0]));var E=[],N=u.match(ILe);if(N)for(m=0;m!=N.length;++m)E[m]=xn(N[m].slice(N[m].indexOf('"')+1));var B=u.match(OLe);B&&YLe(o,B,i);var P=u.match(_Le);if(P&&(o["!margins"]=qLe(ar(P[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Ar(l)),t.sheetRows>0&&o["!ref"]){var C=xn(o["!ref"]);t.sheetRows<=+C.e.r&&(C.e.r=t.sheetRows-1,C.e.r>l.e.r&&(C.e.r=l.e.r),C.e.r<C.s.r&&(C.s.r=C.e.r),C.e.c>l.e.c&&(C.e.c=l.e.c),C.e.c<C.s.c&&(C.s.c=C.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Ar(C))}return w.length>0&&(o["!cols"]=w),E.length>0&&(o["!merges"]=E),o}function FLe(r){if(r.length===0)return"";for(var t='<mergeCells count="'+r.length+'">',e=0;e!=r.length;++e)t+='<mergeCell ref="'+Ar(r[e])+'"/>';return t+"</mergeCells>"}function $3(r,t,e,i){var n=ar(r);e.Sheets[i]||(e.Sheets[i]={}),n.codeName&&(e.Sheets[i].CodeName=yn(us(n.codeName)))}function BLe(r,t,e,i,n){$3(r.slice(0,r.indexOf(">")),e,i,n)}function ULe(r,t,e,i,n){var s=!1,a={},o=null;if(i.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[e];try{t.Workbook&&(l=t.Workbook.Sheets[e].CodeName||l)}catch{}s=!0,a.codeName=nf(Gn(l))}if(r&&r["!outline"]){var c={summaryBelow:1,summaryRight:1};r["!outline"].above&&(c.summaryBelow=0),r["!outline"].left&&(c.summaryRight=0),o=(o||"")+si("outlinePr",null,c)}!s&&!o||(n[n.length]=si("sheetPr",o,a))}var VLe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],HLe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function WLe(r){var t={sheet:1};return VLe.forEach(function(e){r[e]!=null&&r[e]&&(t[e]="1")}),HLe.forEach(function(e){r[e]!=null&&!r[e]&&(t[e]="0")}),r.password&&(t.password=H3(r.password).toString(16).toUpperCase()),si("sheetProtection",null,t)}function YLe(r,t,e){for(var i=Array.isArray(r),n=0;n!=t.length;++n){var s=ar(us(t[n]),!0);if(!s.ref)return;var a=((e||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+yn(s.location))):(s.Target="#"+yn(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=xn(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=sr({c,r:l});i?(r[l]||(r[l]=[]),r[l][c]||(r[l][c]={t:"z",v:void 0}),r[l][c].l=s):(r[u]||(r[u]={t:"z",v:void 0}),r[u].l=s)}}}function qLe(r){var t={};return["left","right","top","bottom","header","footer"].forEach(function(e){r[e]&&(t[e]=parseFloat(r[e]))}),t}function QLe(r){return Z0(r),si("pageMargins",null,r)}function GLe(r,t){for(var e=!1,i=0;i!=t.length;++i){var n=ar(t[i],!0);n.hidden&&(n.hidden=Vs(n.hidden));var s=parseInt(n.min,10)-1,a=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!e&&n.width&&(e=!0,W3(n.width)),_g(n);s<=a;)r[s++]=Qs(n)}}function KLe(r,t){for(var e=["<cols>"],i,n=0;n!=t.length;++n)(i=t[n])&&(e[e.length]=si("col",null,KN(n,i)));return e[e.length]="</cols>",e.join("")}function $Le(r){var t={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return t}function XLe(r,t,e,i){var n=typeof r.ref=="string"?r.ref:Ar(r.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var s=e.Workbook.Names,a=tu(n);a.s.r==a.e.r&&(a.e.r=tu(t["!ref"]).e.r,n=Ar(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==i){l.Ref="'"+e.SheetNames[i]+"'!"+n;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+e.SheetNames[i]+"'!"+n}),si("autoFilter",null,{ref:n})}var JLe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function ZLe(r,t){t.Views||(t.Views=[{}]),(r.match(JLe)||[]).forEach(function(e,i){var n=ar(e);t.Views[i]||(t.Views[i]={}),+n.zoomScale&&(t.Views[i].zoom=+n.zoomScale),Vs(n.rightToLeft)&&(t.Views[i].RTL=!0)})}function eje(r,t,e,i){var n={workbookViewId:"0"};return(((i||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=i.Workbook.Views[0].RTL?"1":"0"),si("sheetViews",si("sheetView",null,n),{})}function tje(r,t,e,i){if(r.c&&e["!comments"].push([t,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var n="",s=r.t,a=r.v;if(r.t!=="z")switch(r.t){case"b":n=r.v?"1":"0";break;case"n":n=""+r.v;break;case"e":n=Zp[r.v];break;case"d":i&&i.cellDates?n=qs(r.v,-1).toISOString():(r=Qs(r),r.t="n",n=""+(r.v=ko(qs(r.v)))),typeof r.z>"u"&&(r.z=ir[14]);break;default:n=r.v;break}var o=Ml("v",Gn(n)),l={r:t},c=Qg(i.cellXfs,r,i);switch(c!==0&&(l.s=c),r.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(i&&i.bookSST){o=Ml("v",""+K3(i.Strings,r.v,i.revStrings)),l.t="s";break}l.t="str";break}if(r.t!=s&&(r.t=s,r.v=a),typeof r.f=="string"&&r.f){var u=r.F&&r.F.slice(0,t.length)==t?{t:"array",ref:r.F}:null;o=si("f",Gn(r.f),u)+(r.v!=null?o:"")}return r.l&&e["!links"].push([t,r.l]),r.D&&(l.cm=1),si("c",o,l)}var ije=(function(){var r=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,e=/r=["']([^"']*)["']/,i=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,s=bT("v"),a=bT("f");return function(l,c,u,d,p,m){for(var y=0,M="",w=[],b=[],D=0,E=0,N=0,B="",P,C,k=0,_=0,H,j,z=0,F=0,X=Array.isArray(m.CellXf),J,U=[],W=[],re=Array.isArray(c),Z=[],Ee={},ae=!1,L=!!u.sheetStubs,Y=l.split(t),G=0,Q=Y.length;G!=Q;++G){M=Y[G].trim();var te=M.length;if(te!==0){var le=0;e:for(y=0;y<te;++y)switch(M[y]){case">":if(M[y-1]!="/"){++y;break e}if(u&&u.cellStyles){if(C=ar(M.slice(le,y),!0),k=C.r!=null?parseInt(C.r,10):k+1,_=-1,u.sheetRows&&u.sheetRows<k)continue;Ee={},ae=!1,C.ht&&(ae=!0,Ee.hpt=parseFloat(C.ht),Ee.hpx=q1(Ee.hpt)),C.hidden=="1"&&(ae=!0,Ee.hidden=!0),C.outlineLevel!=null&&(ae=!0,Ee.level=+C.outlineLevel),ae&&(Z[k-1]=Ee)}break;case"<":le=y;break}if(le>=y)break;if(C=ar(M.slice(le,y),!0),k=C.r!=null?parseInt(C.r,10):k+1,_=-1,!(u.sheetRows&&u.sheetRows<k)){d.s.r>k-1&&(d.s.r=k-1),d.e.r<k-1&&(d.e.r=k-1),u&&u.cellStyles&&(Ee={},ae=!1,C.ht&&(ae=!0,Ee.hpt=parseFloat(C.ht),Ee.hpx=q1(Ee.hpt)),C.hidden=="1"&&(ae=!0,Ee.hidden=!0),C.outlineLevel!=null&&(ae=!0,Ee.level=+C.outlineLevel),ae&&(Z[k-1]=Ee)),w=M.slice(y).split(r);for(var Me=0;Me!=w.length&&w[Me].trim().charAt(0)=="<";++Me);for(w=w.slice(Me),y=0;y!=w.length;++y)if(M=w[y].trim(),M.length!==0){if(b=M.match(e),D=y,E=0,N=0,M="<c "+(M.slice(0,1)=="<"?">":"")+M,b!=null&&b.length===2){for(D=0,B=b[1],E=0;E!=B.length&&!((N=B.charCodeAt(E)-64)<1||N>26);++E)D=26*D+N;--D,_=D}else++_;for(E=0;E!=M.length&&M.charCodeAt(E)!==62;++E);if(++E,C=ar(M.slice(0,E),!0),C.r||(C.r=sr({r:k-1,c:_})),B=M.slice(E),P={t:""},(b=B.match(s))!=null&&b[1]!==""&&(P.v=yn(b[1])),u.cellFormula){if((b=B.match(a))!=null&&b[1]!==""){if(P.f=yn(us(b[1])).replace(/\r\n/g,`
`),u.xlfn||(P.f=r9(P.f)),b[0].indexOf('t="array"')>-1)P.F=(B.match(n)||[])[1],P.F.indexOf(":")>-1&&U.push([xn(P.F),P.F]);else if(b[0].indexOf('t="shared"')>-1){j=ar(b[0]);var ve=yn(us(b[1]));u.xlfn||(ve=r9(ve)),W[parseInt(j.si,10)]=[j,ve,C.r]}}else(b=B.match(/<f[^>]*\/>/))&&(j=ar(b[0]),W[j.si]&&(P.f=JOe(W[j.si][1],W[j.si][2],C.r)));var Ie=ha(C.r);for(E=0;E<U.length;++E)Ie.r>=U[E][0].s.r&&Ie.r<=U[E][0].e.r&&Ie.c>=U[E][0].s.c&&Ie.c<=U[E][0].e.c&&(P.F=U[E][1])}if(C.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(L)P.t="z";else continue;else P.t=C.t||"n";switch(d.s.c>_&&(d.s.c=_),d.e.c<_&&(d.e.c=_),P.t){case"n":if(P.v==""||P.v==null){if(!L)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!L)continue;P.t="z"}else H=jw[parseInt(P.v,10)],P.v=H.t,P.r=H.r,u.cellHTML&&(P.h=H.h);break;case"str":P.t="s",P.v=P.v!=null?us(P.v):"",u.cellHTML&&(P.h=N3(P.v));break;case"inlineStr":b=B.match(i),P.t="s",b!=null&&(H=V3(b[1]))?(P.v=H.t,u.cellHTML&&(P.h=H.h)):P.v="";break;case"b":P.v=Vs(P.v);break;case"d":u.cellDates?P.v=qs(P.v,1):(P.v=ko(qs(P.v,1)),P.t="n");break;case"e":(!u||u.cellText!==!1)&&(P.w=P.v),P.v=VX[P.v];break}if(z=F=0,J=null,X&&C.s!==void 0&&(J=m.CellXf[C.s],J!=null&&(J.numFmtId!=null&&(z=J.numFmtId),u.cellStyles&&J.fillId!=null&&(F=J.fillId))),FJ(P,z,F,u,p,m),u.cellDates&&X&&P.t=="n"&&ix(ir[z])&&(P.t="d",P.v=YN(P.v)),C.cm&&u.xlmeta){var Je=(u.xlmeta.Cell||[])[+C.cm-1];Je&&Je.type=="XLDAPR"&&(P.D=!0)}if(re){var xe=ha(C.r);c[xe.r]||(c[xe.r]=[]),c[xe.r][xe.c]=P}else c[C.r]=P}}}}Z.length>0&&(c["!rows"]=Z)}})();function rje(r,t,e,i){var n=[],s=[],a=xn(r["!ref"]),o="",l,c="",u=[],d=0,p=0,m=r["!rows"],y=Array.isArray(r),M={r:c},w,b=-1;for(p=a.s.c;p<=a.e.c;++p)u[p]=ua(p);for(d=a.s.r;d<=a.e.r;++d){for(s=[],c=Qa(d),p=a.s.c;p<=a.e.c;++p){l=u[p]+c;var D=y?(r[d]||[])[p]:r[l];D!==void 0&&(o=tje(D,l,r,t))!=null&&s.push(o)}(s.length>0||m&&m[d])&&(M={r:c},m&&m[d]&&(w=m[d],w.hidden&&(M.hidden=1),b=-1,w.hpx?b=CT(w.hpx):w.hpt&&(b=w.hpt),b>-1&&(M.ht=b,M.customHeight=1),w.level&&(M.outlineLevel=w.level)),n[n.length]=si("row",s.join(""),M))}if(m)for(;d<m.length;++d)m&&m[d]&&(M={r:d+1},w=m[d],w.hidden&&(M.hidden=1),b=-1,w.hpx?b=CT(w.hpx):w.hpt&&(b=w.hpt),b>-1&&(M.ht=b,M.customHeight=1),w.level&&(M.outlineLevel=w.level),n[n.length]=si("row","",M));return n.join("")}function UJ(r,t,e,i){var n=[Ga,si("worksheet",null,{xmlns:jv[0],"xmlns:r":So.r})],s=e.SheetNames[r],a=0,o="",l=e.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=xn(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=Ar(u)}i||(i={}),l["!comments"]=[];var d=[];ULe(l,e,r,t,n),n[n.length]=si("dimension",null,{ref:c}),n[n.length]=eje(l,t,r,e),t.sheetFormat&&(n[n.length]=si("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(n[n.length]=KLe(l,l["!cols"])),n[a=n.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=rje(l,t),o.length>0&&(n[n.length]=o)),n.length>a+1&&(n[n.length]="</sheetData>",n[a]=n[a].replace("/>",">")),l["!protect"]&&(n[n.length]=WLe(l["!protect"])),l["!autofilter"]!=null&&(n[n.length]=XLe(l["!autofilter"],l,e,r)),l["!merges"]!=null&&l["!merges"].length>0&&(n[n.length]=FLe(l["!merges"]));var p=-1,m,y=-1;return l["!links"].length>0&&(n[n.length]="<hyperlinks>",l["!links"].forEach(function(M){M[1].Target&&(m={ref:M[0]},M[1].Target.charAt(0)!="#"&&(y=Wn(i,-1,Gn(M[1].Target).replace(/#.*$/,""),Fr.HLINK),m["r:id"]="rId"+y),(p=M[1].Target.indexOf("#"))>-1&&(m.location=Gn(M[1].Target.slice(p+1))),M[1].Tooltip&&(m.tooltip=Gn(M[1].Tooltip)),n[n.length]=si("hyperlink",null,m))}),n[n.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(n[n.length]=QLe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=Ml("ignoredErrors",si("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(y=Wn(i,-1,"../drawings/drawing"+(r+1)+".xml",Fr.DRAW),n[n.length]=si("drawing",null,{"r:id":"rId"+y}),l["!drawing"]=d),l["!comments"].length>0&&(y=Wn(i,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Fr.VML),n[n.length]=si("legacyDrawing",null,{"r:id":"rId"+y}),l["!legacy"]=y),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function nje(r,t){var e={},i=r.l+t;e.r=r.read_shift(4),r.l+=4;var n=r.read_shift(2);r.l+=1;var s=r.read_shift(1);return r.l=i,s&7&&(e.level=s&7),s&16&&(e.hidden=!0),s&32&&(e.hpt=n/20),e}function sje(r,t,e){var i=St(145),n=(e["!rows"]||[])[r]||{};i.write_shift(4,r),i.write_shift(4,0);var s=320;n.hpx?s=CT(n.hpx)*20:n.hpt&&(s=n.hpt*20),i.write_shift(2,s),i.write_shift(1,0);var a=0;n.level&&(a|=n.level),n.hidden&&(a|=16),(n.hpx||n.hpt)&&(a|=32),i.write_shift(1,a),i.write_shift(1,0);var o=0,l=i.l;i.l+=4;for(var c={r,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var d=-1,p=-1,m=u<<10;m<u+1<<10;++m){c.c=m;var y=Array.isArray(e)?(e[c.r]||[])[c.c]:e[sr(c)];y&&(d<0&&(d=m),p=m)}d<0||(++o,i.write_shift(4,d),i.write_shift(4,p))}var M=i.l;return i.l=l,i.write_shift(4,o),i.l=M,i.length>i.l?i.slice(0,i.l):i}function aje(r,t,e,i){var n=sje(i,e,t);(n.length>17||(t["!rows"]||[])[i])&&Wt(r,0,n)}var oje=Pv,lje=sx;function cje(){}function uje(r,t){var e={},i=r[r.l];return++r.l,e.above=!(i&64),e.left=!(i&128),r.l+=18,e.name=fCe(r),e}function hje(r,t,e){e==null&&(e=St(84+4*r.length));var i=192;t&&(t.above&&(i&=-65),t.left&&(i&=-129)),e.write_shift(1,i);for(var n=1;n<3;++n)e.write_shift(1,0);return jS({auto:1},e),e.write_shift(-4,-1),e.write_shift(-4,-1),RX(r,e),e.slice(0,e.l)}function dje(r){var t=bh(r);return[t]}function fje(r,t,e){return e==null&&(e=St(8)),_v(t,e)}function pje(r){var t=zv(r);return[t]}function mje(r,t,e){return e==null&&(e=St(4)),Rv(t,e)}function gje(r){var t=bh(r),e=r.read_shift(1);return[t,e,"b"]}function vje(r,t,e){return e==null&&(e=St(9)),_v(t,e),e.write_shift(1,r.v?1:0),e}function yje(r){var t=zv(r),e=r.read_shift(1);return[t,e,"b"]}function xje(r,t,e){return e==null&&(e=St(5)),Rv(t,e),e.write_shift(1,r.v?1:0),e}function Mje(r){var t=bh(r),e=r.read_shift(1);return[t,e,"e"]}function wje(r,t,e){return e==null&&(e=St(9)),_v(t,e),e.write_shift(1,r.v),e}function Tje(r){var t=zv(r),e=r.read_shift(1);return[t,e,"e"]}function bje(r,t,e){return e==null&&(e=St(8)),Rv(t,e),e.write_shift(1,r.v),e.write_shift(2,0),e.write_shift(1,0),e}function Dje(r){var t=bh(r),e=r.read_shift(4);return[t,e,"s"]}function Eje(r,t,e){return e==null&&(e=St(12)),_v(t,e),e.write_shift(4,t.v),e}function Aje(r){var t=zv(r),e=r.read_shift(4);return[t,e,"s"]}function Sje(r,t,e){return e==null&&(e=St(8)),Rv(t,e),e.write_shift(4,t.v),e}function Nje(r){var t=bh(r),e=Wl(r);return[t,e,"n"]}function Ije(r,t,e){return e==null&&(e=St(16)),_v(t,e),vv(r.v,e),e}function VJ(r){var t=zv(r),e=Wl(r);return[t,e,"n"]}function Cje(r,t,e){return e==null&&(e=St(12)),Rv(t,e),vv(r.v,e),e}function Oje(r){var t=bh(r),e=R3(r);return[t,e,"n"]}function kje(r,t,e){return e==null&&(e=St(12)),_v(t,e),PX(r.v,e),e}function Lje(r){var t=zv(r),e=R3(r);return[t,e,"n"]}function jje(r,t,e){return e==null&&(e=St(8)),Rv(t,e),PX(r.v,e),e}function _je(r){var t=bh(r),e=j3(r);return[t,e,"is"]}function zje(r){var t=bh(r),e=Kl(r);return[t,e,"str"]}function Rje(r,t,e){return e==null&&(e=St(12+4*r.v.length)),_v(t,e),Jo(r.v,e),e.length>e.l?e.slice(0,e.l):e}function Pje(r){var t=zv(r),e=Kl(r);return[t,e,"str"]}function Fje(r,t,e){return e==null&&(e=St(8+4*r.v.length)),Rv(t,e),Jo(r.v,e),e.length>e.l?e.slice(0,e.l):e}function Bje(r,t,e){var i=r.l+t,n=bh(r);n.r=e["!row"];var s=r.read_shift(1),a=[n,s,"b"];if(e.cellFormula){r.l+=2;var o=GN(r,i-r.l,e);a[3]=Ul(o,null,n,e.supbooks,e)}else r.l=i;return a}function Uje(r,t,e){var i=r.l+t,n=bh(r);n.r=e["!row"];var s=r.read_shift(1),a=[n,s,"e"];if(e.cellFormula){r.l+=2;var o=GN(r,i-r.l,e);a[3]=Ul(o,null,n,e.supbooks,e)}else r.l=i;return a}function Vje(r,t,e){var i=r.l+t,n=bh(r);n.r=e["!row"];var s=Wl(r),a=[n,s,"n"];if(e.cellFormula){r.l+=2;var o=GN(r,i-r.l,e);a[3]=Ul(o,null,n,e.supbooks,e)}else r.l=i;return a}function Hje(r,t,e){var i=r.l+t,n=bh(r);n.r=e["!row"];var s=Kl(r),a=[n,s,"str"];if(e.cellFormula){r.l+=2;var o=GN(r,i-r.l,e);a[3]=Ul(o,null,n,e.supbooks,e)}else r.l=i;return a}var Wje=Pv,Yje=sx;function qje(r,t){return t==null&&(t=St(4)),t.write_shift(4,r),t}function Qje(r,t){var e=r.l+t,i=Pv(r),n=_3(r),s=Kl(r),a=Kl(r),o=Kl(r);r.l=e;var l={rfx:i,relId:n,loc:s,display:o};return a&&(l.Tooltip=a),l}function Gje(r,t){var e=St(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));sx({s:ha(r[0]),e:ha(r[0])},e),z3("rId"+t,e);var i=r[1].Target.indexOf("#"),n=i==-1?"":r[1].Target.slice(i+1);return Jo(n||"",e),Jo(r[1].Tooltip||"",e),Jo("",e),e.slice(0,e.l)}function Kje(){}function $je(r,t,e){var i=r.l+t,n=FX(r),s=r.read_shift(1),a=[n];if(a[2]=s,e.cellFormula){var o=MLe(r,i-r.l,e);a[1]=o}else r.l=i;return a}function Xje(r,t,e){var i=r.l+t,n=Pv(r),s=[n];if(e.cellFormula){var a=TLe(r,i-r.l,e);s[1]=a,r.l=i}else r.l=i;return s}function Jje(r,t,e){e==null&&(e=St(18));var i=KN(r,t);e.write_shift(-4,r),e.write_shift(-4,r),e.write_shift(4,(i.width||10)*256),e.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof i.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),e.write_shift(2,n),e}var HJ=["left","right","top","bottom","header","footer"];function Zje(r){var t={};return HJ.forEach(function(e){t[e]=Wl(r)}),t}function e3e(r,t){return t==null&&(t=St(48)),Z0(r),HJ.forEach(function(e){vv(r[e],t)}),t}function t3e(r){var t=r.read_shift(2);return r.l+=28,{RTL:t&32}}function i3e(r,t,e){e==null&&(e=St(30));var i=924;return(((t||{}).Views||[])[0]||{}).RTL&&(i|=32),e.write_shift(2,i),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,100),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(4,0),e}function r3e(r){var t=St(24);return t.write_shift(4,4),t.write_shift(4,1),sx(r,t),t}function n3e(r,t){return t==null&&(t=St(66)),t.write_shift(2,r.password?H3(r.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?t.write_shift(4,r[e[0]]!=null&&!r[e[0]]?1:0):t.write_shift(4,r[e[0]]!=null&&r[e[0]]?0:1)}),t}function s3e(){}function a3e(){}function o3e(r,t,e,i,n,s,a){if(!r)return r;var o=t||{};i||(i={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,p=!1,m,y,M,w,b,D,E,N,B,P=[];o.biff=12,o["!row"]=0;var C=0,k=!1,_=[],H={},j=o.supbooks||n.supbooks||[[]];if(j.sharedf=H,j.arrayf=_,j.SheetNames=n.SheetNames||n.Sheets.map(function(re){return re.name}),!o.supbooks&&(o.supbooks=j,n.Names))for(var z=0;z<n.Names.length;++z)j[0][z+1]=n.Names[z];var F=[],X=[],J=!1;OT[16]={n:"BrtShortReal",f:VJ};var U;if(Jp(r,function(Z,Ee,ae){if(!p)switch(ae){case 148:c=Z;break;case 0:m=Z,o.sheetRows&&o.sheetRows<=m.r&&(p=!0),N=Qa(w=m.r),o["!row"]=m.r,(Z.hidden||Z.hpt||Z.level!=null)&&(Z.hpt&&(Z.hpx=q1(Z.hpt)),X[Z.r]=Z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:Z[2]},Z[2]){case"n":y.v=Z[1];break;case"s":E=jw[Z[1]],y.v=E.t,y.r=E.r;break;case"b":y.v=!!Z[1];break;case"e":y.v=Z[1],o.cellText!==!1&&(y.w=Zp[y.v]);break;case"str":y.t="s",y.v=Z[1];break;case"is":y.t="s",y.v=Z[1].t;break}if((M=a.CellXf[Z[0].iStyleRef])&&FJ(y,M.numFmtId,null,o,s,a),b=Z[0].c==-1?b+1:Z[0].c,o.dense?(l[w]||(l[w]=[]),l[w][b]=y):l[ua(b)+N]=y,o.cellFormula){for(k=!1,C=0;C<_.length;++C){var L=_[C];m.r>=L[0].s.r&&m.r<=L[0].e.r&&b>=L[0].s.c&&b<=L[0].e.c&&(y.F=Ar(L[0]),k=!0)}!k&&Z.length>3&&(y.f=Z[3])}if(u.s.r>m.r&&(u.s.r=m.r),u.s.c>b&&(u.s.c=b),u.e.r<m.r&&(u.e.r=m.r),u.e.c<b&&(u.e.c=b),o.cellDates&&M&&y.t=="n"&&ix(ir[M.numFmtId])){var Y=U0(y.v);Y&&(y.t="d",y.v=new Date(Y.y,Y.m-1,Y.d,Y.H,Y.M,Y.S,Y.u))}U&&(U.type=="XLDAPR"&&(y.D=!0),U=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;y={t:"z",v:void 0},b=Z[0].c==-1?b+1:Z[0].c,o.dense?(l[w]||(l[w]=[]),l[w][b]=y):l[ua(b)+N]=y,u.s.r>m.r&&(u.s.r=m.r),u.s.c>b&&(u.s.c=b),u.e.r<m.r&&(u.e.r=m.r),u.e.c<b&&(u.e.c=b),U&&(U.type=="XLDAPR"&&(y.D=!0),U=void 0);break;case 176:P.push(Z);break;case 49:U=((o.xlmeta||{}).Cell||[])[Z-1];break;case 494:var G=i["!id"][Z.relId];for(G?(Z.Target=G.Target,Z.loc&&(Z.Target+="#"+Z.loc),Z.Rel=G):Z.relId==""&&(Z.Target="#"+Z.loc),w=Z.rfx.s.r;w<=Z.rfx.e.r;++w)for(b=Z.rfx.s.c;b<=Z.rfx.e.c;++b)o.dense?(l[w]||(l[w]=[]),l[w][b]||(l[w][b]={t:"z",v:void 0}),l[w][b].l=Z):(D=sr({c:b,r:w}),l[D]||(l[D]={t:"z",v:void 0}),l[D].l=Z);break;case 426:if(!o.cellFormula)break;_.push(Z),B=o.dense?l[w][b]:l[ua(b)+N],B.f=Ul(Z[1],u,{r:m.r,c:b},j,o),B.F=Ar(Z[0]);break;case 427:if(!o.cellFormula)break;H[sr(Z[0].s)]=Z[1],B=o.dense?l[w][b]:l[ua(b)+N],B.f=Ul(Z[1],u,{r:m.r,c:b},j,o);break;case 60:if(!o.cellStyles)break;for(;Z.e>=Z.s;)F[Z.e--]={width:Z.w/256,hidden:!!(Z.flags&1),level:Z.level},J||(J=!0,W3(Z.w/256)),_g(F[Z.e+1]);break;case 161:l["!autofilter"]={ref:Ar(Z)};break;case 476:l["!margins"]=Z;break;case 147:n.Sheets[e]||(n.Sheets[e]={}),Z.name&&(n.Sheets[e].CodeName=Z.name),(Z.above||Z.left)&&(l["!outline"]={above:Z.above,left:Z.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),Z.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!Ee.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+ae.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Ar(c||u)),o.sheetRows&&l["!ref"]){var W=xn(l["!ref"]);o.sheetRows<=+W.e.r&&(W.e.r=o.sheetRows-1,W.e.r>u.e.r&&(W.e.r=u.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>u.e.c&&(W.e.c=u.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Ar(W))}return P.length>0&&(l["!merges"]=P),F.length>0&&(l["!cols"]=F),X.length>0&&(l["!rows"]=X),l}function l3e(r,t,e,i,n,s,a){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Qs(t),t.z=t.z||ir[14],t.v=ko(qs(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r:e,c:i};switch(l.s=Qg(n.cellXfs,t,n),t.l&&s["!links"].push([sr(l),t.l]),t.c&&s["!comments"].push([sr(l),t.c]),t.t){case"s":case"str":return n.bookSST?(o=K3(n.Strings,t.v,n.revStrings),l.t="s",l.v=o,a?Wt(r,18,Sje(t,l)):Wt(r,7,Eje(t,l))):(l.t="str",a?Wt(r,17,Fje(t,l)):Wt(r,6,Rje(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?a?Wt(r,13,jje(t,l)):Wt(r,2,kje(t,l)):a?Wt(r,16,Cje(t,l)):Wt(r,5,Ije(t,l)),!0;case"b":return l.t="b",a?Wt(r,15,xje(t,l)):Wt(r,4,vje(t,l)),!0;case"e":return l.t="e",a?Wt(r,14,bje(t,l)):Wt(r,3,wje(t,l)),!0}return a?Wt(r,12,mje(t,l)):Wt(r,1,fje(t,l)),!0}function c3e(r,t,e,i){var n=xn(t["!ref"]||"A1"),s,a="",o=[];Wt(r,145);var l=Array.isArray(t),c=n.e.r;t["!rows"]&&(c=Math.max(n.e.r,t["!rows"].length-1));for(var u=n.s.r;u<=c;++u){a=Qa(u),aje(r,t,n,u);var d=!1;if(u<=n.e.r)for(var p=n.s.c;p<=n.e.c;++p){u===n.s.r&&(o[p]=ua(p)),s=o[p]+a;var m=l?(t[u]||[])[p]:t[s];if(!m){d=!1;continue}d=l3e(r,m,u,p,i,t,d)}}Wt(r,146)}function u3e(r,t){!t||!t["!merges"]||(Wt(r,177,qje(t["!merges"].length)),t["!merges"].forEach(function(e){Wt(r,176,Yje(e))}),Wt(r,178))}function h3e(r,t){!t||!t["!cols"]||(Wt(r,390),t["!cols"].forEach(function(e,i){e&&Wt(r,60,Jje(i,e))}),Wt(r,391))}function d3e(r,t){!t||!t["!ref"]||(Wt(r,648),Wt(r,649,r3e(xn(t["!ref"]))),Wt(r,650))}function f3e(r,t,e){t["!links"].forEach(function(i){if(i[1].Target){var n=Wn(e,-1,i[1].Target.replace(/#.*$/,""),Fr.HLINK);Wt(r,494,Gje(i,n))}}),delete t["!links"]}function p3e(r,t,e,i){if(t["!comments"].length>0){var n=Wn(i,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Fr.VML);Wt(r,551,z3("rId"+n)),t["!legacy"]=n}}function m3e(r,t,e,i){if(t["!autofilter"]){var n=t["!autofilter"],s=typeof n.ref=="string"?n.ref:Ar(n.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var a=e.Workbook.Names,o=tu(s);o.s.r==o.e.r&&(o.e.r=tu(t["!ref"]).e.r,s=Ar(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==i){c.Ref="'"+e.SheetNames[i]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+e.SheetNames[i]+"'!"+s}),Wt(r,161,sx(xn(s))),Wt(r,162)}}function g3e(r,t,e){Wt(r,133),Wt(r,137,i3e(t,e)),Wt(r,138),Wt(r,134)}function v3e(r,t){t["!protect"]&&Wt(r,535,n3e(t["!protect"]))}function y3e(r,t,e,i){var n=Zc(),s=e.SheetNames[r],a=e.Sheets[s]||{},o=s;try{e&&e.Workbook&&(o=e.Workbook.Sheets[r].CodeName||o)}catch{}var l=xn(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],Wt(n,129),(e.vbaraw||a["!outline"])&&Wt(n,147,hje(o,a["!outline"])),Wt(n,148,lje(l)),g3e(n,a,e.Workbook),h3e(n,a),c3e(n,a,r,t),v3e(n,a),m3e(n,a,e,r),u3e(n,a),f3e(n,a,i),a["!margins"]&&Wt(n,476,e3e(a["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&d3e(n,a),p3e(n,a,r,i),Wt(n,130),n.end()}function x3e(r){var t=[],e=r.match(/^<c:numCache>/),i;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(t[+a[1]]=e?+a[2]:a[2])});var n=yn((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){i=s.replace(/<.*?>/g,"")}),[t,n,i]}function M3e(r,t,e,i,n,s){var a=s||{"!type":"chart"};if(!r)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var p=x3e(d);u.s.r=u.s.c=0,u.e.c=o,c=ua(o),p[0].forEach(function(m,y){a[c+Qa(y)]={t:"n",v:m,z:p[1]},l=y}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(a["!ref"]=Ar(u)),a}function w3e(r,t,e,i,n){if(!r)return r;i||(i={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=r.match(BJ);return o&&$3(o[0],s,n,e),(a=r.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),i["!id"][s["!rel"]]&&(s["!drawel"]=i["!id"][s["!rel"]]),s}function T3e(r,t){r.l+=10;var e=Kl(r);return{name:e}}function b3e(r,t,e,i,n){if(!r)return r;i||(i={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Jp(r,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:n.Sheets[e]||(n.Sheets[e]={}),l.name&&(n.Sheets[e].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),i["!id"][s["!rel"]]&&(s["!drawel"]=i["!id"][s["!rel"]]),s}var X3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],D3e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],E3e=[],A3e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function l9(r,t){for(var e=0;e!=r.length;++e)for(var i=r[e],n=0;n!=t.length;++n){var s=t[n];if(i[s[0]]==null)i[s[0]]=s[1];else switch(s[2]){case"bool":typeof i[s[0]]=="string"&&(i[s[0]]=Vs(i[s[0]]));break;case"int":typeof i[s[0]]=="string"&&(i[s[0]]=parseInt(i[s[0]],10));break}}}function c9(r,t){for(var e=0;e!=t.length;++e){var i=t[e];if(r[i[0]]==null)r[i[0]]=i[1];else switch(i[2]){case"bool":typeof r[i[0]]=="string"&&(r[i[0]]=Vs(r[i[0]]));break;case"int":typeof r[i[0]]=="string"&&(r[i[0]]=parseInt(r[i[0]],10));break}}}function WJ(r){c9(r.WBProps,X3),c9(r.CalcPr,A3e),l9(r.WBView,D3e),l9(r.Sheets,E3e),b1.date1904=Vs(r.WBProps.date1904)}function S3e(r){return!r.Workbook||!r.Workbook.WBProps?"false":Vs(r.Workbook.WBProps.date1904)?"true":"false"}var N3e="][*?/\\".split("");function YJ(r,t){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var e=!0;return N3e.forEach(function(i){if(r.indexOf(i)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),e}function I3e(r,t,e){r.forEach(function(i,n){YJ(i);for(var s=0;s<n;++s)if(i==r[s])throw new Error("Duplicate Sheet Name: "+i);if(e){var a=t&&t[n]&&t[n].CodeName||i;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function C3e(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var t=r.Workbook&&r.Workbook.Sheets||[];I3e(r.SheetNames,t,!!r.vbaraw);for(var e=0;e<r.SheetNames.length;++e)SLe(r.Sheets[r.SheetNames[e]],r.SheetNames[e],e)}var O3e=/<\w+:workbook/;function k3e(r,t){if(!r)throw new Error("Could not find file");var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},i=!1,n="xmlns",s={},a=0;if(r.replace(Jl,function(l,c){var u=ar(l);switch(wf(u[0])){case"<?xml":break;case"<workbook":l.match(O3e)&&(n="xmlns"+l.match(/<(\w+):/)[1]),e.xmlns=u[n];break;case"</workbook>":break;case"<fileVersion":delete u[0],e.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":X3.forEach(function(d){if(u[d[0]]!=null)switch(d[2]){case"bool":e.WBProps[d[0]]=Vs(u[d[0]]);break;case"int":e.WBProps[d[0]]=parseInt(u[d[0]],10);break;default:e.WBProps[d[0]]=u[d[0]]}}),u.codeName&&(e.WBProps.CodeName=us(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],e.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=yn(us(u.name)),delete u[0],e.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":i=!0;break;case"</definedNames>":i=!1;break;case"<definedName":s={},s.Name=us(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),Vs(u.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=yn(us(r.slice(a,c))),e.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],e.CalcPr=u;break;case"<calcPr/>":delete u[0],e.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":i=!0;break;case"</AlternateContent>":i=!1;break;case"<revisionPtr":break;default:if(!i&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),jv.indexOf(e.xmlns)===-1)throw new Error("Unknown Namespace: "+e.xmlns);return WJ(e),e}function qJ(r){var t=[Ga];t[t.length]=si("workbook",null,{xmlns:jv[0],"xmlns:r":So.r});var e=r.Workbook&&(r.Workbook.Names||[]).length>0,i={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(X3.forEach(function(o){r.Workbook.WBProps[o[0]]!=null&&r.Workbook.WBProps[o[0]]!=o[1]&&(i[o[0]]=r.Workbook.WBProps[o[0]])}),r.Workbook.WBProps.CodeName&&(i.codeName=r.Workbook.WBProps.CodeName,delete i.CodeName)),t[t.length]=si("workbookPr",null,i);var n=r.Workbook&&r.Workbook.Sheets||[],s=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=r.SheetNames.length&&!(!n[s]||!n[s].Hidden);++s);s==r.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=r.SheetNames.length;++s){var a={name:Gn(r.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),n[s])switch(n[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}t[t.length]=si("sheet",null,a)}return t[t.length]="</sheets>",e&&(t[t.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=si("definedName",Gn(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function L3e(r,t){var e={};return e.Hidden=r.read_shift(4),e.iTabID=r.read_shift(4),e.strRelID=Ok(r),e.name=Kl(r),e}function j3e(r,t){return t||(t=St(127)),t.write_shift(4,r.Hidden),t.write_shift(4,r.iTabID),z3(r.strRelID,t),Jo(r.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function _3e(r,t){var e={},i=r.read_shift(4);e.defaultThemeVersion=r.read_shift(4);var n=t>8?Kl(r):"";return n.length>0&&(e.CodeName=n),e.autoCompressPictures=!!(i&65536),e.backupFile=!!(i&64),e.checkCompatibility=!!(i&4096),e.date1904=!!(i&1),e.filterPrivacy=!!(i&8),e.hidePivotFieldList=!!(i&1024),e.promptedSolutions=!!(i&16),e.publishItems=!!(i&2048),e.refreshAllConnections=!!(i&262144),e.saveExternalLinkValues=!!(i&128),e.showBorderUnselectedTables=!!(i&4),e.showInkAnnotation=!!(i&32),e.showObjects=["all","placeholders","none"][i>>13&3],e.showPivotChartFilter=!!(i&32768),e.updateLinks=["userSet","never","always"][i>>8&3],e}function z3e(r,t){t||(t=St(72));var e=0;return r&&r.filterPrivacy&&(e|=8),t.write_shift(4,e),t.write_shift(4,0),RX(r&&r.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function R3e(r,t){var e={};return r.read_shift(4),e.ArchID=r.read_shift(4),r.l+=t-8,e}function P3e(r,t,e){var i=r.l+t;r.l+=4,r.l+=1;var n=r.read_shift(4),s=pCe(r),a=wLe(r,0,e),o=_3(r);r.l=i;var l={Name:s,Ptg:a};return n<268435455&&(l.Sheet=n),o&&(l.Comment=o),l}function F3e(r,t){var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},i=[],n=!1;t||(t={}),t.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],OT[16]={n:"BrtFRTArchID$",f:R3e},Jp(r,function(l,c,u){switch(u){case 156:a.SheetNames.push(l.name),e.Sheets.push(l);break;case 153:e.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Ul(l.Ptg,null,null,a,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,l]):a[0]=[u,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:i.push(u),n=!0;break;case 36:i.pop(),n=!1;break;case 37:i.push(u),n=!0;break;case 38:i.pop(),n=!1;break;case 16:break;default:if(!c.T){if(!n||t.WTF&&i[i.length-1]!=37&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),WJ(e),e.Names=s,e.supbooks=a,e}function B3e(r,t){Wt(r,143);for(var e=0;e!=t.SheetNames.length;++e){var i=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[e]&&t.Workbook.Sheets[e].Hidden||0,n={Hidden:i,iTabID:e+1,strRelID:"rId"+(e+1),name:t.SheetNames[e]};Wt(r,156,j3e(n))}Wt(r,144)}function U3e(r,t){t||(t=St(127));for(var e=0;e!=4;++e)t.write_shift(4,0);return Jo("SheetJS",t),Jo(SS.version,t),Jo(SS.version,t),Jo("7262",t),t.length>t.l?t.slice(0,t.l):t}function V3e(r,t){t||(t=St(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,r),t.write_shift(4,r);var e=120;return t.write_shift(1,e),t.length>t.l?t.slice(0,t.l):t}function H3e(r,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var e=t.Workbook.Sheets,i=0,n=-1,s=-1;i<e.length;++i)!e[i]||!e[i].Hidden&&n==-1?n=i:e[i].Hidden==1&&s==-1&&(s=i);s>n||(Wt(r,135),Wt(r,158,V3e(n)),Wt(r,136))}}function W3e(r,t){var e=Zc();return Wt(e,131),Wt(e,128,U3e()),Wt(e,153,z3e(r.Workbook&&r.Workbook.WBProps||null)),H3e(e,r),B3e(e,r),Wt(e,132),e.end()}function Y3e(r,t,e){return t.slice(-4)===".bin"?F3e(r,e):k3e(r,e)}function q3e(r,t,e,i,n,s,a,o){return t.slice(-4)===".bin"?o3e(r,i,e,n,s,a,o):PLe(r,i,e,n,s,a,o)}function Q3e(r,t,e,i,n,s,a,o){return t.slice(-4)===".bin"?b3e(r,i,e,n,s):w3e(r,i,e,n,s)}function G3e(r,t,e,i,n,s,a,o){return t.slice(-4)===".bin"?$Oe():XOe()}function K3e(r,t,e,i,n,s,a,o){return t.slice(-4)===".bin"?GOe():KOe()}function $3e(r,t,e,i){return t.slice(-4)===".bin"?Y5e(r,e,i):L5e(r,e,i)}function X3e(r,t,e){return AJ(r,e)}function J3e(r,t,e){return t.slice(-4)===".bin"?J4e(r,e):K4e(r,e)}function Z3e(r,t,e){return t.slice(-4)===".bin"?HOe(r,e):jOe(r,e)}function e_e(r,t,e){return t.slice(-4)===".bin"?OOe(r):IOe(r)}function t_e(r,t,e,i){return e.slice(-4)===".bin"?kOe(r,t,e,i):void 0}function i_e(r,t,e){return t.slice(-4)===".bin"?AOe(r,t,e):NOe(r,t,e)}function r_e(r,t,e){return(t.slice(-4)===".bin"?W3e:qJ)(r)}function n_e(r,t,e,i,n){return(t.slice(-4)===".bin"?y3e:UJ)(r,e,i,n)}function s_e(r,t,e){return(t.slice(-4)===".bin"?tOe:DJ)(r,e)}function a_e(r,t,e){return(t.slice(-4)===".bin"?t5e:gJ)(r,e)}function o_e(r,t,e){return(t.slice(-4)===".bin"?WOe:IJ)(r)}function l_e(r){return(r.slice(-4)===".bin"?SOe:SJ)()}var QJ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,GJ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Kh(r,t){var e=r.split(/\s+/),i=[];if(i[0]=e[0],e.length===1)return i;var n=r.match(QJ),s,a,o,l;if(n)for(l=0;l!=n.length;++l)s=n[l].match(GJ),(a=s[1].indexOf(":"))===-1?i[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),i[o]=s[2].slice(1,s[2].length-1));return i}function c_e(r){var t=r.split(/\s+/),e={};if(t.length===1)return e;var i=r.match(QJ),n,s,a,o;if(i)for(o=0;o!=i.length;++o)n=i[o].match(GJ),(s=n[1].indexOf(":"))===-1?e[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?a="xmlns"+n[1].slice(6):a=n[1].slice(s+1),e[a]=n[2].slice(1,n[2].length-1));return e}var zw;function u_e(r,t){var e=zw[r]||yn(r);return e==="General"?mv(t):Th(e,t)}function h_e(r,t,e,i){var n=i;switch((e[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=Vs(i);break;case"i2":case"int":n=parseInt(i,10);break;case"r4":case"float":n=parseFloat(i);break;case"date":case"dateTime.tz":n=qs(i);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+e[0])}r[yn(t)]=n}function d_e(r,t,e){if(r.t!=="z"){if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Zp[r.v]:t==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=TT(r.v):r.w=mv(r.v):r.w=u_e(t||"General",r.v)}catch(s){if(e.WTF)throw s}try{var i=zw[t]||t||"General";if(e.cellNF&&(r.z=i),e.cellDates&&r.t=="n"&&ix(i)){var n=U0(r.v);n&&(r.t="d",r.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(s){if(e.WTF)throw s}}}function f_e(r,t,e){if(e.cellStyles&&t.Interior){var i=t.Interior;i.Pattern&&(i.patternType=E5e[i.Pattern]||i.Pattern)}r[t.ID]=t}function p_e(r,t,e,i,n,s,a,o,l,c){var u="General",d=i.StyleID,p={};c=c||{};var m=[],y=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&a&&(d=a.StyleID);s[d]!==void 0&&(s[d].nf&&(u=s[d].nf),s[d].Interior&&m.push(s[d].Interior),!!s[d].Parent);)d=s[d].Parent;switch(e.Type){case"Boolean":i.t="b",i.v=Vs(r);break;case"String":i.t="s",i.r=AH(yn(r)),i.v=r.indexOf("<")>-1?yn(t||r).replace(/<.*?>/g,""):i.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),i.v=(qs(r)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),i.v!==i.v?i.v=yn(r):i.v<60&&(i.v=i.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":i.v===void 0&&(i.v=+r),i.t||(i.t="n");break;case"Error":i.t="e",i.v=VX[r],c.cellText!==!1&&(i.w=r);break;default:r==""&&t==""?i.t="z":(i.t="s",i.v=AH(t||r));break}if(d_e(i,u,c),c.cellFormula!==!1)if(i.Formula){var M=yn(i.Formula);M.charCodeAt(0)==61&&(M=M.slice(1)),i.f=T1(M,n),delete i.Formula,i.ArrayRange=="RC"?i.F=T1("RC:RC",n):i.ArrayRange&&(i.F=T1(i.ArrayRange,n),l.push([xn(i.F),i.F]))}else for(y=0;y<l.length;++y)n.r>=l[y][0].s.r&&n.r<=l[y][0].e.r&&n.c>=l[y][0].s.c&&n.c<=l[y][0].e.c&&(i.F=l[y][1]);c.cellStyles&&(m.forEach(function(w){!p.patternType&&w.patternType&&(p.patternType=w.patternType)}),i.s=p),i.StyleID!==void 0&&(i.ixfe=i.StyleID)}function m_e(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function M5(r,t){var e=t||{};rx();var i=nw(I3(r));(e.type=="binary"||e.type=="array"||e.type=="base64")&&(i=us(i));var n=i.slice(0,1024).toLowerCase(),s=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var a=Qs(e);return a.type="string",Y1.to_workbook(i,a)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function($t){n.indexOf("<"+$t)>=0&&(s=!0)}),s)return eze(i,e);zw={"General Number":"General","General Date":ir[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ir[15],"Short Date":ir[14],"Long Time":ir[19],"Medium Time":ir[18],"Short Time":ir[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ir[2],Standard:ir[4],Percent:ir[10],Scientific:ir[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},d=[],p=e.dense?[]:{},m="",y={},M={},w=Kh('<Data ss:Type="String">'),b=0,D=0,E=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},B={},P={},C="",k=0,_=[],H={},j={},z=0,F=[],X=[],J={},U=[],W,re=!1,Z=[],Ee=[],ae={},L=0,Y=0,G={Sheets:[],WBProps:{date1904:!1}},Q={};ET.lastIndex=0,i=i.replace(/<!--([\s\S]*?)-->/mg,"");for(var te="";o=ET.exec(i);)switch(o[3]=(te=o[3]).toLowerCase()){case"data":if(te=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?p_e(i.slice(b,o.index),C,w,l[l.length-1][0]=="comment"?J:y,{c:D,r:E},B,U[D],M,Z,e):(C="",w=Kh(o[0]),b=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(X.length>0&&(y.c=X),(!e.sheetRows||e.sheetRows>E)&&y.v!==void 0&&(e.dense?(p[E]||(p[E]=[]),p[E][D]=y):p[ua(D)+Qa(E)]=y),y.HRef&&(y.l={Target:yn(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(L=D+(parseInt(y.MergeAcross,10)|0),Y=E+(parseInt(y.MergeDown,10)|0),_.push({s:{c:D,r:E},e:{c:L,r:Y}})),!e.sheetStubs)y.MergeAcross?D=L+1:++D;else if(y.MergeAcross||y.MergeDown){for(var le=D;le<=L;++le)for(var Me=E;Me<=Y;++Me)(le>D||Me>E)&&(e.dense?(p[Me]||(p[Me]=[]),p[Me][le]={t:"z"}):p[ua(le)+Qa(Me)]={t:"z"});D=L+1}else++D;else y=c_e(o[0]),y.Index&&(D=+y.Index-1),D<N.s.c&&(N.s.c=D),D>N.e.c&&(N.e.c=D),o[0].slice(-2)==="/>"&&++D,X=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(E<N.s.r&&(N.s.r=E),E>N.e.r&&(N.e.r=E),o[0].slice(-2)==="/>"&&(M=Kh(o[0]),M.Index&&(E=+M.Index-1)),D=0,++E):(M=Kh(o[0]),M.Index&&(E=+M.Index-1),ae={},(M.AutoFitHeight=="0"||M.Height)&&(ae.hpx=parseInt(M.Height,10),ae.hpt=CT(ae.hpx),Ee[E]=ae),M.Hidden=="1"&&(ae.hidden=!0,Ee[E]=ae));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));d.push(m),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(p["!ref"]=Ar(N),e.sheetRows&&e.sheetRows<=N.e.r&&(p["!fullref"]=p["!ref"],N.e.r=e.sheetRows-1,p["!ref"]=Ar(N))),_.length&&(p["!merges"]=_),U.length>0&&(p["!cols"]=U),Ee.length>0&&(p["!rows"]=Ee),u[m]=p}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},E=D=0,l.push([o[3],!1]),c=Kh(o[0]),m=yn(c.Name),p=e.dense?[]:{},_=[],Z=[],Ee=[],Q={name:m,Hidden:0},G.Sheets.push(Q);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),U=[],re=!1}break;case"style":o[1]==="/"?f_e(B,P,e):P=Kh(o[0]);break;case"numberformat":P.nf=yn(Kh(o[0]).Format||"General"),zw[P.nf]&&(P.nf=zw[P.nf]);for(var ve=0;ve!=392&&ir[ve]!=P.nf;++ve);if(ve==392){for(ve=57;ve!=392;++ve)if(ir[ve]==null){_p(P.nf,ve);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(W=Kh(o[0]),W.Hidden&&(W.hidden=!0,delete W.Hidden),W.Width&&(W.wpx=parseInt(W.Width,10)),!re&&W.wpx>10){re=!0,Hl=TJ;for(var Ie=0;Ie<U.length;++Ie)U[Ie]&&_g(U[Ie])}re&&_g(W),U[W.Index-1||U.length]=W;for(var Je=0;Je<+W.Span;++Je)U[U.length]=Qs(W);break;case"namedrange":if(o[1]==="/")break;G.Names||(G.Names=[]);var xe=ar(o[0]),Ot={Name:xe.Name,Ref:T1(xe.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(Ot.Sheet=G.Sheets.length-1),G.Names.push(Ot);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?C+=i.slice(k,o.index):k=o.index+o[0].length;break;case"interior":if(!e.cellStyles)break;P.Interior=Kh(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?FCe(H,te,i.slice(z,o.index)):z=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));m_e(J),X.push(J)}else l.push([o[3],!1]),c=Kh(o[0]),J={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ge=Kh(o[0]);p["!autofilter"]={ref:T1(Ge.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return p9(i,e);var Se=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Se=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Se=!1}break;case"excelworkbook":switch(o[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Se=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Se=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(i.slice(z,o.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else z=o.index+o[0].length;break;case"header":p["!margins"]||Z0(p["!margins"]={},"xlml"),isNaN(+ar(o[0]).Margin)||(p["!margins"].header=+ar(o[0]).Margin);break;case"footer":p["!margins"]||Z0(p["!margins"]={},"xlml"),isNaN(+ar(o[0]).Margin)||(p["!margins"].footer=+ar(o[0]).Margin);break;case"pagemargins":var ti=ar(o[0]);p["!margins"]||Z0(p["!margins"]={},"xlml"),isNaN(+ti.Top)||(p["!margins"].top=+ti.Top),isNaN(+ti.Left)||(p["!margins"].left=+ti.Left),isNaN(+ti.Right)||(p["!margins"].right=+ti.Right),isNaN(+ti.Bottom)||(p["!margins"].bottom=+ti.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Se=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Se=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Se=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Se=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Se=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Se=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Se=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Se=!1}break;case"smarttags":break;default:Se=!1;break}if(Se||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?h_e(j,te,F,i.slice(z,o.index)):(F=o,z=o.index+o[0].length);break}if(e.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Tt={};return!e.bookSheets&&!e.bookProps&&(Tt.Sheets=u),Tt.SheetNames=d,Tt.Workbook=G,Tt.SSF=Qs(ir),Tt.Props=H,Tt.Custprops=j,Tt}function Pk(r,t){switch(Z3(t=t||{}),t.type||"base64"){case"base64":return M5(Nu(r),t);case"binary":case"buffer":case"file":return M5(r,t);case"array":return M5(Yg(r),t)}}function g_e(r,t){var e=[];return r.Props&&e.push(BCe(r.Props,t)),r.Custprops&&e.push(UCe(r.Props,r.Custprops)),e.join("")}function v_e(){return""}function y_e(r,t){var e=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(i,n){var s=[];s.push(si("NumberFormat",null,{"ss:Format":Gn(ir[i.numFmtId])}));var a={"ss:ID":"s"+(21+n)};e.push(si("Style",s.join(""),a))}),si("Styles",e.join(""))}function KJ(r){return si("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+Q3(r.Ref,{r:0,c:0})})}function x_e(r){if(!((r||{}).Workbook||{}).Names)return"";for(var t=r.Workbook.Names,e=[],i=0;i<t.length;++i){var n=t[i];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||e.push(KJ(n)))}return si("Names",e.join(""))}function M_e(r,t,e,i){if(!r||!((i||{}).Workbook||{}).Names)return"";for(var n=i.Workbook.Names,s=[],a=0;a<n.length;++a){var o=n[a];o.Sheet==e&&(o.Name.match(/^_xlfn\./)||s.push(KJ(o)))}return s.join("")}function w_e(r,t,e,i){if(!r)return"";var n=[];if(r["!margins"]&&(n.push("<PageSetup>"),r["!margins"].header&&n.push(si("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&n.push(si("Footer",null,{"x:Margin":r["!margins"].footer})),n.push(si("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),n.push("</PageSetup>")),i&&i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[e])if(i.Workbook.Sheets[e].Hidden)n.push(si("Visible",i.Workbook.Sheets[e].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<e&&!(i.Workbook.Sheets[s]&&!i.Workbook.Sheets[s].Hidden);++s);s==e&&n.push("<Selected/>")}return((((i||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),r["!protect"]&&(n.push(Ml("ProtectContents","True")),r["!protect"].objects&&n.push(Ml("ProtectObjects","True")),r["!protect"].scenarios&&n.push(Ml("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?n.push(Ml("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&n.push(Ml("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){r["!protect"][a[0]]&&n.push("<"+a[1]+"/>")})),n.length==0?"":si("WorksheetOptions",n.join(""),{xmlns:yu.x})}function T_e(r){return r.map(function(t){var e=HIe(t.t||""),i=si("ss:Data",e,{xmlns:"http://www.w3.org/TR/REC-html40"});return si("Comment",i,{"ss:Author":t.a})}).join("")}function b_e(r,t,e,i,n,s,a){if(!r||r.v==null&&r.f==null)return"";var o={};if(r.f&&(o["ss:Formula"]="="+Gn(Q3(r.f,a))),r.F&&r.F.slice(0,t.length)==t){var l=ha(r.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(r.l&&r.l.Target&&(o["ss:HRef"]=Gn(r.l.Target),r.l.Tooltip&&(o["x:HRefScreenTip"]=Gn(r.l.Tooltip))),e["!merges"])for(var c=e["!merges"],u=0;u!=c.length;++u)c[u].s.c!=a.c||c[u].s.r!=a.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var d="",p="";switch(r.t){case"z":if(!i.sheetStubs)return"";break;case"n":d="Number",p=String(r.v);break;case"b":d="Boolean",p=r.v?"1":"0";break;case"e":d="Error",p=Zp[r.v];break;case"d":d="DateTime",p=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||ir[14]);break;case"s":d="String",p=VIe(r.v||"");break}var m=Qg(i.cellXfs,r,i);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=a.c+1;var y=r.v!=null?p:"",M=r.t=="z"?"":'<Data ss:Type="'+d+'">'+y+"</Data>";return(r.c||[]).length>0&&(M+=T_e(r.c)),si("Cell",M,o)}function D_e(r,t){var e='<Row ss:Index="'+(r+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=q1(t.hpt)),t.hpx&&(e+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(e+=' ss:Hidden="1"')),e+">"}function E_e(r,t,e,i){if(!r["!ref"])return"";var n=xn(r["!ref"]),s=r["!merges"]||[],a=0,o=[];r["!cols"]&&r["!cols"].forEach(function(w,b){_g(w);var D=!!w.width,E=KN(b,w),N={"ss:Index":b+1};D&&(N["ss:Width"]=NT(E.width)),w.hidden&&(N["ss:Hidden"]="1"),o.push(si("Column",null,N))});for(var l=Array.isArray(r),c=n.s.r;c<=n.e.r;++c){for(var u=[D_e(c,(r["!rows"]||[])[c])],d=n.s.c;d<=n.e.c;++d){var p=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>d)&&!(s[a].s.r>c)&&!(s[a].e.c<d)&&!(s[a].e.r<c)){(s[a].s.c!=d||s[a].s.r!=c)&&(p=!0);break}if(!p){var m={r:c,c:d},y=sr(m),M=l?(r[c]||[])[d]:r[y];u.push(b_e(M,y,r,t,e,i,m))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function A_e(r,t,e){var i=[],n=e.SheetNames[r],s=e.Sheets[n],a=s?M_e(s,t,r,e):"";return a.length>0&&i.push("<Names>"+a+"</Names>"),a=s?E_e(s,t,r,e):"",a.length>0&&i.push("<Table>"+a+"</Table>"),i.push(w_e(s,t,r,e)),i.join("")}function S_e(r,t){t||(t={}),r.SSF||(r.SSF=Qs(ir)),r.SSF&&(rx(),VN(r.SSF),t.revssf=WN(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF,t.cellXfs=[],Qg(t.cellXfs,{},{revssf:{General:0}}));var e=[];e.push(g_e(r,t)),e.push(v_e()),e.push(""),e.push("");for(var i=0;i<r.SheetNames.length;++i)e.push(si("Worksheet",A_e(i,t,r),{"ss:Name":Gn(r.SheetNames[i])}));return e[2]=y_e(r,t),e[3]=x_e(r),Ga+si("Workbook",e.join(""),{xmlns:yu.ss,"xmlns:o":yu.o,"xmlns:x":yu.x,"xmlns:ss":yu.ss,"xmlns:dt":yu.dt,"xmlns:html":yu.html})}function N_e(r){var t={},e=r.content;if(e.l=28,t.AnsiUserType=e.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=xCe(e),e.length-e.l<=4)return t;var i=e.read_shift(4);if(i==0||i>40||(e.l-=4,t.Reserved1=e.read_shift(0,"lpstr-ansi"),e.length-e.l<=4)||(i=e.read_shift(4),i!==1907505652)||(t.UnicodeClipboardFormat=MCe(e),i=e.read_shift(4),i==0||i>40))return t;e.l-=4,t.Reserved2=e.read_shift(0,"lpwstr")}var I_e=[60,1084,2066,2165,2175];function C_e(r,t,e,i,n){var s=i,a=[],o=e.slice(e.l,e.l+s);if(n&&n.enc&&n.enc.insitu&&o.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(o)}a.push(o),e.l+=s;for(var l=Sp(e,e.l),c=Fk[l],u=0;c!=null&&I_e.indexOf(l)>-1;)s=Sp(e,e.l+2),u=e.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=e.slice(u,e.l+4+s),a.push(o),e.l+=4+s,c=Fk[l=Sp(e,e.l)];var d=Xo(a);vl(d,0);var p=0;d.lens=[];for(var m=0;m<a.length;++m)d.lens.push(p),p+=a[m].length;if(d.length<i)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+d.length+" < "+i;return t.f(d,d.length,n)}function Ud(r,t,e){if(r.t!=="z"&&r.XF){var i=0;try{i=r.z||r.XF.numFmtId||0,t.cellNF&&(r.z=ir[i])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Zp[r.v]:i===0||i=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=TT(r.v):r.w=mv(r.v):r.w=Th(i,r.v,{date1904:!!e,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&i&&r.t=="n"&&ix(ir[i]||String(i))){var n=U0(r.v);n&&(r.t="d",r.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function zE(r,t,e){return{v:r,ixfe:t,t:e}}function O_e(r,t){var e={opts:{}},i={},n=t.dense?[]:{},s={},a={},o=null,l=[],c="",u={},d,p="",m,y,M,w,b={},D=[],E,N,B=[],P=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},_=function(Ue){return Ue<8?$0[Ue]:Ue<64&&P[Ue-8]||$0[Ue]},H=function(Ue,Ke,yt){var xt=Ke.XF.data;if(!(!xt||!xt.patternType||!yt||!yt.cellStyles)){Ke.s={},Ke.s.patternType=xt.patternType;var Nt;(Nt=ST(_(xt.icvFore)))&&(Ke.s.fgColor={rgb:Nt}),(Nt=ST(_(xt.icvBack)))&&(Ke.s.bgColor={rgb:Nt})}},j=function(Ue,Ke,yt){if(!(ae>1)&&!(yt.sheetRows&&Ue.r>=yt.sheetRows)){if(yt.cellStyles&&Ke.XF&&Ke.XF.data&&H(Ue,Ke,yt),delete Ke.ixfe,delete Ke.XF,d=Ue,p=sr(Ue),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Ue.r<a.s.r&&(a.s.r=Ue.r),Ue.c<a.s.c&&(a.s.c=Ue.c),Ue.r+1>a.e.r&&(a.e.r=Ue.r+1),Ue.c+1>a.e.c&&(a.e.c=Ue.c+1),yt.cellFormula&&Ke.f){for(var xt=0;xt<D.length;++xt)if(!(D[xt][0].s.c>Ue.c||D[xt][0].s.r>Ue.r)&&!(D[xt][0].e.c<Ue.c||D[xt][0].e.r<Ue.r)){Ke.F=Ar(D[xt][0]),(D[xt][0].s.c!=Ue.c||D[xt][0].s.r!=Ue.r)&&delete Ke.f,Ke.f&&(Ke.f=""+Ul(D[xt][1],a,Ue,Z,z));break}}yt.dense?(n[Ue.r]||(n[Ue.r]=[]),n[Ue.r][Ue.c]=Ke):n[p]=Ke}},z={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:D,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(z.password=t.password);var F,X=[],J=[],U=[],W=[],re=!1,Z=[];Z.SheetNames=z.snames,Z.sharedf=z.sharedf,Z.arrayf=z.arrayf,Z.names=[],Z.XTI=[];var Ee=0,ae=0,L=0,Y=[],G=[],Q;z.codepage=1200,rd(1200);for(var te=!1;r.l<r.length-1;){var le=r.l,Me=r.read_shift(2);if(Me===0&&Ee===10)break;var ve=r.l===r.length?0:r.read_shift(2),Ie=Fk[Me];if(Ie&&Ie.f){if(t.bookSheets&&Ee===133&&Me!==133)break;if(Ee=Me,Ie.r===2||Ie.r==12){var Je=r.read_shift(2);if(ve-=2,!z.enc&&Je!==Me&&((Je&255)<<8|Je>>8)!==Me)throw new Error("rt mismatch: "+Je+"!="+Me);Ie.r==12&&(r.l+=10,ve-=10)}var xe={};if(Me===10?xe=Ie.f(r,ve,z):xe=C_e(Me,Ie,r,ve,z),ae==0&&[9,521,1033,2057].indexOf(Ee)===-1)continue;switch(Me){case 34:e.opts.Date1904=C.WBProps.date1904=xe;break;case 134:e.opts.WriteProtect=!0;break;case 47:if(z.enc||(r.l=0),z.enc=xe,!t.password)throw new Error("File is password-protected");if(xe.valid==null)throw new Error("Encryption scheme unsupported");if(!xe.valid)throw new Error("Password is incorrect");break;case 92:z.lastuser=xe;break;case 66:var Ot=Number(xe);switch(Ot){case 21010:Ot=1200;break;case 32768:Ot=1e4;break;case 32769:Ot=1252;break}rd(z.codepage=Ot),te=!0;break;case 317:z.rrtabid=xe;break;case 25:z.winlocked=xe;break;case 439:e.opts.RefreshAll=xe;break;case 12:e.opts.CalcCount=xe;break;case 16:e.opts.CalcDelta=xe;break;case 17:e.opts.CalcIter=xe;break;case 13:e.opts.CalcMode=xe;break;case 14:e.opts.CalcPrecision=xe;break;case 95:e.opts.CalcSaveRecalc=xe;break;case 15:z.CalcRefMode=xe;break;case 2211:e.opts.FullCalc=xe;break;case 129:xe.fDialog&&(n["!type"]="dialog"),xe.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),xe.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:B.push(xe);break;case 430:Z.push([xe]),Z[Z.length-1].XTI=[];break;case 35:case 547:Z[Z.length-1].push(xe);break;case 24:case 536:Q={Name:xe.Name,Ref:Ul(xe.rgce,a,null,Z,z)},xe.itab>0&&(Q.Sheet=xe.itab-1),Z.names.push(Q),Z[0]||(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].push(xe),xe.Name=="_xlnm._FilterDatabase"&&xe.itab>0&&xe.rgce&&xe.rgce[0]&&xe.rgce[0][0]&&xe.rgce[0][0][0]=="PtgArea3d"&&(G[xe.itab-1]={ref:Ar(xe.rgce[0][0][1][2])});break;case 22:z.ExternCount=xe;break;case 23:Z.length==0&&(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].XTI=Z[Z.length-1].XTI.concat(xe),Z.XTI=Z.XTI.concat(xe);break;case 2196:if(z.biff<8)break;Q!=null&&(Q.Comment=xe[1]);break;case 18:n["!protect"]=xe;break;case 19:xe!==0&&z.WTF&&console.error("Password verifier: "+xe);break;case 133:s[xe.pos]=xe,z.snames.push(xe.name);break;case 10:{if(--ae)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,n["!ref"]=Ar(a),t.sheetRows&&t.sheetRows<=a.e.r){var Ge=a.e.r;a.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=Ar(a),a.e.r=Ge}a.e.r++,a.e.c++}X.length>0&&(n["!merges"]=X),J.length>0&&(n["!objects"]=J),U.length>0&&(n["!cols"]=U),W.length>0&&(n["!rows"]=W),C.Sheets.push(k)}c===""?u=n:i[c]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(z.biff===8&&(z.biff={9:2,521:3,1033:4}[Me]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[xe.BIFFVer]||8),z.biffguess=xe.BIFFVer==0,xe.BIFFVer==0&&xe.dt==4096&&(z.biff=5,te=!0,rd(z.codepage=28591)),z.biff==8&&xe.BIFFVer==0&&xe.dt==16&&(z.biff=2),ae++)break;if(n=t.dense?[]:{},z.biff<8&&!te&&(te=!0,rd(z.codepage=t.codepage||1252)),z.biff<5||xe.BIFFVer==0&&xe.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var Se={pos:r.l-ve,name:c};s[Se.pos]=Se,z.snames.push(c)}else c=(s[le]||{name:""}).name;xe.dt==32&&(n["!type"]="chart"),xe.dt==64&&(n["!type"]="macro"),X=[],J=[],z.arrayf=D=[],U=[],W=[],re=!1,k={Hidden:(s[le]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[xe.r]||[])[xe.c]:n[sr({c:xe.c,r:xe.r})])&&++xe.c,E={ixfe:xe.ixfe,XF:B[xe.ixfe]||{},v:xe.val,t:"n"},L>0&&(E.z=Y[E.ixfe>>8&63]),Ud(E,t,e.opts.Date1904),j({c:xe.c,r:xe.r},E,t);break;case 5:case 517:E={ixfe:xe.ixfe,XF:B[xe.ixfe],v:xe.val,t:xe.t},L>0&&(E.z=Y[E.ixfe>>8&63]),Ud(E,t,e.opts.Date1904),j({c:xe.c,r:xe.r},E,t);break;case 638:E={ixfe:xe.ixfe,XF:B[xe.ixfe],v:xe.rknum,t:"n"},L>0&&(E.z=Y[E.ixfe>>8&63]),Ud(E,t,e.opts.Date1904),j({c:xe.c,r:xe.r},E,t);break;case 189:for(var ti=xe.c;ti<=xe.C;++ti){var Tt=xe.rkrec[ti-xe.c][0];E={ixfe:Tt,XF:B[Tt],v:xe.rkrec[ti-xe.c][1],t:"n"},L>0&&(E.z=Y[E.ixfe>>8&63]),Ud(E,t,e.opts.Date1904),j({c:ti,r:xe.r},E,t)}break;case 6:case 518:case 1030:{if(xe.val=="String"){o=xe;break}if(E=zE(xe.val,xe.cell.ixfe,xe.tt),E.XF=B[E.ixfe],t.cellFormula){var $t=xe.formula;if($t&&$t[0]&&$t[0][0]&&$t[0][0][0]=="PtgExp"){var Lt=$t[0][0][1][0],ni=$t[0][0][1][1],Yt=sr({r:Lt,c:ni});b[Yt]?E.f=""+Ul(xe.formula,a,xe.cell,Z,z):E.F=((t.dense?(n[Lt]||[])[ni]:n[Yt])||{}).F}else E.f=""+Ul(xe.formula,a,xe.cell,Z,z)}L>0&&(E.z=Y[E.ixfe>>8&63]),Ud(E,t,e.opts.Date1904),j(xe.cell,E,t),o=xe}break;case 7:case 519:if(o)o.val=xe,E=zE(xe,o.cell.ixfe,"s"),E.XF=B[E.ixfe],t.cellFormula&&(E.f=""+Ul(o.formula,a,o.cell,Z,z)),L>0&&(E.z=Y[E.ixfe>>8&63]),Ud(E,t,e.opts.Date1904),j(o.cell,E,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{D.push(xe);var Ri=sr(xe[0].s);if(m=t.dense?(n[xe[0].s.r]||[])[xe[0].s.c]:n[Ri],t.cellFormula&&m){if(!o||!Ri||!m)break;m.f=""+Ul(xe[1],a,xe[0],Z,z),m.F=Ar(xe[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!o)break;b[sr(o.cell)]=xe[0],m=t.dense?(n[o.cell.r]||[])[o.cell.c]:n[sr(o.cell)],(m||{}).f=""+Ul(xe[0],a,d,Z,z)}}break;case 253:E=zE(l[xe.isst].t,xe.ixfe,"s"),l[xe.isst].h&&(E.h=l[xe.isst].h),E.XF=B[E.ixfe],L>0&&(E.z=Y[E.ixfe>>8&63]),Ud(E,t,e.opts.Date1904),j({c:xe.c,r:xe.r},E,t);break;case 513:t.sheetStubs&&(E={ixfe:xe.ixfe,XF:B[xe.ixfe],t:"z"},L>0&&(E.z=Y[E.ixfe>>8&63]),Ud(E,t,e.opts.Date1904),j({c:xe.c,r:xe.r},E,t));break;case 190:if(t.sheetStubs)for(var pi=xe.c;pi<=xe.C;++pi){var Mt=xe.ixfe[pi-xe.c];E={ixfe:Mt,XF:B[Mt],t:"z"},L>0&&(E.z=Y[E.ixfe>>8&63]),Ud(E,t,e.opts.Date1904),j({c:pi,r:xe.r},E,t)}break;case 214:case 516:case 4:E=zE(xe.val,xe.ixfe,"s"),E.XF=B[E.ixfe],L>0&&(E.z=Y[E.ixfe>>8&63]),Ud(E,t,e.opts.Date1904),j({c:xe.c,r:xe.r},E,t);break;case 0:case 512:ae===1&&(a=xe);break;case 252:l=xe;break;case 1054:if(z.biff==4){Y[L++]=xe[1];for(var Bt=0;Bt<L+163&&ir[Bt]!=xe[1];++Bt);Bt>=163&&_p(xe[1],L+163)}else _p(xe[1],xe[0]);break;case 30:{Y[L++]=xe;for(var Xt=0;Xt<L+163&&ir[Xt]!=xe;++Xt);Xt>=163&&_p(xe,L+163)}break;case 229:X=X.concat(xe);break;case 93:J[xe.cmo[0]]=z.lastobj=xe;break;case 438:z.lastobj.TxO=xe;break;case 127:z.lastobj.ImData=xe;break;case 440:for(w=xe[0].s.r;w<=xe[0].e.r;++w)for(M=xe[0].s.c;M<=xe[0].e.c;++M)m=t.dense?(n[w]||[])[M]:n[sr({c:M,r:w})],m&&(m.l=xe[1]);break;case 2048:for(w=xe[0].s.r;w<=xe[0].e.r;++w)for(M=xe[0].s.c;M<=xe[0].e.c;++M)m=t.dense?(n[w]||[])[M]:n[sr({c:M,r:w})],m&&m.l&&(m.l.Tooltip=xe[1]);break;case 28:{if(z.biff<=5&&z.biff>=2)break;m=t.dense?(n[xe[0].r]||[])[xe[0].c]:n[sr(xe[0])];var gi=J[xe[2]];m||(t.dense?(n[xe[0].r]||(n[xe[0].r]=[]),m=n[xe[0].r][xe[0].c]={t:"z"}):m=n[sr(xe[0])]={t:"z"},a.e.r=Math.max(a.e.r,xe[0].r),a.s.r=Math.min(a.s.r,xe[0].r),a.e.c=Math.max(a.e.c,xe[0].c),a.s.c=Math.min(a.s.c,xe[0].c)),m.c||(m.c=[]),y={a:xe[1],t:gi.TxO.t},m.c.push(y)}break;case 2173:yOe(B[xe.ixfe],xe.ext);break;case 125:{if(!z.cellStyles)break;for(;xe.e>=xe.s;)U[xe.e--]={width:xe.w/256,level:xe.level||0,hidden:!!(xe.flags&1)},re||(re=!0,W3(xe.w/256)),_g(U[xe.e+1])}break;case 520:{var he={};xe.level!=null&&(W[xe.r]=he,he.level=xe.level),xe.hidden&&(W[xe.r]=he,he.hidden=!0),xe.hpt&&(W[xe.r]=he,he.hpt=xe.hpt,he.hpx=q1(xe.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||Z0(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Me]]=xe;break;case 161:n["!margins"]||Z0(n["!margins"]={}),n["!margins"].header=xe.header,n["!margins"].footer=xe.footer;break;case 574:xe.RTL&&(C.Views[0].RTL=!0);break;case 146:P=xe;break;case 2198:F=xe;break;case 140:N=xe;break;case 442:c?k.CodeName=xe||k.name:C.WBProps.CodeName=xe||"ThisWorkbook";break}}else Ie||console.error("Missing Info for XLS Record 0x"+Me.toString(16)),r.l+=ve}return e.SheetNames=Sa(s).sort(function(Ne,Ue){return Number(Ne)-Number(Ue)}).map(function(Ne){return s[Ne].name}),t.bookSheets||(e.Sheets=i),!e.SheetNames.length&&u["!ref"]?(e.SheetNames.push("Sheet1"),e.Sheets&&(e.Sheets.Sheet1=u)):e.Preamble=u,e.Sheets&&G.forEach(function(Ne,Ue){e.Sheets[e.SheetNames[Ue]]["!autofilter"]=Ne}),e.Strings=l,e.SSF=Qs(ir),z.enc&&(e.Encryption=z.enc),F&&(e.Themes=F),e.Metadata={},N!==void 0&&(e.Metadata.Country=N),Z.names.length>0&&(C.Names=Z.names),e.Workbook=C,e}var Rw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function k_e(r,t,e){var i=Ji.find(r,"/!DocumentSummaryInformation");if(i&&i.size>0)try{var n=WH(i,kk,Rw.DSI);for(var s in n)t[s]=n[s]}catch(c){if(e.WTF)throw c}var a=Ji.find(r,"/!SummaryInformation");if(a&&a.size>0)try{var o=WH(a,Lk,Rw.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(e.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(GX(t.HeadingPairs,t.TitlesOfParts,t,e),delete t.HeadingPairs,delete t.TitlesOfParts)}function L_e(r,t){var e=[],i=[],n=[],s=0,a,o=MH(kk,"n"),l=MH(Lk,"n");if(r.Props)for(a=Sa(r.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?e:Object.prototype.hasOwnProperty.call(l,a[s])?i:n).push([a[s],r.Props[a[s]]]);if(r.Custprops)for(a=Sa(r.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(r.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?e:Object.prototype.hasOwnProperty.call(l,a[s])?i:n).push([a[s],r.Custprops[a[s]]]);var c=[];for(s=0;s<n.length;++s)tJ.indexOf(n[s][0])>-1||QX.indexOf(n[s][0])>-1||n[s][1]!=null&&c.push(n[s]);i.length&&Ji.utils.cfb_add(t,"/SummaryInformation",YH(i,Rw.SI,l,Lk)),(e.length||c.length)&&Ji.utils.cfb_add(t,"/DocumentSummaryInformation",YH(e,Rw.DSI,o,kk,c.length?c:null,Rw.UDI))}function $J(r,t){t||(t={}),Z3(t),M3(),t.codepage&&x3(t.codepage);var e,i;if(r.FullPaths){if(Ji.find(r,"/encryption"))throw new Error("File is password-protected");e=Ji.find(r,"!CompObj"),i=Ji.find(r,"/Workbook")||Ji.find(r,"/Book")}else{switch(t.type){case"base64":r=Mu(Nu(r));break;case"binary":r=Mu(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}vl(r,0),i={content:r}}var n,s;if(e&&N_e(e),t.bookProps&&!t.bookSheets)n={};else{var a=jr?"buffer":"array";if(i&&i.content)n=O_e(i.content,t);else if((s=Ji.find(r,"PerfectOffice_MAIN"))&&s.content)n=J0.to_workbook(s.content,(t.type=a,t));else if((s=Ji.find(r,"NativeContent_MAIN"))&&s.content)n=J0.to_workbook(s.content,(t.type=a,t));else throw(s=Ji.find(r,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&r.FullPaths&&Ji.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=qOe(r))}var o={};return r.FullPaths&&k_e(r,o,t),n.Props=n.Custprops=o,t.bookFiles&&(n.cfb=r),n}function j_e(r,t){var e=t||{},i=Ji.utils.cfb_new({root:"R"}),n="/Workbook";switch(e.bookType||"xls"){case"xls":e.bookType="biff8";case"xla":e.bookType||(e.bookType="xla");case"biff8":n="/Workbook",e.biff=8;break;case"biff5":n="/Book",e.biff=5;break;default:throw new Error("invalid type "+e.bookType+" for XLS CFB")}return Ji.utils.cfb_add(i,n,XJ(r,e)),e.biff==8&&(r.Props||r.Custprops)&&L_e(r,i),e.biff==8&&r.vbaraw&&QOe(i,Ji.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),i}var OT={0:{f:nje},1:{f:dje},2:{f:Oje},3:{f:Mje},4:{f:gje},5:{f:Nje},6:{f:zje},7:{f:Dje},8:{f:Hje},9:{f:Vje},10:{f:Bje},11:{f:Uje},12:{f:pje},13:{f:Lje},14:{f:Tje},15:{f:yje},16:{f:VJ},17:{f:Pje},18:{f:Aje},19:{f:j3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:P3e},40:{},42:{},43:{f:z5e},44:{f:j5e},45:{f:F5e},46:{f:U5e},47:{f:B5e},48:{},49:{f:oCe},50:{},51:{f:wOe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:dJ},62:{f:_je},63:{f:COe},64:{f:s3e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Xl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:t3e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:uje},148:{f:oje,p:16},151:{f:Kje},152:{},153:{f:_3e},154:{},155:{},156:{f:L3e},157:{},158:{},159:{T:1,f:X4e},160:{T:-1},161:{T:1,f:Pv},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Wje},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:xOe},336:{T:-1},337:{f:DOe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ok},357:{},358:{},359:{},360:{T:1},361:{},362:{f:hJ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$je},427:{f:Xje},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Zje},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:cje},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Qje},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ok},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:UOe},633:{T:1},634:{T:-1},635:{T:1,f:FOe},636:{T:-1},637:{f:hCe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:T3e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:a3e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Fk={6:{f:y5},10:{f:Hm},12:{f:lo},13:{f:lo},14:{f:za},15:{f:za},16:{f:Wl},17:{f:za},18:{f:za},19:{f:lo},20:{f:XH},21:{f:XH},23:{f:hJ},24:{f:ZH},25:{f:za},26:{},27:{},28:{f:a4e},29:{},34:{f:za},35:{f:JH},38:{f:Wl},39:{f:Wl},40:{f:Wl},41:{f:Wl},42:{f:za},43:{f:za},47:{f:y5e},49:{f:L2e},51:{f:lo},60:{},61:{f:N2e},64:{f:za},65:{f:k2e},66:{f:lo},77:{},80:{},81:{},82:{},85:{f:lo},89:{},90:{},91:{},92:{f:v2e},93:{f:c4e},94:{},95:{f:za},96:{},97:{},99:{f:za},125:{f:dJ},128:{f:G2e},129:{f:x2e},130:{f:lo},131:{f:za},132:{f:za},133:{f:M2e},134:{},140:{f:v4e},141:{f:lo},144:{},146:{f:M4e},151:{},152:{},153:{},154:{},155:{},156:{f:lo},157:{},158:{},160:{f:S4e},161:{f:b4e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:W2e},190:{f:Y2e},193:{f:Hm},197:{},198:{},199:{},200:{},201:{},202:{f:za},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:lo},220:{},221:{f:za},222:{},224:{f:Q2e},225:{f:g2e},226:{f:Hm},227:{},229:{f:o4e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:T2e},253:{f:_2e},255:{f:D2e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:iJ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:za},353:{f:Hm},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Z2e},431:{f:za},432:{},433:{},434:{},437:{},438:{f:d4e},439:{f:za},440:{f:f4e},441:{},442:{f:db},443:{},444:{f:lo},445:{},446:{},448:{f:Hm},449:{f:S2e,r:2},450:{f:Hm},512:{f:GH},513:{f:A4e},515:{f:X2e},516:{f:R2e},517:{f:$H},519:{f:N4e},520:{f:E2e},523:{},545:{f:e9},549:{f:QH},566:{},574:{f:C2e},638:{f:H2e},659:{},1048:{},1054:{f:F2e},1084:{},1212:{f:r4e},2048:{f:m4e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:LE},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Hm},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:w4e,r:12},2173:{f:vOe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:za,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:i4e,r:12},2197:{},2198:{f:hOe,r:12},2199:{},2200:{},2201:{},2202:{f:n4e,r:12},2203:{f:Hm},2204:{},2205:{},2206:{},2207:{},2211:{f:A2e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:lo},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:D4e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:x4e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:GH},1:{},2:{f:L4e},3:{f:O4e},4:{f:C4e},5:{f:$H},7:{f:_4e},8:{},9:{f:LE},11:{},22:{f:lo},30:{f:U2e},31:{},32:{},33:{f:e9},36:{},37:{f:QH},50:{f:z4e},62:{},52:{},67:{},68:{f:lo},69:{},86:{},126:{},127:{f:I4e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:R4e},223:{},234:{},354:{},421:{},518:{f:y5},521:{f:LE},536:{f:ZH},547:{f:JH},561:{},579:{},1030:{f:y5},1033:{f:LE},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function oi(r,t,e,i){var n=t;if(!isNaN(n)){var s=i||(e||[]).length||0,a=r.next(4);a.write_shift(2,n),a.write_shift(2,s),s>0&&O3(e)&&r.push(e)}}function __e(r,t,e,i){var n=(e||[]).length||0;if(n<=8224)return oi(r,t,e,n);var s=t;if(!isNaN(s)){for(var a=e.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var u=r.next(4);for(u.write_shift(2,s),u.write_shift(2,c),r.push(e.slice(l,l+c)),l+=c;l<n;){for(u=r.next(4),u.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;u.write_shift(2,c),r.push(e.slice(l,l+c)),l+=c}}}function gb(r,t,e){return r||(r=St(7)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,0),r.write_shift(1,0),r}function z_e(r,t,e,i){var n=St(9);return gb(n,r,t),rJ(e,i||"b",n),n}function R_e(r,t,e){var i=St(8+2*e.length);return gb(i,r,t),i.write_shift(1,e.length),i.write_shift(e.length,e,"sbcs"),i.l<i.length?i.slice(0,i.l):i}function P_e(r,t,e,i){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?ko(qs(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?oi(r,2,j4e(e,i,n)):oi(r,3,k4e(e,i,n));return;case"b":case"e":oi(r,5,z_e(e,i,t.v,t.t));return;case"s":case"str":oi(r,4,R_e(e,i,(t.v||"").slice(0,255)));return}oi(r,1,gb(null,e,i))}function F_e(r,t,e,i){var n=Array.isArray(t),s=xn(t["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(i.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Ar(s)}for(var c=s.s.r;c<=s.e.r;++c){o=Qa(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=ua(u)),a=l[u]+o;var d=n?(t[c]||[])[u]:t[a];d&&P_e(r,d,c,u)}}}function B_e(r,t){for(var e=t||{},i=Zc(),n=0,s=0;s<r.SheetNames.length;++s)r.SheetNames[s]==e.sheet&&(n=s);if(n==0&&e.sheet&&r.SheetNames[0]!=e.sheet)throw new Error("Sheet not found: "+e.sheet);return oi(i,e.biff==4?1033:e.biff==3?521:9,U3(r,16,e)),F_e(i,r.Sheets[r.SheetNames[n]],n,e),oi(i,10),i.end()}function U_e(r,t,e){oi(r,49,j2e({sz:12,name:"Arial"},e))}function V_e(r,t,e){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var n=i[0];n<=i[1];++n)t[n]!=null&&oi(r,1054,B2e(n,t[n],e))})}function H_e(r,t){var e=St(19);e.write_shift(4,2151),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,1),e.write_shift(4,0),oi(r,2151,e),e=St(39),e.write_shift(4,2152),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(2,1),e.write_shift(4,4),e.write_shift(2,0),lJ(xn(t["!ref"]||"A1"),e),e.write_shift(4,4),oi(r,2152,e)}function W_e(r,t){for(var e=0;e<16;++e)oi(r,224,KH({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(i){oi(r,224,KH(i,0,t))})}function Y_e(r,t){for(var e=0;e<t["!links"].length;++e){var i=t["!links"][e];oi(r,440,p4e(i)),i[1].Tooltip&&oi(r,2048,g4e(i))}delete t["!links"]}function q_e(r,t){if(t){var e=0;t.forEach(function(i,n){++e<=256&&i&&oi(r,125,T4e(KN(n,i),n))})}}function Q_e(r,t,e,i,n){var s=16+Qg(n.cellXfs,t,n);if(t.v==null&&!t.bf){oi(r,513,xv(e,i,s));return}if(t.bf)oi(r,6,xLe(t,e,i,n,s));else switch(t.t){case"d":case"n":var a=t.t=="d"?ko(qs(t.v)):t.v;oi(r,515,J2e(e,i,a,s));break;case"b":case"e":oi(r,517,$2e(e,i,t.v,s,n,t.t));break;case"s":case"str":if(n.bookSST){var o=K3(n.Strings,t.v,n.revStrings);oi(r,253,z2e(e,i,o,s))}else oi(r,516,P2e(e,i,(t.v||"").slice(0,255),s,n));break;default:oi(r,513,xv(e,i,s))}}function G_e(r,t,e){var i=Zc(),n=e.SheetNames[r],s=e.Sheets[n]||{},a=(e||{}).Workbook||{},o=(a.Sheets||[])[r]||{},l=Array.isArray(s),c=t.biff==8,u,d="",p=[],m=xn(s["!ref"]||"A1"),y=c?65536:16384;if(m.e.c>255||m.e.r>=y){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}oi(i,2057,U3(e,16,t)),oi(i,13,hh(1)),oi(i,12,hh(100)),oi(i,15,mc(!0)),oi(i,17,mc(!1)),oi(i,16,vv(.001)),oi(i,95,mc(!0)),oi(i,42,mc(!1)),oi(i,43,mc(!1)),oi(i,130,hh(1)),oi(i,128,K2e()),oi(i,131,mc(!1)),oi(i,132,mc(!1)),c&&q_e(i,s["!cols"]),oi(i,512,V2e(m,t)),c&&(s["!links"]=[]);for(var M=m.s.r;M<=m.e.r;++M){d=Qa(M);for(var w=m.s.c;w<=m.e.c;++w){M===m.s.r&&(p[w]=ua(w)),u=p[w]+d;var b=l?(s[M]||[])[w]:s[u];b&&(Q_e(i,b,M,w,t),c&&b.l&&s["!links"].push([u,b.l]))}}var D=o.CodeName||o.name||n;return c&&oi(i,574,O2e((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&oi(i,229,l4e(s["!merges"])),c&&Y_e(i,s),oi(i,442,nJ(D)),c&&H_e(i,s),oi(i,10),i.end()}function K_e(r,t,e){var i=Zc(),n=(r||{}).Workbook||{},s=n.Sheets||[],a=n.WBProps||{},o=e.biff==8,l=e.biff==5;if(oi(i,2057,U3(r,5,e)),e.bookType=="xla"&&oi(i,135),oi(i,225,o?hh(1200):null),oi(i,193,$Ce(2)),l&&oi(i,191),l&&oi(i,192),oi(i,226),oi(i,92,y2e("SheetJS",e)),oi(i,66,hh(o?1200:1252)),o&&oi(i,353,hh(0)),o&&oi(i,448),oi(i,317,E4e(r.SheetNames.length)),o&&r.vbaraw&&oi(i,211),o&&r.vbaraw){var c=a.CodeName||"ThisWorkbook";oi(i,442,nJ(c))}oi(i,156,hh(17)),oi(i,25,mc(!1)),oi(i,18,mc(!1)),oi(i,19,hh(0)),o&&oi(i,431,mc(!1)),o&&oi(i,444,hh(0)),oi(i,61,I2e()),oi(i,64,mc(!1)),oi(i,141,hh(0)),oi(i,34,mc(S3e(r)=="true")),oi(i,14,mc(!0)),o&&oi(i,439,mc(!1)),oi(i,218,hh(0)),U_e(i,r,e),V_e(i,r.SSF,e),W_e(i,e),o&&oi(i,352,mc(!1));var u=i.end(),d=Zc();o&&oi(d,140,y4e()),o&&e.Strings&&__e(d,252,b2e(e.Strings)),oi(d,10);var p=d.end(),m=Zc(),y=0,M=0;for(M=0;M<r.SheetNames.length;++M)y+=(o?12:11)+(o?2:1)*r.SheetNames[M].length;var w=u.length+y+p.length;for(M=0;M<r.SheetNames.length;++M){var b=s[M]||{};oi(m,133,w2e({pos:w,hs:b.Hidden||0,dt:0,name:r.SheetNames[M]},e)),w+=t[M].length}var D=m.end();if(y!=D.length)throw new Error("BS8 "+y+" != "+D.length);var E=[];return u.length&&E.push(u),D.length&&E.push(D),p.length&&E.push(p),Xo(E)}function $_e(r,t){var e=t||{},i=[];r&&!r.SSF&&(r.SSF=Qs(ir)),r&&r.SSF&&(rx(),VN(r.SSF),e.revssf=WN(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,e_(e),e.cellXfs=[],Qg(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var n=0;n<r.SheetNames.length;++n)i[i.length]=G_e(n,e,r);return i.unshift(K_e(r,i,e)),Xo(i)}function XJ(r,t){for(var e=0;e<=r.SheetNames.length;++e){var i=r.Sheets[r.SheetNames[e]];if(!(!i||!i["!ref"])){var n=tu(i["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[e]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return $_e(r,t);case 4:case 3:case 2:return B_e(r,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function u9(r,t){var e=t||{},i=e.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var n=r.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var s=r.match(/<\/table/i),a=n.index,o=s&&s.index||r.length,l=jIe(r.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,d=0,p=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(a=0;a<l.length;++a){var M=l[a].trim(),w=M.slice(0,3).toLowerCase();if(w=="<tr"){if(++c,e.sheetRows&&e.sheetRows<=c){--c;break}u=0;continue}if(!(w!="<td"&&w!="<th")){var b=M.split(/<\/t[dh]>/i);for(o=0;o<b.length;++o){var D=b[o].trim();if(D.match(/<t[dh]/i)){for(var E=D,N=0;E.charAt(0)=="<"&&(N=E.indexOf(">"))>-1;)E=E.slice(N+1);for(var B=0;B<y.length;++B){var P=y[B];P.s.c==u&&P.s.r<c&&c<=P.e.r&&(u=P.e.c+1,B=-1)}var C=ar(D.slice(0,D.indexOf(">")));p=C.colspan?+C.colspan:1,((d=+C.rowspan)>1||p>1)&&y.push({s:{r:c,c:u},e:{r:c+(d||1)-1,c:u+p-1}});var k=C.t||C["data-t"]||"";if(!E.length){u+=p;continue}if(E=wX(E),m.s.r>c&&(m.s.r=c),m.e.r<c&&(m.e.r=c),m.s.c>u&&(m.s.c=u),m.e.c<u&&(m.e.c=u),!E.length){u+=p;continue}var _={t:"s",v:E};e.raw||!E.trim().length||k=="s"||(E==="TRUE"?_={t:"b",v:!0}:E==="FALSE"?_={t:"b",v:!1}:isNaN(ad(E))?isNaN(W1(E).getDate())||(_={t:"d",v:qs(E)},e.cellDates||(_={t:"n",v:ko(_.v)}),_.z=e.dateNF||ir[14]):_={t:"n",v:ad(E)}),e.dense?(i[c]||(i[c]=[]),i[c][u]=_):i[sr({r:c,c:u})]=_,u+=p}}}}return i["!ref"]=Ar(m),y.length&&(i["!merges"]=y),i}function X_e(r,t,e,i){for(var n=r["!merges"]||[],s=[],a=t.s.c;a<=t.e.c;++a){for(var o=0,l=0,c=0;c<n.length;++c)if(!(n[c].s.r>e||n[c].s.c>a)&&!(n[c].e.r<e||n[c].e.c<a)){if(n[c].s.r<e||n[c].s.c<a){o=-1;break}o=n[c].e.r-n[c].s.r+1,l=n[c].e.c-n[c].s.c+1;break}if(!(o<0)){var u=sr({r:e,c:a}),d=i.dense?(r[e]||[])[a]:r[u],p=d&&d.v!=null&&(d.h||N3(d.w||(Kp(d),d.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),i.editable?p='<span contenteditable="true">'+p+"</span>":d&&(m["data-t"]=d&&d.t||"z",d.v!=null&&(m["data-v"]=d.v),d.z!=null&&(m["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+d.l.Target+'">'+p+"</a>")),m.id=(i.id||"sjs")+"-"+u,s.push(si("td",p,m))}}var y="<tr>";return y+s.join("")+"</tr>"}var J_e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Z_e="</body></html>";function eze(r,t){var e=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!e||e.length==0)throw new Error("Invalid HTML: could not find <table>");if(e.length==1)return qg(u9(e[0],t),t);var i=r_();return e.forEach(function(n,s){n_(i,u9(n,t),"Sheet"+(s+1))}),i}function tze(r,t,e){var i=[];return i.join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}function JJ(r,t){var e=t||{},i=e.header!=null?e.header:J_e,n=e.footer!=null?e.footer:Z_e,s=[i],a=tu(r["!ref"]);e.dense=Array.isArray(r),s.push(tze(r,a,e));for(var o=a.s.r;o<=a.e.r;++o)s.push(X_e(r,a,o,e));return s.push("</table>"+n),s.join("")}function ZJ(r,t,e){var i=e||{},n=0,s=0;if(i.origin!=null)if(typeof i.origin=="number")n=i.origin;else{var a=typeof i.origin=="string"?ha(i.origin):i.origin;n=a.r,s=a.c}var o=t.getElementsByTagName("tr"),l=Math.min(i.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:n,c:s}};if(r["!ref"]){var u=tu(r["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),n==-1&&(c.e.r=n=u.e.r+1)}var d=[],p=0,m=r["!rows"]||(r["!rows"]=[]),y=0,M=0,w=0,b=0,D=0,E=0;for(r["!cols"]||(r["!cols"]=[]);y<o.length&&M<l;++y){var N=o[y];if(h9(N)){if(i.display)continue;m[M]={hidden:!0}}var B=N.children;for(w=b=0;w<B.length;++w){var P=B[w];if(!(i.display&&h9(P))){var C=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):wX(P.innerHTML),k=P.getAttribute("data-z")||P.getAttribute("z");for(p=0;p<d.length;++p){var _=d[p];_.s.c==b+s&&_.s.r<M+n&&M+n<=_.e.r&&(b=_.e.c+1-s,p=-1)}E=+P.getAttribute("colspan")||1,((D=+P.getAttribute("rowspan")||1)>1||E>1)&&d.push({s:{r:M+n,c:b+s},e:{r:M+n+(D||1)-1,c:b+s+(E||1)-1}});var H={t:"s",v:C},j=P.getAttribute("data-t")||P.getAttribute("t")||"";C!=null&&(C.length==0?H.t=j||"z":i.raw||C.trim().length==0||j=="s"||(C==="TRUE"?H={t:"b",v:!0}:C==="FALSE"?H={t:"b",v:!1}:isNaN(ad(C))?isNaN(W1(C).getDate())||(H={t:"d",v:qs(C)},i.cellDates||(H={t:"n",v:ko(H.v)}),H.z=i.dateNF||ir[14]):H={t:"n",v:ad(C)})),H.z===void 0&&k!=null&&(H.z=k);var z="",F=P.getElementsByTagName("A");if(F&&F.length)for(var X=0;X<F.length&&!(F[X].hasAttribute("href")&&(z=F[X].getAttribute("href"),z.charAt(0)!="#"));++X);z&&z.charAt(0)!="#"&&(H.l={Target:z}),i.dense?(r[M+n]||(r[M+n]=[]),r[M+n][b+s]=H):r[sr({c:b+s,r:M+n})]=H,c.e.c<b+s&&(c.e.c=b+s),b+=E}}++M}return d.length&&(r["!merges"]=(r["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,M-1+n),r["!ref"]=Ar(c),M>=l&&(r["!fullref"]=Ar((c.e.r=o.length-y+M-1+n,c))),r}function eZ(r,t){var e=t||{},i=e.dense?[]:{};return ZJ(i,r,t)}function ize(r,t){return qg(eZ(r,t),t)}function h9(r){var t="",e=rze(r);return e&&(t=e(r).getPropertyValue("display")),t||(t=r.style&&r.style.display),t==="none"}function rze(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function nze(r){var t=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(i,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),e=yn(t.replace(/<[^>]*>/g,""));return[e]}var d9={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function tZ(r,t){var e=t||{},i=I3(r),n=[],s,a,o={name:""},l="",c=0,u,d,p={},m=[],y=e.dense?[]:{},M,w,b={value:""},D="",E=0,N=[],B=-1,P=-1,C={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,_={},H=[],j={},z=0,F=0,X=[],J=1,U=1,W=[],re={Names:[]},Z={},Ee=["",""],ae=[],L={},Y="",G=0,Q=!1,te=!1,le=0;for(ET.lastIndex=0,i=i.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");M=ET.exec(i);)switch(M[3]=M[3].replace(/_.*$/,"")){case"table":case"":M[1]==="/"?(C.e.c>=C.s.c&&C.e.r>=C.s.r?y["!ref"]=Ar(C):y["!ref"]="A1:A1",e.sheetRows>0&&e.sheetRows<=C.e.r&&(y["!fullref"]=y["!ref"],C.e.r=e.sheetRows-1,y["!ref"]=Ar(C)),H.length&&(y["!merges"]=H),X.length&&(y["!rows"]=X),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),m.push(u.name),p[u.name]=y,te=!1):M[0].charAt(M[0].length-2)!=="/"&&(u=ar(M[0],!1),B=P=-1,C.s.r=C.s.c=1e7,C.e.r=C.e.c=0,y=e.dense?[]:{},H=[],X=[],te=!0);break;case"table-row-group":M[1]==="/"?--k:++k;break;case"table-row":case"":if(M[1]==="/"){B+=J,J=1;break}if(d=ar(M[0],!1),d.?B=d.-1:B==-1&&(B=0),J=+d["number-rows-repeated"]||1,J<10)for(le=0;le<J;++le)k>0&&(X[B+le]={level:k});P=-1;break;case"covered-table-cell":M[1]!=="/"&&++P,e.sheetStubs&&(e.dense?(y[B]||(y[B]=[]),y[B][P]={t:"z"}):y[sr({r:B,c:P})]={t:"z"}),D="",N=[];break;case"table-cell":case"":if(M[0].charAt(M[0].length-2)==="/")++P,b=ar(M[0],!1),U=parseInt(b["number-columns-repeated"]||"1",10),w={t:"z",v:null},b.formula&&e.cellFormula!=!1&&(w.f=o9(yn(b.formula))),(b.||b["value-type"])=="string"&&(w.t="s",w.v=yn(b["string-value"]||""),e.dense?(y[B]||(y[B]=[]),y[B][P]=w):y[sr({r:B,c:P})]=w),P+=U-1;else if(M[1]!=="/"){++P,D="",E=0,N=[],U=1;var Me=J?B+J-1:B;if(P>C.e.c&&(C.e.c=P),P<C.s.c&&(C.s.c=P),B<C.s.r&&(C.s.r=B),Me>C.e.r&&(C.e.r=Me),b=ar(M[0],!1),ae=[],L={},w={t:b.||b["value-type"],v:null},e.cellFormula)if(b.formula&&(b.formula=yn(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(z=parseInt(b["number-matrix-rows-spanned"],10)||0,F=parseInt(b["number-matrix-columns-spanned"],10)||0,j={s:{r:B,c:P},e:{r:B+z-1,c:P+F-1}},w.F=Ar(j),W.push([j,w.F])),b.formula)w.f=o9(b.formula);else for(le=0;le<W.length;++le)B>=W[le][0].s.r&&B<=W[le][0].e.r&&P>=W[le][0].s.c&&P<=W[le][0].e.c&&(w.F=W[le][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(z=parseInt(b["number-rows-spanned"],10)||0,F=parseInt(b["number-columns-spanned"],10)||0,j={s:{r:B,c:P},e:{r:B+z-1,c:P+F-1}},H.push(j)),b["number-columns-repeated"]&&(U=parseInt(b["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=Vs(b["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(b.value);break;case"percentage":w.t="n",w.v=parseFloat(b.value);break;case"currency":w.t="n",w.v=parseFloat(b.value);break;case"date":w.t="d",w.v=qs(b["date-value"]),e.cellDates||(w.t="n",w.v=ko(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=OIe(b["time-value"])/86400,e.cellDates&&(w.t="d",w.v=YN(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(b.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",b["string-value"]!=null&&(D=yn(b["string-value"]),N=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(Q=!1,w.t==="s"&&(w.v=D||"",N.length&&(w.R=N),Q=E==0),Z.Target&&(w.l=Z),ae.length>0&&(w.c=ae,ae=[]),D&&e.cellText!==!1&&(w.w=D),Q&&(w.t="z",delete w.v),(!Q||e.sheetStubs)&&!(e.sheetRows&&e.sheetRows<=B))for(var ve=0;ve<J;++ve){if(U=parseInt(b["number-columns-repeated"]||"1",10),e.dense)for(y[B+ve]||(y[B+ve]=[]),y[B+ve][P]=ve==0?w:Qs(w);--U>0;)y[B+ve][P+U]=Qs(w);else for(y[sr({r:B+ve,c:P})]=w;--U>0;)y[sr({r:B+ve,c:P+U})]=Qs(w);C.e.c<=P&&(C.e.c=P)}U=parseInt(b["number-columns-repeated"]||"1",10),P+=U-1,U=0,w={},D="",N=[]}Z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(M[1]==="/"){if((s=n.pop())[0]!==M[3])throw"Bad state: "+s}else M[0].charAt(M[0].length-2)!=="/"&&n.push([M[3],!0]);break;case"annotation":if(M[1]==="/"){if((s=n.pop())[0]!==M[3])throw"Bad state: "+s;L.t=D,N.length&&(L.R=N),L.a=Y,ae.push(L)}else M[0].charAt(M[0].length-2)!=="/"&&n.push([M[3],!1]);Y="",G=0,D="",E=0,N=[];break;case"creator":M[1]==="/"?Y=i.slice(G,M.index):G=M.index+M[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(M[1]==="/"){if((s=n.pop())[0]!==M[3])throw"Bad state: "+s}else M[0].charAt(M[0].length-2)!=="/"&&n.push([M[3],!1]);D="",E=0,N=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(M[1]==="/"){if(_[o.name]=l,(s=n.pop())[0]!==M[3])throw"Bad state: "+s}else M[0].charAt(M[0].length-2)!=="/"&&(l="",o=ar(M[0],!1),n.push([M[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":a=ar(M[0],!1),l+=d9[M[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":a=ar(M[0],!1),l+=d9[M[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(M[0].slice(-2)==="/>")break;if(M[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":l+=i.slice(c,M.index);break}else c=M.index+M[0].length;break;case"named-range":a=ar(M[0],!1),Ee=x5(a["cell-range-address"]);var Ie={Name:a.name,Ref:Ee[0]+"!"+Ee[1]};te&&(Ie.Sheet=m.length),re.Names.push(Ie);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(M[1]==="/"&&(!b||!b["string-value"])){var Je=nze(i.slice(E,M.index));D=(D.length>0?D+`
`:"")+Je[0]}else ar(M[0],!1),E=M.index+M[0].length;break;case"s":break;case"database-range":if(M[1]==="/")break;try{Ee=x5(ar(M[0])["target-range-address"]),p[Ee[0]]["!autofilter"]={ref:Ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(M[1]!=="/"){if(Z=ar(M[0],!1),!Z.href)break;Z.Target=yn(Z.href),delete Z.href,Z.Target.charAt(0)=="#"&&Z.Target.indexOf(".")>-1?(Ee=x5(Z.Target.slice(1)),Z.Target="#"+Ee[0]+"!"+Ee[1]):Z.Target.match(/^\.\.[\\\/]/)&&(Z.Target=Z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(M[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(e.WTF)throw new Error(M)}}var xe={Sheets:p,SheetNames:m,Workbook:re};return e.bookSheets&&delete xe.Sheets,xe}function f9(r,t){t=t||{},ch(r,"META-INF/manifest.xml")&&OCe(oo(r,"META-INF/manifest.xml"),t);var e=wu(r,"content.xml");if(!e)throw new Error("Missing content.xml in ODS / UOF file");var i=tZ(us(e),t);return ch(r,"meta.xml")&&(i.Props=YX(oo(r,"meta.xml"))),i}function p9(r,t){return tZ(r,t)}var sze=(function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+DT({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Ga+t}})(),m9=(function(){var r=function(s){return Gn(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,e=`          <table:covered-table-cell/>
`,i=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Gn(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,d=tu(s["!ref"]||"A1"),p=s["!merges"]||[],m=0,y=Array.isArray(s);if(s["!cols"])for(u=0;u<=d.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var M="",w=s["!rows"]||[];for(c=0;c<d.s.r;++c)M=w[c]?' table:style-name="ro'+w[c].ods+'"':"",l.push("        <table:table-row"+M+`></table:table-row>
`);for(;c<=d.e.r;++c){for(M=w[c]?' table:style-name="ro'+w[c].ods+'"':"",l.push("        <table:table-row"+M+`>
`),u=0;u<d.s.c;++u)l.push(t);for(;u<=d.e.c;++u){var b=!1,D={},E="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>u)&&!(p[m].s.r>c)&&!(p[m].e.c<u)&&!(p[m].e.r<c)){(p[m].s.c!=u||p[m].s.r!=c)&&(b=!0),D["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,D["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(b){l.push(e);continue}var N=sr({r:c,c:u}),B=y?(s[c]||[])[u]:s[N];if(B&&B.f&&(D["table:formula"]=Gn(ELe(B.f)),B.F&&B.F.slice(0,N.length)==N)){var P=tu(B.F);D["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,D["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!B){l.push(t);continue}switch(B.t){case"b":E=B.v?"TRUE":"FALSE",D["office:value-type"]="boolean",D["office:boolean-value"]=B.v?"true":"false";break;case"n":E=B.w||String(B.v||0),D["office:value-type"]="float",D["office:value"]=B.v||0;break;case"s":case"str":E=B.v==null?"":B.v,D["office:value-type"]="string";break;case"d":E=B.w||qs(B.v).toISOString(),D["office:value-type"]="date",D["office:date-value"]=qs(B.v).toISOString(),D["table:style-name"]="ce1";break;default:l.push(t);continue}var C=r(E);if(B.l&&B.l.Target){var k=B.l.Target;k=k.charAt(0)=="#"?"#"+ALe(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),C=si("text:a",C,{"xlink:href":k.replace(/&/g,"&amp;")})}l.push("          "+si("table:table-cell",si("text:p",C,{}),D)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},n=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var d=c["!cols"][u];if(d.width==null&&d.wpx==null&&d.wch==null)continue;_g(d),d.ods=o;var p=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var d=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Ga],c=DT({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=DT({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(WX().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),n(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var d=0;d!=a.SheetNames.length;++d)l.push(i(a.Sheets[a.SheetNames[d]],a,d));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function iZ(r,t){if(t.bookType=="fods")return m9(r,t);var e=E3(),i="",n=[],s=[];return i="mimetype",Cr(e,i,"application/vnd.oasis.opendocument.spreadsheet"),i="content.xml",Cr(e,i,m9(r,t)),n.push([i,"text/xml"]),s.push([i,"ContentFile"]),i="styles.xml",Cr(e,i,sze(r,t)),n.push([i,"text/xml"]),s.push([i,"StylesFile"]),i="meta.xml",Cr(e,i,Ga+WX()),n.push([i,"text/xml"]),s.push([i,"MetadataFile"]),i="manifest.rdf",Cr(e,i,jCe(s)),n.push([i,"application/rdf+xml"]),i="META-INF/manifest.xml",Cr(e,i,kCe(n)),e}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Mv(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Bk(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):us(Yg(r))}function aze(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):Mu(nf(r))}function oze(r,t){e:for(var e=0;e<=r.length-t.length;++e){for(var i=0;i<t.length;++i)if(r[e+i]!=t[i])continue e;return!0}return!1}function Rg(r){var t=r.reduce(function(n,s){return n+s.length},0),e=new Uint8Array(t),i=0;return r.forEach(function(n){e.set(n,i),i+=n.length}),e}function g9(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function lze(r,t){for(var e=(r[t+15]&127)<<7|r[t+14]>>1,i=r[t+14]&1,n=t+13;n>=t;--n)i=i*256+r[n];return(r[t+15]&128?-i:i)*Math.pow(10,e-6176)}function cze(r,t,e){var i=Math.floor(e==0?0:Math.LOG10E*Math.log(Math.abs(e)))+6176-20,n=e/Math.pow(10,i-6176);r[t+15]|=i>>7,r[t+14]|=(i&127)<<1;for(var s=0;n>=1;++s,n/=256)r[t+s]=n&255;r[t+15]|=e>=0?0:128}function kT(r,t){var e=t?t[0]:0,i=r[e]&127;e:if(r[e++]>=128&&(i|=(r[e]&127)<<7,r[e++]<128||(i|=(r[e]&127)<<14,r[e++]<128)||(i|=(r[e]&127)<<21,r[e++]<128)||(i+=(r[e]&127)*Math.pow(2,28),++e,r[e++]<128)||(i+=(r[e]&127)*Math.pow(2,35),++e,r[e++]<128)||(i+=(r[e]&127)*Math.pow(2,42),++e,r[e++]<128)))break e;return t&&(t[0]=e),i}function Hn(r){var t=new Uint8Array(7);t[0]=r&127;var e=1;e:if(r>127){if(t[e-1]|=128,t[e]=r>>7&127,++e,r<=16383||(t[e-1]|=128,t[e]=r>>14&127,++e,r<=2097151)||(t[e-1]|=128,t[e]=r>>21&127,++e,r<=268435455)||(t[e-1]|=128,t[e]=r/256>>>21&127,++e,r<=34359738367)||(t[e-1]|=128,t[e]=r/65536>>>21&127,++e,r<=4398046511103))break e;t[e-1]|=128,t[e]=r/16777216>>>21&127,++e}return t.slice(0,e)}function Ea(r){var t=0,e=r[t]&127;e:if(r[t++]>=128){if(e|=(r[t]&127)<<7,r[t++]<128||(e|=(r[t]&127)<<14,r[t++]<128)||(e|=(r[t]&127)<<21,r[t++]<128))break e;e|=(r[t]&127)<<28}return e}function bn(r){for(var t=[],e=[0];e[0]<r.length;){var i=e[0],n=kT(r,e),s=n&7;n=Math.floor(n/8);var a=0,o;if(n==0)break;switch(s){case 0:{for(var l=e[0];r[e[0]++]>=128;);o=r.slice(l,e[0])}break;case 5:a=4,o=r.slice(e[0],e[0]+a),e[0]+=a;break;case 1:a=8,o=r.slice(e[0],e[0]+a),e[0]+=a;break;case 2:a=kT(r,e),o=r.slice(e[0],e[0]+a),e[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(n," at offset ").concat(i))}var c={data:o,type:s};t[n]==null?t[n]=[c]:t[n].push(c)}return t}function fl(r){var t=[];return r.forEach(function(e,i){e.forEach(function(n){n.data&&(t.push(Hn(i*8+n.type)),n.type==2&&t.push(Hn(n.data.length)),t.push(n.data))})}),Rg(t)}function J3(r,t){return r?.map(function(e){return t(e.data)})||[]}function nh(r){for(var t,e=[],i=[0];i[0]<r.length;){var n=kT(r,i),s=bn(r.slice(i[0],i[0]+n));i[0]+=n;var a={id:Ea(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=bn(o.data),c=Ea(l[3][0].data);a.messages.push({meta:l,data:r.slice(i[0],i[0]+c)}),i[0]+=c}),(t=s[3])!=null&&t[0]&&(a.merge=Ea(s[3][0].data)>>>0>0),e.push(a)}return e}function Ly(r){var t=[];return r.forEach(function(e){var i=[];i[1]=[{data:Hn(e.id),type:0}],i[2]=[],e.merge!=null&&(i[3]=[{data:Hn(+!!e.merge),type:0}]);var n=[];e.messages.forEach(function(a){n.push(a.data),a.meta[3]=[{type:0,data:Hn(a.data.length)}],i[2].push({data:fl(a.meta),type:2})});var s=fl(i);t.push(Hn(s.length)),t.push(s),n.forEach(function(a){return t.push(a)})}),Rg(t)}function uze(r,t){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var e=[0],i=kT(t,e),n=[];e[0]<t.length;){var s=t[e[0]]&3;if(s==0){var a=t[e[0]++]>>2;if(a<60)++a;else{var o=a-59;a=t[e[0]],o>1&&(a|=t[e[0]+1]<<8),o>2&&(a|=t[e[0]+2]<<16),o>3&&(a|=t[e[0]+3]<<24),a>>>=0,a++,e[0]+=o}n.push(t.slice(e[0],e[0]+a)),e[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(t[e[0]]>>2&7)+4,l=(t[e[0]++]&224)<<3,l|=t[e[0]++]):(c=(t[e[0]++]>>2)+1,s==2?(l=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(l=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),n=[Rg(n)],l==0)throw new Error("Invalid offset 0");if(l>n[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(n.push(n[0].slice(-l)),c-=l;c>=n[n.length-1].length;)n.push(n[n.length-1]),c-=n[n.length-1].length;n.push(n[0].slice(-l,-l+c))}}var u=Rg(n);if(u.length!=i)throw new Error("Unexpected length: ".concat(u.length," != ").concat(i));return u}function sh(r){for(var t=[],e=0;e<r.length;){var i=r[e++],n=r[e]|r[e+1]<<8|r[e+2]<<16;e+=3,t.push(uze(i,r.slice(e,e+n))),e+=n}if(e!==r.length)throw new Error("data is not a valid framed stream!");return Rg(t)}function jy(r){for(var t=[],e=0;e<r.length;){var i=Math.min(r.length-e,268435455),n=new Uint8Array(4);t.push(n);var s=Hn(i),a=s.length;t.push(s),i<=60?(a++,t.push(new Uint8Array([i-1<<2]))):i<=256?(a+=2,t.push(new Uint8Array([240,i-1&255]))):i<=65536?(a+=3,t.push(new Uint8Array([244,i-1&255,i-1>>8&255]))):i<=16777216?(a+=4,t.push(new Uint8Array([248,i-1&255,i-1>>8&255,i-1>>16&255]))):i<=4294967296&&(a+=5,t.push(new Uint8Array([252,i-1&255,i-1>>8&255,i-1>>16&255,i-1>>>24&255]))),t.push(r.slice(e,e+i)),a+=i,n[0]=0,n[1]=a&255,n[2]=a>>8&255,n[3]=a>>16&255,e+=i}return Rg(t)}function hze(r,t,e,i){var n=Mv(r),s=n.getUint32(4,!0),a=(i>1?12:8)+g9(s&(i>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=n.getUint32(a,!0),a+=4),a+=g9(s&(i>1?12288:4096))*4,s&16&&(l=n.getUint32(a,!0),a+=4),s&32&&(c=n.getFloat64(a,!0),a+=8),s&64&&(u.setTime(u.getTime()+n.getFloat64(a,!0)*1e3),a+=8);var d;switch(r[2]){case 0:break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:t[l]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:e[o]};else if(l>-1)d={t:"s",v:t[l]};else if(!isNaN(c))d={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return d}function dze(r,t,e){var i=Mv(r),n=i.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);n&1&&(l=lze(r,s),s+=16),n&2&&(c=i.getFloat64(s,!0),s+=8),n&4&&(u.setTime(u.getTime()+i.getFloat64(s,!0)*1e3),s+=8),n&8&&(o=i.getUint32(s,!0),s+=4),n&16&&(a=i.getUint32(s,!0),s+=4);var d;switch(r[1]){case 0:break;case 2:d={t:"n",v:l};break;case 3:d={t:"s",v:t[o]};break;case 5:d={t:"d",v:u};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(a>-1)d={t:"s",v:e[a]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(n&31," : ").concat(r.slice(0,4)));break;case 10:d={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(n&31," : ").concat(r.slice(0,4)))}return d}function w5(r,t){var e=new Uint8Array(32),i=Mv(e),n=12,s=0;switch(e[0]=5,r.t){case"n":e[1]=2,cze(e,n,r.v),s|=1,n+=16;break;case"b":e[1]=6,i.setFloat64(n,r.v?1:0,!0),s|=2,n+=8;break;case"s":if(t.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));e[1]=3,i.setUint32(n,t.indexOf(r.v),!0),s|=8,n+=4;break;default:throw"unsupported cell type "+r.t}return i.setUint32(8,s,!0),e.slice(0,n)}function T5(r,t){var e=new Uint8Array(32),i=Mv(e),n=12,s=0;switch(e[0]=3,r.t){case"n":e[2]=2,i.setFloat64(n,r.v,!0),s|=32,n+=8;break;case"b":e[2]=6,i.setFloat64(n,r.v?1:0,!0),s|=32,n+=8;break;case"s":if(t.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));e[2]=3,i.setUint32(n,t.indexOf(r.v),!0),s|=16,n+=4;break;default:throw"unsupported cell type "+r.t}return i.setUint32(4,s,!0),e.slice(0,n)}function fze(r,t,e){switch(r[0]){case 0:case 1:case 2:case 3:return hze(r,t,e,r[0]);case 5:return dze(r,t,e);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function Bl(r){var t=bn(r);return kT(t[1][0].data)}function v9(r,t){var e=bn(t.data),i=Ea(e[1][0].data),n=e[3],s=[];return(n||[]).forEach(function(a){var o=bn(a.data),l=Ea(o[1][0].data)>>>0;switch(i){case 1:s[l]=Bk(o[3][0].data);break;case 8:{var c=r[Bl(o[9][0].data)][0],u=bn(c.data),d=r[Bl(u[1][0].data)][0],p=Ea(d.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var m=bn(d.data);s[l]=m[3].map(function(y){return Bk(y.data)}).join("")}break}}),s}function pze(r,t){var e,i,n,s,a,o,l,c,u,d,p,m,y,M,w=bn(r),b=Ea(w[1][0].data)>>>0,D=Ea(w[2][0].data)>>>0,E=((i=(e=w[8])==null?void 0:e[0])==null?void 0:i.data)&&Ea(w[8][0].data)>0||!1,N,B;if((s=(n=w[7])==null?void 0:n[0])!=null&&s.data&&t!=0)N=(o=(a=w[7])==null?void 0:a[0])==null?void 0:o.data,B=(c=(l=w[6])==null?void 0:l[0])==null?void 0:c.data;else if((d=(u=w[4])==null?void 0:u[0])!=null&&d.data&&t!=1)N=(m=(p=w[4])==null?void 0:p[0])==null?void 0:m.data,B=(M=(y=w[3])==null?void 0:y[0])==null?void 0:M.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var P=E?4:1,C=Mv(N),k=[],_=0;_<N.length/2;++_){var H=C.getUint16(_*2,!0);H<65535&&k.push([_,H])}if(k.length!=D)throw"Expected ".concat(D," cells, found ").concat(k.length);var j=[];for(_=0;_<k.length-1;++_)j[k[_][0]]=B.subarray(k[_][1]*P,k[_+1][1]*P);return k.length>=1&&(j[k[k.length-1][0]]=B.subarray(k[k.length-1][1]*P)),{R:b,cells:j}}function mze(r,t){var e,i=bn(t.data),n=(e=i?.[7])!=null&&e[0]?Ea(i[7][0].data)>>>0>0?1:0:-1,s=J3(i[5],function(a){return pze(a,n)});return{nrows:Ea(i[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function gze(r,t,e){var i,n=bn(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Ea(n[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(s.e.c=(Ea(n[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));e["!ref"]=Ar(s);var a=bn(n[4][0].data),o=v9(r,r[Bl(a[4][0].data)][0]),l=(i=a[17])!=null&&i[0]?v9(r,r[Bl(a[17][0].data)][0]):[],c=bn(a[3][0].data),u=0;c[1].forEach(function(d){var p=bn(d.data),m=r[Bl(p[2][0].data)][0],y=Ea(m.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var M=mze(r,m);M.data.forEach(function(w,b){w.forEach(function(D,E){var N=sr({r:u+b,c:E}),B=fze(D,o,l);B&&(e[N]=B)})}),u+=M.nrows})}function vze(r,t){var e=bn(t.data),i={"!ref":"A1"},n=r[Bl(e[2][0].data)],s=Ea(n[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return gze(r,n[0],i),i}function yze(r,t){var e,i=bn(t.data),n={name:(e=i[1])!=null&&e[0]?Bk(i[1][0].data):"",sheets:[]},s=J3(i[2],Bl);return s.forEach(function(a){r[a].forEach(function(o){var l=Ea(o.meta[1][0].data);l==6e3&&n.sheets.push(vze(r,o))})}),n}function xze(r,t){var e=r_(),i=bn(t.data),n=J3(i[1],Bl);if(n.forEach(function(s){r[s].forEach(function(a){var o=Ea(a.meta[1][0].data);if(o==2){var l=yze(r,a);l.sheets.forEach(function(c,u){n_(e,c,u==0?l.name:l.name+"_"+u,!0)})}})}),e.SheetNames.length==0)throw new Error("Empty NUMBERS file");return e}function b5(r){var t,e,i,n,s={},a=[];if(r.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=sh(l.content)}catch(d){return console.log("?? "+l.content.length+" "+(d.message||d))}var u;try{u=nh(c)}catch(d){return console.log("## "+(d.message||d))}u.forEach(function(d){s[d.id]=d.messages,a.push(d.id)})}}),!a.length)throw new Error("File has no messages");var o=((n=(i=(e=(t=s?.[1])==null?void 0:t[0])==null?void 0:e.meta)==null?void 0:i[1])==null?void 0:n[0].data)&&Ea(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var u=Ea(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return xze(s,o)}function Mze(r,t,e){var i,n,s,a;if(!((i=r[6])!=null&&i[0])||!((n=r[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=r[8])==null?void 0:s[0])==null?void 0:a.data)&&Ea(r[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Mv(r[7][0].data),u=0,d=[],p=Mv(r[4][0].data),m=0,y=[],M=0;M<t.length;++M){if(t[M]==null){c.setUint16(M*2,65535,!0),p.setUint16(M*2,65535);continue}c.setUint16(M*2,u,!0),p.setUint16(M*2,m,!0);var w,b;switch(typeof t[M]){case"string":w=w5({t:"s",v:t[M]},e),b=T5({t:"s",v:t[M]},e);break;case"number":w=w5({t:"n",v:t[M]},e),b=T5({t:"n",v:t[M]},e);break;case"boolean":w=w5({t:"b",v:t[M]},e),b=T5({t:"b",v:t[M]},e);break;default:throw new Error("Unsupported value "+t[M])}d.push(w),u+=w.length,y.push(b),m+=b.length,++l}for(r[2][0].data=Hn(l);M<r[7][0].data.length/2;++M)c.setUint16(M*2,65535,!0),p.setUint16(M*2,65535,!0);return r[6][0].data=Rg(d),r[3][0].data=Rg(y),l}function wze(r,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var e=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var i=tu(e["!ref"]);i.s.r=i.s.c=0;var n=!1;i.e.c>9&&(n=!0,i.e.c=9),i.e.r>49&&(n=!0,i.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Ar(i)));var s=BS(e,{range:i,header:1}),a=["~Sh33tJ5~"];s.forEach(function(Y){return Y.forEach(function(G){typeof G=="string"&&a.push(G)})});var o={},l=[],c=Ji.read(t.numbers,{type:"base64"});c.FileIndex.map(function(Y,G){return[Y,c.FullPaths[G]]}).forEach(function(Y){var G=Y[0],Q=Y[1];if(G.type==2&&G.name.match(/\.iwa/)){var te=G.content,le=sh(te),Me=nh(le);Me.forEach(function(ve){l.push(ve.id),o[ve.id]={deps:[],location:Q,type:Ea(ve.messages[0].meta[1][0].data)}})}}),l.sort(function(Y,G){return Y-G});var u=l.filter(function(Y){return Y>1}).map(function(Y){return[Y,Hn(Y)]});c.FileIndex.map(function(Y,G){return[Y,c.FullPaths[G]]}).forEach(function(Y){var G=Y[0];if(Y[1],!!G.name.match(/\.iwa/)){var Q=nh(sh(G.content));Q.forEach(function(te){te.messages.forEach(function(le){u.forEach(function(Me){te.messages.some(function(ve){return Ea(ve.meta[1][0].data)!=11006&&oze(ve.data,Me[1])})&&o[Me[0]].deps.push(te.id)})})})}});for(var d=Ji.find(c,o[1].location),p=nh(sh(d.content)),m,y=0;y<p.length;++y){var M=p[y];M.id==1&&(m=M)}var w=Bl(bn(m.messages[0].data)[1][0].data);for(d=Ji.find(c,o[w].location),p=nh(sh(d.content)),y=0;y<p.length;++y)M=p[y],M.id==w&&(m=M);for(w=Bl(bn(m.messages[0].data)[2][0].data),d=Ji.find(c,o[w].location),p=nh(sh(d.content)),y=0;y<p.length;++y)M=p[y],M.id==w&&(m=M);for(w=Bl(bn(m.messages[0].data)[2][0].data),d=Ji.find(c,o[w].location),p=nh(sh(d.content)),y=0;y<p.length;++y)M=p[y],M.id==w&&(m=M);var b=bn(m.messages[0].data);{b[6][0].data=Hn(i.e.r+1),b[7][0].data=Hn(i.e.c+1);var D=Bl(b[46][0].data),E=Ji.find(c,o[D].location),N=nh(sh(E.content));{for(var B=0;B<N.length&&N[B].id!=D;++B);if(N[B].id!=D)throw"Bad ColumnRowUIDMapArchive";var P=bn(N[B].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var C=0;C<=i.e.c;++C){var k=[];k[1]=k[2]=[{type:0,data:Hn(C+420690)}],P[1].push({type:2,data:fl(k)}),P[2].push({type:0,data:Hn(C)}),P[3].push({type:0,data:Hn(C)})}P[4]=[],P[5]=[],P[6]=[];for(var _=0;_<=i.e.r;++_)k=[],k[1]=k[2]=[{type:0,data:Hn(_+726270)}],P[4].push({type:2,data:fl(k)}),P[5].push({type:0,data:Hn(_)}),P[6].push({type:0,data:Hn(_)});N[B].messages[0].data=fl(P)}E.content=jy(Ly(N)),E.size=E.content.length,delete b[46];var H=bn(b[4][0].data);{H[7][0].data=Hn(i.e.r+1);var j=bn(H[1][0].data),z=Bl(j[2][0].data);E=Ji.find(c,o[z].location),N=nh(sh(E.content));{if(N[0].id!=z)throw"Bad HeaderStorageBucket";var F=bn(N[0].messages[0].data);for(_=0;_<s.length;++_){var X=bn(F[2][0].data);X[1][0].data=Hn(_),X[4][0].data=Hn(s[_].length),F[2][_]={type:F[2][0].type,data:fl(X)}}N[0].messages[0].data=fl(F)}E.content=jy(Ly(N)),E.size=E.content.length;var J=Bl(H[2][0].data);E=Ji.find(c,o[J].location),N=nh(sh(E.content));{if(N[0].id!=J)throw"Bad HeaderStorageBucket";for(F=bn(N[0].messages[0].data),C=0;C<=i.e.c;++C)X=bn(F[2][0].data),X[1][0].data=Hn(C),X[4][0].data=Hn(i.e.r+1),F[2][C]={type:F[2][0].type,data:fl(X)};N[0].messages[0].data=fl(F)}E.content=jy(Ly(N)),E.size=E.content.length;var U=Bl(H[4][0].data);(function(){for(var Y=Ji.find(c,o[U].location),G=nh(sh(Y.content)),Q,te=0;te<G.length;++te){var le=G[te];le.id==U&&(Q=le)}var Me=bn(Q.messages[0].data);{Me[3]=[];var ve=[];a.forEach(function(xe,Ot){ve[1]=[{type:0,data:Hn(Ot)}],ve[2]=[{type:0,data:Hn(1)}],ve[3]=[{type:2,data:aze(xe)}],Me[3].push({type:2,data:fl(ve)})})}Q.messages[0].data=fl(Me);var Ie=Ly(G),Je=jy(Ie);Y.content=Je,Y.size=Y.content.length})();var W=bn(H[3][0].data);{var re=W[1][0];delete W[2];var Z=bn(re.data);{var Ee=Bl(Z[2][0].data);(function(){for(var Y=Ji.find(c,o[Ee].location),G=nh(sh(Y.content)),Q,te=0;te<G.length;++te){var le=G[te];le.id==Ee&&(Q=le)}var Me=bn(Q.messages[0].data);{delete Me[6],delete W[7];var ve=new Uint8Array(Me[5][0].data);Me[5]=[];for(var Ie=0,Je=0;Je<=i.e.r;++Je){var xe=bn(ve);Ie+=Mze(xe,s[Je],a),xe[1][0].data=Hn(Je),Me[5].push({data:fl(xe),type:2})}Me[1]=[{type:0,data:Hn(i.e.c+1)}],Me[2]=[{type:0,data:Hn(i.e.r+1)}],Me[3]=[{type:0,data:Hn(Ie)}],Me[4]=[{type:0,data:Hn(i.e.r+1)}]}Q.messages[0].data=fl(Me);var Ot=Ly(G),Ge=jy(Ot);Y.content=Ge,Y.size=Y.content.length})()}re.data=fl(Z)}H[3][0].data=fl(W)}b[4][0].data=fl(H)}m.messages[0].data=fl(b);var ae=Ly(p),L=jy(ae);return d.content=L,d.size=d.content.length,c}function rZ(r){return function(e){for(var i=0;i!=r.length;++i){var n=r[i];e[n[0]]===void 0&&(e[n[0]]=n[1]),n[2]==="n"&&(e[n[0]]=Number(e[n[0]]))}}}function Z3(r){rZ([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function e_(r){rZ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function Tze(r){return Fr.WS.indexOf(r)>-1?"sheet":r==Fr.CS?"chart":r==Fr.DS?"dialog":r==Fr.MS?"macro":r&&r.length?r:"sheet"}function bze(r,t){if(!r)return 0;try{r=t.map(function(i){return i.id||(i.id=i.strRelID),[i.name,r["!id"][i.id].Target,Tze(r["!id"][i.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function Dze(r,t,e,i,n,s,a,o,l,c,u,d){try{s[i]=Lw(wu(r,e,!0),t);var p=oo(r,t),m;switch(o){case"sheet":m=q3e(p,t,n,l,s[i],c,u,d);break;case"chart":if(m=Q3e(p,t,n,l,s[i],c,u,d),!m||!m["!drawel"])break;var y=aw(m["!drawel"].Target,t),M=AT(y),w=LOe(wu(r,y,!0),Lw(wu(r,M,!0),y)),b=aw(w,y),D=AT(b);m=M3e(wu(r,b,!0),b,l,Lw(wu(r,D,!0),b),c,m);break;case"macro":m=G3e(p,t,n,l,s[i],c,u,d);break;case"dialog":m=K3e(p,t,n,l,s[i],c,u,d);break;default:throw new Error("Unrecognized sheet type "+o)}a[i]=m;var E=[];s&&s[i]&&Sa(s[i]).forEach(function(N){var B="";if(s[i][N].Type==Fr.CMNT){B=aw(s[i][N].Target,t);var P=Z3e(oo(r,B,!0),B,l);if(!P||!P.length)return;i9(m,P,!1)}s[i][N].Type==Fr.TCMNT&&(B=aw(s[i][N].Target,t),E=E.concat(_Oe(oo(r,B,!0),l)))}),E&&E.length&&i9(m,E,!0,l.people||[])}catch(N){if(l.WTF)throw N}}function eh(r){return r.charAt(0)=="/"?r.slice(1):r}function Eze(r,t){if(rx(),t=t||{},Z3(t),ch(r,"META-INF/manifest.xml")||ch(r,"objectdata.xml"))return f9(r,t);if(ch(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof b5<"u"){if(r.FileIndex)return b5(r);var e=Ji.utils.cfb_new();return bH(r).forEach(function(X){Cr(e,X,zIe(r,X))}),b5(e)}throw new Error("Unsupported NUMBERS file")}if(!ch(r,"[Content_Types].xml"))throw ch(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ch(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var i=bH(r),n=ICe(wu(r,"[Content_Types].xml")),s=!1,a,o;if(n.workbooks.length===0&&(o="xl/workbook.xml",oo(r,o,!0)&&n.workbooks.push(o)),n.workbooks.length===0){if(o="xl/workbook.bin",!oo(r,o,!0))throw new Error("Could not find workbook");n.workbooks.push(o),s=!0}n.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(jw=[],n.sst)try{jw=J3e(oo(r,eh(n.sst)),n.sst,t)}catch(X){if(t.WTF)throw X}t.cellStyles&&n.themes.length&&(l=X3e(wu(r,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(c=$3e(oo(r,eh(n.style)),n.style,l,t))}n.links.map(function(X){try{var J=Lw(wu(r,AT(eh(X))),X);return t_e(oo(r,eh(X)),J,X,t)}catch{}});var u=Y3e(oo(r,eh(n.workbooks[0])),n.workbooks[0],t),d={},p="";n.coreprops.length&&(p=oo(r,eh(n.coreprops[0]),!0),p&&(d=YX(p)),n.extprops.length!==0&&(p=oo(r,eh(n.extprops[0]),!0),p&&zCe(p,d,t)));var m={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(p=wu(r,eh(n.custprops[0]),!0),p&&(m=PCe(p,t)));var y={};if((t.bookSheets||t.bookProps)&&(u.Sheets?a=u.Sheets.map(function(J){return J.name}):d.Worksheets&&d.SheetNames.length>0&&(a=d.SheetNames),t.bookProps&&(y.Props=d,y.Custprops=m),t.bookSheets&&typeof a<"u"&&(y.SheetNames=a),t.bookSheets?y.SheetNames:t.bookProps))return y;a={};var M={};t.bookDeps&&n.calcchain&&(M=e_e(oo(r,eh(n.calcchain)),n.calcchain));var w=0,b={},D,E;{var N=u.Sheets;d.Worksheets=N.length,d.SheetNames=[];for(var B=0;B!=N.length;++B)d.SheetNames[B]=N[B].name}var P=s?"bin":"xml",C=n.workbooks[0].lastIndexOf("/"),k=(n.workbooks[0].slice(0,C+1)+"_rels/"+n.workbooks[0].slice(C+1)+".rels").replace(/^\//,"");ch(r,k)||(k="xl/_rels/workbook."+P+".rels");var _=Lw(wu(r,k,!0),k.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=i_e(oo(r,eh(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=ROe(oo(r,eh(n.people[0])),t)),_&&(_=bze(_,u.Sheets));var H=oo(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=d.Worksheets;++w){var j="sheet";if(_&&_[w]?(D="xl/"+_[w][1].replace(/[\/]?xl\//,""),ch(r,D)||(D=_[w][1]),ch(r,D)||(D=k.replace(/_rels\/.*$/,"")+_[w][1]),j=_[w][2]):(D="xl/worksheets/sheet"+(w+1-H)+"."+P,D=D.replace(/sheet0\./,"sheet.")),E=D.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(w!=t.sheets)continue e;break;case"string":if(d.SheetNames[w].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var z=!1,F=0;F!=t.sheets.length;++F)typeof t.sheets[F]=="number"&&t.sheets[F]==w&&(z=1),typeof t.sheets[F]=="string"&&t.sheets[F].toLowerCase()==d.SheetNames[w].toLowerCase()&&(z=1);if(!z)continue e}}Dze(r,D,E,d.SheetNames[w],w,b,a,j,t,u,l,c)}return y={Directory:n,Workbook:u,Props:d,Custprops:m,Deps:M,Sheets:a,SheetNames:d.SheetNames,Strings:jw,Styles:c,Themes:l,SSF:Qs(ir)},t&&t.bookFiles&&(r.files?(y.keys=i,y.files=r.files):(y.keys=[],y.files={},r.FullPaths.forEach(function(X,J){X=X.replace(/^Root Entry[\/]/,""),y.keys.push(X),y.files[X]=r.FileIndex[J]}))),t&&t.bookVBA&&(n.vba.length>0?y.vbaraw=oo(r,eh(n.vba[0]),!0):n.defaults&&n.defaults.bin===YOe&&(y.vbaraw=oo(r,"xl/vbaProject.bin",!0))),y}function Aze(r,t){var e=t||{},i="Workbook",n=Ji.find(r,i);try{if(i="/!DataSpaces/Version",n=Ji.find(r,i),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+i);if(i5e(n.content),i="/!DataSpaces/DataSpaceMap",n=Ji.find(r,i),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+i);var s=n5e(n.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+i);if(i="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=Ji.find(r,i),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+i);var a=s5e(n.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+i);if(i="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=Ji.find(r,i),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+i);o5e(n.content)}catch{}if(i="/EncryptionInfo",n=Ji.find(r,i),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+i);var o=l5e(n.content);if(i="/EncryptedPackage",n=Ji.find(r,i),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+i);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],n.content,e.password||"",e);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],n.content,e.password||"",e);throw new Error("File is password-protected")}function Sze(r,t){return t.bookType=="ods"?iZ(r,t):t.bookType=="numbers"?wze(r,t):t.bookType=="xlsb"?Nze(r,t):Ize(r,t)}function Nze(r,t){t1=1024,r&&!r.SSF&&(r.SSF=Qs(ir)),r&&r.SSF&&(rx(),VN(r.SSF),t.revssf=WN(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,_w?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e=t.bookType=="xlsb"?"bin":"xml",i=CJ.indexOf(t.bookType)>-1,n=F3();e_(t=t||{});var s=E3(),a="",o=0;if(t.cellXfs=[],Qg(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),a="docProps/core.xml",Cr(s,a,qX(r.Props,t)),n.coreprops.push(a),Wn(t.rels,2,a,Fr.CORE_PROPS),a="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var l=[],c=0;c<r.SheetNames.length;++c)(r.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(r.SheetNames[c]);r.Props.SheetNames=l}for(r.Props.Worksheets=r.Props.SheetNames.length,Cr(s,a,KX(r.Props)),n.extprops.push(a),Wn(t.rels,3,a,Fr.EXT_PROPS),r.Custprops!==r.Props&&Sa(r.Custprops||{}).length>0&&(a="docProps/custom.xml",Cr(s,a,$X(r.Custprops)),n.custprops.push(a),Wn(t.rels,4,a,Fr.CUST_PROPS)),o=1;o<=r.SheetNames.length;++o){var u={"!id":{}},d=r.Sheets[r.SheetNames[o-1]],p=(d||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+e,Cr(s,a,n_e(o-1,a,t,r,u)),n.sheets.push(a),Wn(t.wbrels,-1,"worksheets/sheet"+o+"."+e,Fr.WS[0])}if(d){var m=d["!comments"],y=!1,M="";m&&m.length>0&&(M="xl/comments"+o+"."+e,Cr(s,M,o_e(m,M)),n.comments.push(M),Wn(u,-1,"../comments"+o+"."+e,Fr.CMNT),y=!0),d["!legacy"]&&y&&Cr(s,"xl/drawings/vmlDrawing"+o+".vml",NJ(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&Cr(s,AT(a),w1(u))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+e,Cr(s,a,a_e(t.Strings,a,t)),n.strs.push(a),Wn(t.wbrels,-1,"sharedStrings."+e,Fr.SST)),a="xl/workbook."+e,Cr(s,a,r_e(r,a)),n.workbooks.push(a),Wn(t.rels,1,a,Fr.WB),a="xl/theme/theme1.xml",Cr(s,a,Y3(r.Themes,t)),n.themes.push(a),Wn(t.wbrels,-1,"theme/theme1.xml",Fr.THEME),a="xl/styles."+e,Cr(s,a,s_e(r,a,t)),n.styles.push(a),Wn(t.wbrels,-1,"styles."+e,Fr.STY),r.vbaraw&&i&&(a="xl/vbaProject.bin",Cr(s,a,r.vbaraw),n.vba.push(a),Wn(t.wbrels,-1,"vbaProject.bin",Fr.VBA)),a="xl/metadata."+e,Cr(s,a,l_e(a)),n.metadata.push(a),Wn(t.wbrels,-1,"metadata."+e,Fr.XLMETA),Cr(s,"[Content_Types].xml",HX(n,t)),Cr(s,"_rels/.rels",w1(t.rels)),Cr(s,"xl/_rels/workbook."+e+".rels",w1(t.wbrels)),delete t.revssf,delete t.ssf,s}function Ize(r,t){t1=1024,r&&!r.SSF&&(r.SSF=Qs(ir)),r&&r.SSF&&(rx(),VN(r.SSF),t.revssf=WN(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,_w?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e="xml",i=CJ.indexOf(t.bookType)>-1,n=F3();e_(t=t||{});var s=E3(),a="",o=0;if(t.cellXfs=[],Qg(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),a="docProps/core.xml",Cr(s,a,qX(r.Props,t)),n.coreprops.push(a),Wn(t.rels,2,a,Fr.CORE_PROPS),a="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var l=[],c=0;c<r.SheetNames.length;++c)(r.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(r.SheetNames[c]);r.Props.SheetNames=l}r.Props.Worksheets=r.Props.SheetNames.length,Cr(s,a,KX(r.Props)),n.extprops.push(a),Wn(t.rels,3,a,Fr.EXT_PROPS),r.Custprops!==r.Props&&Sa(r.Custprops||{}).length>0&&(a="docProps/custom.xml",Cr(s,a,$X(r.Custprops)),n.custprops.push(a),Wn(t.rels,4,a,Fr.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=r.SheetNames.length;++o){var d={"!id":{}},p=r.Sheets[r.SheetNames[o-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+e,Cr(s,a,UJ(o-1,t,r,d)),n.sheets.push(a),Wn(t.wbrels,-1,"worksheets/sheet"+o+"."+e,Fr.WS[0])}if(p){var y=p["!comments"],M=!1,w="";if(y&&y.length>0){var b=!1;y.forEach(function(D){D[1].forEach(function(E){E.T==!0&&(b=!0)})}),b&&(w="xl/threadedComments/threadedComment"+o+"."+e,Cr(s,w,zOe(y,u,t)),n.threadedcomments.push(w),Wn(d,-1,"../threadedComments/threadedComment"+o+"."+e,Fr.TCMNT)),w="xl/comments"+o+"."+e,Cr(s,w,IJ(y)),n.comments.push(w),Wn(d,-1,"../comments"+o+"."+e,Fr.CMNT),M=!0}p["!legacy"]&&M&&Cr(s,"xl/drawings/vmlDrawing"+o+".vml",NJ(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}d["!id"].rId1&&Cr(s,AT(a),w1(d))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+e,Cr(s,a,gJ(t.Strings,t)),n.strs.push(a),Wn(t.wbrels,-1,"sharedStrings."+e,Fr.SST)),a="xl/workbook."+e,Cr(s,a,qJ(r)),n.workbooks.push(a),Wn(t.rels,1,a,Fr.WB),a="xl/theme/theme1.xml",Cr(s,a,Y3(r.Themes,t)),n.themes.push(a),Wn(t.wbrels,-1,"theme/theme1.xml",Fr.THEME),a="xl/styles."+e,Cr(s,a,DJ(r,t)),n.styles.push(a),Wn(t.wbrels,-1,"styles."+e,Fr.STY),r.vbaraw&&i&&(a="xl/vbaProject.bin",Cr(s,a,r.vbaraw),n.vba.push(a),Wn(t.wbrels,-1,"vbaProject.bin",Fr.VBA)),a="xl/metadata."+e,Cr(s,a,SJ()),n.metadata.push(a),Wn(t.wbrels,-1,"metadata."+e,Fr.XLMETA),u.length>1&&(a="xl/persons/person.xml",Cr(s,a,POe(u)),n.people.push(a),Wn(t.wbrels,-1,"persons/person.xml",Fr.PEOPLE)),Cr(s,"[Content_Types].xml",HX(n,t)),Cr(s,"_rels/.rels",w1(t.rels)),Cr(s,"xl/_rels/workbook."+e+".rels",w1(t.wbrels)),delete t.revssf,delete t.ssf,s}function t_(r,t){var e="";switch((t||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":e=Nu(r.slice(0,12));break;case"binary":e=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}function Cze(r,t){return Ji.find(r,"EncryptedPackage")?Aze(r,t):$J(r,t)}function Oze(r,t){var e,i=r,n=t||{};return n.type||(n.type=jr&&Buffer.isBuffer(r)?"buffer":"base64"),e=yX(i,n),Eze(e,n)}function nZ(r,t){var e=0;e:for(;e<r.length;)switch(r.charCodeAt(e)){case 10:case 13:case 32:++e;break;case 60:return Pk(r.slice(e),t);default:break e}return Y1.to_workbook(r,t)}function kze(r,t){var e="",i=t_(r,t);switch(t.type){case"base64":e=Nu(r);break;case"binary":e=r;break;case"buffer":e=r.toString("binary");break;case"array":e=gv(r);break;default:throw new Error("Unrecognized type "+t.type)}return i[0]==239&&i[1]==187&&i[2]==191&&(e=us(e)),t.type="binary",nZ(e,t)}function Lze(r,t){var e=r;return t.type=="base64"&&(e=Nu(e)),e=MT.utils.decode(1200,e.slice(2),"str"),t.type="binary",nZ(e,t)}function jze(r){return r.match(/[^\x00-\x7F]/)?nf(r):r}function D5(r,t,e,i){return i?(e.type="string",Y1.to_workbook(r,e)):Y1.to_workbook(t,e)}function FS(r,t){M3();var e=t||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return FS(new Uint8Array(r),(e=Qs(e),e.type="array",e));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!e.type&&(e.type=typeof Deno<"u"?"buffer":"array");var i=r,n=[0,0,0,0],s=!1;if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),b1={},e.dateNF&&(b1.dateNF=e.dateNF),e.type||(e.type=jr&&Buffer.isBuffer(r)?"buffer":"base64"),e.type=="file"&&(e.type=jr?"buffer":"binary",i=NIe(r),typeof Uint8Array<"u"&&!jr&&(e.type="array")),e.type=="string"&&(s=!0,e.type="binary",e.codepage=65001,i=jze(r)),e.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return e=Qs(e),e.type="array",FS(w3(i),e)}switch((n=t_(i,e))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return Cze(Ji.read(i,e),e);break;case 9:if(n[1]<=8)return $J(i,e);break;case 60:return Pk(i,e);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return F4e(i,e);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return pJ.to_workbook(i,e);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?Oze(i,e):D5(r,i,e,s);case 239:return n[3]===60?Pk(i,e):D5(r,i,e,s);case 255:if(n[1]===254)return Lze(i,e);if(n[1]===0&&n[2]===2&&n[3]===0)return J0.to_workbook(i,e);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return J0.to_workbook(i,e);break;case 3:case 131:case 139:case 140:return Rk.to_workbook(i,e);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return wJ.to_workbook(i,e);break;case 10:case 13:case 32:return kze(i,e);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return P4e.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?Rk.to_workbook(i,e):D5(r,i,e,s)}function sZ(r,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return cb(t.file,Ji.write(r,{type:jr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Ji.write(r,t)}function _ze(r,t){var e=Qs(t||{}),i=Sze(r,e);return zze(i,e)}function zze(r,t){var e={},i=jr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(e.compression="DEFLATE"),t.password)e.type=i;else switch(t.type){case"base64":e.type="base64";break;case"binary":e.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":e.type=i;break;default:throw new Error("Unrecognized type "+t.type)}var n=r.FullPaths?Ji.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[e.type]||e.type,compression:!!t.compression}):r.generate(e);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(UN(n))}return t.password&&typeof encrypt_agile<"u"?sZ(encrypt_agile(n,t.password),t):t.type==="file"?cb(t.file,n):t.type=="string"?us(n):n}function Rze(r,t){var e=t||{},i=j_e(r,e);return sZ(i,e)}function Yd(r,t,e){e||(e="");var i=e+r;switch(t.type){case"base64":return wT(nf(i));case"binary":return nf(i);case"string":return r;case"file":return cb(t.file,i,"utf8");case"buffer":return jr?Xp(i,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(i):Yd(i,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Pze(r,t){switch(t.type){case"base64":return wT(r);case"binary":return r;case"string":return r;case"file":return cb(t.file,r,"binary");case"buffer":return jr?Xp(r,"binary"):r.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function RE(r,t){switch(t.type){case"string":case"base64":case"binary":for(var e="",i=0;i<r.length;++i)e+=String.fromCharCode(r[i]);return t.type=="base64"?wT(e):t.type=="string"?us(e):e;case"file":return cb(t.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+t.type)}}function aZ(r,t){M3(),C3e(r);var e=Qs(t||{});if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),e.type=="array"){e.type="binary";var i=aZ(r,e);return e.type="array",UN(i)}var n=0;if(e.sheet&&(typeof e.sheet=="number"?n=e.sheet:n=r.SheetNames.indexOf(e.sheet),!r.SheetNames[n]))throw new Error("Sheet not found: "+e.sheet+" : "+typeof e.sheet);switch(e.bookType||"xlsb"){case"xml":case"xlml":return Yd(S_e(r,e),e);case"slk":case"sylk":return Yd(fJ.from_sheet(r.Sheets[r.SheetNames[n]],e),e);case"htm":case"html":return Yd(JJ(r.Sheets[r.SheetNames[n]],e),e);case"txt":return Pze(oZ(r.Sheets[r.SheetNames[n]],e),e);case"csv":return Yd(i_(r.Sheets[r.SheetNames[n]],e),e,"\uFEFF");case"dif":return Yd(pJ.from_sheet(r.Sheets[r.SheetNames[n]],e),e);case"dbf":return RE(Rk.from_sheet(r.Sheets[r.SheetNames[n]],e),e);case"prn":return Yd(Y1.from_sheet(r.Sheets[r.SheetNames[n]],e),e);case"rtf":return Yd(wJ.from_sheet(r.Sheets[r.SheetNames[n]],e),e);case"eth":return Yd(mJ.from_sheet(r.Sheets[r.SheetNames[n]],e),e);case"fods":return Yd(iZ(r,e),e);case"wk1":return RE(J0.sheet_to_wk1(r.Sheets[r.SheetNames[n]],e),e);case"wk3":return RE(J0.book_to_wk3(r,e),e);case"biff2":e.biff||(e.biff=2);case"biff3":e.biff||(e.biff=3);case"biff4":return e.biff||(e.biff=4),RE(XJ(r,e),e);case"biff5":e.biff||(e.biff=5);case"biff8":case"xla":case"xls":return e.biff||(e.biff=8),Rze(r,e);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return _ze(r,e);default:throw new Error("Unrecognized bookType |"+e.bookType+"|")}}function Fze(r){if(!r.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},e=r.file.slice(r.file.lastIndexOf(".")).toLowerCase();e.match(/^\.[a-z]+$/)&&(r.bookType=e.slice(1)),r.bookType=t[r.bookType]||r.bookType}}function Bze(r,t,e){var i={};return i.type="file",i.file=t,Fze(i),aZ(r,i)}function Uze(r,t,e,i,n,s,a,o){var l=Qa(e),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,p=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:e,enumerable:!1})}catch{p.__rowNum__=e}else p.__rowNum__=e;if(!a||r[e])for(var m=t.s.c;m<=t.e.c;++m){var y=a?r[e][m]:r[i[m]+l];if(y===void 0||y.t===void 0){if(c===void 0)continue;s[m]!=null&&(p[s[m]]=c);continue}var M=y.v;switch(y.t){case"z":if(M==null)break;continue;case"e":M=M==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[m]!=null){if(M==null)if(y.t=="e"&&M===null)p[s[m]]=null;else if(c!==void 0)p[s[m]]=c;else if(u&&M===null)p[s[m]]=null;else continue;else p[s[m]]=u&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?M:Kp(y,M,o);M!=null&&(d=!1)}}return{row:p,isempty:d}}function BS(r,t){if(r==null||r["!ref"]==null)return[];var e={t:"n",v:0},i=0,n=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:r["!ref"];switch(c.header===1?i=1:c.header==="A"?i=2:Array.isArray(c.header)?i=3:c.header==null&&(i=0),typeof u){case"string":l=xn(u);break;case"number":l=xn(r["!ref"]),l.s.r=u;break;default:l=u}i>0&&(n=0);var d=Qa(l.s.r),p=[],m=[],y=0,M=0,w=Array.isArray(r),b=l.s.r,D=0,E={};w&&!r[b]&&(r[b]=[]);var N=c.skipHidden&&r["!cols"]||[],B=c.skipHidden&&r["!rows"]||[];for(D=l.s.c;D<=l.e.c;++D)if(!(N[D]||{}).hidden)switch(p[D]=ua(D),e=w?r[b][D]:r[p[D]+d],i){case 1:s[D]=D-l.s.c;break;case 2:s[D]=p[D];break;case 3:s[D]=c.header[D-l.s.c];break;default:if(e==null&&(e={w:"__EMPTY",t:"s"}),o=a=Kp(e,null,c),M=E[a]||0,!M)E[a]=1;else{do o=a+"_"+M++;while(E[o]);E[a]=M,E[o]=1}s[D]=o}for(b=l.s.r+n;b<=l.e.r;++b)if(!(B[b]||{}).hidden){var P=Uze(r,l,b,p,i,s,w,c);(P.isempty===!1||(i===1?c.blankrows!==!1:c.blankrows))&&(m[y++]=P.row)}return m.length=y,m}var y9=/"/g;function Vze(r,t,e,i,n,s,a,o){for(var l=!0,c=[],u="",d=Qa(e),p=t.s.c;p<=t.e.c;++p)if(i[p]){var m=o.dense?(r[e]||[])[p]:r[i[p]+d];if(m==null)u="";else if(m.v!=null){l=!1,u=""+(o.rawNumbers&&m.t=="n"?m.v:Kp(m,null,o));for(var y=0,M=0;y!==u.length;++y)if((M=u.charCodeAt(y))===n||M===s||M===34||o.forceQuotes){u='"'+u.replace(y9,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(l=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(y9,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function i_(r,t){var e=[],i=t??{};if(r==null||r["!ref"]==null)return"";var n=xn(r["!ref"]),s=i.FS!==void 0?i.FS:",",a=s.charCodeAt(0),o=i.RS!==void 0?i.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",d=[];i.dense=Array.isArray(r);for(var p=i.skipHidden&&r["!cols"]||[],m=i.skipHidden&&r["!rows"]||[],y=n.s.c;y<=n.e.c;++y)(p[y]||{}).hidden||(d[y]=ua(y));for(var M=0,w=n.s.r;w<=n.e.r;++w)(m[w]||{}).hidden||(u=Vze(r,n,w,d,a,l,s,i),u!=null&&(i.strip&&(u=u.replace(c,"")),(u||i.blankrows!==!1)&&e.push((M++?o:"")+u)));return delete i.dense,e.join("")}function oZ(r,t){t||(t={}),t.FS="	",t.RS=`
`;var e=i_(r,t);return e}function Hze(r){var t="",e,i="";if(r==null||r["!ref"]==null)return[];var n=xn(r["!ref"]),s="",a=[],o,l=[],c=Array.isArray(r);for(o=n.s.c;o<=n.e.c;++o)a[o]=ua(o);for(var u=n.s.r;u<=n.e.r;++u)for(s=Qa(u),o=n.s.c;o<=n.e.c;++o)if(t=a[o]+s,e=c?(r[u]||[])[o]:r[t],i="",e!==void 0){if(e.F!=null){if(t=e.F,!e.f)continue;i=e.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(e.f!=null)i=e.f;else{if(e.t=="z")continue;if(e.t=="n"&&e.v!=null)i=""+e.v;else if(e.t=="b")i=e.v?"TRUE":"FALSE";else if(e.w!==void 0)i="'"+e.w;else{if(e.v===void 0)continue;e.t=="s"?i="'"+e.v:i=""+e.v}}l[l.length]=t+"="+i}return l}function lZ(r,t,e){var i=e||{},n=+!i.skipHeader,s=r||{},a=0,o=0;if(s&&i.origin!=null)if(typeof i.origin=="number")a=i.origin;else{var l=typeof i.origin=="string"?ha(i.origin):i.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+t.length-1+n}};if(s["!ref"]){var d=xn(s["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),a==-1&&(a=d.e.r+1,u.e.r=a+t.length-1+n)}else a==-1&&(a=0,u.e.r=t.length-1+n);var p=i.header||[],m=0;t.forEach(function(M,w){Sa(M).forEach(function(b){(m=p.indexOf(b))==-1&&(p[m=p.length]=b);var D=M[b],E="z",N="",B=sr({c:o+m,r:a+w+n});c=LT(s,B),D&&typeof D=="object"&&!(D instanceof Date)?s[B]=D:(typeof D=="number"?E="n":typeof D=="boolean"?E="b":typeof D=="string"?E="s":D instanceof Date?(E="d",i.cellDates||(E="n",D=ko(D)),N=i.dateNF||ir[14]):D===null&&i.nullError&&(E="e",D=0),c?(c.t=E,c.v=D,delete c.w,delete c.R,N&&(c.z=N)):s[B]=c={t:E,v:D},N&&(c.z=N))})}),u.e.c=Math.max(u.e.c,o+p.length-1);var y=Qa(a);if(n)for(m=0;m<p.length;++m)s[ua(m+o)+y]={t:"s",v:p[m]};return s["!ref"]=Ar(u),s}function Wze(r,t){return lZ(null,r,t)}function LT(r,t,e){if(typeof t=="string"){if(Array.isArray(r)){var i=ha(t);return r[i.r]||(r[i.r]=[]),r[i.r][i.c]||(r[i.r][i.c]={t:"z"})}return r[t]||(r[t]={t:"z"})}return typeof t!="number"?LT(r,sr(t)):LT(r,sr({r:t,c:e||0}))}function Yze(r,t){if(typeof t=="number"){if(t>=0&&r.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var e=r.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function r_(){return{SheetNames:[],Sheets:{}}}function n_(r,t,e,i){var n=1;if(!e)for(;n<=65535&&r.SheetNames.indexOf(e="Sheet"+n)!=-1;++n,e=void 0);if(!e||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&r.SheetNames.indexOf(e)>=0){var s=e.match(/(^.*?)(\d+)$/);n=s&&+s[2]||0;var a=s&&s[1]||e;for(++n;n<=65535&&r.SheetNames.indexOf(e=a+n)!=-1;++n);}if(YJ(e),r.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return r.SheetNames.push(e),r.Sheets[e]=t,e}function qze(r,t,e){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var i=Yze(r,t);switch(r.Workbook.Sheets[i]||(r.Workbook.Sheets[i]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}r.Workbook.Sheets[i].Hidden=e}function Qze(r,t){return r.z=t,r}function cZ(r,t,e){return t?(r.l={Target:t},e&&(r.l.Tooltip=e)):delete r.l,r}function Gze(r,t,e){return cZ(r,"#"+t,e)}function Kze(r,t,e){r.c||(r.c=[]),r.c.push({t,a:e||"SheetJS"})}function $ze(r,t,e,i){for(var n=typeof t!="string"?t:xn(t),s=typeof t=="string"?t:Ar(t),a=n.s.r;a<=n.e.r;++a)for(var o=n.s.c;o<=n.e.c;++o){var l=LT(r,a,o);l.t="n",l.F=s,delete l.v,a==n.s.r&&o==n.s.c&&(l.f=e,i&&(l.D=!0))}return r}var qM={encode_col:ua,encode_row:Qa,encode_cell:sr,encode_range:Ar,decode_col:L3,decode_row:k3,split_cell:aCe,decode_cell:ha,decode_range:tu,format_cell:Kp,sheet_add_aoa:zX,sheet_add_json:lZ,sheet_add_dom:ZJ,aoa_to_sheet:nx,json_to_sheet:Wze,table_to_sheet:eZ,table_to_book:ize,sheet_to_csv:i_,sheet_to_txt:oZ,sheet_to_json:BS,sheet_to_html:JJ,sheet_to_formulae:Hze,sheet_to_row_object_array:BS,sheet_get_cell:LT,book_new:r_,book_append_sheet:n_,book_set_sheet_visibility:qze,cell_set_number_format:Qze,cell_set_hyperlink:cZ,cell_set_internal_link:Gze,cell_add_comment:Kze,sheet_set_array_formula:$ze,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Xze={admin:"admin",administrator:"admin",supervisor:"supervisor",manager:"supervisor",technician:"field_tech","field technician":"field_tech","field tech":"field_tech",tech:"field_tech"},Jze=()=>{const{userProfile:r}=vf(),[t,e]=ce.useState(!1),[i,n]=ce.useState(null),[s,a]=ce.useState(null),[o,l]=ce.useState(null),c=mf.useCallback(b=>{if(b.length>0){const D=b[0];n(D);const E=new FileReader;E.onload=N=>{try{const B=new Uint8Array(N.target.result),P=FS(B,{type:"array"}),C=P.Sheets[P.SheetNames[0]],k=qM.sheet_to_json(C);a({headers:Object.keys(k[0]||{}),rows:k.slice(0,5),totalRows:k.length})}catch{mt.error("Failed to read file. Please ensure it's a valid Excel or CSV file.")}},E.readAsArrayBuffer(D)}},[]),{getRootProps:u,getInputProps:d,isDragActive:p}=Cj({onDrop:c,accept:{"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/vnd.ms-excel":[".xls"],"text/csv":[".csv"]},multiple:!1}),m=b=>{const D=b.toLowerCase().trim();return Xze[D]||"field_tech"},y=async()=>{if(!i||!r?.companyId){mt.error("Please select a file and ensure you have a company");return}e(!0);const b={total:0,successful:0,failed:0,errors:[]};try{const D=new FileReader;D.onload=async E=>{try{const N=new Uint8Array(E.target.result),B=FS(N,{type:"array"}),P=B.Sheets[B.SheetNames[0]],C=qM.sheet_to_json(P);b.total=C.length;for(let k=0;k<C.length;k++){const _=C[k],H=_.email||_.Email||_.EMAIL||"",j=_.name||_.Name||_.NAME||"",z=m(_.role||_.Role||_.ROLE||"field_tech");if(!H||!H.includes("@")){b.failed++,b.errors.push({row:k+2,email:H||"(missing)",error:"Invalid or missing email address"});continue}if(!j){b.failed++,b.errors.push({row:k+2,email:H,error:"Missing name"});continue}try{const F=await rw.createInvitation(r.companyId,H,z,r.id);if(F.success){b.successful++;try{await M(F.invitation)}catch(X){console.error("Email send failed for",H,X)}}else b.failed++,b.errors.push({row:k+2,email:H,error:F.error||"Failed to create invitation"})}catch(F){b.failed++,b.errors.push({row:k+2,email:H,error:F.message||"Unknown error"})}k%10===0&&k>0&&await new Promise(F=>setTimeout(F,100))}l(b),mt.success(`Import complete: ${b.successful} successful, ${b.failed} failed`)}catch(N){console.error("Error processing file:",N),mt.error("Failed to process file")}finally{e(!1)}},D.readAsArrayBuffer(i)}catch(D){console.error("Error reading file:",D),mt.error("Failed to read file"),e(!1)}},M=async b=>{try{const E="https://us-central1-mi-factotum-field-service.cloudfunctions.net/sendInvitationEmail",N=await wl.currentUser?.getIdToken();await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({invitationId:b.id,email:b.email,companyName:b.companyName,invitationCode:b.invitationCode,role:b.role,expiresAt:b.expiresAt})})}catch(D){console.error("Error sending invitation email:",D)}},w=()=>{const b=[{email:"user@example.com",name:"John Doe",role:"field_tech"}],D=qM.json_to_sheet(b),E=qM.book_new();qM.book_append_sheet(E,D,"Users"),Bze(E,"bulk_import_template.xlsx")};return r?.companyId?x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bulk Import Users"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Import multiple team members from Excel or CSV file"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[x.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload File"}),x.jsxs("div",{...u(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${p?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"}`,children:[x.jsx("input",{...d()}),x.jsx(dG,{className:"mx-auto h-12 w-12 text-gray-400"}),x.jsx("p",{className:"mt-2 text-sm text-gray-600",children:p?"Drop the file here":"Drag and drop a file here, or click to select"}),x.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Supports .xlsx, .xls, and .csv files"})]}),i&&x.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.name}),x.jsxs("p",{className:"text-xs text-gray-500",children:[(i.size/1024).toFixed(2)," KB"]})]}),s&&x.jsxs("div",{className:"mt-4",children:[x.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Preview (",s.totalRows," total rows, showing first 5):"]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full text-xs border border-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsx("tr",{children:s.headers.map((b,D)=>x.jsx("th",{className:"px-2 py-1 border border-gray-200 text-left",children:b},D))})}),x.jsx("tbody",{children:s.rows.map((b,D)=>x.jsx("tr",{children:s.headers.map((E,N)=>x.jsx("td",{className:"px-2 py-1 border border-gray-200",children:b[E]||""},N))},D))})]})})]}),x.jsxs("div",{className:"mt-6 flex space-x-3",children:[x.jsx("button",{onClick:w,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Download Template"}),x.jsx("button",{onClick:y,disabled:!i||t,className:"flex-1 px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Processing...":"Import Users"})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[x.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"File Format"}),x.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[x.jsx("p",{children:"Your file should include the following columns:"}),x.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[x.jsxs("li",{children:[x.jsx("strong",{children:"email"})," (required) - User's email address"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"name"})," (required) - User's full name"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"role"})," (optional) - admin, supervisor, or field_tech (default)"]})]}),x.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-md",children:x.jsxs("p",{className:"text-xs text-blue-800",children:[x.jsx("strong",{children:"Note:"})," Invitations will be created for each user and emails will be sent automatically. Users will need to sign up and use the invitation code to join your company."]})})]})]}),o&&x.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[x.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Import Results"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"Total rows:"}),x.jsx("span",{className:"text-sm font-medium",children:o.total})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("span",{className:"text-sm text-gray-600 flex items-center",children:[x.jsx(Ig,{className:"w-5 h-5 text-green-500 mr-2"}),"Successful:"]}),x.jsx("span",{className:"text-sm font-medium text-green-600",children:o.successful})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("span",{className:"text-sm text-gray-600 flex items-center",children:[x.jsx(yw,{className:"w-5 h-5 text-red-500 mr-2"}),"Failed:"]}),x.jsx("span",{className:"text-sm font-medium text-red-600",children:o.failed})]}),o.errors.length>0&&x.jsxs("div",{className:"mt-4",children:[x.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Errors:"}),x.jsxs("div",{className:"max-h-48 overflow-y-auto space-y-1",children:[o.errors.slice(0,10).map((b,D)=>x.jsxs("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:["Row ",b.row,": ",b.email," - ",b.error]},D)),o.errors.length>10&&x.jsxs("p",{className:"text-xs text-gray-500",children:["...and ",o.errors.length-10," more errors"]})]})]})]})]})]})]})]}):x.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:x.jsx("div",{className:"text-center",children:x.jsx("p",{className:"text-gray-500",children:"Please set up your company first."})})})},Zze=()=>{const{userProfile:r,isSuperAdmin:t}=vf(),[e,i]=ce.useState(""),[n,s]=ce.useState([]),[a,o]=ce.useState(!1),[l,c]=ce.useState([]);ce.useEffect(()=>{t&&u()},[t]);const u=async()=>{},d=async()=>{if(!e.trim()){mt.error("Please enter a search term");return}o(!0);try{if(e.length===6&&/^[A-Z0-9]{6}$/i.test(e)){const m=await $o.getCompanyByCode(e.toUpperCase());m.success?s([m.company]):(s([]),mt.error("Company not found with this code")),o(!1);return}t?(mt.info("Company name search coming soon. Use company code for now."),s([])):(mt.error("Please enter a valid 6-character company code"),s([]))}catch(m){console.error("Error searching companies:",m),mt.error("Failed to search companies"),s([])}finally{o(!1)}},p=m=>{m.key==="Enter"&&d()};return x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Company Search"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t?"Search for companies by name or code":"Search for companies by code to join"})]}),x.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:x.jsxs("div",{className:"flex space-x-3",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx(eb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),x.jsx("input",{type:"text",value:e,onChange:m=>i(m.target.value),onKeyPress:p,placeholder:t?"Enter company name or code":"Enter 6-character company code",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),x.jsx("button",{onClick:d,disabled:a||!e.trim(),className:"px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Searching...":"Search"})]})}),n.length>0&&x.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[x.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:x.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Search Results (",n.length,")"]})}),x.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(m=>x.jsx("li",{className:"px-6 py-4 hover:bg-gray-50",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(lv,{className:"h-10 w-10 text-primary-500 mr-4"}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:m.name}),x.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-gray-500",children:[x.jsxs("span",{children:["Code: ",m.code]}),m.email&&x.jsx("span",{children:m.email}),m.phone&&x.jsx("span",{children:m.phone})]}),m.address&&x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:m.address})]})]}),t&&x.jsx("button",{onClick:()=>{mt.info("Company management coming soon")},className:"px-4 py-2 text-sm font-medium text-primary-600 hover:text-primary-800",children:"View Details"})]})},m.id))})]}),!a&&n.length===0&&e&&x.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[x.jsx(lv,{className:"mx-auto h-12 w-12 text-gray-400"}),x.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No companies found"}),x.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try a different search term or check the company code"})]}),!e&&x.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[x.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"How to search:"}),x.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-blue-800",children:[x.jsx("li",{children:"Enter a 6-character company code for exact match"}),t&&x.jsx("li",{children:"Company name search coming soon"}),x.jsx("li",{children:"Company codes are case-insensitive"})]})]})]})},th=({children:r})=>{const{userProfile:t,logout:e,isSuperAdmin:i}=vf(),n=wv(),[s,a]=ce.useState(!1),o=[{name:"Dashboard",href:"/",icon:F0e},{name:"Company Setup",href:"/company-setup",icon:lv},{name:"Invitations",href:"/invitations",icon:L0e,adminOnly:!0},{name:"Bulk Import",href:"/bulk-import",icon:dG,adminOnly:!0},{name:"Company Search",href:"/company-search",icon:eb},{name:"Customers",href:"/customers",icon:Lp},{name:"Estimate Templates",href:"/estimate-templates",icon:td},{name:"Jobs",href:"/jobs",icon:Y0},{name:"Recurring Jobs",href:"/recurring-jobs",icon:xg},{name:"Invoices",href:"/invoices",icon:X0e},{name:"Calendar",href:"/calendar",icon:iT},{name:"Reports",href:"/reports",icon:l1}],l=t?.role==="admin"||i,c=o.filter(d=>!(d.adminOnly&&!l)),u=d=>n.pathname===d;return x.jsxs("div",{className:"min-h-screen bg-gray-50",children:[x.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${s?"block":"hidden"}`,children:[x.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>a(!1)}),x.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white shadow-xl",children:[x.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-lg flex items-center justify-center",children:x.jsx("span",{className:"text-white font-bold text-sm",children:"MF"})})}),x.jsx("div",{className:"ml-3",children:x.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Route Logistics"})})]}),x.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600",onClick:()=>a(!1),children:x.jsx(HA,{className:"h-6 w-6"})})]}),x.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:c.map(d=>{const p=d.icon;return x.jsxs(ev,{to:d.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${u(d.href)?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>a(!1),children:[x.jsx(p,{className:"mr-3 h-5 w-5 flex-shrink-0"}),d.name]},d.name)})}),x.jsxs("div",{className:"border-t border-gray-200 p-4",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center",children:x.jsx("span",{className:"text-gray-600 font-medium text-sm",children:t?.name?.charAt(0)||"U"})})}),x.jsxs("div",{className:"ml-3",children:[x.jsx("p",{className:"text-sm font-medium text-gray-700",children:t?.name||"User"}),x.jsx("p",{className:"text-xs text-gray-500",children:t?.email})]})]}),x.jsx("button",{onClick:e,className:"mt-3 w-full text-left px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-md transition-colors",children:"Sign out"})]})]})]}),x.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:x.jsxs("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200",children:[x.jsx("div",{className:"flex h-16 items-center px-4",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-8 w-8 bg-primary-500 rounded-lg flex items-center justify-center",children:x.jsx("span",{className:"text-white font-bold text-sm",children:"MF"})})}),x.jsx("div",{className:"ml-3",children:x.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Route Logistics"})})]})}),x.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1",children:c.map(d=>{const p=d.icon;return x.jsxs(ev,{to:d.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${u(d.href)?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[x.jsx(p,{className:"mr-3 h-5 w-5 flex-shrink-0"}),d.name]},d.name)})}),x.jsxs("div",{className:"border-t border-gray-200 p-4",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center",children:x.jsx("span",{className:"text-gray-600 font-medium text-sm",children:t?.name?.charAt(0)||"U"})})}),x.jsxs("div",{className:"ml-3",children:[x.jsx("p",{className:"text-sm font-medium text-gray-700",children:t?.name||"User"}),x.jsx("p",{className:"text-xs text-gray-500",children:t?.email})]})]}),x.jsx("button",{onClick:e,className:"mt-3 w-full text-left px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-md transition-colors",children:"Sign out"})]})]})}),x.jsxs("div",{className:"lg:pl-64",children:[x.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[x.jsx("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>a(!0),children:x.jsx(y0e,{className:"h-6 w-6"})}),x.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[x.jsx("div",{className:"flex flex-1"}),x.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[x.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200"}),x.jsxs("div",{className:"flex items-center gap-x-2",children:[x.jsx("span",{className:"text-sm text-gray-500",children:"Welcome back,"}),x.jsx("span",{className:"text-sm font-medium text-gray-900",children:t?.name||"User"})]})]})]})]}),x.jsx("main",{className:"py-6",children:x.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:r})})]})]})},ih=({children:r})=>{const{currentUser:t,loading:e,needsCompanySetup:i,isSuperAdmin:n}=vf(),s=wv();return e?x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):t?i&&s.pathname!=="/company-setup"?x.jsx(A5,{to:"/company-setup",replace:!0}):r:x.jsx(A5,{to:"/login",replace:!0})};ine("ORg4AjUWIQA/Gnt3VVhhQlJDfV5AQmBIYVp/TGpJfl96cVxMZVVBJAtUQF1hTH5bd0diUX1WcnNQT2lVWkd2");const eRe=new eie({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function tRe(){return x.jsx(rre,{children:x.jsx(iie,{client:eRe,children:x.jsx(tfe,{children:x.jsx(Ete,{children:x.jsxs("div",{className:"min-h-screen bg-gray-50",children:[x.jsxs(yte,{children:[x.jsx(Rl,{path:"/login",element:x.jsx(lve,{})}),x.jsx(Rl,{path:"/signup",element:x.jsx(uve,{})}),x.jsx(Rl,{path:"/",element:x.jsx(ih,{children:x.jsx(th,{children:x.jsx(ove,{})})})}),x.jsx(Rl,{path:"/company-setup",element:x.jsx(ih,{children:x.jsx(th,{children:x.jsx(hye,{})})})}),x.jsx(Rl,{path:"/customers",element:x.jsx(ih,{children:x.jsx(th,{children:x.jsx(fye,{})})})}),x.jsx(Rl,{path:"/estimate-templates",element:x.jsx(ih,{children:x.jsx(th,{children:x.jsx(pye,{})})})}),x.jsx(Rl,{path:"/jobs",element:x.jsx(ih,{children:x.jsx(th,{children:x.jsx(mye,{})})})}),x.jsx(Rl,{path:"/reports",element:x.jsx(ih,{children:x.jsx(th,{children:x.jsx(gye,{})})})}),x.jsx(Rl,{path:"/calendar",element:x.jsx(ih,{children:x.jsx(th,{children:x.jsx(yEe,{})})})}),x.jsx(Rl,{path:"/invoices",element:x.jsx(ih,{children:x.jsx(th,{children:x.jsx(QNe,{})})})}),x.jsx(Rl,{path:"/recurring-jobs",element:x.jsx(ih,{children:x.jsx(th,{children:x.jsx(GNe,{})})})}),x.jsx(Rl,{path:"/invitations",element:x.jsx(ih,{children:x.jsx(th,{children:x.jsx(KNe,{})})})}),x.jsx(Rl,{path:"/bulk-import",element:x.jsx(ih,{children:x.jsx(th,{children:x.jsx(Jze,{})})})}),x.jsx(Rl,{path:"/company-search",element:x.jsx(ih,{children:x.jsx(th,{children:x.jsx(Zze,{})})})}),x.jsx(Rl,{path:"*",element:x.jsx(A5,{to:"/",replace:!0})})]}),x.jsx(Wie,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#10b981"}},error:{style:{background:"#ef4444"}}}})]})})})})})}See.createRoot(document.getElementById("root")).render(x.jsx(ce.StrictMode,{children:x.jsx(tRe,{})}));export{Qn as _,iRe as c,Uk as g};
